var rX=Object.defineProperty;var _Z=t=>{throw TypeError(t)};var oX=(t,e,n)=>e in t?rX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var te=(t,e,n)=>oX(t,typeof e!="symbol"?e+"":e,n),x0=(t,e,n)=>e.has(t)||_Z("Cannot "+n);var y=(t,e,n)=>(x0(t,e,"read from private field"),n?n.call(t):e.get(t)),q=(t,e,n)=>e.has(t)?_Z("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),v=(t,e,n,a)=>(x0(t,e,"write to private field"),a?a.call(t,n):e.set(t,n),n),ce=(t,e,n)=>(x0(t,e,"access private method"),n);var Ud=(t,e,n,a)=>({set _(s){v(t,e,s,n)},get _(){return y(t,e,a)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function lX(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Noe(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var s=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return t[a]}})}),n}var N0={exports:{}},Dd={},H0={exports:{}},et={},qZ;function cX(){if(qZ)return et;qZ=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),p=Symbol.iterator;function A(E){return E===null||typeof E!="object"?null:(E=p&&E[p]||E["@@iterator"],typeof E=="function"?E:null)}var Z={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,B={};function V(E,_,be){this.props=E,this.context=_,this.refs=B,this.updater=be||Z}V.prototype.isReactComponent={},V.prototype.setState=function(E,_){if(typeof E!="object"&&typeof E!="function"&&E!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,E,_,"setState")},V.prototype.forceUpdate=function(E){this.updater.enqueueForceUpdate(this,E,"forceUpdate")};function W(){}W.prototype=V.prototype;function Y(E,_,be){this.props=E,this.context=_,this.refs=B,this.updater=be||Z}var R=Y.prototype=new W;R.constructor=Y,S(R,V.prototype),R.isPureReactComponent=!0;var x=Array.isArray,M=Object.prototype.hasOwnProperty,D={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function z(E,_,be){var ye,ue={},Se=null,Ke=null;if(_!=null)for(ye in _.ref!==void 0&&(Ke=_.ref),_.key!==void 0&&(Se=""+_.key),_)M.call(_,ye)&&!Q.hasOwnProperty(ye)&&(ue[ye]=_[ye]);var Me=arguments.length-2;if(Me===1)ue.children=be;else if(1<Me){for(var Pe=Array(Me),ot=0;ot<Me;ot++)Pe[ot]=arguments[ot+2];ue.children=Pe}if(E&&E.defaultProps)for(ye in Me=E.defaultProps,Me)ue[ye]===void 0&&(ue[ye]=Me[ye]);return{$$typeof:t,type:E,key:Se,ref:Ke,props:ue,_owner:D.current}}function se(E,_){return{$$typeof:t,type:E.type,key:_,ref:E.ref,props:E.props,_owner:E._owner}}function re(E){return typeof E=="object"&&E!==null&&E.$$typeof===t}function ae(E){var _={"=":"=0",":":"=2"};return"$"+E.replace(/[=:]/g,function(be){return _[be]})}var Ie=/\/+/g;function de(E,_){return typeof E=="object"&&E!==null&&E.key!=null?ae(""+E.key):_.toString(36)}function ie(E,_,be,ye,ue){var Se=typeof E;(Se==="undefined"||Se==="boolean")&&(E=null);var Ke=!1;if(E===null)Ke=!0;else switch(Se){case"string":case"number":Ke=!0;break;case"object":switch(E.$$typeof){case t:case e:Ke=!0}}if(Ke)return Ke=E,ue=ue(Ke),E=ye===""?"."+de(Ke,0):ye,x(ue)?(be="",E!=null&&(be=E.replace(Ie,"$&/")+"/"),ie(ue,_,be,"",function(ot){return ot})):ue!=null&&(re(ue)&&(ue=se(ue,be+(!ue.key||Ke&&Ke.key===ue.key?"":(""+ue.key).replace(Ie,"$&/")+"/")+E)),_.push(ue)),1;if(Ke=0,ye=ye===""?".":ye+":",x(E))for(var Me=0;Me<E.length;Me++){Se=E[Me];var Pe=ye+de(Se,Me);Ke+=ie(Se,_,be,Pe,ue)}else if(Pe=A(E),typeof Pe=="function")for(E=Pe.call(E),Me=0;!(Se=E.next()).done;)Se=Se.value,Pe=ye+de(Se,Me++),Ke+=ie(Se,_,be,Pe,ue);else if(Se==="object")throw _=String(E),Error("Objects are not valid as a React child (found: "+(_==="[object Object]"?"object with keys {"+Object.keys(E).join(", ")+"}":_)+"). If you meant to render a collection of children, use an array instead.");return Ke}function J(E,_,be){if(E==null)return E;var ye=[],ue=0;return ie(E,ye,"","",function(Se){return _.call(be,Se,ue++)}),ye}function T(E){if(E._status===-1){var _=E._result;_=_(),_.then(function(be){(E._status===0||E._status===-1)&&(E._status=1,E._result=be)},function(be){(E._status===0||E._status===-1)&&(E._status=2,E._result=be)}),E._status===-1&&(E._status=0,E._result=_)}if(E._status===1)return E._result.default;throw E._result}var O={current:null},F={transition:null},H={ReactCurrentDispatcher:O,ReactCurrentBatchConfig:F,ReactCurrentOwner:D};function U(){throw Error("act(...) is not supported in production builds of React.")}return et.Children={map:J,forEach:function(E,_,be){J(E,function(){_.apply(this,arguments)},be)},count:function(E){var _=0;return J(E,function(){_++}),_},toArray:function(E){return J(E,function(_){return _})||[]},only:function(E){if(!re(E))throw Error("React.Children.only expected to receive a single React element child.");return E}},et.Component=V,et.Fragment=n,et.Profiler=s,et.PureComponent=Y,et.StrictMode=a,et.Suspense=g,et.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=H,et.act=U,et.cloneElement=function(E,_,be){if(E==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+E+".");var ye=S({},E.props),ue=E.key,Se=E.ref,Ke=E._owner;if(_!=null){if(_.ref!==void 0&&(Se=_.ref,Ke=D.current),_.key!==void 0&&(ue=""+_.key),E.type&&E.type.defaultProps)var Me=E.type.defaultProps;for(Pe in _)M.call(_,Pe)&&!Q.hasOwnProperty(Pe)&&(ye[Pe]=_[Pe]===void 0&&Me!==void 0?Me[Pe]:_[Pe])}var Pe=arguments.length-2;if(Pe===1)ye.children=be;else if(1<Pe){Me=Array(Pe);for(var ot=0;ot<Pe;ot++)Me[ot]=arguments[ot+2];ye.children=Me}return{$$typeof:t,type:E.type,key:ue,ref:Se,props:ye,_owner:Ke}},et.createContext=function(E){return E={$$typeof:l,_currentValue:E,_currentValue2:E,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},E.Provider={$$typeof:r,_context:E},E.Consumer=E},et.createElement=z,et.createFactory=function(E){var _=z.bind(null,E);return _.type=E,_},et.createRef=function(){return{current:null}},et.forwardRef=function(E){return{$$typeof:c,render:E}},et.isValidElement=re,et.lazy=function(E){return{$$typeof:I,_payload:{_status:-1,_result:E},_init:T}},et.memo=function(E,_){return{$$typeof:u,type:E,compare:_===void 0?null:_}},et.startTransition=function(E){var _=F.transition;F.transition={};try{E()}finally{F.transition=_}},et.unstable_act=U,et.useCallback=function(E,_){return O.current.useCallback(E,_)},et.useContext=function(E){return O.current.useContext(E)},et.useDebugValue=function(){},et.useDeferredValue=function(E){return O.current.useDeferredValue(E)},et.useEffect=function(E,_){return O.current.useEffect(E,_)},et.useId=function(){return O.current.useId()},et.useImperativeHandle=function(E,_,be){return O.current.useImperativeHandle(E,_,be)},et.useInsertionEffect=function(E,_){return O.current.useInsertionEffect(E,_)},et.useLayoutEffect=function(E,_){return O.current.useLayoutEffect(E,_)},et.useMemo=function(E,_){return O.current.useMemo(E,_)},et.useReducer=function(E,_,be){return O.current.useReducer(E,_,be)},et.useRef=function(E){return O.current.useRef(E)},et.useState=function(E){return O.current.useState(E)},et.useSyncExternalStore=function(E,_,be){return O.current.useSyncExternalStore(E,_,be)},et.useTransition=function(){return O.current.useTransition()},et.version="18.3.1",et}var $Z;function G1(){return $Z||($Z=1,H0.exports=cX()),H0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var eG;function gX(){if(eG)return Dd;eG=1;var t=G1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(c,g,u){var I,p={},A=null,Z=null;u!==void 0&&(A=""+u),g.key!==void 0&&(A=""+g.key),g.ref!==void 0&&(Z=g.ref);for(I in g)a.call(g,I)&&!r.hasOwnProperty(I)&&(p[I]=g[I]);if(c&&c.defaultProps)for(I in g=c.defaultProps,g)p[I]===void 0&&(p[I]=g[I]);return{$$typeof:e,type:c,key:A,ref:Z,props:p,_owner:s.current}}return Dd.Fragment=n,Dd.jsx=l,Dd.jsxs=l,Dd}var tG;function dX(){return tG||(tG=1,N0.exports=gX()),N0.exports}var Ee=dX(),ze=G1(),ip={},Y0={exports:{}},ea={},T0={exports:{}},F0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nG;function IX(){return nG||(nG=1,function(t){function e(F,H){var U=F.length;F.push(H);e:for(;0<U;){var E=U-1>>>1,_=F[E];if(0<s(_,H))F[E]=H,F[U]=_,U=E;else break e}}function n(F){return F.length===0?null:F[0]}function a(F){if(F.length===0)return null;var H=F[0],U=F.pop();if(U!==H){F[0]=U;e:for(var E=0,_=F.length,be=_>>>1;E<be;){var ye=2*(E+1)-1,ue=F[ye],Se=ye+1,Ke=F[Se];if(0>s(ue,U))Se<_&&0>s(Ke,ue)?(F[E]=Ke,F[Se]=U,E=Se):(F[E]=ue,F[ye]=U,E=ye);else if(Se<_&&0>s(Ke,U))F[E]=Ke,F[Se]=U,E=Se;else break e}}return H}function s(F,H){var U=F.sortIndex-H.sortIndex;return U!==0?U:F.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,c=l.now();t.unstable_now=function(){return l.now()-c}}var g=[],u=[],I=1,p=null,A=3,Z=!1,S=!1,B=!1,V=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function R(F){for(var H=n(u);H!==null;){if(H.callback===null)a(u);else if(H.startTime<=F)a(u),H.sortIndex=H.expirationTime,e(g,H);else break;H=n(u)}}function x(F){if(B=!1,R(F),!S)if(n(g)!==null)S=!0,T(M);else{var H=n(u);H!==null&&O(x,H.startTime-F)}}function M(F,H){S=!1,B&&(B=!1,W(z),z=-1),Z=!0;var U=A;try{for(R(H),p=n(g);p!==null&&(!(p.expirationTime>H)||F&&!ae());){var E=p.callback;if(typeof E=="function"){p.callback=null,A=p.priorityLevel;var _=E(p.expirationTime<=H);H=t.unstable_now(),typeof _=="function"?p.callback=_:p===n(g)&&a(g),R(H)}else a(g);p=n(g)}if(p!==null)var be=!0;else{var ye=n(u);ye!==null&&O(x,ye.startTime-H),be=!1}return be}finally{p=null,A=U,Z=!1}}var D=!1,Q=null,z=-1,se=5,re=-1;function ae(){return!(t.unstable_now()-re<se)}function Ie(){if(Q!==null){var F=t.unstable_now();re=F;var H=!0;try{H=Q(!0,F)}finally{H?de():(D=!1,Q=null)}}else D=!1}var de;if(typeof Y=="function")de=function(){Y(Ie)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,J=ie.port2;ie.port1.onmessage=Ie,de=function(){J.postMessage(null)}}else de=function(){V(Ie,0)};function T(F){Q=F,D||(D=!0,de())}function O(F,H){z=V(function(){F(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){S||Z||(S=!0,T(M))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):se=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(g)},t.unstable_next=function(F){switch(A){case 1:case 2:case 3:var H=3;break;default:H=A}var U=A;A=H;try{return F()}finally{A=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,H){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var U=A;A=F;try{return H()}finally{A=U}},t.unstable_scheduleCallback=function(F,H,U){var E=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?E+U:E):U=E,F){case 1:var _=-1;break;case 2:_=250;break;case 5:_=1073741823;break;case 4:_=1e4;break;default:_=5e3}return _=U+_,F={id:I++,callback:H,priorityLevel:F,startTime:U,expirationTime:_,sortIndex:-1},U>E?(F.sortIndex=U,e(u,F),n(g)===null&&F===n(u)&&(B?(W(z),z=-1):B=!0,O(x,U-E))):(F.sortIndex=_,e(g,F),S||Z||(S=!0,T(M))),F},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(F){var H=A;return function(){var U=A;A=H;try{return F.apply(this,arguments)}finally{A=U}}}}(F0)),F0}var aG;function uX(){return aG||(aG=1,T0.exports=IX()),T0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sG;function CX(){if(sG)return ea;sG=1;var t=G1(),e=uX();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,d=1;d<arguments.length;d++)o+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function r(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)a.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,I={},p={};function A(i){return g.call(p,i)?!0:g.call(I,i)?!1:u.test(i)?p[i]=!0:(I[i]=!0,!1)}function Z(i,o,d,C){if(d!==null&&d.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return C?!1:d!==null?!d.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,o,d,C){if(o===null||typeof o>"u"||Z(i,o,d,C))return!0;if(C)return!1;if(d!==null)switch(d.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function B(i,o,d,C,m,b,w){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=C,this.attributeNamespace=m,this.mustUseProperty=d,this.propertyName=i,this.type=o,this.sanitizeURL=b,this.removeEmptyString=w}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){V[i]=new B(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];V[o]=new B(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){V[i]=new B(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){V[i]=new B(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){V[i]=new B(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){V[i]=new B(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){V[i]=new B(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){V[i]=new B(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){V[i]=new B(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function Y(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(W,Y);V[o]=new B(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(W,Y);V[o]=new B(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(W,Y);V[o]=new B(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){V[i]=new B(i,1,!1,i.toLowerCase(),null,!1,!1)}),V.xlinkHref=new B("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){V[i]=new B(i,1,!1,i.toLowerCase(),null,!0,!0)});function R(i,o,d,C){var m=V.hasOwnProperty(o)?V[o]:null;(m!==null?m.type!==0:C||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(S(o,d,m,C)&&(d=null),C||m===null?A(o)&&(d===null?i.removeAttribute(o):i.setAttribute(o,""+d)):m.mustUseProperty?i[m.propertyName]=d===null?m.type===3?!1:"":d:(o=m.attributeName,C=m.attributeNamespace,d===null?i.removeAttribute(o):(m=m.type,d=m===3||m===4&&d===!0?"":""+d,C?i.setAttributeNS(C,o,d):i.setAttribute(o,d))))}var x=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,M=Symbol.for("react.element"),D=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),z=Symbol.for("react.strict_mode"),se=Symbol.for("react.profiler"),re=Symbol.for("react.provider"),ae=Symbol.for("react.context"),Ie=Symbol.for("react.forward_ref"),de=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),T=Symbol.for("react.lazy"),O=Symbol.for("react.offscreen"),F=Symbol.iterator;function H(i){return i===null||typeof i!="object"?null:(i=F&&i[F]||i["@@iterator"],typeof i=="function"?i:null)}var U=Object.assign,E;function _(i){if(E===void 0)try{throw Error()}catch(d){var o=d.stack.trim().match(/\n( *(at )?)/);E=o&&o[1]||""}return`
`+E+i}var be=!1;function ye(i,o){if(!i||be)return"";be=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(le){var C=le}Reflect.construct(i,[],o)}else{try{o.call()}catch(le){C=le}i.call(o.prototype)}else{try{throw Error()}catch(le){C=le}i()}}catch(le){if(le&&C&&typeof le.stack=="string"){for(var m=le.stack.split(`
`),b=C.stack.split(`
`),w=m.length-1,N=b.length-1;1<=w&&0<=N&&m[w]!==b[N];)N--;for(;1<=w&&0<=N;w--,N--)if(m[w]!==b[N]){if(w!==1||N!==1)do if(w--,N--,0>N||m[w]!==b[N]){var K=`
`+m[w].replace(" at new "," at ");return i.displayName&&K.includes("<anonymous>")&&(K=K.replace("<anonymous>",i.displayName)),K}while(1<=w&&0<=N);break}}}finally{be=!1,Error.prepareStackTrace=d}return(i=i?i.displayName||i.name:"")?_(i):""}function ue(i){switch(i.tag){case 5:return _(i.type);case 16:return _("Lazy");case 13:return _("Suspense");case 19:return _("SuspenseList");case 0:case 2:case 15:return i=ye(i.type,!1),i;case 11:return i=ye(i.type.render,!1),i;case 1:return i=ye(i.type,!0),i;default:return""}}function Se(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case Q:return"Fragment";case D:return"Portal";case se:return"Profiler";case z:return"StrictMode";case de:return"Suspense";case ie:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ae:return(i.displayName||"Context")+".Consumer";case re:return(i._context.displayName||"Context")+".Provider";case Ie:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case J:return o=i.displayName||null,o!==null?o:Se(i.type)||"Memo";case T:o=i._payload,i=i._init;try{return Se(i(o))}catch{}}return null}function Ke(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(o);case 8:return o===z?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Me(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Pe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ot(i){var o=Pe(i)?"checked":"value",d=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),C=""+i[o];if(!i.hasOwnProperty(o)&&typeof d<"u"&&typeof d.get=="function"&&typeof d.set=="function"){var m=d.get,b=d.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(w){C=""+w,b.call(this,w)}}),Object.defineProperty(i,o,{enumerable:d.enumerable}),{getValue:function(){return C},setValue:function(w){C=""+w},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Pt(i){i._valueTracker||(i._valueTracker=ot(i))}function Zt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var d=o.getValue(),C="";return i&&(C=Pe(i)?i.checked?"true":"false":i.value),i=C,i!==d?(o.setValue(i),!0):!1}function mt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function xt(i,o){var d=o.checked;return U({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:d??i._wrapperState.initialChecked})}function hn(i,o){var d=o.defaultValue==null?"":o.defaultValue,C=o.checked!=null?o.checked:o.defaultChecked;d=Me(o.value!=null?o.value:d),i._wrapperState={initialChecked:C,initialValue:d,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Mt(i,o){o=o.checked,o!=null&&R(i,"checked",o,!1)}function ns(i,o){Mt(i,o);var d=Me(o.value),C=o.type;if(d!=null)C==="number"?(d===0&&i.value===""||i.value!=d)&&(i.value=""+d):i.value!==""+d&&(i.value=""+d);else if(C==="submit"||C==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?uo(i,o.type,d):o.hasOwnProperty("defaultValue")&&uo(i,o.type,Me(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Ul(i,o,d){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var C=o.type;if(!(C!=="submit"&&C!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,d||o===i.value||(i.value=o),i.defaultValue=o}d=i.name,d!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,d!==""&&(i.name=d)}function uo(i,o,d){(o!=="number"||mt(i.ownerDocument)!==i)&&(d==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+d&&(i.defaultValue=""+d))}var as=Array.isArray;function Aa(i,o,d,C){if(i=i.options,o){o={};for(var m=0;m<d.length;m++)o["$"+d[m]]=!0;for(d=0;d<i.length;d++)m=o.hasOwnProperty("$"+i[d].value),i[d].selected!==m&&(i[d].selected=m),m&&C&&(i[d].defaultSelected=!0)}else{for(d=""+Me(d),o=null,m=0;m<i.length;m++){if(i[m].value===d){i[m].selected=!0,C&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function Co(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return U({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function tr(i,o){var d=o.value;if(d==null){if(d=o.children,o=o.defaultValue,d!=null){if(o!=null)throw Error(n(92));if(as(d)){if(1<d.length)throw Error(n(93));d=d[0]}o=d}o==null&&(o=""),d=o}i._wrapperState={initialValue:Me(d)}}function ri(i,o){var d=Me(o.value),C=Me(o.defaultValue);d!=null&&(d=""+d,d!==i.value&&(i.value=d),o.defaultValue==null&&i.defaultValue!==d&&(i.defaultValue=d)),C!=null&&(i.defaultValue=""+C)}function Xn(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function oi(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function po(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?oi(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Jn,Dl=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,d,C,m){MSApp.execUnsafeLocalFunction(function(){return i(o,d,C,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Jn=Jn||document.createElement("div"),Jn.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Jn.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function k(i,o){if(o){var d=i.firstChild;if(d&&d===i.lastChild&&d.nodeType===3){d.nodeValue=o;return}}i.textContent=o}var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},G=["Webkit","ms","Moz","O"];Object.keys(f).forEach(function(i){G.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),f[o]=f[i]})});function X(i,o,d){return o==null||typeof o=="boolean"||o===""?"":d||typeof o!="number"||o===0||f.hasOwnProperty(i)&&f[i]?(""+o).trim():o+"px"}function P(i,o){i=i.style;for(var d in o)if(o.hasOwnProperty(d)){var C=d.indexOf("--")===0,m=X(d,o[d],C);d==="float"&&(d="cssFloat"),C?i.setProperty(d,m):i[d]=m}}var oe=U({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function $(i,o){if(o){if(oe[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function fe(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Ve=null;function ve(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var De=null,Le=null,Pn=null;function _u(i){if(i=Vd(i)){if(typeof De!="function")throw Error(n(280));var o=i.stateNode;o&&(o=hC(o),De(i.stateNode,i.type,o))}}function mo(i){Le?Pn?Pn.push(i):Pn=[i]:Le=i}function m2(){if(Le){var i=Le,o=Pn;if(Pn=Le=null,_u(i),o)for(i=0;i<o.length;i++)_u(o[i])}}function A2(i,o){return i(o)}function y2(){}var qA=!1;function b2(i,o,d){if(qA)return i(o,d);qA=!0;try{return A2(i,o,d)}finally{qA=!1,(Le!==null||Pn!==null)&&(y2(),m2())}}function od(i,o){var d=i.stateNode;if(d===null)return null;var C=hC(d);if(C===null)return null;d=C[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(i=i.type,C=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!C;break e;default:i=!1}if(i)return null;if(d&&typeof d!="function")throw Error(n(231,o,typeof d));return d}var $A=!1;if(c)try{var ld={};Object.defineProperty(ld,"passive",{get:function(){$A=!0}}),window.addEventListener("test",ld,ld),window.removeEventListener("test",ld,ld)}catch{$A=!1}function IR(i,o,d,C,m,b,w,N,K){var le=Array.prototype.slice.call(arguments,3);try{o.apply(d,le)}catch(pe){this.onError(pe)}}var cd=!1,qu=null,$u=!1,ey=null,uR={onError:function(i){cd=!0,qu=i}};function CR(i,o,d,C,m,b,w,N,K){cd=!1,qu=null,IR.apply(uR,arguments)}function pR(i,o,d,C,m,b,w,N,K){if(CR.apply(this,arguments),cd){if(cd){var le=qu;cd=!1,qu=null}else throw Error(n(198));$u||($u=!0,ey=le)}}function Ao(i){var o=i,d=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(d=o.return),i=o.return;while(i)}return o.tag===3?d:null}function h2(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function f2(i){if(Ao(i)!==i)throw Error(n(188))}function mR(i){var o=i.alternate;if(!o){if(o=Ao(i),o===null)throw Error(n(188));return o!==i?null:i}for(var d=i,C=o;;){var m=d.return;if(m===null)break;var b=m.alternate;if(b===null){if(C=m.return,C!==null){d=C;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===d)return f2(m),i;if(b===C)return f2(m),o;b=b.sibling}throw Error(n(188))}if(d.return!==C.return)d=m,C=b;else{for(var w=!1,N=m.child;N;){if(N===d){w=!0,d=m,C=b;break}if(N===C){w=!0,C=m,d=b;break}N=N.sibling}if(!w){for(N=b.child;N;){if(N===d){w=!0,d=b,C=m;break}if(N===C){w=!0,C=b,d=m;break}N=N.sibling}if(!w)throw Error(n(189))}}if(d.alternate!==C)throw Error(n(190))}if(d.tag!==3)throw Error(n(188));return d.stateNode.current===d?i:o}function Z2(i){return i=mR(i),i!==null?G2(i):null}function G2(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=G2(i);if(o!==null)return o;i=i.sibling}return null}var B2=e.unstable_scheduleCallback,S2=e.unstable_cancelCallback,AR=e.unstable_shouldYield,yR=e.unstable_requestPaint,Ut=e.unstable_now,bR=e.unstable_getCurrentPriorityLevel,ty=e.unstable_ImmediatePriority,w2=e.unstable_UserBlockingPriority,eC=e.unstable_NormalPriority,hR=e.unstable_LowPriority,k2=e.unstable_IdlePriority,tC=null,Ws=null;function fR(i){if(Ws&&typeof Ws.onCommitFiberRoot=="function")try{Ws.onCommitFiberRoot(tC,i,void 0,(i.current.flags&128)===128)}catch{}}var ss=Math.clz32?Math.clz32:BR,ZR=Math.log,GR=Math.LN2;function BR(i){return i>>>=0,i===0?32:31-(ZR(i)/GR|0)|0}var nC=64,aC=4194304;function gd(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function sC(i,o){var d=i.pendingLanes;if(d===0)return 0;var C=0,m=i.suspendedLanes,b=i.pingedLanes,w=d&268435455;if(w!==0){var N=w&~m;N!==0?C=gd(N):(b&=w,b!==0&&(C=gd(b)))}else w=d&~m,w!==0?C=gd(w):b!==0&&(C=gd(b));if(C===0)return 0;if(o!==0&&o!==C&&(o&m)===0&&(m=C&-C,b=o&-o,m>=b||m===16&&(b&4194240)!==0))return o;if((C&4)!==0&&(C|=d&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=C;0<o;)d=31-ss(o),m=1<<d,C|=i[d],o&=~m;return C}function SR(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wR(i,o){for(var d=i.suspendedLanes,C=i.pingedLanes,m=i.expirationTimes,b=i.pendingLanes;0<b;){var w=31-ss(b),N=1<<w,K=m[w];K===-1?((N&d)===0||(N&C)!==0)&&(m[w]=SR(N,o)):K<=o&&(i.expiredLanes|=N),b&=~N}}function ny(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function V2(){var i=nC;return nC<<=1,(nC&4194240)===0&&(nC=64),i}function ay(i){for(var o=[],d=0;31>d;d++)o.push(i);return o}function dd(i,o,d){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-ss(o),i[o]=d}function kR(i,o){var d=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var C=i.eventTimes;for(i=i.expirationTimes;0<d;){var m=31-ss(d),b=1<<m;o[m]=0,C[m]=-1,i[m]=-1,d&=~b}}function sy(i,o){var d=i.entangledLanes|=o;for(i=i.entanglements;d;){var C=31-ss(d),m=1<<C;m&o|i[C]&o&&(i[C]|=o),d&=~m}}var yt=0;function W2(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var R2,iy,v2,X2,J2,ry=!1,iC=[],nr=null,ar=null,sr=null,Id=new Map,ud=new Map,ir=[],VR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function E2(i,o){switch(i){case"focusin":case"focusout":nr=null;break;case"dragenter":case"dragleave":ar=null;break;case"mouseover":case"mouseout":sr=null;break;case"pointerover":case"pointerout":Id.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(o.pointerId)}}function Cd(i,o,d,C,m,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:d,eventSystemFlags:C,nativeEvent:b,targetContainers:[m]},o!==null&&(o=Vd(o),o!==null&&iy(o)),i):(i.eventSystemFlags|=C,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function WR(i,o,d,C,m){switch(o){case"focusin":return nr=Cd(nr,i,o,d,C,m),!0;case"dragenter":return ar=Cd(ar,i,o,d,C,m),!0;case"mouseover":return sr=Cd(sr,i,o,d,C,m),!0;case"pointerover":var b=m.pointerId;return Id.set(b,Cd(Id.get(b)||null,i,o,d,C,m)),!0;case"gotpointercapture":return b=m.pointerId,ud.set(b,Cd(ud.get(b)||null,i,o,d,C,m)),!0}return!1}function x2(i){var o=yo(i.target);if(o!==null){var d=Ao(o);if(d!==null){if(o=d.tag,o===13){if(o=h2(d),o!==null){i.blockedOn=o,J2(i.priority,function(){v2(d)});return}}else if(o===3&&d.stateNode.current.memoizedState.isDehydrated){i.blockedOn=d.tag===3?d.stateNode.containerInfo:null;return}}}i.blockedOn=null}function rC(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var d=ly(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(d===null){d=i.nativeEvent;var C=new d.constructor(d.type,d);Ve=C,d.target.dispatchEvent(C),Ve=null}else return o=Vd(d),o!==null&&iy(o),i.blockedOn=d,!1;o.shift()}return!0}function N2(i,o,d){rC(i)&&d.delete(o)}function RR(){ry=!1,nr!==null&&rC(nr)&&(nr=null),ar!==null&&rC(ar)&&(ar=null),sr!==null&&rC(sr)&&(sr=null),Id.forEach(N2),ud.forEach(N2)}function pd(i,o){i.blockedOn===o&&(i.blockedOn=null,ry||(ry=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,RR)))}function md(i){function o(m){return pd(m,i)}if(0<iC.length){pd(iC[0],i);for(var d=1;d<iC.length;d++){var C=iC[d];C.blockedOn===i&&(C.blockedOn=null)}}for(nr!==null&&pd(nr,i),ar!==null&&pd(ar,i),sr!==null&&pd(sr,i),Id.forEach(o),ud.forEach(o),d=0;d<ir.length;d++)C=ir[d],C.blockedOn===i&&(C.blockedOn=null);for(;0<ir.length&&(d=ir[0],d.blockedOn===null);)x2(d),d.blockedOn===null&&ir.shift()}var zl=x.ReactCurrentBatchConfig,oC=!0;function vR(i,o,d,C){var m=yt,b=zl.transition;zl.transition=null;try{yt=1,oy(i,o,d,C)}finally{yt=m,zl.transition=b}}function XR(i,o,d,C){var m=yt,b=zl.transition;zl.transition=null;try{yt=4,oy(i,o,d,C)}finally{yt=m,zl.transition=b}}function oy(i,o,d,C){if(oC){var m=ly(i,o,d,C);if(m===null)Sy(i,o,C,lC,d),E2(i,C);else if(WR(m,i,o,d,C))C.stopPropagation();else if(E2(i,C),o&4&&-1<VR.indexOf(i)){for(;m!==null;){var b=Vd(m);if(b!==null&&R2(b),b=ly(i,o,d,C),b===null&&Sy(i,o,C,lC,d),b===m)break;m=b}m!==null&&C.stopPropagation()}else Sy(i,o,C,null,d)}}var lC=null;function ly(i,o,d,C){if(lC=null,i=ve(C),i=yo(i),i!==null)if(o=Ao(i),o===null)i=null;else if(d=o.tag,d===13){if(i=h2(o),i!==null)return i;i=null}else if(d===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return lC=i,null}function H2(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(bR()){case ty:return 1;case w2:return 4;case eC:case hR:return 16;case k2:return 536870912;default:return 16}default:return 16}}var rr=null,cy=null,cC=null;function Y2(){if(cC)return cC;var i,o=cy,d=o.length,C,m="value"in rr?rr.value:rr.textContent,b=m.length;for(i=0;i<d&&o[i]===m[i];i++);var w=d-i;for(C=1;C<=w&&o[d-C]===m[b-C];C++);return cC=m.slice(i,1<C?1-C:void 0)}function gC(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function dC(){return!0}function T2(){return!1}function ya(i){function o(d,C,m,b,w){this._reactName=d,this._targetInst=m,this.type=C,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var N in i)i.hasOwnProperty(N)&&(d=i[N],this[N]=d?d(b):b[N]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?dC:T2,this.isPropagationStopped=T2,this}return U(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var d=this.nativeEvent;d&&(d.preventDefault?d.preventDefault():typeof d.returnValue!="unknown"&&(d.returnValue=!1),this.isDefaultPrevented=dC)},stopPropagation:function(){var d=this.nativeEvent;d&&(d.stopPropagation?d.stopPropagation():typeof d.cancelBubble!="unknown"&&(d.cancelBubble=!0),this.isPropagationStopped=dC)},persist:function(){},isPersistent:dC}),o}var Ll={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},gy=ya(Ll),Ad=U({},Ll,{view:0,detail:0}),JR=ya(Ad),dy,Iy,yd,IC=U({},Ad,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Cy,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==yd&&(yd&&i.type==="mousemove"?(dy=i.screenX-yd.screenX,Iy=i.screenY-yd.screenY):Iy=dy=0,yd=i),dy)},movementY:function(i){return"movementY"in i?i.movementY:Iy}}),F2=ya(IC),ER=U({},IC,{dataTransfer:0}),xR=ya(ER),NR=U({},Ad,{relatedTarget:0}),uy=ya(NR),HR=U({},Ll,{animationName:0,elapsedTime:0,pseudoElement:0}),YR=ya(HR),TR=U({},Ll,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),FR=ya(TR),KR=U({},Ll,{data:0}),K2=ya(KR),MR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},UR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zR(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=DR[i])?!!o[i]:!1}function Cy(){return zR}var LR=U({},Ad,{key:function(i){if(i.key){var o=MR[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=gC(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?UR[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Cy,charCode:function(i){return i.type==="keypress"?gC(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?gC(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),QR=ya(LR),PR=U({},IC,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),M2=ya(PR),OR=U({},Ad,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Cy}),jR=ya(OR),_R=U({},Ll,{propertyName:0,elapsedTime:0,pseudoElement:0}),qR=ya(_R),$R=U({},IC,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),ev=ya($R),tv=[9,13,27,32],py=c&&"CompositionEvent"in window,bd=null;c&&"documentMode"in document&&(bd=document.documentMode);var nv=c&&"TextEvent"in window&&!bd,U2=c&&(!py||bd&&8<bd&&11>=bd),D2=" ",z2=!1;function L2(i,o){switch(i){case"keyup":return tv.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Q2(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Ql=!1;function av(i,o){switch(i){case"compositionend":return Q2(o);case"keypress":return o.which!==32?null:(z2=!0,D2);case"textInput":return i=o.data,i===D2&&z2?null:i;default:return null}}function sv(i,o){if(Ql)return i==="compositionend"||!py&&L2(i,o)?(i=Y2(),cC=cy=rr=null,Ql=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return U2&&o.locale!=="ko"?null:o.data;default:return null}}var iv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function P2(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!iv[i.type]:o==="textarea"}function O2(i,o,d,C){mo(C),o=AC(o,"onChange"),0<o.length&&(d=new gy("onChange","change",null,d,C),i.push({event:d,listeners:o}))}var hd=null,fd=null;function rv(i){u5(i,0)}function uC(i){var o=ql(i);if(Zt(o))return i}function ov(i,o){if(i==="change")return o}var j2=!1;if(c){var my;if(c){var Ay="oninput"in document;if(!Ay){var _2=document.createElement("div");_2.setAttribute("oninput","return;"),Ay=typeof _2.oninput=="function"}my=Ay}else my=!1;j2=my&&(!document.documentMode||9<document.documentMode)}function q2(){hd&&(hd.detachEvent("onpropertychange",$2),fd=hd=null)}function $2(i){if(i.propertyName==="value"&&uC(fd)){var o=[];O2(o,fd,i,ve(i)),b2(rv,o)}}function lv(i,o,d){i==="focusin"?(q2(),hd=o,fd=d,hd.attachEvent("onpropertychange",$2)):i==="focusout"&&q2()}function cv(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return uC(fd)}function gv(i,o){if(i==="click")return uC(o)}function dv(i,o){if(i==="input"||i==="change")return uC(o)}function Iv(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var is=typeof Object.is=="function"?Object.is:Iv;function Zd(i,o){if(is(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var d=Object.keys(i),C=Object.keys(o);if(d.length!==C.length)return!1;for(C=0;C<d.length;C++){var m=d[C];if(!g.call(o,m)||!is(i[m],o[m]))return!1}return!0}function e5(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function t5(i,o){var d=e5(i);i=0;for(var C;d;){if(d.nodeType===3){if(C=i+d.textContent.length,i<=o&&C>=o)return{node:d,offset:o-i};i=C}e:{for(;d;){if(d.nextSibling){d=d.nextSibling;break e}d=d.parentNode}d=void 0}d=e5(d)}}function n5(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?n5(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function a5(){for(var i=window,o=mt();o instanceof i.HTMLIFrameElement;){try{var d=typeof o.contentWindow.location.href=="string"}catch{d=!1}if(d)i=o.contentWindow;else break;o=mt(i.document)}return o}function yy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function uv(i){var o=a5(),d=i.focusedElem,C=i.selectionRange;if(o!==d&&d&&d.ownerDocument&&n5(d.ownerDocument.documentElement,d)){if(C!==null&&yy(d)){if(o=C.start,i=C.end,i===void 0&&(i=o),"selectionStart"in d)d.selectionStart=o,d.selectionEnd=Math.min(i,d.value.length);else if(i=(o=d.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=d.textContent.length,b=Math.min(C.start,m);C=C.end===void 0?b:Math.min(C.end,m),!i.extend&&b>C&&(m=C,C=b,b=m),m=t5(d,b);var w=t5(d,C);m&&w&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==w.node||i.focusOffset!==w.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),b>C?(i.addRange(o),i.extend(w.node,w.offset)):(o.setEnd(w.node,w.offset),i.addRange(o)))}}for(o=[],i=d;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<o.length;d++)i=o[d],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var Cv=c&&"documentMode"in document&&11>=document.documentMode,Pl=null,by=null,Gd=null,hy=!1;function s5(i,o,d){var C=d.window===d?d.document:d.nodeType===9?d:d.ownerDocument;hy||Pl==null||Pl!==mt(C)||(C=Pl,"selectionStart"in C&&yy(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),Gd&&Zd(Gd,C)||(Gd=C,C=AC(by,"onSelect"),0<C.length&&(o=new gy("onSelect","select",null,o,d),i.push({event:o,listeners:C}),o.target=Pl)))}function CC(i,o){var d={};return d[i.toLowerCase()]=o.toLowerCase(),d["Webkit"+i]="webkit"+o,d["Moz"+i]="moz"+o,d}var Ol={animationend:CC("Animation","AnimationEnd"),animationiteration:CC("Animation","AnimationIteration"),animationstart:CC("Animation","AnimationStart"),transitionend:CC("Transition","TransitionEnd")},fy={},i5={};c&&(i5=document.createElement("div").style,"AnimationEvent"in window||(delete Ol.animationend.animation,delete Ol.animationiteration.animation,delete Ol.animationstart.animation),"TransitionEvent"in window||delete Ol.transitionend.transition);function pC(i){if(fy[i])return fy[i];if(!Ol[i])return i;var o=Ol[i],d;for(d in o)if(o.hasOwnProperty(d)&&d in i5)return fy[i]=o[d];return i}var r5=pC("animationend"),o5=pC("animationiteration"),l5=pC("animationstart"),c5=pC("transitionend"),g5=new Map,d5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function or(i,o){g5.set(i,o),r(o,[i])}for(var Zy=0;Zy<d5.length;Zy++){var Gy=d5[Zy],pv=Gy.toLowerCase(),mv=Gy[0].toUpperCase()+Gy.slice(1);or(pv,"on"+mv)}or(r5,"onAnimationEnd"),or(o5,"onAnimationIteration"),or(l5,"onAnimationStart"),or("dblclick","onDoubleClick"),or("focusin","onFocus"),or("focusout","onBlur"),or(c5,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Bd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("cancel close invalid load scroll toggle".split(" ").concat(Bd));function I5(i,o,d){var C=i.type||"unknown-event";i.currentTarget=d,pR(C,o,void 0,i),i.currentTarget=null}function u5(i,o){o=(o&4)!==0;for(var d=0;d<i.length;d++){var C=i[d],m=C.event;C=C.listeners;e:{var b=void 0;if(o)for(var w=C.length-1;0<=w;w--){var N=C[w],K=N.instance,le=N.currentTarget;if(N=N.listener,K!==b&&m.isPropagationStopped())break e;I5(m,N,le),b=K}else for(w=0;w<C.length;w++){if(N=C[w],K=N.instance,le=N.currentTarget,N=N.listener,K!==b&&m.isPropagationStopped())break e;I5(m,N,le),b=K}}}if($u)throw i=ey,$u=!1,ey=null,i}function wt(i,o){var d=o[vy];d===void 0&&(d=o[vy]=new Set);var C=i+"__bubble";d.has(C)||(C5(o,i,2,!1),d.add(C))}function By(i,o,d){var C=0;o&&(C|=4),C5(d,i,C,o)}var mC="_reactListening"+Math.random().toString(36).slice(2);function Sd(i){if(!i[mC]){i[mC]=!0,a.forEach(function(d){d!=="selectionchange"&&(Av.has(d)||By(d,!1,i),By(d,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[mC]||(o[mC]=!0,By("selectionchange",!1,o))}}function C5(i,o,d,C){switch(H2(o)){case 1:var m=vR;break;case 4:m=XR;break;default:m=oy}d=m.bind(null,o,d,i),m=void 0,!$A||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),C?m!==void 0?i.addEventListener(o,d,{capture:!0,passive:m}):i.addEventListener(o,d,!0):m!==void 0?i.addEventListener(o,d,{passive:m}):i.addEventListener(o,d,!1)}function Sy(i,o,d,C,m){var b=C;if((o&1)===0&&(o&2)===0&&C!==null)e:for(;;){if(C===null)return;var w=C.tag;if(w===3||w===4){var N=C.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(w===4)for(w=C.return;w!==null;){var K=w.tag;if((K===3||K===4)&&(K=w.stateNode.containerInfo,K===m||K.nodeType===8&&K.parentNode===m))return;w=w.return}for(;N!==null;){if(w=yo(N),w===null)return;if(K=w.tag,K===5||K===6){C=b=w;continue e}N=N.parentNode}}C=C.return}b2(function(){var le=b,pe=ve(d),he=[];e:{var Ce=g5.get(i);if(Ce!==void 0){var ke=gy,Je=i;switch(i){case"keypress":if(gC(d)===0)break e;case"keydown":case"keyup":ke=QR;break;case"focusin":Je="focus",ke=uy;break;case"focusout":Je="blur",ke=uy;break;case"beforeblur":case"afterblur":ke=uy;break;case"click":if(d.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ke=F2;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ke=xR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ke=jR;break;case r5:case o5:case l5:ke=YR;break;case c5:ke=qR;break;case"scroll":ke=JR;break;case"wheel":ke=ev;break;case"copy":case"cut":case"paste":ke=FR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ke=M2}var xe=(o&4)!==0,Dt=!xe&&i==="scroll",ee=xe?Ce!==null?Ce+"Capture":null:Ce;xe=[];for(var L=le,ne;L!==null;){ne=L;var Ze=ne.stateNode;if(ne.tag===5&&Ze!==null&&(ne=Ze,ee!==null&&(Ze=od(L,ee),Ze!=null&&xe.push(wd(L,Ze,ne)))),Dt)break;L=L.return}0<xe.length&&(Ce=new ke(Ce,Je,null,d,pe),he.push({event:Ce,listeners:xe}))}}if((o&7)===0){e:{if(Ce=i==="mouseover"||i==="pointerover",ke=i==="mouseout"||i==="pointerout",Ce&&d!==Ve&&(Je=d.relatedTarget||d.fromElement)&&(yo(Je)||Je[li]))break e;if((ke||Ce)&&(Ce=pe.window===pe?pe:(Ce=pe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,ke?(Je=d.relatedTarget||d.toElement,ke=le,Je=Je?yo(Je):null,Je!==null&&(Dt=Ao(Je),Je!==Dt||Je.tag!==5&&Je.tag!==6)&&(Je=null)):(ke=null,Je=le),ke!==Je)){if(xe=F2,Ze="onMouseLeave",ee="onMouseEnter",L="mouse",(i==="pointerout"||i==="pointerover")&&(xe=M2,Ze="onPointerLeave",ee="onPointerEnter",L="pointer"),Dt=ke==null?Ce:ql(ke),ne=Je==null?Ce:ql(Je),Ce=new xe(Ze,L+"leave",ke,d,pe),Ce.target=Dt,Ce.relatedTarget=ne,Ze=null,yo(pe)===le&&(xe=new xe(ee,L+"enter",Je,d,pe),xe.target=ne,xe.relatedTarget=Dt,Ze=xe),Dt=Ze,ke&&Je)t:{for(xe=ke,ee=Je,L=0,ne=xe;ne;ne=jl(ne))L++;for(ne=0,Ze=ee;Ze;Ze=jl(Ze))ne++;for(;0<L-ne;)xe=jl(xe),L--;for(;0<ne-L;)ee=jl(ee),ne--;for(;L--;){if(xe===ee||ee!==null&&xe===ee.alternate)break t;xe=jl(xe),ee=jl(ee)}xe=null}else xe=null;ke!==null&&p5(he,Ce,ke,xe,!1),Je!==null&&Dt!==null&&p5(he,Dt,Je,xe,!0)}}e:{if(Ce=le?ql(le):window,ke=Ce.nodeName&&Ce.nodeName.toLowerCase(),ke==="select"||ke==="input"&&Ce.type==="file")var He=ov;else if(P2(Ce))if(j2)He=dv;else{He=cv;var Te=lv}else(ke=Ce.nodeName)&&ke.toLowerCase()==="input"&&(Ce.type==="checkbox"||Ce.type==="radio")&&(He=gv);if(He&&(He=He(i,le))){O2(he,He,d,pe);break e}Te&&Te(i,Ce,le),i==="focusout"&&(Te=Ce._wrapperState)&&Te.controlled&&Ce.type==="number"&&uo(Ce,"number",Ce.value)}switch(Te=le?ql(le):window,i){case"focusin":(P2(Te)||Te.contentEditable==="true")&&(Pl=Te,by=le,Gd=null);break;case"focusout":Gd=by=Pl=null;break;case"mousedown":hy=!0;break;case"contextmenu":case"mouseup":case"dragend":hy=!1,s5(he,d,pe);break;case"selectionchange":if(Cv)break;case"keydown":case"keyup":s5(he,d,pe)}var Fe;if(py)e:{switch(i){case"compositionstart":var Qe="onCompositionStart";break e;case"compositionend":Qe="onCompositionEnd";break e;case"compositionupdate":Qe="onCompositionUpdate";break e}Qe=void 0}else Ql?L2(i,d)&&(Qe="onCompositionEnd"):i==="keydown"&&d.keyCode===229&&(Qe="onCompositionStart");Qe&&(U2&&d.locale!=="ko"&&(Ql||Qe!=="onCompositionStart"?Qe==="onCompositionEnd"&&Ql&&(Fe=Y2()):(rr=pe,cy="value"in rr?rr.value:rr.textContent,Ql=!0)),Te=AC(le,Qe),0<Te.length&&(Qe=new K2(Qe,i,null,d,pe),he.push({event:Qe,listeners:Te}),Fe?Qe.data=Fe:(Fe=Q2(d),Fe!==null&&(Qe.data=Fe)))),(Fe=nv?av(i,d):sv(i,d))&&(le=AC(le,"onBeforeInput"),0<le.length&&(pe=new K2("onBeforeInput","beforeinput",null,d,pe),he.push({event:pe,listeners:le}),pe.data=Fe))}u5(he,o)})}function wd(i,o,d){return{instance:i,listener:o,currentTarget:d}}function AC(i,o){for(var d=o+"Capture",C=[];i!==null;){var m=i,b=m.stateNode;m.tag===5&&b!==null&&(m=b,b=od(i,d),b!=null&&C.unshift(wd(i,b,m)),b=od(i,o),b!=null&&C.push(wd(i,b,m))),i=i.return}return C}function jl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function p5(i,o,d,C,m){for(var b=o._reactName,w=[];d!==null&&d!==C;){var N=d,K=N.alternate,le=N.stateNode;if(K!==null&&K===C)break;N.tag===5&&le!==null&&(N=le,m?(K=od(d,b),K!=null&&w.unshift(wd(d,K,N))):m||(K=od(d,b),K!=null&&w.push(wd(d,K,N)))),d=d.return}w.length!==0&&i.push({event:o,listeners:w})}var yv=/\r\n?/g,bv=/\u0000|\uFFFD/g;function m5(i){return(typeof i=="string"?i:""+i).replace(yv,`
`).replace(bv,"")}function yC(i,o,d){if(o=m5(o),m5(i)!==o&&d)throw Error(n(425))}function bC(){}var wy=null,ky=null;function Vy(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Wy=typeof setTimeout=="function"?setTimeout:void 0,hv=typeof clearTimeout=="function"?clearTimeout:void 0,A5=typeof Promise=="function"?Promise:void 0,fv=typeof queueMicrotask=="function"?queueMicrotask:typeof A5<"u"?function(i){return A5.resolve(null).then(i).catch(Zv)}:Wy;function Zv(i){setTimeout(function(){throw i})}function Ry(i,o){var d=o,C=0;do{var m=d.nextSibling;if(i.removeChild(d),m&&m.nodeType===8)if(d=m.data,d==="/$"){if(C===0){i.removeChild(m),md(o);return}C--}else d!=="$"&&d!=="$?"&&d!=="$!"||C++;d=m}while(d);md(o)}function lr(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function y5(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="$"||d==="$!"||d==="$?"){if(o===0)return i;o--}else d==="/$"&&o++}i=i.previousSibling}return null}var _l=Math.random().toString(36).slice(2),Rs="__reactFiber$"+_l,kd="__reactProps$"+_l,li="__reactContainer$"+_l,vy="__reactEvents$"+_l,Gv="__reactListeners$"+_l,Bv="__reactHandles$"+_l;function yo(i){var o=i[Rs];if(o)return o;for(var d=i.parentNode;d;){if(o=d[li]||d[Rs]){if(d=o.alternate,o.child!==null||d!==null&&d.child!==null)for(i=y5(i);i!==null;){if(d=i[Rs])return d;i=y5(i)}return o}i=d,d=i.parentNode}return null}function Vd(i){return i=i[Rs]||i[li],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function ql(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function hC(i){return i[kd]||null}var Xy=[],$l=-1;function cr(i){return{current:i}}function kt(i){0>$l||(i.current=Xy[$l],Xy[$l]=null,$l--)}function Gt(i,o){$l++,Xy[$l]=i.current,i.current=o}var gr={},fn=cr(gr),On=cr(!1),bo=gr;function ec(i,o){var d=i.type.contextTypes;if(!d)return gr;var C=i.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===o)return C.__reactInternalMemoizedMaskedChildContext;var m={},b;for(b in d)m[b]=o[b];return C&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function jn(i){return i=i.childContextTypes,i!=null}function fC(){kt(On),kt(fn)}function b5(i,o,d){if(fn.current!==gr)throw Error(n(168));Gt(fn,o),Gt(On,d)}function h5(i,o,d){var C=i.stateNode;if(o=o.childContextTypes,typeof C.getChildContext!="function")return d;C=C.getChildContext();for(var m in C)if(!(m in o))throw Error(n(108,Ke(i)||"Unknown",m));return U({},d,C)}function ZC(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||gr,bo=fn.current,Gt(fn,i),Gt(On,On.current),!0}function f5(i,o,d){var C=i.stateNode;if(!C)throw Error(n(169));d?(i=h5(i,o,bo),C.__reactInternalMemoizedMergedChildContext=i,kt(On),kt(fn),Gt(fn,i)):kt(On),Gt(On,d)}var ci=null,GC=!1,Jy=!1;function Z5(i){ci===null?ci=[i]:ci.push(i)}function Sv(i){GC=!0,Z5(i)}function dr(){if(!Jy&&ci!==null){Jy=!0;var i=0,o=yt;try{var d=ci;for(yt=1;i<d.length;i++){var C=d[i];do C=C(!0);while(C!==null)}ci=null,GC=!1}catch(m){throw ci!==null&&(ci=ci.slice(i+1)),B2(ty,dr),m}finally{yt=o,Jy=!1}}return null}var tc=[],nc=0,BC=null,SC=0,Ea=[],xa=0,ho=null,gi=1,di="";function fo(i,o){tc[nc++]=SC,tc[nc++]=BC,BC=i,SC=o}function G5(i,o,d){Ea[xa++]=gi,Ea[xa++]=di,Ea[xa++]=ho,ho=i;var C=gi;i=di;var m=32-ss(C)-1;C&=~(1<<m),d+=1;var b=32-ss(o)+m;if(30<b){var w=m-m%5;b=(C&(1<<w)-1).toString(32),C>>=w,m-=w,gi=1<<32-ss(o)+m|d<<m|C,di=b+i}else gi=1<<b|d<<m|C,di=i}function Ey(i){i.return!==null&&(fo(i,1),G5(i,1,0))}function xy(i){for(;i===BC;)BC=tc[--nc],tc[nc]=null,SC=tc[--nc],tc[nc]=null;for(;i===ho;)ho=Ea[--xa],Ea[xa]=null,di=Ea[--xa],Ea[xa]=null,gi=Ea[--xa],Ea[xa]=null}var ba=null,ha=null,Vt=!1,rs=null;function B5(i,o){var d=Ta(5,null,null,0);d.elementType="DELETED",d.stateNode=o,d.return=i,o=i.deletions,o===null?(i.deletions=[d],i.flags|=16):o.push(d)}function S5(i,o){switch(i.tag){case 5:var d=i.type;return o=o.nodeType!==1||d.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,ba=i,ha=lr(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,ba=i,ha=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(d=ho!==null?{id:gi,overflow:di}:null,i.memoizedState={dehydrated:o,treeContext:d,retryLane:1073741824},d=Ta(18,null,null,0),d.stateNode=o,d.return=i,i.child=d,ba=i,ha=null,!0):!1;default:return!1}}function Ny(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Hy(i){if(Vt){var o=ha;if(o){var d=o;if(!S5(i,o)){if(Ny(i))throw Error(n(418));o=lr(d.nextSibling);var C=ba;o&&S5(i,o)?B5(C,d):(i.flags=i.flags&-4097|2,Vt=!1,ba=i)}}else{if(Ny(i))throw Error(n(418));i.flags=i.flags&-4097|2,Vt=!1,ba=i}}}function w5(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ba=i}function wC(i){if(i!==ba)return!1;if(!Vt)return w5(i),Vt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Vy(i.type,i.memoizedProps)),o&&(o=ha)){if(Ny(i))throw k5(),Error(n(418));for(;o;)B5(i,o),o=lr(o.nextSibling)}if(w5(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var d=i.data;if(d==="/$"){if(o===0){ha=lr(i.nextSibling);break e}o--}else d!=="$"&&d!=="$!"&&d!=="$?"||o++}i=i.nextSibling}ha=null}}else ha=ba?lr(i.stateNode.nextSibling):null;return!0}function k5(){for(var i=ha;i;)i=lr(i.nextSibling)}function ac(){ha=ba=null,Vt=!1}function Yy(i){rs===null?rs=[i]:rs.push(i)}var wv=x.ReactCurrentBatchConfig;function Wd(i,o,d){if(i=d.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(d._owner){if(d=d._owner,d){if(d.tag!==1)throw Error(n(309));var C=d.stateNode}if(!C)throw Error(n(147,i));var m=C,b=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(w){var N=m.refs;w===null?delete N[b]:N[b]=w},o._stringRef=b,o)}if(typeof i!="string")throw Error(n(284));if(!d._owner)throw Error(n(290,i))}return i}function kC(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function V5(i){var o=i._init;return o(i._payload)}function W5(i){function o(ee,L){if(i){var ne=ee.deletions;ne===null?(ee.deletions=[L],ee.flags|=16):ne.push(L)}}function d(ee,L){if(!i)return null;for(;L!==null;)o(ee,L),L=L.sibling;return null}function C(ee,L){for(ee=new Map;L!==null;)L.key!==null?ee.set(L.key,L):ee.set(L.index,L),L=L.sibling;return ee}function m(ee,L){return ee=br(ee,L),ee.index=0,ee.sibling=null,ee}function b(ee,L,ne){return ee.index=ne,i?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<L?(ee.flags|=2,L):ne):(ee.flags|=2,L)):(ee.flags|=1048576,L)}function w(ee){return i&&ee.alternate===null&&(ee.flags|=2),ee}function N(ee,L,ne,Ze){return L===null||L.tag!==6?(L=W0(ne,ee.mode,Ze),L.return=ee,L):(L=m(L,ne),L.return=ee,L)}function K(ee,L,ne,Ze){var He=ne.type;return He===Q?pe(ee,L,ne.props.children,Ze,ne.key):L!==null&&(L.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===T&&V5(He)===L.type)?(Ze=m(L,ne.props),Ze.ref=Wd(ee,L,ne),Ze.return=ee,Ze):(Ze=_C(ne.type,ne.key,ne.props,null,ee.mode,Ze),Ze.ref=Wd(ee,L,ne),Ze.return=ee,Ze)}function le(ee,L,ne,Ze){return L===null||L.tag!==4||L.stateNode.containerInfo!==ne.containerInfo||L.stateNode.implementation!==ne.implementation?(L=R0(ne,ee.mode,Ze),L.return=ee,L):(L=m(L,ne.children||[]),L.return=ee,L)}function pe(ee,L,ne,Ze,He){return L===null||L.tag!==7?(L=Wo(ne,ee.mode,Ze,He),L.return=ee,L):(L=m(L,ne),L.return=ee,L)}function he(ee,L,ne){if(typeof L=="string"&&L!==""||typeof L=="number")return L=W0(""+L,ee.mode,ne),L.return=ee,L;if(typeof L=="object"&&L!==null){switch(L.$$typeof){case M:return ne=_C(L.type,L.key,L.props,null,ee.mode,ne),ne.ref=Wd(ee,null,L),ne.return=ee,ne;case D:return L=R0(L,ee.mode,ne),L.return=ee,L;case T:var Ze=L._init;return he(ee,Ze(L._payload),ne)}if(as(L)||H(L))return L=Wo(L,ee.mode,ne,null),L.return=ee,L;kC(ee,L)}return null}function Ce(ee,L,ne,Ze){var He=L!==null?L.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return He!==null?null:N(ee,L,""+ne,Ze);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:return ne.key===He?K(ee,L,ne,Ze):null;case D:return ne.key===He?le(ee,L,ne,Ze):null;case T:return He=ne._init,Ce(ee,L,He(ne._payload),Ze)}if(as(ne)||H(ne))return He!==null?null:pe(ee,L,ne,Ze,null);kC(ee,ne)}return null}function ke(ee,L,ne,Ze,He){if(typeof Ze=="string"&&Ze!==""||typeof Ze=="number")return ee=ee.get(ne)||null,N(L,ee,""+Ze,He);if(typeof Ze=="object"&&Ze!==null){switch(Ze.$$typeof){case M:return ee=ee.get(Ze.key===null?ne:Ze.key)||null,K(L,ee,Ze,He);case D:return ee=ee.get(Ze.key===null?ne:Ze.key)||null,le(L,ee,Ze,He);case T:var Te=Ze._init;return ke(ee,L,ne,Te(Ze._payload),He)}if(as(Ze)||H(Ze))return ee=ee.get(ne)||null,pe(L,ee,Ze,He,null);kC(L,Ze)}return null}function Je(ee,L,ne,Ze){for(var He=null,Te=null,Fe=L,Qe=L=0,nn=null;Fe!==null&&Qe<ne.length;Qe++){Fe.index>Qe?(nn=Fe,Fe=null):nn=Fe.sibling;var gt=Ce(ee,Fe,ne[Qe],Ze);if(gt===null){Fe===null&&(Fe=nn);break}i&&Fe&&gt.alternate===null&&o(ee,Fe),L=b(gt,L,Qe),Te===null?He=gt:Te.sibling=gt,Te=gt,Fe=nn}if(Qe===ne.length)return d(ee,Fe),Vt&&fo(ee,Qe),He;if(Fe===null){for(;Qe<ne.length;Qe++)Fe=he(ee,ne[Qe],Ze),Fe!==null&&(L=b(Fe,L,Qe),Te===null?He=Fe:Te.sibling=Fe,Te=Fe);return Vt&&fo(ee,Qe),He}for(Fe=C(ee,Fe);Qe<ne.length;Qe++)nn=ke(Fe,ee,Qe,ne[Qe],Ze),nn!==null&&(i&&nn.alternate!==null&&Fe.delete(nn.key===null?Qe:nn.key),L=b(nn,L,Qe),Te===null?He=nn:Te.sibling=nn,Te=nn);return i&&Fe.forEach(function(hr){return o(ee,hr)}),Vt&&fo(ee,Qe),He}function xe(ee,L,ne,Ze){var He=H(ne);if(typeof He!="function")throw Error(n(150));if(ne=He.call(ne),ne==null)throw Error(n(151));for(var Te=He=null,Fe=L,Qe=L=0,nn=null,gt=ne.next();Fe!==null&&!gt.done;Qe++,gt=ne.next()){Fe.index>Qe?(nn=Fe,Fe=null):nn=Fe.sibling;var hr=Ce(ee,Fe,gt.value,Ze);if(hr===null){Fe===null&&(Fe=nn);break}i&&Fe&&hr.alternate===null&&o(ee,Fe),L=b(hr,L,Qe),Te===null?He=hr:Te.sibling=hr,Te=hr,Fe=nn}if(gt.done)return d(ee,Fe),Vt&&fo(ee,Qe),He;if(Fe===null){for(;!gt.done;Qe++,gt=ne.next())gt=he(ee,gt.value,Ze),gt!==null&&(L=b(gt,L,Qe),Te===null?He=gt:Te.sibling=gt,Te=gt);return Vt&&fo(ee,Qe),He}for(Fe=C(ee,Fe);!gt.done;Qe++,gt=ne.next())gt=ke(Fe,ee,Qe,gt.value,Ze),gt!==null&&(i&&gt.alternate!==null&&Fe.delete(gt.key===null?Qe:gt.key),L=b(gt,L,Qe),Te===null?He=gt:Te.sibling=gt,Te=gt);return i&&Fe.forEach(function(iX){return o(ee,iX)}),Vt&&fo(ee,Qe),He}function Dt(ee,L,ne,Ze){if(typeof ne=="object"&&ne!==null&&ne.type===Q&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:e:{for(var He=ne.key,Te=L;Te!==null;){if(Te.key===He){if(He=ne.type,He===Q){if(Te.tag===7){d(ee,Te.sibling),L=m(Te,ne.props.children),L.return=ee,ee=L;break e}}else if(Te.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===T&&V5(He)===Te.type){d(ee,Te.sibling),L=m(Te,ne.props),L.ref=Wd(ee,Te,ne),L.return=ee,ee=L;break e}d(ee,Te);break}else o(ee,Te);Te=Te.sibling}ne.type===Q?(L=Wo(ne.props.children,ee.mode,Ze,ne.key),L.return=ee,ee=L):(Ze=_C(ne.type,ne.key,ne.props,null,ee.mode,Ze),Ze.ref=Wd(ee,L,ne),Ze.return=ee,ee=Ze)}return w(ee);case D:e:{for(Te=ne.key;L!==null;){if(L.key===Te)if(L.tag===4&&L.stateNode.containerInfo===ne.containerInfo&&L.stateNode.implementation===ne.implementation){d(ee,L.sibling),L=m(L,ne.children||[]),L.return=ee,ee=L;break e}else{d(ee,L);break}else o(ee,L);L=L.sibling}L=R0(ne,ee.mode,Ze),L.return=ee,ee=L}return w(ee);case T:return Te=ne._init,Dt(ee,L,Te(ne._payload),Ze)}if(as(ne))return Je(ee,L,ne,Ze);if(H(ne))return xe(ee,L,ne,Ze);kC(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,L!==null&&L.tag===6?(d(ee,L.sibling),L=m(L,ne),L.return=ee,ee=L):(d(ee,L),L=W0(ne,ee.mode,Ze),L.return=ee,ee=L),w(ee)):d(ee,L)}return Dt}var sc=W5(!0),R5=W5(!1),VC=cr(null),WC=null,ic=null,Ty=null;function Fy(){Ty=ic=WC=null}function Ky(i){var o=VC.current;kt(VC),i._currentValue=o}function My(i,o,d){for(;i!==null;){var C=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,C!==null&&(C.childLanes|=o)):C!==null&&(C.childLanes&o)!==o&&(C.childLanes|=o),i===d)break;i=i.return}}function rc(i,o){WC=i,Ty=ic=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(_n=!0),i.firstContext=null)}function Na(i){var o=i._currentValue;if(Ty!==i)if(i={context:i,memoizedValue:o,next:null},ic===null){if(WC===null)throw Error(n(308));ic=i,WC.dependencies={lanes:0,firstContext:i}}else ic=ic.next=i;return o}var Zo=null;function Uy(i){Zo===null?Zo=[i]:Zo.push(i)}function v5(i,o,d,C){var m=o.interleaved;return m===null?(d.next=d,Uy(o)):(d.next=m.next,m.next=d),o.interleaved=d,Ii(i,C)}function Ii(i,o){i.lanes|=o;var d=i.alternate;for(d!==null&&(d.lanes|=o),d=i,i=i.return;i!==null;)i.childLanes|=o,d=i.alternate,d!==null&&(d.childLanes|=o),d=i,i=i.return;return d.tag===3?d.stateNode:null}var Ir=!1;function Dy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X5(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ui(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function ur(i,o,d){var C=i.updateQueue;if(C===null)return null;if(C=C.shared,(lt&2)!==0){var m=C.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),C.pending=o,Ii(i,d)}return m=C.interleaved,m===null?(o.next=o,Uy(C)):(o.next=m.next,m.next=o),C.interleaved=o,Ii(i,d)}function RC(i,o,d){if(o=o.updateQueue,o!==null&&(o=o.shared,(d&4194240)!==0)){var C=o.lanes;C&=i.pendingLanes,d|=C,o.lanes=d,sy(i,d)}}function J5(i,o){var d=i.updateQueue,C=i.alternate;if(C!==null&&(C=C.updateQueue,d===C)){var m=null,b=null;if(d=d.firstBaseUpdate,d!==null){do{var w={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?m=b=w:b=b.next=w,d=d.next}while(d!==null);b===null?m=b=o:b=b.next=o}else m=b=o;d={baseState:C.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:C.shared,effects:C.effects},i.updateQueue=d;return}i=d.lastBaseUpdate,i===null?d.firstBaseUpdate=o:i.next=o,d.lastBaseUpdate=o}function vC(i,o,d,C){var m=i.updateQueue;Ir=!1;var b=m.firstBaseUpdate,w=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var K=N,le=K.next;K.next=null,w===null?b=le:w.next=le,w=K;var pe=i.alternate;pe!==null&&(pe=pe.updateQueue,N=pe.lastBaseUpdate,N!==w&&(N===null?pe.firstBaseUpdate=le:N.next=le,pe.lastBaseUpdate=K))}if(b!==null){var he=m.baseState;w=0,pe=le=K=null,N=b;do{var Ce=N.lane,ke=N.eventTime;if((C&Ce)===Ce){pe!==null&&(pe=pe.next={eventTime:ke,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var Je=i,xe=N;switch(Ce=o,ke=d,xe.tag){case 1:if(Je=xe.payload,typeof Je=="function"){he=Je.call(ke,he,Ce);break e}he=Je;break e;case 3:Je.flags=Je.flags&-65537|128;case 0:if(Je=xe.payload,Ce=typeof Je=="function"?Je.call(ke,he,Ce):Je,Ce==null)break e;he=U({},he,Ce);break e;case 2:Ir=!0}}N.callback!==null&&N.lane!==0&&(i.flags|=64,Ce=m.effects,Ce===null?m.effects=[N]:Ce.push(N))}else ke={eventTime:ke,lane:Ce,tag:N.tag,payload:N.payload,callback:N.callback,next:null},pe===null?(le=pe=ke,K=he):pe=pe.next=ke,w|=Ce;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;Ce=N,N=Ce.next,Ce.next=null,m.lastBaseUpdate=Ce,m.shared.pending=null}}while(!0);if(pe===null&&(K=he),m.baseState=K,m.firstBaseUpdate=le,m.lastBaseUpdate=pe,o=m.shared.interleaved,o!==null){m=o;do w|=m.lane,m=m.next;while(m!==o)}else b===null&&(m.shared.lanes=0);So|=w,i.lanes=w,i.memoizedState=he}}function E5(i,o,d){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var C=i[o],m=C.callback;if(m!==null){if(C.callback=null,C=d,typeof m!="function")throw Error(n(191,m));m.call(C)}}}var Rd={},vs=cr(Rd),vd=cr(Rd),Xd=cr(Rd);function Go(i){if(i===Rd)throw Error(n(174));return i}function zy(i,o){switch(Gt(Xd,o),Gt(vd,i),Gt(vs,Rd),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:po(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=po(o,i)}kt(vs),Gt(vs,o)}function oc(){kt(vs),kt(vd),kt(Xd)}function x5(i){Go(Xd.current);var o=Go(vs.current),d=po(o,i.type);o!==d&&(Gt(vd,i),Gt(vs,d))}function Ly(i){vd.current===i&&(kt(vs),kt(vd))}var vt=cr(0);function XC(i){for(var o=i;o!==null;){if(o.tag===13){var d=o.memoizedState;if(d!==null&&(d=d.dehydrated,d===null||d.data==="$?"||d.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Qy=[];function Py(){for(var i=0;i<Qy.length;i++)Qy[i]._workInProgressVersionPrimary=null;Qy.length=0}var JC=x.ReactCurrentDispatcher,Oy=x.ReactCurrentBatchConfig,Bo=0,Xt=null,_t=null,en=null,EC=!1,Jd=!1,Ed=0,kv=0;function Zn(){throw Error(n(321))}function jy(i,o){if(o===null)return!1;for(var d=0;d<o.length&&d<i.length;d++)if(!is(i[d],o[d]))return!1;return!0}function _y(i,o,d,C,m,b){if(Bo=b,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,JC.current=i===null||i.memoizedState===null?vv:Xv,i=d(C,m),Jd){b=0;do{if(Jd=!1,Ed=0,25<=b)throw Error(n(301));b+=1,en=_t=null,o.updateQueue=null,JC.current=Jv,i=d(C,m)}while(Jd)}if(JC.current=HC,o=_t!==null&&_t.next!==null,Bo=0,en=_t=Xt=null,EC=!1,o)throw Error(n(300));return i}function qy(){var i=Ed!==0;return Ed=0,i}function Xs(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return en===null?Xt.memoizedState=en=i:en=en.next=i,en}function Ha(){if(_t===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=_t.next;var o=en===null?Xt.memoizedState:en.next;if(o!==null)en=o,_t=i;else{if(i===null)throw Error(n(310));_t=i,i={memoizedState:_t.memoizedState,baseState:_t.baseState,baseQueue:_t.baseQueue,queue:_t.queue,next:null},en===null?Xt.memoizedState=en=i:en=en.next=i}return en}function xd(i,o){return typeof o=="function"?o(i):o}function $y(i){var o=Ha(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var C=_t,m=C.baseQueue,b=d.pending;if(b!==null){if(m!==null){var w=m.next;m.next=b.next,b.next=w}C.baseQueue=m=b,d.pending=null}if(m!==null){b=m.next,C=C.baseState;var N=w=null,K=null,le=b;do{var pe=le.lane;if((Bo&pe)===pe)K!==null&&(K=K.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),C=le.hasEagerState?le.eagerState:i(C,le.action);else{var he={lane:pe,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};K===null?(N=K=he,w=C):K=K.next=he,Xt.lanes|=pe,So|=pe}le=le.next}while(le!==null&&le!==b);K===null?w=C:K.next=N,is(C,o.memoizedState)||(_n=!0),o.memoizedState=C,o.baseState=w,o.baseQueue=K,d.lastRenderedState=C}if(i=d.interleaved,i!==null){m=i;do b=m.lane,Xt.lanes|=b,So|=b,m=m.next;while(m!==i)}else m===null&&(d.lanes=0);return[o.memoizedState,d.dispatch]}function e0(i){var o=Ha(),d=o.queue;if(d===null)throw Error(n(311));d.lastRenderedReducer=i;var C=d.dispatch,m=d.pending,b=o.memoizedState;if(m!==null){d.pending=null;var w=m=m.next;do b=i(b,w.action),w=w.next;while(w!==m);is(b,o.memoizedState)||(_n=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),d.lastRenderedState=b}return[b,C]}function N5(){}function H5(i,o){var d=Xt,C=Ha(),m=o(),b=!is(C.memoizedState,m);if(b&&(C.memoizedState=m,_n=!0),C=C.queue,t0(F5.bind(null,d,C,i),[i]),C.getSnapshot!==o||b||en!==null&&en.memoizedState.tag&1){if(d.flags|=2048,Nd(9,T5.bind(null,d,C,m,o),void 0,null),tn===null)throw Error(n(349));(Bo&30)!==0||Y5(d,o,m)}return m}function Y5(i,o,d){i.flags|=16384,i={getSnapshot:o,value:d},o=Xt.updateQueue,o===null?(o={lastEffect:null,stores:null},Xt.updateQueue=o,o.stores=[i]):(d=o.stores,d===null?o.stores=[i]:d.push(i))}function T5(i,o,d,C){o.value=d,o.getSnapshot=C,K5(o)&&M5(i)}function F5(i,o,d){return d(function(){K5(o)&&M5(i)})}function K5(i){var o=i.getSnapshot;i=i.value;try{var d=o();return!is(i,d)}catch{return!0}}function M5(i){var o=Ii(i,1);o!==null&&gs(o,i,1,-1)}function U5(i){var o=Xs();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:xd,lastRenderedState:i},o.queue=i,i=i.dispatch=Rv.bind(null,Xt,i),[o.memoizedState,i]}function Nd(i,o,d,C){return i={tag:i,create:o,destroy:d,deps:C,next:null},o=Xt.updateQueue,o===null?(o={lastEffect:null,stores:null},Xt.updateQueue=o,o.lastEffect=i.next=i):(d=o.lastEffect,d===null?o.lastEffect=i.next=i:(C=d.next,d.next=i,i.next=C,o.lastEffect=i)),i}function D5(){return Ha().memoizedState}function xC(i,o,d,C){var m=Xs();Xt.flags|=i,m.memoizedState=Nd(1|o,d,void 0,C===void 0?null:C)}function NC(i,o,d,C){var m=Ha();C=C===void 0?null:C;var b=void 0;if(_t!==null){var w=_t.memoizedState;if(b=w.destroy,C!==null&&jy(C,w.deps)){m.memoizedState=Nd(o,d,b,C);return}}Xt.flags|=i,m.memoizedState=Nd(1|o,d,b,C)}function z5(i,o){return xC(8390656,8,i,o)}function t0(i,o){return NC(2048,8,i,o)}function L5(i,o){return NC(4,2,i,o)}function Q5(i,o){return NC(4,4,i,o)}function P5(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function O5(i,o,d){return d=d!=null?d.concat([i]):null,NC(4,4,P5.bind(null,o,i),d)}function n0(){}function j5(i,o){var d=Ha();o=o===void 0?null:o;var C=d.memoizedState;return C!==null&&o!==null&&jy(o,C[1])?C[0]:(d.memoizedState=[i,o],i)}function _5(i,o){var d=Ha();o=o===void 0?null:o;var C=d.memoizedState;return C!==null&&o!==null&&jy(o,C[1])?C[0]:(i=i(),d.memoizedState=[i,o],i)}function q5(i,o,d){return(Bo&21)===0?(i.baseState&&(i.baseState=!1,_n=!0),i.memoizedState=d):(is(d,o)||(d=V2(),Xt.lanes|=d,So|=d,i.baseState=!0),o)}function Vv(i,o){var d=yt;yt=d!==0&&4>d?d:4,i(!0);var C=Oy.transition;Oy.transition={};try{i(!1),o()}finally{yt=d,Oy.transition=C}}function $5(){return Ha().memoizedState}function Wv(i,o,d){var C=Ar(i);if(d={lane:C,action:d,hasEagerState:!1,eagerState:null,next:null},eZ(i))tZ(o,d);else if(d=v5(i,o,d,C),d!==null){var m=xn();gs(d,i,C,m),nZ(d,o,C)}}function Rv(i,o,d){var C=Ar(i),m={lane:C,action:d,hasEagerState:!1,eagerState:null,next:null};if(eZ(i))tZ(o,m);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var w=o.lastRenderedState,N=b(w,d);if(m.hasEagerState=!0,m.eagerState=N,is(N,w)){var K=o.interleaved;K===null?(m.next=m,Uy(o)):(m.next=K.next,K.next=m),o.interleaved=m;return}}catch{}finally{}d=v5(i,o,m,C),d!==null&&(m=xn(),gs(d,i,C,m),nZ(d,o,C))}}function eZ(i){var o=i.alternate;return i===Xt||o!==null&&o===Xt}function tZ(i,o){Jd=EC=!0;var d=i.pending;d===null?o.next=o:(o.next=d.next,d.next=o),i.pending=o}function nZ(i,o,d){if((d&4194240)!==0){var C=o.lanes;C&=i.pendingLanes,d|=C,o.lanes=d,sy(i,d)}}var HC={readContext:Na,useCallback:Zn,useContext:Zn,useEffect:Zn,useImperativeHandle:Zn,useInsertionEffect:Zn,useLayoutEffect:Zn,useMemo:Zn,useReducer:Zn,useRef:Zn,useState:Zn,useDebugValue:Zn,useDeferredValue:Zn,useTransition:Zn,useMutableSource:Zn,useSyncExternalStore:Zn,useId:Zn,unstable_isNewReconciler:!1},vv={readContext:Na,useCallback:function(i,o){return Xs().memoizedState=[i,o===void 0?null:o],i},useContext:Na,useEffect:z5,useImperativeHandle:function(i,o,d){return d=d!=null?d.concat([i]):null,xC(4194308,4,P5.bind(null,o,i),d)},useLayoutEffect:function(i,o){return xC(4194308,4,i,o)},useInsertionEffect:function(i,o){return xC(4,2,i,o)},useMemo:function(i,o){var d=Xs();return o=o===void 0?null:o,i=i(),d.memoizedState=[i,o],i},useReducer:function(i,o,d){var C=Xs();return o=d!==void 0?d(o):o,C.memoizedState=C.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},C.queue=i,i=i.dispatch=Wv.bind(null,Xt,i),[C.memoizedState,i]},useRef:function(i){var o=Xs();return i={current:i},o.memoizedState=i},useState:U5,useDebugValue:n0,useDeferredValue:function(i){return Xs().memoizedState=i},useTransition:function(){var i=U5(!1),o=i[0];return i=Vv.bind(null,i[1]),Xs().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,d){var C=Xt,m=Xs();if(Vt){if(d===void 0)throw Error(n(407));d=d()}else{if(d=o(),tn===null)throw Error(n(349));(Bo&30)!==0||Y5(C,o,d)}m.memoizedState=d;var b={value:d,getSnapshot:o};return m.queue=b,z5(F5.bind(null,C,b,i),[i]),C.flags|=2048,Nd(9,T5.bind(null,C,b,d,o),void 0,null),d},useId:function(){var i=Xs(),o=tn.identifierPrefix;if(Vt){var d=di,C=gi;d=(C&~(1<<32-ss(C)-1)).toString(32)+d,o=":"+o+"R"+d,d=Ed++,0<d&&(o+="H"+d.toString(32)),o+=":"}else d=kv++,o=":"+o+"r"+d.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},Xv={readContext:Na,useCallback:j5,useContext:Na,useEffect:t0,useImperativeHandle:O5,useInsertionEffect:L5,useLayoutEffect:Q5,useMemo:_5,useReducer:$y,useRef:D5,useState:function(){return $y(xd)},useDebugValue:n0,useDeferredValue:function(i){var o=Ha();return q5(o,_t.memoizedState,i)},useTransition:function(){var i=$y(xd)[0],o=Ha().memoizedState;return[i,o]},useMutableSource:N5,useSyncExternalStore:H5,useId:$5,unstable_isNewReconciler:!1},Jv={readContext:Na,useCallback:j5,useContext:Na,useEffect:t0,useImperativeHandle:O5,useInsertionEffect:L5,useLayoutEffect:Q5,useMemo:_5,useReducer:e0,useRef:D5,useState:function(){return e0(xd)},useDebugValue:n0,useDeferredValue:function(i){var o=Ha();return _t===null?o.memoizedState=i:q5(o,_t.memoizedState,i)},useTransition:function(){var i=e0(xd)[0],o=Ha().memoizedState;return[i,o]},useMutableSource:N5,useSyncExternalStore:H5,useId:$5,unstable_isNewReconciler:!1};function os(i,o){if(i&&i.defaultProps){o=U({},o),i=i.defaultProps;for(var d in i)o[d]===void 0&&(o[d]=i[d]);return o}return o}function a0(i,o,d,C){o=i.memoizedState,d=d(C,o),d=d==null?o:U({},o,d),i.memoizedState=d,i.lanes===0&&(i.updateQueue.baseState=d)}var YC={isMounted:function(i){return(i=i._reactInternals)?Ao(i)===i:!1},enqueueSetState:function(i,o,d){i=i._reactInternals;var C=xn(),m=Ar(i),b=ui(C,m);b.payload=o,d!=null&&(b.callback=d),o=ur(i,b,m),o!==null&&(gs(o,i,m,C),RC(o,i,m))},enqueueReplaceState:function(i,o,d){i=i._reactInternals;var C=xn(),m=Ar(i),b=ui(C,m);b.tag=1,b.payload=o,d!=null&&(b.callback=d),o=ur(i,b,m),o!==null&&(gs(o,i,m,C),RC(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var d=xn(),C=Ar(i),m=ui(d,C);m.tag=2,o!=null&&(m.callback=o),o=ur(i,m,C),o!==null&&(gs(o,i,C,d),RC(o,i,C))}};function aZ(i,o,d,C,m,b,w){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(C,b,w):o.prototype&&o.prototype.isPureReactComponent?!Zd(d,C)||!Zd(m,b):!0}function sZ(i,o,d){var C=!1,m=gr,b=o.contextType;return typeof b=="object"&&b!==null?b=Na(b):(m=jn(o)?bo:fn.current,C=o.contextTypes,b=(C=C!=null)?ec(i,m):gr),o=new o(d,b),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=YC,i.stateNode=o,o._reactInternals=i,C&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=b),o}function iZ(i,o,d,C){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(d,C),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(d,C),o.state!==i&&YC.enqueueReplaceState(o,o.state,null)}function s0(i,o,d,C){var m=i.stateNode;m.props=d,m.state=i.memoizedState,m.refs={},Dy(i);var b=o.contextType;typeof b=="object"&&b!==null?m.context=Na(b):(b=jn(o)?bo:fn.current,m.context=ec(i,b)),m.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(a0(i,o,b,d),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&YC.enqueueReplaceState(m,m.state,null),vC(i,d,m,C),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function lc(i,o){try{var d="",C=o;do d+=ue(C),C=C.return;while(C);var m=d}catch(b){m=`
Error generating stack: `+b.message+`
`+b.stack}return{value:i,source:o,stack:m,digest:null}}function i0(i,o,d){return{value:i,source:null,stack:d??null,digest:o??null}}function r0(i,o){try{console.error(o.value)}catch(d){setTimeout(function(){throw d})}}var Ev=typeof WeakMap=="function"?WeakMap:Map;function rZ(i,o,d){d=ui(-1,d),d.tag=3,d.payload={element:null};var C=o.value;return d.callback=function(){zC||(zC=!0,f0=C),r0(i,o)},d}function oZ(i,o,d){d=ui(-1,d),d.tag=3;var C=i.type.getDerivedStateFromError;if(typeof C=="function"){var m=o.value;d.payload=function(){return C(m)},d.callback=function(){r0(i,o)}}var b=i.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){r0(i,o),typeof C!="function"&&(pr===null?pr=new Set([this]):pr.add(this));var w=o.stack;this.componentDidCatch(o.value,{componentStack:w!==null?w:""})}),d}function lZ(i,o,d){var C=i.pingCache;if(C===null){C=i.pingCache=new Ev;var m=new Set;C.set(o,m)}else m=C.get(o),m===void 0&&(m=new Set,C.set(o,m));m.has(d)||(m.add(d),i=Pv.bind(null,i,o,d),o.then(i,i))}function cZ(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function gZ(i,o,d,C,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:(o=ui(-1,1),o.tag=2,ur(d,o,1))),d.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var xv=x.ReactCurrentOwner,_n=!1;function En(i,o,d,C){o.child=i===null?R5(o,null,d,C):sc(o,i.child,d,C)}function dZ(i,o,d,C,m){d=d.render;var b=o.ref;return rc(o,m),C=_y(i,o,d,C,b,m),d=qy(),i!==null&&!_n?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ci(i,o,m)):(Vt&&d&&Ey(o),o.flags|=1,En(i,o,C,m),o.child)}function IZ(i,o,d,C,m){if(i===null){var b=d.type;return typeof b=="function"&&!V0(b)&&b.defaultProps===void 0&&d.compare===null&&d.defaultProps===void 0?(o.tag=15,o.type=b,uZ(i,o,b,C,m)):(i=_C(d.type,null,C,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,(i.lanes&m)===0){var w=b.memoizedProps;if(d=d.compare,d=d!==null?d:Zd,d(w,C)&&i.ref===o.ref)return Ci(i,o,m)}return o.flags|=1,i=br(b,C),i.ref=o.ref,i.return=o,o.child=i}function uZ(i,o,d,C,m){if(i!==null){var b=i.memoizedProps;if(Zd(b,C)&&i.ref===o.ref)if(_n=!1,o.pendingProps=C=b,(i.lanes&m)!==0)(i.flags&131072)!==0&&(_n=!0);else return o.lanes=i.lanes,Ci(i,o,m)}return o0(i,o,d,C,m)}function CZ(i,o,d){var C=o.pendingProps,m=C.children,b=i!==null?i.memoizedState:null;if(C.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(gc,fa),fa|=d;else{if((d&1073741824)===0)return i=b!==null?b.baseLanes|d:d,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Gt(gc,fa),fa|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=b!==null?b.baseLanes:d,Gt(gc,fa),fa|=C}else b!==null?(C=b.baseLanes|d,o.memoizedState=null):C=d,Gt(gc,fa),fa|=C;return En(i,o,m,d),o.child}function pZ(i,o){var d=o.ref;(i===null&&d!==null||i!==null&&i.ref!==d)&&(o.flags|=512,o.flags|=2097152)}function o0(i,o,d,C,m){var b=jn(d)?bo:fn.current;return b=ec(o,b),rc(o,m),d=_y(i,o,d,C,b,m),C=qy(),i!==null&&!_n?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Ci(i,o,m)):(Vt&&C&&Ey(o),o.flags|=1,En(i,o,d,m),o.child)}function mZ(i,o,d,C,m){if(jn(d)){var b=!0;ZC(o)}else b=!1;if(rc(o,m),o.stateNode===null)FC(i,o),sZ(o,d,C),s0(o,d,C,m),C=!0;else if(i===null){var w=o.stateNode,N=o.memoizedProps;w.props=N;var K=w.context,le=d.contextType;typeof le=="object"&&le!==null?le=Na(le):(le=jn(d)?bo:fn.current,le=ec(o,le));var pe=d.getDerivedStateFromProps,he=typeof pe=="function"||typeof w.getSnapshotBeforeUpdate=="function";he||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==C||K!==le)&&iZ(o,w,C,le),Ir=!1;var Ce=o.memoizedState;w.state=Ce,vC(o,C,w,m),K=o.memoizedState,N!==C||Ce!==K||On.current||Ir?(typeof pe=="function"&&(a0(o,d,pe,C),K=o.memoizedState),(N=Ir||aZ(o,d,N,C,Ce,K,le))?(he||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(o.flags|=4194308)):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=C,o.memoizedState=K),w.props=C,w.state=K,w.context=le,C=N):(typeof w.componentDidMount=="function"&&(o.flags|=4194308),C=!1)}else{w=o.stateNode,X5(i,o),N=o.memoizedProps,le=o.type===o.elementType?N:os(o.type,N),w.props=le,he=o.pendingProps,Ce=w.context,K=d.contextType,typeof K=="object"&&K!==null?K=Na(K):(K=jn(d)?bo:fn.current,K=ec(o,K));var ke=d.getDerivedStateFromProps;(pe=typeof ke=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(N!==he||Ce!==K)&&iZ(o,w,C,K),Ir=!1,Ce=o.memoizedState,w.state=Ce,vC(o,C,w,m);var Je=o.memoizedState;N!==he||Ce!==Je||On.current||Ir?(typeof ke=="function"&&(a0(o,d,ke,C),Je=o.memoizedState),(le=Ir||aZ(o,d,le,C,Ce,Je,K)||!1)?(pe||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(C,Je,K),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(C,Je,K)),typeof w.componentDidUpdate=="function"&&(o.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof w.componentDidUpdate!="function"||N===i.memoizedProps&&Ce===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Ce===i.memoizedState||(o.flags|=1024),o.memoizedProps=C,o.memoizedState=Je),w.props=C,w.state=Je,w.context=K,C=le):(typeof w.componentDidUpdate!="function"||N===i.memoizedProps&&Ce===i.memoizedState||(o.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||N===i.memoizedProps&&Ce===i.memoizedState||(o.flags|=1024),C=!1)}return l0(i,o,d,C,b,m)}function l0(i,o,d,C,m,b){pZ(i,o);var w=(o.flags&128)!==0;if(!C&&!w)return m&&f5(o,d,!1),Ci(i,o,b);C=o.stateNode,xv.current=o;var N=w&&typeof d.getDerivedStateFromError!="function"?null:C.render();return o.flags|=1,i!==null&&w?(o.child=sc(o,i.child,null,b),o.child=sc(o,null,N,b)):En(i,o,N,b),o.memoizedState=C.state,m&&f5(o,d,!0),o.child}function AZ(i){var o=i.stateNode;o.pendingContext?b5(i,o.pendingContext,o.pendingContext!==o.context):o.context&&b5(i,o.context,!1),zy(i,o.containerInfo)}function yZ(i,o,d,C,m){return ac(),Yy(m),o.flags|=256,En(i,o,d,C),o.child}var c0={dehydrated:null,treeContext:null,retryLane:0};function g0(i){return{baseLanes:i,cachePool:null,transitions:null}}function bZ(i,o,d){var C=o.pendingProps,m=vt.current,b=!1,w=(o.flags&128)!==0,N;if((N=w)||(N=i!==null&&i.memoizedState===null?!1:(m&2)!==0),N?(b=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Gt(vt,m&1),i===null)return Hy(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(w=C.children,i=C.fallback,b?(C=o.mode,b=o.child,w={mode:"hidden",children:w},(C&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=w):b=qC(w,C,0,null),i=Wo(i,C,d,null),b.return=o,i.return=o,b.sibling=i,o.child=b,o.child.memoizedState=g0(d),o.memoizedState=c0,i):d0(o,w));if(m=i.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return Nv(i,o,w,C,N,m,d);if(b){b=C.fallback,w=o.mode,m=i.child,N=m.sibling;var K={mode:"hidden",children:C.children};return(w&1)===0&&o.child!==m?(C=o.child,C.childLanes=0,C.pendingProps=K,o.deletions=null):(C=br(m,K),C.subtreeFlags=m.subtreeFlags&14680064),N!==null?b=br(N,b):(b=Wo(b,w,d,null),b.flags|=2),b.return=o,C.return=o,C.sibling=b,o.child=C,C=b,b=o.child,w=i.child.memoizedState,w=w===null?g0(d):{baseLanes:w.baseLanes|d,cachePool:null,transitions:w.transitions},b.memoizedState=w,b.childLanes=i.childLanes&~d,o.memoizedState=c0,C}return b=i.child,i=b.sibling,C=br(b,{mode:"visible",children:C.children}),(o.mode&1)===0&&(C.lanes=d),C.return=o,C.sibling=null,i!==null&&(d=o.deletions,d===null?(o.deletions=[i],o.flags|=16):d.push(i)),o.child=C,o.memoizedState=null,C}function d0(i,o){return o=qC({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function TC(i,o,d,C){return C!==null&&Yy(C),sc(o,i.child,null,d),i=d0(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function Nv(i,o,d,C,m,b,w){if(d)return o.flags&256?(o.flags&=-257,C=i0(Error(n(422))),TC(i,o,w,C)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(b=C.fallback,m=o.mode,C=qC({mode:"visible",children:C.children},m,0,null),b=Wo(b,m,w,null),b.flags|=2,C.return=o,b.return=o,C.sibling=b,o.child=C,(o.mode&1)!==0&&sc(o,i.child,null,w),o.child.memoizedState=g0(w),o.memoizedState=c0,b);if((o.mode&1)===0)return TC(i,o,w,null);if(m.data==="$!"){if(C=m.nextSibling&&m.nextSibling.dataset,C)var N=C.dgst;return C=N,b=Error(n(419)),C=i0(b,C,void 0),TC(i,o,w,C)}if(N=(w&i.childLanes)!==0,_n||N){if(C=tn,C!==null){switch(w&-w){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(C.suspendedLanes|w))!==0?0:m,m!==0&&m!==b.retryLane&&(b.retryLane=m,Ii(i,m),gs(C,i,m,-1))}return k0(),C=i0(Error(n(421))),TC(i,o,w,C)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=Ov.bind(null,i),m._reactRetry=o,null):(i=b.treeContext,ha=lr(m.nextSibling),ba=o,Vt=!0,rs=null,i!==null&&(Ea[xa++]=gi,Ea[xa++]=di,Ea[xa++]=ho,gi=i.id,di=i.overflow,ho=o),o=d0(o,C.children),o.flags|=4096,o)}function hZ(i,o,d){i.lanes|=o;var C=i.alternate;C!==null&&(C.lanes|=o),My(i.return,o,d)}function I0(i,o,d,C,m){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:C,tail:d,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=C,b.tail=d,b.tailMode=m)}function fZ(i,o,d){var C=o.pendingProps,m=C.revealOrder,b=C.tail;if(En(i,o,C.children,d),C=vt.current,(C&2)!==0)C=C&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&hZ(i,d,o);else if(i.tag===19)hZ(i,d,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}C&=1}if(Gt(vt,C),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(d=o.child,m=null;d!==null;)i=d.alternate,i!==null&&XC(i)===null&&(m=d),d=d.sibling;d=m,d===null?(m=o.child,o.child=null):(m=d.sibling,d.sibling=null),I0(o,!1,m,d,b);break;case"backwards":for(d=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&XC(i)===null){o.child=m;break}i=m.sibling,m.sibling=d,d=m,m=i}I0(o,!0,d,null,b);break;case"together":I0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function FC(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Ci(i,o,d){if(i!==null&&(o.dependencies=i.dependencies),So|=o.lanes,(d&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,d=br(i,i.pendingProps),o.child=d,d.return=o;i.sibling!==null;)i=i.sibling,d=d.sibling=br(i,i.pendingProps),d.return=o;d.sibling=null}return o.child}function Hv(i,o,d){switch(o.tag){case 3:AZ(o),ac();break;case 5:x5(o);break;case 1:jn(o.type)&&ZC(o);break;case 4:zy(o,o.stateNode.containerInfo);break;case 10:var C=o.type._context,m=o.memoizedProps.value;Gt(VC,C._currentValue),C._currentValue=m;break;case 13:if(C=o.memoizedState,C!==null)return C.dehydrated!==null?(Gt(vt,vt.current&1),o.flags|=128,null):(d&o.child.childLanes)!==0?bZ(i,o,d):(Gt(vt,vt.current&1),i=Ci(i,o,d),i!==null?i.sibling:null);Gt(vt,vt.current&1);break;case 19:if(C=(d&o.childLanes)!==0,(i.flags&128)!==0){if(C)return fZ(i,o,d);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Gt(vt,vt.current),C)break;return null;case 22:case 23:return o.lanes=0,CZ(i,o,d)}return Ci(i,o,d)}var ZZ,u0,GZ,BZ;ZZ=function(i,o){for(var d=o.child;d!==null;){if(d.tag===5||d.tag===6)i.appendChild(d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===o)break;for(;d.sibling===null;){if(d.return===null||d.return===o)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},u0=function(){},GZ=function(i,o,d,C){var m=i.memoizedProps;if(m!==C){i=o.stateNode,Go(vs.current);var b=null;switch(d){case"input":m=xt(i,m),C=xt(i,C),b=[];break;case"select":m=U({},m,{value:void 0}),C=U({},C,{value:void 0}),b=[];break;case"textarea":m=Co(i,m),C=Co(i,C),b=[];break;default:typeof m.onClick!="function"&&typeof C.onClick=="function"&&(i.onclick=bC)}$(d,C);var w;d=null;for(le in m)if(!C.hasOwnProperty(le)&&m.hasOwnProperty(le)&&m[le]!=null)if(le==="style"){var N=m[le];for(w in N)N.hasOwnProperty(w)&&(d||(d={}),d[w]="")}else le!=="dangerouslySetInnerHTML"&&le!=="children"&&le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&le!=="autoFocus"&&(s.hasOwnProperty(le)?b||(b=[]):(b=b||[]).push(le,null));for(le in C){var K=C[le];if(N=m!=null?m[le]:void 0,C.hasOwnProperty(le)&&K!==N&&(K!=null||N!=null))if(le==="style")if(N){for(w in N)!N.hasOwnProperty(w)||K&&K.hasOwnProperty(w)||(d||(d={}),d[w]="");for(w in K)K.hasOwnProperty(w)&&N[w]!==K[w]&&(d||(d={}),d[w]=K[w])}else d||(b||(b=[]),b.push(le,d)),d=K;else le==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,N=N?N.__html:void 0,K!=null&&N!==K&&(b=b||[]).push(le,K)):le==="children"?typeof K!="string"&&typeof K!="number"||(b=b||[]).push(le,""+K):le!=="suppressContentEditableWarning"&&le!=="suppressHydrationWarning"&&(s.hasOwnProperty(le)?(K!=null&&le==="onScroll"&&wt("scroll",i),b||N===K||(b=[])):(b=b||[]).push(le,K))}d&&(b=b||[]).push("style",d);var le=b;(o.updateQueue=le)&&(o.flags|=4)}},BZ=function(i,o,d,C){d!==C&&(o.flags|=4)};function Hd(i,o){if(!Vt)switch(i.tailMode){case"hidden":o=i.tail;for(var d=null;o!==null;)o.alternate!==null&&(d=o),o=o.sibling;d===null?i.tail=null:d.sibling=null;break;case"collapsed":d=i.tail;for(var C=null;d!==null;)d.alternate!==null&&(C=d),d=d.sibling;C===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:C.sibling=null}}function Gn(i){var o=i.alternate!==null&&i.alternate.child===i.child,d=0,C=0;if(o)for(var m=i.child;m!==null;)d|=m.lanes|m.childLanes,C|=m.subtreeFlags&14680064,C|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)d|=m.lanes|m.childLanes,C|=m.subtreeFlags,C|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=C,i.childLanes=d,o}function Yv(i,o,d){var C=o.pendingProps;switch(xy(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Gn(o),null;case 1:return jn(o.type)&&fC(),Gn(o),null;case 3:return C=o.stateNode,oc(),kt(On),kt(fn),Py(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(i===null||i.child===null)&&(wC(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,rs!==null&&(B0(rs),rs=null))),u0(i,o),Gn(o),null;case 5:Ly(o);var m=Go(Xd.current);if(d=o.type,i!==null&&o.stateNode!=null)GZ(i,o,d,C,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!C){if(o.stateNode===null)throw Error(n(166));return Gn(o),null}if(i=Go(vs.current),wC(o)){C=o.stateNode,d=o.type;var b=o.memoizedProps;switch(C[Rs]=o,C[kd]=b,i=(o.mode&1)!==0,d){case"dialog":wt("cancel",C),wt("close",C);break;case"iframe":case"object":case"embed":wt("load",C);break;case"video":case"audio":for(m=0;m<Bd.length;m++)wt(Bd[m],C);break;case"source":wt("error",C);break;case"img":case"image":case"link":wt("error",C),wt("load",C);break;case"details":wt("toggle",C);break;case"input":hn(C,b),wt("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!b.multiple},wt("invalid",C);break;case"textarea":tr(C,b),wt("invalid",C)}$(d,b),m=null;for(var w in b)if(b.hasOwnProperty(w)){var N=b[w];w==="children"?typeof N=="string"?C.textContent!==N&&(b.suppressHydrationWarning!==!0&&yC(C.textContent,N,i),m=["children",N]):typeof N=="number"&&C.textContent!==""+N&&(b.suppressHydrationWarning!==!0&&yC(C.textContent,N,i),m=["children",""+N]):s.hasOwnProperty(w)&&N!=null&&w==="onScroll"&&wt("scroll",C)}switch(d){case"input":Pt(C),Ul(C,b,!0);break;case"textarea":Pt(C),Xn(C);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(C.onclick=bC)}C=m,o.updateQueue=C,C!==null&&(o.flags|=4)}else{w=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=oi(d)),i==="http://www.w3.org/1999/xhtml"?d==="script"?(i=w.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof C.is=="string"?i=w.createElement(d,{is:C.is}):(i=w.createElement(d),d==="select"&&(w=i,C.multiple?w.multiple=!0:C.size&&(w.size=C.size))):i=w.createElementNS(i,d),i[Rs]=o,i[kd]=C,ZZ(i,o,!1,!1),o.stateNode=i;e:{switch(w=fe(d,C),d){case"dialog":wt("cancel",i),wt("close",i),m=C;break;case"iframe":case"object":case"embed":wt("load",i),m=C;break;case"video":case"audio":for(m=0;m<Bd.length;m++)wt(Bd[m],i);m=C;break;case"source":wt("error",i),m=C;break;case"img":case"image":case"link":wt("error",i),wt("load",i),m=C;break;case"details":wt("toggle",i),m=C;break;case"input":hn(i,C),m=xt(i,C),wt("invalid",i);break;case"option":m=C;break;case"select":i._wrapperState={wasMultiple:!!C.multiple},m=U({},C,{value:void 0}),wt("invalid",i);break;case"textarea":tr(i,C),m=Co(i,C),wt("invalid",i);break;default:m=C}$(d,m),N=m;for(b in N)if(N.hasOwnProperty(b)){var K=N[b];b==="style"?P(i,K):b==="dangerouslySetInnerHTML"?(K=K?K.__html:void 0,K!=null&&Dl(i,K)):b==="children"?typeof K=="string"?(d!=="textarea"||K!=="")&&k(i,K):typeof K=="number"&&k(i,""+K):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?K!=null&&b==="onScroll"&&wt("scroll",i):K!=null&&R(i,b,K,w))}switch(d){case"input":Pt(i),Ul(i,C,!1);break;case"textarea":Pt(i),Xn(i);break;case"option":C.value!=null&&i.setAttribute("value",""+Me(C.value));break;case"select":i.multiple=!!C.multiple,b=C.value,b!=null?Aa(i,!!C.multiple,b,!1):C.defaultValue!=null&&Aa(i,!!C.multiple,C.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=bC)}switch(d){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Gn(o),null;case 6:if(i&&o.stateNode!=null)BZ(i,o,i.memoizedProps,C);else{if(typeof C!="string"&&o.stateNode===null)throw Error(n(166));if(d=Go(Xd.current),Go(vs.current),wC(o)){if(C=o.stateNode,d=o.memoizedProps,C[Rs]=o,(b=C.nodeValue!==d)&&(i=ba,i!==null))switch(i.tag){case 3:yC(C.nodeValue,d,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&yC(C.nodeValue,d,(i.mode&1)!==0)}b&&(o.flags|=4)}else C=(d.nodeType===9?d:d.ownerDocument).createTextNode(C),C[Rs]=o,o.stateNode=C}return Gn(o),null;case 13:if(kt(vt),C=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Vt&&ha!==null&&(o.mode&1)!==0&&(o.flags&128)===0)k5(),ac(),o.flags|=98560,b=!1;else if(b=wC(o),C!==null&&C.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Rs]=o}else ac(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Gn(o),b=!1}else rs!==null&&(B0(rs),rs=null),b=!0;if(!b)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=d,o):(C=C!==null,C!==(i!==null&&i.memoizedState!==null)&&C&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(vt.current&1)!==0?qt===0&&(qt=3):k0())),o.updateQueue!==null&&(o.flags|=4),Gn(o),null);case 4:return oc(),u0(i,o),i===null&&Sd(o.stateNode.containerInfo),Gn(o),null;case 10:return Ky(o.type._context),Gn(o),null;case 17:return jn(o.type)&&fC(),Gn(o),null;case 19:if(kt(vt),b=o.memoizedState,b===null)return Gn(o),null;if(C=(o.flags&128)!==0,w=b.rendering,w===null)if(C)Hd(b,!1);else{if(qt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(w=XC(i),w!==null){for(o.flags|=128,Hd(b,!1),C=w.updateQueue,C!==null&&(o.updateQueue=C,o.flags|=4),o.subtreeFlags=0,C=d,d=o.child;d!==null;)b=d,i=C,b.flags&=14680066,w=b.alternate,w===null?(b.childLanes=0,b.lanes=i,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=w.childLanes,b.lanes=w.lanes,b.child=w.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=w.memoizedProps,b.memoizedState=w.memoizedState,b.updateQueue=w.updateQueue,b.type=w.type,i=w.dependencies,b.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),d=d.sibling;return Gt(vt,vt.current&1|2),o.child}i=i.sibling}b.tail!==null&&Ut()>dc&&(o.flags|=128,C=!0,Hd(b,!1),o.lanes=4194304)}else{if(!C)if(i=XC(w),i!==null){if(o.flags|=128,C=!0,d=i.updateQueue,d!==null&&(o.updateQueue=d,o.flags|=4),Hd(b,!0),b.tail===null&&b.tailMode==="hidden"&&!w.alternate&&!Vt)return Gn(o),null}else 2*Ut()-b.renderingStartTime>dc&&d!==1073741824&&(o.flags|=128,C=!0,Hd(b,!1),o.lanes=4194304);b.isBackwards?(w.sibling=o.child,o.child=w):(d=b.last,d!==null?d.sibling=w:o.child=w,b.last=w)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=Ut(),o.sibling=null,d=vt.current,Gt(vt,C?d&1|2:d&1),o):(Gn(o),null);case 22:case 23:return w0(),C=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==C&&(o.flags|=8192),C&&(o.mode&1)!==0?(fa&1073741824)!==0&&(Gn(o),o.subtreeFlags&6&&(o.flags|=8192)):Gn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function Tv(i,o){switch(xy(o),o.tag){case 1:return jn(o.type)&&fC(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return oc(),kt(On),kt(fn),Py(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return Ly(o),null;case 13:if(kt(vt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));ac()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return kt(vt),null;case 4:return oc(),null;case 10:return Ky(o.type._context),null;case 22:case 23:return w0(),null;case 24:return null;default:return null}}var KC=!1,Bn=!1,Fv=typeof WeakSet=="function"?WeakSet:Set,We=null;function cc(i,o){var d=i.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(C){Nt(i,o,C)}else d.current=null}function C0(i,o,d){try{d()}catch(C){Nt(i,o,C)}}var SZ=!1;function Kv(i,o){if(wy=oC,i=a5(),yy(i)){if("selectionStart"in i)var d={start:i.selectionStart,end:i.selectionEnd};else e:{d=(d=i.ownerDocument)&&d.defaultView||window;var C=d.getSelection&&d.getSelection();if(C&&C.rangeCount!==0){d=C.anchorNode;var m=C.anchorOffset,b=C.focusNode;C=C.focusOffset;try{d.nodeType,b.nodeType}catch{d=null;break e}var w=0,N=-1,K=-1,le=0,pe=0,he=i,Ce=null;t:for(;;){for(var ke;he!==d||m!==0&&he.nodeType!==3||(N=w+m),he!==b||C!==0&&he.nodeType!==3||(K=w+C),he.nodeType===3&&(w+=he.nodeValue.length),(ke=he.firstChild)!==null;)Ce=he,he=ke;for(;;){if(he===i)break t;if(Ce===d&&++le===m&&(N=w),Ce===b&&++pe===C&&(K=w),(ke=he.nextSibling)!==null)break;he=Ce,Ce=he.parentNode}he=ke}d=N===-1||K===-1?null:{start:N,end:K}}else d=null}d=d||{start:0,end:0}}else d=null;for(ky={focusedElem:i,selectionRange:d},oC=!1,We=o;We!==null;)if(o=We,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,We=i;else for(;We!==null;){o=We;try{var Je=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Je!==null){var xe=Je.memoizedProps,Dt=Je.memoizedState,ee=o.stateNode,L=ee.getSnapshotBeforeUpdate(o.elementType===o.type?xe:os(o.type,xe),Dt);ee.__reactInternalSnapshotBeforeUpdate=L}break;case 3:var ne=o.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Ze){Nt(o,o.return,Ze)}if(i=o.sibling,i!==null){i.return=o.return,We=i;break}We=o.return}return Je=SZ,SZ=!1,Je}function Yd(i,o,d){var C=o.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var m=C=C.next;do{if((m.tag&i)===i){var b=m.destroy;m.destroy=void 0,b!==void 0&&C0(o,d,b)}m=m.next}while(m!==C)}}function MC(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var d=o=o.next;do{if((d.tag&i)===i){var C=d.create;d.destroy=C()}d=d.next}while(d!==o)}}function p0(i){var o=i.ref;if(o!==null){var d=i.stateNode;switch(i.tag){case 5:i=d;break;default:i=d}typeof o=="function"?o(i):o.current=i}}function wZ(i){var o=i.alternate;o!==null&&(i.alternate=null,wZ(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Rs],delete o[kd],delete o[vy],delete o[Gv],delete o[Bv])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function kZ(i){return i.tag===5||i.tag===3||i.tag===4}function VZ(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||kZ(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function m0(i,o,d){var C=i.tag;if(C===5||C===6)i=i.stateNode,o?d.nodeType===8?d.parentNode.insertBefore(i,o):d.insertBefore(i,o):(d.nodeType===8?(o=d.parentNode,o.insertBefore(i,d)):(o=d,o.appendChild(i)),d=d._reactRootContainer,d!=null||o.onclick!==null||(o.onclick=bC));else if(C!==4&&(i=i.child,i!==null))for(m0(i,o,d),i=i.sibling;i!==null;)m0(i,o,d),i=i.sibling}function A0(i,o,d){var C=i.tag;if(C===5||C===6)i=i.stateNode,o?d.insertBefore(i,o):d.appendChild(i);else if(C!==4&&(i=i.child,i!==null))for(A0(i,o,d),i=i.sibling;i!==null;)A0(i,o,d),i=i.sibling}var In=null,ls=!1;function Cr(i,o,d){for(d=d.child;d!==null;)WZ(i,o,d),d=d.sibling}function WZ(i,o,d){if(Ws&&typeof Ws.onCommitFiberUnmount=="function")try{Ws.onCommitFiberUnmount(tC,d)}catch{}switch(d.tag){case 5:Bn||cc(d,o);case 6:var C=In,m=ls;In=null,Cr(i,o,d),In=C,ls=m,In!==null&&(ls?(i=In,d=d.stateNode,i.nodeType===8?i.parentNode.removeChild(d):i.removeChild(d)):In.removeChild(d.stateNode));break;case 18:In!==null&&(ls?(i=In,d=d.stateNode,i.nodeType===8?Ry(i.parentNode,d):i.nodeType===1&&Ry(i,d),md(i)):Ry(In,d.stateNode));break;case 4:C=In,m=ls,In=d.stateNode.containerInfo,ls=!0,Cr(i,o,d),In=C,ls=m;break;case 0:case 11:case 14:case 15:if(!Bn&&(C=d.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){m=C=C.next;do{var b=m,w=b.destroy;b=b.tag,w!==void 0&&((b&2)!==0||(b&4)!==0)&&C0(d,o,w),m=m.next}while(m!==C)}Cr(i,o,d);break;case 1:if(!Bn&&(cc(d,o),C=d.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=d.memoizedProps,C.state=d.memoizedState,C.componentWillUnmount()}catch(N){Nt(d,o,N)}Cr(i,o,d);break;case 21:Cr(i,o,d);break;case 22:d.mode&1?(Bn=(C=Bn)||d.memoizedState!==null,Cr(i,o,d),Bn=C):Cr(i,o,d);break;default:Cr(i,o,d)}}function RZ(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var d=i.stateNode;d===null&&(d=i.stateNode=new Fv),o.forEach(function(C){var m=jv.bind(null,i,C);d.has(C)||(d.add(C),C.then(m,m))})}}function cs(i,o){var d=o.deletions;if(d!==null)for(var C=0;C<d.length;C++){var m=d[C];try{var b=i,w=o,N=w;e:for(;N!==null;){switch(N.tag){case 5:In=N.stateNode,ls=!1;break e;case 3:In=N.stateNode.containerInfo,ls=!0;break e;case 4:In=N.stateNode.containerInfo,ls=!0;break e}N=N.return}if(In===null)throw Error(n(160));WZ(b,w,m),In=null,ls=!1;var K=m.alternate;K!==null&&(K.return=null),m.return=null}catch(le){Nt(m,o,le)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)vZ(o,i),o=o.sibling}function vZ(i,o){var d=i.alternate,C=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(cs(o,i),Js(i),C&4){try{Yd(3,i,i.return),MC(3,i)}catch(xe){Nt(i,i.return,xe)}try{Yd(5,i,i.return)}catch(xe){Nt(i,i.return,xe)}}break;case 1:cs(o,i),Js(i),C&512&&d!==null&&cc(d,d.return);break;case 5:if(cs(o,i),Js(i),C&512&&d!==null&&cc(d,d.return),i.flags&32){var m=i.stateNode;try{k(m,"")}catch(xe){Nt(i,i.return,xe)}}if(C&4&&(m=i.stateNode,m!=null)){var b=i.memoizedProps,w=d!==null?d.memoizedProps:b,N=i.type,K=i.updateQueue;if(i.updateQueue=null,K!==null)try{N==="input"&&b.type==="radio"&&b.name!=null&&Mt(m,b),fe(N,w);var le=fe(N,b);for(w=0;w<K.length;w+=2){var pe=K[w],he=K[w+1];pe==="style"?P(m,he):pe==="dangerouslySetInnerHTML"?Dl(m,he):pe==="children"?k(m,he):R(m,pe,he,le)}switch(N){case"input":ns(m,b);break;case"textarea":ri(m,b);break;case"select":var Ce=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!b.multiple;var ke=b.value;ke!=null?Aa(m,!!b.multiple,ke,!1):Ce!==!!b.multiple&&(b.defaultValue!=null?Aa(m,!!b.multiple,b.defaultValue,!0):Aa(m,!!b.multiple,b.multiple?[]:"",!1))}m[kd]=b}catch(xe){Nt(i,i.return,xe)}}break;case 6:if(cs(o,i),Js(i),C&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,b=i.memoizedProps;try{m.nodeValue=b}catch(xe){Nt(i,i.return,xe)}}break;case 3:if(cs(o,i),Js(i),C&4&&d!==null&&d.memoizedState.isDehydrated)try{md(o.containerInfo)}catch(xe){Nt(i,i.return,xe)}break;case 4:cs(o,i),Js(i);break;case 13:cs(o,i),Js(i),m=i.child,m.flags&8192&&(b=m.memoizedState!==null,m.stateNode.isHidden=b,!b||m.alternate!==null&&m.alternate.memoizedState!==null||(h0=Ut())),C&4&&RZ(i);break;case 22:if(pe=d!==null&&d.memoizedState!==null,i.mode&1?(Bn=(le=Bn)||pe,cs(o,i),Bn=le):cs(o,i),Js(i),C&8192){if(le=i.memoizedState!==null,(i.stateNode.isHidden=le)&&!pe&&(i.mode&1)!==0)for(We=i,pe=i.child;pe!==null;){for(he=We=pe;We!==null;){switch(Ce=We,ke=Ce.child,Ce.tag){case 0:case 11:case 14:case 15:Yd(4,Ce,Ce.return);break;case 1:cc(Ce,Ce.return);var Je=Ce.stateNode;if(typeof Je.componentWillUnmount=="function"){C=Ce,d=Ce.return;try{o=C,Je.props=o.memoizedProps,Je.state=o.memoizedState,Je.componentWillUnmount()}catch(xe){Nt(C,d,xe)}}break;case 5:cc(Ce,Ce.return);break;case 22:if(Ce.memoizedState!==null){EZ(he);continue}}ke!==null?(ke.return=Ce,We=ke):EZ(he)}pe=pe.sibling}e:for(pe=null,he=i;;){if(he.tag===5){if(pe===null){pe=he;try{m=he.stateNode,le?(b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(N=he.stateNode,K=he.memoizedProps.style,w=K!=null&&K.hasOwnProperty("display")?K.display:null,N.style.display=X("display",w))}catch(xe){Nt(i,i.return,xe)}}}else if(he.tag===6){if(pe===null)try{he.stateNode.nodeValue=le?"":he.memoizedProps}catch(xe){Nt(i,i.return,xe)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===i)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===i)break e;for(;he.sibling===null;){if(he.return===null||he.return===i)break e;pe===he&&(pe=null),he=he.return}pe===he&&(pe=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:cs(o,i),Js(i),C&4&&RZ(i);break;case 21:break;default:cs(o,i),Js(i)}}function Js(i){var o=i.flags;if(o&2){try{e:{for(var d=i.return;d!==null;){if(kZ(d)){var C=d;break e}d=d.return}throw Error(n(160))}switch(C.tag){case 5:var m=C.stateNode;C.flags&32&&(k(m,""),C.flags&=-33);var b=VZ(i);A0(i,b,m);break;case 3:case 4:var w=C.stateNode.containerInfo,N=VZ(i);m0(i,N,w);break;default:throw Error(n(161))}}catch(K){Nt(i,i.return,K)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function Mv(i,o,d){We=i,XZ(i)}function XZ(i,o,d){for(var C=(i.mode&1)!==0;We!==null;){var m=We,b=m.child;if(m.tag===22&&C){var w=m.memoizedState!==null||KC;if(!w){var N=m.alternate,K=N!==null&&N.memoizedState!==null||Bn;N=KC;var le=Bn;if(KC=w,(Bn=K)&&!le)for(We=m;We!==null;)w=We,K=w.child,w.tag===22&&w.memoizedState!==null?xZ(m):K!==null?(K.return=w,We=K):xZ(m);for(;b!==null;)We=b,XZ(b),b=b.sibling;We=m,KC=N,Bn=le}JZ(i)}else(m.subtreeFlags&8772)!==0&&b!==null?(b.return=m,We=b):JZ(i)}}function JZ(i){for(;We!==null;){var o=We;if((o.flags&8772)!==0){var d=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Bn||MC(5,o);break;case 1:var C=o.stateNode;if(o.flags&4&&!Bn)if(d===null)C.componentDidMount();else{var m=o.elementType===o.type?d.memoizedProps:os(o.type,d.memoizedProps);C.componentDidUpdate(m,d.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&E5(o,b,C);break;case 3:var w=o.updateQueue;if(w!==null){if(d=null,o.child!==null)switch(o.child.tag){case 5:d=o.child.stateNode;break;case 1:d=o.child.stateNode}E5(o,w,d)}break;case 5:var N=o.stateNode;if(d===null&&o.flags&4){d=N;var K=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":K.autoFocus&&d.focus();break;case"img":K.src&&(d.src=K.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var le=o.alternate;if(le!==null){var pe=le.memoizedState;if(pe!==null){var he=pe.dehydrated;he!==null&&md(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Bn||o.flags&512&&p0(o)}catch(Ce){Nt(o,o.return,Ce)}}if(o===i){We=null;break}if(d=o.sibling,d!==null){d.return=o.return,We=d;break}We=o.return}}function EZ(i){for(;We!==null;){var o=We;if(o===i){We=null;break}var d=o.sibling;if(d!==null){d.return=o.return,We=d;break}We=o.return}}function xZ(i){for(;We!==null;){var o=We;try{switch(o.tag){case 0:case 11:case 15:var d=o.return;try{MC(4,o)}catch(K){Nt(o,d,K)}break;case 1:var C=o.stateNode;if(typeof C.componentDidMount=="function"){var m=o.return;try{C.componentDidMount()}catch(K){Nt(o,m,K)}}var b=o.return;try{p0(o)}catch(K){Nt(o,b,K)}break;case 5:var w=o.return;try{p0(o)}catch(K){Nt(o,w,K)}}}catch(K){Nt(o,o.return,K)}if(o===i){We=null;break}var N=o.sibling;if(N!==null){N.return=o.return,We=N;break}We=o.return}}var Uv=Math.ceil,UC=x.ReactCurrentDispatcher,y0=x.ReactCurrentOwner,Ya=x.ReactCurrentBatchConfig,lt=0,tn=null,Ot=null,un=0,fa=0,gc=cr(0),qt=0,Td=null,So=0,DC=0,b0=0,Fd=null,qn=null,h0=0,dc=1/0,pi=null,zC=!1,f0=null,pr=null,LC=!1,mr=null,QC=0,Kd=0,Z0=null,PC=-1,OC=0;function xn(){return(lt&6)!==0?Ut():PC!==-1?PC:PC=Ut()}function Ar(i){return(i.mode&1)===0?1:(lt&2)!==0&&un!==0?un&-un:wv.transition!==null?(OC===0&&(OC=V2()),OC):(i=yt,i!==0||(i=window.event,i=i===void 0?16:H2(i.type)),i)}function gs(i,o,d,C){if(50<Kd)throw Kd=0,Z0=null,Error(n(185));dd(i,d,C),((lt&2)===0||i!==tn)&&(i===tn&&((lt&2)===0&&(DC|=d),qt===4&&yr(i,un)),$n(i,C),d===1&&lt===0&&(o.mode&1)===0&&(dc=Ut()+500,GC&&dr()))}function $n(i,o){var d=i.callbackNode;wR(i,o);var C=sC(i,i===tn?un:0);if(C===0)d!==null&&S2(d),i.callbackNode=null,i.callbackPriority=0;else if(o=C&-C,i.callbackPriority!==o){if(d!=null&&S2(d),o===1)i.tag===0?Sv(HZ.bind(null,i)):Z5(HZ.bind(null,i)),fv(function(){(lt&6)===0&&dr()}),d=null;else{switch(W2(C)){case 1:d=ty;break;case 4:d=w2;break;case 16:d=eC;break;case 536870912:d=k2;break;default:d=eC}d=zZ(d,NZ.bind(null,i))}i.callbackPriority=o,i.callbackNode=d}}function NZ(i,o){if(PC=-1,OC=0,(lt&6)!==0)throw Error(n(327));var d=i.callbackNode;if(Ic()&&i.callbackNode!==d)return null;var C=sC(i,i===tn?un:0);if(C===0)return null;if((C&30)!==0||(C&i.expiredLanes)!==0||o)o=jC(i,C);else{o=C;var m=lt;lt|=2;var b=TZ();(tn!==i||un!==o)&&(pi=null,dc=Ut()+500,ko(i,o));do try{Lv();break}catch(N){YZ(i,N)}while(!0);Fy(),UC.current=b,lt=m,Ot!==null?o=0:(tn=null,un=0,o=qt)}if(o!==0){if(o===2&&(m=ny(i),m!==0&&(C=m,o=G0(i,m))),o===1)throw d=Td,ko(i,0),yr(i,C),$n(i,Ut()),d;if(o===6)yr(i,C);else{if(m=i.current.alternate,(C&30)===0&&!Dv(m)&&(o=jC(i,C),o===2&&(b=ny(i),b!==0&&(C=b,o=G0(i,b))),o===1))throw d=Td,ko(i,0),yr(i,C),$n(i,Ut()),d;switch(i.finishedWork=m,i.finishedLanes=C,o){case 0:case 1:throw Error(n(345));case 2:Vo(i,qn,pi);break;case 3:if(yr(i,C),(C&130023424)===C&&(o=h0+500-Ut(),10<o)){if(sC(i,0)!==0)break;if(m=i.suspendedLanes,(m&C)!==C){xn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Wy(Vo.bind(null,i,qn,pi),o);break}Vo(i,qn,pi);break;case 4:if(yr(i,C),(C&4194240)===C)break;for(o=i.eventTimes,m=-1;0<C;){var w=31-ss(C);b=1<<w,w=o[w],w>m&&(m=w),C&=~b}if(C=m,C=Ut()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*Uv(C/1960))-C,10<C){i.timeoutHandle=Wy(Vo.bind(null,i,qn,pi),C);break}Vo(i,qn,pi);break;case 5:Vo(i,qn,pi);break;default:throw Error(n(329))}}}return $n(i,Ut()),i.callbackNode===d?NZ.bind(null,i):null}function G0(i,o){var d=Fd;return i.current.memoizedState.isDehydrated&&(ko(i,o).flags|=256),i=jC(i,o),i!==2&&(o=qn,qn=d,o!==null&&B0(o)),i}function B0(i){qn===null?qn=i:qn.push.apply(qn,i)}function Dv(i){for(var o=i;;){if(o.flags&16384){var d=o.updateQueue;if(d!==null&&(d=d.stores,d!==null))for(var C=0;C<d.length;C++){var m=d[C],b=m.getSnapshot;m=m.value;try{if(!is(b(),m))return!1}catch{return!1}}}if(d=o.child,o.subtreeFlags&16384&&d!==null)d.return=o,o=d;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function yr(i,o){for(o&=~b0,o&=~DC,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var d=31-ss(o),C=1<<d;i[d]=-1,o&=~C}}function HZ(i){if((lt&6)!==0)throw Error(n(327));Ic();var o=sC(i,0);if((o&1)===0)return $n(i,Ut()),null;var d=jC(i,o);if(i.tag!==0&&d===2){var C=ny(i);C!==0&&(o=C,d=G0(i,C))}if(d===1)throw d=Td,ko(i,0),yr(i,o),$n(i,Ut()),d;if(d===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Vo(i,qn,pi),$n(i,Ut()),null}function S0(i,o){var d=lt;lt|=1;try{return i(o)}finally{lt=d,lt===0&&(dc=Ut()+500,GC&&dr())}}function wo(i){mr!==null&&mr.tag===0&&(lt&6)===0&&Ic();var o=lt;lt|=1;var d=Ya.transition,C=yt;try{if(Ya.transition=null,yt=1,i)return i()}finally{yt=C,Ya.transition=d,lt=o,(lt&6)===0&&dr()}}function w0(){fa=gc.current,kt(gc)}function ko(i,o){i.finishedWork=null,i.finishedLanes=0;var d=i.timeoutHandle;if(d!==-1&&(i.timeoutHandle=-1,hv(d)),Ot!==null)for(d=Ot.return;d!==null;){var C=d;switch(xy(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&fC();break;case 3:oc(),kt(On),kt(fn),Py();break;case 5:Ly(C);break;case 4:oc();break;case 13:kt(vt);break;case 19:kt(vt);break;case 10:Ky(C.type._context);break;case 22:case 23:w0()}d=d.return}if(tn=i,Ot=i=br(i.current,null),un=fa=o,qt=0,Td=null,b0=DC=So=0,qn=Fd=null,Zo!==null){for(o=0;o<Zo.length;o++)if(d=Zo[o],C=d.interleaved,C!==null){d.interleaved=null;var m=C.next,b=d.pending;if(b!==null){var w=b.next;b.next=m,C.next=w}d.pending=C}Zo=null}return i}function YZ(i,o){do{var d=Ot;try{if(Fy(),JC.current=HC,EC){for(var C=Xt.memoizedState;C!==null;){var m=C.queue;m!==null&&(m.pending=null),C=C.next}EC=!1}if(Bo=0,en=_t=Xt=null,Jd=!1,Ed=0,y0.current=null,d===null||d.return===null){qt=1,Td=o,Ot=null;break}e:{var b=i,w=d.return,N=d,K=o;if(o=un,N.flags|=32768,K!==null&&typeof K=="object"&&typeof K.then=="function"){var le=K,pe=N,he=pe.tag;if((pe.mode&1)===0&&(he===0||he===11||he===15)){var Ce=pe.alternate;Ce?(pe.updateQueue=Ce.updateQueue,pe.memoizedState=Ce.memoizedState,pe.lanes=Ce.lanes):(pe.updateQueue=null,pe.memoizedState=null)}var ke=cZ(w);if(ke!==null){ke.flags&=-257,gZ(ke,w,N,b,o),ke.mode&1&&lZ(b,le,o),o=ke,K=le;var Je=o.updateQueue;if(Je===null){var xe=new Set;xe.add(K),o.updateQueue=xe}else Je.add(K);break e}else{if((o&1)===0){lZ(b,le,o),k0();break e}K=Error(n(426))}}else if(Vt&&N.mode&1){var Dt=cZ(w);if(Dt!==null){(Dt.flags&65536)===0&&(Dt.flags|=256),gZ(Dt,w,N,b,o),Yy(lc(K,N));break e}}b=K=lc(K,N),qt!==4&&(qt=2),Fd===null?Fd=[b]:Fd.push(b),b=w;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var ee=rZ(b,K,o);J5(b,ee);break e;case 1:N=K;var L=b.type,ne=b.stateNode;if((b.flags&128)===0&&(typeof L.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(pr===null||!pr.has(ne)))){b.flags|=65536,o&=-o,b.lanes|=o;var Ze=oZ(b,N,o);J5(b,Ze);break e}}b=b.return}while(b!==null)}KZ(d)}catch(He){o=He,Ot===d&&d!==null&&(Ot=d=d.return);continue}break}while(!0)}function TZ(){var i=UC.current;return UC.current=HC,i===null?HC:i}function k0(){(qt===0||qt===3||qt===2)&&(qt=4),tn===null||(So&268435455)===0&&(DC&268435455)===0||yr(tn,un)}function jC(i,o){var d=lt;lt|=2;var C=TZ();(tn!==i||un!==o)&&(pi=null,ko(i,o));do try{zv();break}catch(m){YZ(i,m)}while(!0);if(Fy(),lt=d,UC.current=C,Ot!==null)throw Error(n(261));return tn=null,un=0,qt}function zv(){for(;Ot!==null;)FZ(Ot)}function Lv(){for(;Ot!==null&&!AR();)FZ(Ot)}function FZ(i){var o=DZ(i.alternate,i,fa);i.memoizedProps=i.pendingProps,o===null?KZ(i):Ot=o,y0.current=null}function KZ(i){var o=i;do{var d=o.alternate;if(i=o.return,(o.flags&32768)===0){if(d=Yv(d,o,fa),d!==null){Ot=d;return}}else{if(d=Tv(d,o),d!==null){d.flags&=32767,Ot=d;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{qt=6,Ot=null;return}}if(o=o.sibling,o!==null){Ot=o;return}Ot=o=i}while(o!==null);qt===0&&(qt=5)}function Vo(i,o,d){var C=yt,m=Ya.transition;try{Ya.transition=null,yt=1,Qv(i,o,d,C)}finally{Ya.transition=m,yt=C}return null}function Qv(i,o,d,C){do Ic();while(mr!==null);if((lt&6)!==0)throw Error(n(327));d=i.finishedWork;var m=i.finishedLanes;if(d===null)return null;if(i.finishedWork=null,i.finishedLanes=0,d===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var b=d.lanes|d.childLanes;if(kR(i,b),i===tn&&(Ot=tn=null,un=0),(d.subtreeFlags&2064)===0&&(d.flags&2064)===0||LC||(LC=!0,zZ(eC,function(){return Ic(),null})),b=(d.flags&15990)!==0,(d.subtreeFlags&15990)!==0||b){b=Ya.transition,Ya.transition=null;var w=yt;yt=1;var N=lt;lt|=4,y0.current=null,Kv(i,d),vZ(d,i),uv(ky),oC=!!wy,ky=wy=null,i.current=d,Mv(d),yR(),lt=N,yt=w,Ya.transition=b}else i.current=d;if(LC&&(LC=!1,mr=i,QC=m),b=i.pendingLanes,b===0&&(pr=null),fR(d.stateNode),$n(i,Ut()),o!==null)for(C=i.onRecoverableError,d=0;d<o.length;d++)m=o[d],C(m.value,{componentStack:m.stack,digest:m.digest});if(zC)throw zC=!1,i=f0,f0=null,i;return(QC&1)!==0&&i.tag!==0&&Ic(),b=i.pendingLanes,(b&1)!==0?i===Z0?Kd++:(Kd=0,Z0=i):Kd=0,dr(),null}function Ic(){if(mr!==null){var i=W2(QC),o=Ya.transition,d=yt;try{if(Ya.transition=null,yt=16>i?16:i,mr===null)var C=!1;else{if(i=mr,mr=null,QC=0,(lt&6)!==0)throw Error(n(331));var m=lt;for(lt|=4,We=i.current;We!==null;){var b=We,w=b.child;if((We.flags&16)!==0){var N=b.deletions;if(N!==null){for(var K=0;K<N.length;K++){var le=N[K];for(We=le;We!==null;){var pe=We;switch(pe.tag){case 0:case 11:case 15:Yd(8,pe,b)}var he=pe.child;if(he!==null)he.return=pe,We=he;else for(;We!==null;){pe=We;var Ce=pe.sibling,ke=pe.return;if(wZ(pe),pe===le){We=null;break}if(Ce!==null){Ce.return=ke,We=Ce;break}We=ke}}}var Je=b.alternate;if(Je!==null){var xe=Je.child;if(xe!==null){Je.child=null;do{var Dt=xe.sibling;xe.sibling=null,xe=Dt}while(xe!==null)}}We=b}}if((b.subtreeFlags&2064)!==0&&w!==null)w.return=b,We=w;else e:for(;We!==null;){if(b=We,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Yd(9,b,b.return)}var ee=b.sibling;if(ee!==null){ee.return=b.return,We=ee;break e}We=b.return}}var L=i.current;for(We=L;We!==null;){w=We;var ne=w.child;if((w.subtreeFlags&2064)!==0&&ne!==null)ne.return=w,We=ne;else e:for(w=L;We!==null;){if(N=We,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:MC(9,N)}}catch(He){Nt(N,N.return,He)}if(N===w){We=null;break e}var Ze=N.sibling;if(Ze!==null){Ze.return=N.return,We=Ze;break e}We=N.return}}if(lt=m,dr(),Ws&&typeof Ws.onPostCommitFiberRoot=="function")try{Ws.onPostCommitFiberRoot(tC,i)}catch{}C=!0}return C}finally{yt=d,Ya.transition=o}}return!1}function MZ(i,o,d){o=lc(d,o),o=rZ(i,o,1),i=ur(i,o,1),o=xn(),i!==null&&(dd(i,1,o),$n(i,o))}function Nt(i,o,d){if(i.tag===3)MZ(i,i,d);else for(;o!==null;){if(o.tag===3){MZ(o,i,d);break}else if(o.tag===1){var C=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(pr===null||!pr.has(C))){i=lc(d,i),i=oZ(o,i,1),o=ur(o,i,1),i=xn(),o!==null&&(dd(o,1,i),$n(o,i));break}}o=o.return}}function Pv(i,o,d){var C=i.pingCache;C!==null&&C.delete(o),o=xn(),i.pingedLanes|=i.suspendedLanes&d,tn===i&&(un&d)===d&&(qt===4||qt===3&&(un&130023424)===un&&500>Ut()-h0?ko(i,0):b0|=d),$n(i,o)}function UZ(i,o){o===0&&((i.mode&1)===0?o=1:(o=aC,aC<<=1,(aC&130023424)===0&&(aC=4194304)));var d=xn();i=Ii(i,o),i!==null&&(dd(i,o,d),$n(i,d))}function Ov(i){var o=i.memoizedState,d=0;o!==null&&(d=o.retryLane),UZ(i,d)}function jv(i,o){var d=0;switch(i.tag){case 13:var C=i.stateNode,m=i.memoizedState;m!==null&&(d=m.retryLane);break;case 19:C=i.stateNode;break;default:throw Error(n(314))}C!==null&&C.delete(o),UZ(i,d)}var DZ;DZ=function(i,o,d){if(i!==null)if(i.memoizedProps!==o.pendingProps||On.current)_n=!0;else{if((i.lanes&d)===0&&(o.flags&128)===0)return _n=!1,Hv(i,o,d);_n=(i.flags&131072)!==0}else _n=!1,Vt&&(o.flags&1048576)!==0&&G5(o,SC,o.index);switch(o.lanes=0,o.tag){case 2:var C=o.type;FC(i,o),i=o.pendingProps;var m=ec(o,fn.current);rc(o,d),m=_y(null,o,C,i,m,d);var b=qy();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,jn(C)?(b=!0,ZC(o)):b=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Dy(o),m.updater=YC,o.stateNode=m,m._reactInternals=o,s0(o,C,i,d),o=l0(null,o,C,!0,b,d)):(o.tag=0,Vt&&b&&Ey(o),En(null,o,m,d),o=o.child),o;case 16:C=o.elementType;e:{switch(FC(i,o),i=o.pendingProps,m=C._init,C=m(C._payload),o.type=C,m=o.tag=qv(C),i=os(C,i),m){case 0:o=o0(null,o,C,i,d);break e;case 1:o=mZ(null,o,C,i,d);break e;case 11:o=dZ(null,o,C,i,d);break e;case 14:o=IZ(null,o,C,os(C.type,i),d);break e}throw Error(n(306,C,""))}return o;case 0:return C=o.type,m=o.pendingProps,m=o.elementType===C?m:os(C,m),o0(i,o,C,m,d);case 1:return C=o.type,m=o.pendingProps,m=o.elementType===C?m:os(C,m),mZ(i,o,C,m,d);case 3:e:{if(AZ(o),i===null)throw Error(n(387));C=o.pendingProps,b=o.memoizedState,m=b.element,X5(i,o),vC(o,C,null,d);var w=o.memoizedState;if(C=w.element,b.isDehydrated)if(b={element:C,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){m=lc(Error(n(423)),o),o=yZ(i,o,C,d,m);break e}else if(C!==m){m=lc(Error(n(424)),o),o=yZ(i,o,C,d,m);break e}else for(ha=lr(o.stateNode.containerInfo.firstChild),ba=o,Vt=!0,rs=null,d=R5(o,null,C,d),o.child=d;d;)d.flags=d.flags&-3|4096,d=d.sibling;else{if(ac(),C===m){o=Ci(i,o,d);break e}En(i,o,C,d)}o=o.child}return o;case 5:return x5(o),i===null&&Hy(o),C=o.type,m=o.pendingProps,b=i!==null?i.memoizedProps:null,w=m.children,Vy(C,m)?w=null:b!==null&&Vy(C,b)&&(o.flags|=32),pZ(i,o),En(i,o,w,d),o.child;case 6:return i===null&&Hy(o),null;case 13:return bZ(i,o,d);case 4:return zy(o,o.stateNode.containerInfo),C=o.pendingProps,i===null?o.child=sc(o,null,C,d):En(i,o,C,d),o.child;case 11:return C=o.type,m=o.pendingProps,m=o.elementType===C?m:os(C,m),dZ(i,o,C,m,d);case 7:return En(i,o,o.pendingProps,d),o.child;case 8:return En(i,o,o.pendingProps.children,d),o.child;case 12:return En(i,o,o.pendingProps.children,d),o.child;case 10:e:{if(C=o.type._context,m=o.pendingProps,b=o.memoizedProps,w=m.value,Gt(VC,C._currentValue),C._currentValue=w,b!==null)if(is(b.value,w)){if(b.children===m.children&&!On.current){o=Ci(i,o,d);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var N=b.dependencies;if(N!==null){w=b.child;for(var K=N.firstContext;K!==null;){if(K.context===C){if(b.tag===1){K=ui(-1,d&-d),K.tag=2;var le=b.updateQueue;if(le!==null){le=le.shared;var pe=le.pending;pe===null?K.next=K:(K.next=pe.next,pe.next=K),le.pending=K}}b.lanes|=d,K=b.alternate,K!==null&&(K.lanes|=d),My(b.return,d,o),N.lanes|=d;break}K=K.next}}else if(b.tag===10)w=b.type===o.type?null:b.child;else if(b.tag===18){if(w=b.return,w===null)throw Error(n(341));w.lanes|=d,N=w.alternate,N!==null&&(N.lanes|=d),My(w,d,o),w=b.sibling}else w=b.child;if(w!==null)w.return=b;else for(w=b;w!==null;){if(w===o){w=null;break}if(b=w.sibling,b!==null){b.return=w.return,w=b;break}w=w.return}b=w}En(i,o,m.children,d),o=o.child}return o;case 9:return m=o.type,C=o.pendingProps.children,rc(o,d),m=Na(m),C=C(m),o.flags|=1,En(i,o,C,d),o.child;case 14:return C=o.type,m=os(C,o.pendingProps),m=os(C.type,m),IZ(i,o,C,m,d);case 15:return uZ(i,o,o.type,o.pendingProps,d);case 17:return C=o.type,m=o.pendingProps,m=o.elementType===C?m:os(C,m),FC(i,o),o.tag=1,jn(C)?(i=!0,ZC(o)):i=!1,rc(o,d),sZ(o,C,m),s0(o,C,m,d),l0(null,o,C,!0,i,d);case 19:return fZ(i,o,d);case 22:return CZ(i,o,d)}throw Error(n(156,o.tag))};function zZ(i,o){return B2(i,o)}function _v(i,o,d,C){this.tag=i,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ta(i,o,d,C){return new _v(i,o,d,C)}function V0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function qv(i){if(typeof i=="function")return V0(i)?1:0;if(i!=null){if(i=i.$$typeof,i===Ie)return 11;if(i===J)return 14}return 2}function br(i,o){var d=i.alternate;return d===null?(d=Ta(i.tag,o,i.key,i.mode),d.elementType=i.elementType,d.type=i.type,d.stateNode=i.stateNode,d.alternate=i,i.alternate=d):(d.pendingProps=o,d.type=i.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=i.flags&14680064,d.childLanes=i.childLanes,d.lanes=i.lanes,d.child=i.child,d.memoizedProps=i.memoizedProps,d.memoizedState=i.memoizedState,d.updateQueue=i.updateQueue,o=i.dependencies,d.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},d.sibling=i.sibling,d.index=i.index,d.ref=i.ref,d}function _C(i,o,d,C,m,b){var w=2;if(C=i,typeof i=="function")V0(i)&&(w=1);else if(typeof i=="string")w=5;else e:switch(i){case Q:return Wo(d.children,m,b,o);case z:w=8,m|=8;break;case se:return i=Ta(12,d,o,m|2),i.elementType=se,i.lanes=b,i;case de:return i=Ta(13,d,o,m),i.elementType=de,i.lanes=b,i;case ie:return i=Ta(19,d,o,m),i.elementType=ie,i.lanes=b,i;case O:return qC(d,m,b,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case re:w=10;break e;case ae:w=9;break e;case Ie:w=11;break e;case J:w=14;break e;case T:w=16,C=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Ta(w,d,o,m),o.elementType=i,o.type=C,o.lanes=b,o}function Wo(i,o,d,C){return i=Ta(7,i,C,o),i.lanes=d,i}function qC(i,o,d,C){return i=Ta(22,i,C,o),i.elementType=O,i.lanes=d,i.stateNode={isHidden:!1},i}function W0(i,o,d){return i=Ta(6,i,null,o),i.lanes=d,i}function R0(i,o,d){return o=Ta(4,i.children!==null?i.children:[],i.key,o),o.lanes=d,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function $v(i,o,d,C,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ay(0),this.expirationTimes=ay(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ay(0),this.identifierPrefix=C,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function v0(i,o,d,C,m,b,w,N,K){return i=new $v(i,o,d,N,K),o===1?(o=1,b===!0&&(o|=8)):o=0,b=Ta(3,null,null,o),i.current=b,b.stateNode=i,b.memoizedState={element:C,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dy(b),i}function eX(i,o,d){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:D,key:C==null?null:""+C,children:i,containerInfo:o,implementation:d}}function LZ(i){if(!i)return gr;i=i._reactInternals;e:{if(Ao(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(jn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var d=i.type;if(jn(d))return h5(i,d,o)}return o}function QZ(i,o,d,C,m,b,w,N,K){return i=v0(d,C,!0,i,m,b,w,N,K),i.context=LZ(null),d=i.current,C=xn(),m=Ar(d),b=ui(C,m),b.callback=o??null,ur(d,b,m),i.current.lanes=m,dd(i,m,C),$n(i,C),i}function $C(i,o,d,C){var m=o.current,b=xn(),w=Ar(m);return d=LZ(d),o.context===null?o.context=d:o.pendingContext=d,o=ui(b,w),o.payload={element:i},C=C===void 0?null:C,C!==null&&(o.callback=C),i=ur(m,o,w),i!==null&&(gs(i,m,w,b),RC(i,m,w)),w}function ep(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function PZ(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var d=i.retryLane;i.retryLane=d!==0&&d<o?d:o}}function X0(i,o){PZ(i,o),(i=i.alternate)&&PZ(i,o)}function tX(){return null}var OZ=typeof reportError=="function"?reportError:function(i){console.error(i)};function J0(i){this._internalRoot=i}tp.prototype.render=J0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));$C(i,o,null,null)},tp.prototype.unmount=J0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;wo(function(){$C(null,i,null,null)}),o[li]=null}};function tp(i){this._internalRoot=i}tp.prototype.unstable_scheduleHydration=function(i){if(i){var o=X2();i={blockedOn:null,target:i,priority:o};for(var d=0;d<ir.length&&o!==0&&o<ir[d].priority;d++);ir.splice(d,0,i),d===0&&x2(i)}};function E0(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function np(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function jZ(){}function nX(i,o,d,C,m){if(m){if(typeof C=="function"){var b=C;C=function(){var le=ep(w);b.call(le)}}var w=QZ(o,C,i,0,null,!1,!1,"",jZ);return i._reactRootContainer=w,i[li]=w.current,Sd(i.nodeType===8?i.parentNode:i),wo(),w}for(;m=i.lastChild;)i.removeChild(m);if(typeof C=="function"){var N=C;C=function(){var le=ep(K);N.call(le)}}var K=v0(i,0,!1,null,null,!1,!1,"",jZ);return i._reactRootContainer=K,i[li]=K.current,Sd(i.nodeType===8?i.parentNode:i),wo(function(){$C(o,K,d,C)}),K}function ap(i,o,d,C,m){var b=d._reactRootContainer;if(b){var w=b;if(typeof m=="function"){var N=m;m=function(){var K=ep(w);N.call(K)}}$C(o,w,i,m)}else w=nX(d,o,i,m,C);return ep(w)}R2=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var d=gd(o.pendingLanes);d!==0&&(sy(o,d|1),$n(o,Ut()),(lt&6)===0&&(dc=Ut()+500,dr()))}break;case 13:wo(function(){var C=Ii(i,1);if(C!==null){var m=xn();gs(C,i,1,m)}}),X0(i,1)}},iy=function(i){if(i.tag===13){var o=Ii(i,134217728);if(o!==null){var d=xn();gs(o,i,134217728,d)}X0(i,134217728)}},v2=function(i){if(i.tag===13){var o=Ar(i),d=Ii(i,o);if(d!==null){var C=xn();gs(d,i,o,C)}X0(i,o)}},X2=function(){return yt},J2=function(i,o){var d=yt;try{return yt=i,o()}finally{yt=d}},De=function(i,o,d){switch(o){case"input":if(ns(i,d),o=d.name,d.type==="radio"&&o!=null){for(d=i;d.parentNode;)d=d.parentNode;for(d=d.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<d.length;o++){var C=d[o];if(C!==i&&C.form===i.form){var m=hC(C);if(!m)throw Error(n(90));Zt(C),ns(C,m)}}}break;case"textarea":ri(i,d);break;case"select":o=d.value,o!=null&&Aa(i,!!d.multiple,o,!1)}},A2=S0,y2=wo;var aX={usingClientEntryPoint:!1,Events:[Vd,ql,hC,mo,m2,S0]},Md={findFiberByHostInstance:yo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},sX={bundleType:Md.bundleType,version:Md.version,rendererPackageName:Md.rendererPackageName,rendererConfig:Md.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Z2(i),i===null?null:i.stateNode},findFiberByHostInstance:Md.findFiberByHostInstance||tX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var sp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!sp.isDisabled&&sp.supportsFiber)try{tC=sp.inject(sX),Ws=sp}catch{}}return ea.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aX,ea.createPortal=function(i,o){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!E0(o))throw Error(n(200));return eX(i,o,null,d)},ea.createRoot=function(i,o){if(!E0(i))throw Error(n(299));var d=!1,C="",m=OZ;return o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(C=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=v0(i,1,!1,null,null,d,!1,C,m),i[li]=o.current,Sd(i.nodeType===8?i.parentNode:i),new J0(o)},ea.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=Z2(o),i=i===null?null:i.stateNode,i},ea.flushSync=function(i){return wo(i)},ea.hydrate=function(i,o,d){if(!np(o))throw Error(n(200));return ap(null,i,o,!0,d)},ea.hydrateRoot=function(i,o,d){if(!E0(i))throw Error(n(405));var C=d!=null&&d.hydratedSources||null,m=!1,b="",w=OZ;if(d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(b=d.identifierPrefix),d.onRecoverableError!==void 0&&(w=d.onRecoverableError)),o=QZ(o,null,i,1,d??null,m,!1,b,w),i[li]=o.current,Sd(i),C)for(i=0;i<C.length;i++)d=C[i],m=d._getVersion,m=m(d._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[d,m]:o.mutableSourceEagerHydrationData.push(d,m);return new tp(o)},ea.render=function(i,o,d){if(!np(o))throw Error(n(200));return ap(null,i,o,!1,d)},ea.unmountComponentAtNode=function(i){if(!np(i))throw Error(n(40));return i._reactRootContainer?(wo(function(){ap(null,null,i,!1,function(){i._reactRootContainer=null,i[li]=null})}),!0):!1},ea.unstable_batchedUpdates=S0,ea.unstable_renderSubtreeIntoContainer=function(i,o,d,C){if(!np(d))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return ap(i,o,d,!1,C)},ea.version="18.3.1-next-f1338f8080-20240426",ea}var iG;function pX(){if(iG)return Y0.exports;iG=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Y0.exports=CX(),Y0.exports}var rG;function mX(){if(rG)return ip;rG=1;var t=pX();return ip.createRoot=t.createRoot,ip.hydrateRoot=t.hydrateRoot,ip}var AX=mX(),B1={},Pm={};Pm.byteLength=hX;Pm.toByteArray=ZX;Pm.fromByteArray=SX;var Qs=[],Da=[],yX=typeof Uint8Array<"u"?Uint8Array:Array,K0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var uc=0,bX=K0.length;uc<bX;++uc)Qs[uc]=K0[uc],Da[K0.charCodeAt(uc)]=uc;Da[45]=62;Da[95]=63;function Tw(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var a=n===e?0:4-n%4;return[n,a]}function hX(t){var e=Tw(t),n=e[0],a=e[1];return(n+a)*3/4-a}function fX(t,e,n){return(e+n)*3/4-n}function ZX(t){var e,n=Tw(t),a=n[0],s=n[1],r=new yX(fX(t,a,s)),l=0,c=s>0?a-4:a,g;for(g=0;g<c;g+=4)e=Da[t.charCodeAt(g)]<<18|Da[t.charCodeAt(g+1)]<<12|Da[t.charCodeAt(g+2)]<<6|Da[t.charCodeAt(g+3)],r[l++]=e>>16&255,r[l++]=e>>8&255,r[l++]=e&255;return s===2&&(e=Da[t.charCodeAt(g)]<<2|Da[t.charCodeAt(g+1)]>>4,r[l++]=e&255),s===1&&(e=Da[t.charCodeAt(g)]<<10|Da[t.charCodeAt(g+1)]<<4|Da[t.charCodeAt(g+2)]>>2,r[l++]=e>>8&255,r[l++]=e&255),r}function GX(t){return Qs[t>>18&63]+Qs[t>>12&63]+Qs[t>>6&63]+Qs[t&63]}function BX(t,e,n){for(var a,s=[],r=e;r<n;r+=3)a=(t[r]<<16&16711680)+(t[r+1]<<8&65280)+(t[r+2]&255),s.push(GX(a));return s.join("")}function SX(t){for(var e,n=t.length,a=n%3,s=[],r=16383,l=0,c=n-a;l<c;l+=r)s.push(BX(t,l,l+r>c?c:l+r));return a===1?(e=t[n-1],s.push(Qs[e>>2]+Qs[e<<4&63]+"==")):a===2&&(e=(t[n-2]<<8)+t[n-1],s.push(Qs[e>>10]+Qs[e>>4&63]+Qs[e<<2&63]+"=")),s.join("")}var S1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */S1.read=function(t,e,n,a,s){var r,l,c=s*8-a-1,g=(1<<c)-1,u=g>>1,I=-7,p=n?s-1:0,A=n?-1:1,Z=t[e+p];for(p+=A,r=Z&(1<<-I)-1,Z>>=-I,I+=c;I>0;r=r*256+t[e+p],p+=A,I-=8);for(l=r&(1<<-I)-1,r>>=-I,I+=a;I>0;l=l*256+t[e+p],p+=A,I-=8);if(r===0)r=1-u;else{if(r===g)return l?NaN:(Z?-1:1)*(1/0);l=l+Math.pow(2,a),r=r-u}return(Z?-1:1)*l*Math.pow(2,r-a)};S1.write=function(t,e,n,a,s,r){var l,c,g,u=r*8-s-1,I=(1<<u)-1,p=I>>1,A=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,Z=a?0:r-1,S=a?1:-1,B=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,l=I):(l=Math.floor(Math.log(e)/Math.LN2),e*(g=Math.pow(2,-l))<1&&(l--,g*=2),l+p>=1?e+=A/g:e+=A*Math.pow(2,1-p),e*g>=2&&(l++,g/=2),l+p>=I?(c=0,l=I):l+p>=1?(c=(e*g-1)*Math.pow(2,s),l=l+p):(c=e*Math.pow(2,p-1)*Math.pow(2,s),l=0));s>=8;t[n+Z]=c&255,Z+=S,c/=256,s-=8);for(l=l<<s|c,u+=s;u>0;t[n+Z]=l&255,Z+=S,l/=256,u-=8);t[n+Z-S]|=B*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Pm,n=S1,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=I,t.SlowBuffer=M,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s;const{Uint8Array:r,ArrayBuffer:l,SharedArrayBuffer:c}=globalThis;I.TYPED_ARRAY_SUPPORT=g(),!I.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function g(){try{const k=new r(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,r.prototype),Object.setPrototypeOf(k,f),k.foo()===42}catch{return!1}}Object.defineProperty(I.prototype,"parent",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.buffer}}),Object.defineProperty(I.prototype,"offset",{enumerable:!0,get:function(){if(I.isBuffer(this))return this.byteOffset}});function u(k){if(k>s)throw new RangeError('The value "'+k+'" is invalid for option "size"');const f=new r(k);return Object.setPrototypeOf(f,I.prototype),f}function I(k,f,G){if(typeof k=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(k)}return p(k,f,G)}I.poolSize=8192;function p(k,f,G){if(typeof k=="string")return B(k,f);if(l.isView(k))return W(k);if(k==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k);if(Xn(k,l)||k&&Xn(k.buffer,l)||typeof c<"u"&&(Xn(k,c)||k&&Xn(k.buffer,c)))return Y(k,f,G);if(typeof k=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const X=k.valueOf&&k.valueOf();if(X!=null&&X!==k)return I.from(X,f,G);const P=R(k);if(P)return P;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof k[Symbol.toPrimitive]=="function")return I.from(k[Symbol.toPrimitive]("string"),f,G);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof k)}I.from=function(k,f,G){return p(k,f,G)},Object.setPrototypeOf(I.prototype,r.prototype),Object.setPrototypeOf(I,r);function A(k){if(typeof k!="number")throw new TypeError('"size" argument must be of type number');if(k<0)throw new RangeError('The value "'+k+'" is invalid for option "size"')}function Z(k,f,G){return A(k),k<=0?u(k):f!==void 0?typeof G=="string"?u(k).fill(f,G):u(k).fill(f):u(k)}I.alloc=function(k,f,G){return Z(k,f,G)};function S(k){return A(k),u(k<0?0:x(k)|0)}I.allocUnsafe=function(k){return S(k)},I.allocUnsafeSlow=function(k){return S(k)};function B(k,f){if((typeof f!="string"||f==="")&&(f="utf8"),!I.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const G=D(k,f)|0;let X=u(G);const P=X.write(k,f);return P!==G&&(X=X.slice(0,P)),X}function V(k){const f=k.length<0?0:x(k.length)|0,G=u(f);for(let X=0;X<f;X+=1)G[X]=k[X]&255;return G}function W(k){if(Xn(k,r)){const f=new r(k);return Y(f.buffer,f.byteOffset,f.byteLength)}return V(k)}function Y(k,f,G){if(f<0||k.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(k.byteLength<f+(G||0))throw new RangeError('"length" is outside of buffer bounds');let X;return f===void 0&&G===void 0?X=new r(k):G===void 0?X=new r(k,f):X=new r(k,f,G),Object.setPrototypeOf(X,I.prototype),X}function R(k){if(I.isBuffer(k)){const f=x(k.length)|0,G=u(f);return G.length===0||k.copy(G,0,0,f),G}if(k.length!==void 0)return typeof k.length!="number"||oi(k.length)?u(0):V(k);if(k.type==="Buffer"&&Array.isArray(k.data))return V(k.data)}function x(k){if(k>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return k|0}function M(k){return+k!=k&&(k=0),I.alloc(+k)}I.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==I.prototype},I.compare=function(f,G){if(Xn(f,r)&&(f=I.from(f,f.offset,f.byteLength)),Xn(G,r)&&(G=I.from(G,G.offset,G.byteLength)),!I.isBuffer(f)||!I.isBuffer(G))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===G)return 0;let X=f.length,P=G.length;for(let oe=0,$=Math.min(X,P);oe<$;++oe)if(f[oe]!==G[oe]){X=f[oe],P=G[oe];break}return X<P?-1:P<X?1:0},I.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},I.concat=function(f,G){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return I.alloc(0);let X;if(G===void 0)for(G=0,X=0;X<f.length;++X)G+=f[X].length;const P=I.allocUnsafe(G);let oe=0;for(X=0;X<f.length;++X){let $=f[X];if(Xn($,r))oe+$.length>P.length?(I.isBuffer($)||($=I.from($)),$.copy(P,oe)):r.prototype.set.call(P,$,oe);else if(I.isBuffer($))$.copy(P,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=$.length}return P};function D(k,f){if(I.isBuffer(k))return k.length;if(l.isView(k)||Xn(k,l))return k.byteLength;if(typeof k!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof k);const G=k.length,X=arguments.length>2&&arguments[2]===!0;if(!X&&G===0)return 0;let P=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return G;case"utf8":case"utf-8":return as(k).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return G*2;case"hex":return G>>>1;case"base64":return tr(k).length;default:if(P)return X?-1:as(k).length;f=(""+f).toLowerCase(),P=!0}}I.byteLength=D;function Q(k,f,G){let X=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((G===void 0||G>this.length)&&(G=this.length),G<=0)||(G>>>=0,f>>>=0,G<=f))return"";for(k||(k="utf8");;)switch(k){case"hex":return _(this,f,G);case"utf8":case"utf-8":return O(this,f,G);case"ascii":return U(this,f,G);case"latin1":case"binary":return E(this,f,G);case"base64":return T(this,f,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return be(this,f,G);default:if(X)throw new TypeError("Unknown encoding: "+k);k=(k+"").toLowerCase(),X=!0}}I.prototype._isBuffer=!0;function z(k,f,G){const X=k[f];k[f]=k[G],k[G]=X}I.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let G=0;G<f;G+=2)z(this,G,G+1);return this},I.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let G=0;G<f;G+=4)z(this,G,G+3),z(this,G+1,G+2);return this},I.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let G=0;G<f;G+=8)z(this,G,G+7),z(this,G+1,G+6),z(this,G+2,G+5),z(this,G+3,G+4);return this},I.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?O(this,0,f):Q.apply(this,arguments)},I.prototype.toLocaleString=I.prototype.toString,I.prototype.equals=function(f){if(!I.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:I.compare(this,f)===0},I.prototype.inspect=function(){let f="";const G=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,G).replace(/(.{2})/g,"$1 ").trim(),this.length>G&&(f+=" ... "),"<Buffer "+f+">"},a&&(I.prototype[a]=I.prototype.inspect),I.prototype.compare=function(f,G,X,P,oe){if(Xn(f,r)&&(f=I.from(f,f.offset,f.byteLength)),!I.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(G===void 0&&(G=0),X===void 0&&(X=f?f.length:0),P===void 0&&(P=0),oe===void 0&&(oe=this.length),G<0||X>f.length||P<0||oe>this.length)throw new RangeError("out of range index");if(P>=oe&&G>=X)return 0;if(P>=oe)return-1;if(G>=X)return 1;if(G>>>=0,X>>>=0,P>>>=0,oe>>>=0,this===f)return 0;let $=oe-P,fe=X-G;const Ve=Math.min($,fe),ve=this.slice(P,oe),De=f.slice(G,X);for(let Le=0;Le<Ve;++Le)if(ve[Le]!==De[Le]){$=ve[Le],fe=De[Le];break}return $<fe?-1:fe<$?1:0};function se(k,f,G,X,P){if(k.length===0)return-1;if(typeof G=="string"?(X=G,G=0):G>2147483647?G=2147483647:G<-2147483648&&(G=-2147483648),G=+G,oi(G)&&(G=P?0:k.length-1),G<0&&(G=k.length+G),G>=k.length){if(P)return-1;G=k.length-1}else if(G<0)if(P)G=0;else return-1;if(typeof f=="string"&&(f=I.from(f,X)),I.isBuffer(f))return f.length===0?-1:re(k,f,G,X,P);if(typeof f=="number")return f=f&255,typeof r.prototype.indexOf=="function"?P?r.prototype.indexOf.call(k,f,G):r.prototype.lastIndexOf.call(k,f,G):re(k,[f],G,X,P);throw new TypeError("val must be string, number or Buffer")}function re(k,f,G,X,P){let oe=1,$=k.length,fe=f.length;if(X!==void 0&&(X=String(X).toLowerCase(),X==="ucs2"||X==="ucs-2"||X==="utf16le"||X==="utf-16le")){if(k.length<2||f.length<2)return-1;oe=2,$/=2,fe/=2,G/=2}function Ve(De,Le){return oe===1?De[Le]:De.readUInt16BE(Le*oe)}let ve;if(P){let De=-1;for(ve=G;ve<$;ve++)if(Ve(k,ve)===Ve(f,De===-1?0:ve-De)){if(De===-1&&(De=ve),ve-De+1===fe)return De*oe}else De!==-1&&(ve-=ve-De),De=-1}else for(G+fe>$&&(G=$-fe),ve=G;ve>=0;ve--){let De=!0;for(let Le=0;Le<fe;Le++)if(Ve(k,ve+Le)!==Ve(f,Le)){De=!1;break}if(De)return ve}return-1}I.prototype.includes=function(f,G,X){return this.indexOf(f,G,X)!==-1},I.prototype.indexOf=function(f,G,X){return se(this,f,G,X,!0)},I.prototype.lastIndexOf=function(f,G,X){return se(this,f,G,X,!1)};function ae(k,f,G,X){G=Number(G)||0;const P=k.length-G;X?(X=Number(X),X>P&&(X=P)):X=P;const oe=f.length;X>oe/2&&(X=oe/2);let $;for($=0;$<X;++$){const fe=parseInt(f.substr($*2,2),16);if(oi(fe))return $;k[G+$]=fe}return $}function Ie(k,f,G,X){return ri(as(f,k.length-G),k,G,X)}function de(k,f,G,X){return ri(Aa(f),k,G,X)}function ie(k,f,G,X){return ri(tr(f),k,G,X)}function J(k,f,G,X){return ri(Co(f,k.length-G),k,G,X)}I.prototype.write=function(f,G,X,P){if(G===void 0)P="utf8",X=this.length,G=0;else if(X===void 0&&typeof G=="string")P=G,X=this.length,G=0;else if(isFinite(G))G=G>>>0,isFinite(X)?(X=X>>>0,P===void 0&&(P="utf8")):(P=X,X=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const oe=this.length-G;if((X===void 0||X>oe)&&(X=oe),f.length>0&&(X<0||G<0)||G>this.length)throw new RangeError("Attempt to write outside buffer bounds");P||(P="utf8");let $=!1;for(;;)switch(P){case"hex":return ae(this,f,G,X);case"utf8":case"utf-8":return Ie(this,f,G,X);case"ascii":case"latin1":case"binary":return de(this,f,G,X);case"base64":return ie(this,f,G,X);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return J(this,f,G,X);default:if($)throw new TypeError("Unknown encoding: "+P);P=(""+P).toLowerCase(),$=!0}},I.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function T(k,f,G){return f===0&&G===k.length?e.fromByteArray(k):e.fromByteArray(k.slice(f,G))}function O(k,f,G){G=Math.min(k.length,G);const X=[];let P=f;for(;P<G;){const oe=k[P];let $=null,fe=oe>239?4:oe>223?3:oe>191?2:1;if(P+fe<=G){let Ve,ve,De,Le;switch(fe){case 1:oe<128&&($=oe);break;case 2:Ve=k[P+1],(Ve&192)===128&&(Le=(oe&31)<<6|Ve&63,Le>127&&($=Le));break;case 3:Ve=k[P+1],ve=k[P+2],(Ve&192)===128&&(ve&192)===128&&(Le=(oe&15)<<12|(Ve&63)<<6|ve&63,Le>2047&&(Le<55296||Le>57343)&&($=Le));break;case 4:Ve=k[P+1],ve=k[P+2],De=k[P+3],(Ve&192)===128&&(ve&192)===128&&(De&192)===128&&(Le=(oe&15)<<18|(Ve&63)<<12|(ve&63)<<6|De&63,Le>65535&&Le<1114112&&($=Le))}}$===null?($=65533,fe=1):$>65535&&($-=65536,X.push($>>>10&1023|55296),$=56320|$&1023),X.push($),P+=fe}return H(X)}const F=4096;function H(k){const f=k.length;if(f<=F)return String.fromCharCode.apply(String,k);let G="",X=0;for(;X<f;)G+=String.fromCharCode.apply(String,k.slice(X,X+=F));return G}function U(k,f,G){let X="";G=Math.min(k.length,G);for(let P=f;P<G;++P)X+=String.fromCharCode(k[P]&127);return X}function E(k,f,G){let X="";G=Math.min(k.length,G);for(let P=f;P<G;++P)X+=String.fromCharCode(k[P]);return X}function _(k,f,G){const X=k.length;(!f||f<0)&&(f=0),(!G||G<0||G>X)&&(G=X);let P="";for(let oe=f;oe<G;++oe)P+=po[k[oe]];return P}function be(k,f,G){const X=k.slice(f,G);let P="";for(let oe=0;oe<X.length-1;oe+=2)P+=String.fromCharCode(X[oe]+X[oe+1]*256);return P}I.prototype.slice=function(f,G){const X=this.length;f=~~f,G=G===void 0?X:~~G,f<0?(f+=X,f<0&&(f=0)):f>X&&(f=X),G<0?(G+=X,G<0&&(G=0)):G>X&&(G=X),G<f&&(G=f);const P=this.subarray(f,G);return Object.setPrototypeOf(P,I.prototype),P};function ye(k,f,G){if(k%1!==0||k<0)throw new RangeError("offset is not uint");if(k+f>G)throw new RangeError("Trying to access beyond buffer length")}I.prototype.readUintLE=I.prototype.readUIntLE=function(f,G,X){f=f>>>0,G=G>>>0,X||ye(f,G,this.length);let P=this[f],oe=1,$=0;for(;++$<G&&(oe*=256);)P+=this[f+$]*oe;return P},I.prototype.readUintBE=I.prototype.readUIntBE=function(f,G,X){f=f>>>0,G=G>>>0,X||ye(f,G,this.length);let P=this[f+--G],oe=1;for(;G>0&&(oe*=256);)P+=this[f+--G]*oe;return P},I.prototype.readUint8=I.prototype.readUInt8=function(f,G){return f=f>>>0,G||ye(f,1,this.length),this[f]},I.prototype.readUint16LE=I.prototype.readUInt16LE=function(f,G){return f=f>>>0,G||ye(f,2,this.length),this[f]|this[f+1]<<8},I.prototype.readUint16BE=I.prototype.readUInt16BE=function(f,G){return f=f>>>0,G||ye(f,2,this.length),this[f]<<8|this[f+1]},I.prototype.readUint32LE=I.prototype.readUInt32LE=function(f,G){return f=f>>>0,G||ye(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},I.prototype.readUint32BE=I.prototype.readUInt32BE=function(f,G){return f=f>>>0,G||ye(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},I.prototype.readBigUInt64LE=Jn(function(f){f=f>>>0,Mt(f,"offset");const G=this[f],X=this[f+7];(G===void 0||X===void 0)&&ns(f,this.length-8);const P=G+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,oe=this[++f]+this[++f]*2**8+this[++f]*2**16+X*2**24;return BigInt(P)+(BigInt(oe)<<BigInt(32))}),I.prototype.readBigUInt64BE=Jn(function(f){f=f>>>0,Mt(f,"offset");const G=this[f],X=this[f+7];(G===void 0||X===void 0)&&ns(f,this.length-8);const P=G*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],oe=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+X;return(BigInt(P)<<BigInt(32))+BigInt(oe)}),I.prototype.readIntLE=function(f,G,X){f=f>>>0,G=G>>>0,X||ye(f,G,this.length);let P=this[f],oe=1,$=0;for(;++$<G&&(oe*=256);)P+=this[f+$]*oe;return oe*=128,P>=oe&&(P-=Math.pow(2,8*G)),P},I.prototype.readIntBE=function(f,G,X){f=f>>>0,G=G>>>0,X||ye(f,G,this.length);let P=G,oe=1,$=this[f+--P];for(;P>0&&(oe*=256);)$+=this[f+--P]*oe;return oe*=128,$>=oe&&($-=Math.pow(2,8*G)),$},I.prototype.readInt8=function(f,G){return f=f>>>0,G||ye(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},I.prototype.readInt16LE=function(f,G){f=f>>>0,G||ye(f,2,this.length);const X=this[f]|this[f+1]<<8;return X&32768?X|4294901760:X},I.prototype.readInt16BE=function(f,G){f=f>>>0,G||ye(f,2,this.length);const X=this[f+1]|this[f]<<8;return X&32768?X|4294901760:X},I.prototype.readInt32LE=function(f,G){return f=f>>>0,G||ye(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},I.prototype.readInt32BE=function(f,G){return f=f>>>0,G||ye(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},I.prototype.readBigInt64LE=Jn(function(f){f=f>>>0,Mt(f,"offset");const G=this[f],X=this[f+7];(G===void 0||X===void 0)&&ns(f,this.length-8);const P=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(X<<24);return(BigInt(P)<<BigInt(32))+BigInt(G+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),I.prototype.readBigInt64BE=Jn(function(f){f=f>>>0,Mt(f,"offset");const G=this[f],X=this[f+7];(G===void 0||X===void 0)&&ns(f,this.length-8);const P=(G<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(P)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+X)}),I.prototype.readFloatLE=function(f,G){return f=f>>>0,G||ye(f,4,this.length),n.read(this,f,!0,23,4)},I.prototype.readFloatBE=function(f,G){return f=f>>>0,G||ye(f,4,this.length),n.read(this,f,!1,23,4)},I.prototype.readDoubleLE=function(f,G){return f=f>>>0,G||ye(f,8,this.length),n.read(this,f,!0,52,8)},I.prototype.readDoubleBE=function(f,G){return f=f>>>0,G||ye(f,8,this.length),n.read(this,f,!1,52,8)};function ue(k,f,G,X,P,oe){if(!I.isBuffer(k))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>P||f<oe)throw new RangeError('"value" argument is out of bounds');if(G+X>k.length)throw new RangeError("Index out of range")}I.prototype.writeUintLE=I.prototype.writeUIntLE=function(f,G,X,P){if(f=+f,G=G>>>0,X=X>>>0,!P){const fe=Math.pow(2,8*X)-1;ue(this,f,G,X,fe,0)}let oe=1,$=0;for(this[G]=f&255;++$<X&&(oe*=256);)this[G+$]=f/oe&255;return G+X},I.prototype.writeUintBE=I.prototype.writeUIntBE=function(f,G,X,P){if(f=+f,G=G>>>0,X=X>>>0,!P){const fe=Math.pow(2,8*X)-1;ue(this,f,G,X,fe,0)}let oe=X-1,$=1;for(this[G+oe]=f&255;--oe>=0&&($*=256);)this[G+oe]=f/$&255;return G+X},I.prototype.writeUint8=I.prototype.writeUInt8=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,1,255,0),this[G]=f&255,G+1},I.prototype.writeUint16LE=I.prototype.writeUInt16LE=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,2,65535,0),this[G]=f&255,this[G+1]=f>>>8,G+2},I.prototype.writeUint16BE=I.prototype.writeUInt16BE=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,2,65535,0),this[G]=f>>>8,this[G+1]=f&255,G+2},I.prototype.writeUint32LE=I.prototype.writeUInt32LE=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,4,4294967295,0),this[G+3]=f>>>24,this[G+2]=f>>>16,this[G+1]=f>>>8,this[G]=f&255,G+4},I.prototype.writeUint32BE=I.prototype.writeUInt32BE=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,4,4294967295,0),this[G]=f>>>24,this[G+1]=f>>>16,this[G+2]=f>>>8,this[G+3]=f&255,G+4};function Se(k,f,G,X,P){hn(f,X,P,k,G,7);let oe=Number(f&BigInt(4294967295));k[G++]=oe,oe=oe>>8,k[G++]=oe,oe=oe>>8,k[G++]=oe,oe=oe>>8,k[G++]=oe;let $=Number(f>>BigInt(32)&BigInt(4294967295));return k[G++]=$,$=$>>8,k[G++]=$,$=$>>8,k[G++]=$,$=$>>8,k[G++]=$,G}function Ke(k,f,G,X,P){hn(f,X,P,k,G,7);let oe=Number(f&BigInt(4294967295));k[G+7]=oe,oe=oe>>8,k[G+6]=oe,oe=oe>>8,k[G+5]=oe,oe=oe>>8,k[G+4]=oe;let $=Number(f>>BigInt(32)&BigInt(4294967295));return k[G+3]=$,$=$>>8,k[G+2]=$,$=$>>8,k[G+1]=$,$=$>>8,k[G]=$,G+8}I.prototype.writeBigUInt64LE=Jn(function(f,G=0){return Se(this,f,G,BigInt(0),BigInt("0xffffffffffffffff"))}),I.prototype.writeBigUInt64BE=Jn(function(f,G=0){return Ke(this,f,G,BigInt(0),BigInt("0xffffffffffffffff"))}),I.prototype.writeIntLE=function(f,G,X,P){if(f=+f,G=G>>>0,!P){const Ve=Math.pow(2,8*X-1);ue(this,f,G,X,Ve-1,-Ve)}let oe=0,$=1,fe=0;for(this[G]=f&255;++oe<X&&($*=256);)f<0&&fe===0&&this[G+oe-1]!==0&&(fe=1),this[G+oe]=(f/$>>0)-fe&255;return G+X},I.prototype.writeIntBE=function(f,G,X,P){if(f=+f,G=G>>>0,!P){const Ve=Math.pow(2,8*X-1);ue(this,f,G,X,Ve-1,-Ve)}let oe=X-1,$=1,fe=0;for(this[G+oe]=f&255;--oe>=0&&($*=256);)f<0&&fe===0&&this[G+oe+1]!==0&&(fe=1),this[G+oe]=(f/$>>0)-fe&255;return G+X},I.prototype.writeInt8=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,1,127,-128),f<0&&(f=255+f+1),this[G]=f&255,G+1},I.prototype.writeInt16LE=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,2,32767,-32768),this[G]=f&255,this[G+1]=f>>>8,G+2},I.prototype.writeInt16BE=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,2,32767,-32768),this[G]=f>>>8,this[G+1]=f&255,G+2},I.prototype.writeInt32LE=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,4,2147483647,-2147483648),this[G]=f&255,this[G+1]=f>>>8,this[G+2]=f>>>16,this[G+3]=f>>>24,G+4},I.prototype.writeInt32BE=function(f,G,X){return f=+f,G=G>>>0,X||ue(this,f,G,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[G]=f>>>24,this[G+1]=f>>>16,this[G+2]=f>>>8,this[G+3]=f&255,G+4},I.prototype.writeBigInt64LE=Jn(function(f,G=0){return Se(this,f,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),I.prototype.writeBigInt64BE=Jn(function(f,G=0){return Ke(this,f,G,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Me(k,f,G,X,P,oe){if(G+X>k.length)throw new RangeError("Index out of range");if(G<0)throw new RangeError("Index out of range")}function Pe(k,f,G,X,P){return f=+f,G=G>>>0,P||Me(k,f,G,4),n.write(k,f,G,X,23,4),G+4}I.prototype.writeFloatLE=function(f,G,X){return Pe(this,f,G,!0,X)},I.prototype.writeFloatBE=function(f,G,X){return Pe(this,f,G,!1,X)};function ot(k,f,G,X,P){return f=+f,G=G>>>0,P||Me(k,f,G,8),n.write(k,f,G,X,52,8),G+8}I.prototype.writeDoubleLE=function(f,G,X){return ot(this,f,G,!0,X)},I.prototype.writeDoubleBE=function(f,G,X){return ot(this,f,G,!1,X)},I.prototype.copy=function(f,G,X,P){if(!I.isBuffer(f))throw new TypeError("argument should be a Buffer");if(X||(X=0),!P&&P!==0&&(P=this.length),G>=f.length&&(G=f.length),G||(G=0),P>0&&P<X&&(P=X),P===X||f.length===0||this.length===0)return 0;if(G<0)throw new RangeError("targetStart out of bounds");if(X<0||X>=this.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("sourceEnd out of bounds");P>this.length&&(P=this.length),f.length-G<P-X&&(P=f.length-G+X);const oe=P-X;return this===f&&typeof r.prototype.copyWithin=="function"?this.copyWithin(G,X,P):r.prototype.set.call(f,this.subarray(X,P),G),oe},I.prototype.fill=function(f,G,X,P){if(typeof f=="string"){if(typeof G=="string"?(P=G,G=0,X=this.length):typeof X=="string"&&(P=X,X=this.length),P!==void 0&&typeof P!="string")throw new TypeError("encoding must be a string");if(typeof P=="string"&&!I.isEncoding(P))throw new TypeError("Unknown encoding: "+P);if(f.length===1){const $=f.charCodeAt(0);(P==="utf8"&&$<128||P==="latin1")&&(f=$)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(G<0||this.length<G||this.length<X)throw new RangeError("Out of range index");if(X<=G)return this;G=G>>>0,X=X===void 0?this.length:X>>>0,f||(f=0);let oe;if(typeof f=="number")for(oe=G;oe<X;++oe)this[oe]=f;else{const $=I.isBuffer(f)?f:I.from(f,P),fe=$.length;if(fe===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(oe=0;oe<X-G;++oe)this[oe+G]=$[oe%fe]}return this};const Pt={};function Zt(k,f,G){Pt[k]=class extends G{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${k}]`,this.stack,delete this.name}get code(){return k}set code(P){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:P,writable:!0})}toString(){return`${this.name} [${k}]: ${this.message}`}}}Zt("ERR_BUFFER_OUT_OF_BOUNDS",function(k){return k?`${k} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Zt("ERR_INVALID_ARG_TYPE",function(k,f){return`The "${k}" argument must be of type number. Received type ${typeof f}`},TypeError),Zt("ERR_OUT_OF_RANGE",function(k,f,G){let X=`The value of "${k}" is out of range.`,P=G;return Number.isInteger(G)&&Math.abs(G)>2**32?P=mt(String(G)):typeof G=="bigint"&&(P=String(G),(G>BigInt(2)**BigInt(32)||G<-(BigInt(2)**BigInt(32)))&&(P=mt(P)),P+="n"),X+=` It must be ${f}. Received ${P}`,X},RangeError);function mt(k){let f="",G=k.length;const X=k[0]==="-"?1:0;for(;G>=X+4;G-=3)f=`_${k.slice(G-3,G)}${f}`;return`${k.slice(0,G)}${f}`}function xt(k,f,G){Mt(f,"offset"),(k[f]===void 0||k[f+G]===void 0)&&ns(f,k.length-(G+1))}function hn(k,f,G,X,P,oe){if(k>G||k<f){const $=typeof f=="bigint"?"n":"";let fe;throw f===0||f===BigInt(0)?fe=`>= 0${$} and < 2${$} ** ${(oe+1)*8}${$}`:fe=`>= -(2${$} ** ${(oe+1)*8-1}${$}) and < 2 ** ${(oe+1)*8-1}${$}`,new Pt.ERR_OUT_OF_RANGE("value",fe,k)}xt(X,P,oe)}function Mt(k,f){if(typeof k!="number")throw new Pt.ERR_INVALID_ARG_TYPE(f,"number",k)}function ns(k,f,G){throw Math.floor(k)!==k?(Mt(k,G),new Pt.ERR_OUT_OF_RANGE("offset","an integer",k)):f<0?new Pt.ERR_BUFFER_OUT_OF_BOUNDS:new Pt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,k)}const Ul=/[^+/0-9A-Za-z-_]/g;function uo(k){if(k=k.split("=")[0],k=k.trim().replace(Ul,""),k.length<2)return"";for(;k.length%4!==0;)k=k+"=";return k}function as(k,f){f=f||1/0;let G;const X=k.length;let P=null;const oe=[];for(let $=0;$<X;++$){if(G=k.charCodeAt($),G>55295&&G<57344){if(!P){if(G>56319){(f-=3)>-1&&oe.push(239,191,189);continue}else if($+1===X){(f-=3)>-1&&oe.push(239,191,189);continue}P=G;continue}if(G<56320){(f-=3)>-1&&oe.push(239,191,189),P=G;continue}G=(P-55296<<10|G-56320)+65536}else P&&(f-=3)>-1&&oe.push(239,191,189);if(P=null,G<128){if((f-=1)<0)break;oe.push(G)}else if(G<2048){if((f-=2)<0)break;oe.push(G>>6|192,G&63|128)}else if(G<65536){if((f-=3)<0)break;oe.push(G>>12|224,G>>6&63|128,G&63|128)}else if(G<1114112){if((f-=4)<0)break;oe.push(G>>18|240,G>>12&63|128,G>>6&63|128,G&63|128)}else throw new Error("Invalid code point")}return oe}function Aa(k){const f=[];for(let G=0;G<k.length;++G)f.push(k.charCodeAt(G)&255);return f}function Co(k,f){let G,X,P;const oe=[];for(let $=0;$<k.length&&!((f-=2)<0);++$)G=k.charCodeAt($),X=G>>8,P=G%256,oe.push(P),oe.push(X);return oe}function tr(k){return e.toByteArray(uo(k))}function ri(k,f,G,X){let P;for(P=0;P<X&&!(P+G>=f.length||P>=k.length);++P)f[P+G]=k[P];return P}function Xn(k,f){return k instanceof f||k!=null&&k.constructor!=null&&k.constructor.name!=null&&k.constructor.name===f.name}function oi(k){return k!==k}const po=function(){const k="0123456789abcdef",f=new Array(256);for(let G=0;G<16;++G){const X=G*16;for(let P=0;P<16;++P)f[X+P]=k[G]+k[P]}return f}();function Jn(k){return typeof BigInt>"u"?Dl:k}function Dl(){throw new Error("BigInt not supported")}})(B1);const Yoe=B1.Buffer,fI=B1.Buffer;window.Buffer=fI;const wX="6.14.3";function kX(t,e,n){const a=e.split("|").map(r=>r.trim());for(let r=0;r<a.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function Yn(t){const e=Object.keys(t);return(await Promise.all(e.map(a=>Promise.resolve(t[a])))).reduce((a,s,r)=>(a[e[r]]=s,a),{})}function Ue(t,e,n){for(let a in e){let s=e[a];const r=n?n[a]:null;r&&kX(s,r,a),Object.defineProperty(t,a,{enumerable:!0,value:s,writable:!1})}}function Wc(t,e){if(t==null)return"null";if(e==null&&(e=new Set),typeof t=="object"){if(e.has(t))return"[Circular]";e.add(t)}if(Array.isArray(t))return"[ "+t.map(n=>Wc(n,e)).join(", ")+" ]";if(t instanceof Uint8Array){const n="0123456789abcdef";let a="0x";for(let s=0;s<t.length;s++)a+=n[t[s]>>4],a+=n[t[s]&15];return a}if(typeof t=="object"&&typeof t.toJSON=="function")return Wc(t.toJSON(),e);switch(typeof t){case"boolean":case"number":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"string":return JSON.stringify(t);case"object":{const n=Object.keys(t);return n.sort(),"{ "+n.map(a=>`${Wc(a,e)}: ${Wc(t[a],e)}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function mn(t,e){return t&&t.code===e}function w1(t){return mn(t,"CALL_EXCEPTION")}function Wt(t,e,n){let a=t;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${Wc(n)}`);for(const l in n){if(l==="shortMessage")continue;const c=n[l];r.push(l+"="+Wc(c))}}r.push(`code=${e}`),r.push(`version=${wX}`),r.length&&(t+=" ("+r.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return Ue(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&Ue(s,{shortMessage:a}),s}function me(t,e,n,a){if(!t)throw Wt(e,n,a)}function j(t,e,n,a){me(t,e,"INVALID_ARGUMENT",{argument:n,value:a})}function Fw(t,e,n){n==null&&(n=""),n&&(n=": "+n),me(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),me(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function Om(t,e,n){if(n==null&&(n=""),t!==e){let a=n,s="new";n&&(a+=".",s+=" "+n),me(!1,`private constructor; use ${a}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Kw(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const a=new Uint8Array((t.length-2)/2);let s=2;for(let r=0;r<a.length;r++)a[r]=parseInt(t.substring(s,s+2),16),s+=2;return a}j(!1,"invalid BytesLike value",e||"value",t)}function $e(t,e){return Kw(t,e,!1)}function Fn(t,e){return Kw(t,e,!0)}function St(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function k1(t){return St(t,!0)||t instanceof Uint8Array}const oG="0123456789abcdef";function we(t){const e=$e(t);let n="0x";for(let a=0;a<e.length;a++){const s=e[a];n+=oG[(s&240)>>4]+oG[s&15]}return n}function Yt(t){return"0x"+t.map(e=>we(e).substring(2)).join("")}function xc(t){return St(t,!0)?(t.length-2)/2:$e(t).length}function Ht(t,e,n){const a=$e(t);return n!=null&&n>a.length&&me(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:a,length:a.length,offset:n}),we(a.slice(e??0,n??a.length))}function Mw(t,e,n){const a=$e(t);me(e>=a.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(a),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(a,e-a.length):s.set(a,0),we(s)}function Li(t,e){return Mw(t,e,!0)}function VX(t,e){return Mw(t,e,!1)}const jm=BigInt(0),Gs=BigInt(1),nh=9007199254740991;function WX(t,e){const n=_m(t,"value"),a=BigInt(nt(e,"width"));if(me(n>>a===jm,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>a-Gs){const s=(Gs<<a)-Gs;return-((~n&s)+Gs)}return n}function Uw(t,e){let n=Xe(t,"value");const a=BigInt(nt(e,"width")),s=Gs<<a-Gs;if(n<jm){n=-n,me(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const r=(Gs<<a)-Gs;return(~n&r)+Gs}else me(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function gI(t,e){const n=_m(t,"value"),a=BigInt(nt(e,"bits"));return n&(Gs<<a)-Gs}function Xe(t,e){switch(typeof t){case"bigint":return t;case"number":return j(Number.isInteger(t),"underflow",e||"value",t),j(t>=-9007199254740991&&t<=nh,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){j(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}j(!1,"invalid BigNumberish value",e||"value",t)}function _m(t,e){const n=Xe(t,e);return me(n>=jm,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const lG="0123456789abcdef";function V1(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=lG[n>>4],e+=lG[n&15];return BigInt(e)}return Xe(t)}function nt(t,e){switch(typeof t){case"bigint":return j(t>=-9007199254740991&&t<=nh,"overflow",e||"value",t),Number(t);case"number":return j(Number.isInteger(t),"underflow",e||"value",t),j(t>=-9007199254740991&&t<=nh,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return nt(BigInt(t),e)}catch(n){j(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}j(!1,"invalid numeric value",e||"value",t)}function RX(t){return nt(V1(t))}function no(t,e){let a=_m(t,"value").toString(16);if(e==null)a.length%2&&(a="0"+a);else{const s=nt(e,"width");for(me(s*2>=a.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});a.length<s*2;)a="0"+a}return"0x"+a}function An(t){const e=_m(t,"value");if(e===jm)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const a=new Uint8Array(n.length/2);for(let s=0;s<a.length;s++){const r=s*2;a[s]=parseInt(n.substring(r,r+2),16)}return a}function fs(t){let e=we(k1(t)?t:An(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const cG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const gG=BigInt(58);function vX(t){const e=$e(t);let n=V1(e),a="";for(;n;)a=cG[Number(n%gG)]+a,n/=gG;for(let s=0;s<e.length&&!e[s];s++)a=cG[0]+a;return a}function XX(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return $e(e)}function JX(t){const e=$e(t);let n="";for(let a=0;a<e.length;a++)n+=String.fromCharCode(e[a]);return btoa(n)}var Mc;class Dw{constructor(e,n,a){te(this,"filter");te(this,"emitter");q(this,Mc);v(this,Mc,n),Ue(this,{emitter:e,filter:a})}async removeListener(){y(this,Mc)!=null&&await this.emitter.off(this.filter,y(this,Mc))}}Mc=new WeakMap;function EX(t,e,n,a,s){j(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function zw(t,e,n,a,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let r=0;for(let l=e+1;l<n.length&&n[l]>>6===2;l++)r++;return r}return t==="OVERRUN"?n.length-e-1:0}function xX(t,e,n,a,s){return t==="OVERLONG"?(j(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),a.push(s),0):(a.push(65533),zw(t,e,n))}const NX=Object.freeze({error:EX,ignore:zw,replace:xX});function HX(t,e){e==null&&(e=NX.error);const n=$e(t,"bytes"),a=[];let s=0;for(;s<n.length;){const r=n[s++];if(r>>7===0){a.push(r);continue}let l=null,c=null;if((r&224)===192)l=1,c=127;else if((r&240)===224)l=2,c=2047;else if((r&248)===240)l=3,c=65535;else{(r&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,a):s+=e("BAD_PREFIX",s-1,n,a);continue}if(s-1+l>=n.length){s+=e("OVERRUN",s-1,n,a);continue}let g=r&(1<<8-l-1)-1;for(let u=0;u<l;u++){let I=n[s];if((I&192)!=128){s+=e("MISSING_CONTINUE",s,n,a),g=null;break}g=g<<6|I&63,s++}if(g!==null){if(g>1114111){s+=e("OUT_OF_RANGE",s-1-l,n,a,g);continue}if(g>=55296&&g<=57343){s+=e("UTF16_SURROGATE",s-1-l,n,a,g);continue}if(g<=c){s+=e("OVERLONG",s-1-l,n,a,g);continue}a.push(g)}}return a}function Mi(t,e){j(typeof t=="string","invalid string value","str",t);let n=[];for(let a=0;a<t.length;a++){const s=t.charCodeAt(a);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){a++;const r=t.charCodeAt(a);j(a<t.length&&(r&64512)===56320,"invalid surrogate pair","str",t);const l=65536+((s&1023)<<10)+(r&1023);n.push(l>>18|240),n.push(l>>12&63|128),n.push(l>>6&63|128),n.push(l&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function YX(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function mm(t,e){return YX(HX(t,e))}function Lw(t){async function e(n,a){me(a==null||!a.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();me(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),me(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const l=new AbortController,c=setTimeout(()=>{r=Wt("request timeout","TIMEOUT"),l.abort()},n.timeout);a&&a.addListener(()=>{r=Wt("request cancelled","CANCELLED"),l.abort()});const g=Object.assign({},t,{method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:l.signal});let u;try{u=await fetch(n.url,g)}catch(Z){throw clearTimeout(c),r||Z}clearTimeout(c);const I={};u.headers.forEach((Z,S)=>{I[S.toLowerCase()]=Z});const p=await u.arrayBuffer(),A=p==null?null:new Uint8Array(p);return{statusCode:u.status,statusMessage:u.statusText,headers:I,body:A}}return e}const TX=12,FX=250;let dG=Lw();const KX=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),MX=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let M0=!1;async function Qw(t,e){try{const n=t.match(KX);if(!n)throw new Error("invalid data");return new jr(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?XX(n[3]):DX(n[3]))}catch{return new jr(599,"BAD REQUEST (invalid data: URI)",{},null,new Qi(t))}}function Pw(t){async function e(n,a){try{const s=n.match(MX);if(!s)throw new Error("invalid link");return new Qi(`${t}${s[2]}`)}catch{return new jr(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Qi(n))}}return e}const rp={data:Qw,ipfs:Pw("https://gateway.ipfs.io/ipfs/")},Ow=new WeakMap;var _o,Xr;class UX{constructor(e){q(this,_o);q(this,Xr);v(this,_o,[]),v(this,Xr,!1),Ow.set(e,()=>{if(!y(this,Xr)){v(this,Xr,!0);for(const n of y(this,_o))setTimeout(()=>{n()},0);v(this,_o,[])}})}addListener(e){me(!y(this,Xr),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),y(this,_o).push(e)}get cancelled(){return y(this,Xr)}checkSignal(){me(!this.cancelled,"cancelled","CANCELLED",{})}}_o=new WeakMap,Xr=new WeakMap;function op(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Uc,Dc,ps,Si,zc,Lc,an,Sa,wi,qo,$o,el,Ts,ms,Jr,tl,dI;const Hm=class Hm{constructor(e){q(this,tl);q(this,Uc);q(this,Dc);q(this,ps);q(this,Si);q(this,zc);q(this,Lc);q(this,an);q(this,Sa);q(this,wi);q(this,qo);q(this,$o);q(this,el);q(this,Ts);q(this,ms);q(this,Jr);v(this,Lc,String(e)),v(this,Uc,!1),v(this,Dc,!0),v(this,ps,{}),v(this,Si,""),v(this,zc,3e5),v(this,ms,{slotInterval:FX,maxAttempts:TX}),v(this,Jr,null)}get url(){return y(this,Lc)}set url(e){v(this,Lc,String(e))}get body(){return y(this,an)==null?null:new Uint8Array(y(this,an))}set body(e){if(e==null)v(this,an,void 0),v(this,Sa,void 0);else if(typeof e=="string")v(this,an,Mi(e)),v(this,Sa,"text/plain");else if(e instanceof Uint8Array)v(this,an,e),v(this,Sa,"application/octet-stream");else if(typeof e=="object")v(this,an,Mi(JSON.stringify(e))),v(this,Sa,"application/json");else throw new Error("invalid body")}hasBody(){return y(this,an)!=null}get method(){return y(this,Si)?y(this,Si):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),v(this,Si,String(e).toUpperCase())}get headers(){const e=Object.assign({},y(this,ps));return y(this,wi)&&(e.authorization=`Basic ${JX(Mi(y(this,wi)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&y(this,Sa)&&(e["content-type"]=y(this,Sa)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){y(this,ps)[String(e).toLowerCase()]=String(n)}clearHeaders(){v(this,ps,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let a=0;return{next:()=>{if(a<n.length){const s=n[a++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return y(this,wi)||null}setCredentials(e,n){j(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),v(this,wi,`${e}:${n}`)}get allowGzip(){return y(this,Dc)}set allowGzip(e){v(this,Dc,!!e)}get allowInsecureAuthentication(){return!!y(this,Uc)}set allowInsecureAuthentication(e){v(this,Uc,!!e)}get timeout(){return y(this,zc)}set timeout(e){j(e>=0,"timeout must be non-zero","timeout",e),v(this,zc,e)}get preflightFunc(){return y(this,qo)||null}set preflightFunc(e){v(this,qo,e)}get processFunc(){return y(this,$o)||null}set processFunc(e){v(this,$o,e)}get retryFunc(){return y(this,el)||null}set retryFunc(e){v(this,el,e)}get getUrlFunc(){return y(this,Jr)||dG}set getUrlFunc(e){v(this,Jr,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${y(this,an)?we(y(this,an)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(y(this,ms).slotInterval=e.slotInterval),e.maxAttempts!=null&&(y(this,ms).maxAttempts=e.maxAttempts)}send(){return me(y(this,Ts)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),v(this,Ts,new UX(this)),ce(this,tl,dI).call(this,0,IG()+this.timeout,0,this,new jr(0,"",{},null,this))}cancel(){me(y(this,Ts)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=Ow.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),a=e.split(":")[0].toLowerCase();me(this.method==="GET"&&(n!=="https"||a!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Hm(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,v(s,ps,Object.assign({},y(this,ps))),y(this,an)&&v(s,an,new Uint8Array(y(this,an))),v(s,Sa,y(this,Sa)),s}clone(){const e=new Hm(this.url);return v(e,Si,y(this,Si)),y(this,an)&&v(e,an,y(this,an)),v(e,Sa,y(this,Sa)),v(e,ps,Object.assign({},y(this,ps))),v(e,wi,y(this,wi)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),v(e,qo,y(this,qo)),v(e,$o,y(this,$o)),v(e,el,y(this,el)),v(e,ms,Object.assign({},y(this,ms))),v(e,Jr,y(this,Jr)),e}static lockConfig(){M0=!0}static getGateway(e){return rp[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(M0)throw new Error("gateways locked");rp[e]=n}static registerGetUrl(e){if(M0)throw new Error("gateways locked");dG=e}static createGetUrlFunc(e){return Lw(e)}static createDataGateway(){return Qw}static createIpfsGatewayFunc(e){return Pw(e)}};Uc=new WeakMap,Dc=new WeakMap,ps=new WeakMap,Si=new WeakMap,zc=new WeakMap,Lc=new WeakMap,an=new WeakMap,Sa=new WeakMap,wi=new WeakMap,qo=new WeakMap,$o=new WeakMap,el=new WeakMap,Ts=new WeakMap,ms=new WeakMap,Jr=new WeakMap,tl=new WeakSet,dI=async function(e,n,a,s,r){var I,p,A;if(e>=y(this,ms).maxAttempts)return r.makeServerError("exceeded maximum retry limit");me(IG()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),a>0&&await zX(a);let l=this.clone();const c=(l.url.split(":")[0]||"").toLowerCase();if(c in rp){const Z=await rp[c](l.url,op(y(s,Ts)));if(Z instanceof jr){let S=Z;if(this.processFunc){op(y(s,Ts));try{S=await this.processFunc(l,S)}catch(B){(B.throttle==null||typeof B.stall!="number")&&S.makeServerError("error in post-processing function",B).assertOk()}}return S}l=Z}this.preflightFunc&&(l=await this.preflightFunc(l));const g=await this.getUrlFunc(l,op(y(s,Ts)));let u=new jr(g.statusCode,g.statusMessage,g.headers,g.body,s);if(u.statusCode===301||u.statusCode===302){try{const Z=u.headers.location||"";return ce(I=l.redirect(Z),tl,dI).call(I,e+1,n,0,s,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(l,u,e))){const Z=u.headers["retry-after"];let S=y(this,ms).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof Z=="string"&&Z.match(/^[1-9][0-9]*$/)&&(S=parseInt(Z)),ce(p=l.clone(),tl,dI).call(p,e+1,n,S,s,u)}if(this.processFunc){op(y(s,Ts));try{u=await this.processFunc(l,u)}catch(Z){(Z.throttle==null||typeof Z.stall!="number")&&u.makeServerError("error in post-processing function",Z).assertOk();let S=y(this,ms).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return Z.stall>=0&&(S=Z.stall),ce(A=l.clone(),tl,dI).call(A,e+1,n,S,s,u)}}return u};let Qi=Hm;var ru,ou,lu,wa,Qc,nl;const C2=class C2{constructor(e,n,a,s,r){q(this,ru);q(this,ou);q(this,lu);q(this,wa);q(this,Qc);q(this,nl);v(this,ru,e),v(this,ou,n),v(this,lu,Object.keys(a).reduce((l,c)=>(l[c.toLowerCase()]=String(a[c]),l),{})),v(this,wa,s==null?null:new Uint8Array(s)),v(this,Qc,r||null),v(this,nl,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${y(this,wa)?we(y(this,wa)):"null"}>`}get statusCode(){return y(this,ru)}get statusMessage(){return y(this,ou)}get headers(){return Object.assign({},y(this,lu))}get body(){return y(this,wa)==null?null:new Uint8Array(y(this,wa))}get bodyText(){try{return y(this,wa)==null?"":mm(y(this,wa))}catch{me(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{me(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let a=0;return{next:()=>{if(a<n.length){const s=n[a++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let a;e?a=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,a=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new C2(599,a,this.headers,this.body,y(this,Qc)||void 0);return v(s,nl,{message:e,error:n}),s}throwThrottleError(e,n){n==null?n=-1:j(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const a=new Error(e||"throttling requests");throw Ue(a,{stall:n,throttle:!0}),a}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return y(this,wa)!=null}get request(){return y(this,Qc)}ok(){return y(this,nl).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=y(this,nl);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let a=null;this.request&&(a=this.request.url);let s=null;try{y(this,wa)&&(s=mm(y(this,wa)))}catch{}me(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:a,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};ru=new WeakMap,ou=new WeakMap,lu=new WeakMap,wa=new WeakMap,Qc=new WeakMap,nl=new WeakMap;let jr=C2;function IG(){return new Date().getTime()}function DX(t){return Mi(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function zX(t){return new Promise(e=>setTimeout(e,t))}function LX(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function uG(t,e,n){let a=0;for(let s=0;s<n;s++)a=a*256+t[e+s];return a}function CG(t,e,n,a){const s=[];for(;n<e+1+a;){const r=jw(t,n);s.push(r.result),n+=r.consumed,me(n<=e+1+a,"child data too short","BUFFER_OVERRUN",{buffer:t,length:a,offset:e})}return{consumed:1+a,result:s}}function jw(t,e){me(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=a=>{me(a<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:a})};if(t[e]>=248){const a=t[e]-247;n(e+1+a);const s=uG(t,e+1,a);return n(e+1+a+s),CG(t,e,e+1+a,a+s)}else if(t[e]>=192){const a=t[e]-192;return n(e+1+a),CG(t,e,e+1,a)}else if(t[e]>=184){const a=t[e]-183;n(e+1+a);const s=uG(t,e+1,a);n(e+1+a+s);const r=we(t.slice(e+1+a,e+1+a+s));return{consumed:1+a+s,result:r}}else if(t[e]>=128){const a=t[e]-128;n(e+1+a);const s=we(t.slice(e+1,e+1+a));return{consumed:1+a,result:s}}return{consumed:1,result:LX(t[e])}}function Vu(t){const e=$e(t,"data"),n=jw(e,0);return j(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function pG(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function _w(t){if(Array.isArray(t)){let a=[];if(t.forEach(function(r){a=a.concat(_w(r))}),a.length<=55)return a.unshift(192+a.length),a;const s=pG(a.length);return s.unshift(247+s.length),s.concat(a)}const e=Array.prototype.slice.call($e(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=pG(e.length);return n.unshift(183+n.length),n.concat(e)}const mG="0123456789abcdef";function ao(t){let e="0x";for(const n of _w(t))e+=mG[n>>4],e+=mG[n&15];return e}const Kn=32,ah=new Uint8Array(Kn),QX=["then"],lp={},qw=new WeakMap;function Fo(t){return qw.get(t)}function AG(t,e){qw.set(t,e)}function zd(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function sh(t,e,n){return t.indexOf(null)>=0?e.map((a,s)=>a instanceof Eg?sh(Fo(a),a,n):a):t.reduce((a,s,r)=>{let l=e.getValue(s);return s in a||(n&&l instanceof Eg&&(l=sh(Fo(l),l,n)),a[s]=l),a},{})}var Pc;const Xc=class Xc extends Array{constructor(...n){const a=n[0];let s=n[1],r=(n[2]||[]).slice(),l=!0;a!==lp&&(s=n,r=[],l=!1);super(s.length);q(this,Pc);s.forEach((u,I)=>{this[I]=u});const c=r.reduce((u,I)=>(typeof I=="string"&&u.set(I,(u.get(I)||0)+1),u),new Map);if(AG(this,Object.freeze(s.map((u,I)=>{const p=r[I];return p!=null&&c.get(p)===1?p:null}))),v(this,Pc,[]),y(this,Pc)==null&&y(this,Pc),!l)return;Object.freeze(this);const g=new Proxy(this,{get:(u,I,p)=>{if(typeof I=="string"){if(I.match(/^[0-9]+$/)){const Z=nt(I,"%index");if(Z<0||Z>=this.length)throw new RangeError("out of result range");const S=u[Z];return S instanceof Error&&zd(`index ${Z}`,S),S}if(QX.indexOf(I)>=0)return Reflect.get(u,I,p);const A=u[I];if(A instanceof Function)return function(...Z){return A.apply(this===p?u:this,Z)};if(!(I in u))return u.getValue.apply(this===p?u:this,[I])}return Reflect.get(u,I,p)}});return AG(g,Fo(this)),g}toArray(n){const a=[];return this.forEach((s,r)=>{s instanceof Error&&zd(`index ${r}`,s),n&&s instanceof Xc&&(s=s.toArray(n)),a.push(s)}),a}toObject(n){const a=Fo(this);return a.reduce((s,r,l)=>(me(r!=null,`value at index ${l} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),sh(a,this,n)),{})}slice(n,a){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),a==null&&(a=this.length),a<0&&(a+=this.length,a<0&&(a=0)),a>this.length&&(a=this.length);const s=Fo(this),r=[],l=[];for(let c=n;c<a;c++)r.push(this[c]),l.push(s[c]);return new Xc(lp,r,l)}filter(n,a){const s=Fo(this),r=[],l=[];for(let c=0;c<this.length;c++){const g=this[c];g instanceof Error&&zd(`index ${c}`,g),n.call(a,g,c,this)&&(r.push(g),l.push(s[c]))}return new Xc(lp,r,l)}map(n,a){const s=[];for(let r=0;r<this.length;r++){const l=this[r];l instanceof Error&&zd(`index ${r}`,l),s.push(n.call(a,l,r,this))}return s}getValue(n){const a=Fo(this).indexOf(n);if(a===-1)return;const s=this[a];return s instanceof Error&&zd(`property ${JSON.stringify(n)}`,s.error),s}static fromItems(n,a){return new Xc(lp,n,a)}};Pc=new WeakMap;let Eg=Xc;function yG(t){let e=An(t);return me(e.length<=Kn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Kn,offset:e.length}),e.length!==Kn&&(e=Fn(Yt([ah.slice(e.length%Kn),e]))),e}class _i{constructor(e,n,a,s){te(this,"name");te(this,"type");te(this,"localName");te(this,"dynamic");Ue(this,{name:e,type:n,localName:a,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){j(!1,e,this.localName,n)}}var ki,al,Oc,am;class ih{constructor(){q(this,Oc);q(this,ki);q(this,al);v(this,ki,[]),v(this,al,0)}get data(){return Yt(y(this,ki))}get length(){return y(this,al)}appendWriter(e){return ce(this,Oc,am).call(this,Fn(e.data))}writeBytes(e){let n=Fn(e);const a=n.length%Kn;return a&&(n=Fn(Yt([n,ah.slice(a)]))),ce(this,Oc,am).call(this,n)}writeValue(e){return ce(this,Oc,am).call(this,yG(e))}writeUpdatableValue(){const e=y(this,ki).length;return y(this,ki).push(ah),v(this,al,y(this,al)+Kn),n=>{y(this,ki)[e]=yG(n)}}}ki=new WeakMap,al=new WeakMap,Oc=new WeakSet,am=function(e){return y(this,ki).push(e),v(this,al,y(this,al)+e.length),e.length};var ta,ka,sl,il,Er,Yl,rh,$w,jc;let PX=(jc=class{constructor(e,n,a){q(this,Yl);te(this,"allowLoose");q(this,ta);q(this,ka);q(this,sl);q(this,il);q(this,Er);Ue(this,{allowLoose:!!n}),v(this,ta,Fn(e)),v(this,sl,0),v(this,il,null),v(this,Er,a??1024),v(this,ka,0)}get data(){return we(y(this,ta))}get dataLength(){return y(this,ta).length}get consumed(){return y(this,ka)}get bytes(){return new Uint8Array(y(this,ta))}subReader(e){const n=new jc(y(this,ta).slice(y(this,ka)+e),this.allowLoose,y(this,Er));return v(n,il,this),n}readBytes(e,n){let a=ce(this,Yl,$w).call(this,0,e,!!n);return ce(this,Yl,rh).call(this,e),v(this,ka,y(this,ka)+a.length),a.slice(0,e)}readValue(){return V1(this.readBytes(Kn))}readIndex(){return RX(this.readBytes(Kn))}},ta=new WeakMap,ka=new WeakMap,sl=new WeakMap,il=new WeakMap,Er=new WeakMap,Yl=new WeakSet,rh=function(e){var n;if(y(this,il))return ce(n=y(this,il),Yl,rh).call(n,e);v(this,sl,y(this,sl)+e),me(y(this,Er)<1||y(this,sl)<=y(this,Er)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${y(this,Er)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Fn(y(this,ta)),offset:y(this,ka),length:e,info:{bytesRead:y(this,sl),dataLength:this.dataLength}})},$w=function(e,n,a){let s=Math.ceil(n/Kn)*Kn;return y(this,ka)+s>y(this,ta).length&&(this.allowLoose&&a&&y(this,ka)+n<=y(this,ta).length?s=n:me(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Fn(y(this,ta)),length:y(this,ta).length,offset:y(this,ka)+s})),y(this,ta).slice(y(this,ka),y(this,ka)+s)},jc);function Am(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function W1(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function OX(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");Am(t.outputLen),Am(t.blockLen)}function xg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function e3(t,e){W1(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const U0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const t3=t=>t instanceof Uint8Array,jX=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),D0=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Es=(t,e)=>t<<32-e|t>>>e,_X=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!_X)throw new Error("Non little-endian hardware is not supported");function qX(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function qm(t){if(typeof t=="string"&&(t=qX(t)),!t3(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function $X(...t){const e=new Uint8Array(t.reduce((a,s)=>a+s.length,0));let n=0;return t.forEach(a=>{if(!t3(a))throw new Error("Uint8Array expected");e.set(a,n),n+=a.length}),e}let R1=class{clone(){return this._cloneInto()}};function v1(t){const e=a=>t().update(qm(a)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function eJ(t=32){if(U0&&typeof U0.getRandomValues=="function")return U0.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let n3=class extends R1{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,OX(e);const a=qm(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,r=new Uint8Array(s);r.set(a.length>s?e.create().update(a).digest():a);for(let l=0;l<r.length;l++)r[l]^=54;this.iHash.update(r),this.oHash=e.create();for(let l=0;l<r.length;l++)r[l]^=106;this.oHash.update(r),r.fill(0)}update(e){return xg(this),this.iHash.update(e),this}digestInto(e){xg(this),W1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:a,finished:s,destroyed:r,blockLen:l,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=r,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=a._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const a3=(t,e,n)=>new n3(t,e).update(n).digest();a3.create=(t,e)=>new n3(t,e);function tJ(t,e,n,a){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,a);const s=BigInt(32),r=BigInt(4294967295),l=Number(n>>s&r),c=Number(n&r),g=a?4:0,u=a?0:4;t.setUint32(e+g,l,a),t.setUint32(e+u,c,a)}class s3 extends R1{constructor(e,n,a,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=a,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=D0(this.buffer)}update(e){xg(this);const{view:n,buffer:a,blockLen:s}=this;e=qm(e);const r=e.length;for(let l=0;l<r;){const c=Math.min(s-this.pos,r-l);if(c===s){const g=D0(e);for(;s<=r-l;l+=s)this.process(g,l);continue}a.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){xg(this),e3(e,this),this.finished=!0;const{buffer:n,view:a,blockLen:s,isLE:r}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>s-l&&(this.process(a,0),l=0);for(let p=l;p<s;p++)n[p]=0;tJ(a,s-8,BigInt(this.length*8),r),this.process(a,0);const c=D0(e),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=g/4,I=this.get();if(u>I.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)c.setUint32(4*p,I[p],r)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const a=e.slice(0,n);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:a,length:s,finished:r,destroyed:l,pos:c}=this;return e.length=s,e.pos=c,e.finished=r,e.destroyed=l,s%n&&e.buffer.set(a),e}}const nJ=(t,e,n)=>t&e^~t&n,aJ=(t,e,n)=>t&e^t&n^e&n,sJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Zr=new Uint32Array(64);let iJ=class extends s3{constructor(){super(64,32,8,!1),this.A=fr[0]|0,this.B=fr[1]|0,this.C=fr[2]|0,this.D=fr[3]|0,this.E=fr[4]|0,this.F=fr[5]|0,this.G=fr[6]|0,this.H=fr[7]|0}get(){const{A:e,B:n,C:a,D:s,E:r,F:l,G:c,H:g}=this;return[e,n,a,s,r,l,c,g]}set(e,n,a,s,r,l,c,g){this.A=e|0,this.B=n|0,this.C=a|0,this.D=s|0,this.E=r|0,this.F=l|0,this.G=c|0,this.H=g|0}process(e,n){for(let p=0;p<16;p++,n+=4)Zr[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const A=Zr[p-15],Z=Zr[p-2],S=Es(A,7)^Es(A,18)^A>>>3,B=Es(Z,17)^Es(Z,19)^Z>>>10;Zr[p]=B+Zr[p-7]+S+Zr[p-16]|0}let{A:a,B:s,C:r,D:l,E:c,F:g,G:u,H:I}=this;for(let p=0;p<64;p++){const A=Es(c,6)^Es(c,11)^Es(c,25),Z=I+A+nJ(c,g,u)+sJ[p]+Zr[p]|0,B=(Es(a,2)^Es(a,13)^Es(a,22))+aJ(a,s,r)|0;I=u,u=g,g=c,c=l+Z|0,l=r,r=s,s=a,a=Z+B|0}a=a+this.A|0,s=s+this.B|0,r=r+this.C|0,l=l+this.D|0,c=c+this.E|0,g=g+this.F|0,u=u+this.G|0,I=I+this.H|0,this.set(a,s,r,l,c,g,u,I)}roundClean(){Zr.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const i3=v1(()=>new iJ),cp=BigInt(2**32-1),oh=BigInt(32);function r3(t,e=!1){return e?{h:Number(t&cp),l:Number(t>>oh&cp)}:{h:Number(t>>oh&cp)|0,l:Number(t&cp)|0}}function o3(t,e=!1){let n=new Uint32Array(t.length),a=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:r,l}=r3(t[s],e);[n[s],a[s]]=[r,l]}return[n,a]}const rJ=(t,e)=>BigInt(t>>>0)<<oh|BigInt(e>>>0),oJ=(t,e,n)=>t>>>n,lJ=(t,e,n)=>t<<32-n|e>>>n,cJ=(t,e,n)=>t>>>n|e<<32-n,gJ=(t,e,n)=>t<<32-n|e>>>n,dJ=(t,e,n)=>t<<64-n|e>>>n-32,IJ=(t,e,n)=>t>>>n-32|e<<64-n,uJ=(t,e)=>e,CJ=(t,e)=>t,l3=(t,e,n)=>t<<n|e>>>32-n,c3=(t,e,n)=>e<<n|t>>>32-n,g3=(t,e,n)=>e<<n-32|t>>>64-n,d3=(t,e,n)=>t<<n-32|e>>>64-n;function pJ(t,e,n,a){const s=(e>>>0)+(a>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const mJ=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),AJ=(t,e,n,a)=>e+n+a+(t/2**32|0)|0,yJ=(t,e,n,a)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0),bJ=(t,e,n,a,s)=>e+n+a+s+(t/2**32|0)|0,hJ=(t,e,n,a,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0)+(s>>>0),fJ=(t,e,n,a,s,r)=>e+n+a+s+r+(t/2**32|0)|0,_e={fromBig:r3,split:o3,toBig:rJ,shrSH:oJ,shrSL:lJ,rotrSH:cJ,rotrSL:gJ,rotrBH:dJ,rotrBL:IJ,rotr32H:uJ,rotr32L:CJ,rotlSH:l3,rotlSL:c3,rotlBH:g3,rotlBL:d3,add:pJ,add3L:mJ,add3H:AJ,add4L:yJ,add4H:bJ,add5H:fJ,add5L:hJ},[ZJ,GJ]=_e.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),Gr=new Uint32Array(80),Br=new Uint32Array(80);let BJ=class extends s3{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:a,Bl:s,Ch:r,Cl:l,Dh:c,Dl:g,Eh:u,El:I,Fh:p,Fl:A,Gh:Z,Gl:S,Hh:B,Hl:V}=this;return[e,n,a,s,r,l,c,g,u,I,p,A,Z,S,B,V]}set(e,n,a,s,r,l,c,g,u,I,p,A,Z,S,B,V){this.Ah=e|0,this.Al=n|0,this.Bh=a|0,this.Bl=s|0,this.Ch=r|0,this.Cl=l|0,this.Dh=c|0,this.Dl=g|0,this.Eh=u|0,this.El=I|0,this.Fh=p|0,this.Fl=A|0,this.Gh=Z|0,this.Gl=S|0,this.Hh=B|0,this.Hl=V|0}process(e,n){for(let R=0;R<16;R++,n+=4)Gr[R]=e.getUint32(n),Br[R]=e.getUint32(n+=4);for(let R=16;R<80;R++){const x=Gr[R-15]|0,M=Br[R-15]|0,D=_e.rotrSH(x,M,1)^_e.rotrSH(x,M,8)^_e.shrSH(x,M,7),Q=_e.rotrSL(x,M,1)^_e.rotrSL(x,M,8)^_e.shrSL(x,M,7),z=Gr[R-2]|0,se=Br[R-2]|0,re=_e.rotrSH(z,se,19)^_e.rotrBH(z,se,61)^_e.shrSH(z,se,6),ae=_e.rotrSL(z,se,19)^_e.rotrBL(z,se,61)^_e.shrSL(z,se,6),Ie=_e.add4L(Q,ae,Br[R-7],Br[R-16]),de=_e.add4H(Ie,D,re,Gr[R-7],Gr[R-16]);Gr[R]=de|0,Br[R]=Ie|0}let{Ah:a,Al:s,Bh:r,Bl:l,Ch:c,Cl:g,Dh:u,Dl:I,Eh:p,El:A,Fh:Z,Fl:S,Gh:B,Gl:V,Hh:W,Hl:Y}=this;for(let R=0;R<80;R++){const x=_e.rotrSH(p,A,14)^_e.rotrSH(p,A,18)^_e.rotrBH(p,A,41),M=_e.rotrSL(p,A,14)^_e.rotrSL(p,A,18)^_e.rotrBL(p,A,41),D=p&Z^~p&B,Q=A&S^~A&V,z=_e.add5L(Y,M,Q,GJ[R],Br[R]),se=_e.add5H(z,W,x,D,ZJ[R],Gr[R]),re=z|0,ae=_e.rotrSH(a,s,28)^_e.rotrBH(a,s,34)^_e.rotrBH(a,s,39),Ie=_e.rotrSL(a,s,28)^_e.rotrBL(a,s,34)^_e.rotrBL(a,s,39),de=a&r^a&c^r&c,ie=s&l^s&g^l&g;W=B|0,Y=V|0,B=Z|0,V=S|0,Z=p|0,S=A|0,{h:p,l:A}=_e.add(u|0,I|0,se|0,re|0),u=c|0,I=g|0,c=r|0,g=l|0,r=a|0,l=s|0;const J=_e.add3L(re,Ie,ie);a=_e.add3H(J,se,ae,de),s=J|0}({h:a,l:s}=_e.add(this.Ah|0,this.Al|0,a|0,s|0)),{h:r,l}=_e.add(this.Bh|0,this.Bl|0,r|0,l|0),{h:c,l:g}=_e.add(this.Ch|0,this.Cl|0,c|0,g|0),{h:u,l:I}=_e.add(this.Dh|0,this.Dl|0,u|0,I|0),{h:p,l:A}=_e.add(this.Eh|0,this.El|0,p|0,A|0),{h:Z,l:S}=_e.add(this.Fh|0,this.Fl|0,Z|0,S|0),{h:B,l:V}=_e.add(this.Gh|0,this.Gl|0,B|0,V|0),{h:W,l:Y}=_e.add(this.Hh|0,this.Hl|0,W|0,Y|0),this.set(a,s,r,l,c,g,u,I,p,A,Z,S,B,V,W,Y)}roundClean(){Gr.fill(0),Br.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const SJ=v1(()=>new BJ);function wJ(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;throw new Error("unable to locate global object")}const bG=wJ();bG.crypto||bG.msCrypto;function kJ(t){switch(t){case"sha256":return i3.create();case"sha512":return SJ.create()}j(!1,"invalid hashing algorithm name","algorithm",t)}const[I3,u3,C3]=[[],[],[]],VJ=BigInt(0),Ld=BigInt(1),WJ=BigInt(2),RJ=BigInt(7),vJ=BigInt(256),XJ=BigInt(113);for(let t=0,e=Ld,n=1,a=0;t<24;t++){[n,a]=[a,(2*n+3*a)%5],I3.push(2*(5*a+n)),u3.push((t+1)*(t+2)/2%64);let s=VJ;for(let r=0;r<7;r++)e=(e<<Ld^(e>>RJ)*XJ)%vJ,e&WJ&&(s^=Ld<<(Ld<<BigInt(r))-Ld);C3.push(s)}const[JJ,EJ]=o3(C3,!0),hG=(t,e,n)=>n>32?g3(t,e,n):l3(t,e,n),fG=(t,e,n)=>n>32?d3(t,e,n):c3(t,e,n);function xJ(t,e=24){const n=new Uint32Array(10);for(let a=24-e;a<24;a++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,g=(l+2)%10,u=n[g],I=n[g+1],p=hG(u,I,1)^n[c],A=fG(u,I,1)^n[c+1];for(let Z=0;Z<50;Z+=10)t[l+Z]^=p,t[l+Z+1]^=A}let s=t[2],r=t[3];for(let l=0;l<24;l++){const c=u3[l],g=hG(s,r,c),u=fG(s,r,c),I=I3[l];s=t[I],r=t[I+1],t[I]=g,t[I+1]=u}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)n[c]=t[l+c];for(let c=0;c<10;c++)t[l+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=JJ[a],t[1]^=EJ[a]}n.fill(0)}let NJ=class p3 extends R1{constructor(e,n,a,s=!1,r=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=a,this.enableXOF=s,this.rounds=r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,Am(a),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=jX(this.state)}keccak(){xJ(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){xg(this);const{blockLen:n,state:a}=this;e=qm(e);const s=e.length;for(let r=0;r<s;){const l=Math.min(n-this.pos,s-r);for(let c=0;c<l;c++)a[this.pos++]^=e[r++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:a,blockLen:s}=this;e[a]^=n,(n&128)!==0&&a===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){xg(this,!1),W1(e),this.finish();const n=this.state,{blockLen:a}=this;for(let s=0,r=e.length;s<r;){this.posOut>=a&&this.keccak();const l=Math.min(a-this.posOut,r-s);e.set(n.subarray(this.posOut,this.posOut+l),s),this.posOut+=l,s+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Am(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(e3(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:a,outputLen:s,rounds:r,enableXOF:l}=this;return e||(e=new p3(n,a,s,l,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=a,e.outputLen=s,e.enableXOF=l,e.destroyed=this.destroyed,e}};const HJ=(t,e,n)=>v1(()=>new NJ(e,t,n)),YJ=HJ(1,136,256/8);let m3=!1;const A3=function(t){return YJ(t)};let y3=A3;function jt(t){const e=$e(t,"data");return we(y3(e))}jt._=A3;jt.lock=function(){m3=!0};jt.register=function(t){if(m3)throw new TypeError("keccak256 is locked");y3=t};Object.freeze(jt);const b3=function(t){return kJ("sha256").update(t).digest()};let h3=b3,f3=!1;function Og(t){const e=$e(t,"data");return we(h3(e))}Og._=b3;Og.lock=function(){f3=!0};Og.register=function(t){if(f3)throw new Error("sha256 is locked");h3=t};Object.freeze(Og);Object.freeze(Og);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Z3=BigInt(0),$m=BigInt(1),TJ=BigInt(2),eA=t=>t instanceof Uint8Array,FJ=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ng(t){if(!eA(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=FJ[t[n]];return e}function G3(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function X1(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Hg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let a=0;a<n.length;a++){const s=a*2,r=t.slice(s,s+2),l=Number.parseInt(r,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[a]=l}return n}function Gl(t){return X1(Ng(t))}function J1(t){if(!eA(t))throw new Error("Uint8Array expected");return X1(Ng(Uint8Array.from(t).reverse()))}function Yg(t,e){return Hg(t.toString(16).padStart(e*2,"0"))}function E1(t,e){return Yg(t,e).reverse()}function KJ(t){return Hg(G3(t))}function Cs(t,e,n){let a;if(typeof e=="string")try{a=Hg(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else if(eA(e))a=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=a.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return a}function ZI(...t){const e=new Uint8Array(t.reduce((a,s)=>a+s.length,0));let n=0;return t.forEach(a=>{if(!eA(a))throw new Error("Uint8Array expected");e.set(a,n),n+=a.length}),e}function MJ(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function UJ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function DJ(t){let e;for(e=0;t>Z3;t>>=$m,e+=1);return e}function zJ(t,e){return t>>BigInt(e)&$m}const LJ=(t,e,n)=>t|(n?$m:Z3)<<BigInt(e),x1=t=>(TJ<<BigInt(t-1))-$m,z0=t=>new Uint8Array(t),ZG=t=>Uint8Array.from(t);function B3(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let a=z0(t),s=z0(t),r=0;const l=()=>{a.fill(1),s.fill(0),r=0},c=(...p)=>n(s,a,...p),g=(p=z0())=>{s=c(ZG([0]),p),a=c(),p.length!==0&&(s=c(ZG([1]),p),a=c())},u=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const A=[];for(;p<e;){a=c();const Z=a.slice();A.push(Z),p+=a.length}return ZI(...A)};return(p,A)=>{l(),g(p);let Z;for(;!(Z=A(u()));)g();return l(),Z}}const QJ={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function Wu(t,e,n={}){const a=(s,r,l)=>{const c=QJ[r];if(typeof c!="function")throw new Error(`Invalid validator "${r}", expected function`);const g=t[s];if(!(l&&g===void 0)&&!c(g,t))throw new Error(`Invalid param ${String(s)}=${g} (${typeof g}), expected ${r}`)};for(const[s,r]of Object.entries(e))a(s,r,!1);for(const[s,r]of Object.entries(n))a(s,r,!0);return t}const PJ=Object.freeze(Object.defineProperty({__proto__:null,bitGet:zJ,bitLen:DJ,bitMask:x1,bitSet:LJ,bytesToHex:Ng,bytesToNumberBE:Gl,bytesToNumberLE:J1,concatBytes:ZI,createHmacDrbg:B3,ensureBytes:Cs,equalBytes:MJ,hexToBytes:Hg,hexToNumber:X1,numberToBytesBE:Yg,numberToBytesLE:E1,numberToHexUnpadded:G3,numberToVarBytesBE:KJ,utf8ToBytes:UJ,validateObject:Wu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const cn=BigInt(0),Lt=BigInt(1),Ko=BigInt(2),OJ=BigInt(3),lh=BigInt(4),GG=BigInt(5),BG=BigInt(8);BigInt(9);BigInt(16);function ia(t,e){const n=t%e;return n>=cn?n:e+n}function jJ(t,e,n){if(n<=cn||e<cn)throw new Error("Expected power/modulo > 0");if(n===Lt)return cn;let a=Lt;for(;e>cn;)e&Lt&&(a=a*t%n),t=t*t%n,e>>=Lt;return a}function Fa(t,e,n){let a=t;for(;e-- >cn;)a*=a,a%=n;return a}function ch(t,e){if(t===cn||e<=cn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=ia(t,e),a=e,s=cn,r=Lt;for(;n!==cn;){const c=a/n,g=a%n,u=s-r*c;a=n,n=g,s=r,r=u}if(a!==Lt)throw new Error("invert: does not exist");return ia(s,e)}function _J(t){const e=(t-Lt)/Ko;let n,a,s;for(n=t-Lt,a=0;n%Ko===cn;n/=Ko,a++);for(s=Ko;s<t&&jJ(s,e,t)!==t-Lt;s++);if(a===1){const l=(t+Lt)/lh;return function(g,u){const I=g.pow(u,l);if(!g.eql(g.sqr(I),u))throw new Error("Cannot find square root");return I}}const r=(n+Lt)/Ko;return function(c,g){if(c.pow(g,e)===c.neg(c.ONE))throw new Error("Cannot find square root");let u=a,I=c.pow(c.mul(c.ONE,s),n),p=c.pow(g,r),A=c.pow(g,n);for(;!c.eql(A,c.ONE);){if(c.eql(A,c.ZERO))return c.ZERO;let Z=1;for(let B=c.sqr(A);Z<u&&!c.eql(B,c.ONE);Z++)B=c.sqr(B);const S=c.pow(I,Lt<<BigInt(u-Z-1));I=c.sqr(S),p=c.mul(p,S),A=c.mul(A,I),u=Z}return p}}function qJ(t){if(t%lh===OJ){const e=(t+Lt)/lh;return function(a,s){const r=a.pow(s,e);if(!a.eql(a.sqr(r),s))throw new Error("Cannot find square root");return r}}if(t%BG===GG){const e=(t-GG)/BG;return function(a,s){const r=a.mul(s,Ko),l=a.pow(r,e),c=a.mul(s,l),g=a.mul(a.mul(c,Ko),l),u=a.mul(c,a.sub(g,a.ONE));if(!a.eql(a.sqr(u),s))throw new Error("Cannot find square root");return u}}return _J(t)}const $J=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function eE(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=$J.reduce((a,s)=>(a[s]="function",a),e);return Wu(t,n)}function tE(t,e,n){if(n<cn)throw new Error("Expected power > 0");if(n===cn)return t.ONE;if(n===Lt)return e;let a=t.ONE,s=e;for(;n>cn;)n&Lt&&(a=t.mul(a,s)),s=t.sqr(s),n>>=Lt;return a}function nE(t,e){const n=new Array(e.length),a=e.reduce((r,l,c)=>t.is0(l)?r:(n[c]=r,t.mul(r,l)),t.ONE),s=t.inv(a);return e.reduceRight((r,l,c)=>t.is0(l)?r:(n[c]=t.mul(r,n[c]),t.mul(r,l)),s),n}function S3(t,e){const n=e!==void 0?e:t.toString(2).length,a=Math.ceil(n/8);return{nBitLength:n,nByteLength:a}}function aE(t,e,n=!1,a={}){if(t<=cn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:r}=S3(t,e);if(r>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=qJ(t),c=Object.freeze({ORDER:t,BITS:s,BYTES:r,MASK:x1(s),ZERO:cn,ONE:Lt,create:g=>ia(g,t),isValid:g=>{if(typeof g!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof g}`);return cn<=g&&g<t},is0:g=>g===cn,isOdd:g=>(g&Lt)===Lt,neg:g=>ia(-g,t),eql:(g,u)=>g===u,sqr:g=>ia(g*g,t),add:(g,u)=>ia(g+u,t),sub:(g,u)=>ia(g-u,t),mul:(g,u)=>ia(g*u,t),pow:(g,u)=>tE(c,g,u),div:(g,u)=>ia(g*ch(u,t),t),sqrN:g=>g*g,addN:(g,u)=>g+u,subN:(g,u)=>g-u,mulN:(g,u)=>g*u,inv:g=>ch(g,t),sqrt:a.sqrt||(g=>l(c,g)),invertBatch:g=>nE(c,g),cmov:(g,u,I)=>I?u:g,toBytes:g=>n?E1(g,r):Yg(g,r),fromBytes:g=>{if(g.length!==r)throw new Error(`Fp.fromBytes: expected ${r}, got ${g.length}`);return n?J1(g):Gl(g)}});return Object.freeze(c)}function w3(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function k3(t){const e=w3(t);return e+Math.ceil(e/2)}function sE(t,e,n=!1){const a=t.length,s=w3(e),r=k3(e);if(a<16||a<r||a>1024)throw new Error(`expected ${r}-1024 bytes of input, got ${a}`);const l=n?Gl(t):J1(t),c=ia(l,e-Lt)+Lt;return n?E1(c,s):Yg(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iE=BigInt(0),L0=BigInt(1);function rE(t,e){const n=(s,r)=>{const l=r.negate();return s?l:r},a=s=>{const r=Math.ceil(e/s)+1,l=2**(s-1);return{windows:r,windowSize:l}};return{constTimeNegate:n,unsafeLadder(s,r){let l=t.ZERO,c=s;for(;r>iE;)r&L0&&(l=l.add(c)),c=c.double(),r>>=L0;return l},precomputeWindow(s,r){const{windows:l,windowSize:c}=a(r),g=[];let u=s,I=u;for(let p=0;p<l;p++){I=u,g.push(I);for(let A=1;A<c;A++)I=I.add(u),g.push(I);u=I.double()}return g},wNAF(s,r,l){const{windows:c,windowSize:g}=a(s);let u=t.ZERO,I=t.BASE;const p=BigInt(2**s-1),A=2**s,Z=BigInt(s);for(let S=0;S<c;S++){const B=S*g;let V=Number(l&p);l>>=Z,V>g&&(V-=A,l+=L0);const W=B,Y=B+Math.abs(V)-1,R=S%2!==0,x=V<0;V===0?I=I.add(n(R,r[W])):u=u.add(n(x,r[Y]))}return{p:u,f:I}},wNAFCached(s,r,l,c){const g=s._WINDOW_SIZE||1;let u=r.get(s);return u||(u=this.precomputeWindow(s,g),g!==1&&r.set(s,c(u))),this.wNAF(g,u,l)}}}function V3(t){return eE(t.Fp),Wu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...S3(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oE(t){const e=V3(t);Wu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:a,a:s}=e;if(n){if(!a.eql(s,a.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:lE,hexToBytes:cE}=PJ,zo={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=zo;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],a=t.subarray(2,n+2);if(!n||a.length!==n)throw new e("Invalid signature integer: wrong length");if(a[0]&128)throw new e("Invalid signature integer: negative");if(a[0]===0&&!(a[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:lE(a),l:t.subarray(n+2)}},toSig(t){const{Err:e}=zo,n=typeof t=="string"?cE(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let a=n.length;if(a<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==a-2)throw new e("Invalid signature: incorrect length");const{d:s,l:r}=zo._parseInt(n.subarray(2)),{d:l,l:c}=zo._parseInt(r);if(c.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:l}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const I=u.toString(16);return I.length&1?`0${I}`:I},a=e(n(t.s)),s=e(n(t.r)),r=a.length/2,l=s.length/2,c=n(r),g=n(l);return`30${n(l+r+4)}02${g}${s}02${c}${a}`}},Hi=BigInt(0),ja=BigInt(1);BigInt(2);const SG=BigInt(3);BigInt(4);function gE(t){const e=oE(t),{Fp:n}=e,a=e.toBytes||((S,B,V)=>{const W=B.toAffine();return ZI(Uint8Array.from([4]),n.toBytes(W.x),n.toBytes(W.y))}),s=e.fromBytes||(S=>{const B=S.subarray(1),V=n.fromBytes(B.subarray(0,n.BYTES)),W=n.fromBytes(B.subarray(n.BYTES,2*n.BYTES));return{x:V,y:W}});function r(S){const{a:B,b:V}=e,W=n.sqr(S),Y=n.mul(W,S);return n.add(n.add(Y,n.mul(S,B)),V)}if(!n.eql(n.sqr(e.Gy),r(e.Gx)))throw new Error("bad generator point: equation left != right");function l(S){return typeof S=="bigint"&&Hi<S&&S<e.n}function c(S){if(!l(S))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function g(S){const{allowedPrivateKeyLengths:B,nByteLength:V,wrapPrivateKey:W,n:Y}=e;if(B&&typeof S!="bigint"){if(S instanceof Uint8Array&&(S=Ng(S)),typeof S!="string"||!B.includes(S.length))throw new Error("Invalid key");S=S.padStart(V*2,"0")}let R;try{R=typeof S=="bigint"?S:Gl(Cs("private key",S,V))}catch{throw new Error(`private key must be ${V} bytes, hex or bigint, not ${typeof S}`)}return W&&(R=ia(R,Y)),c(R),R}const u=new Map;function I(S){if(!(S instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(B,V,W){if(this.px=B,this.py=V,this.pz=W,B==null||!n.isValid(B))throw new Error("x required");if(V==null||!n.isValid(V))throw new Error("y required");if(W==null||!n.isValid(W))throw new Error("z required")}static fromAffine(B){const{x:V,y:W}=B||{};if(!B||!n.isValid(V)||!n.isValid(W))throw new Error("invalid affine point");if(B instanceof p)throw new Error("projective point not allowed");const Y=R=>n.eql(R,n.ZERO);return Y(V)&&Y(W)?p.ZERO:new p(V,W,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(B){const V=n.invertBatch(B.map(W=>W.pz));return B.map((W,Y)=>W.toAffine(V[Y])).map(p.fromAffine)}static fromHex(B){const V=p.fromAffine(s(Cs("pointHex",B)));return V.assertValidity(),V}static fromPrivateKey(B){return p.BASE.multiply(g(B))}_setWindowSize(B){this._WINDOW_SIZE=B,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:B,y:V}=this.toAffine();if(!n.isValid(B)||!n.isValid(V))throw new Error("bad point: x or y not FE");const W=n.sqr(V),Y=r(B);if(!n.eql(W,Y))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:B}=this.toAffine();if(n.isOdd)return!n.isOdd(B);throw new Error("Field doesn't support isOdd")}equals(B){I(B);const{px:V,py:W,pz:Y}=this,{px:R,py:x,pz:M}=B,D=n.eql(n.mul(V,M),n.mul(R,Y)),Q=n.eql(n.mul(W,M),n.mul(x,Y));return D&&Q}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:B,b:V}=e,W=n.mul(V,SG),{px:Y,py:R,pz:x}=this;let M=n.ZERO,D=n.ZERO,Q=n.ZERO,z=n.mul(Y,Y),se=n.mul(R,R),re=n.mul(x,x),ae=n.mul(Y,R);return ae=n.add(ae,ae),Q=n.mul(Y,x),Q=n.add(Q,Q),M=n.mul(B,Q),D=n.mul(W,re),D=n.add(M,D),M=n.sub(se,D),D=n.add(se,D),D=n.mul(M,D),M=n.mul(ae,M),Q=n.mul(W,Q),re=n.mul(B,re),ae=n.sub(z,re),ae=n.mul(B,ae),ae=n.add(ae,Q),Q=n.add(z,z),z=n.add(Q,z),z=n.add(z,re),z=n.mul(z,ae),D=n.add(D,z),re=n.mul(R,x),re=n.add(re,re),z=n.mul(re,ae),M=n.sub(M,z),Q=n.mul(re,se),Q=n.add(Q,Q),Q=n.add(Q,Q),new p(M,D,Q)}add(B){I(B);const{px:V,py:W,pz:Y}=this,{px:R,py:x,pz:M}=B;let D=n.ZERO,Q=n.ZERO,z=n.ZERO;const se=e.a,re=n.mul(e.b,SG);let ae=n.mul(V,R),Ie=n.mul(W,x),de=n.mul(Y,M),ie=n.add(V,W),J=n.add(R,x);ie=n.mul(ie,J),J=n.add(ae,Ie),ie=n.sub(ie,J),J=n.add(V,Y);let T=n.add(R,M);return J=n.mul(J,T),T=n.add(ae,de),J=n.sub(J,T),T=n.add(W,Y),D=n.add(x,M),T=n.mul(T,D),D=n.add(Ie,de),T=n.sub(T,D),z=n.mul(se,J),D=n.mul(re,de),z=n.add(D,z),D=n.sub(Ie,z),z=n.add(Ie,z),Q=n.mul(D,z),Ie=n.add(ae,ae),Ie=n.add(Ie,ae),de=n.mul(se,de),J=n.mul(re,J),Ie=n.add(Ie,de),de=n.sub(ae,de),de=n.mul(se,de),J=n.add(J,de),ae=n.mul(Ie,J),Q=n.add(Q,ae),ae=n.mul(T,J),D=n.mul(ie,D),D=n.sub(D,ae),ae=n.mul(ie,Ie),z=n.mul(T,z),z=n.add(z,ae),new p(D,Q,z)}subtract(B){return this.add(B.negate())}is0(){return this.equals(p.ZERO)}wNAF(B){return Z.wNAFCached(this,u,B,V=>{const W=n.invertBatch(V.map(Y=>Y.pz));return V.map((Y,R)=>Y.toAffine(W[R])).map(p.fromAffine)})}multiplyUnsafe(B){const V=p.ZERO;if(B===Hi)return V;if(c(B),B===ja)return this;const{endo:W}=e;if(!W)return Z.unsafeLadder(this,B);let{k1neg:Y,k1:R,k2neg:x,k2:M}=W.splitScalar(B),D=V,Q=V,z=this;for(;R>Hi||M>Hi;)R&ja&&(D=D.add(z)),M&ja&&(Q=Q.add(z)),z=z.double(),R>>=ja,M>>=ja;return Y&&(D=D.negate()),x&&(Q=Q.negate()),Q=new p(n.mul(Q.px,W.beta),Q.py,Q.pz),D.add(Q)}multiply(B){c(B);let V=B,W,Y;const{endo:R}=e;if(R){const{k1neg:x,k1:M,k2neg:D,k2:Q}=R.splitScalar(V);let{p:z,f:se}=this.wNAF(M),{p:re,f:ae}=this.wNAF(Q);z=Z.constTimeNegate(x,z),re=Z.constTimeNegate(D,re),re=new p(n.mul(re.px,R.beta),re.py,re.pz),W=z.add(re),Y=se.add(ae)}else{const{p:x,f:M}=this.wNAF(V);W=x,Y=M}return p.normalizeZ([W,Y])[0]}multiplyAndAddUnsafe(B,V,W){const Y=p.BASE,R=(M,D)=>D===Hi||D===ja||!M.equals(Y)?M.multiplyUnsafe(D):M.multiply(D),x=R(this,V).add(R(B,W));return x.is0()?void 0:x}toAffine(B){const{px:V,py:W,pz:Y}=this,R=this.is0();B==null&&(B=R?n.ONE:n.inv(Y));const x=n.mul(V,B),M=n.mul(W,B),D=n.mul(Y,B);if(R)return{x:n.ZERO,y:n.ZERO};if(!n.eql(D,n.ONE))throw new Error("invZ was invalid");return{x,y:M}}isTorsionFree(){const{h:B,isTorsionFree:V}=e;if(B===ja)return!0;if(V)return V(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:B,clearCofactor:V}=e;return B===ja?this:V?V(p,this):this.multiplyUnsafe(e.h)}toRawBytes(B=!0){return this.assertValidity(),a(p,this,B)}toHex(B=!0){return Ng(this.toRawBytes(B))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const A=e.nBitLength,Z=rE(p,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:g,weierstrassEquation:r,isWithinCurveOrder:l}}function dE(t){const e=V3(t);return Wu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function IE(t){const e=dE(t),{Fp:n,n:a}=e,s=n.BYTES+1,r=2*n.BYTES+1;function l(J){return Hi<J&&J<n.ORDER}function c(J){return ia(J,a)}function g(J){return ch(J,a)}const{ProjectivePoint:u,normPrivateKeyToScalar:I,weierstrassEquation:p,isWithinCurveOrder:A}=gE({...e,toBytes(J,T,O){const F=T.toAffine(),H=n.toBytes(F.x),U=ZI;return O?U(Uint8Array.from([T.hasEvenY()?2:3]),H):U(Uint8Array.from([4]),H,n.toBytes(F.y))},fromBytes(J){const T=J.length,O=J[0],F=J.subarray(1);if(T===s&&(O===2||O===3)){const H=Gl(F);if(!l(H))throw new Error("Point is not on curve");const U=p(H);let E=n.sqrt(U);const _=(E&ja)===ja;return(O&1)===1!==_&&(E=n.neg(E)),{x:H,y:E}}else if(T===r&&O===4){const H=n.fromBytes(F.subarray(0,n.BYTES)),U=n.fromBytes(F.subarray(n.BYTES,2*n.BYTES));return{x:H,y:U}}else throw new Error(`Point of length ${T} was invalid. Expected ${s} compressed bytes or ${r} uncompressed bytes`)}}),Z=J=>Ng(Yg(J,e.nByteLength));function S(J){const T=a>>ja;return J>T}function B(J){return S(J)?c(-J):J}const V=(J,T,O)=>Gl(J.slice(T,O));class W{constructor(T,O,F){this.r=T,this.s=O,this.recovery=F,this.assertValidity()}static fromCompact(T){const O=e.nByteLength;return T=Cs("compactSignature",T,O*2),new W(V(T,0,O),V(T,O,2*O))}static fromDER(T){const{r:O,s:F}=zo.toSig(Cs("DER",T));return new W(O,F)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(T){return new W(this.r,this.s,T)}recoverPublicKey(T){const{r:O,s:F,recovery:H}=this,U=Q(Cs("msgHash",T));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const E=H===2||H===3?O+e.n:O;if(E>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const _=(H&1)===0?"02":"03",be=u.fromHex(_+Z(E)),ye=g(E),ue=c(-U*ye),Se=c(F*ye),Ke=u.BASE.multiplyAndAddUnsafe(be,ue,Se);if(!Ke)throw new Error("point at infinify");return Ke.assertValidity(),Ke}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new W(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Hg(this.toDERHex())}toDERHex(){return zo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Hg(this.toCompactHex())}toCompactHex(){return Z(this.r)+Z(this.s)}}const Y={isValidPrivateKey(J){try{return I(J),!0}catch{return!1}},normPrivateKeyToScalar:I,randomPrivateKey:()=>{const J=k3(e.n);return sE(e.randomBytes(J),e.n)},precompute(J=8,T=u.BASE){return T._setWindowSize(J),T.multiply(BigInt(3)),T}};function R(J,T=!0){return u.fromPrivateKey(J).toRawBytes(T)}function x(J){const T=J instanceof Uint8Array,O=typeof J=="string",F=(T||O)&&J.length;return T?F===s||F===r:O?F===2*s||F===2*r:J instanceof u}function M(J,T,O=!0){if(x(J))throw new Error("first arg must be private key");if(!x(T))throw new Error("second arg must be public key");return u.fromHex(T).multiply(I(J)).toRawBytes(O)}const D=e.bits2int||function(J){const T=Gl(J),O=J.length*8-e.nBitLength;return O>0?T>>BigInt(O):T},Q=e.bits2int_modN||function(J){return c(D(J))},z=x1(e.nBitLength);function se(J){if(typeof J!="bigint")throw new Error("bigint expected");if(!(Hi<=J&&J<z))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Yg(J,e.nByteLength)}function re(J,T,O=ae){if(["recovered","canonical"].some(Pe=>Pe in O))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:H}=e;let{lowS:U,prehash:E,extraEntropy:_}=O;U==null&&(U=!0),J=Cs("msgHash",J),E&&(J=Cs("prehashed msgHash",F(J)));const be=Q(J),ye=I(T),ue=[se(ye),se(be)];if(_!=null){const Pe=_===!0?H(n.BYTES):_;ue.push(Cs("extraEntropy",Pe))}const Se=ZI(...ue),Ke=be;function Me(Pe){const ot=D(Pe);if(!A(ot))return;const Pt=g(ot),Zt=u.BASE.multiply(ot).toAffine(),mt=c(Zt.x);if(mt===Hi)return;const xt=c(Pt*c(Ke+mt*ye));if(xt===Hi)return;let hn=(Zt.x===mt?0:2)|Number(Zt.y&ja),Mt=xt;return U&&S(xt)&&(Mt=B(xt),hn^=1),new W(mt,Mt,hn)}return{seed:Se,k2sig:Me}}const ae={lowS:e.lowS,prehash:!1},Ie={lowS:e.lowS,prehash:!1};function de(J,T,O=ae){const{seed:F,k2sig:H}=re(J,T,O),U=e;return B3(U.hash.outputLen,U.nByteLength,U.hmac)(F,H)}u.BASE._setWindowSize(8);function ie(J,T,O,F=Ie){var Zt;const H=J;if(T=Cs("msgHash",T),O=Cs("publicKey",O),"strict"in F)throw new Error("options.strict was renamed to lowS");const{lowS:U,prehash:E}=F;let _,be;try{if(typeof H=="string"||H instanceof Uint8Array)try{_=W.fromDER(H)}catch(mt){if(!(mt instanceof zo.Err))throw mt;_=W.fromCompact(H)}else if(typeof H=="object"&&typeof H.r=="bigint"&&typeof H.s=="bigint"){const{r:mt,s:xt}=H;_=new W(mt,xt)}else throw new Error("PARSE");be=u.fromHex(O)}catch(mt){if(mt.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(U&&_.hasHighS())return!1;E&&(T=e.hash(T));const{r:ye,s:ue}=_,Se=Q(T),Ke=g(ue),Me=c(Se*Ke),Pe=c(ye*Ke),ot=(Zt=u.BASE.multiplyAndAddUnsafe(be,Me,Pe))==null?void 0:Zt.toAffine();return ot?c(ot.x)===ye:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:M,sign:de,verify:ie,ProjectivePoint:u,Signature:W,utils:Y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function uE(t){return{hash:t,hmac:(e,...n)=>a3(t,e,$X(...n)),randomBytes:eJ}}function CE(t,e){const n=a=>IE({...t,...uE(a)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const W3=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),wG=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),pE=BigInt(1),gh=BigInt(2),kG=(t,e)=>(t+e/gh)/e;function mE(t){const e=W3,n=BigInt(3),a=BigInt(6),s=BigInt(11),r=BigInt(22),l=BigInt(23),c=BigInt(44),g=BigInt(88),u=t*t*t%e,I=u*u*t%e,p=Fa(I,n,e)*I%e,A=Fa(p,n,e)*I%e,Z=Fa(A,gh,e)*u%e,S=Fa(Z,s,e)*Z%e,B=Fa(S,r,e)*S%e,V=Fa(B,c,e)*B%e,W=Fa(V,g,e)*V%e,Y=Fa(W,c,e)*B%e,R=Fa(Y,n,e)*I%e,x=Fa(R,l,e)*S%e,M=Fa(x,a,e)*u%e,D=Fa(M,gh,e);if(!dh.eql(dh.sqr(D),t))throw new Error("Cannot find square root");return D}const dh=aE(W3,void 0,void 0,{sqrt:mE}),Rr=CE({a:BigInt(0),b:BigInt(7),Fp:dh,n:wG,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=wG,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-pE*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=n,l=BigInt("0x100000000000000000000000000000000"),c=kG(r*t,e),g=kG(-a*t,e);let u=ia(t-c*n-g*s,e),I=ia(-c*a-g*r,e);const p=u>l,A=I>l;if(p&&(u=e-u),A&&(I=e-I),u>l||I>l)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:u,k2neg:A,k2:I}}}},i3);BigInt(0);Rr.ProjectivePoint;const GI="0x0000000000000000000000000000000000000000",VG="0x0000000000000000000000000000000000000000000000000000000000000000",WG=BigInt(0),RG=BigInt(1),vG=BigInt(2),XG=BigInt(27),JG=BigInt(28),gp=BigInt(35),Cc={};function EG(t){return Li(An(t),32)}var _c,qc,$c,rl;const us=class us{constructor(e,n,a,s){q(this,_c);q(this,qc);q(this,$c);q(this,rl);Om(e,Cc,"Signature"),v(this,_c,n),v(this,qc,a),v(this,$c,s),v(this,rl,null)}get r(){return y(this,_c)}set r(e){j(xc(e)===32,"invalid r","value",e),v(this,_c,we(e))}get s(){return y(this,qc)}set s(e){j(xc(e)===32,"invalid s","value",e);const n=we(e);j(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),v(this,qc,n)}get v(){return y(this,$c)}set v(e){const n=nt(e,"value");j(n===27||n===28,"invalid v","v",e),v(this,$c,n)}get networkV(){return y(this,rl)}get legacyChainId(){const e=this.networkV;return e==null?null:us.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=$e(this.s);return this.yParity&&(e[0]|=128),we(e)}get compactSerialized(){return Yt([this.r,this.yParityAndS])}get serialized(){return Yt([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new us(Cc,this.r,this.s,this.v);return this.networkV&&v(e,rl,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=Xe(e,"v");return n==XG||n==JG?WG:(j(n>=gp,"invalid EIP-155 v","v",e),(n-gp)/vG)}static getChainIdV(e,n){return Xe(e)*vG+BigInt(35+n-27)}static getNormalizedV(e){const n=Xe(e);return n===WG||n===XG?27:n===RG||n===JG?28:(j(n>=gp,"invalid v","v",e),n&RG?27:28)}static from(e){function n(u,I){j(u,I,"signature",e)}if(e==null)return new us(Cc,VG,VG,27);if(typeof e=="string"){const u=$e(e,"signature");if(u.length===64){const I=we(u.slice(0,32)),p=u.slice(32,64),A=p[0]&128?28:27;return p[0]&=127,new us(Cc,I,we(p),A)}if(u.length===65){const I=we(u.slice(0,32)),p=u.slice(32,64);n((p[0]&128)===0,"non-canonical s");const A=us.getNormalizedV(u[64]);return new us(Cc,I,we(p),A)}n(!1,"invalid raw signature length")}if(e instanceof us)return e.clone();const a=e.r;n(a!=null,"missing r");const s=EG(a),r=function(u,I){if(u!=null)return EG(u);if(I!=null){n(St(I,32),"invalid yParityAndS");const p=$e(I);return p[0]&=127,we(p)}n(!1,"missing s")}(e.s,e.yParityAndS);n(($e(r)[0]&128)==0,"non-canonical s");const{networkV:l,v:c}=function(u,I,p){if(u!=null){const A=Xe(u);return{networkV:A>=gp?A:void 0,v:us.getNormalizedV(A)}}if(I!=null)return n(St(I,32),"invalid yParityAndS"),{v:$e(I)[0]&128?28:27};if(p!=null){switch(nt(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),g=new us(Cc,s,r,c);return l&&v(g,rl,l),n(e.yParity==null||nt(e.yParity,"sig.yParity")===g.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===g.yParityAndS,"yParityAndS mismatch"),g}};_c=new WeakMap,qc=new WeakMap,$c=new WeakMap,rl=new WeakMap;let ca=us;var Vi;const Mo=class Mo{constructor(e){q(this,Vi);j(xc(e)===32,"invalid private key","privateKey","[REDACTED]"),v(this,Vi,we(e))}get privateKey(){return y(this,Vi)}get publicKey(){return Mo.computePublicKey(y(this,Vi))}get compressedPublicKey(){return Mo.computePublicKey(y(this,Vi),!0)}sign(e){j(xc(e)===32,"invalid digest length","digest",e);const n=Rr.sign(Fn(e),Fn(y(this,Vi)),{lowS:!0});return ca.from({r:no(n.r,32),s:no(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Mo.computePublicKey(e);return we(Rr.getSharedSecret(Fn(y(this,Vi)),$e(n),!1))}static computePublicKey(e,n){let a=$e(e,"key");if(a.length===32){const r=Rr.getPublicKey(a,!!n);return we(r)}if(a.length===64){const r=new Uint8Array(65);r[0]=4,r.set(a,1),a=r}const s=Rr.ProjectivePoint.fromHex(a);return we(s.toRawBytes(n))}static recoverPublicKey(e,n){j(xc(e)===32,"invalid digest length","digest",e);const a=ca.from(n);let s=Rr.Signature.fromCompact(Fn(Yt([a.r,a.s])));s=s.addRecoveryBit(a.yParity);const r=s.recoverPublicKey(Fn(e));return j(r!=null,"invalid signature for digest","signature",n),"0x"+r.toHex(!1)}static addPoints(e,n,a){const s=Rr.ProjectivePoint.fromHex(Mo.computePublicKey(e).substring(2)),r=Rr.ProjectivePoint.fromHex(Mo.computePublicKey(n).substring(2));return"0x"+s.add(r).toHex(!!a)}};Vi=new WeakMap;let BI=Mo;const AE=BigInt(0),yE=BigInt(36);function xG(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const a=$e(jt(n));for(let s=0;s<40;s+=2)a[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(a[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const N1={};for(let t=0;t<10;t++)N1[String(t)]=String(t);for(let t=0;t<26;t++)N1[String.fromCharCode(65+t)]=String(10+t);const NG=15;function bE(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(a=>N1[a]).join("");for(;e.length>=NG;){let a=e.substring(0,NG);e=parseInt(a,10)%97+e.substring(a.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const hE=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function fE(t){t=t.toLowerCase();let e=AE;for(let n=0;n<t.length;n++)e=e*yE+hE[t[n]];return e}function At(t){if(j(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=xG(t);return j(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){j(t.substring(2,4)===bE(t),"bad icap checksum","address",t);let e=fE(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return xG("0x"+e)}j(!1,"invalid address","address",t)}function ZE(t){const e=At(t.from);let a=Xe(t.nonce,"tx.nonce").toString(16);return a==="0"?a="0x":a.length%2?a="0x0"+a:a="0x"+a,At(Ht(jt(ao([e,a])),12))}function R3(t){return t&&typeof t.getAddress=="function"}async function Q0(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(me(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),j(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),At(n)}function Mn(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?At(t):(me(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),Q0(t,e.resolveName(t)));if(R3(t))return Q0(t,t.getAddress());if(t&&typeof t.then=="function")return Q0(t,t);j(!1,"unsupported addressable value","target",t)}const fi={};function Re(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Rn(fi,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function dt(t,e){return new Rn(fi,`bytes${e||""}`,t,{size:e})}const HG=Symbol.for("_ethers_typed");var ol;const Zi=class Zi{constructor(e,n,a,s){te(this,"type");te(this,"value");q(this,ol);te(this,"_typedSymbol");s==null&&(s=null),Om(fi,e,"Typed"),Ue(this,{_typedSymbol:HG,type:n,value:a}),v(this,ol,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return y(this,ol)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return y(this,ol)===!0?-1:y(this,ol)===!1?this.value.length:null}static from(e,n){return new Zi(fi,e,n)}static uint8(e){return Re(e,8)}static uint16(e){return Re(e,16)}static uint24(e){return Re(e,24)}static uint32(e){return Re(e,32)}static uint40(e){return Re(e,40)}static uint48(e){return Re(e,48)}static uint56(e){return Re(e,56)}static uint64(e){return Re(e,64)}static uint72(e){return Re(e,72)}static uint80(e){return Re(e,80)}static uint88(e){return Re(e,88)}static uint96(e){return Re(e,96)}static uint104(e){return Re(e,104)}static uint112(e){return Re(e,112)}static uint120(e){return Re(e,120)}static uint128(e){return Re(e,128)}static uint136(e){return Re(e,136)}static uint144(e){return Re(e,144)}static uint152(e){return Re(e,152)}static uint160(e){return Re(e,160)}static uint168(e){return Re(e,168)}static uint176(e){return Re(e,176)}static uint184(e){return Re(e,184)}static uint192(e){return Re(e,192)}static uint200(e){return Re(e,200)}static uint208(e){return Re(e,208)}static uint216(e){return Re(e,216)}static uint224(e){return Re(e,224)}static uint232(e){return Re(e,232)}static uint240(e){return Re(e,240)}static uint248(e){return Re(e,248)}static uint256(e){return Re(e,256)}static uint(e){return Re(e,256)}static int8(e){return Re(e,-8)}static int16(e){return Re(e,-16)}static int24(e){return Re(e,-24)}static int32(e){return Re(e,-32)}static int40(e){return Re(e,-40)}static int48(e){return Re(e,-48)}static int56(e){return Re(e,-56)}static int64(e){return Re(e,-64)}static int72(e){return Re(e,-72)}static int80(e){return Re(e,-80)}static int88(e){return Re(e,-88)}static int96(e){return Re(e,-96)}static int104(e){return Re(e,-104)}static int112(e){return Re(e,-112)}static int120(e){return Re(e,-120)}static int128(e){return Re(e,-128)}static int136(e){return Re(e,-136)}static int144(e){return Re(e,-144)}static int152(e){return Re(e,-152)}static int160(e){return Re(e,-160)}static int168(e){return Re(e,-168)}static int176(e){return Re(e,-176)}static int184(e){return Re(e,-184)}static int192(e){return Re(e,-192)}static int200(e){return Re(e,-200)}static int208(e){return Re(e,-208)}static int216(e){return Re(e,-216)}static int224(e){return Re(e,-224)}static int232(e){return Re(e,-232)}static int240(e){return Re(e,-240)}static int248(e){return Re(e,-248)}static int256(e){return Re(e,-256)}static int(e){return Re(e,-256)}static bytes1(e){return dt(e,1)}static bytes2(e){return dt(e,2)}static bytes3(e){return dt(e,3)}static bytes4(e){return dt(e,4)}static bytes5(e){return dt(e,5)}static bytes6(e){return dt(e,6)}static bytes7(e){return dt(e,7)}static bytes8(e){return dt(e,8)}static bytes9(e){return dt(e,9)}static bytes10(e){return dt(e,10)}static bytes11(e){return dt(e,11)}static bytes12(e){return dt(e,12)}static bytes13(e){return dt(e,13)}static bytes14(e){return dt(e,14)}static bytes15(e){return dt(e,15)}static bytes16(e){return dt(e,16)}static bytes17(e){return dt(e,17)}static bytes18(e){return dt(e,18)}static bytes19(e){return dt(e,19)}static bytes20(e){return dt(e,20)}static bytes21(e){return dt(e,21)}static bytes22(e){return dt(e,22)}static bytes23(e){return dt(e,23)}static bytes24(e){return dt(e,24)}static bytes25(e){return dt(e,25)}static bytes26(e){return dt(e,26)}static bytes27(e){return dt(e,27)}static bytes28(e){return dt(e,28)}static bytes29(e){return dt(e,29)}static bytes30(e){return dt(e,30)}static bytes31(e){return dt(e,31)}static bytes32(e){return dt(e,32)}static address(e){return new Zi(fi,"address",e)}static bool(e){return new Zi(fi,"bool",!!e)}static bytes(e){return new Zi(fi,"bytes",e)}static string(e){return new Zi(fi,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new Zi(fi,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===HG}static dereference(e,n){if(Zi.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};ol=new WeakMap;let Rn=Zi;class GE extends _i{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let a=Rn.dereference(n,"string");try{a=At(a)}catch(s){return this._throwError(s.message,n)}return e.writeValue(a)}decode(e){return At(no(e.readValue(),20))}}class BE extends _i{constructor(n){super(n.name,n.type,"_",n.dynamic);te(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,a){return this.coder.encode(n,a)}decode(n){return this.coder.decode(n)}}function v3(t,e,n){let a=[];if(Array.isArray(n))a=n;else if(n&&typeof n=="object"){let g={};a=e.map(u=>{const I=u.localName;return me(I,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),me(!g[I],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),g[I]=!0,n[I]})}else j(!1,"invalid tuple value","tuple",n);j(e.length===a.length,"types/value length mismatch","tuple",n);let s=new ih,r=new ih,l=[];e.forEach((g,u)=>{let I=a[u];if(g.dynamic){let p=r.length;g.encode(r,I);let A=s.writeUpdatableValue();l.push(Z=>{A(Z+p)})}else g.encode(s,I)}),l.forEach(g=>{g(s.length)});let c=t.appendWriter(s);return c+=t.appendWriter(r),c}function X3(t,e){let n=[],a=[],s=t.subReader(0);return e.forEach(r=>{let l=null;if(r.dynamic){let c=t.readIndex(),g=s.subReader(c);try{l=r.decode(g)}catch(u){if(mn(u,"BUFFER_OVERRUN"))throw u;l=u,l.baseType=r.name,l.name=r.localName,l.type=r.type}}else try{l=r.decode(t)}catch(c){if(mn(c,"BUFFER_OVERRUN"))throw c;l=c,l.baseType=r.name,l.name=r.localName,l.type=r.type}if(l==null)throw new Error("investigate");n.push(l),a.push(r.localName||null)}),Eg.fromItems(n,a)}class SE extends _i{constructor(n,a,s){const r=n.type+"["+(a>=0?a:"")+"]",l=a===-1||n.dynamic;super("array",r,s,l);te(this,"coder");te(this,"length");Ue(this,{coder:n,length:a})}defaultValue(){const n=this.coder.defaultValue(),a=[];for(let s=0;s<this.length;s++)a.push(n);return a}encode(n,a){const s=Rn.dereference(a,"array");Array.isArray(s)||this._throwError("expected array value",s);let r=this.length;r===-1&&(r=s.length,n.writeValue(s.length)),Fw(s.length,r,"coder array"+(this.localName?" "+this.localName:""));let l=[];for(let c=0;c<s.length;c++)l.push(this.coder);return v3(n,l,s)}decode(n){let a=this.length;a===-1&&(a=n.readIndex(),me(a*Kn<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:a*Kn,length:n.dataLength}));let s=[];for(let r=0;r<a;r++)s.push(new BE(this.coder));return X3(n,s)}}class wE extends _i{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const a=Rn.dereference(n,"bool");return e.writeValue(a?1:0)}decode(e){return!!e.readValue()}}class J3 extends _i{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Fn(n);let a=e.writeValue(n.length);return a+=e.writeBytes(n),a}decode(e){return e.readBytes(e.readIndex(),!0)}}class kE extends J3{constructor(e){super("bytes",e)}decode(e){return we(super.decode(e))}}class VE extends _i{constructor(n,a){let s="bytes"+String(n);super(s,s,a,!1);te(this,"size");Ue(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,a){let s=Fn(Rn.dereference(a,this.type));return s.length!==this.size&&this._throwError("incorrect data length",a),n.writeBytes(s)}decode(n){return we(n.readBytes(this.size))}}const WE=new Uint8Array([]);class RE extends _i{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(WE)}decode(e){return e.readBytes(0),null}}const vE=BigInt(0),XE=BigInt(1),JE=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class EE extends _i{constructor(n,a,s){const r=(a?"int":"uint")+n*8;super(r,r,s,!1);te(this,"size");te(this,"signed");Ue(this,{size:n,signed:a},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,a){let s=Xe(Rn.dereference(a,this.type)),r=gI(JE,Kn*8);if(this.signed){let l=gI(r,this.size*8-1);(s>l||s<-(l+XE))&&this._throwError("value out-of-bounds",a),s=Uw(s,8*Kn)}else(s<vE||s>gI(r,this.size*8))&&this._throwError("value out-of-bounds",a);return n.writeValue(s)}decode(n){let a=gI(n.readValue(),this.size*8);return this.signed&&(a=WX(a,this.size*8)),a}}class xE extends J3{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Mi(Rn.dereference(n,"string")))}decode(e){return mm(super.decode(e))}}class dp extends _i{constructor(n,a){let s=!1;const r=[];n.forEach(c=>{c.dynamic&&(s=!0),r.push(c.type)});const l="tuple("+r.join(",")+")";super("tuple",l,a,s);te(this,"coders");Ue(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(s=>{n.push(s.defaultValue())});const a=this.coders.reduce((s,r)=>{const l=r.localName;return l&&(s[l]||(s[l]=0),s[l]++),s},{});return this.coders.forEach((s,r)=>{let l=s.localName;!l||a[l]!==1||(l==="length"&&(l="_length"),n[l]==null&&(n[l]=n[r]))}),Object.freeze(n)}encode(n,a){const s=Rn.dereference(a,"tuple");return v3(n,this.coders,s)}decode(n){return X3(n,this.coders)}}function P0(t,e){return{address:At(t),storageKeys:e.map((n,a)=>(j(St(n,32),"invalid slot",`storageKeys[${a}]`,n),n.toLowerCase()))}}function Tl(t){if(Array.isArray(t))return t.map((n,a)=>Array.isArray(n)?(j(n.length===2,"invalid slot set",`value[${a}]`,n),P0(n[0],n[1])):(j(n!=null&&typeof n=="object","invalid address-slot set","value",t),P0(n.address,n.storageKeys)));j(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const a=t[n].reduce((s,r)=>(s[r]=!0,s),{});return P0(n,Object.keys(a).sort())});return e.sort((n,a)=>n.address.localeCompare(a.address)),e}function E3(t){return{address:At(t.address),nonce:Xe(t.nonce!=null?t.nonce:0),chainId:Xe(t.chainId!=null?t.chainId:0),signature:ca.from(t.signature)}}function NE(t){let e;return typeof t=="string"?e=BI.computePublicKey(t,!1):e=t.publicKey,At(jt("0x"+e.substring(4)).substring(26))}function HE(t,e){return NE(BI.recoverPublicKey(t,e))}const ln=BigInt(0),YE=BigInt(2),TE=BigInt(27),FE=BigInt(28),KE=BigInt(35),ME=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),O0=4096*32;function UE(t){return{blobToKzgCommitment:a=>{if("computeBlobProof"in t){if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return $e(t.blobToKzgCommitment(we(a)))}else if("blobToKzgCommitment"in t&&typeof t.blobToKzgCommitment=="function")return $e(t.blobToKzgCommitment(a));if("blobToKZGCommitment"in t&&typeof t.blobToKZGCommitment=="function")return $e(t.blobToKZGCommitment(we(a)));j(!1,"unsupported KZG library","kzg",t)},computeBlobKzgProof:(a,s)=>{if("computeBlobProof"in t&&typeof t.computeBlobProof=="function")return $e(t.computeBlobProof(we(a),we(s)));if("computeBlobKzgProof"in t&&typeof t.computeBlobKzgProof=="function")return t.computeBlobKzgProof(a,s);if("computeBlobKZGProof"in t&&typeof t.computeBlobKZGProof=="function")return $e(t.computeBlobKZGProof(we(a),we(s)));j(!1,"unsupported KZG library","kzg",t)}}}function YG(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=Og(e).substring(4),"0x"+n}function jg(t){return t==="0x"?null:At(t)}function tA(t,e){try{return Tl(t)}catch(n){j(!1,n.message,e,t)}}function DE(t,e){try{if(!Array.isArray(t))throw new Error("authorizationList: invalid array");const n=[];for(let a=0;a<t.length;a++){const s=t[a];if(!Array.isArray(s))throw new Error(`authorization[${a}]: invalid array`);if(s.length!==6)throw new Error(`authorization[${a}]: wrong length`);if(!s[1])throw new Error(`authorization[${a}]: null address`);n.push({address:jg(s[1]),nonce:ht(s[2],"nonce"),chainId:ht(s[0],"chainId"),signature:ca.from({yParity:Fl(s[3],"yParity"),r:Li(s[4],32),s:Li(s[5],32)})})}return n}catch(n){j(!1,n.message,e,t)}}function Fl(t,e){return t==="0x"?0:nt(t,e)}function ht(t,e){if(t==="0x")return ln;const n=Xe(t,e);return j(n<=ME,"value exceeds uint size",e,n),n}function it(t,e){const n=Xe(t,"value"),a=An(n);return j(a.length<=32,"value too large",`tx.${e}`,n),a}function nA(t){return Tl(t).map(e=>[e.address,e.storageKeys])}function zE(t){return t.map(e=>[it(e.chainId,"chainId"),e.address,it(e.nonce,"nonce"),it(e.signature.yParity,"yParity"),e.signature.r,e.signature.s])}function LE(t,e){j(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)j(St(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function QE(t){const e=Vu(t);j(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:Fl(e[0],"nonce"),gasPrice:ht(e[1],"gasPrice"),gasLimit:ht(e[2],"gasLimit"),to:jg(e[3]),value:ht(e[4],"value"),data:we(e[5]),chainId:ln};if(e.length===6)return n;const a=ht(e[6],"v"),s=ht(e[7],"r"),r=ht(e[8],"s");if(s===ln&&r===ln)n.chainId=a;else{let l=(a-KE)/YE;l<ln&&(l=ln),n.chainId=l,j(l!==ln||a===TE||a===FE,"non-canonical legacy v","v",e[6]),n.signature=ca.from({r:Li(e[7],32),s:Li(e[8],32),v:a})}return n}function PE(t,e){const n=[it(t.nonce,"nonce"),it(t.gasPrice||0,"gasPrice"),it(t.gasLimit,"gasLimit"),t.to||"0x",it(t.value,"value"),t.data];let a=ln;if(t.chainId!=ln)a=Xe(t.chainId,"tx.chainId"),j(!e||e.networkV==null||e.legacyChainId===a,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const r=t.signature.legacyChainId;r!=null&&(a=r)}if(!e)return a!==ln&&(n.push(An(a)),n.push("0x"),n.push("0x")),ao(n);let s=BigInt(27+e.yParity);return a!==ln?s=ca.getChainIdV(a,e.v):BigInt(e.v)!==s&&j(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(An(s)),n.push(An(e.r)),n.push(An(e.s)),ao(n)}function aA(t,e){let n;try{if(n=Fl(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{j(!1,"invalid yParity","yParity",e[0])}const a=Li(e[1],32),s=Li(e[2],32),r=ca.from({r:a,s,yParity:n});t.signature=r}function OE(t){const e=Vu($e(t).slice(1));j(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",we(t));const n={type:2,chainId:ht(e[0],"chainId"),nonce:Fl(e[1],"nonce"),maxPriorityFeePerGas:ht(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ht(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ht(e[4],"gasLimit"),to:jg(e[5]),value:ht(e[6],"value"),data:we(e[7]),accessList:tA(e[8],"accessList")};return e.length===9||aA(n,e.slice(9)),n}function jE(t,e){const n=[it(t.chainId,"chainId"),it(t.nonce,"nonce"),it(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),it(t.maxFeePerGas||0,"maxFeePerGas"),it(t.gasLimit,"gasLimit"),t.to||"0x",it(t.value,"value"),t.data,nA(t.accessList||[])];return e&&(n.push(it(e.yParity,"yParity")),n.push(An(e.r)),n.push(An(e.s))),Yt(["0x02",ao(n)])}function _E(t){const e=Vu($e(t).slice(1));j(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",we(t));const n={type:1,chainId:ht(e[0],"chainId"),nonce:Fl(e[1],"nonce"),gasPrice:ht(e[2],"gasPrice"),gasLimit:ht(e[3],"gasLimit"),to:jg(e[4]),value:ht(e[5],"value"),data:we(e[6]),accessList:tA(e[7],"accessList")};return e.length===8||aA(n,e.slice(8)),n}function qE(t,e){const n=[it(t.chainId,"chainId"),it(t.nonce,"nonce"),it(t.gasPrice||0,"gasPrice"),it(t.gasLimit,"gasLimit"),t.to||"0x",it(t.value,"value"),t.data,nA(t.accessList||[])];return e&&(n.push(it(e.yParity,"recoveryParam")),n.push(An(e.r)),n.push(An(e.s))),Yt(["0x01",ao(n)])}function $E(t){let e=Vu($e(t).slice(1)),n="3",a=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const r=e[1],l=e[2],c=e[3];j(Array.isArray(r),"invalid network format: blobs not an array","fields[1]",r),j(Array.isArray(l),"invalid network format: commitments not an array","fields[2]",l),j(Array.isArray(c),"invalid network format: proofs not an array","fields[3]",c),j(r.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),j(r.length===c.length,"invalid network format: blobs/proofs length mismatch","fields",e),a=[];for(let g=0;g<e[1].length;g++)a.push({data:r[g],commitment:l[g],proof:c[g]});e=e[0]}j(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",we(t));const s={type:3,chainId:ht(e[0],"chainId"),nonce:Fl(e[1],"nonce"),maxPriorityFeePerGas:ht(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ht(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ht(e[4],"gasLimit"),to:jg(e[5]),value:ht(e[6],"value"),data:we(e[7]),accessList:tA(e[8],"accessList"),maxFeePerBlobGas:ht(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};a&&(s.blobs=a),j(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),j(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let r=0;r<s.blobVersionedHashes.length;r++)j(St(s.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",t);return e.length===11||aA(s,e.slice(11)),s}function ex(t,e,n){const a=[it(t.chainId,"chainId"),it(t.nonce,"nonce"),it(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),it(t.maxFeePerGas||0,"maxFeePerGas"),it(t.gasLimit,"gasLimit"),t.to||GI,it(t.value,"value"),t.data,nA(t.accessList||[]),it(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),LE(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(a.push(it(e.yParity,"yParity")),a.push(An(e.r)),a.push(An(e.s)),n)?Yt(["0x03",ao([a,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):Yt(["0x03",ao(a)])}function tx(t){const e=Vu($e(t).slice(1));j(Array.isArray(e)&&(e.length===10||e.length===13),"invalid field count for transaction type: 4","data",we(t));const n={type:4,chainId:ht(e[0],"chainId"),nonce:Fl(e[1],"nonce"),maxPriorityFeePerGas:ht(e[2],"maxPriorityFeePerGas"),maxFeePerGas:ht(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:ht(e[4],"gasLimit"),to:jg(e[5]),value:ht(e[6],"value"),data:we(e[7]),accessList:tA(e[8],"accessList"),authorizationList:DE(e[9],"authorizationList")};return e.length===10||aA(n,e.slice(10)),n}function nx(t,e){const n=[it(t.chainId,"chainId"),it(t.nonce,"nonce"),it(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),it(t.maxFeePerGas||0,"maxFeePerGas"),it(t.gasLimit,"gasLimit"),t.to||"0x",it(t.value,"value"),t.data,nA(t.accessList||[]),zE(t.authorizationList||[])];return e&&(n.push(it(e.yParity,"yParity")),n.push(An(e.r)),n.push(An(e.s))),Yt(["0x04",ao(n)])}var As,eg,tg,ng,ag,sg,ig,rg,og,lg,cg,gg,ll,xr,Fs,Nr,dg,Ig,sm;const Ns=class Ns{constructor(){q(this,Ig);q(this,As);q(this,eg);q(this,tg);q(this,ng);q(this,ag);q(this,sg);q(this,ig);q(this,rg);q(this,og);q(this,lg);q(this,cg);q(this,gg);q(this,ll);q(this,xr);q(this,Fs);q(this,Nr);q(this,dg);v(this,As,null),v(this,eg,null),v(this,ng,0),v(this,ag,ln),v(this,sg,null),v(this,ig,null),v(this,rg,null),v(this,tg,"0x"),v(this,og,ln),v(this,lg,ln),v(this,cg,null),v(this,gg,null),v(this,ll,null),v(this,xr,null),v(this,Fs,null),v(this,Nr,null),v(this,dg,null)}get type(){return y(this,As)}set type(e){switch(e){case null:v(this,As,null);break;case 0:case"legacy":v(this,As,0);break;case 1:case"berlin":case"eip-2930":v(this,As,1);break;case 2:case"london":case"eip-1559":v(this,As,2);break;case 3:case"cancun":case"eip-4844":v(this,As,3);break;case 4:case"pectra":case"eip-7702":v(this,As,4);break;default:j(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844";case 4:return"eip-7702"}return null}get to(){const e=y(this,eg);return e==null&&this.type===3?GI:e}set to(e){v(this,eg,e==null?null:At(e))}get nonce(){return y(this,ng)}set nonce(e){v(this,ng,nt(e,"value"))}get gasLimit(){return y(this,ag)}set gasLimit(e){v(this,ag,Xe(e))}get gasPrice(){const e=y(this,sg);return e==null&&(this.type===0||this.type===1)?ln:e}set gasPrice(e){v(this,sg,e==null?null:Xe(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=y(this,ig);return e??(this.type===2||this.type===3?ln:null)}set maxPriorityFeePerGas(e){v(this,ig,e==null?null:Xe(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=y(this,rg);return e??(this.type===2||this.type===3?ln:null)}set maxFeePerGas(e){v(this,rg,e==null?null:Xe(e,"maxFeePerGas"))}get data(){return y(this,tg)}set data(e){v(this,tg,we(e))}get value(){return y(this,og)}set value(e){v(this,og,Xe(e,"value"))}get chainId(){return y(this,lg)}set chainId(e){v(this,lg,Xe(e))}get signature(){return y(this,cg)||null}set signature(e){v(this,cg,e==null?null:ca.from(e))}get accessList(){const e=y(this,gg)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){v(this,gg,e==null?null:Tl(e))}get authorizationList(){const e=y(this,dg)||null;return e==null&&this.type===4?[]:e}set authorizationList(e){v(this,dg,e==null?null:e.map(n=>E3(n)))}get maxFeePerBlobGas(){const e=y(this,ll);return e==null&&this.type===3?ln:e}set maxFeePerBlobGas(e){v(this,ll,e==null?null:Xe(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=y(this,xr);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){j(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)j(St(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}v(this,xr,e)}get blobs(){return y(this,Nr)==null?null:y(this,Nr).map(e=>Object.assign({},e))}set blobs(e){if(e==null){v(this,Nr,null);return}const n=[],a=[];for(let s=0;s<e.length;s++){const r=e[s];if(k1(r)){me(y(this,Fs),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let l=$e(r);if(j(l.length<=O0,"blob is too large",`blobs[${s}]`,r),l.length!==O0){const u=new Uint8Array(O0);u.set(l),l=u}const c=y(this,Fs).blobToKzgCommitment(l),g=we(y(this,Fs).computeBlobKzgProof(l,c));n.push({data:we(l),commitment:we(c),proof:g}),a.push(YG(1,c))}else{const l=we(r.commitment);n.push({data:we(r.data),commitment:l,proof:we(r.proof)}),a.push(YG(1,l))}}v(this,Nr,n),v(this,xr,a)}get kzg(){return y(this,Fs)}set kzg(e){e==null?v(this,Fs,null):v(this,Fs,UE(e))}get hash(){return this.signature==null?null:jt(ce(this,Ig,sm).call(this,!0,!1))}get unsignedHash(){return jt(this.unsignedSerialized)}get from(){return this.signature==null?null:HE(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:BI.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return ce(this,Ig,sm).call(this,!0,!0)}get unsignedSerialized(){return ce(this,Ig,sm).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,a=this.accessList!=null,s=y(this,ll)!=null||y(this,xr);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&me(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),me(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),me(this.type!==0||!a,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):this.authorizationList&&this.authorizationList.length?r.push(4):n?r.push(2):e?(r.push(1),a||r.push(0)):a?(r.push(1),r.push(2)):(s&&this.to||(r.push(0),r.push(1),r.push(2)),r.push(3)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ns.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ns;if(typeof e=="string"){const a=$e(e);if(a[0]>=127)return Ns.from(QE(a));switch(a[0]){case 1:return Ns.from(_E(a));case 2:return Ns.from(OE(a));case 3:return Ns.from($E(a));case 4:return Ns.from(tx(a))}me(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Ns;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=ca.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.authorizationList!=null&&(n.authorizationList=e.authorizationList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&(j(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),j(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&(j(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),j(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};As=new WeakMap,eg=new WeakMap,tg=new WeakMap,ng=new WeakMap,ag=new WeakMap,sg=new WeakMap,ig=new WeakMap,rg=new WeakMap,og=new WeakMap,lg=new WeakMap,cg=new WeakMap,gg=new WeakMap,ll=new WeakMap,xr=new WeakMap,Fs=new WeakMap,Nr=new WeakMap,dg=new WeakMap,Ig=new WeakSet,sm=function(e,n){me(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const a=e?this.signature:null;switch(this.inferType()){case 0:return PE(this,a);case 1:return qE(this,a);case 2:return jE(this,a);case 3:return ex(this,a,n?this.blobs:null);case 4:return nx(this,a)}me(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let ym=Ns;function kl(t){return jt(Mi(t))}var ax="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const TG=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),FG=4;function sx(t){let e=0;function n(){return t[e++]<<8|t[e++]}let a=n(),s=1,r=[0,1];for(let M=1;M<a;M++)r.push(s+=n());let l=n(),c=e;e+=l;let g=0,u=0;function I(){return g==0&&(u=u<<8|t[e++],g=8),u>>--g&1}const p=31,A=2**p,Z=A>>>1,S=Z>>1,B=A-1;let V=0;for(let M=0;M<p;M++)V=V<<1|I();let W=[],Y=0,R=A;for(;;){let M=Math.floor(((V-Y+1)*s-1)/R),D=0,Q=a;for(;Q-D>1;){let re=D+Q>>>1;M<r[re]?Q=re:D=re}if(D==0)break;W.push(D);let z=Y+Math.floor(R*r[D]/s),se=Y+Math.floor(R*r[D+1]/s)-1;for(;((z^se)&Z)==0;)V=V<<1&B|I(),z=z<<1&B,se=se<<1&B|1;for(;z&~se&S;)V=V&Z|V<<1&B>>>1|I(),z=z<<1^Z,se=(se^Z)<<1|Z|1;Y=z,R=1+se-z}let x=a-4;return W.map(M=>{switch(M-x){case 3:return x+65792+(t[c++]<<16|t[c++]<<8|t[c++]);case 2:return x+256+(t[c++]<<8|t[c++]);case 1:return x+t[c++];default:return M-1}})}function ix(t){let e=0;return()=>t[e++]}function x3(t){return ix(sx(rx(t)))}function rx(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,r)=>e[s.charCodeAt(0)]=r);let n=t.length,a=new Uint8Array(6*n>>3);for(let s=0,r=0,l=0,c=0;s<n;s++)c=c<<6|e[t.charCodeAt(s)],l+=6,l>=8&&(a[r++]=c>>(l-=8));return a}function ox(t){return t&1?~t>>1:t>>1}function lx(t,e){let n=Array(t);for(let a=0,s=0;a<t;a++)n[a]=s+=ox(e());return n}function SI(t,e=0){let n=[];for(;;){let a=t(),s=t();if(!s)break;e+=a;for(let r=0;r<s;r++)n.push(e+r);e+=s+1}return n}function N3(t){return wI(()=>{let e=SI(t);if(e.length)return e})}function H3(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(cx(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(gx(n,t))}return e.flat()}function wI(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function Y3(t,e,n){let a=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)lx(t,n).forEach((r,l)=>a[l].push(r));return a}function cx(t,e){let n=1+e(),a=e(),s=wI(e);return Y3(s.length,1+t,e).flatMap((l,c)=>{let[g,...u]=l;return Array(s[c]).fill().map((I,p)=>{let A=p*a;return[g+p*n,u.map(Z=>Z+A)]})})}function gx(t,e){let n=1+e();return Y3(n,1+t,e).map(s=>[s[0],s.slice(1)])}function dx(t){let e=[],n=SI(t);return s(a([]),[]),e;function a(r){let l=t(),c=wI(()=>{let g=SI(t).map(u=>n[u]);if(g.length)return a(g)});return{S:l,B:c,Q:r}}function s({S:r,B:l},c,g){if(!(r&4&&g===c[c.length-1])){r&2&&(g=c[c.length-1]),r&1&&e.push(c);for(let u of l)for(let I of u.Q)s(u,[...c,I],g)}}}function Ix(t){return t.toString(16).toUpperCase().padStart(2,"0")}function T3(t){return`{${Ix(t)}}`}function ux(t){let e=[];for(let n=0,a=t.length;n<a;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function Tg(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let a=[];for(let s=0;s<n;)a.push(String.fromCodePoint(...t.slice(s,s+=4096)));return a.join("")}function Cx(t,e){let n=t.length,a=n-e.length;for(let s=0;a==0&&s<n;s++)a=t[s]-e[s];return a}var px="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const kI=44032,bm=4352,hm=4449,fm=4519,F3=19,K3=21,Fg=28,Zm=K3*Fg,mx=F3*Zm,Ax=kI+mx,yx=bm+F3,bx=hm+K3,hx=fm+Fg;function II(t){return t>>24&255}function M3(t){return t&16777215}let Ih,KG,uh,im;function fx(){let t=x3(px);Ih=new Map(N3(t).flatMap((e,n)=>e.map(a=>[a,n+1<<24]))),KG=new Set(SI(t)),uh=new Map,im=new Map;for(let[e,n]of H3(t)){if(!KG.has(e)&&n.length==2){let[a,s]=n,r=im.get(a);r||(r=new Map,im.set(a,r)),r.set(s,e)}uh.set(e,n.reverse())}}function U3(t){return t>=kI&&t<Ax}function Zx(t,e){if(t>=bm&&t<yx&&e>=hm&&e<bx)return kI+(t-bm)*Zm+(e-hm)*Fg;if(U3(t)&&e>fm&&e<hx&&(t-kI)%Fg==0)return t+(e-fm);{let n=im.get(t);return n&&(n=n.get(e),n)?n:-1}}function D3(t){Ih||fx();let e=[],n=[],a=!1;function s(r){let l=Ih.get(r);l&&(a=!0,r|=l),e.push(r)}for(let r of t)for(;;){if(r<128)e.push(r);else if(U3(r)){let l=r-kI,c=l/Zm|0,g=l%Zm/Fg|0,u=l%Fg;s(bm+c),s(hm+g),u>0&&s(fm+u)}else{let l=uh.get(r);l?n.push(...l):s(r)}if(!n.length)break;r=n.pop()}if(a&&e.length>1){let r=II(e[0]);for(let l=1;l<e.length;l++){let c=II(e[l]);if(c==0||r<=c){r=c;continue}let g=l-1;for(;;){let u=e[g+1];if(e[g+1]=e[g],e[g]=u,!g||(r=II(e[--g]),r<=c))break}r=II(e[l])}}return e}function Gx(t){let e=[],n=[],a=-1,s=0;for(let r of t){let l=II(r),c=M3(r);if(a==-1)l==0?a=c:e.push(c);else if(s>0&&s>=l)l==0?(e.push(a,...n),n.length=0,a=c):n.push(c),s=l;else{let g=Zx(a,c);g>=0?a=g:s==0&&l==0?(e.push(a),a=c):(n.push(c),s=l)}}return a>=0&&e.push(a,...n),e}function z3(t){return D3(t).map(M3)}function Bx(t){return Gx(D3(t))}const MG=45,L3=".",Q3=65039,P3=1,Gm=t=>Array.from(t);function VI(t,e){return t.P.has(e)||t.Q.has(e)}class Sx extends Array{get is_emoji(){return!0}}let Ch,O3,Lo,ph,j3,Nc,j0,Sc,To,UG,mh;function H1(){if(Ch)return;let t=x3(ax);const e=()=>SI(t),n=()=>new Set(e()),a=(I,p)=>p.forEach(A=>I.add(A));Ch=new Map(H3(t)),O3=n(),Lo=e(),ph=new Set(e().map(I=>Lo[I])),Lo=new Set(Lo),j3=n(),n();let s=N3(t),r=t();const l=()=>{let I=new Set;return e().forEach(p=>a(I,s[p])),a(I,e()),I};Nc=wI(I=>{let p=wI(t).map(A=>A+96);if(p.length){let A=I>=r;p[0]-=32,p=Tg(p),A&&(p=`Restricted[${p}]`);let Z=l(),S=l(),B=!t();return{N:p,P:Z,Q:S,M:B,R:A}}}),j0=n(),Sc=new Map;let c=e().concat(Gm(j0)).sort((I,p)=>I-p);c.forEach((I,p)=>{let A=t(),Z=c[p]=A?c[p-A]:{V:[],M:new Map};Z.V.push(I),j0.has(I)||Sc.set(I,Z)});for(let{V:I,M:p}of new Set(Sc.values())){let A=[];for(let S of I){let B=Nc.filter(W=>VI(W,S)),V=A.find(({G:W})=>B.some(Y=>W.has(Y)));V||(V={G:new Set,V:[]},A.push(V)),V.V.push(S),a(V.G,B)}let Z=A.flatMap(S=>Gm(S.G));for(let{G:S,V:B}of A){let V=new Set(Z.filter(W=>!S.has(W)));for(let W of B)p.set(W,V)}}To=new Set;let g=new Set;const u=I=>To.has(I)?g.add(I):To.add(I);for(let I of Nc){for(let p of I.P)u(p);for(let p of I.Q)u(p)}for(let I of To)!Sc.has(I)&&!g.has(I)&&Sc.set(I,P3);a(To,z3(To)),UG=dx(t).map(I=>Sx.from(I)).sort(Cx),mh=new Map;for(let I of UG){let p=[mh];for(let A of I){let Z=p.map(S=>{let B=S.get(A);return B||(B=new Map,S.set(A,B)),B});A===Q3?p.push(...Z):p=Z}for(let A of p)A.V=I}}function Y1(t){return(_3(t)?"":`${T1(sA([t]))} `)+T3(t)}function T1(t){return`"${t}"`}function wx(t){if(t.length>=4&&t[2]==MG&&t[3]==MG)throw new Error(`invalid label extension: "${Tg(t.slice(0,4))}"`)}function kx(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function Vx(t){let e=t[0],n=TG.get(e);if(n)throw bI(`leading ${n}`);let a=t.length,s=-1;for(let r=1;r<a;r++){e=t[r];let l=TG.get(e);if(l){if(s==r)throw bI(`${n} + ${l}`);s=r+1,n=l}}if(s==a)throw bI(`trailing ${n}`)}function sA(t,e=1/0,n=T3){let a=[];Wx(t[0])&&a.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,r=t.length;for(let l=0;l<r;l++){let c=t[l];_3(c)&&(a.push(Tg(t.slice(s,l))),a.push(n(c)),s=l+1)}return a.push(Tg(t.slice(s,r))),a.join("")}function Wx(t){return H1(),Lo.has(t)}function _3(t){return H1(),j3.has(t)}function Rx(t){return Ex(vx(t,Bx,Hx))}function vx(t,e,n){if(!t)return[];H1();let a=0;return t.split(L3).map(s=>{let r=ux(s),l={input:r,offset:a};a+=r.length+1;try{let c=l.tokens=Nx(r,e,n),g=c.length,u;if(!g)throw new Error("empty label");let I=l.output=c.flat();if(kx(I),!(l.emoji=g>1||c[0].is_emoji)&&I.every(A=>A<128))wx(I),u="ASCII";else{let A=c.flatMap(Z=>Z.is_emoji?[]:Z);if(!A.length)u="Emoji";else{if(Lo.has(I[0]))throw bI("leading combining mark");for(let B=1;B<g;B++){let V=c[B];if(!V.is_emoji&&Lo.has(V[0]))throw bI(`emoji + combining mark: "${Tg(c[B-1])} + ${sA([V[0]])}"`)}Vx(I);let Z=Gm(new Set(A)),[S]=Jx(Z);xx(S,A),Xx(S,Z),u=S.N}}l.type=u}catch(c){l.error=c}return l})}function Xx(t,e){let n,a=[];for(let s of e){let r=Sc.get(s);if(r===P3)return;if(r){let l=r.M.get(s);if(n=n?n.filter(c=>l.has(c)):Gm(l),!n.length)return}else a.push(s)}if(n){for(let s of n)if(a.every(r=>VI(s,r)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function Jx(t){let e=Nc;for(let n of t){let a=e.filter(s=>VI(s,n));if(!a.length)throw Nc.some(s=>VI(s,n))?$3(e[0],n):q3(n);if(e=a,a.length==1)break}return e}function Ex(t){return t.map(({input:e,error:n,output:a})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${T1(sA(e,63))}: ${s}`)}return Tg(a)}).join(L3)}function q3(t){return new Error(`disallowed character: ${Y1(t)}`)}function $3(t,e){let n=Y1(e),a=Nc.find(s=>s.P.has(e));return a&&(n=`${a.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function bI(t){return new Error(`illegal placement: ${t}`)}function xx(t,e){for(let n of e)if(!VI(t,n))throw $3(t,n);if(t.M){let n=z3(e);for(let a=1,s=n.length;a<s;a++)if(ph.has(n[a])){let r=a+1;for(let l;r<s&&ph.has(l=n[r]);r++)for(let c=a;c<r;c++)if(n[c]==l)throw new Error(`duplicate non-spacing marks: ${Y1(l)}`);if(r-a>FG)throw new Error(`excessive non-spacing marks: ${T1(sA(n.slice(a-1,r)))} (${r-a}/${FG})`);a=r}}}function Nx(t,e,n){let a=[],s=[];for(t=t.slice().reverse();t.length;){let r=Yx(t);if(r)s.length&&(a.push(e(s)),s=[]),a.push(n(r));else{let l=t.pop();if(To.has(l))s.push(l);else{let c=Ch.get(l);if(c)s.push(...c);else if(!O3.has(l))throw q3(l)}}}return s.length&&a.push(e(s)),a}function Hx(t){return t.filter(e=>e!=Q3)}function Yx(t,e){let n=mh,a,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:r}=n;r&&(a=r,t.length=s)}return a}const ek=new Uint8Array(32);ek.fill(0);function DG(t){return j(t.length!==0,"invalid ENS name; empty component","comp",t),t}function tk(t){const e=Mi(Tx(t)),n=[];if(t.length===0)return n;let a=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(DG(e.slice(a,s))),a=s+1);return j(a<e.length,"invalid ENS name; empty component","name",t),n.push(DG(e.slice(a))),n}function Tx(t){try{if(t.length===0)throw new Error("empty label");return Rx(t)}catch(e){j(!1,`invalid ENS name (${e.message})`,"name",t)}}function Ah(t){j(typeof t=="string","invalid ENS name; not a string","name",t),j(t.length,"invalid ENS name (empty label)","name",t);let e=ek;const n=tk(t);for(;n.length;)e=jt(Yt([e,jt(n.pop())]));return we(e)}function Fx(t,e){const n=e;return j(n<=255,"DNS encoded label cannot exceed 255","length",n),we(Yt(tk(t).map(a=>{j(a.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(a.length+1);return s.set(a,1),s[0]=s.length-1,s})))+"00"}const nk=new Uint8Array(32);nk.fill(0);const Kx=BigInt(-1),ak=BigInt(0),sk=BigInt(1),Mx=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function Ux(t){const e=$e(t),n=e.length%32;return n?Yt([e,nk.slice(n)]):we(e)}const Dx=no(sk,32),zx=no(ak,32),zG={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},_0=["name","version","chainId","verifyingContract","salt"];function LG(t){return function(e){return j(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const Lx={name:LG("name"),version:LG("version"),chainId:function(t){const e=Xe(t,"domain.chainId");return j(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):fs(e)},verifyingContract:function(t){try{return At(t).toLowerCase()}catch{}j(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=$e(t,"domain.salt");return j(e.length===32,'invalid domain value "salt"',"domain.salt",t),we(e)}};function q0(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",a=parseInt(e[2]);j(a%8===0&&a!==0&&a<=256&&e[2]===String(a),"invalid numeric width","type",t);const s=gI(Mx,n?a-1:a),r=n?(s+sk)*Kx:ak;return function(l){const c=Xe(l,"value");return j(c>=r&&c<=s,`value out-of-bounds for ${t}`,"value",c),no(n?Uw(c,256):c,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return j(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(a){const s=$e(a);return j(s.length===n,`invalid length for ${t}`,"value",a),Ux(a)}}}switch(t){case"address":return function(e){return Li(At(e),32)};case"bool":return function(e){return e?Dx:zx};case"bytes":return function(e){return jt(e)};case"string":return function(e){return kl(e)}}return null}function QG(t,e){return`${t}(${e.map(({name:n,type:a})=>a+" "+n).join(",")})`}function Ip(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var cu,Wi,ug,Ym,ik;const Ma=class Ma{constructor(e){q(this,Ym);te(this,"primaryType");q(this,cu);q(this,Wi);q(this,ug);v(this,Wi,new Map),v(this,ug,new Map);const n=new Map,a=new Map,s=new Map,r={};Object.keys(e).forEach(g=>{r[g]=e[g].map(({name:u,type:I})=>{let{base:p,index:A}=Ip(I);return p==="int"&&!e.int&&(p="int256"),p==="uint"&&!e.uint&&(p="uint256"),{name:u,type:p+(A||"")}}),n.set(g,new Set),a.set(g,[]),s.set(g,new Set)}),v(this,cu,JSON.stringify(r));for(const g in r){const u=new Set;for(const I of r[g]){j(!u.has(I.name),`duplicate variable name ${JSON.stringify(I.name)} in ${JSON.stringify(g)}`,"types",e),u.add(I.name);const p=Ip(I.type).base;j(p!==g,`circular type reference to ${JSON.stringify(p)}`,"types",e),!q0(p)&&(j(a.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),a.get(p).push(g),n.get(g).add(p))}}const l=Array.from(a.keys()).filter(g=>a.get(g).length===0);j(l.length!==0,"missing primary type","types",e),j(l.length===1,`ambiguous primary types or unused types: ${l.map(g=>JSON.stringify(g)).join(", ")}`,"types",e),Ue(this,{primaryType:l[0]});function c(g,u){j(!u.has(g),`circular type reference to ${JSON.stringify(g)}`,"types",e),u.add(g);for(const I of n.get(g))if(a.has(I)){c(I,u);for(const p of u)s.get(p).add(I)}u.delete(g)}c(this.primaryType,new Set);for(const[g,u]of s){const I=Array.from(u);I.sort(),y(this,Wi).set(g,QG(g,r[g])+I.map(p=>QG(p,r[p])).join(""))}}get types(){return JSON.parse(y(this,cu))}getEncoder(e){let n=y(this,ug).get(e);return n||(n=ce(this,Ym,ik).call(this,e),y(this,ug).set(e,n)),n}encodeType(e){const n=y(this,Wi).get(e);return j(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return jt(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,a){if(q0(e))return a(e,n);const s=Ip(e).array;if(s)return j(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(l=>this._visit(s.prefix,l,a));const r=this.types[e];if(r)return r.reduce((l,{name:c,type:g})=>(l[c]=this._visit(g,n[c],a),l),{});j(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Ma(e)}static getPrimaryType(e){return Ma.from(e).primaryType}static hashStruct(e,n,a){return Ma.from(n).hashStruct(e,a)}static hashDomain(e){const n=[];for(const a in e){if(e[a]==null)continue;const s=zG[a];j(s,`invalid typed-data domain key: ${JSON.stringify(a)}`,"domain",e),n.push({name:a,type:s})}return n.sort((a,s)=>_0.indexOf(a.name)-_0.indexOf(s.name)),Ma.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,a){return Yt(["0x1901",Ma.hashDomain(e),Ma.from(n).hash(a)])}static hash(e,n,a){return jt(Ma.encode(e,n,a))}static async resolveNames(e,n,a,s){e=Object.assign({},e);for(const c in e)e[c]==null&&delete e[c];const r={};e.verifyingContract&&!St(e.verifyingContract,20)&&(r[e.verifyingContract]="0x");const l=Ma.from(n);l.visit(a,(c,g)=>(c==="address"&&!St(g,20)&&(r[g]="0x"),g));for(const c in r)r[c]=await s(c);return e.verifyingContract&&r[e.verifyingContract]&&(e.verifyingContract=r[e.verifyingContract]),a=l.visit(a,(c,g)=>c==="address"&&r[g]?r[g]:g),{domain:e,value:a}}static getPayload(e,n,a){Ma.hashDomain(e);const s={},r=[];_0.forEach(g=>{const u=e[g];u!=null&&(s[g]=Lx[g](u),r.push({name:g,type:zG[g]}))});const l=Ma.from(n);n=l.types;const c=Object.assign({},n);return j(c.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),c.EIP712Domain=r,l.encode(a),{types:c,domain:s,primaryType:l.primaryType,message:l.visit(a,(g,u)=>{if(g.match(/^bytes(\d*)/))return we($e(u));if(g.match(/^u?int/))return Xe(u).toString();switch(g){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return j(typeof u=="string","invalid string","value",u),u}j(!1,"unsupported type","type",g)})}}};cu=new WeakMap,Wi=new WeakMap,ug=new WeakMap,Ym=new WeakSet,ik=function(e){{const s=q0(e);if(s)return s}const n=Ip(e).array;if(n){const s=n.prefix,r=this.getEncoder(s);return l=>{j(n.count===-1||n.count===l.length,`array length mismatch; expected length ${n.count}`,"value",l);let c=l.map(r);return y(this,Wi).has(s)&&(c=c.map(jt)),jt(Yt(c))}}const a=this.types[e];if(a){const s=kl(y(this,Wi).get(e));return r=>{const l=a.map(({name:c,type:g})=>{const u=this.getEncoder(g)(r[c]);return y(this,Wi).has(g)?jt(u):u});return l.unshift(s),Yt(l)}}j(!1,`unknown type: ${e}`,"type",e)};let Bm=Ma;function Un(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const Qx="external public payable override",Px=Un(Qx.split(" ")),rk="constant external internal payable private public pure view override",Ox=Un(rk.split(" ")),ok="constructor error event fallback function receive struct",lk=Un(ok.split(" ")),ck="calldata memory storage payable indexed",jx=Un(ck.split(" ")),_x="tuple returns",qx=[ok,ck,_x,rk].join(" "),$x=Un(qx.split(" ")),eN={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},tN=new RegExp("^(\\s*)"),nN=new RegExp("^([0-9]+)"),aN=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),gk=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),dk=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var Cn,ys,gu,yh;const Tm=class Tm{constructor(e){q(this,gu);q(this,Cn);q(this,ys);v(this,Cn,0),v(this,ys,e.slice())}get offset(){return y(this,Cn)}get length(){return y(this,ys).length-y(this,Cn)}clone(){return new Tm(y(this,ys))}reset(){v(this,Cn,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=ce(this,gu,yh).call(this,y(this,Cn)+1,e.match+1);return v(this,Cn,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;y(this,Cn)<e.match-1;){const a=this.peek().linkNext;n.push(ce(this,gu,yh).call(this,y(this,Cn)+1,a)),v(this,Cn,a)}return v(this,Cn,e.match+1),n}peek(){if(y(this,Cn)>=y(this,ys).length)throw new Error("out-of-bounds");return y(this,ys)[y(this,Cn)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return Ud(this,Cn)._++,e}toString(){const e=[];for(let n=y(this,Cn);n<y(this,ys).length;n++){const a=y(this,ys)[n];e.push(`${a.type}:${a.text}`)}return`<TokenString ${e.join(" ")}>`}};Cn=new WeakMap,ys=new WeakMap,gu=new WeakSet,yh=function(e=0,n=0){return new Tm(y(this,ys).slice(e,n).map(a=>Object.freeze(Object.assign({},a,{match:a.match-e,linkBack:a.linkBack-e,linkNext:a.linkNext-e}))))};let Ss=Tm;function lo(t){const e=[],n=l=>{const c=r<t.length?JSON.stringify(t[r]):"$EOI";throw new Error(`invalid token ${c} at ${r}: ${l}`)};let a=[],s=[],r=0;for(;r<t.length;){let l=t.substring(r),c=l.match(tN);c&&(r+=c[1].length,l=t.substring(r));const g={depth:a.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:r,value:-1};e.push(g);let u=eN[l[0]]||"";if(u){if(g.type=u,g.text=l[0],r++,u==="OPEN_PAREN")a.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")a.length===0&&n("no matching open bracket"),g.match=a.pop(),e[g.match].match=e.length-1,g.depth--,g.linkBack=s.pop(),e[g.linkBack].linkNext=e.length-1;else if(u==="COMMA")g.linkBack=s.pop(),e[g.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")g.type="BRACKET";else if(u==="CLOSE_BRACKET"){let I=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const p=e.pop().text;I=p+I,e[e.length-1].value=nt(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=I}continue}if(c=l.match(aN),c){if(g.text=c[1],r+=g.text.length,$x.has(g.text)){g.type="KEYWORD";continue}if(g.text.match(dk)){g.type="TYPE";continue}g.type="ID";continue}if(c=l.match(nN),c){g.text=c[1],g.type="NUMBER",r+=g.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(l[0])} at position ${r}`)}return new Ss(e.map(l=>Object.freeze(l)))}function PG(t,e){let n=[];for(const a in e.keys())t.has(a)&&n.push(a);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function iA(t,e){if(e.peekKeyword(lk)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Pi(t,e){const n=new Set;for(;;){const a=t.peekType("KEYWORD");if(a==null||e&&!e.has(a))break;if(t.pop(),n.has(a))throw new Error(`duplicate keywords: ${JSON.stringify(a)}`);n.add(a)}return Object.freeze(n)}function Ik(t){let e=Pi(t,Ox);return PG(e,Un("constant payable nonpayable".split(" "))),PG(e,Un("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ui(t,e){return t.popParams().map(n=>yn.from(n,e))}function uk(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return Xe(t.pop().text);throw new Error("invalid gas")}return null}function Vl(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const sN=new RegExp(/^(.*)\[([0-9]*)\]$/);function OG(t){const e=t.match(dk);if(j(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);j(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);j(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Jt={},da=Symbol.for("_ethers_internal"),jG="_ParamTypeInternal",_G="_ErrorInternal",qG="_EventInternal",$G="_ConstructorInternal",eB="_FallbackInternal",tB="_FunctionInternal",nB="_StructInternal";var Cg,rm;const Ua=class Ua{constructor(e,n,a,s,r,l,c,g){q(this,Cg);te(this,"name");te(this,"type");te(this,"baseType");te(this,"indexed");te(this,"components");te(this,"arrayLength");te(this,"arrayChildren");if(Om(e,Jt,"ParamType"),Object.defineProperty(this,da,{value:jG}),l&&(l=Object.freeze(l.slice())),s==="array"){if(c==null||g==null)throw new Error("")}else if(c!=null||g!=null)throw new Error("");if(s==="tuple"){if(l==null)throw new Error("")}else if(l!=null)throw new Error("");Ue(this,{name:n,type:a,baseType:s,indexed:r,components:l,arrayLength:c,arrayChildren:g})}format(e){if(e==null&&(e="sighash"),e==="json"){const a=this.name||"";if(this.isArray()){const r=JSON.parse(this.arrayChildren.format("json"));return r.name=a,r.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(r)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:a};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(r=>JSON.parse(r.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(a=>a.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const a=this;return e.map(s=>a.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const a=this;return e.map((s,r)=>a.components[r].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const a=[],s=[e];return ce(this,Cg,rm).call(this,a,e,n,r=>{s[0]=r}),a.length&&await Promise.all(a),s[0]}static from(e,n){if(Ua.isParamType(e))return e;if(typeof e=="string")try{return Ua.from(lo(e),n)}catch{j(!1,"invalid param type","obj",e)}else if(e instanceof Ss){let c="",g="",u=null;Pi(e,Un(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(g="tuple",u=e.popParams().map(B=>Ua.from(B)),c=`tuple(${u.map(B=>B.format()).join(",")})`):(c=OG(e.popType("TYPE")),g=c);let I=null,p=null;for(;e.length&&e.peekType("BRACKET");){const B=e.pop();I=new Ua(Jt,"",c,g,null,u,p,I),p=B.value,c+=B.text,g="array",u=null}let A=null;if(Pi(e,jx).has("indexed")){if(!n)throw new Error("");A=!0}const S=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Ua(Jt,S,c,g,A,u,p,I)}const a=e.name;j(!a||typeof a=="string"&&a.match(gk),"invalid name","obj.name",a);let s=e.indexed;s!=null&&(j(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let r=e.type,l=r.match(sN);if(l){const c=parseInt(l[2]||"-1"),g=Ua.from({type:l[1],components:e.components});return new Ua(Jt,a||"",r,"array",s,null,c,g)}if(r==="tuple"||r.startsWith("tuple(")||r.startsWith("(")){const c=e.components!=null?e.components.map(u=>Ua.from(u)):null;return new Ua(Jt,a||"",r,"tuple",s,c,null,null)}return r=OG(e.type),new Ua(Jt,a||"",r,r,s,null,null,null)}static isParamType(e){return e&&e[da]===jG}};Cg=new WeakSet,rm=function(e,n,a,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const l=this.arrayChildren,c=n.slice();c.forEach((g,u)=>{var I;ce(I=l,Cg,rm).call(I,e,g,a,p=>{c[u]=p})}),s(c);return}if(this.isTuple()){const l=this.components;let c;if(Array.isArray(n))c=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");c=l.map(g=>{if(!g.name)throw new Error("cannot use object value with unnamed components");if(!(g.name in n))throw new Error(`missing value for component ${g.name}`);return n[g.name]})}if(c.length!==this.components.length)throw new Error("array is wrong length");c.forEach((g,u)=>{var I;ce(I=l[u],Cg,rm).call(I,e,g,a,p=>{c[u]=p})}),s(c);return}const r=a(this.type,n);r.then?e.push(async function(){s(await r)}()):s(r)};let yn=Ua;class Wl{constructor(e,n,a){te(this,"type");te(this,"inputs");Om(e,Jt,"Fragment"),a=Object.freeze(a.slice()),Ue(this,{type:n,inputs:a})}static from(e){if(typeof e=="string"){try{Wl.from(JSON.parse(e))}catch{}return Wl.from(lo(e))}if(e instanceof Ss)switch(e.peekKeyword(lk)){case"constructor":return Ti.from(e);case"error":return oa.from(e);case"event":return Ps.from(e);case"fallback":case"receive":return Gi.from(e);case"function":return Os.from(e);case"struct":return Bl.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return Ti.from(e);case"error":return oa.from(e);case"event":return Ps.from(e);case"fallback":case"receive":return Gi.from(e);case"function":return Os.from(e);case"struct":return Bl.from(e)}me(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}j(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return Ti.isFragment(e)}static isError(e){return oa.isFragment(e)}static isEvent(e){return Ps.isFragment(e)}static isFunction(e){return Os.isFragment(e)}static isStruct(e){return Bl.isFragment(e)}}class rA extends Wl{constructor(n,a,s,r){super(n,a,r);te(this,"name");j(typeof s=="string"&&s.match(gk),"invalid identifier","name",s),r=Object.freeze(r.slice()),Ue(this,{name:s})}}function WI(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class oa extends rA{constructor(e,n,a){super(e,"error",n,a),Object.defineProperty(this,da,{value:_G})}get selector(){return kl(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+WI(e,this.inputs)),n.join(" ")}static from(e){if(oa.isFragment(e))return e;if(typeof e=="string")return oa.from(lo(e));if(e instanceof Ss){const n=iA("error",e),a=Ui(e);return Vl(e),new oa(Jt,n,a)}return new oa(Jt,e.name,e.inputs?e.inputs.map(yn.from):[])}static isFragment(e){return e&&e[da]===_G}}class Ps extends rA{constructor(n,a,s,r){super(n,"event",a,s);te(this,"anonymous");Object.defineProperty(this,da,{value:qG}),Ue(this,{anonymous:r})}get topicHash(){return kl(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const a=[];return n!=="sighash"&&a.push("event"),a.push(this.name+WI(n,this.inputs)),n!=="sighash"&&this.anonymous&&a.push("anonymous"),a.join(" ")}static getTopicHash(n,a){return a=(a||[]).map(r=>yn.from(r)),new Ps(Jt,n,a,!1).topicHash}static from(n){if(Ps.isFragment(n))return n;if(typeof n=="string")try{return Ps.from(lo(n))}catch{j(!1,"invalid event fragment","obj",n)}else if(n instanceof Ss){const a=iA("event",n),s=Ui(n,!0),r=!!Pi(n,Un(["anonymous"])).has("anonymous");return Vl(n),new Ps(Jt,a,s,r)}return new Ps(Jt,n.name,n.inputs?n.inputs.map(a=>yn.from(a,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[da]===qG}}class Ti extends Wl{constructor(n,a,s,r,l){super(n,a,s);te(this,"payable");te(this,"gas");Object.defineProperty(this,da,{value:$G}),Ue(this,{payable:r,gas:l})}format(n){if(me(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const a=[`constructor${WI(n,this.inputs)}`];return this.payable&&a.push("payable"),this.gas!=null&&a.push(`@${this.gas.toString()}`),a.join(" ")}static from(n){if(Ti.isFragment(n))return n;if(typeof n=="string")try{return Ti.from(lo(n))}catch{j(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Ss){Pi(n,Un(["constructor"]));const a=Ui(n),s=!!Pi(n,Px).has("payable"),r=uk(n);return Vl(n),new Ti(Jt,"constructor",a,s,r)}return new Ti(Jt,"constructor",n.inputs?n.inputs.map(yn.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[da]===$G}}class Gi extends Wl{constructor(n,a,s){super(n,"fallback",a);te(this,"payable");Object.defineProperty(this,da,{value:eB}),Ue(this,{payable:s})}format(n){const a=this.inputs.length===0?"receive":"fallback";if(n==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:a,stateMutability:s})}return`${a}()${this.payable?" payable":""}`}static from(n){if(Gi.isFragment(n))return n;if(typeof n=="string")try{return Gi.from(lo(n))}catch{j(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Ss){const a=n.toString(),s=n.peekKeyword(Un(["fallback","receive"]));if(j(s,"type must be fallback or receive","obj",a),n.popKeyword(Un(["fallback","receive"]))==="receive"){const g=Ui(n);return j(g.length===0,"receive cannot have arguments","obj.inputs",g),Pi(n,Un(["payable"])),Vl(n),new Gi(Jt,[],!0)}let l=Ui(n);l.length?j(l.length===1&&l[0].type==="bytes","invalid fallback inputs","obj.inputs",l.map(g=>g.format("minimal")).join(", ")):l=[yn.from("bytes")];const c=Ik(n);if(j(c==="nonpayable"||c==="payable","fallback cannot be constants","obj.stateMutability",c),Pi(n,Un(["returns"])).has("returns")){const g=Ui(n);j(g.length===1&&g[0].type==="bytes","invalid fallback outputs","obj.outputs",g.map(u=>u.format("minimal")).join(", "))}return Vl(n),new Gi(Jt,l,c==="payable")}if(n.type==="receive")return new Gi(Jt,[],!0);if(n.type==="fallback"){const a=[yn.from("bytes")],s=n.stateMutability==="payable";return new Gi(Jt,a,s)}j(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[da]===eB}}class Os extends rA{constructor(n,a,s,r,l,c){super(n,"function",a,r);te(this,"constant");te(this,"outputs");te(this,"stateMutability");te(this,"payable");te(this,"gas");Object.defineProperty(this,da,{value:tB}),l=Object.freeze(l.slice()),Ue(this,{constant:s==="view"||s==="pure",gas:c,outputs:l,payable:s==="payable",stateMutability:s})}get selector(){return kl(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n))),outputs:this.outputs.map(s=>JSON.parse(s.format(n)))});const a=[];return n!=="sighash"&&a.push("function"),a.push(this.name+WI(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&a.push(this.stateMutability),this.outputs&&this.outputs.length&&(a.push("returns"),a.push(WI(n,this.outputs))),this.gas!=null&&a.push(`@${this.gas.toString()}`)),a.join(" ")}static getSelector(n,a){return a=(a||[]).map(r=>yn.from(r)),new Os(Jt,n,"view",a,[],null).selector}static from(n){if(Os.isFragment(n))return n;if(typeof n=="string")try{return Os.from(lo(n))}catch{j(!1,"invalid function fragment","obj",n)}else if(n instanceof Ss){const s=iA("function",n),r=Ui(n),l=Ik(n);let c=[];Pi(n,Un(["returns"])).has("returns")&&(c=Ui(n));const g=uk(n);return Vl(n),new Os(Jt,s,l,r,c,g)}let a=n.stateMutability;return a==null&&(a="payable",typeof n.constant=="boolean"?(a="view",n.constant||(a="payable",typeof n.payable=="boolean"&&!n.payable&&(a="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(a="nonpayable")),new Os(Jt,n.name,a,n.inputs?n.inputs.map(yn.from):[],n.outputs?n.outputs.map(yn.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[da]===tB}}class Bl extends rA{constructor(e,n,a){super(e,"struct",n,a),Object.defineProperty(this,da,{value:nB})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return Bl.from(lo(e))}catch{j(!1,"invalid struct fragment","obj",e)}else if(e instanceof Ss){const n=iA("struct",e),a=Ui(e);return Vl(e),new Bl(Jt,n,a)}return new Bl(Jt,e.name,e.inputs?e.inputs.map(yn.from):[])}static isFragment(e){return e&&e[da]===nB}}const Vs=new Map;Vs.set(0,"GENERIC_PANIC");Vs.set(1,"ASSERT_FALSE");Vs.set(17,"OVERFLOW");Vs.set(18,"DIVIDE_BY_ZERO");Vs.set(33,"ENUM_RANGE_ERROR");Vs.set(34,"BAD_STORAGE_DATA");Vs.set(49,"STACK_UNDERFLOW");Vs.set(50,"ARRAY_RANGE_ERROR");Vs.set(65,"OUT_OF_MEMORY");Vs.set(81,"UNINITIALIZED_FUNCTION_CALL");const iN=new RegExp(/^bytes([0-9]*)$/),rN=new RegExp(/^(u?int)([0-9]*)$/);let $0=null,aB=1024;function oN(t,e,n,a){let s="missing revert data",r=null;const l=null;let c=null;if(n){s="execution reverted";const u=$e(n);if(n=we(n),u.length===0)s+=" (no data present; likely require(false) occurred",r="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(we(u.slice(0,4))==="0x08c379a0")try{r=a.decode(["string"],u.slice(4))[0],c={signature:"Error(string)",name:"Error",args:[r]},s+=`: ${JSON.stringify(r)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(we(u.slice(0,4))==="0x4e487b71")try{const I=Number(a.decode(["uint256"],u.slice(4))[0]);c={signature:"Panic(uint256)",name:"Panic",args:[I]},r=`Panic due to ${Vs.get(I)||"UNKNOWN"}(${I})`,s+=`: ${r}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const g={to:e.to?At(e.to):null,data:e.data||"0x"};return e.from&&(g.from=At(e.from)),Wt(s,"CALL_EXCEPTION",{action:t,data:n,reason:r,transaction:g,invocation:l,revert:c})}var Hr,wc;const Fm=class Fm{constructor(){q(this,Hr)}getDefaultValue(e){const n=e.map(s=>ce(this,Hr,wc).call(this,yn.from(s)));return new dp(n,"_").defaultValue()}encode(e,n){Fw(n.length,e.length,"types/values length mismatch");const a=e.map(l=>ce(this,Hr,wc).call(this,yn.from(l))),s=new dp(a,"_"),r=new ih;return s.encode(r,n),r.data}decode(e,n,a){const s=e.map(l=>ce(this,Hr,wc).call(this,yn.from(l)));return new dp(s,"_").decode(new PX(n,a,aB))}static _setDefaultMaxInflation(e){j(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),aB=e}static defaultAbiCoder(){return $0==null&&($0=new Fm),$0}static getBuiltinCallException(e,n,a){return oN(e,n,a,Fm.defaultAbiCoder())}};Hr=new WeakSet,wc=function(e){if(e.isArray())return new SE(ce(this,Hr,wc).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new dp(e.components.map(a=>ce(this,Hr,wc).call(this,a)),e.name);switch(e.baseType){case"address":return new GE(e.name);case"bool":return new wE(e.name);case"string":return new xE(e.name);case"bytes":return new kE(e.name);case"":return new RE(e.name)}let n=e.type.match(rN);if(n){let a=parseInt(n[2]||"256");return j(a!==0&&a<=256&&a%8===0,"invalid "+n[1]+" bit length","param",e),new EE(a/8,n[1]==="int",e.name)}if(n=e.type.match(iN),n){let a=parseInt(n[1]);return j(a!==0&&a<=32,"invalid bytes length","param",e),new VE(a,e.name)}j(!1,"invalid type","type",e.type)};let RI=Fm;class lN{constructor(e,n,a){te(this,"fragment");te(this,"name");te(this,"signature");te(this,"topic");te(this,"args");const s=e.name,r=e.format();Ue(this,{fragment:e,name:s,signature:r,topic:n,args:a})}}class cN{constructor(e,n,a,s){te(this,"fragment");te(this,"name");te(this,"args");te(this,"signature");te(this,"selector");te(this,"value");const r=e.name,l=e.format();Ue(this,{fragment:e,name:r,args:a,signature:l,selector:n,value:s})}}class gN{constructor(e,n,a){te(this,"fragment");te(this,"name");te(this,"args");te(this,"signature");te(this,"selector");const s=e.name,r=e.format();Ue(this,{fragment:e,name:s,args:a,signature:r,selector:n})}}class sB{constructor(e){te(this,"hash");te(this,"_isIndexed");Ue(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const iB={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},rB={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&iB[t.toString()]&&(e=iB[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Ks,Ms,Us,kn,ei,om,lm;const Uo=class Uo{constructor(e){q(this,ei);te(this,"fragments");te(this,"deploy");te(this,"fallback");te(this,"receive");q(this,Ks);q(this,Ms);q(this,Us);q(this,kn);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,v(this,Us,new Map),v(this,Ks,new Map),v(this,Ms,new Map);const a=[];for(const l of n)try{a.push(Wl.from(l))}catch(c){console.log(`[Warning] Invalid Fragment ${JSON.stringify(l)}:`,c.message)}Ue(this,{fragments:Object.freeze(a)});let s=null,r=!1;v(this,kn,this.getAbiCoder()),this.fragments.forEach((l,c)=>{let g;switch(l.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ue(this,{deploy:l});return;case"fallback":l.inputs.length===0?r=!0:(j(!s||l.payable!==s.payable,"conflicting fallback fragments",`fragments[${c}]`,l),s=l,r=s.payable);return;case"function":g=y(this,Us);break;case"event":g=y(this,Ms);break;case"error":g=y(this,Ks);break;default:return}const u=l.format();g.has(u)||g.set(u,l)}),this.deploy||Ue(this,{deploy:Ti.from("constructor()")}),Ue(this,{fallback:s,receive:r})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return RI.defaultAbiCoder()}getFunctionName(e){const n=ce(this,ei,om).call(this,e,null,!1);return j(n,"no matching function","key",e),n.name}hasFunction(e){return!!ce(this,ei,om).call(this,e,null,!1)}getFunction(e,n){return ce(this,ei,om).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(y(this,Us).keys());n.sort((a,s)=>a.localeCompare(s));for(let a=0;a<n.length;a++){const s=n[a];e(y(this,Us).get(s),a)}}getEventName(e){const n=ce(this,ei,lm).call(this,e,null,!1);return j(n,"no matching event","key",e),n.name}hasEvent(e){return!!ce(this,ei,lm).call(this,e,null,!1)}getEvent(e,n){return ce(this,ei,lm).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(y(this,Ms).keys());n.sort((a,s)=>a.localeCompare(s));for(let a=0;a<n.length;a++){const s=n[a];e(y(this,Ms).get(s),a)}}getError(e,n){if(St(e)){const s=e.toLowerCase();if(rB[s])return oa.from(rB[s].signature);for(const r of y(this,Ks).values())if(s===r.selector)return r;return null}if(e.indexOf("(")===-1){const s=[];for(const[r,l]of y(this,Ks))r.split("(")[0]===e&&s.push(l);if(s.length===0)return e==="Error"?oa.from("error Error(string)"):e==="Panic"?oa.from("error Panic(uint256)"):null;if(s.length>1){const r=s.map(l=>JSON.stringify(l.format())).join(", ");j(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return s[0]}if(e=oa.from(e).format(),e==="Error(string)")return oa.from("error Error(string)");if(e==="Panic(uint256)")return oa.from("error Panic(uint256)");const a=y(this,Ks).get(e);return a||null}forEachError(e){const n=Array.from(y(this,Ks).keys());n.sort((a,s)=>a.localeCompare(s));for(let a=0;a<n.length;a++){const s=n[a];e(y(this,Ks).get(s),a)}}_decodeParams(e,n){return y(this,kn).decode(e,n)}_encodeParams(e,n){return y(this,kn).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const a=this.getError(e);j(a,"unknown error","fragment",e),e=a}return j(Ht(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ht(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const a=this.getError(e);j(a,"unknown error","fragment",e),e=a}return Yt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const a=this.getFunction(e);j(a,"unknown function","fragment",e),e=a}return j(Ht(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Ht(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const a=this.getFunction(e);j(a,"unknown function","fragment",e),e=a}return Yt([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);j(r,"unknown function","fragment",e),e=r}let a="invalid length for result data";const s=Fn(n);if(s.length%32===0)try{return y(this,kn).decode(e.outputs,s)}catch{a="could not decode result data"}me(!1,a,"BAD_DATA",{value:we(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const a=$e(e,"data"),s=RI.getBuiltinCallException("call",n,a);if(s.message.startsWith("execution reverted (unknown custom error)")){const c=we(a.slice(0,4)),g=this.getError(c);if(g)try{const u=y(this,kn).decode(g.inputs,a.slice(4));s.revert={name:g.name,signature:g.format(),args:u},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const l=this.parseTransaction(n);return l&&(s.invocation={method:l.name,signature:l.signature,args:l.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const a=this.getFunction(e);j(a,"unknown function","fragment",e),e=a}return we(y(this,kn).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const r=this.getEvent(e);j(r,"unknown event","eventFragment",e),e=r}me(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const a=[];e.anonymous||a.push(e.topicHash);const s=(r,l)=>r.type==="string"?kl(l):r.type==="bytes"?jt(we(l)):(r.type==="bool"&&typeof l=="boolean"?l=l?"0x01":"0x00":r.type.match(/^u?int/)?l=no(l):r.type.match(/^bytes/)?l=VX(l,32):r.type==="address"&&y(this,kn).encode(["address"],[l]),Li(we(l),32));for(n.forEach((r,l)=>{const c=e.inputs[l];if(!c.indexed){j(r==null,"cannot filter non-indexed parameters; must be null","contract."+c.name,r);return}r==null?a.push(null):c.baseType==="array"||c.baseType==="tuple"?j(!1,"filtering with tuples or arrays not supported","contract."+c.name,r):Array.isArray(r)?a.push(r.map(g=>s(c,g))):a.push(s(c,r))});a.length&&a[a.length-1]===null;)a.pop();return a}encodeEventLog(e,n){if(typeof e=="string"){const l=this.getEvent(e);j(l,"unknown event","eventFragment",e),e=l}const a=[],s=[],r=[];return e.anonymous||a.push(e.topicHash),j(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((l,c)=>{const g=n[c];if(l.indexed)if(l.type==="string")a.push(kl(g));else if(l.type==="bytes")a.push(jt(g));else{if(l.baseType==="tuple"||l.baseType==="array")throw new Error("not implemented");a.push(y(this,kn).encode([l.type],[g]))}else s.push(l),r.push(g)}),{data:y(this,kn).encode(s,r),topics:a}}decodeEventLog(e,n,a){if(typeof e=="string"){const Z=this.getEvent(e);j(Z,"unknown event","eventFragment",e),e=Z}if(a!=null&&!e.anonymous){const Z=e.topicHash;j(St(a[0],32)&&a[0].toLowerCase()===Z,"fragment/topic mismatch","topics[0]",a[0]),a=a.slice(1)}const s=[],r=[],l=[];e.inputs.forEach((Z,S)=>{Z.indexed?Z.type==="string"||Z.type==="bytes"||Z.baseType==="tuple"||Z.baseType==="array"?(s.push(yn.from({type:"bytes32",name:Z.name})),l.push(!0)):(s.push(Z),l.push(!1)):(r.push(Z),l.push(!1))});const c=a!=null?y(this,kn).decode(s,Yt(a)):null,g=y(this,kn).decode(r,n,!0),u=[],I=[];let p=0,A=0;return e.inputs.forEach((Z,S)=>{let B=null;if(Z.indexed)if(c==null)B=new sB(null);else if(l[S])B=new sB(c[A++]);else try{B=c[A++]}catch(V){B=V}else try{B=g[p++]}catch(V){B=V}u.push(B),I.push(Z.name||null)}),Eg.fromItems(u,I)}parseTransaction(e){const n=$e(e.data,"tx.data"),a=Xe(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(we(n.slice(0,4)));if(!s)return null;const r=y(this,kn).decode(s.inputs,n.slice(4));return new cN(s,s.selector,r,a)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new lN(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=we(e),a=this.getError(Ht(n,0,4));if(!a)return null;const s=y(this,kn).decode(a.inputs,Ht(n,4));return new gN(a,a.selector,s)}static from(e){return e instanceof Uo?e:typeof e=="string"?new Uo(JSON.parse(e)):typeof e.formatJson=="function"?new Uo(e.formatJson()):typeof e.format=="function"?new Uo(e.format("json")):new Uo(e)}};Ks=new WeakMap,Ms=new WeakMap,Us=new WeakMap,kn=new WeakMap,ei=new WeakSet,om=function(e,n,a){if(St(e)){const r=e.toLowerCase();for(const l of y(this,Us).values())if(r===l.selector)return l;return null}if(e.indexOf("(")===-1){const r=[];for(const[l,c]of y(this,Us))l.split("(")[0]===e&&r.push(c);if(n){const l=n.length>0?n[n.length-1]:null;let c=n.length,g=!0;Rn.isTyped(l)&&l.type==="overrides"&&(g=!1,c--);for(let u=r.length-1;u>=0;u--){const I=r[u].inputs.length;I!==c&&(!g||I!==c-1)&&r.splice(u,1)}for(let u=r.length-1;u>=0;u--){const I=r[u].inputs;for(let p=0;p<n.length;p++)if(Rn.isTyped(n[p])){if(p>=I.length){if(n[p].type==="overrides")continue;r.splice(u,1);break}if(n[p].type!==I[p].baseType){r.splice(u,1);break}}}}if(r.length===1&&n&&n.length!==r[0].inputs.length){const l=n[n.length-1];(l==null||Array.isArray(l)||typeof l!="object")&&r.splice(0,1)}if(r.length===0)return null;if(r.length>1&&a){const l=r.map(c=>JSON.stringify(c.format())).join(", ");j(!1,`ambiguous function description (i.e. matches ${l})`,"key",e)}return r[0]}const s=y(this,Us).get(Os.from(e).format());return s||null},lm=function(e,n,a){if(St(e)){const r=e.toLowerCase();for(const l of y(this,Ms).values())if(r===l.topicHash)return l;return null}if(e.indexOf("(")===-1){const r=[];for(const[l,c]of y(this,Ms))l.split("(")[0]===e&&r.push(c);if(n){for(let l=r.length-1;l>=0;l--)r[l].inputs.length<n.length&&r.splice(l,1);for(let l=r.length-1;l>=0;l--){const c=r[l].inputs;for(let g=0;g<n.length;g++)if(Rn.isTyped(n[g])&&n[g].type!==c[g].baseType){r.splice(l,1);break}}}if(r.length===0)return null;if(r.length>1&&a){const l=r.map(c=>JSON.stringify(c.format())).join(", ");j(!1,`ambiguous event description (i.e. matches ${l})`,"key",e)}return r[0]}const s=y(this,Ms).get(Ps.from(e).format());return s||null};let Sm=Uo;const Ck=BigInt(0);function Hc(t){return t??null}function zt(t){return t==null?null:t.toString()}class oB{constructor(e,n,a){te(this,"gasPrice");te(this,"maxFeePerGas");te(this,"maxPriorityFeePerGas");Ue(this,{gasPrice:Hc(e),maxFeePerGas:Hc(n),maxPriorityFeePerGas:Hc(a)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:a}=this;return{_type:"FeeData",gasPrice:zt(e),maxFeePerGas:zt(n),maxPriorityFeePerGas:zt(a)}}}function wm(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=we(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=Xe(t[s],`request.${s}`));const a="type,nonce".split(/,/);for(const s of a)!(s in t)||t[s]==null||(e[s]=nt(t[s],`request.${s}`));return t.accessList&&(e.accessList=Tl(t.accessList)),t.authorizationList&&(e.authorizationList=t.authorizationList.slice()),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>k1(s)?we(s):Object.assign({},s))),e}var Ri;class dN{constructor(e,n){te(this,"provider");te(this,"number");te(this,"hash");te(this,"timestamp");te(this,"parentHash");te(this,"parentBeaconBlockRoot");te(this,"nonce");te(this,"difficulty");te(this,"gasLimit");te(this,"gasUsed");te(this,"stateRoot");te(this,"receiptsRoot");te(this,"blobGasUsed");te(this,"excessBlobGas");te(this,"miner");te(this,"prevRandao");te(this,"extraData");te(this,"baseFeePerGas");q(this,Ri);v(this,Ri,e.transactions.map(a=>typeof a!="string"?new vI(a,n):a)),Ue(this,{provider:n,hash:Hc(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Hc(e.prevRandao),extraData:e.extraData,baseFeePerGas:Hc(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return y(this,Ri).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=y(this,Ri).slice();return e.length===0?[]:(me(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:a,gasLimit:s,gasUsed:r,hash:l,miner:c,prevRandao:g,nonce:u,number:I,parentHash:p,parentBeaconBlockRoot:A,stateRoot:Z,receiptsRoot:S,timestamp:B,transactions:V}=this;return{_type:"Block",baseFeePerGas:zt(e),difficulty:zt(n),extraData:a,gasLimit:zt(s),gasUsed:zt(r),blobGasUsed:zt(this.blobGasUsed),excessBlobGas:zt(this.excessBlobGas),hash:l,miner:c,prevRandao:g,nonce:u,number:I,parentHash:p,timestamp:B,parentBeaconBlockRoot:A,stateRoot:Z,receiptsRoot:S,transactions:V}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return y(this,Ri).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=y(this,Ri)[e];else{const a=e.toLowerCase();for(const s of y(this,Ri))if(typeof s=="string"){if(s!==a)continue;n=s;break}else{if(s.hash!==a)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const a of n)if(a.hash===e)return a;j(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return IN(this)}}Ri=new WeakMap;class Ru{constructor(e,n){te(this,"provider");te(this,"transactionHash");te(this,"blockHash");te(this,"blockNumber");te(this,"removed");te(this,"address");te(this,"data");te(this,"topics");te(this,"index");te(this,"transactionIndex");this.provider=n;const a=Object.freeze(e.topics.slice());Ue(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:a,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:a,data:s,index:r,removed:l,topics:c,transactionHash:g,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:a,data:s,index:r,removed:l,topics:c,transactionHash:g,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return me(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return me(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return me(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return uN(this)}}var du;class pk{constructor(e,n){te(this,"provider");te(this,"to");te(this,"from");te(this,"contractAddress");te(this,"hash");te(this,"index");te(this,"blockHash");te(this,"blockNumber");te(this,"logsBloom");te(this,"gasUsed");te(this,"blobGasUsed");te(this,"cumulativeGasUsed");te(this,"gasPrice");te(this,"blobGasPrice");te(this,"type");te(this,"status");te(this,"root");q(this,du);v(this,du,Object.freeze(e.logs.map(s=>new Ru(s,n))));let a=Ck;e.effectiveGasPrice!=null?a=e.effectiveGasPrice:e.gasPrice!=null&&(a=e.gasPrice),Ue(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:a,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return y(this,du)}toJSON(){const{to:e,from:n,contractAddress:a,hash:s,index:r,blockHash:l,blockNumber:c,logsBloom:g,logs:u,status:I,root:p}=this;return{_type:"TransactionReceipt",blockHash:l,blockNumber:c,contractAddress:a,cumulativeGasUsed:zt(this.cumulativeGasUsed),from:n,gasPrice:zt(this.gasPrice),blobGasUsed:zt(this.blobGasUsed),blobGasPrice:zt(this.blobGasPrice),gasUsed:zt(this.gasUsed),hash:s,index:r,logs:u,logsBloom:g,root:p,status:I,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return Ak(this)}reorderedEvent(e){return me(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),mk(this,e)}}du=new WeakMap;var Yr;const p2=class p2{constructor(e,n){te(this,"provider");te(this,"blockNumber");te(this,"blockHash");te(this,"index");te(this,"hash");te(this,"type");te(this,"to");te(this,"from");te(this,"nonce");te(this,"gasLimit");te(this,"gasPrice");te(this,"maxPriorityFeePerGas");te(this,"maxFeePerGas");te(this,"maxFeePerBlobGas");te(this,"data");te(this,"value");te(this,"chainId");te(this,"signature");te(this,"accessList");te(this,"blobVersionedHashes");te(this,"authorizationList");q(this,Yr);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,this.authorizationList=e.authorizationList!=null?e.authorizationList:null,v(this,Yr,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:a,hash:s,type:r,to:l,from:c,nonce:g,data:u,signature:I,accessList:p,blobVersionedHashes:A}=this;return{_type:"TransactionResponse",accessList:p,blockNumber:e,blockHash:n,blobVersionedHashes:A,chainId:zt(this.chainId),data:u,from:c,gasLimit:zt(this.gasLimit),gasPrice:zt(this.gasPrice),hash:s,maxFeePerGas:zt(this.maxFeePerGas),maxPriorityFeePerGas:zt(this.maxPriorityFeePerGas),maxFeePerBlobGas:zt(this.maxFeePerBlobGas),nonce:g,signature:I,to:l,index:a,type:r,value:zt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const a=await this.getTransaction();a&&(e=a.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:a}=await Yn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:a-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const a=e??1,s=n??0;let r=y(this,Yr),l=-1,c=r===-1;const g=async()=>{if(c)return null;const{blockNumber:A,nonce:Z}=await Yn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(Z<this.nonce){r=A;return}if(c)return null;const S=await this.getTransaction();if(!(S&&S.blockNumber!=null))for(l===-1&&(l=r-3,l<y(this,Yr)&&(l=y(this,Yr)));l<=A;){if(c)return null;const B=await this.provider.getBlock(l,!0);if(B==null)return;for(const V of B)if(V===this.hash)return;for(let V=0;V<B.length;V++){const W=await B.getTransaction(V);if(W.from===this.from&&W.nonce===this.nonce){if(c)return null;const Y=await this.provider.getTransactionReceipt(W.hash);if(Y==null||A-Y.blockNumber+1<a)return;let R="replaced";W.data===this.data&&W.to===this.to&&W.value===this.value?R="repriced":W.data==="0x"&&W.from===W.to&&W.value===Ck&&(R="cancelled"),me(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:R==="replaced"||R==="cancelled",reason:R,replacement:W.replaceableTransaction(r),hash:W.hash,receipt:Y})}}l++}},u=A=>{if(A==null||A.status!==0)return A;me(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:A.to,from:A.from,data:""},receipt:A})},I=await this.provider.getTransactionReceipt(this.hash);if(a===0)return u(I);if(I){if(a===1||await I.confirmations()>=a)return u(I)}else if(await g(),a===0)return null;return await new Promise((A,Z)=>{const S=[],B=()=>{S.forEach(W=>W())};if(S.push(()=>{c=!0}),s>0){const W=setTimeout(()=>{B(),Z(Wt("wait for transaction timeout","TIMEOUT"))},s);S.push(()=>{clearTimeout(W)})}const V=async W=>{if(await W.confirmations()>=a){B();try{A(u(W))}catch(Y){Z(Y)}}};if(S.push(()=>{this.provider.off(this.hash,V)}),this.provider.on(this.hash,V),r>=0){const W=async()=>{try{await g()}catch(Y){if(mn(Y,"TRANSACTION_REPLACED")){B(),Z(Y);return}}c||this.provider.once("block",W)};S.push(()=>{this.provider.off("block",W)}),this.provider.once("block",W)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return me(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),Ak(this)}reorderedEvent(e){return me(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),me(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),mk(this,e)}replaceableTransaction(e){j(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new p2(this,this.provider);return v(n,Yr,e),n}};Yr=new WeakMap;let vI=p2;function IN(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function mk(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function Ak(t){return{orphan:"drop-transaction",tx:t}}function uN(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class F1 extends Ru{constructor(n,a,s){super(n,n.provider);te(this,"interface");te(this,"fragment");te(this,"args");const r=a.decodeEventLog(s,n.data,n.topics);Ue(this,{args:r,fragment:s,interface:a})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class yk extends Ru{constructor(n,a){super(n,n.provider);te(this,"error");Ue(this,{error:a})}}var pg;class CN extends pk{constructor(n,a,s){super(s,a);q(this,pg);v(this,pg,n)}get logs(){return super.logs.map(n=>{const a=n.topics.length?y(this,pg).getEvent(n.topics[0]):null;if(a)try{return new F1(n,y(this,pg),a)}catch(s){return new yk(n,s)}return n})}}pg=new WeakMap;var Iu;class K1 extends vI{constructor(n,a,s){super(s,a);q(this,Iu);v(this,Iu,n)}async wait(n,a){const s=await super.wait(n,a);return s==null?null:new CN(y(this,Iu),this.provider,s)}}Iu=new WeakMap;class bk extends Dw{constructor(n,a,s,r){super(n,a,s);te(this,"log");Ue(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class pN extends bk{constructor(e,n,a,s,r){super(e,n,a,new F1(r,e.interface,s));const l=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Ue(this,{args:l,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const lB=BigInt(0);function hk(t){return t&&typeof t.call=="function"}function fk(t){return t&&typeof t.estimateGas=="function"}function oA(t){return t&&typeof t.resolveName=="function"}function Zk(t){return t&&typeof t.sendTransaction=="function"}function Gk(t){if(t!=null){if(oA(t))return t;if(t.provider)return t.provider}}var uu;class mN{constructor(e,n,a){q(this,uu);te(this,"fragment");if(Ue(this,{fragment:n}),n.inputs.length<a.length)throw new Error("too many arguments");const s=Rl(e.runner,"resolveName"),r=oA(s)?s:null;v(this,uu,async function(){const l=await Promise.all(n.inputs.map((c,g)=>a[g]==null?null:c.walkAsync(a[g],(I,p)=>I==="address"?Array.isArray(p)?Promise.all(p.map(A=>Mn(A,r))):Mn(p,r):p)));return e.interface.encodeFilterTopics(n,l)}())}getTopicFilter(){return y(this,uu)}}uu=new WeakMap;function Rl(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Qo(t){return t==null?null:t.provider||null}async function Bk(t,e){const n=Rn.dereference(t,"overrides");j(typeof n=="object","invalid overrides parameter","overrides",t);const a=wm(n);return j(a.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",a.to),j(a.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",a.data),a.from&&(a.from=a.from),a}async function AN(t,e,n){const a=Rl(t,"resolveName"),s=oA(a)?a:null;return await Promise.all(e.map((r,l)=>r.walkAsync(n[l],(c,g)=>(g=Rn.dereference(g,c),c==="address"?Mn(g,s):g))))}function yN(t){const e=async function(l){const c=await Bk(l,["data"]);c.to=await t.getAddress(),c.from&&(c.from=await Mn(c.from,Gk(t.runner)));const g=t.interface,u=Xe(c.value||lB,"overrides.value")===lB,I=(c.data||"0x")==="0x";g.fallback&&!g.fallback.payable&&g.receive&&!I&&!u&&j(!1,"cannot send data to receive or send value to non-payable fallback","overrides",l),j(g.fallback||I,"cannot send data to receive-only contract","overrides.data",c.data);const p=g.receive||g.fallback&&g.fallback.payable;return j(p||u,"cannot send value to non-payable fallback","overrides.value",c.value),j(g.fallback||I,"cannot send data to receive-only contract","overrides.data",c.data),c},n=async function(l){const c=Rl(t.runner,"call");me(hk(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const g=await e(l);try{return await c.call(g)}catch(u){throw w1(u)&&u.data?t.interface.makeError(u.data,g):u}},a=async function(l){const c=t.runner;me(Zk(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const g=await c.sendTransaction(await e(l)),u=Qo(t.runner);return new K1(t.interface,u,g)},s=async function(l){const c=Rl(t.runner,"estimateGas");return me(fk(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await e(l))},r=async l=>await a(l);return Ue(r,{_contract:t,estimateGas:s,populateTransaction:e,send:a,staticCall:n}),r}function bN(t,e){const n=function(...u){const I=t.interface.getFunction(e,u);return me(I,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),I},a=async function(...u){const I=n(...u);let p={};if(I.inputs.length+1===u.length&&(p=await Bk(u.pop()),p.from&&(p.from=await Mn(p.from,Gk(t.runner)))),I.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const A=await AN(t.runner,I.inputs,u);return Object.assign({},p,await Yn({to:t.getAddress(),data:t.interface.encodeFunctionData(I,A)}))},s=async function(...u){const I=await c(...u);return I.length===1?I[0]:I},r=async function(...u){const I=t.runner;me(Zk(I),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const p=await I.sendTransaction(await a(...u)),A=Qo(t.runner);return new K1(t.interface,A,p)},l=async function(...u){const I=Rl(t.runner,"estimateGas");return me(fk(I),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await I.estimateGas(await a(...u))},c=async function(...u){const I=Rl(t.runner,"call");me(hk(I),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const p=await a(...u);let A="0x";try{A=await I.call(p)}catch(S){throw w1(S)&&S.data?t.interface.makeError(S.data,p):S}const Z=n(...u);return t.interface.decodeFunctionResult(Z,A)},g=async(...u)=>n(...u).constant?await s(...u):await r(...u);return Ue(g,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:l,populateTransaction:a,send:r,staticCall:s,staticCallResult:c}),Object.defineProperty(g,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return me(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),g}function hN(t,e){const n=function(...s){const r=t.interface.getEvent(e,s);return me(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),r},a=function(...s){return new mN(t,n(...s),s)};return Ue(a,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return me(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),a}const km=Symbol.for("_ethersInternal_contract"),Sk=new WeakMap;function fN(t,e){Sk.set(t[km],e)}function Ba(t){return Sk.get(t[km])}function ZN(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function M1(t,e){let n,a=null;if(Array.isArray(e)){const r=function(l){if(St(l,32))return l;const c=t.interface.getEvent(l);return j(c,"unknown fragment","name",l),c.topicHash};n=e.map(l=>l==null?null:Array.isArray(l)?l.map(r):r(l))}else e==="*"?n=[null]:typeof e=="string"?St(e,32)?n=[e]:(a=t.interface.getEvent(e),j(a,"unknown fragment","event",e),n=[a.topicHash]):ZN(e)?n=await e.getTopicFilter():"fragment"in e?(a=e.fragment,n=[a.topicHash]):j(!1,"unknown event name","event",e);n=n.map(r=>{if(r==null)return null;if(Array.isArray(r)){const l=Array.from(new Set(r.map(c=>c.toLowerCase())).values());return l.length===1?l[0]:(l.sort(),l)}return r.toLowerCase()});const s=n.map(r=>r==null?"null":Array.isArray(r)?r.join("|"):r).join("&");return{fragment:a,tag:s,topics:n}}async function uI(t,e){const{subs:n}=Ba(t);return n.get((await M1(t,e)).tag)||null}async function cB(t,e,n){const a=Qo(t.runner);me(a,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:r,topics:l}=await M1(t,n),{addr:c,subs:g}=Ba(t);let u=g.get(r);if(!u){const p={address:c||t,topics:l},A=V=>{let W=s;if(W==null)try{W=t.interface.getEvent(V.topics[0])}catch{}if(W){const Y=W,R=s?t.interface.decodeEventLog(s,V.data,V.topics):[];hh(t,n,R,x=>new pN(t,x,n,Y,V))}else hh(t,n,[],Y=>new bk(t,Y,n,V))};let Z=[];u={tag:r,listeners:[],start:()=>{Z.length||Z.push(a.on(p,A))},stop:async()=>{if(Z.length==0)return;let V=Z;Z=[],await Promise.all(V),a.off(p,A)}},g.set(r,u)}return u}let bh=Promise.resolve();async function GN(t,e,n,a){await bh;const s=await uI(t,e);if(!s)return!1;const r=s.listeners.length;return s.listeners=s.listeners.filter(({listener:l,once:c})=>{const g=Array.from(n);a&&g.push(a(c?null:l));try{l.call(t,...g)}catch{}return!c}),s.listeners.length===0&&(s.stop(),Ba(t).subs.delete(s.tag)),r>0}async function hh(t,e,n,a){try{await bh}catch{}const s=GN(t,e,n,a);return bh=s,await s}const up=["then"];var Rw,eo;let BN=(Rw=km,eo=class{constructor(e,n,a,s){te(this,"target");te(this,"interface");te(this,"runner");te(this,"filters");te(this,Rw);te(this,"fallback");j(typeof e=="string"||R3(e),"invalid value for Contract target","target",e),a==null&&(a=null);const r=Sm.from(n);Ue(this,{target:e,runner:a,interface:r}),Object.defineProperty(this,km,{value:{}});let l,c=null,g=null;if(s){const p=Qo(a);g=new K1(this.interface,p,s)}let u=new Map;if(typeof e=="string")if(St(e))c=e,l=Promise.resolve(e);else{const p=Rl(a,"resolveName");if(!oA(p))throw Wt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});l=p.resolveName(e).then(A=>{if(A==null)throw Wt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ba(this).addr=A,A})}else l=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return Ba(this).addr=p,p});fN(this,{addrPromise:l,addr:c,deployTx:g,subs:u});const I=new Proxy({},{get:(p,A,Z)=>{if(typeof A=="symbol"||up.indexOf(A)>=0)return Reflect.get(p,A,Z);try{return this.getEvent(A)}catch(S){if(!mn(S,"INVALID_ARGUMENT")||S.argument!=="key")throw S}},has:(p,A)=>up.indexOf(A)>=0?Reflect.has(p,A):Reflect.has(p,A)||this.interface.hasEvent(String(A))});return Ue(this,{filters:I}),Ue(this,{fallback:r.receive||r.fallback?yN(this):null}),new Proxy(this,{get:(p,A,Z)=>{if(typeof A=="symbol"||A in p||up.indexOf(A)>=0)return Reflect.get(p,A,Z);try{return p.getFunction(A)}catch(S){if(!mn(S,"INVALID_ARGUMENT")||S.argument!=="key")throw S}},has:(p,A)=>typeof A=="symbol"||A in p||up.indexOf(A)>=0?Reflect.has(p,A):p.interface.hasFunction(A)})}connect(e){return new eo(this.target,this.interface,e)}attach(e){return new eo(e,this.interface,this.runner)}async getAddress(){return await Ba(this).addrPromise}async getDeployedCode(){const e=Qo(this.runner);me(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const a=Qo(this.runner);return me(a!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,r)=>{const l=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);a.once("block",l)}catch(c){r(c)}};l()})}deploymentTransaction(){return Ba(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),bN(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),hN(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,a){n==null&&(n=0),a==null&&(a="latest");const{addr:s,addrPromise:r}=Ba(this),l=s||await r,{fragment:c,topics:g}=await M1(this,e),u={address:l,topics:g,fromBlock:n,toBlock:a},I=Qo(this.runner);return me(I,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await I.getLogs(u)).map(p=>{let A=c;if(A==null)try{A=this.interface.getEvent(p.topics[0])}catch{}if(A)try{return new F1(p,this.interface,A)}catch(Z){return new yk(p,Z)}return new Ru(p,I)})}async on(e,n){const a=await cB(this,"on",e);return a.listeners.push({listener:n,once:!1}),a.start(),this}async once(e,n){const a=await cB(this,"once",e);return a.listeners.push({listener:n,once:!0}),a.start(),this}async emit(e,...n){return await hh(this,e,n,null)}async listenerCount(e){if(e){const s=await uI(this,e);return s?s.listeners.length:0}const{subs:n}=Ba(this);let a=0;for(const{listeners:s}of n.values())a+=s.length;return a}async listeners(e){if(e){const s=await uI(this,e);return s?s.listeners.map(({listener:r})=>r):[]}const{subs:n}=Ba(this);let a=[];for(const{listeners:s}of n.values())a=a.concat(s.map(({listener:r})=>r));return a}async off(e,n){const a=await uI(this,e);if(!a)return this;if(n){const s=a.listeners.map(({listener:r})=>r).indexOf(n);s>=0&&a.listeners.splice(s,1)}return(n==null||a.listeners.length===0)&&(a.stop(),Ba(this).subs.delete(a.tag)),this}async removeAllListeners(e){if(e){const n=await uI(this,e);if(!n)return this;n.stop(),Ba(this).subs.delete(n.tag)}else{const{subs:n}=Ba(this);for(const{tag:a,stop:s}of n.values())s(),n.delete(a)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends eo{constructor(s,r=null){super(s,e,r)}}return n}static from(e,n,a){return a==null&&(a=null),new this(e,n,a)}},eo);function SN(){return BN}class Fi extends SN(){}function eb(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):j(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class wN{constructor(e){te(this,"name");Ue(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const wk=new RegExp("^(ipfs)://(.*)$","i"),gB=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),wk,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var Tr,cl,Fr,kc,Km,kk;const Jc=class Jc{constructor(e,n,a){q(this,Fr);te(this,"provider");te(this,"address");te(this,"name");q(this,Tr);q(this,cl);Ue(this,{provider:e,address:n,name:a}),v(this,Tr,null),v(this,cl,new Fi(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return y(this,Tr)==null&&v(this,Tr,(async()=>{try{return await y(this,cl).supportsInterface("0x9061b923")}catch(e){if(mn(e,"CALL_EXCEPTION"))return!1;throw v(this,Tr,null),e}})()),await y(this,Tr)}async getAddress(e){if(e==null&&(e=60),e===60)try{const r=await ce(this,Fr,kc).call(this,"addr(bytes32)");return r==null||r===GI?null:r}catch(r){if(mn(r,"CALL_EXCEPTION"))return null;throw r}if(e>=0&&e<2147483648){let r=e+2147483648;const l=await ce(this,Fr,kc).call(this,"addr(bytes32,uint)",[r]);if(St(l,20))return At(l)}let n=null;for(const r of this.provider.plugins)if(r instanceof wN&&r.supportsCoinType(e)){n=r;break}if(n==null)return null;const a=await ce(this,Fr,kc).call(this,"addr(bytes32,uint)",[e]);if(a==null||a==="0x")return null;const s=await n.decodeAddress(e,a);if(s!=null)return s;me(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:a}})}async getText(e){const n=await ce(this,Fr,kc).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await ce(this,Fr,kc).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",r=parseInt(n[4],16);if(n[5].length===r*2)return`${s}://${vX("0x"+n[2])}`}const a=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(a&&a[1].length===64)return`bzz://${a[1]}`;me(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let a=0;a<gB.length;a++){const s=n.match(gB[a]);if(s==null)continue;const r=s[1].toLowerCase();switch(r){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const l=eb(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:l}),{linkage:e,url:l}}case"erc721":case"erc1155":{const l=r==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:r,value:n});const c=await this.getAddress();if(c==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const g=(s[2]||"").split("/");if(g.length!==2)return e.push({type:`!${r}caip`,value:s[2]||""}),{url:null,linkage:e};const u=g[1],I=new Fi(g[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(r==="erc721"){const B=await I.ownerOf(u);if(c!==B)return e.push({type:"!owner",value:B}),{url:null,linkage:e};e.push({type:"owner",value:B})}else if(r==="erc1155"){const B=await I.balanceOf(c,u);if(!B)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:B.toString()})}let p=await I[l](u);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),r==="erc1155"&&(p=p.replace("{id}",no(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=eb(p)),e.push({type:"metadata-url",value:p});let A={};const Z=await new Qi(p).send();Z.assertOk();try{A=Z.bodyJson}catch{try{e.push({type:"!metadata",value:Z.bodyText})}catch{const W=Z.body;return W&&e.push({type:"!metadata",value:we(W)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!A)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(A)});let S=A.image;if(typeof S!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!S.match(/^(https:\/\/|data:)/i)){if(S.match(wk)==null)return e.push({type:"!imageUrl-ipfs",value:S}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:S}),S=eb(S)}return e.push({type:"url",value:S}),{linkage:e,url:S}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),a=n.getPlugin("org.ethers.plugins.network.Ens");return me(a,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),a.address}static async fromName(e,n){var s;let a=n;for(;;){if(a===""||a==="."||n!=="eth"&&a==="eth")return null;const r=await ce(s=Jc,Km,kk).call(s,e,a);if(r!=null){const l=new Jc(e,r,n);return a!==n&&!await l.supportsWildcard()?null:l}a=a.split(".").slice(1).join(".")}}};Tr=new WeakMap,cl=new WeakMap,Fr=new WeakSet,kc=async function(e,n){n=(n||[]).slice();const a=y(this,cl).interface;n.unshift(Ah(this.name));let s=null;await this.supportsWildcard()&&(s=a.getFunction(e),me(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[Fx(this.name,255),a.encodeFunctionData(s,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const r=await y(this,cl)[e](...n);return s?a.decodeFunctionResult(s,r)[0]:r}catch(r){if(!mn(r,"CALL_EXCEPTION"))throw r}return null},Km=new WeakSet,kk=async function(e,n){const a=await Jc.getEnsAddress(e);try{const r=await new Fi(a,["function resolver(bytes32) view returns (address)"],e).resolver(Ah(n),{enableCcipRead:!0});return r===GI?null:r}catch(s){throw s}return null},q(Jc,Km);let Vm=Jc;const dB=BigInt(0);function st(t,e){return function(n){return n==null?e:t(n)}}function XI(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(a=>t(a))}}function vu(t,e){return n=>{const a={};for(const s in t){let r=s;if(e&&s in e&&!(r in n)){for(const l of e[s])if(l in n){r=l;break}}try{const l=t[s](n[r]);l!==void 0&&(a[s]=l)}catch(l){const c=l instanceof Error?l.message:"not-an-error";me(!1,`invalid value for value.${s} (${c})`,"BAD_DATA",{value:n})}}return a}}function kN(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}j(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function Kg(t){return j(St(t,!0),"invalid data","value",t),t}function pn(t){return j(St(t,32),"invalid hash","value",t),t}const VN=vu({address:At,blockHash:pn,blockNumber:nt,data:Kg,index:nt,removed:st(kN,!1),topics:XI(pn),transactionHash:pn,transactionIndex:nt},{index:["logIndex"]});function WN(t){return VN(t)}const RN=vu({hash:st(pn),parentHash:pn,parentBeaconBlockRoot:st(pn,null),number:nt,timestamp:nt,nonce:st(Kg),difficulty:Xe,gasLimit:Xe,gasUsed:Xe,stateRoot:st(pn,null),receiptsRoot:st(pn,null),blobGasUsed:st(Xe,null),excessBlobGas:st(Xe,null),miner:st(At),prevRandao:st(pn,null),extraData:Kg,baseFeePerGas:st(Xe)},{prevRandao:["mixHash"]});function vN(t){const e=RN(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:Vk(n)),e}const XN=vu({transactionIndex:nt,blockNumber:nt,transactionHash:pn,address:At,topics:XI(pn),data:Kg,index:nt,blockHash:pn},{index:["logIndex"]});function JN(t){return XN(t)}const EN=vu({to:st(At,null),from:st(At,null),contractAddress:st(At,null),index:nt,root:st(we),gasUsed:Xe,blobGasUsed:st(Xe,null),logsBloom:st(Kg),blockHash:pn,hash:pn,logs:XI(JN),blockNumber:nt,cumulativeGasUsed:Xe,effectiveGasPrice:st(Xe),blobGasPrice:st(Xe,null),status:st(nt),type:st(nt,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function xN(t){return EN(t)}function Vk(t){t.to&&Xe(t.to)===dB&&(t.to="0x0000000000000000000000000000000000000000");const e=vu({hash:pn,index:st(nt,void 0),type:n=>n==="0x"||n==null?0:nt(n),accessList:st(Tl,null),blobVersionedHashes:st(XI(pn,!0),null),authorizationList:st(XI(n=>{let a;if(n.signature)a=n.signature;else{let s=n.yParity;s==="0x1b"?s=0:s==="0x1c"&&(s=1),a=Object.assign({},n,{yParity:s})}return{address:At(n.address),chainId:Xe(n.chainId),nonce:Xe(n.nonce),signature:ca.from(a)}},!1),null),blockHash:st(pn,null),blockNumber:st(nt,null),transactionIndex:st(nt,null),from:At,gasPrice:st(Xe),maxPriorityFeePerGas:st(Xe),maxFeePerGas:st(Xe),maxFeePerBlobGas:st(Xe,null),gasLimit:Xe,to:st(At,null),value:Xe,nonce:nt,data:Kg,creates:st(At,null),chainId:st(Xe,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=ZE(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=ca.from(t.signature):e.signature=ca.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&Xe(e.blockHash)===dB&&(e.blockHash=null),e}const NN="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class Xu{constructor(e){te(this,"name");Ue(this,{name:e})}clone(){return new Xu(this.name)}}class lA extends Xu{constructor(n,a){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);te(this,"effectiveBlock");te(this,"txBase");te(this,"txCreate");te(this,"txDataZero");te(this,"txDataNonzero");te(this,"txAccessListStorageKey");te(this,"txAccessListAddress");const s={effectiveBlock:n};function r(l,c){let g=(a||{})[l];g==null&&(g=c),j(typeof g=="number",`invalud value for ${l}`,"costs",a),s[l]=g}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),Ue(this,s)}clone(){return new lA(this.effectiveBlock,this)}}class cA extends Xu{constructor(n,a){super("org.ethers.plugins.network.Ens");te(this,"address");te(this,"targetNetwork");Ue(this,{address:n||NN,targetNetwork:a??1})}clone(){return new cA(this.address,this.targetNetwork)}}var Cu,pu;class HN extends Xu{constructor(n,a){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");q(this,Cu);q(this,pu);v(this,Cu,n),v(this,pu,a)}get url(){return y(this,Cu)}get processFunc(){return y(this,pu)}clone(){return this}}Cu=new WeakMap,pu=new WeakMap;const tb=new Map;var mg,Ag,Kr;const Ec=class Ec{constructor(e,n){q(this,mg);q(this,Ag);q(this,Kr);v(this,mg,e),v(this,Ag,Xe(n)),v(this,Kr,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return y(this,mg)}set name(e){v(this,mg,e)}get chainId(){return y(this,Ag)}set chainId(e){v(this,Ag,Xe(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===Xe(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===Xe(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===Xe(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(y(this,Kr).values())}attachPlugin(e){if(y(this,Kr).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return y(this,Kr).set(e.name,e.clone()),this}getPlugin(e){return y(this,Kr).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new Ec(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new lA;let a=n.txBase;if(e.to==null&&(a+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?a+=n.txDataZero:a+=n.txDataNonzero;if(e.accessList){const s=Tl(e.accessList);for(const r in s)a+=n.txAccessListAddress+n.txAccessListStorageKey*s[r].storageKeys.length}return a}static from(e){if(YN(),e==null)return Ec.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=tb.get(e);if(n)return n();if(typeof e=="bigint")return new Ec("unknown",e);j(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){j(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new Ec(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new cA(e.ensAddress,e.ensNetwork)),n}j(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const a=tb.get(e);a&&j(!1,`conflicting network for ${JSON.stringify(a.name)}`,"nameOrChainId",e),tb.set(e,n)}};mg=new WeakMap,Ag=new WeakMap,Kr=new WeakMap;let js=Ec;function IB(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const a=n.split(".");if(a.length===1&&a.push(""),a.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;a[1].length<e;)a[1]+="0";if(a[1].length>9){let s=BigInt(a[1].substring(0,9));a[1].substring(9).match(/^0+$/)||s++,a[1]=s.toString()}return BigInt(a[0]+a[1])}function uB(t){return new HN(t,async(e,n,a)=>{a.setHeader("User-Agent","ethers");let s;try{const[r,l]=await Promise.all([a.send(),e()]);s=r;const c=s.bodyJson.standard;return{gasPrice:l.gasPrice,maxFeePerGas:IB(c.maxFee,9),maxPriorityFeePerGas:IB(c.maxPriorityFee,9)}}catch(r){me(!1,`error encountered with polygon gas station (${JSON.stringify(a.url)})`,"SERVER_ERROR",{request:a,response:s,error:r})}})}let CB=!1;function YN(){if(CB)return;CB=!0;function t(e,n,a){const s=function(){const r=new js(e,n);return a.ensNetwork!=null&&r.attachPlugin(new cA(null,a.ensNetwork)),r.attachPlugin(new lA),(a.plugins||[]).forEach(l=>{r.attachPlugin(l)}),r};js.register(e,s),js.register(n,s),a.altNames&&a.altNames.forEach(r=>{js.register(r,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[uB("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[uB("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function fh(t){return JSON.parse(JSON.stringify(t))}var vi,La,Mr,Ds,yg,cm;class TN{constructor(e){q(this,yg);q(this,vi);q(this,La);q(this,Mr);q(this,Ds);v(this,vi,e),v(this,La,null),v(this,Mr,4e3),v(this,Ds,-2)}get pollingInterval(){return y(this,Mr)}set pollingInterval(e){v(this,Mr,e)}start(){y(this,La)||(v(this,La,y(this,vi)._setTimeout(ce(this,yg,cm).bind(this),y(this,Mr))),ce(this,yg,cm).call(this))}stop(){y(this,La)&&(y(this,vi)._clearTimeout(y(this,La)),v(this,La,null))}pause(e){this.stop(),e&&v(this,Ds,-2)}resume(){this.start()}}vi=new WeakMap,La=new WeakMap,Mr=new WeakMap,Ds=new WeakMap,yg=new WeakSet,cm=async function(){try{const e=await y(this,vi).getBlockNumber();if(y(this,Ds)===-2){v(this,Ds,e);return}if(e!==y(this,Ds)){for(let n=y(this,Ds)+1;n<=e;n++){if(y(this,La)==null)return;await y(this,vi).emit("block",n)}v(this,Ds,e)}}catch{}y(this,La)!=null&&v(this,La,y(this,vi)._setTimeout(ce(this,yg,cm).bind(this),y(this,Mr)))};var gl,dl,Ur;class U1{constructor(e){q(this,gl);q(this,dl);q(this,Ur);v(this,gl,e),v(this,Ur,!1),v(this,dl,n=>{this._poll(n,y(this,gl))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){y(this,Ur)||(v(this,Ur,!0),y(this,dl).call(this,-2),y(this,gl).on("block",y(this,dl)))}stop(){y(this,Ur)&&(v(this,Ur,!1),y(this,gl).off("block",y(this,dl)))}pause(e){this.stop()}resume(){this.start()}}gl=new WeakMap,dl=new WeakMap,Ur=new WeakMap;var bg,Xi;class FN extends U1{constructor(n,a){super(n);q(this,bg);q(this,Xi);v(this,bg,a),v(this,Xi,-2)}pause(n){n&&v(this,Xi,-2),super.pause(n)}async _poll(n,a){const s=await a.getBlock(y(this,bg));s!=null&&(y(this,Xi)===-2?v(this,Xi,s.number):s.number>y(this,Xi)&&(a.emit(y(this,bg),s.number),v(this,Xi,s.number)))}}bg=new WeakMap,Xi=new WeakMap;var Mm;class KN extends U1{constructor(n,a){super(n);q(this,Mm);v(this,Mm,fh(a))}async _poll(n,a){throw new Error("@TODO")}}Mm=new WeakMap;var hg;class MN extends U1{constructor(n,a){super(n);q(this,hg);v(this,hg,a)}async _poll(n,a){const s=await a.getTransactionReceipt(y(this,hg));s&&a.emit(y(this,hg),s)}}hg=new WeakMap;var Ji,fg,Zg,Dr,Qa,Um,Wk;class D1{constructor(e,n){q(this,Um);q(this,Ji);q(this,fg);q(this,Zg);q(this,Dr);q(this,Qa);v(this,Ji,e),v(this,fg,fh(n)),v(this,Zg,ce(this,Um,Wk).bind(this)),v(this,Dr,!1),v(this,Qa,-2)}start(){y(this,Dr)||(v(this,Dr,!0),y(this,Qa)===-2&&y(this,Ji).getBlockNumber().then(e=>{v(this,Qa,e)}),y(this,Ji).on("block",y(this,Zg)))}stop(){y(this,Dr)&&(v(this,Dr,!1),y(this,Ji).off("block",y(this,Zg)))}pause(e){this.stop(),e&&v(this,Qa,-2)}resume(){this.start()}}Ji=new WeakMap,fg=new WeakMap,Zg=new WeakMap,Dr=new WeakMap,Qa=new WeakMap,Um=new WeakSet,Wk=async function(e){if(y(this,Qa)===-2)return;const n=fh(y(this,fg));n.fromBlock=y(this,Qa)+1,n.toBlock=e;const a=await y(this,Ji).getLogs(n);if(a.length===0){y(this,Qa)<e-60&&v(this,Qa,e-60);return}for(const s of a)y(this,Ji).emit(y(this,fg),s),v(this,Qa,s.blockNumber)};const UN=BigInt(2),DN=10;function Cp(t){return t&&typeof t.then=="function"}function gm(t,e){return t+":"+JSON.stringify(e,(n,a)=>{if(a==null)return"null";if(typeof a=="bigint")return`bigint:${a.toString()}`;if(typeof a=="string")return a.toLowerCase();if(typeof a=="object"&&!Array.isArray(a)){const s=Object.keys(a);return s.sort(),s.reduce((r,l)=>(r[l]=a[l],r),{})}return a})}class Rk{constructor(e){te(this,"name");Ue(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function zN(t){return JSON.parse(JSON.stringify(t))}function Zh(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function nb(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(St(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:gm("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:gm("orphan",n),filter:zN(n)}}if(t.address||t.topics){const n=t,a={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?Zh(s.map(r=>r.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],r=[],l=c=>{St(c)?s.push(c):r.push((async()=>{s.push(await Mn(c,e))})())};Array.isArray(n.address)?n.address.forEach(l):l(n.address),r.length&&await Promise.all(r),a.address=Zh(s.map(c=>c.toLowerCase()))}return{filter:a,tag:gm("event",a),type:"event"}}j(!1,"unknown ProviderEvent","event",t)}function ab(){return new Date().getTime()}const LN={cacheTimeout:250,pollingInterval:4e3};var Vn,zr,Wn,Gg,Va,Il,Lr,Ei,mu,Pa,Bg,Sg,tt,Ga,Gh,Bh,CI,Sh,pI,dm;class QN{constructor(e,n){q(this,tt);q(this,Vn);q(this,zr);q(this,Wn);q(this,Gg);q(this,Va);q(this,Il);q(this,Lr);q(this,Ei);q(this,mu);q(this,Pa);q(this,Bg);q(this,Sg);if(v(this,Sg,Object.assign({},LN,n||{})),e==="any")v(this,Il,!0),v(this,Va,null);else if(e){const a=js.from(e);v(this,Il,!1),v(this,Va,Promise.resolve(a)),setTimeout(()=>{this.emit("network",a,null)},0)}else v(this,Il,!1),v(this,Va,null);v(this,Ei,-1),v(this,Lr,new Map),v(this,Vn,new Map),v(this,zr,new Map),v(this,Wn,null),v(this,Gg,!1),v(this,mu,1),v(this,Pa,new Map),v(this,Bg,!1)}get pollingInterval(){return y(this,Sg).pollingInterval}get provider(){return this}get plugins(){return Array.from(y(this,zr).values())}attachPlugin(e){if(y(this,zr).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return y(this,zr).set(e.name,e.connect(this)),this}getPlugin(e){return y(this,zr).get(e)||null}get disableCcipRead(){return y(this,Bg)}set disableCcipRead(e){v(this,Bg,!!e)}async ccipReadFetch(e,n,a){if(this.disableCcipRead||a.length===0||e.to==null)return null;const s=e.to.toLowerCase(),r=n.toLowerCase(),l=[];for(let c=0;c<a.length;c++){const g=a[c],u=g.replace("{sender}",s).replace("{data}",r),I=new Qi(u);g.indexOf("{data}")===-1&&(I.body={data:r,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:I,index:c,urls:a});let p="unknown error",A;try{A=await I.send()}catch(Z){l.push(Z.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:I,result:{error:Z}});continue}try{const Z=A.bodyJson;if(Z.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:I,result:Z}),Z.data;Z.message&&(p=Z.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:I,result:Z})}catch{}me(A.statusCode<400||A.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:g,errorMessage:p}}),l.push(p)}me(!1,`error encountered during CCIP fetch: ${l.map(c=>JSON.stringify(c)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:a,errorMessages:l}})}_wrapBlock(e,n){return new dN(vN(e),this)}_wrapLog(e,n){return new Ru(WN(e),this)}_wrapTransactionReceipt(e,n){return new pk(xN(e),this)}_wrapTransactionResponse(e,n){return new vI(Vk(e),this)}_detectNetwork(){me(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){me(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=nt(await ce(this,tt,Ga).call(this,{method:"getBlockNumber"}),"%response");return y(this,Ei)>=0&&v(this,Ei,e),e}_getAddress(e){return Mn(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(St(e))return St(e,32)?e:fs(e);if(typeof e=="bigint"&&(e=nt(e,"blockTag")),typeof e=="number")return e>=0?fs(e):y(this,Ei)>=0?fs(y(this,Ei)+e):this.getBlockNumber().then(n=>fs(n+e));j(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(g=>g==null?null:Array.isArray(g)?Zh(g.map(u=>u.toLowerCase())):g.toLowerCase()),a="blockHash"in e?e.blockHash:void 0,s=(g,u,I)=>{let p;switch(g.length){case 0:break;case 1:p=g[0];break;default:g.sort(),p=g}if(a&&(u!=null||I!=null))throw new Error("invalid filter");const A={};return p&&(A.address=p),n.length&&(A.topics=n),u&&(A.fromBlock=u),I&&(A.toBlock=I),a&&(A.blockHash=a),A};let r=[];if(e.address)if(Array.isArray(e.address))for(const g of e.address)r.push(this._getAddress(g));else r.push(this._getAddress(e.address));let l;"fromBlock"in e&&(l=this._getBlockTag(e.fromBlock));let c;return"toBlock"in e&&(c=this._getBlockTag(e.toBlock)),r.filter(g=>typeof g!="string").length||l!=null&&typeof l!="string"||c!=null&&typeof c!="string"?Promise.all([Promise.all(r),l,c]).then(g=>s(g[0],g[1],g[2])):s(r,l,c)}_getTransactionRequest(e){const n=wm(e),a=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const r=Mn(n[s],this);Cp(r)?a.push(async function(){n[s]=await r}()):n[s]=r}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);Cp(s)?a.push(async function(){n.blockTag=await s}()):n.blockTag=s}return a.length?async function(){return await Promise.all(a),n}():n}async getNetwork(){if(y(this,Va)==null){const s=(async()=>{try{const r=await this._detectNetwork();return this.emit("network",r,null),r}catch(r){throw y(this,Va)===s&&v(this,Va,null),r}})();return v(this,Va,s),(await s).clone()}const e=y(this,Va),[n,a]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==a.chainId&&(y(this,Il)?(this.emit("network",a,n),y(this,Va)===e&&v(this,Va,Promise.resolve(a))):me(!1,`network changed: ${n.chainId} => ${a.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:r,priorityFee:l}=await Yn({_block:ce(this,tt,Sh).call(this,"latest",!1),gasPrice:(async()=>{try{const I=await ce(this,tt,Ga).call(this,{method:"getGasPrice"});return Xe(I,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const I=await ce(this,tt,Ga).call(this,{method:"getPriorityFee"});return Xe(I,"%response")}catch{}return null})()});let c=null,g=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(g=l??BigInt("1000000000"),c=u.baseFeePerGas*UN+g),new oB(r,c,g)},a=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(a){const s=new Qi(a.url),r=await a.processFunc(n,this,s);return new oB(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return Cp(n)&&(n=await n),Xe(await ce(this,tt,Ga).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:a}=await Yn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await ce(this,tt,Bh).call(this,ce(this,tt,Gh).call(this,n,a,e.enableCcipRead?0:-1))}async getBalance(e,n){return Xe(await ce(this,tt,CI).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return nt(await ce(this,tt,CI).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return we(await ce(this,tt,CI).call(this,{method:"getCode"},e,n))}async getStorage(e,n,a){const s=Xe(n,"position");return we(await ce(this,tt,CI).call(this,{method:"getStorage",position:s},e,a))}async broadcastTransaction(e){const{blockNumber:n,hash:a,network:s}=await Yn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),r=ym.from(e);if(r.hash!==a)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(r,s).replaceableTransaction(n)}async getBlock(e,n){const{network:a,params:s}=await Yn({network:this.getNetwork(),params:ce(this,tt,Sh).call(this,e,!!n)});return s==null?null:this._wrapBlock(s,a)}async getTransaction(e){const{network:n,params:a}=await Yn({network:this.getNetwork(),params:ce(this,tt,Ga).call(this,{method:"getTransaction",hash:e})});return a==null?null:this._wrapTransactionResponse(a,n)}async getTransactionReceipt(e){const{network:n,params:a}=await Yn({network:this.getNetwork(),params:ce(this,tt,Ga).call(this,{method:"getTransactionReceipt",hash:e})});if(a==null)return null;if(a.gasPrice==null&&a.effectiveGasPrice==null){const s=await ce(this,tt,Ga).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");a.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(a,n)}async getTransactionResult(e){const{result:n}=await Yn({network:this.getNetwork(),result:ce(this,tt,Ga).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:we(n)}async getLogs(e){let n=this._getFilter(e);Cp(n)&&(n=await n);const{network:a,params:s}=await Yn({network:this.getNetwork(),params:ce(this,tt,Ga).call(this,{method:"getLogs",filter:n})});return s.map(r=>this._wrapLog(r,a))}_getProvider(e){me(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await Vm.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=At(e);const n=Ah(e.substring(2).toLowerCase()+".addr.reverse");try{const a=await Vm.getEnsAddress(this),r=await new Fi(a,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(r==null||r===GI)return null;const c=await new Fi(r,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(c)!==e?null:c}catch(a){if(mn(a,"BAD_DATA")&&a.value==="0x"||mn(a,"CALL_EXCEPTION"))return null;throw a}return null}async waitForTransaction(e,n,a){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(r,l)=>{let c=null;const g=async u=>{try{const I=await this.getTransactionReceipt(e);if(I!=null&&u-I.blockNumber+1>=s){r(I),c&&(clearTimeout(c),c=null);return}}catch(I){console.log("EEE",I)}this.once("block",g)};a!=null&&(c=setTimeout(()=>{c!=null&&(c=null,this.off("block",g),l(Wt("timeout","TIMEOUT",{reason:"timeout"})))},a)),g(await this.getBlockNumber())})}async waitForBlock(e){me(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=y(this,Pa).get(e);n&&(n.timer&&clearTimeout(n.timer),y(this,Pa).delete(e))}_setTimeout(e,n){n==null&&(n=0);const a=Ud(this,mu)._++,s=()=>{y(this,Pa).delete(a),e()};if(this.paused)y(this,Pa).set(a,{timer:null,func:s,time:n});else{const r=setTimeout(s,n);y(this,Pa).set(a,{timer:r,func:s,time:ab()})}return a}_forEachSubscriber(e){for(const n of y(this,Vn).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new Rk(e.type);case"block":{const n=new TN(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new FN(this,e.type);case"event":return new D1(this,e.filter);case"transaction":return new MN(this,e.hash);case"orphan":return new KN(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const a of y(this,Vn).values())if(a.subscriber===e){a.started&&a.subscriber.stop(),a.subscriber=n,a.started&&n.start(),y(this,Wn)!=null&&n.pause(y(this,Wn));break}}async on(e,n){const a=await ce(this,tt,dm).call(this,e);return a.listeners.push({listener:n,once:!1}),a.started||(a.subscriber.start(),a.started=!0,y(this,Wn)!=null&&a.subscriber.pause(y(this,Wn))),this}async once(e,n){const a=await ce(this,tt,dm).call(this,e);return a.listeners.push({listener:n,once:!0}),a.started||(a.subscriber.start(),a.started=!0,y(this,Wn)!=null&&a.subscriber.pause(y(this,Wn))),this}async emit(e,...n){const a=await ce(this,tt,pI).call(this,e,n);if(!a||a.listeners.length===0)return!1;const s=a.listeners.length;return a.listeners=a.listeners.filter(({listener:r,once:l})=>{const c=new Dw(this,l?null:r,e);try{r.call(this,...n,c)}catch{}return!l}),a.listeners.length===0&&(a.started&&a.subscriber.stop(),y(this,Vn).delete(a.tag)),s>0}async listenerCount(e){if(e){const a=await ce(this,tt,pI).call(this,e);return a?a.listeners.length:0}let n=0;for(const{listeners:a}of y(this,Vn).values())n+=a.length;return n}async listeners(e){if(e){const a=await ce(this,tt,pI).call(this,e);return a?a.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:a}of y(this,Vn).values())n=n.concat(a.map(({listener:s})=>s));return n}async off(e,n){const a=await ce(this,tt,pI).call(this,e);if(!a)return this;if(n){const s=a.listeners.map(({listener:r})=>r).indexOf(n);s>=0&&a.listeners.splice(s,1)}return(!n||a.listeners.length===0)&&(a.started&&a.subscriber.stop(),y(this,Vn).delete(a.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:a,subscriber:s}=await ce(this,tt,dm).call(this,e);a&&s.stop(),y(this,Vn).delete(n)}else for(const[n,{started:a,subscriber:s}]of y(this,Vn))a&&s.stop(),y(this,Vn).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return y(this,Gg)}destroy(){this.removeAllListeners();for(const e of y(this,Pa).keys())this._clearTimeout(e);v(this,Gg,!0)}get paused(){return y(this,Wn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(v(this,Ei,-1),y(this,Wn)!=null){if(y(this,Wn)==!!e)return;me(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),v(this,Wn,!!e);for(const n of y(this,Pa).values())n.timer&&clearTimeout(n.timer),n.time=ab()-n.time}resume(){if(y(this,Wn)!=null){this._forEachSubscriber(e=>e.resume()),v(this,Wn,null);for(const e of y(this,Pa).values()){let n=e.time;n<0&&(n=0),e.time=ab(),setTimeout(e.func,n)}}}}Vn=new WeakMap,zr=new WeakMap,Wn=new WeakMap,Gg=new WeakMap,Va=new WeakMap,Il=new WeakMap,Lr=new WeakMap,Ei=new WeakMap,mu=new WeakMap,Pa=new WeakMap,Bg=new WeakMap,Sg=new WeakMap,tt=new WeakSet,Ga=async function(e){const n=y(this,Sg).cacheTimeout;if(n<0)return await this._perform(e);const a=gm(e.method,e);let s=y(this,Lr).get(a);return s||(s=this._perform(e),y(this,Lr).set(a,s),setTimeout(()=>{y(this,Lr).get(a)===s&&y(this,Lr).delete(a)},n)),await s},Gh=async function(e,n,a){me(a<DN,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const s=wm(e);try{return we(await this._perform({method:"call",transaction:s,blockTag:n}))}catch(r){if(!this.disableCcipRead&&w1(r)&&r.data&&a>=0&&n==="latest"&&s.to!=null&&Ht(r.data,0,4)==="0x556f1830"){const l=r.data,c=await Mn(s.to,this);let g;try{g=qN(Ht(r.data,4))}catch(p){me(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:l}})}me(g.sender.toLowerCase()===c.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:l,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:g.errorArgs}});const u=await this.ccipReadFetch(s,g.calldata,g.urls);me(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:r.data,errorArgs:g.errorArgs}});const I={to:c,data:Yt([g.selector,_N([u,g.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:I});try{const p=await ce(this,tt,Gh).call(this,I,n,a+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},I),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},I),error:p}),p}}throw r}},Bh=async function(e){const{value:n}=await Yn({network:this.getNetwork(),value:e});return n},CI=async function(e,n,a){let s=this._getAddress(n),r=this._getBlockTag(a);return(typeof s!="string"||typeof r!="string")&&([s,r]=await Promise.all([s,r])),await ce(this,tt,Bh).call(this,ce(this,tt,Ga).call(this,Object.assign(e,{address:s,blockTag:r})))},Sh=async function(e,n){if(St(e,32))return await ce(this,tt,Ga).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let a=this._getBlockTag(e);return typeof a!="string"&&(a=await a),await ce(this,tt,Ga).call(this,{method:"getBlock",blockTag:a,includeTransactions:n})},pI=async function(e,n){let a=await nb(e,this);return a.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(a=await nb({orphan:"drop-log",log:n[0]},this)),y(this,Vn).get(a.tag)||null},dm=async function(e){const n=await nb(e,this),a=n.tag;let s=y(this,Vn).get(a);return s||(s={subscriber:this._getSubscriber(n),tag:a,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},y(this,Vn).set(a,s)),s};function PN(t,e){try{const n=wh(t,e);if(n)return mm(n)}catch{}return null}function wh(t,e){if(t==="0x")return null;try{const n=nt(Ht(t,e,e+32)),a=nt(Ht(t,n,n+32));return Ht(t,n+32,n+32+a)}catch{}return null}function pB(t){const e=An(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function ON(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const jN=new Uint8Array([]);function _N(t){const e=[];let n=0;for(let a=0;a<t.length;a++)e.push(jN),n+=32;for(let a=0;a<t.length;a++){const s=$e(t[a]);e[a]=pB(n),e.push(pB(s.length)),e.push(ON(s)),n+=32+Math.ceil(s.length/32)*32}return Yt(e)}const mB="0x0000000000000000000000000000000000000000000000000000000000000000";function qN(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};me(xc(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Ht(t,0,32);me(Ht(n,0,12)===Ht(mB,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Ht(n,12);try{const a=[],s=nt(Ht(t,32,64)),r=nt(Ht(t,s,s+32)),l=Ht(t,s+32);for(let c=0;c<r;c++){const g=PN(l,c*32);if(g==null)throw new Error("abort");a.push(g)}e.urls=a}catch{me(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const a=wh(t,64);if(a==null)throw new Error("abort");e.calldata=a}catch{me(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}me(Ht(t,100,128)===Ht(mB,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Ht(t,96,100);try{const a=wh(t,128);if(a==null)throw new Error("abort");e.extraData=a}catch{me(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(a=>e[a]),e}function Ro(t,e){if(t.provider)return t.provider;me(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function AB(t,e){let n=wm(e);if(n.to!=null&&(n.to=Mn(n.to,t)),n.from!=null){const a=n.from;n.from=Promise.all([t.getAddress(),Mn(a,t)]).then(([s,r])=>(j(s.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),s))}else n.from=t.getAddress();return await Yn(n)}class $N{constructor(e){te(this,"provider");Ue(this,{provider:e||null})}async getNonce(e){return Ro(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await AB(this,e)}async populateTransaction(e){const n=Ro(this,"populateTransaction"),a=await AB(this,e);a.nonce==null&&(a.nonce=await this.getNonce("pending")),a.gasLimit==null&&(a.gasLimit=await this.estimateGas(a));const s=await this.provider.getNetwork();if(a.chainId!=null){const l=Xe(a.chainId);j(l===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else a.chainId=s.chainId;const r=a.maxFeePerGas!=null||a.maxPriorityFeePerGas!=null;if(a.gasPrice!=null&&(a.type===2||r)?j(!1,"eip-1559 transaction do not support gasPrice","tx",e):(a.type===0||a.type===1)&&r&&j(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(a.type===2||a.type==null)&&a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)a.type=2;else if(a.type===0||a.type===1){const l=await n.getFeeData();me(l.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),a.gasPrice==null&&(a.gasPrice=l.gasPrice)}else{const l=await n.getFeeData();if(a.type==null)if(l.maxFeePerGas!=null&&l.maxPriorityFeePerGas!=null)if(a.authorizationList&&a.authorizationList.length?a.type=4:a.type=2,a.gasPrice!=null){const c=a.gasPrice;delete a.gasPrice,a.maxFeePerGas=c,a.maxPriorityFeePerGas=c}else a.maxFeePerGas==null&&(a.maxFeePerGas=l.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=l.maxPriorityFeePerGas);else l.gasPrice!=null?(me(!r,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),a.gasPrice==null&&(a.gasPrice=l.gasPrice),a.type=0):me(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(a.type===2||a.type===3||a.type===4)&&(a.maxFeePerGas==null&&(a.maxFeePerGas=l.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=l.maxPriorityFeePerGas))}return await Yn(a)}async populateAuthorization(e){const n=Object.assign({},e);return n.chainId==null&&(n.chainId=(await Ro(this,"getNetwork").getNetwork()).chainId),n.nonce==null&&(n.nonce=await this.getNonce()),n}async estimateGas(e){return Ro(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return Ro(this,"call").call(await this.populateCall(e))}async resolveName(e){return await Ro(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=Ro(this,"sendTransaction"),a=await this.populateTransaction(e);delete a.from;const s=ym.from(a);return await n.broadcastTransaction(await this.signTransaction(s))}authorize(e){me(!1,"authorization not implemented for this signer","UNSUPPORTED_OPERATION",{operation:"authorize"})}}function eH(t){return JSON.parse(JSON.stringify(t))}var Nn,zs,ul,Qr,Cl,wg,oo,kh,Vh;class vk{constructor(e){q(this,oo);q(this,Nn);q(this,zs);q(this,ul);q(this,Qr);q(this,Cl);q(this,wg);v(this,Nn,e),v(this,zs,null),v(this,ul,ce(this,oo,kh).bind(this)),v(this,Qr,!1),v(this,Cl,null),v(this,wg,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){y(this,Qr)||(v(this,Qr,!0),ce(this,oo,kh).call(this,-2))}stop(){y(this,Qr)&&(v(this,Qr,!1),v(this,wg,!0),ce(this,oo,Vh).call(this),y(this,Nn).off("block",y(this,ul)))}pause(e){e&&ce(this,oo,Vh).call(this),y(this,Nn).off("block",y(this,ul))}resume(){this.start()}}Nn=new WeakMap,zs=new WeakMap,ul=new WeakMap,Qr=new WeakMap,Cl=new WeakMap,wg=new WeakMap,oo=new WeakSet,kh=async function(e){try{y(this,zs)==null&&v(this,zs,this._subscribe(y(this,Nn)));let n=null;try{n=await y(this,zs)}catch(r){if(!mn(r,"UNSUPPORTED_OPERATION")||r.operation!=="eth_newFilter")throw r}if(n==null){v(this,zs,null),y(this,Nn)._recoverSubscriber(this,this._recover(y(this,Nn)));return}const a=await y(this,Nn).getNetwork();if(y(this,Cl)||v(this,Cl,a),y(this,Cl).chainId!==a.chainId)throw new Error("chaid changed");if(y(this,wg))return;const s=await y(this,Nn).send("eth_getFilterChanges",[n]);await this._emitResults(y(this,Nn),s)}catch(n){console.log("@TODO",n)}y(this,Nn).once("block",y(this,ul))},Vh=function(){const e=y(this,zs);e&&(v(this,zs,null),e.then(n=>{y(this,Nn).destroyed||y(this,Nn).send("eth_uninstallFilter",[n])}))};var pl;class tH extends vk{constructor(n,a){super(n);q(this,pl);v(this,pl,eH(a))}_recover(n){return new D1(n,y(this,pl))}async _subscribe(n){return await n.send("eth_newFilter",[y(this,pl)])}async _emitResults(n,a){for(const s of a)n.emit(y(this,pl),n._wrapLog(s,n._network))}}pl=new WeakMap;class nH extends vk{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const a of n)e.emit("pending",a)}}const aH="bigint,boolean,function,number,string,symbol".split(/,/g);function Im(t){if(t==null||aH.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(Im);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function sH(t){return new Promise(e=>{setTimeout(e,t)})}function pc(t){return t&&t.toLowerCase()}function yB(t){return t&&typeof t.pollingInterval=="number"}const Xk={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class sb extends $N{constructor(n,a){super(n);te(this,"address");a=At(a),Ue(this,{address:a})}connect(n){me(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const a=Im(n),s=[];if(a.from){const l=a.from;s.push((async()=>{const c=await Mn(l,this.provider);j(c!=null&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),a.from=c})())}else a.from=this.address;if(a.gasLimit==null&&s.push((async()=>{a.gasLimit=await this.provider.estimateGas({...a,from:this.address})})()),a.to!=null){const l=a.to;s.push((async()=>{a.to=await Mn(l,this.provider)})())}s.length&&await Promise.all(s);const r=this.provider.getRpcTransaction(a);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(n){const a=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(n);return await new Promise((r,l)=>{const c=[1e3,100];let g=0;const u=async()=>{try{const I=await this.provider.getTransaction(s);if(I!=null){r(I.replaceableTransaction(a));return}}catch(I){if(mn(I,"CANCELLED")||mn(I,"BAD_DATA")||mn(I,"NETWORK_ERROR")||mn(I,"UNSUPPORTED_OPERATION")){I.info==null&&(I.info={}),I.info.sendTransactionHash=s,l(I);return}if(mn(I,"INVALID_ARGUMENT")&&(g++,I.info==null&&(I.info={}),I.info.sendTransactionHash=s,g>10)){l(I);return}this.provider.emit("error",Wt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:I}))}this.provider._setTimeout(()=>{u()},c.pop()||4e3)};u()})}async signTransaction(n){const a=Im(n);if(a.from){const r=await Mn(a.from,this.provider);j(r!=null&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),a.from=r}else a.from=this.address;const s=this.provider.getRpcTransaction(a);return await this.provider.send("eth_signTransaction",[s])}async signMessage(n){const a=typeof n=="string"?Mi(n):n;return await this.provider.send("personal_sign",[we(a),this.address.toLowerCase()])}async signTypedData(n,a,s){const r=Im(s),l=await Bm.resolveNames(n,a,r,async c=>{const g=await Mn(c);return j(g!=null,"TypedData does not support null address","value",c),g});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Bm.getPayload(l.domain,a,l.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const a=typeof n=="string"?Mi(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),we(a)])}}var ml,kg,xi,Ls,bs,Oa,na,Au,Wh;class iH extends QN{constructor(n,a){super(n,a);q(this,Au);q(this,ml);q(this,kg);q(this,xi);q(this,Ls);q(this,bs);q(this,Oa);q(this,na);v(this,kg,1),v(this,ml,Object.assign({},Xk,a||{})),v(this,xi,[]),v(this,Ls,null),v(this,Oa,null),v(this,na,null);{let r=null;const l=new Promise(c=>{r=c});v(this,bs,{promise:l,resolve:r})}const s=this._getOption("staticNetwork");typeof s=="boolean"?(j(!s||n!=="any","staticNetwork cannot be used on special network 'any'","options",a),s&&n!=null&&v(this,Oa,js.from(n))):s&&(j(n==null||s.matches(n),"staticNetwork MUST match network object","options",a),v(this,Oa,s))}_getOption(n){return y(this,ml)[n]}get _network(){return me(y(this,Oa),"network is not available yet","NETWORK_ERROR"),y(this,Oa)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let s=n.transaction;if(s&&s.type!=null&&Xe(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const r=await this.getFeeData();r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},s,{type:void 0})}))}}const a=this.getRpcRequest(n);return a!=null?await this.send(a.method,a.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(y(this,Oa))return y(this,Oa)}else return n;return y(this,na)?await y(this,na):this.ready?(v(this,na,(async()=>{try{const a=js.from(Xe(await this.send("eth_chainId",[])));return v(this,na,null),a}catch(a){throw v(this,na,null),a}})()),await y(this,na)):(v(this,na,(async()=>{const a={id:Ud(this,kg)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:a});let s;try{s=(await this._send(a))[0],v(this,na,null)}catch(r){throw v(this,na,null),this.emit("debug",{action:"receiveRpcError",error:r}),r}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return js.from(Xe(s.result));throw this.getRpcError(a,s)})()),await y(this,na))}_start(){y(this,bs)==null||y(this,bs).resolve==null||(y(this,bs).resolve(),v(this,bs,null),(async()=>{for(;y(this,Oa)==null&&!this.destroyed;)try{v(this,Oa,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Wt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await sH(1e3)}ce(this,Au,Wh).call(this)})())}async _waitUntilReady(){if(y(this,bs)!=null)return await y(this,bs).promise}_getSubscriber(n){return n.type==="pending"?new nH(this):n.type==="event"?this._getOption("polling")?new D1(this,n.filter):new tH(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new Rk("orphan"):super._getSubscriber(n)}get ready(){return y(this,bs)==null}getRpcTransaction(n){const a={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(n[s]==null)return;let r=s;s==="gasLimit"&&(r="gas"),a[r]=fs(Xe(n[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{n[s]!=null&&(a[s]=we(n[s]))}),n.accessList&&(a.accessList=Tl(n.accessList)),n.blobVersionedHashes&&(a.blobVersionedHashes=n.blobVersionedHashes.map(s=>s.toLowerCase())),n.authorizationList&&(a.authorizationList=n.authorizationList.map(s=>{const r=E3(s);return{address:r.address,nonce:fs(r.nonce),chainId:fs(r.chainId),yParity:fs(r.signature.yParity),r:fs(r.signature.r),s:fs(r.signature.s)}})),a}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[pc(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[pc(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[pc(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[pc(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(pc):n.filter.address=pc(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,a){const{method:s}=n,{error:r}=a;if(s==="eth_estimateGas"&&r.message){const g=r.message;if(!g.match(/revert/i)&&g.match(/insufficient funds/i))return Wt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:r}});if(g.match(/nonce/i)&&g.match(/too low/i))return Wt("nonce has already been used","NONCE_EXPIRED",{transaction:n.params[0],info:{payload:n,error:r}})}if(s==="eth_call"||s==="eth_estimateGas"){const g=Rh(r),u=RI.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",n.params[0],g?g.data:null);return u.info={error:r,payload:n},u}const l=JSON.stringify(rH(r));if(typeof r.message=="string"&&r.message.match(/user denied|ethers-user-denied/i))return Wt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:n,error:r}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const g=n.params[0];if(l.match(/insufficient funds|base fee exceeds gas limit/i))return Wt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:g,info:{error:r}});if(l.match(/nonce/i)&&l.match(/too low/i))return Wt("nonce has already been used","NONCE_EXPIRED",{transaction:g,info:{error:r}});if(l.match(/replacement transaction/i)&&l.match(/underpriced/i))return Wt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:g,info:{error:r}});if(l.match(/only replay-protected/i))return Wt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:g,info:{error:r}}})}let c=!!l.match(/the method .* does not exist/i);return c||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(c=!0),c?Wt("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:r,payload:n}}):Wt("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:n})}send(n,a){if(this.destroyed)return Promise.reject(Wt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const s=Ud(this,kg)._++,r=new Promise((l,c)=>{y(this,xi).push({resolve:l,reject:c,payload:{method:n,params:a,id:s,jsonrpc:"2.0"}})});return ce(this,Au,Wh).call(this),r}async getSigner(n){n==null&&(n=0);const a=this.send("eth_accounts",[]);if(typeof n=="number"){const r=await a;if(n>=r.length)throw new Error("no such account");return new sb(this,r[n])}const{accounts:s}=await Yn({network:this.getNetwork(),accounts:a});n=At(n);for(const r of s)if(At(r)===n)return new sb(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(a=>new sb(this,a))}destroy(){y(this,Ls)&&(clearTimeout(y(this,Ls)),v(this,Ls,null));for(const{payload:n,reject:a}of y(this,xi))a(Wt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));v(this,xi,[]),super.destroy()}}ml=new WeakMap,kg=new WeakMap,xi=new WeakMap,Ls=new WeakMap,bs=new WeakMap,Oa=new WeakMap,na=new WeakMap,Au=new WeakSet,Wh=function(){if(y(this,Ls))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");v(this,Ls,setTimeout(()=>{v(this,Ls,null);const a=y(this,xi);for(v(this,xi,[]);a.length;){const s=[a.shift()];for(;a.length&&s.length!==y(this,ml).batchMaxCount;)if(s.push(a.shift()),JSON.stringify(s.map(l=>l.payload)).length>y(this,ml).batchMaxSize){a.unshift(s.pop());break}(async()=>{const r=s.length===1?s[0].payload:s.map(l=>l.payload);this.emit("debug",{action:"sendRpcPayload",payload:r});try{const l=await this._send(r);this.emit("debug",{action:"receiveRpcResult",result:l});for(const{resolve:c,reject:g,payload:u}of s){if(this.destroyed){g(Wt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const I=l.filter(p=>p.id===u.id)[0];if(I==null){const p=Wt("missing response for request","BAD_DATA",{value:l,info:{payload:u}});this.emit("error",p),g(p);continue}if("error"in I){g(this.getRpcError(u,I));continue}c(I.result)}}catch(l){this.emit("debug",{action:"receiveRpcError",error:l});for(const{reject:c}of s)c(l)}})()}},n))};var Pr;class Jk extends iH{constructor(n,a){super(n,a);q(this,Pr);let s=this._getOption("pollingInterval");s==null&&(s=Xk.pollingInterval),v(this,Pr,s)}_getSubscriber(n){const a=super._getSubscriber(n);return yB(a)&&(a.pollingInterval=y(this,Pr)),a}get pollingInterval(){return y(this,Pr)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");v(this,Pr,n),this._forEachSubscriber(a=>{yB(a)&&(a.pollingInterval=y(this,Pr))})}}Pr=new WeakMap;var Vg;class bB extends Jk{constructor(n,a,s){n==null&&(n="http://localhost:8545");super(a,s);q(this,Vg);typeof n=="string"?v(this,Vg,new Qi(n)):v(this,Vg,n.clone())}_getConnection(){return y(this,Vg).clone()}async send(n,a){return await this._start(),await super.send(n,a)}async _send(n){const a=this._getConnection();a.body=JSON.stringify(n),a.setHeader("content-type","application/json");const s=await a.send();s.assertOk();let r=s.bodyJson;return Array.isArray(r)||(r=[r]),r}}Vg=new WeakMap;function Rh(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&St(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=Rh(t[e]);if(n)return n}return null}if(typeof t=="string")try{return Rh(JSON.parse(t))}catch{}return null}function vh(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)vh(t[n],e);if(typeof t=="string")try{return vh(JSON.parse(t),e)}catch{}}}function rH(t){const e=[];return vh(t,e),e}var Wg,Rg;const Do=class Do extends Jk{constructor(n,a,s){const r=Object.assign({},s??{},{batchMaxCount:1});j(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(a,r);q(this,Wg);q(this,Rg);v(this,Rg,null),s&&s.providerInfo&&v(this,Rg,s.providerInfo),v(this,Wg,async(l,c)=>{const g={method:l,params:c};this.emit("debug",{action:"sendEip1193Request",payload:g});try{const u=await n.request(g);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const I=new Error(u.message);throw I.code=u.code,I.data=u.data,I.payload=g,this.emit("debug",{action:"receiveEip1193Error",error:I}),I}})}get providerInfo(){return y(this,Rg)}async send(n,a){return await this._start(),await super.send(n,a)}async _send(n){j(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const a=await y(this,Wg).call(this,n.method,n.params||[]);return[{id:n.id,result:a}]}catch(a){return[{id:n.id,error:{code:a.code,data:a.data,message:a.message}}]}}getRpcError(n,a){switch(a=JSON.parse(JSON.stringify(a)),a.error.code||-1){case 4001:a.error.message=`ethers-user-denied: ${a.error.message}`;break;case 4200:a.error.message=`ethers-unsupported: ${a.error.message}`;break}return super.getRpcError(n,a)}async hasSigner(n){n==null&&(n=0);const a=await this.send("eth_accounts",[]);return typeof n=="number"?a.length>n:(n=n.toLowerCase(),a.filter(s=>s.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await y(this,Wg).call(this,"eth_requestAccounts",[])}catch(a){const s=a.payload;throw this.getRpcError(s,{id:s.id,error:a})}return await super.getSigner(n)}static async discover(n){if(n==null&&(n={}),n.provider)return new Do(n.provider);const a=n.window?n.window:typeof window<"u"?window:null;if(a==null)return null;const s=n.anyProvider;if(s&&a.ethereum)return new Do(a.ethereum);if(!("addEventListener"in a&&"dispatchEvent"in a&&"removeEventListener"in a))return null;const r=n.timeout?n.timeout:300;return r===0?null:await new Promise((l,c)=>{let g=[];const u=A=>{g.push(A.detail),s&&I()},I=()=>{if(clearTimeout(p),g.length)if(n&&n.filter){const A=n.filter(g.map(Z=>Object.assign({},Z.info)));if(A==null)l(null);else if(A instanceof Do)l(A);else{let Z=null;if(A.uuid&&(Z=g.filter(B=>A.uuid===B.info.uuid)[0]),Z){const{provider:S,info:B}=Z;l(new Do(S,void 0,{providerInfo:B}))}else c(Wt("filter returned unknown info","UNSUPPORTED_OPERATION",{value:A}))}}else{const{provider:A,info:Z}=g[0];l(new Do(A,void 0,{providerInfo:Z}))}else l(null);a.removeEventListener("eip6963:announceProvider",u)},p=setTimeout(()=>{I()},r);a.addEventListener("eip6963:announceProvider",u),a.dispatchEvent(new Event("eip6963:requestProvider"))})}};Wg=new WeakMap,Rg=new WeakMap;let Wm=Do;function Xh(){return Xh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},Xh.apply(null,arguments)}function JI(t){"@babel/helpers - typeof";return JI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},JI(t)}function oH(t,e){if(JI(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(JI(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function lH(t){var e=oH(t,"string");return JI(e)=="symbol"?e:e+""}function cH(t,e,n){return(e=lH(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function gH(t){if(Array.isArray(t))return t}function dH(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,r,l,c=[],g=!0,u=!1;try{if(r=(n=n.call(t)).next,e!==0)for(;!(g=(a=r.call(n)).done)&&(c.push(a.value),c.length!==e);g=!0);}catch(I){u=!0,s=I}finally{try{if(!g&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw s}}return c}}function hB(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function IH(t,e){if(t){if(typeof t=="string")return hB(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?hB(t,e):void 0}}function uH(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CH(t,e){return gH(t)||dH(t,e)||IH(t,e)||uH()}function pH(t,e){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function mH(t,e){if(t==null)return{};var n,a,s=pH(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var Ek={exports:{}},ft={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dn=typeof Symbol=="function"&&Symbol.for,z1=dn?Symbol.for("react.element"):60103,L1=dn?Symbol.for("react.portal"):60106,gA=dn?Symbol.for("react.fragment"):60107,dA=dn?Symbol.for("react.strict_mode"):60108,IA=dn?Symbol.for("react.profiler"):60114,uA=dn?Symbol.for("react.provider"):60109,CA=dn?Symbol.for("react.context"):60110,Q1=dn?Symbol.for("react.async_mode"):60111,pA=dn?Symbol.for("react.concurrent_mode"):60111,mA=dn?Symbol.for("react.forward_ref"):60112,AA=dn?Symbol.for("react.suspense"):60113,AH=dn?Symbol.for("react.suspense_list"):60120,yA=dn?Symbol.for("react.memo"):60115,bA=dn?Symbol.for("react.lazy"):60116,yH=dn?Symbol.for("react.block"):60121,bH=dn?Symbol.for("react.fundamental"):60117,hH=dn?Symbol.for("react.responder"):60118,fH=dn?Symbol.for("react.scope"):60119;function va(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case z1:switch(t=t.type,t){case Q1:case pA:case gA:case IA:case dA:case AA:return t;default:switch(t=t&&t.$$typeof,t){case CA:case mA:case bA:case yA:case uA:return t;default:return e}}case L1:return e}}}function xk(t){return va(t)===pA}ft.AsyncMode=Q1;ft.ConcurrentMode=pA;ft.ContextConsumer=CA;ft.ContextProvider=uA;ft.Element=z1;ft.ForwardRef=mA;ft.Fragment=gA;ft.Lazy=bA;ft.Memo=yA;ft.Portal=L1;ft.Profiler=IA;ft.StrictMode=dA;ft.Suspense=AA;ft.isAsyncMode=function(t){return xk(t)||va(t)===Q1};ft.isConcurrentMode=xk;ft.isContextConsumer=function(t){return va(t)===CA};ft.isContextProvider=function(t){return va(t)===uA};ft.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===z1};ft.isForwardRef=function(t){return va(t)===mA};ft.isFragment=function(t){return va(t)===gA};ft.isLazy=function(t){return va(t)===bA};ft.isMemo=function(t){return va(t)===yA};ft.isPortal=function(t){return va(t)===L1};ft.isProfiler=function(t){return va(t)===IA};ft.isStrictMode=function(t){return va(t)===dA};ft.isSuspense=function(t){return va(t)===AA};ft.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===gA||t===pA||t===IA||t===dA||t===AA||t===AH||typeof t=="object"&&t!==null&&(t.$$typeof===bA||t.$$typeof===yA||t.$$typeof===uA||t.$$typeof===CA||t.$$typeof===mA||t.$$typeof===bH||t.$$typeof===hH||t.$$typeof===fH||t.$$typeof===yH)};ft.typeOf=va;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var fB=Object.getOwnPropertySymbols,ZH=Object.prototype.hasOwnProperty,GH=Object.prototype.propertyIsEnumerable;function BH(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function SH(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var a=Object.getOwnPropertyNames(e).map(function(r){return e[r]});if(a.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(r){s[r]=r}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}SH();var wH="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",kH=wH;Function.call.bind(Object.prototype.hasOwnProperty);var VH=kH;function Nk(){}function Hk(){}Hk.resetWarningCache=Nk;var WH=function(){function t(a,s,r,l,c,g){if(g!==VH){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Hk,resetWarningCache:Nk};return n.PropTypes=n,n};Ek.exports=WH();var mc=Ek.exports;function RH(t,e){var n=atob(t);return n}function vH(t,e,n){var a=RH(t),s=a.indexOf(`
`,10)+1,r=a.substring(s)+"",l=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(l)}function XH(t,e,n){var a;return function(r){return a=a||vH(t),new Worker(a,r)}}var JH=XH("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg=="),EH=["constraints","onError","onLoad","onScan","resolution","qrArea"];function ZB(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function GB(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZB(Object(n),!0).forEach(function(a){cH(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZB(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var xH=function(){return new JH},BB=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().forEach(function(n){e.removeTrack(n),n.stop()}),e.getAudioTracks().forEach(function(n){e.removeTrack(n),n.stop()})):e.stop())},P1=function(e){var n=e.constraints,a=e.onError,s=e.onLoad,r=e.onScan,l=e.resolution,c=e.qrArea,g=mH(e,EH),u=ze.useRef(null),I=ze.useRef(null),p=ze.useRef(document.createElement("canvas")),A=ze.useRef(null),Z=ze.useRef(),S=ze.useState(null),B=CH(S,2),V=B[0],W=B[1],Y=ze.useRef(!1),R=ze.useRef();ze.useEffect(function(){R.current=xH();var Q=R.current;return Q.onmessage=function(z){r&&r(z.data?GB(GB({},z.data),{},{canvas:p.current}):null),Y.current=!1},function(){Q.terminate()}},[r]);var x=JSON.stringify(c),M=ze.useCallback(function(){var Q=JSON.parse(x),z=R.current,se=I.current&&I.current.readyState===I.current.HAVE_ENOUGH_DATA;if(!Y.current&&se){Y.current=!0;var re=I.current.videoWidth,ae=I.current.videoHeight,Ie=re>ae?re:ae,de=Math.floor(l/Ie*100)/100;ae=Math.floor(de*ae),re=Math.floor(de*re),p.current.width=re,p.current.height=ae,A.current=p.current.getContext("2d"),A.current.drawImage(I.current,0,0,re,ae);var ie;Q&&Q.length===2&&Q[0]>0&&Q[1]>0?ie=A.current.getImageData(Math.floor((re-Q[0])/2),Math.floor((ae-Q[1])/2),Q[0],Q[1]):ie=A.current.getImageData(0,0,re,ae),z.postMessage(ie)}Z.current=requestAnimationFrame(M)},[l,x]),D=JSON.stringify(n);return ze.useEffect(function(){var Q=JSON.parse(D),z=!0;return navigator.mediaDevices.getUserMedia(Q).then(function(se){if(!z)BB(se);else{u.current=se;try{I.current&&(I.current.srcObject=se,I.current.setAttribute("playsinline",!0))}catch{W(window.URL.createObjectURL(se))}s&&s(),Z.current=requestAnimationFrame(M)}}).catch(function(se){return z?a(se):null}),function(){cancelAnimationFrame(Z.current),z=!1,BB(u.current),V&&window.URL.revokeObjectURL(V)}},[M,D,a,s,V]),ze.createElement("video",Xh({autoPlay:!0,playsInline:!0,src:V,ref:I},g))};P1.propTypes={constraints:mc.object,onError:mc.func.isRequired,onLoad:mc.func,onScan:mc.func.isRequired,resolution:mc.number,qrArea:mc.array};P1.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]};const NH=({onScan:t,onClose:e,debug:n=!1})=>{const[a,s]=ze.useState(null),[r,l]=ze.useState(null),[c,g]=ze.useState(!1);ze.useEffect(()=>{(async()=>{try{const A=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),Z=A.getVideoTracks();Z.length>0&&(l(Z[0].getSettings().deviceId||null),g(!0)),A.getTracks().forEach(S=>S.stop())}catch(A){console.error("Camera access error:",A),s("Could not access camera. Please check permissions.")}})()},[]);const u=p=>{if(p&&p.text){n&&console.log("QR Code scanned:",p.text);const A=/(0x[a-fA-F0-9]{40})/i,Z=p.text.match(A);if(Z&&Z[1]){const S=Z[1];n&&console.log("Extracted address:",S),t(S)}else s("No Ethereum address found in QR code")}},I=p=>{console.error("QR Scanner error:",p),s("Scanner error: "+p.message)};return Ee.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:Ee.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md mx-4",children:[Ee.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"Scan Metri Wallet QR Code"}),Ee.jsxs("div",{className:"w-full aspect-square relative bg-gray-100 overflow-hidden rounded-lg mb-4",children:[c&&r&&Ee.jsx(P1,{delay:300,onError:I,onScan:u,style:{width:"100%",height:"100%",objectFit:"cover"},constraints:{audio:!1,video:{deviceId:r?{exact:r}:void 0,facingMode:"environment"}}}),Ee.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Ee.jsx("div",{className:"w-3/4 h-3/4 border-4 border-[#10b981] rounded-lg"})})]}),a&&Ee.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:a}),Ee.jsx("button",{onClick:e,className:"w-full py-3 bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium rounded-lg transition-colors",children:"Cancel"})]})})},HH="modulepreload",YH=function(t){return"/metri-inviter-team/"+t},SB={},EI=function(e,n,a){let s=Promise.resolve();if(n&&n.length>0){let l=function(u){return Promise.all(u.map(I=>Promise.resolve(I).then(p=>({status:"fulfilled",value:p}),p=>({status:"rejected",reason:p}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),g=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));s=l(n.map(u=>{if(u=YH(u),u in SB)return;SB[u]=!0;const I=u.endsWith(".css"),p=I?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${p}`))return;const A=document.createElement("link");if(A.rel=I?"stylesheet":HH,I||(A.as="script"),A.crossOrigin="",A.href=u,g&&A.setAttribute("nonce",g),document.head.appendChild(A),I)return new Promise((Z,S)=>{A.addEventListener("load",Z),A.addEventListener("error",()=>S(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return s.then(l=>{for(const c of l||[])c.status==="rejected"&&r(c.reason);return e().catch(r)})},TH="1.0.8";let Ca=class Jh extends Error{constructor(e,n={}){var l;const a=n.cause instanceof Jh?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details,s=n.cause instanceof Jh&&n.cause.docsPath||n.docsPath,r=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...a?[`Details: ${a}`]:[],`Version: abitype@${TH}`].join(`
`);super(r),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=a,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function qi(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const Yk=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Tk=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,Fk=/^\(.+?\).*?$/,wB=/^tuple(?<array>(\[(\d*)\])*)$/;function Eh(t){let e=t.type;if(wB.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const r=t.components[s];e+=Eh(r),s<n-1&&(e+=", ")}const a=qi(wB,t.type);return e+=`)${(a==null?void 0:a.array)??""}`,Eh({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Qd(t){let e="";const n=t.length;for(let a=0;a<n;a++){const s=t[a];e+=Eh(s),a!==n-1&&(e+=", ")}return e}function Rm(t){var e;return t.type==="function"?`function ${t.name}(${Qd(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Qd(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Qd(t.inputs)})`:t.type==="error"?`error ${t.name}(${Qd(t.inputs)})`:t.type==="constructor"?`constructor(${Qd(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const Kk=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function FH(t){return Kk.test(t)}function KH(t){return qi(Kk,t)}const Mk=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function MH(t){return Mk.test(t)}function UH(t){return qi(Mk,t)}const Uk=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function DH(t){return Uk.test(t)}function zH(t){return qi(Uk,t)}const Dk=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function hA(t){return Dk.test(t)}function LH(t){return qi(Dk,t)}const zk=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function QH(t){return zk.test(t)}function PH(t){return qi(zk,t)}const Lk=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function OH(t){return Lk.test(t)}function jH(t){return qi(Lk,t)}const _H=/^receive\(\) external payable$/;function qH(t){return _H.test(t)}const kB=new Set(["memory","indexed","storage","calldata"]),$H=new Set(["indexed"]),xh=new Set(["calldata","memory","storage"]);class eY extends Ca{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class tY extends Ca{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class nY extends Ca{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class aY extends Ca{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class sY extends Ca{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class iY extends Ca{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class rY extends Ca{constructor({param:e,type:n,modifier:a}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${a}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class oY extends Ca{constructor({param:e,type:n,modifier:a}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${a}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${a}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class lY extends Ca{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class _g extends Ca{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class cY extends Ca{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class gY extends Ca{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class dY extends Ca{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class IY extends Ca{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function uY(t,e,n){let a="";if(n)for(const s of Object.entries(n)){if(!s)continue;let r="";for(const l of s[1])r+=`[${l.type}${l.name?`:${l.name}`:""}]`;a+=`(${s[0]}{${r}})`}return e?`${e}:${t}${a}`:t}const ib=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function Nh(t,e={}){if(DH(t))return CY(t,e);if(MH(t))return pY(t,e);if(FH(t))return mY(t,e);if(QH(t))return AY(t,e);if(OH(t))return yY(t);if(qH(t))return{type:"receive",stateMutability:"payable"};throw new cY({signature:t})}function CY(t,e={}){const n=zH(t);if(!n)throw new _g({signature:t,type:"function"});const a=Ra(n.parameters),s=[],r=a.length;for(let c=0;c<r;c++)s.push(Oi(a[c],{modifiers:xh,structs:e,type:"function"}));const l=[];if(n.returns){const c=Ra(n.returns),g=c.length;for(let u=0;u<g;u++)l.push(Oi(c[u],{modifiers:xh,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:l}}function pY(t,e={}){const n=UH(t);if(!n)throw new _g({signature:t,type:"event"});const a=Ra(n.parameters),s=[],r=a.length;for(let l=0;l<r;l++)s.push(Oi(a[l],{modifiers:$H,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function mY(t,e={}){const n=KH(t);if(!n)throw new _g({signature:t,type:"error"});const a=Ra(n.parameters),s=[],r=a.length;for(let l=0;l<r;l++)s.push(Oi(a[l],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function AY(t,e={}){const n=PH(t);if(!n)throw new _g({signature:t,type:"constructor"});const a=Ra(n.parameters),s=[],r=a.length;for(let l=0;l<r;l++)s.push(Oi(a[l],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function yY(t){const e=jH(t);if(!e)throw new _g({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const bY=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,hY=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,fY=/^u?int$/;function Oi(t,e){var p,A;const n=uY(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(ib.has(n))return ib.get(n);const a=Fk.test(t),s=qi(a?hY:bY,t);if(!s)throw new sY({param:t});if(s.name&&GY(s.name))throw new iY({param:t,name:s.name});const r=s.name?{name:s.name}:{},l=s.modifier==="indexed"?{indexed:!0}:{},c=(e==null?void 0:e.structs)??{};let g,u={};if(a){g="tuple";const Z=Ra(s.type),S=[],B=Z.length;for(let V=0;V<B;V++)S.push(Oi(Z[V],{structs:c}));u={components:S}}else if(s.type in c)g="tuple",u={components:c[s.type]};else if(fY.test(s.type))g=`${s.type}256`;else if(g=s.type,(e==null?void 0:e.type)!=="struct"&&!Qk(g))throw new nY({type:g});if(s.modifier){if(!((A=(p=e==null?void 0:e.modifiers)==null?void 0:p.has)!=null&&A.call(p,s.modifier)))throw new rY({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(xh.has(s.modifier)&&!BY(g,!!s.array))throw new oY({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const I={type:`${g}${s.array??""}`,...r,...l,...u};return ib.set(n,I),I}function Ra(t,e=[],n="",a=0){const s=t.trim().length;for(let r=0;r<s;r++){const l=t[r],c=t.slice(r+1);switch(l){case",":return a===0?Ra(c,[...e,n.trim()]):Ra(c,e,`${n}${l}`,a);case"(":return Ra(c,e,`${n}${l}`,a+1);case")":return Ra(c,e,`${n}${l}`,a-1);default:return Ra(c,e,`${n}${l}`,a)}}if(n==="")return e;if(a!==0)throw new IY({current:n,depth:a});return e.push(n.trim()),e}function Qk(t){return t==="address"||t==="bool"||t==="function"||t==="string"||Yk.test(t)||Tk.test(t)}const ZY=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function GY(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||Yk.test(t)||Tk.test(t)||ZY.test(t)}function BY(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function O1(t){const e={},n=t.length;for(let l=0;l<n;l++){const c=t[l];if(!hA(c))continue;const g=LH(c);if(!g)throw new _g({signature:c,type:"struct"});const u=g.properties.split(";"),I=[],p=u.length;for(let A=0;A<p;A++){const S=u[A].trim();if(!S)continue;const B=Oi(S,{type:"struct"});I.push(B)}if(!I.length)throw new gY({signature:c});e[g.name]=I}const a={},s=Object.entries(e),r=s.length;for(let l=0;l<r;l++){const[c,g]=s[l];a[c]=Pk(g,e)}return a}const SY=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function Pk(t,e,n=new Set){const a=[],s=t.length;for(let r=0;r<s;r++){const l=t[r];if(Fk.test(l.type))a.push(l);else{const g=qi(SY,l.type);if(!(g!=null&&g.type))throw new lY({abiParameter:l});const{array:u,type:I}=g;if(I in e){if(n.has(I))throw new dY({type:I});a.push({...l,type:`tuple${u??""}`,components:Pk(e[I]??[],e,new Set([...n,I]))})}else if(Qk(I))a.push(l);else throw new tY({type:I})}}return a}function Ju(t){const e=O1(t),n=[],a=t.length;for(let s=0;s<a;s++){const r=t[s];hA(r)||n.push(Nh(r,e))}return n}function VB(t){let e;if(typeof t=="string")e=Nh(t);else{const n=O1(t),a=t.length;for(let s=0;s<a;s++){const r=t[s];if(!hA(r)){e=Nh(r,n);break}}}if(!e)throw new eY({signature:t});return e}function Hh(t){const e=[];if(typeof t=="string"){const n=Ra(t),a=n.length;for(let s=0;s<a;s++)e.push(Oi(n[s],{modifiers:kB}))}else{const n=O1(t),a=t.length;for(let s=0;s<a;s++){const r=t[s];if(hA(r))continue;const l=Ra(r),c=l.length;for(let g=0;g<c;g++)e.push(Oi(l[g],{modifiers:kB,structs:n}))}}if(e.length===0)throw new aY({params:t});return e}var wY={abi:[{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract GnosisSafe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"}]},kY={abi:[{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"encodeMessageDataForSafe",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"}]},VY={abi:[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!1,inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},WY={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}]},RY={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}]},vY={abi:[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}]},XY={abi:[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}]},JY={abi:[{constant:!1,inputs:[{name:"owner",type:"address"},{name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"signedMessages",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"module",type:"address"}],name:"enableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_masterCopy",type:"address"}],name:"changeMasterCopy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"SENTINEL_MODULES",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SENTINEL_OWNERS",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getOwners",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"NAME",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getModules",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SAFE_MSG_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SAFE_TX_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"prevModule",type:"address"},{name:"module",type:"address"}],name:"disableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"prevOwner",type:"address"},{name:"oldOwner",type:"address"},{name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getThreshold",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"prevOwner",type:"address"},{name:"owner",type:"address"},{name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!1,name:"txHash",type:"bytes32"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newContract",type:"address"}],name:"ContractCreation",type:"event"},{constant:!1,inputs:[{name:"_owners",type:"address[]"},{name:"_threshold",type:"uint256"},{name:"to",type:"address"},{name:"data",type:"bytes"},{name:"paymentToken",type:"address"},{name:"payment",type:"uint256"},{name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_data",type:"bytes"}],name:"signMessage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}]},EY={abi:[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"masterCopy",type:"address"}],name:"ChangedMasterCopy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract Module",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract Module",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!0,inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_masterCopy",type:"address"}],name:"changeMasterCopy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"contract Module",name:"prevModule",type:"address"},{internalType:"contract Module",name:"module",type:"address"}],name:"disableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"contract Module",name:"module",type:"address"}],name:"enableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"signMessage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}]},xY={abi:[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"masterCopy",type:"address"}],name:"ChangedMasterCopy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract Module",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract Module",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!0,inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_masterCopy",type:"address"}],name:"changeMasterCopy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"contract Module",name:"prevModule",type:"address"},{internalType:"contract Module",name:"module",type:"address"}],name:"disableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"contract Module",name:"module",type:"address"}],name:"enableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"contract Module",name:"module",type:"address"}],name:"isModuleEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"signMessage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}]},NY={abi:[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"handler",type:"address"}],name:"ChangedFallbackHandler",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"guard",type:"address"}],name:"ChangedGuard",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"SafeModuleTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{indexed:!1,internalType:"uint256",name:"safeTxGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"gasPrice",type:"uint256"},{indexed:!1,internalType:"address",name:"gasToken",type:"address"},{indexed:!1,internalType:"address payable",name:"refundReceiver",type:"address"},{indexed:!1,internalType:"bytes",name:"signatures",type:"bytes"},{indexed:!1,internalType:"bytes",name:"additionalInfo",type:"bytes"}],name:"SafeMultiSigTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SafeReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!1,internalType:"address[]",name:"owners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"},{indexed:!1,internalType:"address",name:"initializer",type:"address"},{indexed:!1,internalType:"address",name:"fallbackHandler",type:"address"}],name:"SafeSetup",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{stateMutability:"nonpayable",type:"fallback"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"},{internalType:"uint256",name:"requiredSignatures",type:"uint256"}],name:"checkNSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"checkSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevModule",type:"address"},{internalType:"address",name:"module",type:"address"}],name:"disableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"enableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"length",type:"uint256"}],name:"getStorageAt",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"isModuleEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guard",type:"address"}],name:"setGuard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},HY={abi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"handler",type:"address"}],name:"ChangedFallbackHandler",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guard",type:"address"}],name:"ChangedGuard",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"SafeModuleTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{indexed:!1,internalType:"uint256",name:"safeTxGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"gasPrice",type:"uint256"},{indexed:!1,internalType:"address",name:"gasToken",type:"address"},{indexed:!1,internalType:"address payable",name:"refundReceiver",type:"address"},{indexed:!1,internalType:"bytes",name:"signatures",type:"bytes"},{indexed:!1,internalType:"bytes",name:"additionalInfo",type:"bytes"}],name:"SafeMultiSigTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SafeReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!1,internalType:"address[]",name:"owners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"},{indexed:!1,internalType:"address",name:"initializer",type:"address"},{indexed:!1,internalType:"address",name:"fallbackHandler",type:"address"}],name:"SafeSetup",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{stateMutability:"nonpayable",type:"fallback"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"},{internalType:"uint256",name:"requiredSignatures",type:"uint256"}],name:"checkNSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"checkSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevModule",type:"address"},{internalType:"address",name:"module",type:"address"}],name:"disableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"enableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"length",type:"uint256"}],name:"getStorageAt",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"isModuleEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guard",type:"address"}],name:"setGuard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},YY={abi:[{constant:!1,inputs:[{name:"_mastercopy",type:"address"},{name:"initializer",type:"bytes"},{name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyCreationCode",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"masterCopy",type:"address"},{name:"data",type:"bytes"}],name:"createProxy",outputs:[{name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyRuntimeCode",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"proxy",type:"address"}],name:"ProxyCreation",type:"event"}]},TY={abi:[{anonymous:!1,inputs:[{indexed:!1,internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],name:"ProxyCreation",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"masterCopy",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"createProxy",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyRuntimeCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"calculateCreateProxyWithNonceAddress",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},FY={abi:[{anonymous:!1,inputs:[{indexed:!1,internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"},{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ProxyCreation",type:"event"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"calculateCreateProxyWithNonceAddress",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"singleton",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"createProxy",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"proxyRuntimeCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}]},KY={abi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"contract SafeProxy",name:"proxy",type:"address"},{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ProxyCreation",type:"event"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createChainSpecificProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}]},MY={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"simulate",outputs:[{internalType:"uint256",name:"estimate",type:"uint256"},{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"}]},UY={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"simulate",outputs:[{internalType:"uint256",name:"estimate",type:"uint256"},{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"}]},DY={abi:[{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"createSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"getSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"isValidSignatureForSigner",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}]},zY={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"NotDelegateCalled",type:"error"},{inputs:[],name:"SIGNER_SLOT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getConfiguration",outputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}]},Di=(t=>(t[t.Call=0]="Call",t[t.DelegateCall=1]="DelegateCall",t))(Di||{}),rn=(t=>(t.ETH_SIGN="eth_sign",t.ETH_SIGN_TYPED_DATA="eth_signTypedData",t.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",t.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",t.SAFE_SIGNATURE="safe_sign",t))(rn||{});function Ye(t,e,n){const a=t[e.name];if(typeof a=="function")return a;const s=t[n];return typeof s=="function"?s:r=>e(t,r)}function ws(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new nT(t.type);return`${t.name}(${fA(t.inputs,{includeName:e})})`}function fA(t,{includeName:e=!1}={}){return t?t.map(n=>LY(n,{includeName:e})).join(e?", ":","):""}function LY(t,{includeName:e}){return t.type.startsWith("tuple")?`(${fA(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function qa(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function Et(t){return qa(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Ok="2.30.6";let Pd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${Ok}`},ge=class Yh extends Error{constructor(e,n={}){var c;const a=(()=>{var g;return n.cause instanceof Yh?n.cause.details:(g=n.cause)!=null&&g.message?n.cause.message:n.details})(),s=n.cause instanceof Yh&&n.cause.docsPath||n.docsPath,r=(c=Pd.getDocsUrl)==null?void 0:c.call(Pd,{...n,docsPath:s}),l=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Docs: ${r}`]:[],...a?[`Details: ${a}`]:[],...Pd.version?[`Version: ${Pd.version}`]:[]].join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=a,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=Ok}walk(e){return jk(this,e)}};function jk(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?jk(t.cause,e):e?null:t}class QY extends ge{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class WB extends ge{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class _k extends ge{constructor({data:e,params:n,size:a}){super([`Data size of ${a} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${fA(n,{includeName:!0})})`,`Data:   ${e} (${a} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=a}}class Eu extends ge{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class PY extends ge{constructor({expectedLength:e,givenLength:n,type:a}){super([`ABI encoding array length mismatch for type ${a}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class OY extends ge{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${Et(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class qk extends ge{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class jY extends ge{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class RB extends ge{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class $k extends ge{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class _Y extends ge{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class e9 extends ge{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class vB extends ge{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class Mg extends ge{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class t9 extends ge{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class qY extends ge{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class $Y extends ge{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${ws(e.abiItem)}\`, and`,`\`${n.type}\` in \`${ws(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let n9=class extends ge{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class xI extends ge{constructor({abiItem:e,data:n,params:a,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${fA(a,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=a,this.size=s}}class ZA extends ge{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${ws(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class eT extends ge{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class tT extends ge{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let a9=class extends ge{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class nT extends ge{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class aT extends ge{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class sT extends ge{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let s9=class extends ge{constructor({offset:e,position:n,size:a}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${a}).`,{name:"SliceOffsetOutOfBoundsError"})}},i9=class extends ge{constructor({size:e,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class XB extends ge{constructor({size:e,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} is expected to be ${n} ${a} long, but is ${e} ${a} long.`,{name:"InvalidBytesLengthError"})}}function _a(t,{dir:e,size:n=32}={}){return typeof t=="string"?_r(t,{dir:e,size:n}):iT(t,{dir:e,size:n})}function _r(t,{dir:e,size:n=32}={}){if(n===null)return t;const a=t.replace("0x","");if(a.length>n*2)throw new i9({size:Math.ceil(a.length/2),targetSize:n,type:"hex"});return`0x${a[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function iT(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new i9({size:t.length,targetSize:n,type:"bytes"});const a=new Uint8Array(n);for(let s=0;s<n;s++){const r=e==="right";a[r?s:n-s-1]=t[r?s:t.length-s-1]}return a}let r9=class extends ge{constructor({max:e,min:n,signed:a,size:s,value:r}){super(`Number "${r}" is not in safe ${s?`${s*8}-bit ${a?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class rT extends ge{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class oT extends ge{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let lT=class extends ge{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Dn(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,a=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)a++;return n=e==="left"?n.slice(a):n.slice(0,n.length-a),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function es(t,{size:e}){if(Et(t)>e)throw new lT({givenSize:Et(t),maxSize:e})}function JB(t,e){const n={to:e},a=n.to;return a==="number"?Ia(t,n):a==="bigint"?rt(t,n):a==="string"?cT(t,n):a==="boolean"?o9(t,n):bn(t,n)}function rt(t,e={}){const{signed:n}=e;e.size&&es(t,{size:e.size});const a=BigInt(t);if(!n)return a;const s=(t.length-2)/2,r=(1n<<BigInt(s)*8n-1n)-1n;return a<=r?a:a-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function o9(t,e={}){let n=t;if(e.size&&(es(n,{size:e.size}),n=Dn(n)),Dn(n)==="0x00")return!1;if(Dn(n)==="0x01")return!0;throw new oT(n)}function Ia(t,e={}){return Number(rt(t,e))}function cT(t,e={}){let n=bn(t);return e.size&&(es(n,{size:e.size}),n=Dn(n,{dir:"right"})),new TextDecoder().decode(n)}const gT=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ge(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ne(t,e):typeof t=="string"?vl(t,e):typeof t=="boolean"?j1(t,e):Ft(t,e)}function j1(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(es(n,{size:e.size}),_a(n,{size:e.size})):n}function Ft(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=gT[t[s]];const a=`0x${n}`;return typeof e.size=="number"?(es(a,{size:e.size}),_a(a,{dir:"right",size:e.size})):a}function Ne(t,e={}){const{signed:n,size:a}=e,s=BigInt(t);let r;a?n?r=(1n<<BigInt(a)*8n-1n)-1n:r=2n**(BigInt(a)*8n)-1n:typeof t=="number"&&(r=BigInt(Number.MAX_SAFE_INTEGER));const l=typeof r=="bigint"&&n?-r-1n:0;if(r&&s>r||s<l){const g=typeof t=="bigint"?"n":"";throw new r9({max:r?`${r}${g}`:void 0,min:`${l}${g}`,signed:n,size:a,value:`${t}${g}`})}const c=`0x${(n&&s<0?(1n<<BigInt(a*8))+BigInt(s):s).toString(16)}`;return a?_a(c,{size:a}):c}const dT=new TextEncoder;function vl(t,e={}){const n=dT.encode(t);return Ft(n,e)}const IT=new TextEncoder;function gn(t,e={}){return typeof t=="number"||typeof t=="bigint"?CT(t,e):typeof t=="boolean"?uT(t,e):qa(t)?bn(t,e):qr(t,e)}function uT(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(es(n,{size:e.size}),_a(n,{size:e.size})):n}const mi={zero:48,nine:57,A:65,F:70,a:97,f:102};function EB(t){if(t>=mi.zero&&t<=mi.nine)return t-mi.zero;if(t>=mi.A&&t<=mi.F)return t-(mi.A-10);if(t>=mi.a&&t<=mi.f)return t-(mi.a-10)}function bn(t,e={}){let n=t;e.size&&(es(n,{size:e.size}),n=_a(n,{dir:"right",size:e.size}));let a=n.slice(2);a.length%2&&(a=`0${a}`);const s=a.length/2,r=new Uint8Array(s);for(let l=0,c=0;l<s;l++){const g=EB(a.charCodeAt(c++)),u=EB(a.charCodeAt(c++));if(g===void 0||u===void 0)throw new ge(`Invalid byte sequence ("${a[c-2]}${a[c-1]}" in "${a}").`);r[l]=g*16+u}return r}function CT(t,e){const n=Ne(t,e);return bn(n)}function qr(t,e={}){const n=IT.encode(t);return typeof e.size=="number"?(es(n,{size:e.size}),_a(n,{dir:"right",size:e.size})):n}const pp=BigInt(2**32-1),xB=BigInt(32);function pT(t,e=!1){return e?{h:Number(t&pp),l:Number(t>>xB&pp)}:{h:Number(t>>xB&pp)|0,l:Number(t&pp)|0}}function l9(t,e=!1){const n=t.length;let a=new Uint32Array(n),s=new Uint32Array(n);for(let r=0;r<n;r++){const{h:l,l:c}=pT(t[r],e);[a[r],s[r]]=[l,c]}return[a,s]}const NB=(t,e,n)=>t>>>n,HB=(t,e,n)=>t<<32-n|e>>>n,Ac=(t,e,n)=>t>>>n|e<<32-n,yc=(t,e,n)=>t<<32-n|e>>>n,mp=(t,e,n)=>t<<64-n|e>>>n-32,Ap=(t,e,n)=>t>>>n-32|e<<64-n,mT=(t,e,n)=>t<<n|e>>>32-n,AT=(t,e,n)=>e<<n|t>>>32-n,yT=(t,e,n)=>e<<n-32|t>>>64-n,bT=(t,e,n)=>t<<n-32|e>>>64-n;function Ai(t,e,n,a){const s=(e>>>0)+(a>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const hT=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),fT=(t,e,n,a)=>e+n+a+(t/2**32|0)|0,ZT=(t,e,n,a)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0),GT=(t,e,n,a,s)=>e+n+a+s+(t/2**32|0)|0,BT=(t,e,n,a,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0)+(s>>>0),ST=(t,e,n,a,s,r)=>e+n+a+s+r+(t/2**32|0)|0,bc=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function wT(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function NI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Xl(t,...e){if(!wT(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function kT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");NI(t.outputLen),NI(t.blockLen)}function Ug(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function c9(t,e){Xl(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function VT(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function so(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function rb(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function xs(t,e){return t<<32-e|t>>>e}const WT=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function RT(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function vT(t){for(let e=0;e<t.length;e++)t[e]=RT(t[e]);return t}const YB=WT?t=>t:vT;function XT(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function GA(t){return typeof t=="string"&&(t=XT(t)),Xl(t),t}function JT(...t){let e=0;for(let a=0;a<t.length;a++){const s=t[a];Xl(s),e+=s.length}const n=new Uint8Array(e);for(let a=0,s=0;a<t.length;a++){const r=t[a];n.set(r,s),s+=r.length}return n}class _1{}function BA(t){const e=a=>t().update(GA(a)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function ET(t=32){if(bc&&typeof bc.getRandomValues=="function")return bc.getRandomValues(new Uint8Array(t));if(bc&&typeof bc.randomBytes=="function")return Uint8Array.from(bc.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const xT=BigInt(0),Od=BigInt(1),NT=BigInt(2),HT=BigInt(7),YT=BigInt(256),TT=BigInt(113),g9=[],d9=[],I9=[];for(let t=0,e=Od,n=1,a=0;t<24;t++){[n,a]=[a,(2*n+3*a)%5],g9.push(2*(5*a+n)),d9.push((t+1)*(t+2)/2%64);let s=xT;for(let r=0;r<7;r++)e=(e<<Od^(e>>HT)*TT)%YT,e&NT&&(s^=Od<<(Od<<BigInt(r))-Od);I9.push(s)}const u9=l9(I9,!0),FT=u9[0],KT=u9[1],TB=(t,e,n)=>n>32?yT(t,e,n):mT(t,e,n),FB=(t,e,n)=>n>32?bT(t,e,n):AT(t,e,n);function MT(t,e=24){const n=new Uint32Array(10);for(let a=24-e;a<24;a++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const c=(l+8)%10,g=(l+2)%10,u=n[g],I=n[g+1],p=TB(u,I,1)^n[c],A=FB(u,I,1)^n[c+1];for(let Z=0;Z<50;Z+=10)t[l+Z]^=p,t[l+Z+1]^=A}let s=t[2],r=t[3];for(let l=0;l<24;l++){const c=d9[l],g=TB(s,r,c),u=FB(s,r,c),I=g9[l];s=t[I],r=t[I+1],t[I]=g,t[I+1]=u}for(let l=0;l<50;l+=10){for(let c=0;c<10;c++)n[c]=t[l+c];for(let c=0;c<10;c++)t[l+c]^=~n[(c+2)%10]&n[(c+4)%10]}t[0]^=FT[a],t[1]^=KT[a]}so(n)}class q1 extends _1{constructor(e,n,a,s=!1,r=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=a,this.enableXOF=s,this.rounds=r,NI(a),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=VT(this.state)}clone(){return this._cloneInto()}keccak(){YB(this.state32),MT(this.state32,this.rounds),YB(this.state32),this.posOut=0,this.pos=0}update(e){Ug(this),e=GA(e),Xl(e);const{blockLen:n,state:a}=this,s=e.length;for(let r=0;r<s;){const l=Math.min(n-this.pos,s-r);for(let c=0;c<l;c++)a[this.pos++]^=e[r++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:a,blockLen:s}=this;e[a]^=n,(n&128)!==0&&a===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Ug(this,!1),Xl(e),this.finish();const n=this.state,{blockLen:a}=this;for(let s=0,r=e.length;s<r;){this.posOut>=a&&this.keccak();const l=Math.min(a-this.posOut,r-s);e.set(n.subarray(this.posOut,this.posOut+l),s),this.posOut+=l,s+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return NI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(c9(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,so(this.state)}_cloneInto(e){const{blockLen:n,suffix:a,outputLen:s,rounds:r,enableXOF:l}=this;return e||(e=new q1(n,a,s,l,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=a,e.outputLen=s,e.enableXOF=l,e.destroyed=this.destroyed,e}}const UT=(t,e,n)=>BA(()=>new q1(e,t,n)),C9=UT(1,136,256/8);function ct(t,e){const n=e||"hex",a=C9(qa(t,{strict:!1})?gn(t):t);return n==="bytes"?a:Ge(a)}const DT=t=>ct(gn(t));function zT(t){return DT(t)}function LT(t){let e=!0,n="",a=0,s="",r=!1;for(let l=0;l<t.length;l++){const c=t[l];if(["(",")",","].includes(c)&&(e=!0),c==="("&&a++,c===")"&&a--,!!e){if(a===0){if(c===" "&&["event","function",""].includes(s))s="";else if(s+=c,c===")"){r=!0;break}continue}if(c===" "){t[l-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=c,n+=c}}if(!r)throw new ge("Unable to normalize signature.");return s}const QT=t=>{const e=typeof t=="string"?t:Rm(t);return LT(e)};function p9(t){return zT(QT(t))}const SA=p9;let Tt=class extends ge{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},wA=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const a=this.keys().next().value;a&&this.delete(a)}return this}};const ob=new wA(8192);function xu(t,e){if(ob.has(`${t}.${e}`))return ob.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),a=ct(qr(n),"bytes"),s=n.split("");for(let l=0;l<40;l+=2)a[l>>1]>>4>=8&&s[l]&&(s[l]=s[l].toUpperCase()),(a[l>>1]&15)>=8&&s[l+1]&&(s[l+1]=s[l+1].toUpperCase());const r=`0x${s.join("")}`;return ob.set(`${t}.${e}`,r),r}function Dg(t,e){if(!pt(t,{strict:!1}))throw new Tt({address:t});return xu(t,e)}const PT=/^0x[a-fA-F0-9]{40}$/,lb=new wA(8192);function pt(t,e){const{strict:n=!0}=e??{},a=`${t}.${n}`;if(lb.has(a))return lb.get(a);const s=PT.test(t)?t.toLowerCase()===t?!0:n?xu(t)===t:!0:!1;return lb.set(a,s),s}function Ln(t){return typeof t[0]=="string"?Qn(t):OT(t)}function OT(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let a=0;for(const s of t)n.set(s,a),a+=s.length;return n}function Qn(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function io(t,e,n,{strict:a}={}){return qa(t,{strict:!1})?vm(t,e,n,{strict:a}):y9(t,e,n,{strict:a})}function m9(t,e){if(typeof e=="number"&&e>0&&e>Et(t)-1)throw new s9({offset:e,position:"start",size:Et(t)})}function A9(t,e,n){if(typeof e=="number"&&typeof n=="number"&&Et(t)!==n-e)throw new s9({offset:n,position:"end",size:Et(t)})}function y9(t,e,n,{strict:a}={}){m9(t,e);const s=t.slice(e,n);return a&&A9(s,e,n),s}function vm(t,e,n,{strict:a}={}){m9(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return a&&A9(s,e,n),s}const jT=/^(.*)\[([0-9]*)\]$/,b9=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,$1=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ts(t,e){if(t.length!==e.length)throw new qk({expectedLength:t.length,givenLength:e.length});const n=_T({params:t,values:e}),a=tf(n);return a.length===0?"0x":a}function _T({params:t,values:e}){const n=[];for(let a=0;a<t.length;a++)n.push(ef({param:t[a],value:e[a]}));return n}function ef({param:t,value:e}){const n=nf(t.type);if(n){const[a,s]=n;return $T(e,{length:a,param:{...t,type:s}})}if(t.type==="tuple")return sF(e,{param:t});if(t.type==="address")return qT(e);if(t.type==="bool")return tF(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const a=t.type.startsWith("int"),[,,s="256"]=$1.exec(t.type)??[];return nF(e,{signed:a,size:Number(s)})}if(t.type.startsWith("bytes"))return eF(e,{param:t});if(t.type==="string")return aF(e);throw new eT(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function tf(t){let e=0;for(let r=0;r<t.length;r++){const{dynamic:l,encoded:c}=t[r];l?e+=32:e+=Et(c)}const n=[],a=[];let s=0;for(let r=0;r<t.length;r++){const{dynamic:l,encoded:c}=t[r];l?(n.push(Ne(e+s,{size:32})),a.push(c),s+=Et(c)):n.push(c)}return Ln([...n,...a])}function qT(t){if(!pt(t))throw new Tt({address:t});return{dynamic:!1,encoded:_r(t.toLowerCase())}}function $T(t,{length:e,param:n}){const a=e===null;if(!Array.isArray(t))throw new a9(t);if(!a&&t.length!==e)throw new PY({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const r=[];for(let l=0;l<t.length;l++){const c=ef({param:n,value:t[l]});c.dynamic&&(s=!0),r.push(c)}if(a||s){const l=tf(r);if(a){const c=Ne(r.length,{size:32});return{dynamic:!0,encoded:r.length>0?Ln([c,l]):c}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:Ln(r.map(({encoded:l})=>l))}}function eF(t,{param:e}){const[,n]=e.type.split("bytes"),a=Et(t);if(!n){let s=t;return a%32!==0&&(s=_r(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:Ln([_r(Ne(a,{size:32})),s])}}if(a!==Number.parseInt(n))throw new OY({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:_r(t,{dir:"right"})}}function tF(t){if(typeof t!="boolean")throw new ge(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:_r(j1(t))}}function nF(t,{signed:e,size:n=256}){if(typeof n=="number"){const a=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-a-1n:0n;if(t>a||t<s)throw new r9({max:a.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ne(t,{size:32,signed:e})}}function aF(t){const e=vl(t),n=Math.ceil(Et(e)/32),a=[];for(let s=0;s<n;s++)a.push(_r(io(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:Ln([_r(Ne(Et(e),{size:32})),...a])}}function sF(t,{param:e}){let n=!1;const a=[];for(let s=0;s<e.components.length;s++){const r=e.components[s],l=Array.isArray(t)?s:r.name,c=ef({param:r,value:t[l]});a.push(c),c.dynamic&&(n=!0)}return{dynamic:n,encoded:n?tf(a):Ln(a.map(({encoded:s})=>s))}}function nf(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Nu=t=>io(p9(t),0,4);function Kl(t){const{abi:e,args:n=[],name:a}=t,s=qa(a,{strict:!1}),r=e.filter(c=>s?c.type==="function"?Nu(c)===a:c.type==="event"?SA(c)===a:!1:"name"in c&&c.name===a);if(r.length===0)return;if(r.length===1)return r[0];let l;for(const c of r){if(!("inputs"in c))continue;if(!n||n.length===0){if(!c.inputs||c.inputs.length===0)return c;continue}if(!c.inputs||c.inputs.length===0||c.inputs.length!==n.length)continue;if(n.every((u,I)=>{const p="inputs"in c&&c.inputs[I];return p?Th(u,p):!1})){if(l&&"inputs"in l&&l.inputs){const u=h9(c.inputs,l.inputs,n);if(u)throw new $Y({abiItem:c,type:u[0]},{abiItem:l,type:u[1]})}l=c}}return l||r[0]}function Th(t,e){const n=typeof t,a=e.type;switch(a){case"address":return pt(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return a==="tuple"&&"components"in e?Object.values(e.components).every((s,r)=>Th(Object.values(t)[r],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a)?Array.isArray(t)&&t.every(s=>Th(s,{...e,type:a.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function h9(t,e,n){for(const a in t){const s=t[a],r=e[a];if(s.type==="tuple"&&r.type==="tuple"&&"components"in s&&"components"in r)return h9(s.components,r.components,n[a]);const l=[s.type,r.type];if(l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?pt(n[a],{strict:!1}):l.includes("address")&&l.includes("bytes")?pt(n[a],{strict:!1}):!1)return l}}const KB="/docs/contract/encodeEventTopics";function Hu(t){var g;const{abi:e,eventName:n,args:a}=t;let s=e[0];if(n){const u=Kl({abi:e,name:n});if(!u)throw new vB(n,{docsPath:KB});s=u}if(s.type!=="event")throw new vB(void 0,{docsPath:KB});const r=ws(s),l=SA(r);let c=[];if(a&&"inputs"in s){const u=(g=s.inputs)==null?void 0:g.filter(p=>"indexed"in p&&p.indexed),I=Array.isArray(a)?a:Object.values(a).length>0?(u==null?void 0:u.map(p=>a[p.name]))??[]:[];I.length>0&&(c=(u==null?void 0:u.map((p,A)=>Array.isArray(I[A])?I[A].map((Z,S)=>MB({param:p,value:I[A][S]})):typeof I[A]<"u"&&I[A]!==null?MB({param:p,value:I[A]}):null))??[])}return[l,...c]}function MB({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return ct(gn(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new sT(t.type);return ts([t],[e])}function kA(t,{method:e}){var a,s;const n={};return t.transport.type==="fallback"&&((s=(a=t.transport).onResponse)==null||s.call(a,({method:r,response:l,status:c,transport:g})=>{c==="success"&&e===r&&(n[l]=g.request)})),r=>n[r]||t.request}async function f9(t,e){const{address:n,abi:a,args:s,eventName:r,fromBlock:l,strict:c,toBlock:g}=e,u=kA(t,{method:"eth_newFilter"}),I=r?Hu({abi:a,args:s,eventName:r}):void 0,p=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof l=="bigint"?Ne(l):l,toBlock:typeof g=="bigint"?Ne(g):g,topics:I}]});return{abi:a,args:s,eventName:r,id:p,request:u(p),strict:!!c,type:"event"}}function Kt(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const UB="/docs/contract/encodeFunctionData";function iF(t){const{abi:e,args:n,functionName:a}=t;let s=e[0];if(a){const r=Kl({abi:e,args:n,name:a});if(!r)throw new Mg(a,{docsPath:UB});s=r}if(s.type!=="function")throw new Mg(void 0,{docsPath:UB});return{abi:[s],functionName:Nu(ws(s))}}function pa(t){const{args:e}=t,{abi:n,functionName:a}=(()=>{var c;return t.abi.length===1&&((c=t.functionName)!=null&&c.startsWith("0x"))?t:iF(t)})(),s=n[0],r=a,l="inputs"in s&&s.inputs?ts(s.inputs,e??[]):void 0;return Qn([r,l??"0x"])}const Z9={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},G9={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},rF={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class DB extends ge{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class B9 extends ge{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class oF extends ge{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const lF={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new oF({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new B9({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new DB({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new DB({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function af(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(lF);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function cF(t,e){const n={to:e},a=n.to;return a==="number"?$s(t,n):a==="bigint"?S9(t,n):a==="boolean"?w9(t,n):a==="string"?k9(t,n):Ft(t,n)}function S9(t,e={}){typeof e.size<"u"&&es(t,{size:e.size});const n=Ft(t,e);return rt(n,e)}function w9(t,e={}){let n=t;if(typeof e.size<"u"&&(es(n,{size:e.size}),n=Dn(n)),n.length>1||n[0]>1)throw new rT(n);return!!n[0]}function $s(t,e={}){typeof e.size<"u"&&es(t,{size:e.size});const n=Ft(t,e);return Ia(n,e)}function k9(t,e={}){let n=t;return typeof e.size<"u"&&(es(n,{size:e.size}),n=Dn(n,{dir:"right"})),new TextDecoder().decode(n)}function qg(t,e){const n=typeof e=="string"?bn(e):e,a=af(n);if(Et(n)===0&&t.length>0)throw new Eu;if(Et(e)&&Et(e)<32)throw new _k({data:typeof e=="string"?e:Ft(e),params:t,size:Et(e)});let s=0;const r=[];for(let l=0;l<t.length;++l){const c=t[l];a.setPosition(s);const[g,u]=Yc(a,c,{staticPosition:0});s+=u,r.push(g)}return r}function Yc(t,e,{staticPosition:n}){const a=nf(e.type);if(a){const[s,r]=a;return dF(t,{...e,type:r},{length:s,staticPosition:n})}if(e.type==="tuple")return pF(t,e,{staticPosition:n});if(e.type==="address")return gF(t);if(e.type==="bool")return IF(t);if(e.type.startsWith("bytes"))return uF(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return CF(t,e);if(e.type==="string")return mF(t,{staticPosition:n});throw new tT(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const zB=32,Fh=32;function gF(t){const e=t.readBytes(32);return[xu(Ft(y9(e,-20))),32]}function dF(t,e,{length:n,staticPosition:a}){if(!n){const l=$s(t.readBytes(Fh)),c=a+l,g=c+zB;t.setPosition(c);const u=$s(t.readBytes(zB)),I=HI(e);let p=0;const A=[];for(let Z=0;Z<u;++Z){t.setPosition(g+(I?Z*32:p));const[S,B]=Yc(t,e,{staticPosition:g});p+=B,A.push(S)}return t.setPosition(a+32),[A,32]}if(HI(e)){const l=$s(t.readBytes(Fh)),c=a+l,g=[];for(let u=0;u<n;++u){t.setPosition(c+u*32);const[I]=Yc(t,e,{staticPosition:c});g.push(I)}return t.setPosition(a+32),[g,32]}let s=0;const r=[];for(let l=0;l<n;++l){const[c,g]=Yc(t,e,{staticPosition:a+s});s+=g,r.push(c)}return[r,s]}function IF(t){return[w9(t.readBytes(32),{size:32}),32]}function uF(t,e,{staticPosition:n}){const[a,s]=e.type.split("bytes");if(!s){const l=$s(t.readBytes(32));t.setPosition(n+l);const c=$s(t.readBytes(32));if(c===0)return t.setPosition(n+32),["0x",32];const g=t.readBytes(c);return t.setPosition(n+32),[Ft(g),32]}return[Ft(t.readBytes(Number.parseInt(s),32)),32]}function CF(t,e){const n=e.type.startsWith("int"),a=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[a>48?S9(s,{signed:n}):$s(s,{signed:n}),32]}function pF(t,e,{staticPosition:n}){const a=e.components.length===0||e.components.some(({name:l})=>!l),s=a?[]:{};let r=0;if(HI(e)){const l=$s(t.readBytes(Fh)),c=n+l;for(let g=0;g<e.components.length;++g){const u=e.components[g];t.setPosition(c+r);const[I,p]=Yc(t,u,{staticPosition:c});r+=p,s[a?g:u==null?void 0:u.name]=I}return t.setPosition(n+32),[s,32]}for(let l=0;l<e.components.length;++l){const c=e.components[l],[g,u]=Yc(t,c,{staticPosition:n});s[a?l:c==null?void 0:c.name]=g,r+=u}return[s,r]}function mF(t,{staticPosition:e}){const n=$s(t.readBytes(32)),a=e+n;t.setPosition(a);const s=$s(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const r=t.readBytes(s,32),l=k9(Dn(r));return t.setPosition(e+32),[l,32]}function HI(t){var a;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(a=t.components)==null?void 0:a.some(HI);const n=nf(t.type);return!!(n&&HI({...t,type:n[1]}))}function AF(t){const{abi:e,data:n}=t,a=io(n,0,4);if(a==="0x")throw new Eu;const r=[...e||[],G9,rF].find(l=>l.type==="error"&&a===Nu(ws(l)));if(!r)throw new $k(a,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:r,args:"inputs"in r&&r.inputs&&r.inputs.length>0?qg(r.inputs,io(n,4)):void 0,errorName:r.name}}const $t=(t,e,n)=>JSON.stringify(t,(a,s)=>typeof s=="bigint"?s.toString():s,n);function V9({abiItem:t,args:e,includeFunctionName:n=!0,includeName:a=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,r)=>`${a&&s.name?`${s.name}: `:""}${typeof e[r]=="object"?$t(e[r]):e[r]}`).join(", ")})`}const W9={gwei:9,wei:18},yF={ether:-9,wei:9};function R9(t,e){let n=t.toString();const a=n.startsWith("-");a&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,r]=[n.slice(0,n.length-e),n.slice(n.length-e)];return r=r.replace(/(0+)$/,""),`${a?"-":""}${s||"0"}${r?`.${r}`:""}`}function sf(t,e="wei"){return R9(t,W9[e])}function ga(t,e="wei"){return R9(t,yF[e])}class bF extends ge{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class hF extends ge{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function LB(t){return t.reduce((e,{slot:n,value:a})=>`${e}        ${n}: ${a}
`,"")}function fF(t){return t.reduce((e,{address:n,...a})=>{let s=`${e}    ${n}:
`;return a.nonce&&(s+=`      nonce: ${a.nonce}
`),a.balance&&(s+=`      balance: ${a.balance}
`),a.code&&(s+=`      code: ${a.code}
`),a.state&&(s+=`      state:
`,s+=LB(a.state)),a.stateDiff&&(s+=`      stateDiff:
`,s+=LB(a.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Yu(t){const e=Object.entries(t).map(([a,s])=>s===void 0||s===!1?null:[a,s]).filter(Boolean),n=e.reduce((a,[s])=>Math.max(a,s.length),0);return e.map(([a,s])=>`  ${`${a}:`.padEnd(n+1)}  ${s}`).join(`
`)}class ZF extends ge{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class GF extends ge{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class BF extends ge{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Yu(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class SF extends ge{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class wF extends ge{constructor(e,{account:n,docsPath:a,chain:s,data:r,gas:l,gasPrice:c,maxFeePerGas:g,maxPriorityFeePerGas:u,nonce:I,to:p,value:A}){var S;const Z=Yu({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:p,value:typeof A<"u"&&`${sf(A)} ${((S=s==null?void 0:s.nativeCurrency)==null?void 0:S.symbol)||"ETH"}`,data:r,gas:l,gasPrice:typeof c<"u"&&`${ga(c)} gwei`,maxFeePerGas:typeof g<"u"&&`${ga(g)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ga(u)} gwei`,nonce:I});super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",Z].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class v9 extends ge{constructor({blockHash:e,blockNumber:n,blockTag:a,hash:s,index:r}){let l="Transaction";a&&r!==void 0&&(l=`Transaction at block time "${a}" at index "${r}"`),e&&r!==void 0&&(l=`Transaction at block hash "${e}" at index "${r}"`),n&&r!==void 0&&(l=`Transaction at block number "${n}" at index "${r}"`),s&&(l=`Transaction with hash "${s}"`),super(`${l} could not be found.`,{name:"TransactionNotFoundError"})}}class X9 extends ge{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class kF extends ge{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const VF=t=>t,rf=t=>t;class J9 extends ge{constructor(e,{account:n,docsPath:a,chain:s,data:r,gas:l,gasPrice:c,maxFeePerGas:g,maxPriorityFeePerGas:u,nonce:I,to:p,value:A,stateOverride:Z}){var V;const S=n?Kt(n):void 0;let B=Yu({from:S==null?void 0:S.address,to:p,value:typeof A<"u"&&`${sf(A)} ${((V=s==null?void 0:s.nativeCurrency)==null?void 0:V.symbol)||"ETH"}`,data:r,gas:l,gasPrice:typeof c<"u"&&`${ga(c)} gwei`,maxFeePerGas:typeof g<"u"&&`${ga(g)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ga(u)} gwei`,nonce:I});Z&&(B+=`
${fF(Z)}`),super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",B].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class WF extends ge{constructor(e,{abi:n,args:a,contractAddress:s,docsPath:r,functionName:l,sender:c}){const g=Kl({abi:n,args:a,name:l}),u=g?V9({abiItem:g,args:a,includeFunctionName:!1,includeName:!1}):void 0,I=g?ws(g,{includeName:!0}):void 0,p=Yu({address:s&&VF(s),function:I,args:u&&u!=="()"&&`${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:c});super(e.shortMessage||`An unknown error occurred while executing the contract function "${l}".`,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=a,this.cause=e,this.contractAddress=s,this.functionName=l,this.sender=c}}class Kh extends ge{constructor({abi:e,data:n,functionName:a,message:s}){let r,l,c,g;if(n&&n!=="0x")try{l=AF({abi:e,data:n});const{abiItem:I,errorName:p,args:A}=l;if(p==="Error")g=A[0];else if(p==="Panic"){const[Z]=A;g=Z9[Z]}else{const Z=I?ws(I,{includeName:!0}):void 0,S=I&&A?V9({abiItem:I,args:A,includeFunctionName:!1,includeName:!1}):void 0;c=[Z?`Error: ${Z}`:"",S&&S!=="()"?`       ${[...Array((p==null?void 0:p.length)??0).keys()].map(()=>" ").join("")}${S}`:""]}}catch(I){r=I}else s&&(g=s);let u;r instanceof $k&&(u=r.signature,c=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(g&&g!=="execution reverted"||u?[`The contract function "${a}" reverted with the following ${u?"signature":"reason"}:`,g||u].join(`
`):`The contract function "${a}" reverted.`,{cause:r,metaMessages:c,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.raw=n,this.reason=g,this.signature=u}}class RF extends ge{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class vF extends ge{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class VA extends ge{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class hI extends ge{constructor({body:e,cause:n,details:a,headers:s,status:r,url:l}){super("HTTP request failed.",{cause:n,details:a,metaMessages:[r&&`Status: ${r}`,`URL: ${rf(l)}`,e&&`Request body: ${$t(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=r,this.url=l}}class of extends ge{constructor({body:e,error:n,url:a}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${rf(a)}`,`Request body: ${$t(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class QB extends ge{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${rf(n)}`,`Request body: ${$t(e)}`],name:"TimeoutError"})}}const XF=-1;class ma extends ge{constructor(e,{code:n,docsPath:a,metaMessages:s,name:r,shortMessage:l}){super(l,{cause:e,docsPath:a,metaMessages:s||(e==null?void 0:e.metaMessages),name:r||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=r||e.name,this.code=e instanceof of?e.code:n??XF}}class Xa extends ma{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class YI extends ma{constructor(e){super(e,{code:YI.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(YI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class TI extends ma{constructor(e){super(e,{code:TI.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(TI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class FI extends ma{constructor(e,{method:n}={}){super(e,{code:FI.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(FI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class KI extends ma{constructor(e){super(e,{code:KI.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(KI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class Jl extends ma{constructor(e){super(e,{code:Jl.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(Jl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class El extends ma{constructor(e){super(e,{code:El.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(El,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class MI extends ma{constructor(e){super(e,{code:MI.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(MI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class UI extends ma{constructor(e){super(e,{code:UI.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(UI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class DI extends ma{constructor(e){super(e,{code:DI.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(DI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Po extends ma{constructor(e,{method:n}={}){super(e,{code:Po.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Po,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class zg extends ma{constructor(e){super(e,{code:zg.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(zg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class zI extends ma{constructor(e){super(e,{code:zI.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(zI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class Tc extends Xa{constructor(e){super(e,{code:Tc.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(Tc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class LI extends Xa{constructor(e){super(e,{code:LI.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(LI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class QI extends Xa{constructor(e,{method:n}={}){super(e,{code:QI.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(QI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class PI extends Xa{constructor(e){super(e,{code:PI.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(PI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class OI extends Xa{constructor(e){super(e,{code:OI.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(OI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class jI extends Xa{constructor(e){super(e,{code:jI.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(jI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Lg extends Xa{constructor(e){super(e,{code:Lg.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Lg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class _I extends Xa{constructor(e){super(e,{code:_I.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(_I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class qI extends Xa{constructor(e){super(e,{code:qI.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(qI,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class $I extends Xa{constructor(e){super(e,{code:$I.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty($I,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class eu extends Xa{constructor(e){super(e,{code:eu.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(eu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class tu extends Xa{constructor(e){super(e,{code:tu.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(tu,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Qg extends Xa{constructor(e){super(e,{code:Qg.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Qg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class JF extends ma{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const EF=3;function xl(t,{abi:e,address:n,args:a,docsPath:s,functionName:r,sender:l}){const c=t instanceof VA?t:t instanceof ge?t.walk(S=>"data"in S)||t.walk():{},{code:g,data:u,details:I,message:p,shortMessage:A}=c,Z=t instanceof Eu?new RF({functionName:r}):[EF,Jl.code].includes(g)&&(u||I||p||A)?new Kh({abi:e,data:typeof u=="object"?u.data:u,functionName:r,message:c instanceof of?I:A??p}):t;return new WF(Z,{abi:e,args:a,contractAddress:n,docsPath:s,functionName:r,sender:l})}function E9(t){const e=ct(`0x${t.substring(4)}`).substring(26);return xu(`0x${e}`)}async function xF({hash:t,signature:e}){const n=qa(t)?t:Ge(t),{secp256k1:a}=await EI(async()=>{const{secp256k1:l}=await Promise.resolve().then(()=>b7);return{secp256k1:l}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:I,v:p,yParity:A}=e,Z=Number(A??p),S=PB(Z);return new a.Signature(rt(u),rt(I)).addRecoveryBit(S)}const l=qa(e)?e:Ge(e);if(Et(l)!==65)throw new Error("invalid signature length");const c=Ia(`0x${l.slice(130)}`),g=PB(c);return a.Signature.fromCompact(l.substring(2,130)).addRecoveryBit(g)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function PB(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function lf({hash:t,signature:e}){return E9(await xF({hash:t,signature:e}))}function ti(t,e="hex"){const n=x9(t),a=af(new Uint8Array(n.length));return n.encode(a),e==="hex"?Ft(a.bytes):a.bytes}function x9(t){return Array.isArray(t)?NF(t.map(e=>x9(e))):HF(t)}function NF(t){const e=t.reduce((s,r)=>s+r.length,0),n=N9(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:r}of t)r(s)}}}function HF(t){const e=typeof t=="string"?bn(t):t,n=N9(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function N9(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ge("Length is too large.")}function H9(t){const{chainId:e,nonce:n,to:a}=t,s=t.contractAddress??t.address,r=ct(Qn(["0x05",ti([e?Ne(e):"0x",s,n?Ne(n):"0x"])]));return a==="bytes"?bn(r):r}async function Y9(t){const{authorization:e,signature:n}=t;return lf({hash:H9(e),signature:n??e})}class YF extends ge{constructor(e,{account:n,docsPath:a,chain:s,data:r,gas:l,gasPrice:c,maxFeePerGas:g,maxPriorityFeePerGas:u,nonce:I,to:p,value:A}){var S;const Z=Yu({from:n==null?void 0:n.address,to:p,value:typeof A<"u"&&`${sf(A)} ${((S=s==null?void 0:s.nativeCurrency)==null?void 0:S.symbol)||"ETH"}`,data:r,gas:l,gasPrice:typeof c<"u"&&`${ga(c)} gwei`,maxFeePerGas:typeof g<"u"&&`${ga(g)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${ga(u)} gwei`,nonce:I});super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",Z].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Rc extends ge{constructor({cause:e,message:n}={}){var s;const a=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${a?`with reason: ${a}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Rc,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Rc,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class ro extends ge{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ga(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(ro,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class Mh extends ge{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${ga(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(Mh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class Uh extends ge{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(Uh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class Dh extends ge{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(Dh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class zh extends ge{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(zh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class Lh extends ge{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(Lh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class Qh extends ge{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(Qh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class Ph extends ge{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(Ph,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class Oh extends ge{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(Oh,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Pg extends ge{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:a}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${ga(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${a?` = ${ga(a)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Pg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class Tu extends ge{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function WA(t,e){const n=(t.details||"").toLowerCase(),a=t instanceof ge?t.walk(s=>(s==null?void 0:s.code)===Rc.code):t;return a instanceof ge?new Rc({cause:t,message:a.details}):Rc.nodeMessage.test(n)?new Rc({cause:t,message:t.details}):ro.nodeMessage.test(n)?new ro({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Mh.nodeMessage.test(n)?new Mh({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):Uh.nodeMessage.test(n)?new Uh({cause:t,nonce:e==null?void 0:e.nonce}):Dh.nodeMessage.test(n)?new Dh({cause:t,nonce:e==null?void 0:e.nonce}):zh.nodeMessage.test(n)?new zh({cause:t,nonce:e==null?void 0:e.nonce}):Lh.nodeMessage.test(n)?new Lh({cause:t}):Qh.nodeMessage.test(n)?new Qh({cause:t,gas:e==null?void 0:e.gas}):Ph.nodeMessage.test(n)?new Ph({cause:t,gas:e==null?void 0:e.gas}):Oh.nodeMessage.test(n)?new Oh({cause:t}):Pg.nodeMessage.test(n)?new Pg({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new Tu({cause:t})}function TF(t,{docsPath:e,...n}){const a=(()=>{const s=WA(t,n);return s instanceof Tu?t:s})();return new YF(a,{docsPath:e,...n})}function Fu(t,{format:e}){if(!e)return{};const n={};function a(r){const l=Object.keys(r);for(const c of l)c in t&&(n[c]=t[c]),r[c]&&typeof r[c]=="object"&&!Array.isArray(r[c])&&a(r[c])}const s=e(t||{});return a(s),n}function RA(t,e){return({exclude:n,format:a})=>({exclude:n,format:s=>{const r=e(s);if(n)for(const l of n)delete r[l];return{...r,...a(s)}},type:t})}const FF={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function co(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=KF(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Ft(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Ne(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Ne(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Ne(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Ne(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Ne(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Ne(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=FF[t.type]),typeof t.value<"u"&&(e.value=Ne(t.value)),e}const T9=RA("transactionRequest",co);function KF(t){return t.map(e=>({address:e.address,r:e.r?Ne(BigInt(e.r)):e.r,s:e.s?Ne(BigInt(e.s)):e.s,chainId:Ne(e.chainId),nonce:Ne(e.nonce),...typeof e.yParity<"u"?{yParity:Ne(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ne(e.v)}:{}}))}function OB(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:a})=>{if(n.length!==66)throw new XB({size:n.length,targetSize:66,type:"hex"});if(a.length!==66)throw new XB({size:a.length,targetSize:66,type:"hex"});return e[n]=a,e},{})}function MF(t){const{balance:e,nonce:n,state:a,stateDiff:s,code:r}=t,l={};if(r!==void 0&&(l.code=r),e!==void 0&&(l.balance=Ne(e)),n!==void 0&&(l.nonce=Ne(n)),a!==void 0&&(l.state=OB(a)),s!==void 0){if(l.state)throw new hF;l.stateDiff=OB(s)}return l}function cf(t){if(!t)return;const e={};for(const{address:n,...a}of t){if(!pt(n,{strict:!1}))throw new Tt({address:n});if(e[n])throw new bF({address:n});e[n]=MF(a)}return e}const UF=2n**16n-1n,$g=2n**256n-1n;function go(t){const{account:e,gasPrice:n,maxFeePerGas:a,maxPriorityFeePerGas:s,to:r}=t,l=e?Kt(e):void 0;if(l&&!pt(l.address))throw new Tt({address:l.address});if(r&&!pt(r))throw new Tt({address:r});if(typeof n<"u"&&(typeof a<"u"||typeof s<"u"))throw new ZF;if(a&&a>$g)throw new ro({maxFeePerGas:a});if(s&&a&&s>a)throw new Pg({maxFeePerGas:a,maxPriorityFeePerGas:s})}class DF extends ge{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class gf extends ge{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class zF extends ge{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${ga(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class F9 extends ge{constructor({blockHash:e,blockNumber:n}){let a="Block";e&&(a=`Block at hash "${e}"`),n&&(a=`Block at number "${n}"`),super(`${a} could not be found.`,{name:"BlockNotFoundError"})}}const K9={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Ku(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?Ia(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?Ia(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?K9[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=LF(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const df=RA("transaction",Ku);function LF(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function If(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Ku(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const uf=RA("block",If);async function _s(t,{blockHash:e,blockNumber:n,blockTag:a,includeTransactions:s}={}){var I,p,A;const r=a??"latest",l=s??!1,c=n!==void 0?Ne(n):void 0;let g=null;if(e?g=await t.request({method:"eth_getBlockByHash",params:[e,l]},{dedupe:!0}):g=await t.request({method:"eth_getBlockByNumber",params:[c||r,l]},{dedupe:!!c}),!g)throw new F9({blockHash:e,blockNumber:n});return(((A=(p=(I=t.chain)==null?void 0:I.formatters)==null?void 0:p.block)==null?void 0:A.format)||If)(g)}async function Cf(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function QF(t,e){return M9(t,e)}async function M9(t,e){var r,l;const{block:n,chain:a=t.chain,request:s}=e||{};try{const c=((r=a==null?void 0:a.fees)==null?void 0:r.maxPriorityFeePerGas)??((l=a==null?void 0:a.fees)==null?void 0:l.defaultPriorityFee);if(typeof c=="function"){const u=n||await Ye(t,_s,"getBlock")({}),I=await c({block:u,client:t,request:s});if(I===null)throw new Error;return I}if(typeof c<"u")return c;const g=await t.request({method:"eth_maxPriorityFeePerGas"});return rt(g)}catch{const[c,g]=await Promise.all([n?Promise.resolve(n):Ye(t,_s,"getBlock")({}),Ye(t,Cf,"getGasPrice")({})]);if(typeof c.baseFeePerGas!="bigint")throw new gf;const u=g-c.baseFeePerGas;return u<0n?0n:u}}async function PF(t,e){return jh(t,e)}async function jh(t,e){var A,Z;const{block:n,chain:a=t.chain,request:s,type:r="eip1559"}=e||{},l=await(async()=>{var S,B;return typeof((S=a==null?void 0:a.fees)==null?void 0:S.baseFeeMultiplier)=="function"?a.fees.baseFeeMultiplier({block:n,client:t,request:s}):((B=a==null?void 0:a.fees)==null?void 0:B.baseFeeMultiplier)??1.2})();if(l<1)throw new DF;const g=10**(((A=l.toString().split(".")[1])==null?void 0:A.length)??0),u=S=>S*BigInt(Math.ceil(l*g))/BigInt(g),I=n||await Ye(t,_s,"getBlock")({});if(typeof((Z=a==null?void 0:a.fees)==null?void 0:Z.estimateFeesPerGas)=="function"){const S=await a.fees.estimateFeesPerGas({block:n,client:t,multiply:u,request:s,type:r});if(S!==null)return S}if(r==="eip1559"){if(typeof I.baseFeePerGas!="bigint")throw new gf;const S=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await M9(t,{block:I,chain:a,request:s}),B=u(I.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??B+S,maxPriorityFeePerGas:S}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await Ye(t,Cf,"getGasPrice")({}))}}async function vA(t,{address:e,blockTag:n="latest",blockNumber:a}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof a=="bigint"?Ne(a):n]},{dedupe:!!a});return Ia(s)}function pf(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),a=typeof t.blobs[0]=="string"?t.blobs.map(r=>bn(r)):t.blobs,s=[];for(const r of a)s.push(Uint8Array.from(e.blobToKzgCommitment(r)));return n==="bytes"?s:s.map(r=>Ft(r))}function mf(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),a=typeof t.blobs[0]=="string"?t.blobs.map(l=>bn(l)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(l=>bn(l)):t.commitments,r=[];for(let l=0;l<a.length;l++){const c=a[l],g=s[l];r.push(Uint8Array.from(e.computeBlobKzgProof(c,g)))}return n==="bytes"?r:r.map(l=>Ft(l))}function OF(t,e,n,a){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,a);const s=BigInt(32),r=BigInt(4294967295),l=Number(n>>s&r),c=Number(n&r),g=a?4:0,u=a?0:4;t.setUint32(e+g,l,a),t.setUint32(e+u,c,a)}function jF(t,e,n){return t&e^~t&n}function _F(t,e,n){return t&e^t&n^e&n}class U9 extends _1{constructor(e,n,a,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=a,this.isLE=s,this.buffer=new Uint8Array(e),this.view=rb(this.buffer)}update(e){Ug(this),e=GA(e),Xl(e);const{view:n,buffer:a,blockLen:s}=this,r=e.length;for(let l=0;l<r;){const c=Math.min(s-this.pos,r-l);if(c===s){const g=rb(e);for(;s<=r-l;l+=s)this.process(g,l);continue}a.set(e.subarray(l,l+c),this.pos),this.pos+=c,l+=c,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Ug(this),c9(e,this),this.finished=!0;const{buffer:n,view:a,blockLen:s,isLE:r}=this;let{pos:l}=this;n[l++]=128,so(this.buffer.subarray(l)),this.padOffset>s-l&&(this.process(a,0),l=0);for(let p=l;p<s;p++)n[p]=0;OF(a,s-8,BigInt(this.length*8),r),this.process(a,0);const c=rb(e),g=this.outputLen;if(g%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=g/4,I=this.get();if(u>I.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)c.setUint32(4*p,I[p],r)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const a=e.slice(0,n);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:a,length:s,finished:r,destroyed:l,pos:c}=this;return e.destroyed=l,e.finished=r,e.length=s,e.pos=c,s%n&&e.buffer.set(a),e}clone(){return this._cloneInto()}}const Sr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Sn=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),wn=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),qF=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wr=new Uint32Array(64);class $F extends U9{constructor(e=32){super(64,e,8,!1),this.A=Sr[0]|0,this.B=Sr[1]|0,this.C=Sr[2]|0,this.D=Sr[3]|0,this.E=Sr[4]|0,this.F=Sr[5]|0,this.G=Sr[6]|0,this.H=Sr[7]|0}get(){const{A:e,B:n,C:a,D:s,E:r,F:l,G:c,H:g}=this;return[e,n,a,s,r,l,c,g]}set(e,n,a,s,r,l,c,g){this.A=e|0,this.B=n|0,this.C=a|0,this.D=s|0,this.E=r|0,this.F=l|0,this.G=c|0,this.H=g|0}process(e,n){for(let p=0;p<16;p++,n+=4)wr[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const A=wr[p-15],Z=wr[p-2],S=xs(A,7)^xs(A,18)^A>>>3,B=xs(Z,17)^xs(Z,19)^Z>>>10;wr[p]=B+wr[p-7]+S+wr[p-16]|0}let{A:a,B:s,C:r,D:l,E:c,F:g,G:u,H:I}=this;for(let p=0;p<64;p++){const A=xs(c,6)^xs(c,11)^xs(c,25),Z=I+A+jF(c,g,u)+qF[p]+wr[p]|0,B=(xs(a,2)^xs(a,13)^xs(a,22))+_F(a,s,r)|0;I=u,u=g,g=c,c=l+Z|0,l=r,r=s,s=a,a=Z+B|0}a=a+this.A|0,s=s+this.B|0,r=r+this.C|0,l=l+this.D|0,c=c+this.E|0,g=g+this.F|0,u=u+this.G|0,I=I+this.H|0,this.set(a,s,r,l,c,g,u,I)}roundClean(){so(wr)}destroy(){this.set(0,0,0,0,0,0,0,0),so(this.buffer)}}const D9=l9(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),e4=D9[0],t4=D9[1],kr=new Uint32Array(80),Vr=new Uint32Array(80);class z9 extends U9{constructor(e=64){super(128,e,16,!1),this.Ah=wn[0]|0,this.Al=wn[1]|0,this.Bh=wn[2]|0,this.Bl=wn[3]|0,this.Ch=wn[4]|0,this.Cl=wn[5]|0,this.Dh=wn[6]|0,this.Dl=wn[7]|0,this.Eh=wn[8]|0,this.El=wn[9]|0,this.Fh=wn[10]|0,this.Fl=wn[11]|0,this.Gh=wn[12]|0,this.Gl=wn[13]|0,this.Hh=wn[14]|0,this.Hl=wn[15]|0}get(){const{Ah:e,Al:n,Bh:a,Bl:s,Ch:r,Cl:l,Dh:c,Dl:g,Eh:u,El:I,Fh:p,Fl:A,Gh:Z,Gl:S,Hh:B,Hl:V}=this;return[e,n,a,s,r,l,c,g,u,I,p,A,Z,S,B,V]}set(e,n,a,s,r,l,c,g,u,I,p,A,Z,S,B,V){this.Ah=e|0,this.Al=n|0,this.Bh=a|0,this.Bl=s|0,this.Ch=r|0,this.Cl=l|0,this.Dh=c|0,this.Dl=g|0,this.Eh=u|0,this.El=I|0,this.Fh=p|0,this.Fl=A|0,this.Gh=Z|0,this.Gl=S|0,this.Hh=B|0,this.Hl=V|0}process(e,n){for(let R=0;R<16;R++,n+=4)kr[R]=e.getUint32(n),Vr[R]=e.getUint32(n+=4);for(let R=16;R<80;R++){const x=kr[R-15]|0,M=Vr[R-15]|0,D=Ac(x,M,1)^Ac(x,M,8)^NB(x,M,7),Q=yc(x,M,1)^yc(x,M,8)^HB(x,M,7),z=kr[R-2]|0,se=Vr[R-2]|0,re=Ac(z,se,19)^mp(z,se,61)^NB(z,se,6),ae=yc(z,se,19)^Ap(z,se,61)^HB(z,se,6),Ie=ZT(Q,ae,Vr[R-7],Vr[R-16]),de=GT(Ie,D,re,kr[R-7],kr[R-16]);kr[R]=de|0,Vr[R]=Ie|0}let{Ah:a,Al:s,Bh:r,Bl:l,Ch:c,Cl:g,Dh:u,Dl:I,Eh:p,El:A,Fh:Z,Fl:S,Gh:B,Gl:V,Hh:W,Hl:Y}=this;for(let R=0;R<80;R++){const x=Ac(p,A,14)^Ac(p,A,18)^mp(p,A,41),M=yc(p,A,14)^yc(p,A,18)^Ap(p,A,41),D=p&Z^~p&B,Q=A&S^~A&V,z=BT(Y,M,Q,t4[R],Vr[R]),se=ST(z,W,x,D,e4[R],kr[R]),re=z|0,ae=Ac(a,s,28)^mp(a,s,34)^mp(a,s,39),Ie=yc(a,s,28)^Ap(a,s,34)^Ap(a,s,39),de=a&r^a&c^r&c,ie=s&l^s&g^l&g;W=B|0,Y=V|0,B=Z|0,V=S|0,Z=p|0,S=A|0,{h:p,l:A}=Ai(u|0,I|0,se|0,re|0),u=c|0,I=g|0,c=r|0,g=l|0,r=a|0,l=s|0;const J=hT(re,Ie,ie);a=fT(J,se,ae,de),s=J|0}({h:a,l:s}=Ai(this.Ah|0,this.Al|0,a|0,s|0)),{h:r,l}=Ai(this.Bh|0,this.Bl|0,r|0,l|0),{h:c,l:g}=Ai(this.Ch|0,this.Cl|0,c|0,g|0),{h:u,l:I}=Ai(this.Dh|0,this.Dl|0,u|0,I|0),{h:p,l:A}=Ai(this.Eh|0,this.El|0,p|0,A|0),{h:Z,l:S}=Ai(this.Fh|0,this.Fl|0,Z|0,S|0),{h:B,l:V}=Ai(this.Gh|0,this.Gl|0,B|0,V|0),{h:W,l:Y}=Ai(this.Hh|0,this.Hl|0,W|0,Y|0),this.set(a,s,r,l,c,g,u,I,p,A,Z,S,B,V,W,Y)}roundClean(){so(kr,Vr)}destroy(){so(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class n4 extends z9{constructor(){super(48),this.Ah=Sn[0]|0,this.Al=Sn[1]|0,this.Bh=Sn[2]|0,this.Bl=Sn[3]|0,this.Ch=Sn[4]|0,this.Cl=Sn[5]|0,this.Dh=Sn[6]|0,this.Dl=Sn[7]|0,this.Eh=Sn[8]|0,this.El=Sn[9]|0,this.Fh=Sn[10]|0,this.Fl=Sn[11]|0,this.Gh=Sn[12]|0,this.Gl=Sn[13]|0,this.Hh=Sn[14]|0,this.Hl=Sn[15]|0}}const L9=BA(()=>new $F),qoe=BA(()=>new z9),$oe=BA(()=>new n4),a4=L9;function Q9(t,e){const n=e||"hex",a=a4(qa(t,{strict:!1})?gn(t):t);return n==="bytes"?a:Ge(a)}function s4(t){const{commitment:e,version:n=1}=t,a=t.to??(typeof e=="string"?"hex":"bytes"),s=Q9(e,"bytes");return s.set([n],0),a==="bytes"?s:Ft(s)}function P9(t){const{commitments:e,version:n}=t,a=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const r of e)s.push(s4({commitment:r,to:a,version:n}));return s}const jB=6,O9=32,Af=4096,j9=O9*Af,_B=j9*jB-1-1*Af*jB,_9=1;class i4 extends ge{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class q9 extends ge{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class r4 extends ge{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class o4 extends ge{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${_9}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function l4(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?bn(t.data):t.data,a=Et(n);if(!a)throw new q9;if(a>_B)throw new i4({maxSize:_B,size:a});const s=[];let r=!0,l=0;for(;r;){const c=af(new Uint8Array(j9));let g=0;for(;g<Af;){const u=n.slice(l,l+(O9-1));if(c.pushByte(0),c.pushBytes(u),u.length<31){c.pushByte(128),r=!1;break}g++,l+=31}s.push(c)}return e==="bytes"?s.map(c=>c.bytes):s.map(c=>Ft(c.bytes))}function $9(t){const{data:e,kzg:n,to:a}=t,s=t.blobs??l4({data:e,to:a}),r=t.commitments??pf({blobs:s,kzg:n,to:a}),l=t.proofs??mf({blobs:s,commitments:r,kzg:n,to:a}),c=[];for(let g=0;g<s.length;g++)c.push({blob:s[g],commitment:r[g],proof:l[g]});return c}function eV(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new BF({transaction:t})}async function ed(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return Ia(e)}const tV=["blobVersionedHashes","chainId","fees","gas","nonce","type"],qB=new Map;async function XA(t,e){const{account:n=t.account,blobs:a,chain:s,gas:r,kzg:l,nonce:c,nonceManager:g,parameters:u=tV,type:I}=e,p=n&&Kt(n),A={...e,...p?{from:p==null?void 0:p.address}:{}};let Z;async function S(){return Z||(Z=await Ye(t,_s,"getBlock")({blockTag:"latest"}),Z)}let B;async function V(){return B||(s?s.id:typeof e.chainId<"u"?e.chainId:(B=await Ye(t,ed,"getChainId")({}),B))}if(u.includes("nonce")&&typeof c>"u"&&p)if(g){const W=await V();A.nonce=await g.consume({address:p.address,chainId:W,client:t})}else A.nonce=await Ye(t,vA,"getTransactionCount")({address:p.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&a&&l){const W=pf({blobs:a,kzg:l});if(u.includes("blobVersionedHashes")){const Y=P9({commitments:W,to:"hex"});A.blobVersionedHashes=Y}if(u.includes("sidecars")){const Y=mf({blobs:a,commitments:W,kzg:l}),R=$9({blobs:a,commitments:W,proofs:Y,to:"hex"});A.sidecars=R}}if(u.includes("chainId")&&(A.chainId=await V()),(u.includes("fees")||u.includes("type"))&&typeof I>"u")try{A.type=eV(A)}catch{let W=qB.get(t.uid);if(typeof W>"u"){const Y=await S();W=typeof(Y==null?void 0:Y.baseFeePerGas)=="bigint",qB.set(t.uid,W)}A.type=W?"eip1559":"legacy"}if(u.includes("fees"))if(A.type!=="legacy"&&A.type!=="eip2930"){if(typeof A.maxFeePerGas>"u"||typeof A.maxPriorityFeePerGas>"u"){const W=await S(),{maxFeePerGas:Y,maxPriorityFeePerGas:R}=await jh(t,{block:W,chain:s,request:A});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<R)throw new zF({maxPriorityFeePerGas:R});A.maxPriorityFeePerGas=R,A.maxFeePerGas=Y}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new gf;if(typeof e.gasPrice>"u"){const W=await S(),{gasPrice:Y}=await jh(t,{block:W,chain:s,request:A,type:"legacy"});A.gasPrice=Y}}return u.includes("gas")&&typeof r>"u"&&(A.gas=await Ye(t,JA,"estimateGas")({...A,account:p&&{address:p.address,type:"json-rpc"}})),go(A),delete A.parameters,A}async function yf(t,{address:e,blockNumber:n,blockTag:a="latest"}){const s=typeof n=="bigint"?Ne(n):void 0,r=await t.request({method:"eth_getBalance",params:[e,s||a]});return BigInt(r)}async function JA(t,e){var s,r,l;const{account:n=t.account}=e,a=n?Kt(n):void 0;try{let ie=function(T){const{block:O,request:F,rpcStateOverride:H}=T;return t.request({method:"eth_estimateGas",params:H?[F,O??"latest",H]:O?[F,O]:[F]})};const{accessList:c,authorizationList:g,blobs:u,blobVersionedHashes:I,blockNumber:p,blockTag:A,data:Z,gas:S,gasPrice:B,maxFeePerBlobGas:V,maxFeePerGas:W,maxPriorityFeePerGas:Y,nonce:R,value:x,stateOverride:M,...D}=await XA(t,{...e,parameters:(a==null?void 0:a.type)==="local"?void 0:["blobVersionedHashes"]}),z=(typeof p=="bigint"?Ne(p):void 0)||A,se=cf(M),re=await(async()=>{if(D.to)return D.to;if(g&&g.length>0)return await Y9({authorization:g[0]}).catch(()=>{throw new ge("`to` is required. Could not infer from `authorizationList`")})})();go(e);const ae=(l=(r=(s=t.chain)==null?void 0:s.formatters)==null?void 0:r.transactionRequest)==null?void 0:l.format,de=(ae||co)({...Fu(D,{format:ae}),from:a==null?void 0:a.address,accessList:c,authorizationList:g,blobs:u,blobVersionedHashes:I,data:Z,gas:S,gasPrice:B,maxFeePerBlobGas:V,maxFeePerGas:W,maxPriorityFeePerGas:Y,nonce:R,to:re,value:x});let J=BigInt(await ie({block:z,request:de,rpcStateOverride:se}));if(g){const T=await yf(t,{address:de.from}),O=await Promise.all(g.map(async F=>{const{address:H}=F,U=await ie({block:z,request:{authorizationList:void 0,data:Z,from:a==null?void 0:a.address,to:H,value:Ne(T)},rpcStateOverride:se}).catch(()=>100000n);return 2n*BigInt(U)}));J+=O.reduce((F,H)=>F+H,0n)}return J}catch(c){throw TF(c,{...e,account:a,chain:t.chain})}}async function nV(t,e){const{abi:n,address:a,args:s,functionName:r,dataSuffix:l,...c}=e,g=pa({abi:n,args:s,functionName:r});try{return await Ye(t,JA,"estimateGas")({data:`${g}${l?l.replace("0x",""):""}`,to:a,...c})}catch(u){const I=c.account?Kt(c.account):void 0;throw xl(u,{abi:n,address:a,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:r,sender:I==null?void 0:I.address})}}function EA(t,e){if(!pt(t,{strict:!1}))throw new Tt({address:t});if(!pt(e,{strict:!1}))throw new Tt({address:e});return t.toLowerCase()===e.toLowerCase()}const $B="/docs/contract/decodeEventLog";function bf(t){const{abi:e,data:n,strict:a,topics:s}=t,r=a??!0,[l,...c]=s;if(!l)throw new _Y({docsPath:$B});const g=e.length===1?e[0]:e.find(B=>B.type==="event"&&l===SA(ws(B)));if(!(g&&"name"in g)||g.type!=="event")throw new e9(l,{docsPath:$B});const{name:u,inputs:I}=g,p=I==null?void 0:I.some(B=>!("name"in B&&B.name)),A=p?[]:{},Z=I.map((B,V)=>[B,V]).filter(([B])=>"indexed"in B&&B.indexed);for(let B=0;B<Z.length;B++){const[V,W]=Z[B],Y=c[B];if(!Y)throw new ZA({abiItem:g,param:V});A[p?W:V.name||W]=c4({param:V,value:Y})}const S=I.filter(B=>!("indexed"in B&&B.indexed));if(S.length>0){if(n&&n!=="0x")try{const B=qg(S,n);if(B)if(p)for(let V=0;V<I.length;V++)A[V]=A[V]??B.shift();else for(let V=0;V<S.length;V++)A[S[V].name]=B[V]}catch(B){if(r)throw B instanceof _k||B instanceof B9?new xI({abiItem:g,data:n,params:S,size:Et(n)}):B}else if(r)throw new xI({abiItem:g,data:"0x",params:S,size:0})}return{eventName:u,args:Object.values(A).length>0?A:void 0}}function c4({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(qg([t],e)||[])[0]}function hf(t){const{abi:e,args:n,logs:a,strict:s=!0}=t,r=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return a.map(l=>{var c;try{const g=e.find(I=>I.type==="event"&&l.topics[0]===SA(I));if(!g)return null;const u=bf({...l,abi:[g],strict:s});return r&&!r.includes(u.eventName)||!g4({args:u.args,inputs:g.inputs,matchArgs:n})?null:{...u,...l}}catch(g){let u,I;if(g instanceof e9)return null;if(g instanceof xI||g instanceof ZA){if(s)return null;u=g.abiItem.name,I=(c=g.abiItem.inputs)==null?void 0:c.some(p=>!("name"in p&&p.name))}return{...l,args:I?[]:{},eventName:u}}}).filter(Boolean)}function g4(t){const{args:e,inputs:n,matchArgs:a}=t;if(!a)return!0;if(!e)return!1;function s(r,l,c){try{return r.type==="address"?EA(l,c):r.type==="string"||r.type==="bytes"?ct(gn(l))===c:l===c}catch{return!1}}return Array.isArray(e)&&Array.isArray(a)?a.every((r,l)=>{if(r==null)return!0;const c=n[l];return c?(Array.isArray(r)?r:[r]).some(u=>s(c,u,e[l])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof a=="object"&&!Array.isArray(a)?Object.entries(a).every(([r,l])=>{if(l==null)return!0;const c=n.find(u=>u.name===r);return c?(Array.isArray(l)?l:[l]).some(u=>s(c,u,e[r])):!1}):!1}function ni(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function ff(t,{address:e,blockHash:n,fromBlock:a,toBlock:s,event:r,events:l,args:c,strict:g}={}){const u=g??!1,I=l??(r?[r]:void 0);let p=[];I&&(p=[I.flatMap(B=>Hu({abi:[B],eventName:B.name,args:l?void 0:c}))],r&&(p=p[0]));let A;n?A=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,blockHash:n}]}):A=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,fromBlock:typeof a=="bigint"?Ne(a):a,toBlock:typeof s=="bigint"?Ne(s):s}]});const Z=A.map(S=>ni(S));return I?hf({abi:I,args:c,logs:Z,strict:u}):Z}async function aV(t,e){const{abi:n,address:a,args:s,blockHash:r,eventName:l,fromBlock:c,toBlock:g,strict:u}=e,I=l?Kl({abi:n,name:l}):void 0,p=I?void 0:n.filter(A=>A.type==="event");return Ye(t,ff,"getLogs")({address:a,args:s,blockHash:r,event:I,events:p,fromBlock:c,toBlock:g,strict:u})}const cb="/docs/contract/decodeFunctionResult";function Ml(t){const{abi:e,args:n,functionName:a,data:s}=t;let r=e[0];if(a){const c=Kl({abi:e,args:n,name:a});if(!c)throw new Mg(a,{docsPath:cb});r=c}if(r.type!=="function")throw new Mg(void 0,{docsPath:cb});if(!r.outputs)throw new t9(r.name,{docsPath:cb});const l=qg(r.outputs,s);if(l&&l.length>1)return l;if(l&&l.length===1)return l[0]}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zf=BigInt(0),_h=BigInt(1);function Mu(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Gf(t){if(!Mu(t))throw new Error("Uint8Array expected")}function nu(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function yp(t){const e=t.toString(16);return e.length&1?"0"+e:e}function sV(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Zf:BigInt("0x"+t)}const iV=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",d4=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function au(t){if(Gf(t),iV)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=d4[t[n]];return e}const yi={_0:48,_9:57,A:65,F:70,a:97,f:102};function eS(t){if(t>=yi._0&&t<=yi._9)return t-yi._0;if(t>=yi.A&&t<=yi.F)return t-(yi.A-10);if(t>=yi.a&&t<=yi.f)return t-(yi.a-10)}function Xm(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(iV)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const a=new Uint8Array(n);for(let s=0,r=0;s<n;s++,r+=2){const l=eS(t.charCodeAt(r)),c=eS(t.charCodeAt(r+1));if(l===void 0||c===void 0){const g=t[r]+t[r+1];throw new Error('hex string expected, got non-hex character "'+g+'" at index '+r)}a[s]=l*16+c}return a}function Sl(t){return sV(au(t))}function rV(t){return Gf(t),sV(au(Uint8Array.from(t).reverse()))}function Uu(t,e){return Xm(t.toString(16).padStart(e*2,"0"))}function oV(t,e){return Uu(t,e).reverse()}function za(t,e,n){let a;if(typeof e=="string")try{a=Xm(e)}catch(r){throw new Error(t+" must be hex string or Uint8Array, cause: "+r)}else if(Mu(e))a=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=a.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return a}function Jm(...t){let e=0;for(let a=0;a<t.length;a++){const s=t[a];Gf(s),e+=s.length}const n=new Uint8Array(e);for(let a=0,s=0;a<t.length;a++){const r=t[a];n.set(r,s),s+=r.length}return n}const gb=t=>typeof t=="bigint"&&Zf<=t;function Bf(t,e,n){return gb(t)&&gb(e)&&gb(n)&&e<=t&&t<n}function Fc(t,e,n,a){if(!Bf(e,n,a))throw new Error("expected valid "+t+": "+n+" <= n < "+a+", got "+e)}function I4(t){let e;for(e=0;t>Zf;t>>=_h,e+=1);return e}const xA=t=>(_h<<BigInt(t))-_h,db=t=>new Uint8Array(t),tS=t=>Uint8Array.from(t);function u4(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let a=db(t),s=db(t),r=0;const l=()=>{a.fill(1),s.fill(0),r=0},c=(...p)=>n(s,a,...p),g=(p=db(0))=>{s=c(tS([0]),p),a=c(),p.length!==0&&(s=c(tS([1]),p),a=c())},u=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const A=[];for(;p<e;){a=c();const Z=a.slice();A.push(Z),p+=a.length}return Jm(...A)};return(p,A)=>{l(),g(p);let Z;for(;!(Z=A(u()));)g();return l(),Z}}const C4={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Mu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function NA(t,e,n={}){const a=(s,r,l)=>{const c=C4[r];if(typeof c!="function")throw new Error("invalid validator function");const g=t[s];if(!(l&&g===void 0)&&!c(g,t))throw new Error("param "+String(s)+" is invalid. Expected "+r+", got "+g)};for(const[s,r]of Object.entries(e))a(s,r,!1);for(const[s,r]of Object.entries(n))a(s,r,!0);return t}function nS(t){const e=new WeakMap;return(n,...a)=>{const s=e.get(n);if(s!==void 0)return s;const r=t(n,...a);return e.set(n,r),r}}const p4="0.1.1";function m4(){return p4}class Rt extends Error{constructor(e,n={}){const a=(()=>{var g;if(n.cause instanceof Rt){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(g=n.cause)!=null&&g.message?n.cause.message:n.details})(),s=n.cause instanceof Rt&&n.cause.docsPath||n.docsPath,l=`https://oxlib.sh${s??""}`,c=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...a||s?["",a?`Details: ${a}`:void 0,s?`See: ${l}`:void 0]:[]].filter(g=>typeof g=="string").join(`
`);super(c,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${m4()}`}),this.cause=n.cause,this.details=a,this.docs=l,this.docsPath=s,this.shortMessage=e}walk(e){return lV(this,e)}}function lV(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?lV(t.cause,e):e?null:t}const A4="#__bigint";function y4(t,e,n){return JSON.stringify(t,(a,s)=>typeof s=="bigint"?s.toString()+A4:s,n)}function b4(t,e){if(sS(t)>e)throw new W4({givenSize:sS(t),maxSize:e})}const bi={zero:48,nine:57,A:65,F:70,a:97,f:102};function aS(t){if(t>=bi.zero&&t<=bi.nine)return t-bi.zero;if(t>=bi.A&&t<=bi.F)return t-(bi.A-10);if(t>=bi.a&&t<=bi.f)return t-(bi.a-10)}function h4(t,e={}){const{dir:n,size:a=32}=e;if(a===0)return t;if(t.length>a)throw new R4({size:t.length,targetSize:a,type:"Bytes"});const s=new Uint8Array(a);for(let r=0;r<a;r++){const l=n==="right";s[l?r:a-r-1]=t[l?r:t.length-r-1]}return s}function Sf(t,e){if($a(t)>e)throw new x4({givenSize:$a(t),maxSize:e})}function f4(t,e){if(typeof e=="number"&&e>0&&e>$a(t)-1)throw new uV({offset:e,position:"start",size:$a(t)})}function Z4(t,e,n){if(typeof e=="number"&&typeof n=="number"&&$a(t)!==n-e)throw new uV({offset:n,position:"end",size:$a(t)})}function cV(t,e={}){const{dir:n,size:a=32}=e;if(a===0)return t;const s=t.replace("0x","");if(s.length>a*2)throw new N4({size:Math.ceil(s.length/2),targetSize:a,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](a*2,"0")}`}const G4=new TextEncoder;function B4(t){return t instanceof Uint8Array?t:typeof t=="string"?w4(t):S4(t)}function S4(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function w4(t,e={}){const{size:n}=e;let a=t;n&&(Sf(t,n),a=Hl(t,n));let s=a.slice(2);s.length%2&&(s=`0${s}`);const r=s.length/2,l=new Uint8Array(r);for(let c=0,g=0;c<r;c++){const u=aS(s.charCodeAt(g++)),I=aS(s.charCodeAt(g++));if(u===void 0||I===void 0)throw new Rt(`Invalid byte sequence ("${s[g-2]}${s[g-1]}" in "${s}").`);l[c]=u*16+I}return l}function k4(t,e={}){const{size:n}=e,a=G4.encode(t);return typeof n=="number"?(b4(a,n),V4(a,n)):a}function V4(t,e){return h4(t,{dir:"right",size:e})}function sS(t){return t.length}let W4=class extends Rt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},R4=class extends Rt{constructor({size:e,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const v4=new TextEncoder,X4=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function J4(t,e={}){const{strict:n=!1}=e;if(!t)throw new iS(t);if(typeof t!="string")throw new iS(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new rS(t);if(!t.startsWith("0x"))throw new rS(t)}function ai(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function gV(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Sf(n,e.size),Nl(n,e.size)):n}function dV(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=X4[t[s]];const a=`0x${n}`;return typeof e.size=="number"?(Sf(a,e.size),Hl(a,e.size)):a}function Tn(t,e={}){const{signed:n,size:a}=e,s=BigInt(t);let r;a?n?r=(1n<<BigInt(a)*8n-1n)-1n:r=2n**(BigInt(a)*8n)-1n:typeof t=="number"&&(r=BigInt(Number.MAX_SAFE_INTEGER));const l=typeof r=="bigint"&&n?-r-1n:0;if(r&&s>r||s<l){const u=typeof t=="bigint"?"n":"";throw new IV({max:r?`${r}${u}`:void 0,min:`${l}${u}`,signed:n,size:a,value:`${t}${u}`})}const g=`0x${(n&&s<0?(1n<<BigInt(a*8))+BigInt(s):s).toString(16)}`;return a?Nl(g,a):g}function wf(t,e={}){return dV(v4.encode(t),e)}function Nl(t,e){return cV(t,{dir:"left",size:e})}function Hl(t,e){return cV(t,{dir:"right",size:e})}function kf(t,e,n,a={}){const{strict:s}=a;f4(t,e);const r=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&Z4(r,e,n),r}function $a(t){return Math.ceil((t.length-2)/2)}function E4(t,e={}){const{strict:n=!1}=e;try{return J4(t,{strict:n}),!0}catch{return!1}}class IV extends Rt{constructor({max:e,min:n,signed:a,size:s,value:r}){super(`Number \`${r}\` is not in safe${s?` ${s*8}-bit`:""}${a?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class iS extends Rt{constructor(e){super(`Value \`${typeof e=="object"?y4(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class rS extends Rt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class x4 extends Rt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class uV extends Rt{constructor({offset:e,position:n,size:a}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class N4 extends Rt{constructor({size:e,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function H4(t){return{address:t.address,amount:Tn(t.amount),index:Tn(t.index),validatorIndex:Tn(t.validatorIndex)}}function CV(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Tn(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Tn(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Tn(t.gasLimit)},...typeof t.number=="bigint"&&{number:Tn(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Tn(t.prevRandao)},...typeof t.time=="bigint"&&{time:Tn(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(H4)}}}const qh=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],$h=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],pV=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],mV=[...pV,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Y4=[...pV,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],oS=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],lS=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],cS=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],T4="0x82ad56cb",AV="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",F4="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",K4="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class e1 extends ge{constructor({blockNumber:e,chain:n,contract:a}){super(`Chain "${n.name}" does not support contract "${a.name}".`,{metaMessages:["This could be due to any of the following:",...e&&a.blockCreated&&a.blockCreated>e?[`- The contract "${a.name}" was not deployed until block ${a.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${a.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class M4 extends ge{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class U4 extends ge{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class yV extends ge{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class td extends ge{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const Ib="/docs/contract/encodeDeployData";function HA(t){const{abi:e,args:n,bytecode:a}=t;if(!n||n.length===0)return a;const s=e.find(l=>"type"in l&&l.type==="constructor");if(!s)throw new QY({docsPath:Ib});if(!("inputs"in s))throw new WB({docsPath:Ib});if(!s.inputs||s.inputs.length===0)throw new WB({docsPath:Ib});const r=ts(s.inputs,n);return Qn([a,r])}function nd({blockNumber:t,chain:e,contract:n}){var s;const a=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!a)throw new e1({chain:e,contract:{name:n}});if(t&&a.blockCreated&&a.blockCreated>t)throw new e1({blockNumber:t,chain:e,contract:{name:n,blockCreated:a.blockCreated}});return a.address}function Vf(t,{docsPath:e,...n}){const a=(()=>{const s=WA(t,n);return s instanceof Tu?t:s})();return new J9(a,{docsPath:e,...n})}function Wf(){let t=()=>{},e=()=>{};return{promise:new Promise((a,s)=>{t=a,e=s}),resolve:t,reject:e}}const ub=new Map;function bV({fn:t,id:e,shouldSplitBatch:n,wait:a=0,sort:s}){const r=async()=>{const I=g();l();const p=I.map(({args:A})=>A);p.length!==0&&t(p).then(A=>{s&&Array.isArray(A)&&A.sort(s);for(let Z=0;Z<I.length;Z++){const{resolve:S}=I[Z];S==null||S([A[Z],A])}}).catch(A=>{for(let Z=0;Z<I.length;Z++){const{reject:S}=I[Z];S==null||S(A)}})},l=()=>ub.delete(e),c=()=>g().map(({args:I})=>I),g=()=>ub.get(e)||[],u=I=>ub.set(e,[...g(),I]);return{flush:l,async schedule(I){const{promise:p,resolve:A,reject:Z}=Wf();return(n==null?void 0:n([...c(),I]))&&r(),g().length>0?(u({args:I,resolve:A,reject:Z}),p):(u({args:I,resolve:A,reject:Z}),setTimeout(r,a),p)}}}async function Du(t,e){var de,ie,J,T;const{account:n=t.account,authorizationList:a,batch:s=!!((de=t.batch)!=null&&de.multicall),blockNumber:r,blockTag:l="latest",accessList:c,blobs:g,blockOverrides:u,code:I,data:p,factory:A,factoryData:Z,gas:S,gasPrice:B,maxFeePerBlobGas:V,maxFeePerGas:W,maxPriorityFeePerGas:Y,nonce:R,to:x,value:M,stateOverride:D,...Q}=e,z=n?Kt(n):void 0;if(I&&(A||Z))throw new ge("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(I&&x)throw new ge("Cannot provide both `code` & `to` as parameters.");const se=I&&p,re=A&&Z&&x&&p,ae=se||re,Ie=se?L4({code:I,data:p}):re?Q4({data:p,factory:A,factoryData:Z,to:x}):p;try{go(e);const F=(typeof r=="bigint"?Ne(r):void 0)||l,H=u?CV(u):void 0,U=cf(D),E=(T=(J=(ie=t.chain)==null?void 0:ie.formatters)==null?void 0:J.transactionRequest)==null?void 0:T.format,be=(E||co)({...Fu(Q,{format:E}),from:z==null?void 0:z.address,accessList:c,authorizationList:a,blobs:g,data:Ie,gas:S,gasPrice:B,maxFeePerBlobGas:V,maxFeePerGas:W,maxPriorityFeePerGas:Y,nonce:R,to:ae?void 0:x,value:M});if(s&&D4({request:be})&&!U&&!H)try{return await z4(t,{...be,blockNumber:r,blockTag:l})}catch(Se){if(!(Se instanceof yV)&&!(Se instanceof e1))throw Se}const ye=(()=>{const Se=[be,F];return U&&H?[...Se,U,H]:U?[...Se,U]:H?[...Se,{},H]:Se})(),ue=await t.request({method:"eth_call",params:ye});return ue==="0x"?{data:void 0}:{data:ue}}catch(O){const F=P4(O),{offchainLookup:H,offchainLookupSignature:U}=await EI(async()=>{const{offchainLookup:E,offchainLookupSignature:_}=await import("./ccip-DpDEO0t-.js");return{offchainLookup:E,offchainLookupSignature:_}},[]);if(t.ccipRead!==!1&&(F==null?void 0:F.slice(0,10))===U&&x)return{data:await H(t,{data:F,to:x})};throw ae&&(F==null?void 0:F.slice(0,10))==="0x101bb98d"?new vF({factory:A}):Vf(O,{...e,account:z,chain:t.chain})}}function D4({request:t}){const{data:e,to:n,...a}=t;return!(!e||e.startsWith(T4)||!n||Object.values(a).filter(s=>typeof s<"u").length>0)}async function z4(t,e){var B;const{batchSize:n=1024,wait:a=0}=typeof((B=t.batch)==null?void 0:B.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:r="latest",data:l,multicallAddress:c,to:g}=e;let u=c;if(!u){if(!t.chain)throw new yV;u=nd({blockNumber:s,chain:t.chain,contract:"multicall3"})}const p=(typeof s=="bigint"?Ne(s):void 0)||r,{schedule:A}=bV({id:`${t.uid}.${p}`,wait:a,shouldSplitBatch(V){return V.reduce((Y,{data:R})=>Y+(R.length-2),0)>n*2},fn:async V=>{const W=V.map(x=>({allowFailure:!0,callData:x.data,target:x.to})),Y=pa({abi:qh,args:[W],functionName:"aggregate3"}),R=await t.request({method:"eth_call",params:[{data:Y,to:u},p]});return Ml({abi:qh,args:[W],functionName:"aggregate3",data:R||"0x"})}}),[{returnData:Z,success:S}]=await A({data:l,to:g});if(!S)throw new VA({data:Z});return Z==="0x"?{data:void 0}:{data:Z}}function L4(t){const{code:e,data:n}=t;return HA({abi:Ju(["constructor(bytes, bytes)"]),bytecode:AV,args:[e,n]})}function Q4(t){const{data:e,factory:n,factoryData:a,to:s}=t;return HA({abi:Ju(["constructor(address, bytes, address, bytes)"]),bytecode:F4,args:[s,e,n,a]})}function P4(t){var n;if(!(t instanceof ge))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function si(t,e){const{abi:n,address:a,args:s,functionName:r,...l}=e,c=pa({abi:n,args:s,functionName:r});try{const{data:g}=await Ye(t,Du,"call")({...l,data:c,to:a});return Ml({abi:n,args:s,functionName:r,data:g||"0x"})}catch(g){throw xl(g,{abi:n,address:a,args:s,docsPath:"/docs/contract/readContract",functionName:r})}}async function ad(t,e){const{abi:n,address:a,args:s,dataSuffix:r,functionName:l,...c}=e,g=c.account?Kt(c.account):t.account,u=pa({abi:n,args:s,functionName:l});try{const{data:I}=await Ye(t,Du,"call")({batch:!1,data:`${u}${r?r.replace("0x",""):""}`,to:a,...c,account:g}),p=Ml({abi:n,args:s,functionName:l,data:I||"0x"}),A=n.filter(Z=>"name"in Z&&Z.name===e.functionName);return{result:p,request:{abi:A,address:a,args:s,dataSuffix:r,functionName:l,...c,account:g}}}catch(I){throw xl(I,{abi:n,address:a,args:s,docsPath:"/docs/contract/simulateContract",functionName:l,sender:g==null?void 0:g.address})}}const Cb=new Map,gS=new Map;let O4=0;function ji(t,e,n){const a=++O4,s=()=>Cb.get(t)||[],r=()=>{const I=s();Cb.set(t,I.filter(p=>p.id!==a))},l=()=>{const I=s();if(!I.some(A=>A.id===a))return;const p=gS.get(t);I.length===1&&p&&p(),r()},c=s();if(Cb.set(t,[...c,{id:a,fns:e}]),c&&c.length>0)return l;const g={};for(const I in e)g[I]=(...p)=>{var Z,S;const A=s();if(A.length!==0)for(const B of A)(S=(Z=B.fns)[I])==null||S.call(Z,...p)};const u=n(g);return typeof u=="function"&&gS.set(t,u),l}async function t1(t){return new Promise(e=>setTimeout(e,t))}function sd(t,{emitOnBegin:e,initialWaitTime:n,interval:a}){let s=!0;const r=()=>s=!1;return(async()=>{let c;e&&(c=await t({unpoll:r}));const g=await(n==null?void 0:n(c))??a;await t1(g);const u=async()=>{s&&(await t({unpoll:r}),await t1(a),u())};u()})(),r}const j4=new Map,_4=new Map;function q4(t){const e=(s,r)=>({clear:()=>r.delete(s),get:()=>r.get(s),set:l=>r.set(s,l)}),n=e(t,j4),a=e(t,_4);return{clear:()=>{n.clear(),a.clear()},promise:n,response:a}}async function $4(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const a=q4(e),s=a.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let r=a.promise.get();r||(r=t(),a.promise.set(r));try{const l=await r;return a.response.set({created:new Date,data:l}),l}finally{a.promise.clear()}}const e8=t=>`blockNumber.${t}`;async function zu(t,{cacheTime:e=t.cacheTime}={}){const n=await $4(()=>t.request({method:"eth_blockNumber"}),{cacheKey:e8(t.uid),cacheTime:e});return BigInt(n)}async function YA(t,{filter:e}){const n="strict"in e&&e.strict,a=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof a[0]=="string")return a;const s=a.map(r=>ni(r));return!("abi"in e)||!e.abi?s:hf({abi:e.abi,logs:s,strict:n})}async function TA(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function t8(t,e){const{abi:n,address:a,args:s,batch:r=!0,eventName:l,fromBlock:c,onError:g,onLogs:u,poll:I,pollingInterval:p=t.pollingInterval,strict:A}=e;return(typeof I<"u"?I:typeof c=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const V=A??!1,W=$t(["watchContractEvent",a,s,r,t.uid,l,p,V,c]);return ji(W,{onLogs:u,onError:g},Y=>{let R;c!==void 0&&(R=c-1n);let x,M=!1;const D=sd(async()=>{var Q;if(!M){try{x=await Ye(t,f9,"createContractEventFilter")({abi:n,address:a,args:s,eventName:l,strict:V,fromBlock:c})}catch{}M=!0;return}try{let z;if(x)z=await Ye(t,YA,"getFilterChanges")({filter:x});else{const se=await Ye(t,zu,"getBlockNumber")({});R&&R<se?z=await Ye(t,aV,"getContractEvents")({abi:n,address:a,args:s,eventName:l,fromBlock:R+1n,toBlock:se,strict:V}):z=[],R=se}if(z.length===0)return;if(r)Y.onLogs(z);else for(const se of z)Y.onLogs([se])}catch(z){x&&z instanceof El&&(M=!1),(Q=Y.onError)==null||Q.call(Y,z)}},{emitOnBegin:!0,interval:p});return async()=>{x&&await Ye(t,TA,"uninstallFilter")({filter:x}),D()}})})():(()=>{const V=A??!1,W=$t(["watchContractEvent",a,s,r,t.uid,l,p,V]);let Y=!0,R=()=>Y=!1;return ji(W,{onLogs:u,onError:g},x=>((async()=>{try{const M=(()=>{if(t.transport.type==="fallback"){const z=t.transport.transports.find(se=>se.config.type==="webSocket");return z?z.value:t.transport}return t.transport})(),D=l?Hu({abi:n,eventName:l,args:s}):[],{unsubscribe:Q}=await M.subscribe({params:["logs",{address:a,topics:D}],onData(z){var re;if(!Y)return;const se=z.result;try{const{eventName:ae,args:Ie}=bf({abi:n,data:se.data,topics:se.topics,strict:A}),de=ni(se,{args:Ie,eventName:ae});x.onLogs([de])}catch(ae){let Ie,de;if(ae instanceof xI||ae instanceof ZA){if(A)return;Ie=ae.abiItem.name,de=(re=ae.abiItem.inputs)==null?void 0:re.some(J=>!("name"in J&&J.name))}const ie=ni(se,{args:de?[]:{},eventName:Ie});x.onLogs([ie])}},onError(z){var se;(se=x.onError)==null||se.call(x,z)}});R=Q,Y||R()}catch(M){g==null||g(M)}})(),()=>R()))})()}class $i extends ge{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class um extends ge{constructor({docsPath:e,metaMessages:n,type:a}){super(`Account type "${a}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function hV({chain:t,currentChainId:e}){if(!t)throw new U4;if(e!==t.id)throw new M4({chain:t,currentChainId:e})}function fV(t,{docsPath:e,...n}){const a=(()=>{const s=WA(t,n);return s instanceof Tu?t:s})();return new wF(a,{docsPath:e,...n})}async function Rf(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const pb=new wA(128);async function FA(t,e){var Y,R,x,M;const{account:n=t.account,chain:a=t.chain,accessList:s,authorizationList:r,blobs:l,data:c,gas:g,gasPrice:u,maxFeePerBlobGas:I,maxFeePerGas:p,maxPriorityFeePerGas:A,nonce:Z,type:S,value:B,...V}=e;if(typeof n>"u")throw new $i({docsPath:"/docs/actions/wallet/sendTransaction"});const W=n?Kt(n):null;try{go(e);const D=await(async()=>{if(e.to)return e.to;if(e.to!==null&&r&&r.length>0)return await Y9({authorization:r[0]}).catch(()=>{throw new ge("`to` is required. Could not infer from `authorizationList`.")})})();if((W==null?void 0:W.type)==="json-rpc"||W===null){let Q;a!==null&&(Q=await Ye(t,ed,"getChainId")({}),hV({currentChainId:Q,chain:a}));const z=(x=(R=(Y=t.chain)==null?void 0:Y.formatters)==null?void 0:R.transactionRequest)==null?void 0:x.format,re=(z||co)({...Fu(V,{format:z}),accessList:s,authorizationList:r,blobs:l,chainId:Q,data:c,from:W==null?void 0:W.address,gas:g,gasPrice:u,maxFeePerBlobGas:I,maxFeePerGas:p,maxPriorityFeePerGas:A,nonce:Z,to:D,type:S,value:B}),ae=pb.get(t.uid),Ie=ae?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:Ie,params:[re]},{retryCount:0})}catch(de){if(ae===!1)throw de;const ie=de;if(ie.name==="InvalidInputRpcError"||ie.name==="InvalidParamsRpcError"||ie.name==="MethodNotFoundRpcError"||ie.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[re]},{retryCount:0}).then(J=>(pb.set(t.uid,!0),J)).catch(J=>{const T=J;throw T.name==="MethodNotFoundRpcError"||T.name==="MethodNotSupportedRpcError"?(pb.set(t.uid,!1),ie):T});throw ie}}if((W==null?void 0:W.type)==="local"){const Q=await Ye(t,XA,"prepareTransactionRequest")({account:W,accessList:s,authorizationList:r,blobs:l,chain:a,data:c,gas:g,gasPrice:u,maxFeePerBlobGas:I,maxFeePerGas:p,maxPriorityFeePerGas:A,nonce:Z,nonceManager:W.nonceManager,parameters:[...tV,"sidecars"],type:S,value:B,...V,to:D}),z=(M=a==null?void 0:a.serializers)==null?void 0:M.transaction,se=await W.signTransaction(Q,{serializer:z});return await Ye(t,Rf,"sendRawTransaction")({serializedTransaction:se})}throw(W==null?void 0:W.type)==="smart"?new um({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new um({docsPath:"/docs/actions/wallet/sendTransaction",type:W==null?void 0:W.type})}catch(D){throw D instanceof um?D:fV(D,{...e,account:W,chain:e.chain||void 0})}}async function n8(t,e){const{abi:n,account:a=t.account,address:s,args:r,dataSuffix:l,functionName:c,...g}=e;if(typeof a>"u")throw new $i({docsPath:"/docs/contract/writeContract"});const u=a?Kt(a):null,I=pa({abi:n,args:r,functionName:c});try{return await Ye(t,FA,"sendTransaction")({data:`${I}${l?l.replace("0x",""):""}`,to:s,account:u,...g})}catch(p){throw xl(p,{abi:n,address:s,args:r,docsPath:"/docs/contract/writeContract",functionName:c,sender:u==null?void 0:u.address})}}const ZV={"0x0":"reverted","0x1":"success"};function GV(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>ni(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Ia(t.transactionIndex):null,status:t.status?ZV[t.status]:null,type:t.type?K9[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const BV=RA("transactionReceipt",GV),SV="0x5792579257925792579257925792579257925792579257925792579257925792",wV=Ne(0,{size:32});async function a8(t,e){const{account:n=t.account,capabilities:a,chain:s=t.chain,experimental_fallback:r,experimental_fallbackDelay:l=32,forceAtomic:c=!1,id:g,version:u="2.0.0"}=e;if(typeof n>"u")throw new $i({docsPath:"/docs/actions/wallet/sendCalls"});const I=n?Kt(n):null,p=e.calls.map(A=>{const Z=A;return{data:Z.abi?pa({abi:Z.abi,functionName:Z.functionName,args:Z.args}):Z.data,to:Z.to,value:Z.value?Ne(Z.value):void 0}});try{const A=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:c,calls:p,capabilities:a,chainId:Ne(s.id),from:I==null?void 0:I.address,id:g,version:u}]},{retryCount:0});return typeof A=="string"?{id:A}:A}catch(A){const Z=A;if(r&&(Z.name==="MethodNotFoundRpcError"||Z.name==="MethodNotSupportedRpcError"||Z.details.toLowerCase().includes("does not exist / is not available")||Z.details.toLowerCase().includes("missing or invalid. request()")||Z.details.toLowerCase().includes("did not match any variant of untagged enum"))){if(a&&Object.values(a).some(Y=>!Y.optional)){const Y="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Lg(new ge(Y,{details:Y}))}if(c&&p.length>1){const W="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Qg(new ge(W,{details:W}))}const S=[];for(const W of p){const Y=FA(t,{account:I,chain:s,data:W.data,to:W.to,value:W.value?rt(W.value):void 0});S.push(Y),l>0&&await new Promise(R=>setTimeout(R,l))}const B=await Promise.allSettled(S);if(B.every(W=>W.status==="rejected"))throw B[0].reason;const V=B.map(W=>W.status==="fulfilled"?W.value:wV);return{id:Ln([...V,Ne(s.id,{size:32}),SV])}}throw fV(A,{...e,account:I,chain:e.chain})}}async function kV(t,e){async function n(I){if(I.endsWith(SV.slice(2))){const A=Dn(vm(I,-64,-32)),Z=vm(I,0,-64).slice(2).match(/.{1,64}/g),S=await Promise.all(Z.map(V=>wV.slice(2)!==V?t.request({method:"eth_getTransactionReceipt",params:[`0x${V}`]},{dedupe:!0}):void 0)),B=S.some(V=>V===null)?100:S.every(V=>(V==null?void 0:V.status)==="0x1")?200:S.every(V=>(V==null?void 0:V.status)==="0x0")?500:600;return{atomic:!1,chainId:Ia(A),receipts:S.filter(Boolean),status:B,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[I]})}const{atomic:a=!1,chainId:s,receipts:r,version:l="2.0.0",...c}=await n(e.id),[g,u]=(()=>{const I=c.status;return I>=100&&I<200?["pending",I]:I>=200&&I<300?["success",I]:I>=300&&I<700?["failure",I]:I==="CONFIRMED"?["success",200]:I==="PENDING"?["pending",100]:[void 0,I]})();return{...c,atomic:a,chainId:s?Ia(s):void 0,receipts:(r==null?void 0:r.map(I=>({...I,blockNumber:rt(I.blockNumber),gasUsed:rt(I.gasUsed),status:ZV[I.status]})))??[],statusCode:u,status:g,version:l}}async function s8(t,e){const{id:n,pollingInterval:a=t.pollingInterval,status:s=({statusCode:A})=>A>=200,timeout:r=6e4}=e,l=$t(["waitForCallsStatus",t.uid,n]),{promise:c,resolve:g,reject:u}=Wf();let I;const p=ji(l,{resolve:g,reject:u},A=>{const Z=sd(async()=>{const S=B=>{clearTimeout(I),Z(),B(),p()};try{const B=await kV(t,{id:n});if(!s(B))return;S(()=>A.resolve(B))}catch(B){S(()=>A.reject(B))}},{interval:a,emitOnBegin:!0});return Z});return I=r?setTimeout(()=>{p(),clearTimeout(I),u(new i8({id:n}))},r):void 0,await c}class i8 extends ge{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const n1=256;let bp=n1,hp;function VV(t=11){if(!hp||bp+t>n1*2){hp="",bp=0;for(let e=0;e<n1;e++)hp+=(256+Math.random()*256|0).toString(16).substring(1)}return hp.substring(bp,bp+++t)}function KA(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:a,key:s="base",name:r="Base Client",pollingInterval:l=4e3,type:c="base"}=t,g=t.chain,u=t.account?Kt(t.account):void 0,{config:I,request:p,value:A}=t.transport({chain:g,pollingInterval:l}),Z={...I,...A},S={account:u,batch:e,cacheTime:n,ccipRead:a,chain:g,key:s,name:r,pollingInterval:l,request:p,transport:Z,type:c,uid:VV()};function B(V){return W=>{const Y=W(V);for(const x in S)delete Y[x];const R={...V,...Y};return Object.assign(R,{extend:B(R)})}}return Object.assign(S,{extend:B(S)})}function r8(){return null}const fp=new wA(8192);function o8(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(fp.get(n))return fp.get(n);const a=t().finally(()=>fp.delete(n));return fp.set(n,a),a}function a1(t,{delay:e=100,retryCount:n=2,shouldRetry:a=()=>!0}={}){return new Promise((s,r)=>{const l=async({count:c=0}={})=>{const g=async({error:u})=>{const I=typeof e=="function"?e({count:c,error:u}):e;I&&await t1(I),l({count:c+1})};try{const u=await t();s(u)}catch(u){if(c<n&&await a({count:c,error:u}))return g({error:u});r(u)}};l()})}function l8(t,e={}){return async(n,a={})=>{var p;const{dedupe:s=!1,methods:r,retryDelay:l=150,retryCount:c=3,uid:g}={...e,...a},{method:u}=n;if((p=r==null?void 0:r.exclude)!=null&&p.includes(u))throw new Po(new Error("method not supported"),{method:u});if(r!=null&&r.include&&!r.include.includes(u))throw new Po(new Error("method not supported"),{method:u});const I=s?vl(`${g}.${$t(n)}`):void 0;return o8(()=>a1(async()=>{try{return await t(n)}catch(A){const Z=A;switch(Z.code){case YI.code:throw new YI(Z);case TI.code:throw new TI(Z);case FI.code:throw new FI(Z,{method:n.method});case KI.code:throw new KI(Z);case Jl.code:throw new Jl(Z);case El.code:throw new El(Z);case MI.code:throw new MI(Z);case UI.code:throw new UI(Z);case DI.code:throw new DI(Z);case Po.code:throw new Po(Z,{method:n.method});case zg.code:throw new zg(Z);case zI.code:throw new zI(Z);case Tc.code:throw new Tc(Z);case LI.code:throw new LI(Z);case QI.code:throw new QI(Z);case PI.code:throw new PI(Z);case OI.code:throw new OI(Z);case jI.code:throw new jI(Z);case Lg.code:throw new Lg(Z);case _I.code:throw new _I(Z);case qI.code:throw new qI(Z);case $I.code:throw new $I(Z);case eu.code:throw new eu(Z);case tu.code:throw new tu(Z);case Qg.code:throw new Qg(Z);case 5e3:throw new Tc(Z);default:throw A instanceof ge?A:new JF(Z)}}},{delay:({count:A,error:Z})=>{var S;if(Z&&Z instanceof hI){const B=(S=Z==null?void 0:Z.headers)==null?void 0:S.get("Retry-After");if(B!=null&&B.match(/\d/))return Number.parseInt(B)*1e3}return~~(1<<A)*l},retryCount:c,shouldRetry:({error:A})=>c8(A)}),{enabled:s,id:I})}}function c8(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===zg.code||t.code===Jl.code:t instanceof hI&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function WV({key:t,methods:e,name:n,request:a,retryCount:s=3,retryDelay:r=150,timeout:l,type:c},g){const u=VV();return{config:{key:t,methods:e,name:n,request:a,retryCount:s,retryDelay:r,timeout:l,type:c},request:l8(a,{methods:e,retryCount:s,retryDelay:r,uid:u}),value:g}}function Vc(t,e={}){const{key:n="custom",methods:a,name:s="Custom Provider",retryDelay:r}=e;return({retryCount:l})=>WV({key:n,methods:a,name:s,request:t.request.bind(t),retryCount:e.retryCount??l,retryDelay:r,type:"custom"})}class g8 extends ge{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function d8(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:a}){return new Promise((s,r)=>{(async()=>{let l;try{const c=new AbortController;n>0&&(l=setTimeout(()=>{a&&c.abort()},n)),s(await t({signal:(c==null?void 0:c.signal)||null}))}catch(c){(c==null?void 0:c.name)==="AbortError"&&r(e),r(c)}finally{clearTimeout(l)}})()})}function I8(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const dS=I8();function u8(t,e={}){return{async request(n){var p;const{body:a,onRequest:s=e.onRequest,onResponse:r=e.onResponse,timeout:l=e.timeout??1e4}=n,c={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:g,method:u,signal:I}=c;try{const A=await d8(async({signal:S})=>{const B={...c,body:Array.isArray(a)?$t(a.map(R=>({jsonrpc:"2.0",id:R.id??dS.take(),...R}))):$t({jsonrpc:"2.0",id:a.id??dS.take(),...a}),headers:{"Content-Type":"application/json",...g},method:u||"POST",signal:I||(l>0?S:null)},V=new Request(t,B),W=await(s==null?void 0:s(V,B))??{...B,url:t};return await fetch(W.url??t,W)},{errorInstance:new QB({body:a,url:t}),timeout:l,signal:!0});r&&await r(A);let Z;if((p=A.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))Z=await A.json();else{Z=await A.text();try{Z=JSON.parse(Z||"{}")}catch(S){if(A.ok)throw S;Z={error:Z}}}if(!A.ok)throw new hI({body:a,details:$t(Z.error)||A.statusText,headers:A.headers,status:A.status,url:t});return Z}catch(A){throw A instanceof hI||A instanceof QB?A:new hI({body:a,cause:A,url:t})}}}}function C8(t,e={}){const{batch:n,fetchOptions:a,key:s="http",methods:r,name:l="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:g,retryDelay:u,raw:I}=e;return({chain:p,retryCount:A,timeout:Z})=>{const{batchSize:S=1e3,wait:B=0}=typeof n=="object"?n:{},V=e.retryCount??A,W=Z??e.timeout??1e4,Y=t||(p==null?void 0:p.rpcUrls.default.http[0]);if(!Y)throw new g8;const R=u8(Y,{fetchOptions:a,onRequest:c,onResponse:g,timeout:W});return WV({key:s,methods:r,name:l,async request({method:x,params:M}){const D={method:x,params:M},{schedule:Q}=bV({id:Y,wait:B,shouldSplitBatch(ae){return ae.length>S},fn:ae=>R.request({body:ae}),sort:(ae,Ie)=>ae.id-Ie.id}),z=async ae=>n?Q(ae):[await R.request({body:ae})],[{error:se,result:re}]=await z(D);if(I)return{error:se,result:re};if(se)throw new of({body:D,error:se,url:Y});return re},retryCount:V,retryDelay:u,timeout:W,type:"http"},{fetchOptions:a,url:Y})}}function vf(t,e){var a,s,r,l,c,g;if(!(t instanceof ge))return!1;const n=t.walk(u=>u instanceof Kh);return n instanceof Kh?!!(((a=n.data)==null?void 0:a.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((r=n.data)==null?void 0:r.errorName)==="ResolverNotContract"||((l=n.data)==null?void 0:l.errorName)==="ResolverError"||((c=n.data)==null?void 0:c.errorName)==="HttpError"||(g=n.reason)!=null&&g.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===Z9[50]):!1}function p8(t){const{abi:e,data:n}=t,a=io(n,0,4),s=e.find(r=>r.type==="function"&&a===Nu(ws(r)));if(!s)throw new qY(a,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?qg(s.inputs,io(n,4)):void 0}}const mb="/docs/contract/encodeErrorResult";function IS(t){const{abi:e,errorName:n,args:a}=t;let s=e[0];if(n){const g=Kl({abi:e,args:a,name:n});if(!g)throw new RB(n,{docsPath:mb});s=g}if(s.type!=="error")throw new RB(void 0,{docsPath:mb});const r=ws(s),l=Nu(r);let c="0x";if(a&&a.length>0){if(!s.inputs)throw new jY(s.name,{docsPath:mb});c=ts(s.inputs,a)}return Qn([l,c])}const Ab="/docs/contract/encodeFunctionResult";function m8(t){const{abi:e,functionName:n,result:a}=t;let s=e[0];if(n){const l=Kl({abi:e,name:n});if(!l)throw new Mg(n,{docsPath:Ab});s=l}if(s.type!=="function")throw new Mg(void 0,{docsPath:Ab});if(!s.outputs)throw new t9(s.name,{docsPath:Ab});const r=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[a];if(Array.isArray(a))return a;throw new a9(a)})();return ts(s.outputs,r)}const RV="x-batch-gateway:true";async function nle(t){const{data:e,ccipRequest:n}=t,{args:[a]}=p8({abi:$h,data:e}),s=[],r=[];return await Promise.all(a.map(async(l,c)=>{try{r[c]=await n(l),s[c]=!1}catch(g){s[c]=!0,r[c]=A8(g)}})),m8({abi:$h,functionName:"query",result:[s,r]})}function A8(t){return t.name==="HttpRequestError"&&t.status?IS({abi:$h,errorName:"HttpError",args:[t.status,t.shortMessage]}):IS({abi:[G9],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function vV(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return qa(e)?e:null}function Cm(t){let e=new Uint8Array(32).fill(0);if(!t)return Ft(e);const n=t.split(".");for(let a=n.length-1;a>=0;a-=1){const s=vV(n[a]),r=s?gn(s):ct(qr(n[a]),"bytes");e=ct(Ln([e,r]),"bytes")}return Ft(e)}function y8(t){return`[${t.slice(2)}]`}function b8(t){const e=new Uint8Array(32).fill(0);return t?vV(t)||ct(qr(t)):Ft(e)}function MA(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(qr(e).byteLength+2);let a=0;const s=e.split(".");for(let r=0;r<s.length;r++){let l=qr(s[r]);l.byteLength>255&&(l=qr(y8(b8(s[r])))),n[a]=l.length,n.set(l,a+1),a+=l.length+1}return n.byteLength!==a+1?n.slice(0,a+1):n}async function h8(t,e){const{blockNumber:n,blockTag:a,coinType:s,name:r,gatewayUrls:l,strict:c}=e,{chain:g}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!g)throw new Error("client chain not configured. universalResolverAddress is required.");return nd({blockNumber:n,chain:g,contract:"ensUniversalResolver"})})(),I=g==null?void 0:g.ensTlds;if(I&&!I.some(p=>r.endsWith(p)))return null;try{const p=pa({abi:lS,functionName:"addr",...s!=null?{args:[Cm(r),BigInt(s)]}:{args:[Cm(r)]}}),A={address:u,abi:mV,functionName:"resolve",args:[Ge(MA(r)),p,l??[RV]],blockNumber:n,blockTag:a},S=await Ye(t,si,"readContract")(A);if(S[0]==="0x")return null;const B=Ml({abi:lS,args:s!=null?[Cm(r),BigInt(s)]:void 0,functionName:"addr",data:S[0]});return B==="0x"||Dn(B)==="0x00"?null:B}catch(p){if(c)throw p;if(vf(p,"resolve"))return null;throw p}}class f8 extends ge{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class jd extends ge{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Xf extends ge{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Z8 extends ge{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const G8=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,B8=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,S8=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,w8=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function k8(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const a=new Image;a.onload=()=>{n(!0)},a.onerror=()=>{n(!1)},a.src=t})}}function uS(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function XV({uri:t,gatewayUrls:e}){const n=S8.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const a=uS(e==null?void 0:e.ipfs,"https://ipfs.io"),s=uS(e==null?void 0:e.arweave,"https://arweave.net"),r=t.match(G8),{protocol:l,subpath:c,target:g,subtarget:u=""}=(r==null?void 0:r.groups)||{},I=l==="ipns:/"||c==="ipns/",p=l==="ipfs:/"||c==="ipfs/"||B8.test(t);if(t.startsWith("http")&&!I&&!p){let Z=t;return e!=null&&e.arweave&&(Z=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:Z,isOnChain:!1,isEncoded:!1}}if((I||p)&&g)return{uri:`${a}/${I?"ipns":"ipfs"}/${g}${u}`,isOnChain:!1,isEncoded:!1};if(l==="ar:/"&&g)return{uri:`${s}/${g}${u||""}`,isOnChain:!1,isEncoded:!1};let A=t.replace(w8,"");if(A.startsWith("<svg")&&(A=`data:image/svg+xml;base64,${btoa(A)}`),A.startsWith("data:")||A.startsWith("{"))return{uri:A,isOnChain:!0,isEncoded:!1};throw new Xf({uri:t})}function JV(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new f8({data:t});return t.image||t.image_url||t.image_data}async function V8({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await Jf({gatewayUrls:t,uri:JV(n)})}catch{throw new Xf({uri:e})}}async function Jf({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:a}=XV({uri:e,gatewayUrls:t});if(a||await k8(n))return n;throw new Xf({uri:e})}function W8(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,a,s]=e.split("/"),[r,l]=n.split(":"),[c,g]=a.split(":");if(!r||r.toLowerCase()!=="eip155")throw new jd({reason:"Only EIP-155 supported"});if(!l)throw new jd({reason:"Chain ID not found"});if(!g)throw new jd({reason:"Contract address not found"});if(!s)throw new jd({reason:"Token ID not found"});if(!c)throw new jd({reason:"ERC namespace not found"});return{chainID:Number.parseInt(l),namespace:c.toLowerCase(),contractAddress:g,tokenID:s}}async function R8(t,{nft:e}){if(e.namespace==="erc721")return si(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return si(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Z8({namespace:e.namespace})}async function v8(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?X8(t,{gatewayUrls:e,record:n}):Jf({uri:n,gatewayUrls:e})}async function X8(t,{gatewayUrls:e,record:n}){const a=W8(n),s=await R8(t,{nft:a}),{uri:r,isOnChain:l,isEncoded:c}=XV({uri:s,gatewayUrls:e});if(l&&(r.includes("data:application/json;base64,")||r.startsWith("{"))){const u=c?atob(r.replace("data:application/json;base64,","")):r,I=JSON.parse(u);return Jf({uri:JV(I),gatewayUrls:e})}let g=a.tokenID;return a.namespace==="erc1155"&&(g=g.replace("0x","").padStart(64,"0")),V8({gatewayUrls:e,uri:r.replace(/(?:0x)?{id}/,g)})}async function EV(t,e){const{blockNumber:n,blockTag:a,key:s,name:r,gatewayUrls:l,strict:c}=e,{chain:g}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!g)throw new Error("client chain not configured. universalResolverAddress is required.");return nd({blockNumber:n,chain:g,contract:"ensUniversalResolver"})})(),I=g==null?void 0:g.ensTlds;if(I&&!I.some(p=>r.endsWith(p)))return null;try{const p={address:u,abi:mV,functionName:"resolve",args:[Ge(MA(r)),pa({abi:oS,functionName:"text",args:[Cm(r),s]}),l??[RV]],blockNumber:n,blockTag:a},Z=await Ye(t,si,"readContract")(p);if(Z[0]==="0x")return null;const S=Ml({abi:oS,functionName:"text",data:Z[0]});return S===""?null:S}catch(p){if(c)throw p;if(vf(p,"resolve"))return null;throw p}}async function J8(t,{blockNumber:e,blockTag:n,assetGatewayUrls:a,name:s,gatewayUrls:r,strict:l,universalResolverAddress:c}){const g=await Ye(t,EV,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:c,gatewayUrls:r,strict:l});if(!g)return null;try{return await v8(t,{record:g,gatewayUrls:a})}catch{return null}}async function E8(t,{address:e,blockNumber:n,blockTag:a,gatewayUrls:s,strict:r,universalResolverAddress:l}){let c=l;if(!c){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");c=nd({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const g=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:c,abi:Y4,functionName:"reverse",args:[Ge(MA(g))],blockNumber:n,blockTag:a},I=Ye(t,si,"readContract"),[p,A]=s?await I({...u,args:[...u.args,s]}):await I(u);return e.toLowerCase()!==A.toLowerCase()?null:p}catch(u){if(r)throw u;if(vf(u,"reverse"))return null;throw u}}async function x8(t,e){const{blockNumber:n,blockTag:a,name:s}=e,{chain:r}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!r)throw new Error("client chain not configured. universalResolverAddress is required.");return nd({blockNumber:n,chain:r,contract:"ensUniversalResolver"})})(),c=r==null?void 0:r.ensTlds;if(c&&!c.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${c==null?void 0:c.join(", ")}) for chain "${r.name}" (id: ${r.id}).`);const[g]=await Ye(t,si,"readContract")({address:l,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ge(MA(s))],blockNumber:n,blockTag:a});return g}async function xV(t,e){var V,W,Y;const{account:n=t.account,blockNumber:a,blockTag:s="latest",blobs:r,data:l,gas:c,gasPrice:g,maxFeePerBlobGas:u,maxFeePerGas:I,maxPriorityFeePerGas:p,to:A,value:Z,...S}=e,B=n?Kt(n):void 0;try{go(e);const x=(typeof a=="bigint"?Ne(a):void 0)||s,M=(Y=(W=(V=t.chain)==null?void 0:V.formatters)==null?void 0:W.transactionRequest)==null?void 0:Y.format,Q=(M||co)({...Fu(S,{format:M}),from:B==null?void 0:B.address,blobs:r,data:l,gas:c,gasPrice:g,maxFeePerBlobGas:u,maxFeePerGas:I,maxPriorityFeePerGas:p,to:A,value:Z}),z=await t.request({method:"eth_createAccessList",params:[Q,x]});return{accessList:z.accessList,gasUsed:BigInt(z.gasUsed)}}catch(R){throw Vf(R,{...e,account:B,chain:t.chain})}}async function N8(t){const e=kA(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function NV(t,{address:e,args:n,event:a,events:s,fromBlock:r,strict:l,toBlock:c}={}){const g=s??(a?[a]:void 0),u=kA(t,{method:"eth_newFilter"});let I=[];g&&(I=[g.flatMap(Z=>Hu({abi:[Z],eventName:Z.name,args:n}))],a&&(I=I[0]));const p=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof r=="bigint"?Ne(r):r,toBlock:typeof c=="bigint"?Ne(c):c,...I.length?{topics:I}:{}}]});return{abi:g,args:n,eventName:a?a.name:void 0,fromBlock:r,id:p,request:u(p),strict:!!l,toBlock:c,type:"event"}}async function HV(t){const e=kA(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function H8(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function Y8(t,{blockHash:e,blockNumber:n,blockTag:a="latest"}={}){const s=n!==void 0?Ne(n):void 0;let r;return e?r=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):r=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||a]},{dedupe:!!s}),Ia(r)}async function Em(t,{address:e,blockNumber:n,blockTag:a="latest"}){const s=n!==void 0?Ne(n):void 0,r=await t.request({method:"eth_getCode",params:[e,s||a]},{dedupe:!!s});if(r!=="0x")return r}class T8 extends ge{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function F8(t,e){const{address:n,factory:a,factoryData:s}=e;try{const[r,l,c,g,u,I,p]=await Ye(t,si,"readContract")({abi:K8,address:n,functionName:"eip712Domain",factory:a,factoryData:s});return{domain:{name:l,version:c,chainId:Number(g),verifyingContract:u,salt:I},extensions:p,fields:r}}catch(r){const l=r;throw l.name==="ContractFunctionExecutionError"&&l.cause.name==="ContractFunctionZeroDataError"?new T8({address:n}):l}}const K8=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function M8(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(a=>BigInt(a)))}}async function U8(t,{blockCount:e,blockNumber:n,blockTag:a="latest",rewardPercentiles:s}){const r=typeof n=="bigint"?Ne(n):void 0,l=await t.request({method:"eth_feeHistory",params:[Ne(e),r||a,s]},{dedupe:!!r});return M8(l)}async function D8(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(r=>ni(r));return e.abi?hf({abi:e.abi,logs:s,strict:n}):s}function h(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}class z8 extends ge{constructor({domain:e}){super(`Invalid domain "${$t(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class L8 extends ge{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Q8 extends ge{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function YV(t){const{domain:e={},message:n,primaryType:a}=t,s={EIP712Domain:xf({domain:e}),...t.types};Ef({domain:e,message:n,primaryType:a,types:s});const r=["0x1901"];return e&&r.push(TV({domain:e,types:s})),a!=="EIP712Domain"&&r.push(FV({data:n,primaryType:a,types:s})),ct(Ln(r))}function TV({domain:t,types:e}){return FV({data:t,primaryType:"EIP712Domain",types:e})}function FV({data:t,primaryType:e,types:n}){const a=KV({data:t,primaryType:e,types:n});return ct(a)}function KV({data:t,primaryType:e,types:n}){const a=[{type:"bytes32"}],s=[P8({primaryType:e,types:n})];for(const r of n[e]){const[l,c]=UV({types:n,name:r.name,type:r.type,value:t[r.name]});a.push(l),s.push(c)}return ts(a,s)}function P8({primaryType:t,types:e}){const n=Ge(O8({primaryType:t,types:e}));return ct(n)}function O8({primaryType:t,types:e}){let n="";const a=MV({primaryType:t,types:e});a.delete(t);const s=[t,...Array.from(a).sort()];for(const r of s)n+=`${r}(${e[r].map(({name:l,type:c})=>`${c} ${l}`).join(",")})`;return n}function MV({primaryType:t,types:e},n=new Set){const a=t.match(/^\w*/u),s=a==null?void 0:a[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const r of e[s])MV({primaryType:r.type,types:e},n);return n}function UV({types:t,name:e,type:n,value:a}){if(t[n]!==void 0)return[{type:"bytes32"},ct(KV({data:a,primaryType:n,types:t}))];if(n==="bytes")return a=`0x${(a.length%2?"0":"")+a.slice(2)}`,[{type:"bytes32"},ct(a)];if(n==="string")return[{type:"bytes32"},ct(Ge(a))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),r=a.map(l=>UV({name:e,type:s,types:t,value:l}));return[{type:"bytes32"},ct(ts(r.map(([l])=>l),r.map(([,l])=>l)))]}return[{type:n},a]}function j8(t){const{domain:e,message:n,primaryType:a,types:s}=t,r=(g,u)=>{const I={...u};for(const p of g){const{name:A,type:Z}=p;Z==="address"&&(I[A]=I[A].toLowerCase())}return I},l=s.EIP712Domain?e?r(s.EIP712Domain,e):{}:{},c=(()=>{if(a!=="EIP712Domain")return r(s[a],n)})();return $t({domain:l,message:c,primaryType:a,types:s})}function Ef(t){const{domain:e,message:n,primaryType:a,types:s}=t,r=(l,c)=>{for(const g of l){const{name:u,type:I}=g,p=c[u],A=I.match($1);if(A&&(typeof p=="number"||typeof p=="bigint")){const[B,V,W]=A;Ne(p,{signed:V==="int",size:Number.parseInt(W)/8})}if(I==="address"&&typeof p=="string"&&!pt(p))throw new Tt({address:p});const Z=I.match(b9);if(Z){const[B,V]=Z;if(V&&Et(p)!==Number.parseInt(V))throw new n9({expectedSize:Number.parseInt(V),givenSize:Et(p)})}const S=s[I];S&&(_8(I),r(S,p))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new z8({domain:e});r(s.EIP712Domain,e)}if(a!=="EIP712Domain")if(s[a])r(s[a],n);else throw new L8({primaryType:a,types:s})}function xf({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function _8(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Q8({type:t})}function q8(t,e){if(t.length!==e.length)throw new qk({expectedLength:t.length,givenLength:e.length});const n=[];for(let a=0;a<t.length;a++){const s=t[a],r=e[a];n.push(DV(s,r))}return Qn(n)}function DV(t,e,n=!1){if(t==="address"){const l=e;if(!pt(l))throw new Tt({address:l});return _a(l.toLowerCase(),{size:n?32:null})}if(t==="string")return vl(e);if(t==="bytes")return e;if(t==="bool")return _a(j1(e),{size:n?32:1});const a=t.match($1);if(a){const[l,c,g="256"]=a,u=Number.parseInt(g)/8;return Ne(e,{size:n?32:u,signed:c==="int"})}const s=t.match(b9);if(s){const[l,c]=s;if(Number.parseInt(c)!==(e.length-2)/2)throw new n9({expectedSize:Number.parseInt(c),givenSize:(e.length-2)/2});return _a(e,{dir:"right",size:n?32:null})}const r=t.match(jT);if(r&&Array.isArray(e)){const[l,c]=r,g=[];for(let u=0;u<e.length;u++)g.push(DV(c,e[u],!0));return g.length===0?"0x":Qn(g)}throw new aT(t)}function $8(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:a}=n,s=n.address;if(!pt(s))throw new Tt({address:s});if(a<0)throw new td({chainId:a})}Nf(t)}function e6(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new q9;for(const n of e){const a=Et(n),s=Ia(io(n,0,1));if(a!==32)throw new r4({hash:n,size:a});if(s!==_9)throw new o4({hash:n,version:s})}}Nf(t)}function Nf(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:a,to:s}=t;if(e<=0)throw new td({chainId:e});if(s&&!pt(s))throw new Tt({address:s});if(a&&a>$g)throw new ro({maxFeePerGas:a});if(n&&a&&n>a)throw new Pg({maxFeePerGas:a,maxPriorityFeePerGas:n})}function t6(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:s,to:r}=t;if(e<=0)throw new td({chainId:e});if(r&&!pt(r))throw new Tt({address:r});if(n||s)throw new ge("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(a&&a>$g)throw new ro({maxFeePerGas:a})}function n6(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:s,to:r}=t;if(r&&!pt(r))throw new Tt({address:r});if(typeof e<"u"&&e<=0)throw new td({chainId:e});if(n||s)throw new ge("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(a&&a>$g)throw new ro({maxFeePerGas:a})}function Lu(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:a,storageKeys:s}=t[n];for(let r=0;r<s.length;r++)if(s[r].length-2!==64)throw new SF({storageKey:s[r]});if(!pt(a,{strict:!1}))throw new Tt({address:a});e.push([a,s])}return e}function Hf(t,e){const n=eV(t);return n==="eip1559"?i6(t,e):n==="eip2930"?r6(t,e):n==="eip4844"?s6(t,e):n==="eip7702"?a6(t,e):o6(t,e)}function a6(t,e){const{authorizationList:n,chainId:a,gas:s,nonce:r,to:l,value:c,maxFeePerGas:g,maxPriorityFeePerGas:u,accessList:I,data:p}=t;$8(t);const A=Lu(I),Z=l6(n);return Qn(["0x04",ti([Ge(a),r?Ge(r):"0x",u?Ge(u):"0x",g?Ge(g):"0x",s?Ge(s):"0x",l??"0x",c?Ge(c):"0x",p??"0x",A,Z,...id(t,e)])])}function s6(t,e){const{chainId:n,gas:a,nonce:s,to:r,value:l,maxFeePerBlobGas:c,maxFeePerGas:g,maxPriorityFeePerGas:u,accessList:I,data:p}=t;e6(t);let A=t.blobVersionedHashes,Z=t.sidecars;if(t.blobs&&(typeof A>"u"||typeof Z>"u")){const R=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(D=>Ft(D)),x=t.kzg,M=pf({blobs:R,kzg:x});if(typeof A>"u"&&(A=P9({commitments:M})),typeof Z>"u"){const D=mf({blobs:R,commitments:M,kzg:x});Z=$9({blobs:R,commitments:M,proofs:D})}}const S=Lu(I),B=[Ge(n),s?Ge(s):"0x",u?Ge(u):"0x",g?Ge(g):"0x",a?Ge(a):"0x",r??"0x",l?Ge(l):"0x",p??"0x",S,c?Ge(c):"0x",A??[],...id(t,e)],V=[],W=[],Y=[];if(Z)for(let R=0;R<Z.length;R++){const{blob:x,commitment:M,proof:D}=Z[R];V.push(x),W.push(M),Y.push(D)}return Qn(["0x03",ti(Z?[B,V,W,Y]:B)])}function i6(t,e){const{chainId:n,gas:a,nonce:s,to:r,value:l,maxFeePerGas:c,maxPriorityFeePerGas:g,accessList:u,data:I}=t;Nf(t);const p=Lu(u),A=[Ge(n),s?Ge(s):"0x",g?Ge(g):"0x",c?Ge(c):"0x",a?Ge(a):"0x",r??"0x",l?Ge(l):"0x",I??"0x",p,...id(t,e)];return Qn(["0x02",ti(A)])}function r6(t,e){const{chainId:n,gas:a,data:s,nonce:r,to:l,value:c,accessList:g,gasPrice:u}=t;t6(t);const I=Lu(g),p=[Ge(n),r?Ge(r):"0x",u?Ge(u):"0x",a?Ge(a):"0x",l??"0x",c?Ge(c):"0x",s??"0x",I,...id(t,e)];return Qn(["0x01",ti(p)])}function o6(t,e){const{chainId:n=0,gas:a,data:s,nonce:r,to:l,value:c,gasPrice:g}=t;n6(t);let u=[r?Ge(r):"0x",g?Ge(g):"0x",a?Ge(a):"0x",l??"0x",c?Ge(c):"0x",s??"0x"];if(e){const I=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const Z=27n+(e.v===27n?0n:1n);if(e.v!==Z)throw new GF({v:e.v});return Z})(),p=Dn(e.r),A=Dn(e.s);u=[...u,Ge(I),p==="0x00"?"0x":p,A==="0x00"?"0x":A]}else n>0&&(u=[...u,Ge(n),"0x","0x"]);return ti(u)}function id(t,e){const n=e??t,{v:a,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof a>"u"&&typeof s>"u")return[];const r=Dn(n.r),l=Dn(n.s);return[typeof s=="number"?s?Ge(1):"0x":a===0n?"0x":a===1n?Ge(1):a===27n?"0x":Ge(1),r==="0x00"?"0x":r,l==="0x00"?"0x":l]}function l6(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:a,nonce:s,...r}=n,l=n.address;e.push([a?Ge(a):"0x",l,s?Ge(s):"0x",...id({},r)])}return e}function CS(t){return!t||typeof t!="object"||!("BYTES_PER_ELEMENT"in t)?!1:t.BYTES_PER_ELEMENT===1&&t.constructor.name==="Uint8Array"}function c6(t){return g6(t)}function g6(t){const e=gn(Dg(t.from)),n=_a(CS(t.salt)?t.salt:gn(t.salt),{size:32}),a="bytecodeHash"in t?CS(t.bytecodeHash)?t.bytecodeHash:gn(t.bytecodeHash):ct(t.bytecode,"bytes");return Dg(io(ct(Ln([gn("0xff"),e,n,a])),12))}const d6=`Ethereum Signed Message:
`;function I6(t){const e=typeof t=="string"?vl(t):typeof t.raw=="string"?t.raw:Ft(t.raw),n=vl(`${d6}${Et(e)}`);return Ln([n,e])}function UA(t,e){return ct(I6(t),e)}const zV="0x6492649264926492649264926492649264926492649264926492649264926492";function u6(t){return vm(t,-32)===zV}function C6(t){const{address:e,data:n,signature:a,to:s="hex"}=t,r=Qn([ts([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,a]),zV]);return s==="hex"?r:bn(r)}function p6(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function m6(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?Ia(t.nonce):void 0,storageProof:t.storageProof?p6(t.storageProof):void 0}}async function A6(t,{address:e,blockNumber:n,blockTag:a,storageKeys:s}){const r=a??"latest",l=n!==void 0?Ne(n):void 0,c=await t.request({method:"eth_getProof",params:[e,s,l||r]});return m6(c)}async function LV(t,{address:e,blockNumber:n,blockTag:a="latest",slot:s}){const r=n!==void 0?Ne(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,r||a]})}async function DA(t,{blockHash:e,blockNumber:n,blockTag:a,hash:s,index:r}){var I,p,A;const l=a||"latest",c=n!==void 0?Ne(n):void 0;let g=null;if(s?g=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?g=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ne(r)]},{dedupe:!0}):g=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[c||l,Ne(r)]},{dedupe:!!c}),!g)throw new v9({blockHash:e,blockNumber:n,blockTag:l,hash:s,index:r});return(((A=(p=(I=t.chain)==null?void 0:I.formatters)==null?void 0:p.transaction)==null?void 0:A.format)||Ku)(g)}async function y6(t,{hash:e,transactionReceipt:n}){const[a,s]=await Promise.all([Ye(t,zu,"getBlockNumber")({}),e?Ye(t,DA,"getTransaction")({hash:e}):void 0]),r=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return r?a-r+1n:0n}async function xm(t,{hash:e}){var s,r,l;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new X9({hash:e});return(((l=(r=(s=t.chain)==null?void 0:s.formatters)==null?void 0:r.transactionReceipt)==null?void 0:l.format)||GV)(n)}async function b6(t,e){var W;const{account:n,allowFailure:a=!0,batchSize:s,blockNumber:r,blockTag:l,multicallAddress:c,stateOverride:g}=e,u=e.contracts,I=s??(typeof((W=t.batch)==null?void 0:W.multicall)=="object"&&t.batch.multicall.batchSize||1024);let p=c;if(!p){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");p=nd({blockNumber:r,chain:t.chain,contract:"multicall3"})}const A=[[]];let Z=0,S=0;for(let Y=0;Y<u.length;Y++){const{abi:R,address:x,args:M,functionName:D}=u[Y];try{const Q=pa({abi:R,args:M,functionName:D});S+=(Q.length-2)/2,I>0&&S>I&&A[Z].length>0&&(Z++,S=(Q.length-2)/2,A[Z]=[]),A[Z]=[...A[Z],{allowFailure:!0,callData:Q,target:x}]}catch(Q){const z=xl(Q,{abi:R,address:x,args:M,docsPath:"/docs/contract/multicall",functionName:D,sender:n});if(!a)throw z;A[Z]=[...A[Z],{allowFailure:!0,callData:"0x",target:x}]}}const B=await Promise.allSettled(A.map(Y=>Ye(t,si,"readContract")({abi:qh,account:n,address:p,args:[Y],blockNumber:r,blockTag:l,functionName:"aggregate3",stateOverride:g}))),V=[];for(let Y=0;Y<B.length;Y++){const R=B[Y];if(R.status==="rejected"){if(!a)throw R.reason;for(let M=0;M<A[Y].length;M++)V.push({status:"failure",error:R.reason,result:void 0});continue}const x=R.value;for(let M=0;M<x.length;M++){const{returnData:D,success:Q}=x[M],{callData:z}=A[Y][M],{abi:se,address:re,functionName:ae,args:Ie}=u[V.length];try{if(z==="0x")throw new Eu;if(!Q)throw new VA({data:D});const de=Ml({abi:se,args:Ie,data:D,functionName:ae});V.push(a?{result:de,status:"success"}:de)}catch(de){const ie=xl(de,{abi:se,address:re,args:Ie,docsPath:"/docs/contract/multicall",functionName:ae});if(!a)throw ie;V.push({error:ie,result:void 0,status:"failure"})}}}if(V.length!==u.length)throw new ge("multicall results mismatch");return V}async function s1(t,e){const{blockNumber:n,blockTag:a="latest",blocks:s,returnFullTransactions:r,traceTransfers:l,validation:c}=e;try{const g=[];for(const A of s){const Z=A.blockOverrides?CV(A.blockOverrides):void 0,S=A.calls.map(V=>{const W=V,Y=W.account?Kt(W.account):void 0,R={...W,data:W.abi?pa(W):W.data,from:W.from??(Y==null?void 0:Y.address)};return go(R),co(R)}),B=A.stateOverrides?cf(A.stateOverrides):void 0;g.push({blockOverrides:Z,calls:S,stateOverrides:B})}const I=(typeof n=="bigint"?Ne(n):void 0)||a;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:g,returnFullTransactions:r,traceTransfers:l,validation:c},I]})).map((A,Z)=>({...If(A),calls:A.calls.map((S,B)=>{var re,ae;const{abi:V,args:W,functionName:Y,to:R}=s[Z].calls[B],x=((re=S.error)==null?void 0:re.data)??S.returnData,M=BigInt(S.gasUsed),D=(ae=S.logs)==null?void 0:ae.map(Ie=>ni(Ie)),Q=S.status==="0x1"?"success":"failure",z=V&&Q==="success"&&x!=="0x"?Ml({abi:V,data:x,functionName:Y}):null,se=(()=>{var de;if(Q==="success")return;let Ie;if(((de=S.error)==null?void 0:de.data)==="0x"?Ie=new Eu:S.error&&(Ie=new VA(S.error)),!!Ie)return xl(Ie,{abi:V??[],address:R,args:W,functionName:Y??"<unknown>"})})();return{data:x,gasUsed:M,logs:D,status:Q,...Q==="success"?{result:z}:{error:se}}})}))}catch(g){const u=g,I=WA(u,{});throw I instanceof Tu?u:I}}function QV(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,a=C9(B4(t));return n==="Bytes"?a:dV(a)}class h6 extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const a=this.keys().next().value;a&&this.delete(a)}return this}}const f6={checksum:new h6(8192)},yb=f6.checksum,Z6=/^0x[a-fA-F0-9]{40}$/;function zA(t,e={}){const{strict:n=!0}=e;if(!Z6.test(t))throw new pS({address:t,cause:new B6});if(n){if(t.toLowerCase()===t)return;if(G6(t)!==t)throw new pS({address:t,cause:new S6})}}function G6(t){if(yb.has(t))return yb.get(t);zA(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=QV(k4(e),{as:"Bytes"}),a=e.split("");for(let r=0;r<40;r+=2)n[r>>1]>>4>=8&&a[r]&&(a[r]=a[r].toUpperCase()),(n[r>>1]&15)>=8&&a[r+1]&&(a[r+1]=a[r+1].toUpperCase());const s=`0x${a.join("")}`;return yb.set(t,s),s}function i1(t,e={}){const{strict:n=!0}=e??{};try{return zA(t,{strict:n}),!0}catch{return!1}}class pS extends Rt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class B6 extends Rt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class S6 extends Rt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function r1(t){let e=!0,n="",a=0,s="",r=!1;for(let l=0;l<t.length;l++){const c=t[l];if(["(",")",","].includes(c)&&(e=!0),c==="("&&a++,c===")"&&a--,!!e){if(a===0){if(c===" "&&["event","function","error",""].includes(s))s="";else if(s+=c,c===")"){r=!0;break}continue}if(c===" "){t[l-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=c,n+=c}}if(!r)throw new Rt("Unable to normalize signature.");return s}function o1(t,e){const n=typeof t,a=e.type;switch(a){case"address":return i1(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return a==="tuple"&&"components"in e?Object.values(e.components).every((s,r)=>o1(Object.values(t)[r],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a)?Array.isArray(t)&&t.every(s=>o1(s,{...e,type:a.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function PV(t,e,n){for(const a in t){const s=t[a],r=e[a];if(s.type==="tuple"&&r.type==="tuple"&&"components"in s&&"components"in r)return PV(s.components,r.components,n[a]);const l=[s.type,r.type];if(l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?i1(n[a],{strict:!1}):l.includes("address")&&l.includes("bytes")?i1(n[a],{strict:!1}):!1)return l}}function OV(t,e={}){const{prepare:n=!0}=e,a=Array.isArray(t)||typeof t=="string"?VB(t):t;return{...a,...n?{hash:vc(a)}:{}}}function w6(t,e,n){const{args:a=[],prepare:s=!0}=n??{},r=E4(e,{strict:!1}),l=t.filter(u=>r?u.type==="function"||u.type==="error"?jV(u)===kf(e,0,4):u.type==="event"?vc(u)===e:!1:"name"in u&&u.name===e);if(l.length===0)throw new l1({name:e});if(l.length===1)return{...l[0],...s?{hash:vc(l[0])}:{}};let c;for(const u of l){if(!("inputs"in u))continue;if(!a||a.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:vc(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==a.length)continue;if(a.every((p,A)=>{const Z="inputs"in u&&u.inputs[A];return Z?o1(p,Z):!1})){if(c&&"inputs"in c&&c.inputs){const p=PV(u.inputs,c.inputs,a);if(p)throw new V6({abiItem:u,type:p[0]},{abiItem:c,type:p[1]})}c=u}}const g=(()=>{if(c)return c;const[u,...I]=l;return{...u,overloads:I}})();if(!g)throw new l1({name:e});return{...g,...s?{hash:vc(g)}:{}}}function jV(t){return kf(vc(t),0,4)}function k6(t){const e=typeof t=="string"?t:Rm(t);return r1(e)}function vc(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:QV(wf(k6(t)))}class V6 extends Rt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${r1(Rm(e.abiItem))}\`, and`,`\`${n.type}\` in \`${r1(Rm(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class l1 extends Rt{constructor({name:e,data:n,type:a="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${a}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const W6=/^(.*)\[([0-9]*)\]$/,R6=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,_V=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function v6({checksumAddress:t,parameters:e,values:n}){const a=[];for(let s=0;s<e.length;s++)a.push(Yf({checksumAddress:t,parameter:e[s],value:n[s]}));return a}function Yf({checksumAddress:t=!1,parameter:e,value:n}){const a=e,s=T6(a.type);if(s){const[r,l]=s;return J6(n,{checksumAddress:t,length:r,parameter:{...a,type:l}})}if(a.type==="tuple")return Y6(n,{checksumAddress:t,parameter:a});if(a.type==="address")return X6(n,{checksum:t});if(a.type==="bool")return x6(n);if(a.type.startsWith("uint")||a.type.startsWith("int")){const r=a.type.startsWith("int"),[,,l="256"]=_V.exec(a.type)??[];return N6(n,{signed:r,size:Number(l)})}if(a.type.startsWith("bytes"))return E6(n,{type:a.type});if(a.type==="string")return H6(n);throw new tW(a.type)}function Tf(t){let e=0;for(let r=0;r<t.length;r++){const{dynamic:l,encoded:c}=t[r];l?e+=32:e+=$a(c)}const n=[],a=[];let s=0;for(let r=0;r<t.length;r++){const{dynamic:l,encoded:c}=t[r];l?(n.push(Tn(e+s,{size:32})),a.push(c),s+=$a(c)):n.push(c)}return ai(...n,...a)}function X6(t,e){const{checksum:n=!1}=e;return zA(t,{strict:n}),{dynamic:!1,encoded:Nl(t.toLowerCase())}}function J6(t,e){const{checksumAddress:n,length:a,parameter:s}=e,r=a===null;if(!Array.isArray(t))throw new K6(t);if(!r&&t.length!==a)throw new F6({expectedLength:a,givenLength:t.length,type:`${s.type}[${a}]`});let l=!1;const c=[];for(let g=0;g<t.length;g++){const u=Yf({checksumAddress:n,parameter:s,value:t[g]});u.dynamic&&(l=!0),c.push(u)}if(r||l){const g=Tf(c);if(r){const u=Tn(c.length,{size:32});return{dynamic:!0,encoded:c.length>0?ai(u,g):u}}if(l)return{dynamic:!0,encoded:g}}return{dynamic:!1,encoded:ai(...c.map(({encoded:g})=>g))}}function E6(t,{type:e}){const[,n]=e.split("bytes"),a=$a(t);if(!n){let s=t;return a%32!==0&&(s=Hl(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:ai(Nl(Tn(a,{size:32})),s)}}if(a!==Number.parseInt(n))throw new $V({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Hl(t)}}function x6(t){if(typeof t!="boolean")throw new Rt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Nl(gV(t))}}function N6(t,{signed:e,size:n}){if(typeof n=="number"){const a=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-a-1n:0n;if(t>a||t<s)throw new IV({max:a.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Tn(t,{size:32,signed:e})}}function H6(t){const e=wf(t),n=Math.ceil($a(e)/32),a=[];for(let s=0;s<n;s++)a.push(Hl(kf(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:ai(Hl(Tn($a(e),{size:32})),...a)}}function Y6(t,e){const{checksumAddress:n,parameter:a}=e;let s=!1;const r=[];for(let l=0;l<a.components.length;l++){const c=a.components[l],g=Array.isArray(t)?l:c.name,u=Yf({checksumAddress:n,parameter:c,value:t[g]});r.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?Tf(r):ai(...r.map(({encoded:l})=>l))}}function T6(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function qV(t,e,n){const{checksumAddress:a=!1}={};if(t.length!==e.length)throw new eW({expectedLength:t.length,givenLength:e.length});const s=v6({checksumAddress:a,parameters:t,values:e}),r=Tf(s);return r.length===0?"0x":r}function c1(t,e){if(t.length!==e.length)throw new eW({expectedLength:t.length,givenLength:e.length});const n=[];for(let a=0;a<t.length;a++){const s=t[a],r=e[a];n.push(c1.encode(s,r))}return ai(...n)}(function(t){function e(n,a,s=!1){if(n==="address"){const g=a;return zA(g),Nl(g.toLowerCase(),s?32:0)}if(n==="string")return wf(a);if(n==="bytes")return a;if(n==="bool")return Nl(gV(a),s?32:1);const r=n.match(_V);if(r){const[g,u,I="256"]=r,p=Number.parseInt(I)/8;return Tn(a,{size:s?32:p,signed:u==="int"})}const l=n.match(R6);if(l){const[g,u]=l;if(Number.parseInt(u)!==(a.length-2)/2)throw new $V({expectedSize:Number.parseInt(u),value:a});return Hl(a,s?32:0)}const c=n.match(W6);if(c&&Array.isArray(a)){const[g,u]=c,I=[];for(let p=0;p<a.length;p++)I.push(e(u,a[p],!0));return I.length===0?"0x":ai(...I)}throw new tW(n)}t.encode=e})(c1||(c1={}));class F6 extends Rt{constructor({expectedLength:e,givenLength:n,type:a}){super(`Array length mismatch for type \`${a}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class $V extends Rt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${$a(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class eW extends Rt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class K6 extends Rt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class tW extends Rt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function M6(t,e){var s;const{bytecode:n,args:a}=e;return ai(n,(s=t.inputs)!=null&&s.length&&(a!=null&&a.length)?qV(t.inputs,a):"0x")}function U6(t){return OV(t)}function D6(t,...e){const{overloads:n}=t,a=n?z6([t,...n],t.name,{args:e[0]}):t,s=L6(a),r=e.length>0?qV(a.inputs,e[0]):void 0;return r?ai(s,r):s}function hc(t,e={}){return OV(t,e)}function z6(t,e,n){const a=w6(t,e,n);if(a.type!=="function")throw new l1({name:e,type:"function"});return a}function L6(t){return jV(t)}const Q6="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Is="0x0000000000000000000000000000000000000000",P6="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function O6(t,e){const{blockNumber:n,blockTag:a,calls:s,stateOverrides:r,traceAssetChanges:l,traceTransfers:c,validation:g}=e,u=e.account?Kt(e.account):void 0;if(l&&!u)throw new ge("`account` is required when `traceAssetChanges` is true");const I=u?M6(U6("constructor(bytes, bytes)"),{bytecode:AV,args:[P6,D6(hc("function getBalance(address)"),[u.address])]}):void 0,p=l?await Promise.all(e.calls.map(async H=>{if(!H.data&&!H.abi)return;const{accessList:U}=await xV(t,{account:u.address,...H,data:H.abi?pa(H):H.data});return U.map(({address:E,storageKeys:_})=>_.length>0?E:null)})).then(H=>H.flat().filter(Boolean)):[],A=r==null?void 0:r.map(H=>H.address===(u==null?void 0:u.address)?{...H,nonce:0}:H),Z=await s1(t,{blockNumber:n,blockTag:a,blocks:[...l?[{calls:[{data:I}],stateOverrides:r},{calls:p.map((H,U)=>({abi:[hc("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:H,from:Is,nonce:U})),stateOverrides:[{address:Is,nonce:0}]}]:[],{calls:[...s,{}].map((H,U)=>({...H,from:u==null?void 0:u.address,nonce:U})),stateOverrides:A},...l?[{calls:[{data:I}]},{calls:p.map((H,U)=>({abi:[hc("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:H,from:Is,nonce:U})),stateOverrides:[{address:Is,nonce:0}]},{calls:p.map((H,U)=>({to:H,abi:[hc("function decimals() returns (uint256)")],functionName:"decimals",from:Is,nonce:U})),stateOverrides:[{address:Is,nonce:0}]},{calls:p.map((H,U)=>({to:H,abi:[hc("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Is,nonce:U})),stateOverrides:[{address:Is,nonce:0}]},{calls:p.map((H,U)=>({to:H,abi:[hc("function symbol() returns (string)")],functionName:"symbol",from:Is,nonce:U})),stateOverrides:[{address:Is,nonce:0}]}]:[]],traceTransfers:c,validation:g}),S=l?Z[2]:Z[0],[B,V,,W,Y,R,x,M]=l?Z:[],{calls:D,...Q}=S,z=D.slice(0,-1)??[],se=(B==null?void 0:B.calls)??[],re=(V==null?void 0:V.calls)??[],ae=[...se,...re].map(H=>H.status==="success"?rt(H.data):null),Ie=(W==null?void 0:W.calls)??[],de=(Y==null?void 0:Y.calls)??[],ie=[...Ie,...de].map(H=>H.status==="success"?rt(H.data):null),J=((R==null?void 0:R.calls)??[]).map(H=>H.status==="success"?H.result:null),T=((M==null?void 0:M.calls)??[]).map(H=>H.status==="success"?H.result:null),O=((x==null?void 0:x.calls)??[]).map(H=>H.status==="success"?H.result:null),F=[];for(const[H,U]of ie.entries()){const E=ae[H];if(typeof U!="bigint"||typeof E!="bigint")continue;const _=J[H-1],be=T[H-1],ye=O[H-1],ue=H===0?{address:Q6,decimals:18,symbol:"ETH"}:{address:p[H-1],decimals:ye||_?Number(_??1):void 0,symbol:be??void 0};F.some(Se=>Se.token.address===ue.address)||F.push({token:ue,value:{pre:E,post:U,diff:U-E}})}return{assetChanges:F,block:Q,results:z}}class nW extends _1{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,kT(e);const a=GA(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,r=new Uint8Array(s);r.set(a.length>s?e.create().update(a).digest():a);for(let l=0;l<r.length;l++)r[l]^=54;this.iHash.update(r),this.oHash=e.create();for(let l=0;l<r.length;l++)r[l]^=106;this.oHash.update(r),so(r)}update(e){return Ug(this),this.iHash.update(e),this}digestInto(e){Ug(this),Xl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:a,finished:s,destroyed:r,blockLen:l,outputLen:c}=this;return e=e,e.finished=s,e.destroyed=r,e.blockLen=l,e.outputLen=c,e.oHash=n._cloneInto(e.oHash),e.iHash=a._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const aW=(t,e,n)=>new nW(t,e).update(n).digest();aW.create=(t,e)=>new nW(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const la=BigInt(0),zn=BigInt(1),Oo=BigInt(2),j6=BigInt(3),sW=BigInt(4),iW=BigInt(5),rW=BigInt(8);function ra(t,e){const n=t%e;return n>=la?n:e+n}function Ka(t,e,n){let a=t;for(;e-- >la;)a*=a,a%=n;return a}function g1(t,e){if(t===la)throw new Error("invert: expected non-zero number");if(e<=la)throw new Error("invert: expected positive modulus, got "+e);let n=ra(t,e),a=e,s=la,r=zn;for(;n!==la;){const c=a/n,g=a%n,u=s-r*c;a=n,n=g,s=r,r=u}if(a!==zn)throw new Error("invert: does not exist");return ra(s,e)}function oW(t,e){const n=(t.ORDER+zn)/sW,a=t.pow(e,n);if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function _6(t,e){const n=(t.ORDER-iW)/rW,a=t.mul(e,Oo),s=t.pow(a,n),r=t.mul(e,s),l=t.mul(t.mul(r,Oo),s),c=t.mul(r,t.sub(l,t.ONE));if(!t.eql(t.sqr(c),e))throw new Error("Cannot find square root");return c}function q6(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-zn,n=0;for(;e%Oo===la;)e/=Oo,n++;let a=Oo;const s=Ff(t);for(;mS(s,a)===1;)if(a++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return oW;let r=s.pow(a,e);const l=(e+zn)/Oo;return function(g,u){if(g.is0(u))return u;if(mS(g,u)!==1)throw new Error("Cannot find square root");let I=n,p=g.mul(g.ONE,r),A=g.pow(u,e),Z=g.pow(u,l);for(;!g.eql(A,g.ONE);){if(g.is0(A))return g.ZERO;let S=1,B=g.sqr(A);for(;!g.eql(B,g.ONE);)if(S++,B=g.sqr(B),S===I)throw new Error("Cannot find square root");const V=zn<<BigInt(I-S-1),W=g.pow(p,V);I=S,p=g.sqr(W),A=g.mul(A,p),Z=g.mul(Z,W)}return Z}}function $6(t){return t%sW===j6?oW:t%rW===iW?_6:q6(t)}const e7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function t7(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=e7.reduce((a,s)=>(a[s]="function",a),e);return NA(t,n)}function n7(t,e,n){if(n<la)throw new Error("invalid exponent, negatives unsupported");if(n===la)return t.ONE;if(n===zn)return e;let a=t.ONE,s=e;for(;n>la;)n&zn&&(a=t.mul(a,s)),s=t.sqr(s),n>>=zn;return a}function lW(t,e,n=!1){const a=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((l,c,g)=>t.is0(c)?l:(a[g]=l,t.mul(l,c)),t.ONE),r=t.inv(s);return e.reduceRight((l,c,g)=>t.is0(c)?l:(a[g]=t.mul(l,a[g]),t.mul(l,c)),r),a}function mS(t,e){const n=(t.ORDER-zn)/Oo,a=t.pow(e,n),s=t.eql(a,t.ONE),r=t.eql(a,t.ZERO),l=t.eql(a,t.neg(t.ONE));if(!s&&!r&&!l)throw new Error("invalid Legendre symbol result");return s?1:r?0:-1}function cW(t,e){e!==void 0&&NI(e);const n=e!==void 0?e:t.toString(2).length,a=Math.ceil(n/8);return{nBitLength:n,nByteLength:a}}function Ff(t,e,n=!1,a={}){if(t<=la)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:r}=cW(t,e);if(r>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const c=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:r,MASK:xA(s),ZERO:la,ONE:zn,create:g=>ra(g,t),isValid:g=>{if(typeof g!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof g);return la<=g&&g<t},is0:g=>g===la,isOdd:g=>(g&zn)===zn,neg:g=>ra(-g,t),eql:(g,u)=>g===u,sqr:g=>ra(g*g,t),add:(g,u)=>ra(g+u,t),sub:(g,u)=>ra(g-u,t),mul:(g,u)=>ra(g*u,t),pow:(g,u)=>n7(c,g,u),div:(g,u)=>ra(g*g1(u,t),t),sqrN:g=>g*g,addN:(g,u)=>g+u,subN:(g,u)=>g-u,mulN:(g,u)=>g*u,inv:g=>g1(g,t),sqrt:a.sqrt||(g=>(l||(l=$6(t)),l(c,g))),toBytes:g=>n?oV(g,r):Uu(g,r),fromBytes:g=>{if(g.length!==r)throw new Error("Field.fromBytes: expected "+r+" bytes, got "+g.length);return n?rV(g):Sl(g)},invertBatch:g=>lW(c,g),cmov:(g,u,I)=>I?u:g});return Object.freeze(c)}function gW(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function dW(t){const e=gW(t);return e+Math.ceil(e/2)}function a7(t,e,n=!1){const a=t.length,s=gW(e),r=dW(e);if(a<16||a<r||a>1024)throw new Error("expected "+r+"-1024 bytes of input, got "+a);const l=n?rV(t):Sl(t),c=ra(l,e-zn)+zn;return n?oV(c,s):Uu(c,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const AS=BigInt(0),d1=BigInt(1);function bb(t,e){const n=e.negate();return t?n:e}function IW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function hb(t,e){IW(t,e);const n=Math.ceil(e/t)+1,a=2**(t-1),s=2**t,r=xA(t),l=BigInt(t);return{windows:n,windowSize:a,mask:r,maxNumber:s,shiftBy:l}}function yS(t,e,n){const{windowSize:a,mask:s,maxNumber:r,shiftBy:l}=n;let c=Number(t&s),g=t>>l;c>a&&(c-=r,g+=d1);const u=e*a,I=u+Math.abs(c)-1,p=c===0,A=c<0,Z=e%2!==0;return{nextN:g,offset:I,isZero:p,isNeg:A,isNegF:Z,offsetF:u}}function s7(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,a)=>{if(!(n instanceof e))throw new Error("invalid point at index "+a)})}function i7(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,a)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+a)})}const fb=new WeakMap,uW=new WeakMap;function Zb(t){return uW.get(t)||1}function r7(t,e){return{constTimeNegate:bb,hasPrecomputes(n){return Zb(n)!==1},unsafeLadder(n,a,s=t.ZERO){let r=n;for(;a>AS;)a&d1&&(s=s.add(r)),r=r.double(),a>>=d1;return s},precomputeWindow(n,a){const{windows:s,windowSize:r}=hb(a,e),l=[];let c=n,g=c;for(let u=0;u<s;u++){g=c,l.push(g);for(let I=1;I<r;I++)g=g.add(c),l.push(g);c=g.double()}return l},wNAF(n,a,s){let r=t.ZERO,l=t.BASE;const c=hb(n,e);for(let g=0;g<c.windows;g++){const{nextN:u,offset:I,isZero:p,isNeg:A,isNegF:Z,offsetF:S}=yS(s,g,c);s=u,p?l=l.add(bb(Z,a[S])):r=r.add(bb(A,a[I]))}return{p:r,f:l}},wNAFUnsafe(n,a,s,r=t.ZERO){const l=hb(n,e);for(let c=0;c<l.windows&&s!==AS;c++){const{nextN:g,offset:u,isZero:I,isNeg:p}=yS(s,c,l);if(s=g,!I){const A=a[u];r=r.add(p?A.negate():A)}}return r},getPrecomputes(n,a,s){let r=fb.get(a);return r||(r=this.precomputeWindow(a,n),n!==1&&fb.set(a,s(r))),r},wNAFCached(n,a,s){const r=Zb(n);return this.wNAF(r,this.getPrecomputes(r,n,s),a)},wNAFCachedUnsafe(n,a,s,r){const l=Zb(n);return l===1?this.unsafeLadder(n,a,r):this.wNAFUnsafe(l,this.getPrecomputes(l,n,s),a,r)},setWindowSize(n,a){IW(a,e),uW.set(n,a),fb.delete(n)}}}function o7(t,e,n,a){s7(n,t),i7(a,e);const s=n.length,r=a.length;if(s!==r)throw new Error("arrays of points and scalars must have equal length");const l=t.ZERO,c=I4(BigInt(s));let g=1;c>12?g=c-3:c>4?g=c-2:c>0&&(g=2);const u=xA(g),I=new Array(Number(u)+1).fill(l),p=Math.floor((e.BITS-1)/g)*g;let A=l;for(let Z=p;Z>=0;Z-=g){I.fill(l);for(let B=0;B<r;B++){const V=a[B],W=Number(V>>BigInt(Z)&u);I[W]=I[W].add(n[B])}let S=l;for(let B=I.length-1,V=l;B>0;B--)V=V.add(I[B]),S=S.add(V);if(A=A.add(S),Z!==0)for(let B=0;B<g;B++)A=A.double()}return A}function CW(t){return t7(t.Fp),NA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...cW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function bS(t){t.lowS!==void 0&&nu("lowS",t.lowS),t.prehash!==void 0&&nu("prehash",t.prehash)}function l7(t){const e=CW(t);NA(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:a,a:s}=e;if(n){if(!a.eql(s,a.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class c7 extends Error{constructor(e=""){super(e)}}const Bi={Err:c7,_tlv:{encode:(t,e)=>{const{Err:n}=Bi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const a=e.length/2,s=yp(a);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const r=a>127?yp(s.length/2|128):"";return yp(t)+r+s+e},decode(t,e){const{Err:n}=Bi;let a=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[a++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[a++],r=!!(s&128);let l=0;if(!r)l=s;else{const g=s&127;if(!g)throw new n("tlv.decode(long): indefinite length not supported");if(g>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(a,a+g);if(u.length!==g)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const I of u)l=l<<8|I;if(a+=g,l<128)throw new n("tlv.decode(long): not minimal encoding")}const c=e.subarray(a,a+l);if(c.length!==l)throw new n("tlv.decode: wrong value length");return{v:c,l:e.subarray(a+l)}}},_int:{encode(t){const{Err:e}=Bi;if(t<Yi)throw new e("integer: negative integers are not allowed");let n=yp(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=Bi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Sl(t)}},toSig(t){const{Err:e,_int:n,_tlv:a}=Bi,s=za("signature",t),{v:r,l}=a.decode(48,s);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:c,l:g}=a.decode(2,r),{v:u,l:I}=a.decode(2,g);if(I.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(c),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=Bi,a=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),r=a+s;return e.encode(48,r)}};function Gb(t,e){return au(Uu(t,e))}const Yi=BigInt(0),on=BigInt(1);BigInt(2);const Bb=BigInt(3),g7=BigInt(4);function d7(t){const e=l7(t),{Fp:n}=e,a=Ff(e.n,e.nBitLength),s=e.toBytes||((R,x,M)=>{const D=x.toAffine();return Jm(Uint8Array.from([4]),n.toBytes(D.x),n.toBytes(D.y))}),r=e.fromBytes||(R=>{const x=R.subarray(1),M=n.fromBytes(x.subarray(0,n.BYTES)),D=n.fromBytes(x.subarray(n.BYTES,2*n.BYTES));return{x:M,y:D}});function l(R){const{a:x,b:M}=e,D=n.sqr(R),Q=n.mul(D,R);return n.add(n.add(Q,n.mul(R,x)),M)}function c(R,x){const M=n.sqr(x),D=l(R);return n.eql(M,D)}if(!c(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const g=n.mul(n.pow(e.a,Bb),g7),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(g,u)))throw new Error("bad curve params: a or b");function I(R){return Bf(R,on,e.n)}function p(R){const{allowedPrivateKeyLengths:x,nByteLength:M,wrapPrivateKey:D,n:Q}=e;if(x&&typeof R!="bigint"){if(Mu(R)&&(R=au(R)),typeof R!="string"||!x.includes(R.length))throw new Error("invalid private key");R=R.padStart(M*2,"0")}let z;try{z=typeof R=="bigint"?R:Sl(za("private key",R,M))}catch{throw new Error("invalid private key, expected hex or "+M+" bytes, got "+typeof R)}return D&&(z=ra(z,Q)),Fc("private key",z,on,Q),z}function A(R){if(!(R instanceof B))throw new Error("ProjectivePoint expected")}const Z=nS((R,x)=>{const{px:M,py:D,pz:Q}=R;if(n.eql(Q,n.ONE))return{x:M,y:D};const z=R.is0();x==null&&(x=z?n.ONE:n.inv(Q));const se=n.mul(M,x),re=n.mul(D,x),ae=n.mul(Q,x);if(z)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ae,n.ONE))throw new Error("invZ was invalid");return{x:se,y:re}}),S=nS(R=>{if(R.is0()){if(e.allowInfinityPoint&&!n.is0(R.py))return;throw new Error("bad point: ZERO")}const{x,y:M}=R.toAffine();if(!n.isValid(x)||!n.isValid(M))throw new Error("bad point: x or y not FE");if(!c(x,M))throw new Error("bad point: equation left != right");if(!R.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class B{constructor(x,M,D){if(x==null||!n.isValid(x))throw new Error("x required");if(M==null||!n.isValid(M)||n.is0(M))throw new Error("y required");if(D==null||!n.isValid(D))throw new Error("z required");this.px=x,this.py=M,this.pz=D,Object.freeze(this)}static fromAffine(x){const{x:M,y:D}=x||{};if(!x||!n.isValid(M)||!n.isValid(D))throw new Error("invalid affine point");if(x instanceof B)throw new Error("projective point not allowed");const Q=z=>n.eql(z,n.ZERO);return Q(M)&&Q(D)?B.ZERO:new B(M,D,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(x){const M=lW(n,x.map(D=>D.pz));return x.map((D,Q)=>D.toAffine(M[Q])).map(B.fromAffine)}static fromHex(x){const M=B.fromAffine(r(za("pointHex",x)));return M.assertValidity(),M}static fromPrivateKey(x){return B.BASE.multiply(p(x))}static msm(x,M){return o7(B,a,x,M)}_setWindowSize(x){Y.setWindowSize(this,x)}assertValidity(){S(this)}hasEvenY(){const{y:x}=this.toAffine();if(n.isOdd)return!n.isOdd(x);throw new Error("Field doesn't support isOdd")}equals(x){A(x);const{px:M,py:D,pz:Q}=this,{px:z,py:se,pz:re}=x,ae=n.eql(n.mul(M,re),n.mul(z,Q)),Ie=n.eql(n.mul(D,re),n.mul(se,Q));return ae&&Ie}negate(){return new B(this.px,n.neg(this.py),this.pz)}double(){const{a:x,b:M}=e,D=n.mul(M,Bb),{px:Q,py:z,pz:se}=this;let re=n.ZERO,ae=n.ZERO,Ie=n.ZERO,de=n.mul(Q,Q),ie=n.mul(z,z),J=n.mul(se,se),T=n.mul(Q,z);return T=n.add(T,T),Ie=n.mul(Q,se),Ie=n.add(Ie,Ie),re=n.mul(x,Ie),ae=n.mul(D,J),ae=n.add(re,ae),re=n.sub(ie,ae),ae=n.add(ie,ae),ae=n.mul(re,ae),re=n.mul(T,re),Ie=n.mul(D,Ie),J=n.mul(x,J),T=n.sub(de,J),T=n.mul(x,T),T=n.add(T,Ie),Ie=n.add(de,de),de=n.add(Ie,de),de=n.add(de,J),de=n.mul(de,T),ae=n.add(ae,de),J=n.mul(z,se),J=n.add(J,J),de=n.mul(J,T),re=n.sub(re,de),Ie=n.mul(J,ie),Ie=n.add(Ie,Ie),Ie=n.add(Ie,Ie),new B(re,ae,Ie)}add(x){A(x);const{px:M,py:D,pz:Q}=this,{px:z,py:se,pz:re}=x;let ae=n.ZERO,Ie=n.ZERO,de=n.ZERO;const ie=e.a,J=n.mul(e.b,Bb);let T=n.mul(M,z),O=n.mul(D,se),F=n.mul(Q,re),H=n.add(M,D),U=n.add(z,se);H=n.mul(H,U),U=n.add(T,O),H=n.sub(H,U),U=n.add(M,Q);let E=n.add(z,re);return U=n.mul(U,E),E=n.add(T,F),U=n.sub(U,E),E=n.add(D,Q),ae=n.add(se,re),E=n.mul(E,ae),ae=n.add(O,F),E=n.sub(E,ae),de=n.mul(ie,U),ae=n.mul(J,F),de=n.add(ae,de),ae=n.sub(O,de),de=n.add(O,de),Ie=n.mul(ae,de),O=n.add(T,T),O=n.add(O,T),F=n.mul(ie,F),U=n.mul(J,U),O=n.add(O,F),F=n.sub(T,F),F=n.mul(ie,F),U=n.add(U,F),T=n.mul(O,U),Ie=n.add(Ie,T),T=n.mul(E,U),ae=n.mul(H,ae),ae=n.sub(ae,T),T=n.mul(H,O),de=n.mul(E,de),de=n.add(de,T),new B(ae,Ie,de)}subtract(x){return this.add(x.negate())}is0(){return this.equals(B.ZERO)}wNAF(x){return Y.wNAFCached(this,x,B.normalizeZ)}multiplyUnsafe(x){const{endo:M,n:D}=e;Fc("scalar",x,Yi,D);const Q=B.ZERO;if(x===Yi)return Q;if(this.is0()||x===on)return this;if(!M||Y.hasPrecomputes(this))return Y.wNAFCachedUnsafe(this,x,B.normalizeZ);let{k1neg:z,k1:se,k2neg:re,k2:ae}=M.splitScalar(x),Ie=Q,de=Q,ie=this;for(;se>Yi||ae>Yi;)se&on&&(Ie=Ie.add(ie)),ae&on&&(de=de.add(ie)),ie=ie.double(),se>>=on,ae>>=on;return z&&(Ie=Ie.negate()),re&&(de=de.negate()),de=new B(n.mul(de.px,M.beta),de.py,de.pz),Ie.add(de)}multiply(x){const{endo:M,n:D}=e;Fc("scalar",x,on,D);let Q,z;if(M){const{k1neg:se,k1:re,k2neg:ae,k2:Ie}=M.splitScalar(x);let{p:de,f:ie}=this.wNAF(re),{p:J,f:T}=this.wNAF(Ie);de=Y.constTimeNegate(se,de),J=Y.constTimeNegate(ae,J),J=new B(n.mul(J.px,M.beta),J.py,J.pz),Q=de.add(J),z=ie.add(T)}else{const{p:se,f:re}=this.wNAF(x);Q=se,z=re}return B.normalizeZ([Q,z])[0]}multiplyAndAddUnsafe(x,M,D){const Q=B.BASE,z=(re,ae)=>ae===Yi||ae===on||!re.equals(Q)?re.multiplyUnsafe(ae):re.multiply(ae),se=z(this,M).add(z(x,D));return se.is0()?void 0:se}toAffine(x){return Z(this,x)}isTorsionFree(){const{h:x,isTorsionFree:M}=e;if(x===on)return!0;if(M)return M(B,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:x,clearCofactor:M}=e;return x===on?this:M?M(B,this):this.multiplyUnsafe(e.h)}toRawBytes(x=!0){return nu("isCompressed",x),this.assertValidity(),s(B,this,x)}toHex(x=!0){return nu("isCompressed",x),au(this.toRawBytes(x))}}B.BASE=new B(e.Gx,e.Gy,n.ONE),B.ZERO=new B(n.ZERO,n.ONE,n.ZERO);const{endo:V,nBitLength:W}=e,Y=r7(B,V?Math.ceil(W/2):W);return{CURVE:e,ProjectivePoint:B,normPrivateKeyToScalar:p,weierstrassEquation:l,isWithinCurveOrder:I}}function I7(t){const e=CW(t);return NA(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function u7(t){const e=I7(t),{Fp:n,n:a,nByteLength:s,nBitLength:r}=e,l=n.BYTES+1,c=2*n.BYTES+1;function g(J){return ra(J,a)}function u(J){return g1(J,a)}const{ProjectivePoint:I,normPrivateKeyToScalar:p,weierstrassEquation:A,isWithinCurveOrder:Z}=d7({...e,toBytes(J,T,O){const F=T.toAffine(),H=n.toBytes(F.x),U=Jm;return nu("isCompressed",O),O?U(Uint8Array.from([T.hasEvenY()?2:3]),H):U(Uint8Array.from([4]),H,n.toBytes(F.y))},fromBytes(J){const T=J.length,O=J[0],F=J.subarray(1);if(T===l&&(O===2||O===3)){const H=Sl(F);if(!Bf(H,on,n.ORDER))throw new Error("Point is not on curve");const U=A(H);let E;try{E=n.sqrt(U)}catch(ye){const ue=ye instanceof Error?": "+ye.message:"";throw new Error("Point is not on curve"+ue)}const _=(E&on)===on;return(O&1)===1!==_&&(E=n.neg(E)),{x:H,y:E}}else if(T===c&&O===4){const H=n.fromBytes(F.subarray(0,n.BYTES)),U=n.fromBytes(F.subarray(n.BYTES,2*n.BYTES));return{x:H,y:U}}else{const H=l,U=c;throw new Error("invalid Point, expected length of "+H+", or uncompressed "+U+", got "+T)}}});function S(J){const T=a>>on;return J>T}function B(J){return S(J)?g(-J):J}const V=(J,T,O)=>Sl(J.slice(T,O));class W{constructor(T,O,F){Fc("r",T,on,a),Fc("s",O,on,a),this.r=T,this.s=O,F!=null&&(this.recovery=F),Object.freeze(this)}static fromCompact(T){const O=s;return T=za("compactSignature",T,O*2),new W(V(T,0,O),V(T,O,2*O))}static fromDER(T){const{r:O,s:F}=Bi.toSig(za("DER",T));return new W(O,F)}assertValidity(){}addRecoveryBit(T){return new W(this.r,this.s,T)}recoverPublicKey(T){const{r:O,s:F,recovery:H}=this,U=Q(za("msgHash",T));if(H==null||![0,1,2,3].includes(H))throw new Error("recovery id invalid");const E=H===2||H===3?O+e.n:O;if(E>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const _=(H&1)===0?"02":"03",be=I.fromHex(_+Gb(E,n.BYTES)),ye=u(E),ue=g(-U*ye),Se=g(F*ye),Ke=I.BASE.multiplyAndAddUnsafe(be,ue,Se);if(!Ke)throw new Error("point at infinify");return Ke.assertValidity(),Ke}hasHighS(){return S(this.s)}normalizeS(){return this.hasHighS()?new W(this.r,g(-this.s),this.recovery):this}toDERRawBytes(){return Xm(this.toDERHex())}toDERHex(){return Bi.hexFromSig(this)}toCompactRawBytes(){return Xm(this.toCompactHex())}toCompactHex(){const T=s;return Gb(this.r,T)+Gb(this.s,T)}}const Y={isValidPrivateKey(J){try{return p(J),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const J=dW(e.n);return a7(e.randomBytes(J),e.n)},precompute(J=8,T=I.BASE){return T._setWindowSize(J),T.multiply(BigInt(3)),T}};function R(J,T=!0){return I.fromPrivateKey(J).toRawBytes(T)}function x(J){if(typeof J=="bigint")return!1;if(J instanceof I)return!0;const O=za("key",J).length,F=n.BYTES,H=F+1,U=2*F+1;if(!(e.allowedPrivateKeyLengths||s===H))return O===H||O===U}function M(J,T,O=!0){if(x(J)===!0)throw new Error("first arg must be private key");if(x(T)===!1)throw new Error("second arg must be public key");return I.fromHex(T).multiply(p(J)).toRawBytes(O)}const D=e.bits2int||function(J){if(J.length>8192)throw new Error("input is too large");const T=Sl(J),O=J.length*8-r;return O>0?T>>BigInt(O):T},Q=e.bits2int_modN||function(J){return g(D(J))},z=xA(r);function se(J){return Fc("num < 2^"+r,J,Yi,z),Uu(J,s)}function re(J,T,O=ae){if(["recovered","canonical"].some(Pe=>Pe in O))throw new Error("sign() legacy options not supported");const{hash:F,randomBytes:H}=e;let{lowS:U,prehash:E,extraEntropy:_}=O;U==null&&(U=!0),J=za("msgHash",J),bS(O),E&&(J=za("prehashed msgHash",F(J)));const be=Q(J),ye=p(T),ue=[se(ye),se(be)];if(_!=null&&_!==!1){const Pe=_===!0?H(n.BYTES):_;ue.push(za("extraEntropy",Pe))}const Se=Jm(...ue),Ke=be;function Me(Pe){const ot=D(Pe);if(!Z(ot))return;const Pt=u(ot),Zt=I.BASE.multiply(ot).toAffine(),mt=g(Zt.x);if(mt===Yi)return;const xt=g(Pt*g(Ke+mt*ye));if(xt===Yi)return;let hn=(Zt.x===mt?0:2)|Number(Zt.y&on),Mt=xt;return U&&S(xt)&&(Mt=B(xt),hn^=1),new W(mt,Mt,hn)}return{seed:Se,k2sig:Me}}const ae={lowS:e.lowS,prehash:!1},Ie={lowS:e.lowS,prehash:!1};function de(J,T,O=ae){const{seed:F,k2sig:H}=re(J,T,O),U=e;return u4(U.hash.outputLen,U.nByteLength,U.hmac)(F,H)}I.BASE._setWindowSize(8);function ie(J,T,O,F=Ie){var hn;const H=J;T=za("msgHash",T),O=za("publicKey",O);const{lowS:U,prehash:E,format:_}=F;if(bS(F),"strict"in F)throw new Error("options.strict was renamed to lowS");if(_!==void 0&&_!=="compact"&&_!=="der")throw new Error("format must be compact or der");const be=typeof H=="string"||Mu(H),ye=!be&&!_&&typeof H=="object"&&H!==null&&typeof H.r=="bigint"&&typeof H.s=="bigint";if(!be&&!ye)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let ue,Se;try{if(ye&&(ue=new W(H.r,H.s)),be){try{_!=="compact"&&(ue=W.fromDER(H))}catch(Mt){if(!(Mt instanceof Bi.Err))throw Mt}!ue&&_!=="der"&&(ue=W.fromCompact(H))}Se=I.fromHex(O)}catch{return!1}if(!ue||U&&ue.hasHighS())return!1;E&&(T=e.hash(T));const{r:Ke,s:Me}=ue,Pe=Q(T),ot=u(Me),Pt=g(Pe*ot),Zt=g(Ke*ot),mt=(hn=I.BASE.multiplyAndAddUnsafe(Se,Pt,Zt))==null?void 0:hn.toAffine();return mt?g(mt.x)===Ke:!1}return{CURVE:e,getPublicKey:R,getSharedSecret:M,sign:de,verify:ie,ProjectivePoint:I,Signature:W,utils:Y}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function C7(t){return{hash:t,hmac:(e,...n)=>aW(t,e,JT(...n)),randomBytes:ET}}function p7(t,e){const n=a=>u7({...t,...C7(a)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const pW=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),hS=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),m7=BigInt(0),A7=BigInt(1),I1=BigInt(2),fS=(t,e)=>(t+e/I1)/e;function y7(t){const e=pW,n=BigInt(3),a=BigInt(6),s=BigInt(11),r=BigInt(22),l=BigInt(23),c=BigInt(44),g=BigInt(88),u=t*t*t%e,I=u*u*t%e,p=Ka(I,n,e)*I%e,A=Ka(p,n,e)*I%e,Z=Ka(A,I1,e)*u%e,S=Ka(Z,s,e)*Z%e,B=Ka(S,r,e)*S%e,V=Ka(B,c,e)*B%e,W=Ka(V,g,e)*V%e,Y=Ka(W,c,e)*B%e,R=Ka(Y,n,e)*I%e,x=Ka(R,l,e)*S%e,M=Ka(x,a,e)*u%e,D=Ka(M,I1,e);if(!u1.eql(u1.sqr(D),t))throw new Error("Cannot find square root");return D}const u1=Ff(pW,void 0,void 0,{sqrt:y7}),LA=p7({a:m7,b:BigInt(7),Fp:u1,n:hS,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=hS,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-A7*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=n,l=BigInt("0x100000000000000000000000000000000"),c=fS(r*t,e),g=fS(-a*t,e);let u=ra(t-c*n-g*s,e),I=ra(-c*a-g*r,e);const p=u>l,A=I>l;if(p&&(u=e-u),A&&(I=e-I),u>l||I>l)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:u,k2neg:A,k2:I}}}},L9),b7=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:LA},Symbol.toStringTag,{value:"Module"}));function mW({r:t,s:e,to:n="hex",v:a,yParity:s}){const r=(()=>{if(s===0||s===1)return s;if(a&&(a===27n||a===28n||a>=35n))return a%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),l=`0x${new LA.Signature(rt(t),rt(e)).toCompactHex()}${r===0?"1b":"1c"}`;return n==="hex"?l:bn(l)}async function Kf(t,e){var p,A,Z;const{address:n,factory:a,factoryData:s,hash:r,signature:l,universalSignatureVerifierAddress:c=(Z=(A=(p=t.chain)==null?void 0:p.contracts)==null?void 0:A.universalSignatureVerifier)==null?void 0:Z.address,...g}=e,u=qa(l)?l:typeof l=="object"&&"r"in l&&"s"in l?mW(l):Ft(l),I=await(async()=>!a&&!s||u6(u)?u:C6({address:a,data:s,signature:u}))();try{const S=c?{to:c,data:pa({abi:cS,functionName:"isValidSig",args:[n,r,I]}),...g}:{data:HA({abi:cS,args:[n,r,I],bytecode:K4}),...g},{data:B}=await Ye(t,Du,"call")(S);return o9(B??"0x0")}catch(S){try{if(EA(Dg(n),await lf({hash:r,signature:l})))return!0}catch{}if(S instanceof J9)return!1;throw S}}async function h7(t,{address:e,message:n,factory:a,factoryData:s,signature:r,...l}){const c=UA(n);return Kf(t,{address:e,factory:a,factoryData:s,hash:c,signature:r,...l})}async function f7(t,e){const{address:n,factory:a,factoryData:s,signature:r,message:l,primaryType:c,types:g,domain:u,...I}=e,p=YV({message:l,primaryType:c,types:g,domain:u});return Kf(t,{address:n,factory:a,factoryData:s,hash:p,signature:r,...I})}function AW(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:a,onError:s,poll:r,pollingInterval:l=t.pollingInterval}){const c=typeof r<"u"?r:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let g;return c?(()=>{const p=$t(["watchBlockNumber",t.uid,e,n,l]);return ji(p,{onBlockNumber:a,onError:s},A=>sd(async()=>{var Z;try{const S=await Ye(t,zu,"getBlockNumber")({cacheTime:0});if(g){if(S===g)return;if(S-g>1&&n)for(let B=g+1n;B<S;B++)A.onBlockNumber(B,g),g=B}(!g||S>g)&&(A.onBlockNumber(S,g),g=S)}catch(S){(Z=A.onError)==null||Z.call(A,S)}},{emitOnBegin:e,interval:l}))})():(()=>{const p=$t(["watchBlockNumber",t.uid,e,n]);return ji(p,{onBlockNumber:a,onError:s},A=>{let Z=!0,S=()=>Z=!1;return(async()=>{try{const B=(()=>{if(t.transport.type==="fallback"){const W=t.transport.transports.find(Y=>Y.config.type==="webSocket");return W?W.value:t.transport}return t.transport})(),{unsubscribe:V}=await B.subscribe({params:["newHeads"],onData(W){var R;if(!Z)return;const Y=rt((R=W.result)==null?void 0:R.number);A.onBlockNumber(Y,g),g=Y},onError(W){var Y;(Y=A.onError)==null||Y.call(A,W)}});S=V,Z||S()}catch(B){s==null||s(B)}})(),()=>S()})})()}async function Mf(t,{confirmations:e=1,hash:n,onReplaced:a,pollingInterval:s=t.pollingInterval,retryCount:r=6,retryDelay:l=({count:g})=>~~(1<<g)*200,timeout:c=18e4}){const g=$t(["waitForTransactionReceipt",t.uid,n]);let u,I,p,A=!1,Z,S;const{promise:B,resolve:V,reject:W}=Wf(),Y=c?setTimeout(()=>{S(),Z(),W(new kF({hash:n}))},c):void 0;return Z=ji(g,{onReplaced:a,resolve:V,reject:W},R=>{S=Ye(t,AW,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(x){const M=Q=>{clearTimeout(Y),S(),Q(),Z()};let D=x;if(!A)try{if(p){if(e>1&&(!p.blockNumber||D-p.blockNumber+1n<e))return;M(()=>R.resolve(p));return}if(u||(A=!0,await a1(async()=>{u=await Ye(t,DA,"getTransaction")({hash:n}),u.blockNumber&&(D=u.blockNumber)},{delay:l,retryCount:r}),A=!1),p=await Ye(t,xm,"getTransactionReceipt")({hash:n}),e>1&&(!p.blockNumber||D-p.blockNumber+1n<e))return;M(()=>R.resolve(p))}catch(Q){if(Q instanceof v9||Q instanceof X9){if(!u){A=!1;return}try{I=u,A=!0;const z=await a1(()=>Ye(t,_s,"getBlock")({blockNumber:D,includeTransactions:!0}),{delay:l,retryCount:r,shouldRetry:({error:ae})=>ae instanceof F9});A=!1;const se=z.transactions.find(({from:ae,nonce:Ie})=>ae===I.from&&Ie===I.nonce);if(!se||(p=await Ye(t,xm,"getTransactionReceipt")({hash:se.hash}),e>1&&(!p.blockNumber||D-p.blockNumber+1n<e)))return;let re="replaced";se.to===I.to&&se.value===I.value&&se.input===I.input?re="repriced":se.from===se.to&&se.value===0n&&(re="cancelled"),M(()=>{var ae;(ae=R.onReplaced)==null||ae.call(R,{reason:re,replacedTransaction:I,transaction:se,transactionReceipt:p}),R.resolve(p)})}catch(z){M(()=>R.reject(z))}}else M(()=>R.reject(Q))}}})}),B}function Z7(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:a=!1,onBlock:s,onError:r,includeTransactions:l,poll:c,pollingInterval:g=t.pollingInterval}){const u=typeof c<"u"?c:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),I=l??!1;let p;return u?(()=>{const S=$t(["watchBlocks",t.uid,e,n,a,I,g]);return ji(S,{onBlock:s,onError:r},B=>sd(async()=>{var V;try{const W=await Ye(t,_s,"getBlock")({blockTag:e,includeTransactions:I});if(W.number!==null&&(p==null?void 0:p.number)!=null){if(W.number===p.number)return;if(W.number-p.number>1&&n)for(let Y=(p==null?void 0:p.number)+1n;Y<W.number;Y++){const R=await Ye(t,_s,"getBlock")({blockNumber:Y,includeTransactions:I});B.onBlock(R,p),p=R}}((p==null?void 0:p.number)==null||e==="pending"&&(W==null?void 0:W.number)==null||W.number!==null&&W.number>p.number)&&(B.onBlock(W,p),p=W)}catch(W){(V=B.onError)==null||V.call(B,W)}},{emitOnBegin:a,interval:g}))})():(()=>{let S=!0,B=!0,V=()=>S=!1;return(async()=>{try{a&&Ye(t,_s,"getBlock")({blockTag:e,includeTransactions:I}).then(R=>{S&&B&&(s(R,void 0),B=!1)}).catch(r);const W=(()=>{if(t.transport.type==="fallback"){const R=t.transport.transports.find(x=>x.config.type==="webSocket");return R?R.value:t.transport}return t.transport})(),{unsubscribe:Y}=await W.subscribe({params:["newHeads"],async onData(R){if(!S)return;const x=await Ye(t,_s,"getBlock")({blockNumber:R.blockNumber,includeTransactions:I}).catch(()=>{});S&&(s(x,p),B=!1,p=x)},onError(R){r==null||r(R)}});V=Y,S||V()}catch(W){r==null||r(W)}})(),()=>V()})()}function G7(t,{address:e,args:n,batch:a=!0,event:s,events:r,fromBlock:l,onError:c,onLogs:g,poll:u,pollingInterval:I=t.pollingInterval,strict:p}){const A=typeof u<"u"?u:typeof l=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),Z=p??!1;return A?(()=>{const V=$t(["watchEvent",e,n,a,t.uid,s,I,l]);return ji(V,{onLogs:g,onError:c},W=>{let Y;l!==void 0&&(Y=l-1n);let R,x=!1;const M=sd(async()=>{var D;if(!x){try{R=await Ye(t,NV,"createEventFilter")({address:e,args:n,event:s,events:r,strict:Z,fromBlock:l})}catch{}x=!0;return}try{let Q;if(R)Q=await Ye(t,YA,"getFilterChanges")({filter:R});else{const z=await Ye(t,zu,"getBlockNumber")({});Y&&Y!==z?Q=await Ye(t,ff,"getLogs")({address:e,args:n,event:s,events:r,fromBlock:Y+1n,toBlock:z}):Q=[],Y=z}if(Q.length===0)return;if(a)W.onLogs(Q);else for(const z of Q)W.onLogs([z])}catch(Q){R&&Q instanceof El&&(x=!1),(D=W.onError)==null||D.call(W,Q)}},{emitOnBegin:!0,interval:I});return async()=>{R&&await Ye(t,TA,"uninstallFilter")({filter:R}),M()}})})():(()=>{let V=!0,W=()=>V=!1;return(async()=>{try{const Y=(()=>{if(t.transport.type==="fallback"){const D=t.transport.transports.find(Q=>Q.config.type==="webSocket");return D?D.value:t.transport}return t.transport})(),R=r??(s?[s]:void 0);let x=[];R&&(x=[R.flatMap(Q=>Hu({abi:[Q],eventName:Q.name,args:n}))],s&&(x=x[0]));const{unsubscribe:M}=await Y.subscribe({params:["logs",{address:e,topics:x}],onData(D){var z;if(!V)return;const Q=D.result;try{const{eventName:se,args:re}=bf({abi:R??[],data:Q.data,topics:Q.topics,strict:Z}),ae=ni(Q,{args:re,eventName:se});g([ae])}catch(se){let re,ae;if(se instanceof xI||se instanceof ZA){if(p)return;re=se.abiItem.name,ae=(z=se.abiItem.inputs)==null?void 0:z.some(de=>!("name"in de&&de.name))}const Ie=ni(Q,{args:ae?[]:{},eventName:re});g([Ie])}},onError(D){c==null||c(D)}});W=M,V||W()}catch(Y){c==null||c(Y)}})(),()=>W()})()}function B7(t,{batch:e=!0,onError:n,onTransactions:a,poll:s,pollingInterval:r=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const u=$t(["watchPendingTransactions",t.uid,e,r]);return ji(u,{onTransactions:a,onError:n},I=>{let p;const A=sd(async()=>{var Z;try{if(!p)try{p=await Ye(t,HV,"createPendingTransactionFilter")({});return}catch(B){throw A(),B}const S=await Ye(t,YA,"getFilterChanges")({filter:p});if(S.length===0)return;if(e)I.onTransactions(S);else for(const B of S)I.onTransactions([B])}catch(S){(Z=I.onError)==null||Z.call(I,S)}},{emitOnBegin:!0,interval:r});return async()=>{p&&await Ye(t,TA,"uninstallFilter")({filter:p}),A()}})})():(()=>{let u=!0,I=()=>u=!1;return(async()=>{try{const{unsubscribe:p}=await t.transport.subscribe({params:["newPendingTransactions"],onData(A){if(!u)return;const Z=A.result;a([Z])},onError(A){n==null||n(A)}});I=p,u||I()}catch(p){n==null||n(p)}})(),()=>I()})()}function S7(t){var p,A,Z;const{scheme:e,statement:n,...a}=((p=t.match(w7))==null?void 0:p.groups)??{},{chainId:s,expirationTime:r,issuedAt:l,notBefore:c,requestId:g,...u}=((A=t.match(k7))==null?void 0:A.groups)??{},I=(Z=t.split("Resources:")[1])==null?void 0:Z.split(`
- `).slice(1);return{...a,...u,...s?{chainId:Number(s)}:{},...r?{expirationTime:new Date(r)}:{},...l?{issuedAt:new Date(l)}:{},...c?{notBefore:new Date(c)}:{},...g?{requestId:g}:{},...I?{resources:I}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const w7=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,k7=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function V7(t){const{address:e,domain:n,message:a,nonce:s,scheme:r,time:l=new Date}=t;if(n&&a.domain!==n||s&&a.nonce!==s||r&&a.scheme!==r||a.expirationTime&&l>=a.expirationTime||a.notBefore&&l<a.notBefore)return!1;try{if(!a.address||!pt(a.address,{strict:!1})||e&&!EA(a.address,e))return!1}catch{return!1}return!0}async function W7(t,e){const{address:n,domain:a,message:s,nonce:r,scheme:l,signature:c,time:g=new Date,...u}=e,I=S7(s);if(!I.address||!V7({address:n,domain:a,message:I,nonce:r,scheme:l,time:g}))return!1;const A=UA(s);return Kf(t,{address:I.address,hash:A,signature:c,...u})}function yW(t){return{call:e=>Du(t,e),createAccessList:e=>xV(t,e),createBlockFilter:()=>N8(t),createContractEventFilter:e=>f9(t,e),createEventFilter:e=>NV(t,e),createPendingTransactionFilter:()=>HV(t),estimateContractGas:e=>nV(t,e),estimateGas:e=>JA(t,e),getBalance:e=>yf(t,e),getBlobBaseFee:()=>H8(t),getBlock:e=>_s(t,e),getBlockNumber:e=>zu(t,e),getBlockTransactionCount:e=>Y8(t,e),getBytecode:e=>Em(t,e),getChainId:()=>ed(t),getCode:e=>Em(t,e),getContractEvents:e=>aV(t,e),getEip712Domain:e=>F8(t,e),getEnsAddress:e=>h8(t,e),getEnsAvatar:e=>J8(t,e),getEnsName:e=>E8(t,e),getEnsResolver:e=>x8(t,e),getEnsText:e=>EV(t,e),getFeeHistory:e=>U8(t,e),estimateFeesPerGas:e=>PF(t,e),getFilterChanges:e=>YA(t,e),getFilterLogs:e=>D8(t,e),getGasPrice:()=>Cf(t),getLogs:e=>ff(t,e),getProof:e=>A6(t,e),estimateMaxPriorityFeePerGas:e=>QF(t,e),getStorageAt:e=>LV(t,e),getTransaction:e=>DA(t,e),getTransactionConfirmations:e=>y6(t,e),getTransactionCount:e=>vA(t,e),getTransactionReceipt:e=>xm(t,e),multicall:e=>b6(t,e),prepareTransactionRequest:e=>XA(t,e),readContract:e=>si(t,e),sendRawTransaction:e=>Rf(t,e),simulate:e=>s1(t,e),simulateBlocks:e=>s1(t,e),simulateCalls:e=>O6(t,e),simulateContract:e=>ad(t,e),verifyMessage:e=>h7(t,e),verifySiweMessage:e=>W7(t,e),verifyTypedData:e=>f7(t,e),uninstallFilter:e=>TA(t,e),waitForTransactionReceipt:e=>Mf(t,e),watchBlocks:e=>Z7(t,e),watchBlockNumber:e=>AW(t,e),watchContractEvent:e=>t8(t,e),watchEvent:e=>G7(t,e),watchPendingTransactions:e=>B7(t,e)}}function R7(t){const{key:e="public",name:n="Public Client"}=t;return KA({...t,key:e,name:n,type:"publicClient"}).extend(yW)}async function v7(t,{chain:e}){const{id:n,name:a,nativeCurrency:s,rpcUrls:r,blockExplorers:l}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Ne(n),chainName:a,nativeCurrency:s,rpcUrls:r.default.http,blockExplorerUrls:l?Object.values(l).map(({url:c})=>c):void 0}]},{dedupe:!0,retryCount:0})}function X7(t,e){const{abi:n,args:a,bytecode:s,...r}=e,l=HA({abi:n,args:a,bytecode:s});return FA(t,{...r,...r.authorizationList?{to:null}:{},data:l})}async function J7(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(a=>xu(a))}async function E7(t,e={}){const{account:n=t.account,chainId:a}=e,s=n?Kt(n):void 0,r=a?[s==null?void 0:s.address,[Ne(a)]]:[s==null?void 0:s.address],l=await t.request({method:"wallet_getCapabilities",params:r}),c={};for(const[g,u]of Object.entries(l)){c[Number(g)]={};for(let[I,p]of Object.entries(u))I==="addSubAccount"&&(I="unstable_addSubAccount"),c[Number(g)][I]=p}return typeof a=="number"?c[a]:c}async function x7(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function bW(t,e){var g;const{account:n=t.account,chainId:a,nonce:s}=e;if(!n)throw new $i({docsPath:"/docs/eip7702/prepareAuthorization"});const r=Kt(n),l=(()=>{if(e.executor)return e.executor==="self"?e.executor:Kt(e.executor)})(),c={address:e.contractAddress??e.address,chainId:a,nonce:s};return typeof c.chainId>"u"&&(c.chainId=((g=t.chain)==null?void 0:g.id)??await Ye(t,ed,"getChainId")({})),typeof c.nonce>"u"&&(c.nonce=await Ye(t,vA,"getTransactionCount")({address:r.address,blockTag:"pending"}),(l==="self"||l!=null&&l.address&&EA(l.address,r.address))&&(c.nonce+=1)),c}async function N7(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Dg(n))}async function H7(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function Y7(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function T7(t,e){const{account:n=t.account}=e;if(!n)throw new $i({docsPath:"/docs/eip7702/signAuthorization"});const a=Kt(n);if(!a.signAuthorization)throw new um({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const s=await bW(t,e);return a.signAuthorization(s)}async function F7(t,{account:e=t.account,message:n}){if(!e)throw new $i({docsPath:"/docs/actions/wallet/signMessage"});const a=Kt(e);if(a.signMessage)return a.signMessage({message:n});const s=typeof n=="string"?vl(n):n.raw instanceof Uint8Array?Ge(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,a.address]},{retryCount:0})}async function K7(t,e){var u,I,p,A;const{account:n=t.account,chain:a=t.chain,...s}=e;if(!n)throw new $i({docsPath:"/docs/actions/wallet/signTransaction"});const r=Kt(n);go({account:r,...e});const l=await Ye(t,ed,"getChainId")({});a!==null&&hV({currentChainId:l,chain:a});const c=(a==null?void 0:a.formatters)||((u=t.chain)==null?void 0:u.formatters),g=((I=c==null?void 0:c.transactionRequest)==null?void 0:I.format)||co;return r.signTransaction?r.signTransaction({...s,chainId:l},{serializer:(A=(p=t.chain)==null?void 0:p.serializers)==null?void 0:A.transaction}):await t.request({method:"eth_signTransaction",params:[{...g(s),chainId:Ne(l),from:r.address}]},{retryCount:0})}async function M7(t,e){const{account:n=t.account,domain:a,message:s,primaryType:r}=e;if(!n)throw new $i({docsPath:"/docs/actions/wallet/signTypedData"});const l=Kt(n),c={EIP712Domain:xf({domain:a}),...e.types};if(Ef({domain:a,message:s,primaryType:r,types:c}),l.signTypedData)return l.signTypedData({domain:a,message:s,primaryType:r,types:c});const g=j8({domain:a,message:s,primaryType:r,types:c});return t.request({method:"eth_signTypedData_v4",params:[l.address,g]},{retryCount:0})}async function U7(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ne(e)}]},{retryCount:0})}async function D7(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function Uf(t){return{addChain:e=>v7(t,e),deployContract:e=>X7(t,e),getAddresses:()=>J7(t),getCallsStatus:e=>kV(t,e),getCapabilities:e=>E7(t,e),getChainId:()=>ed(t),getPermissions:()=>x7(t),prepareAuthorization:e=>bW(t,e),prepareTransactionRequest:e=>XA(t,e),requestAddresses:()=>N7(t),requestPermissions:e=>H7(t,e),sendCalls:e=>a8(t,e),sendRawTransaction:e=>Rf(t,e),sendTransaction:e=>FA(t,e),showCallsStatus:e=>Y7(t,e),signAuthorization:e=>T7(t,e),signMessage:e=>F7(t,e),signTransaction:e=>K7(t,e),signTypedData:e=>M7(t,e),switchChain:e=>U7(t,e),waitForCallsStatus:e=>s8(t,e),watchAsset:e=>D7(t,e),writeContract:e=>n8(t,e)}}function Sb(t){const{key:e="wallet",name:n="Wallet Client",transport:a}=t;return KA({...t,key:e,name:n,transport:a,type:"walletClient"}).extend(Uf)}var vo={},wb={},ZS;function z7(){return ZS||(ZS=1,Object.defineProperty(wb,"__esModule",{value:!0})),wb}var ds={},It={};const L7=!0,Q7="SimulateTxAccessor",P7="1.3.0",O7={canonical:{address:"0x59AD6735bCd8152B84860Cb256dD9e96b85F69Da",codeHash:"0xb3fb9763869f2c09a2ac5a425d2dd6060bf7ef46b3899049d71a711e71e00f04"},eip155:{address:"0x727a77a074D1E6c4530e814F89E618a3298FC044",codeHash:"0x66712e1d9161706f826d8d74a3cc03db0289b2530a1202f24d52986952b69a02"},zksync:{address:"0x4191E2e12E8BC5002424CE0c51f9947b02675a44",codeHash:"0x18c486b76cb76981360e96ca4f90fc745fde6a8575b8c2b35ac98eab3856fd72"}},j7={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},_7=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"simulate",outputs:[{internalType:"uint256",name:"estimate",type:"uint256"},{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"}],q7={released:L7,contractName:Q7,version:P7,deployments:O7,networkAddresses:j7,abi:_7},$7=!0,eK="SimulateTxAccessor",tK="1.4.1",nK={canonical:{address:"0x3d4BA2E0884aa488718476ca2FB8Efc291A46199",codeHash:"0x91f82615581fc73b190b83d72e883608b25e392f72322035df1b13d51766cf8d"},zksync:{address:"0xdd35026932273768A3e31F4efF7313B5B7A7199d",codeHash:"0xe772f957acb3987a0b2f1af9e0b515d2a213ec79cbe96a5187e5c5ba6709361e"}},aK={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},sK=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"simulate",outputs:[{internalType:"uint256",name:"estimate",type:"uint256"},{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"}],iK={released:$7,contractName:eK,version:tK,deployments:nK,networkAddresses:aK,abi:sK},rK=!0,oK="ProxyFactory",lK="1.0.0",cK={canonical:{address:"0x12302fE9c02ff50939BaAaaf415fc226C078613C",codeHash:"0x84a375ad96ab395850d46cd601ed6354d3cf3fb67cec0caf18f34af5c9d1a7f0"}},gK={1:"canonical",4:"canonical",5:"canonical",42:"canonical",100:"canonical",369:"canonical"},dK=[{constant:!1,inputs:[{name:"_mastercopy",type:"address"},{name:"initializer",type:"bytes"},{name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyCreationCode",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"masterCopy",type:"address"},{name:"data",type:"bytes"}],name:"createProxy",outputs:[{name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyRuntimeCode",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"proxy",type:"address"}],name:"ProxyCreation",type:"event"}],IK={released:rK,contractName:oK,version:lK,deployments:cK,networkAddresses:gK,abi:dK},uK=!0,CK="ProxyFactory",pK="1.1.1",mK={canonical:{address:"0x76E2cFc1F5Fa8F6a5b3fC4c8F4788F0116861F9B",codeHash:"0x0f0bb9c13be3b595d6f0fde841d5247a96f7e315bd8b97e1363553bee9a7d995"}},AK={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},yK=[{anonymous:!1,inputs:[{indexed:!1,internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],name:"ProxyCreation",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"masterCopy",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"createProxy",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyRuntimeCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"calculateCreateProxyWithNonceAddress",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"}],bK={released:uK,contractName:CK,version:pK,deployments:mK,networkAddresses:AK,abi:yK},hK=!0,fK="GnosisSafeProxyFactory",ZK="1.3.0",GK={canonical:{address:"0xa6B71E26C5e0845f74c812102Ca7114b6a896AB2",codeHash:"0x337d7f54be11b6ed55fef7b667ea5488db53db8320a05d1146aa4bd169a39a9b"},eip155:{address:"0xC22834581EbC8527d974F8a1c97E1bEA4EF910BC",codeHash:"0x337d7f54be11b6ed55fef7b667ea5488db53db8320a05d1146aa4bd169a39a9b"},zksync:{address:"0xDAec33641865E4651fB43181C6DB6f7232Ee91c2",codeHash:"0x55daa5d390d283edbc5fa835bd53befce45179c758feaac8c149a95850d0a6b6"}},BK={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},SK=[{anonymous:!1,inputs:[{indexed:!1,internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"},{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ProxyCreation",type:"event"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"calculateCreateProxyWithNonceAddress",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"singleton",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"createProxy",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"proxyRuntimeCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}],wK={released:hK,contractName:fK,version:ZK,deployments:GK,networkAddresses:BK,abi:SK},kK=!0,VK="SafeProxyFactory",WK="1.4.1",RK={canonical:{address:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",codeHash:"0x50c3cdc4074750a7a974204a716c999edd37482f907608d960b2b025ee0b3317"},zksync:{address:"0xc329D02fd8CB2fc13aa919005aF46320794a8629",codeHash:"0xa4915e4a50124b5dce3c9adc34cce8108fc5dbda97d443534699621d6e0013ba"}},vK={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},XK=[{anonymous:!1,inputs:[{indexed:!0,internalType:"contract SafeProxy",name:"proxy",type:"address"},{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ProxyCreation",type:"event"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createChainSpecificProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}],JK={released:kK,contractName:VK,version:WK,deployments:RK,networkAddresses:vK,abi:XK},EK=!0,xK="DefaultCallbackHandler",NK="1.1.1",HK={canonical:{address:"0xd5D82B6aDDc9027B22dCA772Aa68D5d74cdBdF44",codeHash:"0x919a9f5dd111a01f7a8e4b1f5c6a972bb2d1441c67bdec71de6a09d0be92f5b9"}},YK={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},TK=[{constant:!0,inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],FK={released:EK,contractName:xK,version:NK,deployments:HK,networkAddresses:YK,abi:TK},KK=!0,MK="CompatibilityFallbackHandler",UK="1.3.0",DK={canonical:{address:"0xf48f2B2d2a534e402487b3ee7C18c33Aec0Fe5e4",codeHash:"0x03e69f7ce809e81687c69b19a7d7cca45b6d551ffdec73d9bb87178476de1abf"},eip155:{address:"0x017062a1dE2FE6b99BE3d9d37841FeD19F573804",codeHash:"0x03e69f7ce809e81687c69b19a7d7cca45b6d551ffdec73d9bb87178476de1abf"},zksync:{address:"0x2f870a80647BbC554F3a0EBD093f11B4d2a7492A",codeHash:"0x017e9a83d5513f503fb85274f4d1ad1811040d7caa31772750ffb08638c28fbb"}},zK={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},LK=[{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract GnosisSafe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"}],QK={released:KK,contractName:MK,version:UK,deployments:DK,networkAddresses:zK,abi:LK},PK=!0,OK="CompatibilityFallbackHandler",jK="1.4.1",_K={canonical:{address:"0xfd0732Dc9E303f09fCEf3a7388Ad10A83459Ec99",codeHash:"0x7c6007a5d711cea8dfd5d91f5940ec29c7f200fe511eb1fc1397b367af3c42f9"},zksync:{address:"0x9301E98DD367135f21bdF66f342A249c9D5F9069",codeHash:"0x331ff834e83e6e1596325f04eb7d16614155e324010af21f14e9c945e7669d5f"}},qK={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},$K=[{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"encodeMessageDataForSafe",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"}],eM={released:PK,contractName:OK,version:jK,deployments:_K,networkAddresses:qK,abi:$K},tM=!0,nM="Safe",aM="1.4.1",sM={canonical:{address:"0x41675C099F32341bf84BFc5382aF534df5C7461a",codeHash:"0x1fe2df852ba3299d6534ef416eefa406e56ced995bca886ab7a553e6d0c5e1c4"},zksync:{address:"0xC35F063962328aC65cED5D4c3fC5dEf8dec68dFa",codeHash:"0xfa4d4fc0fa9f1a061571a3f3f66502464edf1a519ab1ab93dc232addf4fbe30f"}},iM={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},rM=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"handler","type":"address"}],"name":"ChangedFallbackHandler","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"guard","type":"address"}],"name":"ChangedGuard","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SafeReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"initiator","type":"address"},{"indexed":false,"internalType":"address[]","name":"owners","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"},{"indexed":false,"internalType":"address","name":"initializer","type":"address"},{"indexed":false,"internalType":"address","name":"fallbackHandler","type":"address"}],"name":"SafeSetup","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"},{"internalType":"uint256","name":"requiredSignatures","type":"uint256"}],"name":"checkNSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"checkSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevModule","type":"address"},{"internalType":"address","name":"module","type":"address"}],"name":"disableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"enableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"length","type":"uint256"}],"name":"getStorageAt","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"guard","type":"address"}],"name":"setGuard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateAndRevert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]'),oM={released:tM,contractName:nM,version:aM,deployments:sM,networkAddresses:iM,abi:rM},lM=!0,cM="GnosisSafe",gM="1.3.0",dM={canonical:{address:"0xd9Db270c1B5E3Bd161E8c8503c55cEABeE709552",codeHash:"0xbba688fbdb21ad2bb58bc320638b43d94e7d100f6f3ebaab0a4e4de6304b1c2e"},eip155:{address:"0x69f4D1788e39c87893C980c06EdF4b7f686e2938",codeHash:"0xbba688fbdb21ad2bb58bc320638b43d94e7d100f6f3ebaab0a4e4de6304b1c2e"},zksync:{address:"0xB00ce5CCcdEf57e539ddcEd01DF43a13855d9910",codeHash:"0x551b7fdfd2dbcec4f785059e1ef6e0b40ca2e44d792158c4e825bc0b092f15e9"}},IM={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},uM=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"handler","type":"address"}],"name":"ChangedFallbackHandler","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"guard","type":"address"}],"name":"ChangedGuard","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SafeReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"initiator","type":"address"},{"indexed":false,"internalType":"address[]","name":"owners","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"},{"indexed":false,"internalType":"address","name":"initializer","type":"address"},{"indexed":false,"internalType":"address","name":"fallbackHandler","type":"address"}],"name":"SafeSetup","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"},{"internalType":"uint256","name":"requiredSignatures","type":"uint256"}],"name":"checkNSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"checkSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevModule","type":"address"},{"internalType":"address","name":"module","type":"address"}],"name":"disableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"enableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"length","type":"uint256"}],"name":"getStorageAt","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"requiredTxGas","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"guard","type":"address"}],"name":"setGuard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateAndRevert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]'),CM={released:lM,contractName:cM,version:gM,deployments:dM,networkAddresses:IM,abi:uM},pM=!0,mM="GnosisSafe",AM="1.2.0",yM={canonical:{address:"0x6851D6fDFAfD08c0295C392436245E5bc78B0185",codeHash:"0x2ae2d1231f0d754a7fa4f5e5d0e5554085e1b500d8e09f95aaaaa3f49c0db922"}},bM={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},hM=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"masterCopy","type":"address"}],"name":"ChangedMasterCopy","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract Module","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract Module","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":true,"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_masterCopy","type":"address"}],"name":"changeMasterCopy","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract Module","name":"prevModule","type":"address"},{"internalType":"contract Module","name":"module","type":"address"}],"name":"disableModule","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"contract Module","name":"module","type":"address"}],"name":"enableModule","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getModules","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract Module","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"requiredTxGas","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"signMessage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"message","type":"bytes"}],"name":"getMessageHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"}]'),fM={released:pM,contractName:mM,version:AM,deployments:yM,networkAddresses:bM,abi:hM},ZM=!0,GM="GnosisSafe",BM="1.1.1",SM={canonical:{address:"0x34CfAC646f301356fAa8B21e94227e3583Fe3F5F",codeHash:"0x56b8be58b5ad629a621593a2e5e5e8e9a28408dc06e95597497b303902772e45"}},wM={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},kM=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"masterCopy","type":"address"}],"name":"ChangedMasterCopy","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract Module","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract Module","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":true,"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_masterCopy","type":"address"}],"name":"changeMasterCopy","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract Module","name":"prevModule","type":"address"},{"internalType":"contract Module","name":"module","type":"address"}],"name":"disableModule","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"contract Module","name":"module","type":"address"}],"name":"enableModule","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getModules","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"requiredTxGas","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"signMessage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"message","type":"bytes"}],"name":"getMessageHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"}]'),VM={released:ZM,contractName:GM,version:BM,deployments:SM,networkAddresses:wM,abi:kM},WM=!0,RM="GnosisSafe",vM="1.0.0",XM={canonical:{address:"0xb6029EA3B2c51D09a50B53CA8012FeEB05bDa35A",codeHash:"0xe1f1593df76e69abc2d692792c80f329457551d5e83dde597546a1d58764da80"}},JM={1:"canonical",4:"canonical",5:"canonical",42:"canonical",100:"canonical",369:"canonical"},EM=[{constant:!1,inputs:[{name:"owner",type:"address"},{name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"signedMessages",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"module",type:"address"}],name:"enableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_masterCopy",type:"address"}],name:"changeMasterCopy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"SENTINEL_MODULES",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SENTINEL_OWNERS",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getOwners",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"NAME",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getModules",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SAFE_MSG_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SAFE_TX_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"prevModule",type:"address"},{name:"module",type:"address"}],name:"disableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"prevOwner",type:"address"},{name:"oldOwner",type:"address"},{name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getThreshold",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"prevOwner",type:"address"},{name:"owner",type:"address"},{name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!1,name:"txHash",type:"bytes32"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newContract",type:"address"}],name:"ContractCreation",type:"event"},{constant:!1,inputs:[{name:"_owners",type:"address[]"},{name:"_threshold",type:"uint256"},{name:"to",type:"address"},{name:"data",type:"bytes"},{name:"paymentToken",type:"address"},{name:"payment",type:"uint256"},{name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_data",type:"bytes"}],name:"signMessage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}],xM={released:WM,contractName:RM,version:vM,deployments:XM,networkAddresses:JM,abi:EM},NM=!0,HM="SafeL2",YM="1.4.1",TM={canonical:{address:"0x29fcB43b46531BcA003ddC8FCB67FFE91900C762",codeHash:"0xb1f926978a0f44a2c0ec8fe822418ae969bd8c3f18d61e5103100339894f81ff"},zksync:{address:"0x610fcA2e0279Fa1F8C00c8c2F71dF522AD469380",codeHash:"0x520462ebe1156cd2d37b1d470c57f23e12fe0c4cda4c62502d96e03fa0cb44da"}},FM={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},KM=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"handler","type":"address"}],"name":"ChangedFallbackHandler","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"guard","type":"address"}],"name":"ChangedGuard","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"SafeModuleTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"baseGas","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"gasPrice","type":"uint256"},{"indexed":false,"internalType":"address","name":"gasToken","type":"address"},{"indexed":false,"internalType":"address payable","name":"refundReceiver","type":"address"},{"indexed":false,"internalType":"bytes","name":"signatures","type":"bytes"},{"indexed":false,"internalType":"bytes","name":"additionalInfo","type":"bytes"}],"name":"SafeMultiSigTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SafeReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"initiator","type":"address"},{"indexed":false,"internalType":"address[]","name":"owners","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"},{"indexed":false,"internalType":"address","name":"initializer","type":"address"},{"indexed":false,"internalType":"address","name":"fallbackHandler","type":"address"}],"name":"SafeSetup","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"},{"internalType":"uint256","name":"requiredSignatures","type":"uint256"}],"name":"checkNSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"checkSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevModule","type":"address"},{"internalType":"address","name":"module","type":"address"}],"name":"disableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"enableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"length","type":"uint256"}],"name":"getStorageAt","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"guard","type":"address"}],"name":"setGuard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateAndRevert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]'),MM={released:NM,contractName:HM,version:YM,deployments:TM,networkAddresses:FM,abi:KM},UM=!0,DM="GnosisSafeL2",zM="1.3.0",LM={canonical:{address:"0x3E5c63644E683549055b9Be8653de26E0B4CD36E",codeHash:"0x21842597390c4c6e3c1239e434a682b054bd9548eee5e9b1d6a4482731023c0f"},eip155:{address:"0xfb1bffC9d739B8D520DaF37dF666da4C687191EA",codeHash:"0x21842597390c4c6e3c1239e434a682b054bd9548eee5e9b1d6a4482731023c0f"},zksync:{address:"0x1727c2c531cf966f902E5927b98490fDFb3b2b70",codeHash:"0xe2ca068330339d608367d83a0b25545efe39e619098597699ab8ff828cb1ddd8"}},QM={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},PM=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"handler","type":"address"}],"name":"ChangedFallbackHandler","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"guard","type":"address"}],"name":"ChangedGuard","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"SafeModuleTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"baseGas","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"gasPrice","type":"uint256"},{"indexed":false,"internalType":"address","name":"gasToken","type":"address"},{"indexed":false,"internalType":"address payable","name":"refundReceiver","type":"address"},{"indexed":false,"internalType":"bytes","name":"signatures","type":"bytes"},{"indexed":false,"internalType":"bytes","name":"additionalInfo","type":"bytes"}],"name":"SafeMultiSigTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SafeReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"initiator","type":"address"},{"indexed":false,"internalType":"address[]","name":"owners","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"},{"indexed":false,"internalType":"address","name":"initializer","type":"address"},{"indexed":false,"internalType":"address","name":"fallbackHandler","type":"address"}],"name":"SafeSetup","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"},{"internalType":"uint256","name":"requiredSignatures","type":"uint256"}],"name":"checkNSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"checkSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevModule","type":"address"},{"internalType":"address","name":"module","type":"address"}],"name":"disableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"enableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"length","type":"uint256"}],"name":"getStorageAt","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"requiredTxGas","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"guard","type":"address"}],"name":"setGuard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateAndRevert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]'),OM={released:UM,contractName:DM,version:zM,deployments:LM,networkAddresses:QM,abi:PM},jM=!0,_M="MultiSend",qM="1.1.1",$M={canonical:{address:"0x8D29bE29923b68abfDD21e541b9374737B49cdAD",codeHash:"0xe4e9b4d4c1e3ff06cd51afe0b51eb1b22c0bab51eab38d428ee74540a5ff603e"}},eU={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},tU=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!1,inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],nU={released:jM,contractName:_M,version:qM,deployments:$M,networkAddresses:eU,abi:tU},aU=!0,sU="MultiSend",iU="1.3.0",rU={canonical:{address:"0xA238CBeb142c10Ef7Ad8442C6D1f9E89e07e7761",codeHash:"0x0208282bd262360d0320862c5ac70f375f5ed3b9d89a83a615b4d398415bdc83"},eip155:{address:"0x998739BFdAAdde7C933B942a68053933098f9EDa",codeHash:"0x81db0e4afdf5178583537b58c5ad403bd47a4ac7f9bde2442ef3e341d433126a"},zksync:{address:"0x0dFcccB95225ffB03c6FBB2559B530C2B7C8A912",codeHash:"0xd9aa004a59b3738a108e747e578ae409b84e9f3ffd689d81b10f4d96000c5f5c"}},oU={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},lU=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],cU={released:aU,contractName:sU,version:iU,deployments:rU,networkAddresses:oU,abi:lU},gU=!0,dU="MultiSend",IU="1.4.1",uU={canonical:{address:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",codeHash:"0x0e4f7fc66550a322d1e7688e181b75e217e662a4f3f4d6a29b22bc61217c4b77"},zksync:{address:"0x309D0B190FeCCa8e1D5D8309a16F7e3CB133E885",codeHash:"0xcb372f27aba6983e7b54997ebb4a75c35876b2a279238ab914c5415de1e95137"}},CU={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},pU=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],mU={released:gU,contractName:dU,version:IU,deployments:uU,networkAddresses:CU,abi:pU},AU=!0,yU="MultiSendCallOnly",bU="1.3.0",hU={canonical:{address:"0x40A2aCCbd92BCA938b02010E17A5b8929b49130D",codeHash:"0xa9865ac2d9c7a1591619b188c4d88167b50df6cc0c5327fcbd1c8c75f7c066ad"},eip155:{address:"0xA1dabEF33b3B82c7814B6D82A79e50F4AC44102B",codeHash:"0xa9865ac2d9c7a1591619b188c4d88167b50df6cc0c5327fcbd1c8c75f7c066ad"},zksync:{address:"0xf220D3b4DFb23C4ade8C88E526C1353AbAcbC38F",codeHash:"0x064ddbf252714bcd4cb79f679e8c12df96d998ce07bbb13b3118c1dbf4a31942"}},fU={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},ZU=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],GU={released:AU,contractName:yU,version:bU,deployments:hU,networkAddresses:fU,abi:ZU},BU=!0,SU="MultiSendCallOnly",wU="1.4.1",kU={canonical:{address:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2",codeHash:"0xecd5bd14a08c5d2122379900b2f272bdf107a7e92423c10dd5fe3254386c9939"},zksync:{address:"0x0408EF011960d02349d50286D20531229BCef773",codeHash:"0x44c70b30fed5c3a07358a52c2fb028f651031010ef99e4d8c3b45c208e88a264"}},VU={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},WU=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],RU={released:BU,contractName:SU,version:wU,deployments:kU,networkAddresses:VU,abi:WU},vU=!0,XU="CreateCall",JU="1.3.0",EU={canonical:{address:"0x7cbB62EaA69F79e6873cD1ecB2392971036cFAa4",codeHash:"0x8155d988823a4f6f1bcbc76a64af8e510c4ce68819290d43cf24956bd24dee82"},eip155:{address:"0xB19D6FFc2182150F8Eb585b79D4ABcd7C5640A9d",codeHash:"0x8155d988823a4f6f1bcbc76a64af8e510c4ce68819290d43cf24956bd24dee82"},zksync:{address:"0xcB8e5E438c5c2b45FbE17B02Ca9aF91509a8ad56",codeHash:"0x98095337deb9718f4e5ccb1b25a53be5f5e0093502b29df9e857f5e3e12aa194"}},xU={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},NU=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newContract",type:"address"}],name:"ContractCreation",type:"event"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"deploymentData",type:"bytes"}],name:"performCreate",outputs:[{internalType:"address",name:"newContract",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"deploymentData",type:"bytes"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"performCreate2",outputs:[{internalType:"address",name:"newContract",type:"address"}],stateMutability:"nonpayable",type:"function"}],HU={released:vU,contractName:XU,version:JU,deployments:EU,networkAddresses:xU,abi:NU},YU=!0,TU="CreateCall",FU="1.4.1",KU={canonical:{address:"0x9b35Af71d77eaf8d7e40252370304687390A1A52",codeHash:"0x2b3060c55fcb8275653e99ad511a71f67ba76934ed66a7d74d6e68b52afff889"},zksync:{address:"0xAAA566Fe7978bB0fb0B5362B7ba23038f4428D8f",codeHash:"0x3aa5b033c45ab4866216847b12f15bca9a94c66ad5bbfbbbc42cc778079059d4"}},MU={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},UU=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newContract",type:"address"}],name:"ContractCreation",type:"event"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"deploymentData",type:"bytes"}],name:"performCreate",outputs:[{internalType:"address",name:"newContract",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"deploymentData",type:"bytes"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"performCreate2",outputs:[{internalType:"address",name:"newContract",type:"address"}],stateMutability:"nonpayable",type:"function"}],DU={released:YU,contractName:TU,version:FU,deployments:KU,networkAddresses:MU,abi:UU},zU=!0,LU="SignMessageLib",QU="1.3.0",PU={canonical:{address:"0xA65387F16B013cf2Af4605Ad8aA5ec25a2cbA3a2",codeHash:"0x3ac65dea3cc9dd0d7b7b800f834e3d73415b4e944bb94555c3e4a08fb137e918"},eip155:{address:"0x98FFBBF51bb33A056B08ddf711f289936AafF717",codeHash:"0x3ac65dea3cc9dd0d7b7b800f834e3d73415b4e944bb94555c3e4a08fb137e918"},zksync:{address:"0x357147caf9C0cCa67DfA0CF5369318d8193c8407",codeHash:"0x9da86f7e32ef976bd442a8eeb353e16d683b53e30e926ae7adce7c609f75b1fc"}},OU={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},jU=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"signMessage",outputs:[],stateMutability:"nonpayable",type:"function"}],_U={released:zU,contractName:LU,version:QU,deployments:PU,networkAddresses:OU,abi:jU},qU=!0,$U="SignMessageLib",eD="1.4.1",tD={canonical:{address:"0xd53cd0aB83D845Ac265BE939c57F53AD838012c9",codeHash:"0x525c754a46b79e05543a59bb61e8de3c9eee0d955a59352409cbe67ea1077528"},zksync:{address:"0xAca1ec0a1A575CDCCF1DC3d5d296202Eb6061888",codeHash:"0x3e762bdca5f7d61c70e7ad1d1cb7b999481954543e7c29540e757d3e7004aa6b"}},nD={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},aD=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"signMessage",outputs:[],stateMutability:"nonpayable",type:"function"}],sD={released:qU,contractName:$U,version:eD,deployments:tD,networkAddresses:nD,abi:aD},iD=!0,rD="SafeMigration",oD="1.4.1",lD={canonical:{address:"0x526643F69b81B008F46d95CD5ced5eC0edFFDaC6",codeHash:"0xc00d7921460cd5a05393e7772e634bd7d212f356356aa3a77f0120a9b8e25e99"},zksync:{address:"0x817756C6c555A94BCEE39eB5a102AbC1678b09A7",codeHash:"0x6815c12fbdeb438fb0fb1e1484ac190ca2fc98065b93f95db846596c3c0eee70"}},cD={1:"canonical",10:"canonical",14:"canonical",39:"canonical",44:"canonical",56:"canonical",81:"canonical",88:"canonical",100:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",300:"zksync",314:"canonical",324:"zksync",466:"canonical",478:"canonical",480:"canonical",545:"canonical",747:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1101:"canonical",1125:"canonical",1315:"canonical",1337:"canonical",1424:"canonical",1516:"canonical",1663:"canonical",1740:"canonical",1750:"canonical",1923:"canonical",1924:"canonical",2187:"canonical",2345:"canonical",2424:"canonical",2442:"canonical",2818:"canonical",3501:"canonical",3636:"canonical",4061:"canonical",4661:"canonical",5e3:"canonical",5115:"canonical",5611:"canonical",7200:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",11011:"canonical",13746:"canonical",18880:"canonical",33139:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59144:"canonical",59902:"canonical",80094:"canonical",81457:"canonical",84532:"canonical",98864:"canonical",98865:"canonical",175188:"canonical",314159:"canonical",381931:"canonical",534352:"canonical",560048:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",11155111:"canonical",12227332:"canonical",21e6:"canonical",253368190:"canonical",994873017:"canonical",1313161554:"canonical",1417429182:"canonical",1570754601:"canonical",1952959480:"canonical"},gD=[{inputs:[{internalType:"address",name:"safeSingleton",type:"address"},{internalType:"address",name:"safeL2Singleton",type:"address"},{internalType:"address",name:"fallbackHandler",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ChangedMasterCopy",type:"event"},{inputs:[],name:"MIGRATION_SINGLETON",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAFE_FALLBACK_HANDLER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAFE_L2_SINGLETON",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAFE_SINGLETON",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrateL2Singleton",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrateL2WithFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrateSingleton",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrateWithFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"}],dD={released:iD,contractName:rD,version:oD,deployments:lD,networkAddresses:cD,abi:gD},ID=!0,uD="SafeToL2Migration",CD="1.4.1",pD={canonical:{address:"0xfF83F6335d8930cBad1c0D439A841f01888D9f69",codeHash:"0xa83e7be2fa20c96dc9575e3937239d552f3831ea437d7c96397eec8736f0cba0"},zksync:{address:"0xa26620d1f8f1a2433F0D25027F141aaCAFB3E590",codeHash:"0x2a68d940fb2460312e98bc36be0efaeff392237039e7282bc12155f049287c70"}},mD={1:"canonical",10:"canonical",14:"canonical",39:"canonical",44:"canonical",56:"canonical",81:"canonical",88:"canonical",100:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",300:"zksync",314:"canonical",324:"zksync",466:"canonical",478:"canonical",480:"canonical",545:"canonical",747:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1101:"canonical",1125:"canonical",1315:"canonical",1337:"canonical",1424:"canonical",1516:"canonical",1663:"canonical",1740:"canonical",1750:"canonical",1923:"canonical",1924:"canonical",2187:"canonical",2345:"canonical",2424:"canonical",2442:"canonical",2818:"canonical",3501:"canonical",3636:"canonical",4061:"canonical",4661:"canonical",5e3:"canonical",5115:"canonical",5611:"canonical",7200:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",11011:"canonical",13746:"canonical",18880:"canonical",33139:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59144:"canonical",59902:"canonical",80094:"canonical",81457:"canonical",84532:"canonical",98864:"canonical",98865:"canonical",175188:"canonical",314159:"canonical",381931:"canonical",534352:"canonical",560048:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",11155111:"canonical",12227332:"canonical",21e6:"canonical",253368190:"canonical",994873017:"canonical",1313161554:"canonical",1417429182:"canonical",1570754601:"canonical",1952959480:"canonical"},AD=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ChangedMasterCopy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{indexed:!1,internalType:"uint256",name:"safeTxGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"gasPrice",type:"uint256"},{indexed:!1,internalType:"address",name:"gasToken",type:"address"},{indexed:!1,internalType:"address payable",name:"refundReceiver",type:"address"},{indexed:!1,internalType:"bytes",name:"signatures",type:"bytes"},{indexed:!1,internalType:"bytes",name:"additionalInfo",type:"bytes"}],name:"SafeMultiSigTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!1,internalType:"address[]",name:"owners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"},{indexed:!1,internalType:"address",name:"initializer",type:"address"},{indexed:!1,internalType:"address",name:"fallbackHandler",type:"address"}],name:"SafeSetup",type:"event"},{inputs:[],name:"MIGRATION_SINGLETON",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"l2Singleton",type:"address"},{internalType:"address",name:"fallbackHandler",type:"address"}],name:"migrateFromV111",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"l2Singleton",type:"address"}],name:"migrateToL2",outputs:[],stateMutability:"nonpayable",type:"function"}],yD={released:ID,contractName:uD,version:CD,deployments:pD,networkAddresses:mD,abi:AD},bD=!0,hD="SafeToL2Setup",fD="1.4.1",ZD={canonical:{address:"0xBD89A1CE4DDe368FFAB0eC35506eEcE0b1fFdc54",codeHash:"0x2f25df28caf984366ee584e13241707e85dcd5a6ea0c14267928dafc1fd6274b"},zksync:{address:"0x199A9df0224031c20Cc27083A4164c9c8F1Bcb39",codeHash:"0x0bbcc5092b50efd183bb46cfe3f61abca3226cea4f612f23f22bb222cd7b3d45"}},GD={1:"canonical",10:"canonical",14:"canonical",39:"canonical",44:"canonical",56:"canonical",81:"canonical",88:"canonical",100:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",300:"zksync",314:"canonical",324:"zksync",466:"canonical",478:"canonical",480:"canonical",545:"canonical",747:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1101:"canonical",1125:"canonical",1315:"canonical",1337:"canonical",1424:"canonical",1516:"canonical",1663:"canonical",1740:"canonical",1750:"canonical",1923:"canonical",1924:"canonical",2187:"canonical",2345:"canonical",2424:"canonical",2442:"canonical",2818:"canonical",3501:"canonical",3636:"canonical",4061:"canonical",4661:"canonical",5e3:"canonical",5115:"canonical",5611:"canonical",7200:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",11011:"canonical",13746:"canonical",18880:"canonical",33139:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59144:"canonical",59902:"canonical",80094:"canonical",81457:"canonical",84532:"canonical",98864:"canonical",98865:"canonical",175188:"canonical",314159:"canonical",381931:"canonical",534352:"canonical",560048:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",11155111:"canonical",12227332:"canonical",21e6:"canonical",253368190:"canonical",994873017:"canonical",1313161554:"canonical",1417429182:"canonical",1570754601:"canonical",1952959480:"canonical"},BD=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ChangedMasterCopy",type:"event"},{inputs:[{internalType:"address",name:"l2Singleton",type:"address"}],name:"setupToL2",outputs:[],stateMutability:"nonpayable",type:"function"}],SD={released:bD,contractName:hD,version:fD,deployments:ZD,networkAddresses:GD,abi:BD};var GS;function Qu(){if(GS)return It;GS=1;var t=It&&It.__importDefault||function(Se){return Se&&Se.__esModule?Se:{default:Se}};Object.defineProperty(It,"__esModule",{value:!0}),It._SAFE_TO_L2_SETUP_DEPLOYMENTS=It._SAFE_TO_L2_MIGRATION_DEPLOYMENTS=It._SAFE_MIGRATION_DEPLOYMENTS=It._SIGN_MESSAGE_LIB_DEPLOYMENTS=It._CREATE_CALL_DEPLOYMENTS=It._MULTI_SEND_CALL_ONLY_DEPLOYMENTS=It._MULTI_SEND_DEPLOYMENTS=It._SAFE_L2_DEPLOYMENTS=It._SAFE_DEPLOYMENTS=It._COMPAT_FALLBACK_HANDLER_DEPLOYMENTS=It._DEFAULT_CALLBACK_HANDLER_DEPLOYMENTS=It._FACTORY_DEPLOYMENTS=It._ACCESSOR_DEPLOYMENTS=void 0;const e=t(q7),a=[t(iK).default,e.default];It._ACCESSOR_DEPLOYMENTS=a;const s=t(IK),r=t(bK),l=t(wK),g=[t(JK).default,l.default,r.default,s.default];It._FACTORY_DEPLOYMENTS=g;const I=[t(FK).default];It._DEFAULT_CALLBACK_HANDLER_DEPLOYMENTS=I;const p=t(QK),Z=[t(eM).default,p.default];It._COMPAT_FALLBACK_HANDLER_DEPLOYMENTS=Z;const S=t(oM),B=t(CM),V=t(fM),W=t(VM),Y=t(xM),R=[S.default,B.default,V.default,W.default,Y.default];It._SAFE_DEPLOYMENTS=R;const x=t(MM),M=t(OM),D=[x.default,M.default];It._SAFE_L2_DEPLOYMENTS=D;const Q=t(nU),z=t(cU),re=[t(mU).default,z.default,Q.default];It._MULTI_SEND_DEPLOYMENTS=re;const ae=t(GU),de=[t(RU).default,ae.default];It._MULTI_SEND_CALL_ONLY_DEPLOYMENTS=de;const ie=t(HU),T=[t(DU).default,ie.default];It._CREATE_CALL_DEPLOYMENTS=T;const O=t(_U),H=[t(sD).default,O.default];It._SIGN_MESSAGE_LIB_DEPLOYMENTS=H;const E=[t(dD).default];It._SAFE_MIGRATION_DEPLOYMENTS=E;const be=[t(yD).default];It._SAFE_TO_L2_MIGRATION_DEPLOYMENTS=be;const ue=[t(SD).default];return It._SAFE_TO_L2_SETUP_DEPLOYMENTS=ue,It}var fc={},kb,BS;function wD(){if(BS)return kb;BS=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const a=this.map.get(n);if(a!==void 0)return this.map.delete(n),this.map.set(n,a),a}delete(n){return this.map.delete(n)}set(n,a){if(!this.delete(n)&&a!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(n,a)}return this}}return kb=t,kb}var Vb,SS;function Df(){if(SS)return Vb;SS=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return Vb=a=>a?typeof a!="object"?t:a:e,Vb}var Zp={exports:{}},Wb,wS;function zf(){if(wS)return Wb;wS=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,s=e-6;return Wb={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Wb}function kD(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hW={exports:{}},Qt=hW.exports={},Hs,Ys;function C1(){throw new Error("setTimeout has not been defined")}function p1(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Hs=setTimeout:Hs=C1}catch{Hs=C1}try{typeof clearTimeout=="function"?Ys=clearTimeout:Ys=p1}catch{Ys=p1}})();function fW(t){if(Hs===setTimeout)return setTimeout(t,0);if((Hs===C1||!Hs)&&setTimeout)return Hs=setTimeout,setTimeout(t,0);try{return Hs(t,0)}catch{try{return Hs.call(null,t,0)}catch{return Hs.call(this,t,0)}}}function VD(t){if(Ys===clearTimeout)return clearTimeout(t);if((Ys===p1||!Ys)&&clearTimeout)return Ys=clearTimeout,clearTimeout(t);try{return Ys(t)}catch{try{return Ys.call(null,t)}catch{return Ys.call(this,t)}}}var Ki=[],Kc=!1,jo,pm=-1;function WD(){!Kc||!jo||(Kc=!1,jo.length?Ki=jo.concat(Ki):pm=-1,Ki.length&&ZW())}function ZW(){if(!Kc){var t=fW(WD);Kc=!0;for(var e=Ki.length;e;){for(jo=Ki,Ki=[];++pm<e;)jo&&jo[pm].run();pm=-1,e=Ki.length}jo=null,Kc=!1,VD(t)}}Qt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ki.push(new GW(t,e)),Ki.length===1&&!Kc&&fW(ZW)};function GW(t,e){this.fun=t,this.array=e}GW.prototype.run=function(){this.fun.apply(null,this.array)};Qt.title="browser";Qt.browser=!0;Qt.env={};Qt.argv=[];Qt.version="";Qt.versions={};function er(){}Qt.on=er;Qt.addListener=er;Qt.once=er;Qt.off=er;Qt.removeListener=er;Qt.removeAllListeners=er;Qt.emit=er;Qt.prependListener=er;Qt.prependOnceListener=er;Qt.listeners=function(t){return[]};Qt.binding=function(t){throw new Error("process.binding is not supported")};Qt.cwd=function(){return"/"};Qt.chdir=function(t){throw new Error("process.chdir is not supported")};Qt.umask=function(){return 0};var RD=hW.exports;const vD=kD(RD);var Rb,kS;function QA(){if(kS)return Rb;kS=1;var t={};return Rb=typeof vD=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Rb}var VS;function Lf(){return VS||(VS=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:s}=zf(),r=QA();e=t.exports={};const l=e.re=[],c=e.safeRe=[],g=e.src=[],u=e.safeSrc=[],I=e.t={};let p=0;const A="[a-zA-Z0-9-]",Z=[["\\s",1],["\\d",s],[A,a]],S=V=>{for(const[W,Y]of Z)V=V.split(`${W}*`).join(`${W}{0,${Y}}`).split(`${W}+`).join(`${W}{1,${Y}}`);return V},B=(V,W,Y)=>{const R=S(W),x=p++;r(V,x,W),I[V]=x,g[x]=W,u[x]=R,l[x]=new RegExp(W,Y?"g":void 0),c[x]=new RegExp(R,Y?"g":void 0)};B("NUMERICIDENTIFIER","0|[1-9]\\d*"),B("NUMERICIDENTIFIERLOOSE","\\d+"),B("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${A}*`),B("MAINVERSION",`(${g[I.NUMERICIDENTIFIER]})\\.(${g[I.NUMERICIDENTIFIER]})\\.(${g[I.NUMERICIDENTIFIER]})`),B("MAINVERSIONLOOSE",`(${g[I.NUMERICIDENTIFIERLOOSE]})\\.(${g[I.NUMERICIDENTIFIERLOOSE]})\\.(${g[I.NUMERICIDENTIFIERLOOSE]})`),B("PRERELEASEIDENTIFIER",`(?:${g[I.NONNUMERICIDENTIFIER]}|${g[I.NUMERICIDENTIFIER]})`),B("PRERELEASEIDENTIFIERLOOSE",`(?:${g[I.NONNUMERICIDENTIFIER]}|${g[I.NUMERICIDENTIFIERLOOSE]})`),B("PRERELEASE",`(?:-(${g[I.PRERELEASEIDENTIFIER]}(?:\\.${g[I.PRERELEASEIDENTIFIER]})*))`),B("PRERELEASELOOSE",`(?:-?(${g[I.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${g[I.PRERELEASEIDENTIFIERLOOSE]})*))`),B("BUILDIDENTIFIER",`${A}+`),B("BUILD",`(?:\\+(${g[I.BUILDIDENTIFIER]}(?:\\.${g[I.BUILDIDENTIFIER]})*))`),B("FULLPLAIN",`v?${g[I.MAINVERSION]}${g[I.PRERELEASE]}?${g[I.BUILD]}?`),B("FULL",`^${g[I.FULLPLAIN]}$`),B("LOOSEPLAIN",`[v=\\s]*${g[I.MAINVERSIONLOOSE]}${g[I.PRERELEASELOOSE]}?${g[I.BUILD]}?`),B("LOOSE",`^${g[I.LOOSEPLAIN]}$`),B("GTLT","((?:<|>)?=?)"),B("XRANGEIDENTIFIERLOOSE",`${g[I.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),B("XRANGEIDENTIFIER",`${g[I.NUMERICIDENTIFIER]}|x|X|\\*`),B("XRANGEPLAIN",`[v=\\s]*(${g[I.XRANGEIDENTIFIER]})(?:\\.(${g[I.XRANGEIDENTIFIER]})(?:\\.(${g[I.XRANGEIDENTIFIER]})(?:${g[I.PRERELEASE]})?${g[I.BUILD]}?)?)?`),B("XRANGEPLAINLOOSE",`[v=\\s]*(${g[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[I.XRANGEIDENTIFIERLOOSE]})(?:\\.(${g[I.XRANGEIDENTIFIERLOOSE]})(?:${g[I.PRERELEASELOOSE]})?${g[I.BUILD]}?)?)?`),B("XRANGE",`^${g[I.GTLT]}\\s*${g[I.XRANGEPLAIN]}$`),B("XRANGELOOSE",`^${g[I.GTLT]}\\s*${g[I.XRANGEPLAINLOOSE]}$`),B("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),B("COERCE",`${g[I.COERCEPLAIN]}(?:$|[^\\d])`),B("COERCEFULL",g[I.COERCEPLAIN]+`(?:${g[I.PRERELEASE]})?(?:${g[I.BUILD]})?(?:$|[^\\d])`),B("COERCERTL",g[I.COERCE],!0),B("COERCERTLFULL",g[I.COERCEFULL],!0),B("LONETILDE","(?:~>?)"),B("TILDETRIM",`(\\s*)${g[I.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",B("TILDE",`^${g[I.LONETILDE]}${g[I.XRANGEPLAIN]}$`),B("TILDELOOSE",`^${g[I.LONETILDE]}${g[I.XRANGEPLAINLOOSE]}$`),B("LONECARET","(?:\\^)"),B("CARETTRIM",`(\\s*)${g[I.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",B("CARET",`^${g[I.LONECARET]}${g[I.XRANGEPLAIN]}$`),B("CARETLOOSE",`^${g[I.LONECARET]}${g[I.XRANGEPLAINLOOSE]}$`),B("COMPARATORLOOSE",`^${g[I.GTLT]}\\s*(${g[I.LOOSEPLAIN]})$|^$`),B("COMPARATOR",`^${g[I.GTLT]}\\s*(${g[I.FULLPLAIN]})$|^$`),B("COMPARATORTRIM",`(\\s*)${g[I.GTLT]}\\s*(${g[I.LOOSEPLAIN]}|${g[I.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",B("HYPHENRANGE",`^\\s*(${g[I.XRANGEPLAIN]})\\s+-\\s+(${g[I.XRANGEPLAIN]})\\s*$`),B("HYPHENRANGELOOSE",`^\\s*(${g[I.XRANGEPLAINLOOSE]})\\s+-\\s+(${g[I.XRANGEPLAINLOOSE]})\\s*$`),B("STAR","(<|>)?=?\\s*\\*"),B("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),B("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Zp,Zp.exports)),Zp.exports}var vb,WS;function XD(){if(WS)return vb;WS=1;const t=/^[0-9]+$/,e=(a,s)=>{const r=t.test(a),l=t.test(s);return r&&l&&(a=+a,s=+s),a===s?0:r&&!l?-1:l&&!r?1:a<s?-1:1};return vb={compareIdentifiers:e,rcompareIdentifiers:(a,s)=>e(s,a)},vb}var Xb,RS;function Qf(){if(RS)return Xb;RS=1;const t=QA(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=zf(),{safeRe:a,t:s}=Lf(),r=Df(),{compareIdentifiers:l}=XD();class c{constructor(u,I){if(I=r(I),u instanceof c){if(u.loose===!!I.loose&&u.includePrerelease===!!I.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",u,I),this.options=I,this.loose=!!I.loose,this.includePrerelease=!!I.includePrerelease;const p=u.trim().match(I.loose?a[s.LOOSE]:a[s.FULL]);if(!p)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(A=>{if(/^[0-9]+$/.test(A)){const Z=+A;if(Z>=0&&Z<n)return Z}return A}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(t("SemVer.compare",this.version,this.options,u),!(u instanceof c)){if(typeof u=="string"&&u===this.version)return 0;u=new c(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof c||(u=new c(u,this.options)),l(this.major,u.major)||l(this.minor,u.minor)||l(this.patch,u.patch)}comparePre(u){if(u instanceof c||(u=new c(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let I=0;do{const p=this.prerelease[I],A=u.prerelease[I];if(t("prerelease compare",I,p,A),p===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(p===void 0)return-1;if(p===A)continue;return l(p,A)}while(++I)}compareBuild(u){u instanceof c||(u=new c(u,this.options));let I=0;do{const p=this.build[I],A=u.build[I];if(t("build compare",I,p,A),p===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(p===void 0)return-1;if(p===A)continue;return l(p,A)}while(++I)}inc(u,I,p){if(u.startsWith("pre")){if(!I&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(I){const A=`-${I}`.match(this.options.loose?a[s.PRERELEASELOOSE]:a[s.PRERELEASE]);if(!A||A[1]!==I)throw new Error(`invalid identifier: ${I}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",I,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",I,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",I,p),this.inc("pre",I,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",I,p),this.inc("pre",I,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const A=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[A];else{let Z=this.prerelease.length;for(;--Z>=0;)typeof this.prerelease[Z]=="number"&&(this.prerelease[Z]++,Z=-2);if(Z===-1){if(I===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(A)}}if(I){let Z=[I,A];p===!1&&(Z=[I]),l(this.prerelease[0],I)===0?isNaN(this.prerelease[1])&&(this.prerelease=Z):this.prerelease=Z}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Xb=c,Xb}var Jb,vS;function rd(){if(vS)return Jb;vS=1;const t=Qf();return Jb=(n,a,s)=>new t(n,s).compare(new t(a,s)),Jb}var Eb,XS;function JD(){if(XS)return Eb;XS=1;const t=rd();return Eb=(n,a,s)=>t(n,a,s)===0,Eb}var xb,JS;function ED(){if(JS)return xb;JS=1;const t=rd();return xb=(n,a,s)=>t(n,a,s)!==0,xb}var Nb,ES;function xD(){if(ES)return Nb;ES=1;const t=rd();return Nb=(n,a,s)=>t(n,a,s)>0,Nb}var Hb,xS;function ND(){if(xS)return Hb;xS=1;const t=rd();return Hb=(n,a,s)=>t(n,a,s)>=0,Hb}var Yb,NS;function HD(){if(NS)return Yb;NS=1;const t=rd();return Yb=(n,a,s)=>t(n,a,s)<0,Yb}var Tb,HS;function YD(){if(HS)return Tb;HS=1;const t=rd();return Tb=(n,a,s)=>t(n,a,s)<=0,Tb}var Fb,YS;function TD(){if(YS)return Fb;YS=1;const t=JD(),e=ED(),n=xD(),a=ND(),s=HD(),r=YD();return Fb=(c,g,u,I)=>{switch(g){case"===":return typeof c=="object"&&(c=c.version),typeof u=="object"&&(u=u.version),c===u;case"!==":return typeof c=="object"&&(c=c.version),typeof u=="object"&&(u=u.version),c!==u;case"":case"=":case"==":return t(c,u,I);case"!=":return e(c,u,I);case">":return n(c,u,I);case">=":return a(c,u,I);case"<":return s(c,u,I);case"<=":return r(c,u,I);default:throw new TypeError(`Invalid operator: ${g}`)}},Fb}var Kb,TS;function FD(){if(TS)return Kb;TS=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(I,p){if(p=n(p),I instanceof e){if(I.loose===!!p.loose)return I;I=I.value}I=I.trim().split(/\s+/).join(" "),l("comparator",I,p),this.options=p,this.loose=!!p.loose,this.parse(I),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(I){const p=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],A=I.match(p);if(!A)throw new TypeError(`Invalid comparator: ${I}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new c(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(I){if(l("Comparator.test",I,this.options.loose),this.semver===t||I===t)return!0;if(typeof I=="string")try{I=new c(I,this.options)}catch{return!1}return r(I,this.operator,this.semver,this.options)}intersects(I,p){if(!(I instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new g(I.value,p).test(this.value):I.operator===""?I.value===""?!0:new g(this.value,p).test(I.semver):(p=n(p),p.includePrerelease&&(this.value==="<0.0.0-0"||I.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||I.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&I.operator.startsWith(">")||this.operator.startsWith("<")&&I.operator.startsWith("<")||this.semver.version===I.semver.version&&this.operator.includes("=")&&I.operator.includes("=")||r(this.semver,"<",I.semver,p)&&this.operator.startsWith(">")&&I.operator.startsWith("<")||r(this.semver,">",I.semver,p)&&this.operator.startsWith("<")&&I.operator.startsWith(">")))}}Kb=e;const n=Df(),{safeRe:a,t:s}=Lf(),r=TD(),l=QA(),c=Qf(),g=BW();return Kb}var Mb,FS;function BW(){if(FS)return Mb;FS=1;const t=/\s+/g;class e{constructor(J,T){if(T=s(T),J instanceof e)return J.loose===!!T.loose&&J.includePrerelease===!!T.includePrerelease?J:new e(J.raw,T);if(J instanceof r)return this.raw=J.value,this.set=[[J]],this.formatted=void 0,this;if(this.options=T,this.loose=!!T.loose,this.includePrerelease=!!T.includePrerelease,this.raw=J.trim().replace(t," "),this.set=this.raw.split("||").map(O=>this.parseRange(O.trim())).filter(O=>O.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const O=this.set[0];if(this.set=this.set.filter(F=>!B(F[0])),this.set.length===0)this.set=[O];else if(this.set.length>1){for(const F of this.set)if(F.length===1&&V(F[0])){this.set=[F];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let J=0;J<this.set.length;J++){J>0&&(this.formatted+="||");const T=this.set[J];for(let O=0;O<T.length;O++)O>0&&(this.formatted+=" "),this.formatted+=T[O].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(J){const O=((this.options.includePrerelease&&Z)|(this.options.loose&&S))+":"+J,F=a.get(O);if(F)return F;const H=this.options.loose,U=H?g[u.HYPHENRANGELOOSE]:g[u.HYPHENRANGE];J=J.replace(U,Ie(this.options.includePrerelease)),l("hyphen replace",J),J=J.replace(g[u.COMPARATORTRIM],I),l("comparator trim",J),J=J.replace(g[u.TILDETRIM],p),l("tilde trim",J),J=J.replace(g[u.CARETTRIM],A),l("caret trim",J);let E=J.split(" ").map(ue=>Y(ue,this.options)).join(" ").split(/\s+/).map(ue=>ae(ue,this.options));H&&(E=E.filter(ue=>(l("loose invalid filter",ue,this.options),!!ue.match(g[u.COMPARATORLOOSE])))),l("range list",E);const _=new Map,be=E.map(ue=>new r(ue,this.options));for(const ue of be){if(B(ue))return[ue];_.set(ue.value,ue)}_.size>1&&_.has("")&&_.delete("");const ye=[..._.values()];return a.set(O,ye),ye}intersects(J,T){if(!(J instanceof e))throw new TypeError("a Range is required");return this.set.some(O=>W(O,T)&&J.set.some(F=>W(F,T)&&O.every(H=>F.every(U=>H.intersects(U,T)))))}test(J){if(!J)return!1;if(typeof J=="string")try{J=new c(J,this.options)}catch{return!1}for(let T=0;T<this.set.length;T++)if(de(this.set[T],J,this.options))return!0;return!1}}Mb=e;const n=wD(),a=new n,s=Df(),r=FD(),l=QA(),c=Qf(),{safeRe:g,t:u,comparatorTrimReplace:I,tildeTrimReplace:p,caretTrimReplace:A}=Lf(),{FLAG_INCLUDE_PRERELEASE:Z,FLAG_LOOSE:S}=zf(),B=ie=>ie.value==="<0.0.0-0",V=ie=>ie.value==="",W=(ie,J)=>{let T=!0;const O=ie.slice();let F=O.pop();for(;T&&O.length;)T=O.every(H=>F.intersects(H,J)),F=O.pop();return T},Y=(ie,J)=>(l("comp",ie,J),ie=D(ie,J),l("caret",ie),ie=x(ie,J),l("tildes",ie),ie=z(ie,J),l("xrange",ie),ie=re(ie,J),l("stars",ie),ie),R=ie=>!ie||ie.toLowerCase()==="x"||ie==="*",x=(ie,J)=>ie.trim().split(/\s+/).map(T=>M(T,J)).join(" "),M=(ie,J)=>{const T=J.loose?g[u.TILDELOOSE]:g[u.TILDE];return ie.replace(T,(O,F,H,U,E)=>{l("tilde",ie,O,F,H,U,E);let _;return R(F)?_="":R(H)?_=`>=${F}.0.0 <${+F+1}.0.0-0`:R(U)?_=`>=${F}.${H}.0 <${F}.${+H+1}.0-0`:E?(l("replaceTilde pr",E),_=`>=${F}.${H}.${U}-${E} <${F}.${+H+1}.0-0`):_=`>=${F}.${H}.${U} <${F}.${+H+1}.0-0`,l("tilde return",_),_})},D=(ie,J)=>ie.trim().split(/\s+/).map(T=>Q(T,J)).join(" "),Q=(ie,J)=>{l("caret",ie,J);const T=J.loose?g[u.CARETLOOSE]:g[u.CARET],O=J.includePrerelease?"-0":"";return ie.replace(T,(F,H,U,E,_)=>{l("caret",ie,F,H,U,E,_);let be;return R(H)?be="":R(U)?be=`>=${H}.0.0${O} <${+H+1}.0.0-0`:R(E)?H==="0"?be=`>=${H}.${U}.0${O} <${H}.${+U+1}.0-0`:be=`>=${H}.${U}.0${O} <${+H+1}.0.0-0`:_?(l("replaceCaret pr",_),H==="0"?U==="0"?be=`>=${H}.${U}.${E}-${_} <${H}.${U}.${+E+1}-0`:be=`>=${H}.${U}.${E}-${_} <${H}.${+U+1}.0-0`:be=`>=${H}.${U}.${E}-${_} <${+H+1}.0.0-0`):(l("no pr"),H==="0"?U==="0"?be=`>=${H}.${U}.${E}${O} <${H}.${U}.${+E+1}-0`:be=`>=${H}.${U}.${E}${O} <${H}.${+U+1}.0-0`:be=`>=${H}.${U}.${E} <${+H+1}.0.0-0`),l("caret return",be),be})},z=(ie,J)=>(l("replaceXRanges",ie,J),ie.split(/\s+/).map(T=>se(T,J)).join(" ")),se=(ie,J)=>{ie=ie.trim();const T=J.loose?g[u.XRANGELOOSE]:g[u.XRANGE];return ie.replace(T,(O,F,H,U,E,_)=>{l("xRange",ie,O,F,H,U,E,_);const be=R(H),ye=be||R(U),ue=ye||R(E),Se=ue;return F==="="&&Se&&(F=""),_=J.includePrerelease?"-0":"",be?F===">"||F==="<"?O="<0.0.0-0":O="*":F&&Se?(ye&&(U=0),E=0,F===">"?(F=">=",ye?(H=+H+1,U=0,E=0):(U=+U+1,E=0)):F==="<="&&(F="<",ye?H=+H+1:U=+U+1),F==="<"&&(_="-0"),O=`${F+H}.${U}.${E}${_}`):ye?O=`>=${H}.0.0${_} <${+H+1}.0.0-0`:ue&&(O=`>=${H}.${U}.0${_} <${H}.${+U+1}.0-0`),l("xRange return",O),O})},re=(ie,J)=>(l("replaceStars",ie,J),ie.trim().replace(g[u.STAR],"")),ae=(ie,J)=>(l("replaceGTE0",ie,J),ie.trim().replace(g[J.includePrerelease?u.GTE0PRE:u.GTE0],"")),Ie=ie=>(J,T,O,F,H,U,E,_,be,ye,ue,Se)=>(R(O)?T="":R(F)?T=`>=${O}.0.0${ie?"-0":""}`:R(H)?T=`>=${O}.${F}.0${ie?"-0":""}`:U?T=`>=${T}`:T=`>=${T}${ie?"-0":""}`,R(be)?_="":R(ye)?_=`<${+be+1}.0.0-0`:R(ue)?_=`<${be}.${+ye+1}.0-0`:Se?_=`<=${be}.${ye}.${ue}-${Se}`:ie?_=`<${be}.${ye}.${+ue+1}-0`:_=`<=${_}`,`${T} ${_}`.trim()),de=(ie,J,T)=>{for(let O=0;O<ie.length;O++)if(!ie[O].test(J))return!1;if(J.prerelease.length&&!T.includePrerelease){for(let O=0;O<ie.length;O++)if(l(ie[O].semver),ie[O].semver!==r.ANY&&ie[O].semver.prerelease.length>0){const F=ie[O].semver;if(F.major===J.major&&F.minor===J.minor&&F.patch===J.patch)return!0}return!1}return!0};return Mb}var Ub,KS;function SW(){if(KS)return Ub;KS=1;const t=BW();return Ub=(n,a,s)=>{try{a=new t(a,s)}catch{return!1}return a.test(n)},Ub}var MS;function Pu(){if(MS)return fc;MS=1;var t=fc&&fc.__importDefault||function(c){return c&&c.__esModule?c:{default:c}};Object.defineProperty(fc,"__esModule",{value:!0}),fc.findDeployment=l;const e=t(SW()),n={released:!0},a="1",s=c=>{const g=Array.isArray(c.networkAddresses[a])?c.networkAddresses[a][0]:c.networkAddresses[a],u=c.deployments[g].address,I=Object.fromEntries(Object.entries(c.networkAddresses).map(([p,A])=>[p,Array.isArray(A)?c.deployments[A[0]].address:c.deployments[A].address]));return Object.assign(Object.assign({},c),{defaultAddress:u,networkAddresses:I})},r=c=>Object.assign(Object.assign({},c),{networkAddresses:Object.fromEntries(Object.entries(c.networkAddresses).map(([g,u])=>[g,Array.isArray(u)?u.map(I=>c.deployments[I].address):c.deployments[u].address]))});function l(c=n,g,u="singleton"){const{version:I,released:p,network:A}=Object.assign(Object.assign({},n),c),Z=g.find(S=>!(I&&!(0,e.default)(S.version,I)||typeof p=="boolean"&&S.released!==p||A&&!S.networkAddresses[A]));if(Z)return u==="multiple"?r(Z):s(Z)}return fc}var US;function KD(){if(US)return ds;US=1,Object.defineProperty(ds,"__esModule",{value:!0}),ds.getSafeL2SingletonDeployments=ds.getSafeL2SingletonDeployment=ds.getSafeSingletonDeployments=ds.getSafeSingletonDeployment=void 0;const t=Qu(),e=Pu(),n=l=>(0,e.findDeployment)(l,t._SAFE_DEPLOYMENTS);ds.getSafeSingletonDeployment=n;const a=l=>(0,e.findDeployment)(l,t._SAFE_DEPLOYMENTS,"multiple");ds.getSafeSingletonDeployments=a;const s=l=>(0,e.findDeployment)(l,t._SAFE_L2_DEPLOYMENTS);ds.getSafeL2SingletonDeployment=s;const r=l=>(0,e.findDeployment)(l,t._SAFE_L2_DEPLOYMENTS,"multiple");return ds.getSafeL2SingletonDeployments=r,ds}var Xo={},DS;function MD(){if(DS)return Xo;DS=1,Object.defineProperty(Xo,"__esModule",{value:!0}),Xo.getProxyFactoryDeployments=Xo.getProxyFactoryDeployment=void 0;const t=Pu(),e=Qu(),n=s=>(0,t.findDeployment)(s,e._FACTORY_DEPLOYMENTS);Xo.getProxyFactoryDeployment=n;const a=s=>(0,t.findDeployment)(s,e._FACTORY_DEPLOYMENTS,"multiple");return Xo.getProxyFactoryDeployments=a,Xo}var ut={},zS;function UD(){if(zS)return ut;zS=1,Object.defineProperty(ut,"__esModule",{value:!0}),ut.getSafeToL2SetupDeployments=ut.getSafeToL2SetupDeployment=ut.getSafeToL2MigrationDeployments=ut.getSafeToL2MigrationDeployment=ut.getSafeMigrationDeployments=ut.getSafeMigrationDeployment=ut.getSignMessageLibDeployments=ut.getSignMessageLibDeployment=ut.getCreateCallDeployments=ut.getCreateCallDeployment=ut.getMultiSendCallOnlyDeployments=ut.getMultiSendCallOnlyDeployment=ut.getMultiSendDeployments=ut.getMultiSendDeployment=void 0;const t=Qu(),e=Pu(),n=V=>(0,e.findDeployment)(V,t._MULTI_SEND_DEPLOYMENTS);ut.getMultiSendDeployment=n;const a=V=>(0,e.findDeployment)(V,t._MULTI_SEND_DEPLOYMENTS,"multiple");ut.getMultiSendDeployments=a;const s=V=>(0,e.findDeployment)(V,t._MULTI_SEND_CALL_ONLY_DEPLOYMENTS);ut.getMultiSendCallOnlyDeployment=s;const r=V=>(0,e.findDeployment)(V,t._MULTI_SEND_CALL_ONLY_DEPLOYMENTS,"multiple");ut.getMultiSendCallOnlyDeployments=r;const l=V=>(0,e.findDeployment)(V,t._CREATE_CALL_DEPLOYMENTS);ut.getCreateCallDeployment=l;const c=V=>(0,e.findDeployment)(V,t._CREATE_CALL_DEPLOYMENTS,"multiple");ut.getCreateCallDeployments=c;const g=V=>(0,e.findDeployment)(V,t._SIGN_MESSAGE_LIB_DEPLOYMENTS);ut.getSignMessageLibDeployment=g;const u=V=>(0,e.findDeployment)(V,t._SIGN_MESSAGE_LIB_DEPLOYMENTS,"multiple");ut.getSignMessageLibDeployments=u;const I=V=>(0,e.findDeployment)(V,t._SAFE_MIGRATION_DEPLOYMENTS);ut.getSafeMigrationDeployment=I;const p=V=>(0,e.findDeployment)(V,t._SAFE_MIGRATION_DEPLOYMENTS,"multiple");ut.getSafeMigrationDeployments=p;const A=V=>(0,e.findDeployment)(V,t._SAFE_TO_L2_MIGRATION_DEPLOYMENTS);ut.getSafeToL2MigrationDeployment=A;const Z=V=>(0,e.findDeployment)(V,t._SAFE_TO_L2_MIGRATION_DEPLOYMENTS,"multiple");ut.getSafeToL2MigrationDeployments=Z;const S=V=>(0,e.findDeployment)(V,t._SAFE_TO_L2_SETUP_DEPLOYMENTS);ut.getSafeToL2SetupDeployment=S;const B=V=>(0,e.findDeployment)(V,t._SAFE_TO_L2_SETUP_DEPLOYMENTS,"multiple");return ut.getSafeToL2SetupDeployments=B,ut}var Db={},LS;function DD(){return LS||(LS=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getFallbackHandlerDeployment=t.getCompatibilityFallbackHandlerDeployments=t.getCompatibilityFallbackHandlerDeployment=t.getDefaultCallbackHandlerDeployments=t.getDefaultCallbackHandlerDeployment=void 0;const e=Pu(),n=Qu(),a=c=>(0,e.findDeployment)(c,n._DEFAULT_CALLBACK_HANDLER_DEPLOYMENTS);t.getDefaultCallbackHandlerDeployment=a;const s=c=>(0,e.findDeployment)(c,n._DEFAULT_CALLBACK_HANDLER_DEPLOYMENTS,"multiple");t.getDefaultCallbackHandlerDeployments=s;const r=c=>(0,e.findDeployment)(c,n._COMPAT_FALLBACK_HANDLER_DEPLOYMENTS);t.getCompatibilityFallbackHandlerDeployment=r;const l=c=>(0,e.findDeployment)(c,n._COMPAT_FALLBACK_HANDLER_DEPLOYMENTS,"multiple");t.getCompatibilityFallbackHandlerDeployments=l,t.getFallbackHandlerDeployment=t.getCompatibilityFallbackHandlerDeployment}(Db)),Db}var Jo={},QS;function zD(){if(QS)return Jo;QS=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.getSimulateTxAccessorDeployments=Jo.getSimulateTxAccessorDeployment=void 0;const t=Pu(),e=Qu(),n=s=>(0,t.findDeployment)(s,e._ACCESSOR_DEPLOYMENTS);Jo.getSimulateTxAccessorDeployment=n;const a=s=>(0,t.findDeployment)(s,e._ACCESSOR_DEPLOYMENTS,"multiple");return Jo.getSimulateTxAccessorDeployments=a,Jo}var PS;function LD(){return PS||(PS=1,function(t){var e=vo&&vo.__createBinding||(Object.create?function(a,s,r,l){l===void 0&&(l=r);var c=Object.getOwnPropertyDescriptor(s,r);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(a,l,c)}:function(a,s,r,l){l===void 0&&(l=r),a[l]=s[r]}),n=vo&&vo.__exportStar||function(a,s){for(var r in a)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&e(s,a,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(z7(),t),n(KD(),t),n(MD(),t),n(UD(),t),n(DD(),t),n(zD(),t)}(vo)),vo}var hi=LD(),Eo={},xo={};const QD=!0,PD="AllowanceModule",OD="0.1.0",jD={1:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",4:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",5:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",42:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",56:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",100:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",137:"0x1Fb403834C911eB98d56E74F5182b0d64C3b3b4D",246:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",8453:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",42220:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",43114:"0x1Fb403834C911eB98d56E74F5182b0d64C3b3b4D",73799:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",80094:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",534352:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",11155111:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134"},_D=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"}],name:"AddDelegate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"DeleteAllowance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint96",name:"value",type:"uint96"},{indexed:!1,internalType:"uint16",name:"nonce",type:"uint16"}],name:"ExecuteAllowanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"paymentToken",type:"address"},{indexed:!1,internalType:"address",name:"paymentReceiver",type:"address"},{indexed:!1,internalType:"uint96",name:"payment",type:"uint96"}],name:"PayAllowanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"}],name:"RemoveDelegate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"ResetAllowance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint96",name:"allowanceAmount",type:"uint96"},{indexed:!1,internalType:"uint16",name:"resetTime",type:"uint16"}],name:"SetAllowance",type:"event"},{inputs:[],name:"ALLOWANCE_TRANSFER_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"DOMAIN_SEPARATOR_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowances",outputs:[{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"uint96",name:"spent",type:"uint96"},{internalType:"uint16",name:"resetTimeMin",type:"uint16"},{internalType:"uint32",name:"lastResetMin",type:"uint32"},{internalType:"uint16",name:"nonce",type:"uint16"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint48",name:"",type:"uint48"}],name:"delegates",outputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"uint48",name:"prev",type:"uint48"},{internalType:"uint48",name:"next",type:"uint48"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"}],name:"delegatesStart",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint96",name:"allowanceAmount",type:"uint96"},{internalType:"uint16",name:"resetTimeMin",type:"uint16"},{internalType:"uint32",name:"resetBaseMin",type:"uint32"}],name:"setAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"resetAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"deleteAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract GnosisSafe",name:"safe",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"address payable",name:"to",type:"address"},{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint96",name:"payment",type:"uint96"},{internalType:"address",name:"delegate",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"executeAllowanceTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint96",name:"payment",type:"uint96"},{internalType:"uint16",name:"nonce",type:"uint16"}],name:"generateTransferHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"delegate",type:"address"}],name:"getTokens",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"getTokenAllowance",outputs:[{internalType:"uint256[5]",name:"",type:"uint256[5]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"delegate",type:"address"}],name:"addDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"bool",name:"removeAllowances",type:"bool"}],name:"removeDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"uint48",name:"start",type:"uint48"},{internalType:"uint8",name:"pageSize",type:"uint8"}],name:"getDelegates",outputs:[{internalType:"address[]",name:"results",type:"address[]"},{internalType:"uint48",name:"next",type:"uint48"}],stateMutability:"view",type:"function",constant:!0}],qD={released:QD,contractName:PD,version:OD,networkAddresses:jD,abi:_D},$D=!0,ez="AllowanceModule",tz="0.1.1",nz={100:"0xAA46724893dedD72658219405185Fb0Fc91e091C",130:"0xAA46724893dedD72658219405185Fb0Fc91e091C",137:"0xAA46724893dedD72658219405185Fb0Fc91e091C",43111:"0xAA46724893dedD72658219405185Fb0Fc91e091C",80094:"0xAA46724893dedD72658219405185Fb0Fc91e091C"},az=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"}],name:"AddDelegate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"DeleteAllowance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint96",name:"value",type:"uint96"},{indexed:!1,internalType:"uint16",name:"nonce",type:"uint16"}],name:"ExecuteAllowanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"paymentToken",type:"address"},{indexed:!1,internalType:"address",name:"paymentReceiver",type:"address"},{indexed:!1,internalType:"uint96",name:"payment",type:"uint96"}],name:"PayAllowanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"}],name:"RemoveDelegate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"ResetAllowance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint96",name:"allowanceAmount",type:"uint96"},{indexed:!1,internalType:"uint16",name:"resetTime",type:"uint16"}],name:"SetAllowance",type:"event"},{inputs:[],name:"ALLOWANCE_TRANSFER_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"DOMAIN_SEPARATOR_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowances",outputs:[{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"uint96",name:"spent",type:"uint96"},{internalType:"uint16",name:"resetTimeMin",type:"uint16"},{internalType:"uint32",name:"lastResetMin",type:"uint32"},{internalType:"uint16",name:"nonce",type:"uint16"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint48",name:"",type:"uint48"}],name:"delegates",outputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"uint48",name:"prev",type:"uint48"},{internalType:"uint48",name:"next",type:"uint48"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"}],name:"delegatesStart",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint96",name:"allowanceAmount",type:"uint96"},{internalType:"uint16",name:"resetTimeMin",type:"uint16"},{internalType:"uint32",name:"resetBaseMin",type:"uint32"}],name:"setAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"resetAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"deleteAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract GnosisSafe",name:"safe",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"address payable",name:"to",type:"address"},{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint96",name:"payment",type:"uint96"},{internalType:"address",name:"delegate",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"executeAllowanceTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint96",name:"payment",type:"uint96"},{internalType:"uint16",name:"nonce",type:"uint16"}],name:"generateTransferHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"delegate",type:"address"}],name:"getTokens",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"getTokenAllowance",outputs:[{internalType:"uint256[5]",name:"",type:"uint256[5]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"delegate",type:"address"}],name:"addDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"bool",name:"removeAllowances",type:"bool"}],name:"removeDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"uint48",name:"start",type:"uint48"},{internalType:"uint8",name:"pageSize",type:"uint8"}],name:"getDelegates",outputs:[{internalType:"address[]",name:"results",type:"address[]"},{internalType:"uint48",name:"next",type:"uint48"}],stateMutability:"view",type:"function",constant:!0}],sz={released:$D,contractName:ez,version:tz,networkAddresses:nz,abi:az};var No={},OS;function PA(){if(OS)return No;OS=1,Object.defineProperty(No,"__esModule",{value:!0}),No.applyFilterDefaults=No.findDeployment=void 0;const t=(n,a)=>a.find(s=>!(n.version&&s.version!==n.version||n.released&&s.released!=n.released||n.network&&!s.networkAddresses[n.network]));No.findDeployment=t;const e=n=>n||{released:!0};return No.applyFilterDefaults=e,No}var jS;function iz(){if(jS)return xo;jS=1;var t=xo&&xo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(xo,"__esModule",{value:!0}),xo.getAllowanceModuleDeployment=void 0;const e=t(qD),n=t(sz),a=PA(),s=[n.default,e.default],r=l=>(0,a.findDeployment)((0,a.applyFilterDefaults)(l),s);return xo.getAllowanceModuleDeployment=r,xo}var _d={};const rz=!0,oz="Safe4337Module",lz="0.3.0",cz={1:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",10:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",56:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",97:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",100:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",130:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",137:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",480:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",8453:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",42161:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",42220:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",80002:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",84532:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",421614:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",534352:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",11155111:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226"},gz=[{inputs:[{internalType:"address",name:"entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExecutionFailed",type:"error"},{inputs:[],name:"InvalidCaller",type:"error"},{inputs:[],name:"InvalidEntryPoint",type:"error"},{inputs:[],name:"UnsupportedEntryPoint",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedExecutionFunction",type:"error"},{inputs:[],name:"SUPPORTED_ENTRYPOINT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"domainSeparatorHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"encodeMessageDataForSafe",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation",name:"userOp",type:"tuple"}],name:"getOperationHash",outputs:[{internalType:"bytes32",name:"operationHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],dz={released:rz,contractName:oz,version:lz,networkAddresses:cz,abi:gz},Iz=!0,uz="Safe4337Module",Cz="0.2.0",pz={1:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",5:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",10:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",56:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",100:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",137:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",8453:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",42161:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",42220:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",80001:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",80002:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",84532:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",421614:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",534352:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",11155111:"0xa581c4A4DB7175302464fF3C06380BC3270b4037"},mz=[{inputs:[{internalType:"address",name:"entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"SUPPORTED_ENTRYPOINT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"encodeMessageDataForSafe",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"}],name:"getOperationHash",outputs:[{internalType:"bytes32",name:"operationHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],Az={released:Iz,contractName:uz,version:Cz,networkAddresses:pz,abi:mz},yz=!0,bz="SafeModuleSetup",hz="0.3.0",fz={1:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",10:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",56:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",97:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",100:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",130:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",137:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",480:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",8453:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",42161:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",42220:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",80002:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",84532:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",421614:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",534352:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",11155111:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47"},Zz=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],Gz={released:yz,contractName:bz,version:hz,networkAddresses:fz,abi:Zz},Bz=!0,Sz="AddModulesLib",wz="0.2.0",kz={1:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",5:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",10:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",56:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",100:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",137:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",8453:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",42161:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",42220:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",80001:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",80002:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",84532:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",421614:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",534352:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",11155111:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb"},Vz=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],Wz={released:Bz,contractName:Sz,version:wz,networkAddresses:kz,abi:Vz};var _S;function Rz(){return _S||(_S=1,function(t){var e=_d&&_d.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAddModulesLibDeployment=t.getSafeModuleSetupDeployment=t.getSafe4337ModuleDeployment=void 0;const n=e(dz),a=e(Az),s=e(Gz),r=e(Wz),l=PA(),c=[n.default,a.default],g=[s.default,r.default],u=p=>(0,l.findDeployment)((0,l.applyFilterDefaults)(p),c);t.getSafe4337ModuleDeployment=u;const I=p=>(0,l.findDeployment)((0,l.applyFilterDefaults)(p),g);t.getSafeModuleSetupDeployment=I,t.getAddModulesLibDeployment=t.getSafeModuleSetupDeployment}(_d)),_d}var Za={};const vz=!0,Xz="SafeWebAuthnSignerFactory",Jz="0.2.1",Ez={1:"0x1d31F259eE307358a26dFb23EB365939E8641195",10:"0x1d31F259eE307358a26dFb23EB365939E8641195",137:"0x1d31F259eE307358a26dFb23EB365939E8641195",4078:"0x1d31F259eE307358a26dFb23EB365939E8641195",8453:"0x1d31F259eE307358a26dFb23EB365939E8641195",42161:"0x1d31F259eE307358a26dFb23EB365939E8641195",80002:"0x1d31F259eE307358a26dFb23EB365939E8641195",84532:"0x1d31F259eE307358a26dFb23EB365939E8641195",421614:"0x1d31F259eE307358a26dFb23EB365939E8641195",11155111:"0x1d31F259eE307358a26dFb23EB365939E8641195",11155420:"0x1d31F259eE307358a26dFb23EB365939E8641195"},xz=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!1,internalType:"uint256",name:"x",type:"uint256"},{indexed:!1,internalType:"uint256",name:"y",type:"uint256"},{indexed:!1,internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"Created",type:"event"},{inputs:[],name:"SINGLETON",outputs:[{internalType:"contract SafeWebAuthnSignerSingleton",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"createSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"getSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"isValidSignatureForSigner",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}],Nz={released:vz,contractName:Xz,version:Jz,networkAddresses:Ez,abi:xz},Hz=!0,Yz="SafeWebAuthnSignerFactory",Tz="0.2.0",Fz={1:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",10:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",137:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",4078:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",8453:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",42161:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",80002:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",84532:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",421614:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",11155111:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",11155420:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf"},Kz=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"signer",type:"address"},{indexed:!1,internalType:"uint256",name:"x",type:"uint256"},{indexed:!1,internalType:"uint256",name:"y",type:"uint256"},{indexed:!1,internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"Created",type:"event"},{inputs:[],name:"SINGLETON",outputs:[{internalType:"contract SafeWebAuthnSignerSingleton",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"createSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"getSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"isValidSignatureForSigner",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}],Mz={released:Hz,contractName:Yz,version:Tz,networkAddresses:Fz,abi:Kz},Uz=!0,Dz="SafeWebAuthnSharedSigner",zz="0.2.1",Lz={1:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",10:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",137:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",4078:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",8453:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",42161:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",80002:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",84532:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",421614:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",11155111:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",11155420:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2"},Qz=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"NotDelegateCalled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"publicKeyHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"x",type:"uint256"},{indexed:!1,internalType:"uint256",name:"y",type:"uint256"},{indexed:!1,internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"SafeWebAuthnSharedSignerConfigured",type:"event"},{inputs:[],name:"SIGNER_SLOT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getConfiguration",outputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}],Pz={released:Uz,contractName:Dz,version:zz,networkAddresses:Lz,abi:Qz},Oz=!0,jz="DaimoP256Verifier",_z="0.2.1",qz={1:"0xc2b78104907F722DABAc4C69f826a522B2754De4",10:"0xc2b78104907F722DABAc4C69f826a522B2754De4",137:"0xc2b78104907F722DABAc4C69f826a522B2754De4",4078:"0xc2b78104907F722DABAc4C69f826a522B2754De4",8453:"0xc2b78104907F722DABAc4C69f826a522B2754De4",42161:"0xc2b78104907F722DABAc4C69f826a522B2754De4",80002:"0xc2b78104907F722DABAc4C69f826a522B2754De4",84532:"0xc2b78104907F722DABAc4C69f826a522B2754De4",421614:"0xc2b78104907F722DABAc4C69f826a522B2754De4",534352:"0xc2b78104907F722DABAc4C69f826a522B2754De4",11155111:"0xc2b78104907F722DABAc4C69f826a522B2754De4",11155420:"0xc2b78104907F722DABAc4C69f826a522B2754De4"},$z=[{stateMutability:"nonpayable",type:"fallback"}],eL={released:Oz,contractName:jz,version:_z,networkAddresses:qz,abi:$z},tL=!0,nL="DaimoP256Verifier",aL="0.2.0",sL={1:"0xc2b78104907F722DABAc4C69f826a522B2754De4",10:"0xc2b78104907F722DABAc4C69f826a522B2754De4",137:"0xc2b78104907F722DABAc4C69f826a522B2754De4",4078:"0xc2b78104907F722DABAc4C69f826a522B2754De4",8453:"0xc2b78104907F722DABAc4C69f826a522B2754De4",42161:"0xc2b78104907F722DABAc4C69f826a522B2754De4",80002:"0xc2b78104907F722DABAc4C69f826a522B2754De4",84532:"0xc2b78104907F722DABAc4C69f826a522B2754De4",421614:"0xc2b78104907F722DABAc4C69f826a522B2754De4",11155111:"0xc2b78104907F722DABAc4C69f826a522B2754De4",11155420:"0xc2b78104907F722DABAc4C69f826a522B2754De4"},iL=[{stateMutability:"nonpayable",type:"fallback"}],rL={released:tL,contractName:nL,version:aL,networkAddresses:sL,abi:iL},oL=!0,lL="FCLP256Verifier",cL="0.2.1",gL={1:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",10:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",137:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",4078:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",8453:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",42161:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",80002:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",84532:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",421614:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",11155111:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",11155420:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"},dL=[{stateMutability:"nonpayable",type:"fallback"}],IL={released:oL,contractName:lL,version:cL,networkAddresses:gL,abi:dL},uL=!0,CL="FCLP256Verifier",pL="0.2.0",mL={1:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",10:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",137:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",4078:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",8453:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",42161:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",80002:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",84532:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",421614:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",11155111:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",11155420:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765"},AL=[{stateMutability:"nonpayable",type:"fallback"}],yL={released:uL,contractName:CL,version:pL,networkAddresses:mL,abi:AL};var qS;function bL(){if(qS)return Za;qS=1;var t=Za&&Za.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(Za,"__esModule",{value:!0}),Za.getFCLP256VerifierDeployment=Za.getDaimoP256VerifierDeployment=Za.getSafeWebAuthnShareSignerDeployment=Za.getSafeWebAuthnSignerFactoryDeployment=void 0;const e=t(Nz),n=t(Mz),a=t(Pz),s=t(eL),r=t(rL),l=t(IL),c=t(yL),g=PA(),u=[e.default,n.default],I=[a.default],p=[s.default,r.default],A=[l.default,c.default],Z=W=>(0,g.findDeployment)((0,g.applyFilterDefaults)(W),u);Za.getSafeWebAuthnSignerFactoryDeployment=Z;const S=W=>(0,g.findDeployment)((0,g.applyFilterDefaults)(W),I);Za.getSafeWebAuthnShareSignerDeployment=S;const B=W=>(0,g.findDeployment)((0,g.applyFilterDefaults)(W),p);Za.getDaimoP256VerifierDeployment=B;const V=W=>(0,g.findDeployment)((0,g.applyFilterDefaults)(W),A);return Za.getFCLP256VerifierDeployment=V,Za}var Ho={};const hL=!0,fL="SocialRecoveryModule",ZL="0.1.0",GL={10:"0x4Aa5Bf7D840aC607cb5BD3249e6Af6FC86C04897",11155111:"0x4Aa5Bf7D840aC607cb5BD3249e6Af6FC86C04897",11155420:"0x4Aa5Bf7D840aC607cb5BD3249e6Af6FC86C04897"},BL=[{inputs:[{internalType:"uint256",name:"_recoveryPeriod",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"GuardianAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"GuardianRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"NonceInvalidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"RecoveryCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"address[]",name:"newOwners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"newThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint64",name:"executeAfter",type:"uint64"},{indexed:!1,internalType:"uint256",name:"guardiansApprovalCount",type:"uint256"}],name:"RecoveryExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"address[]",name:"newOwners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"newThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"RecoveryFinalized",type:"event"},{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_guardian",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addGuardianWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cancelRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"},{internalType:"bool",name:"_execute",type:"bool"}],name:"confirmRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeRecoveryData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"}],name:"executeRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"finalizeRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"getGuardians",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"}],name:"getRecoveryApprovals",outputs:[{internalType:"uint256",name:"approvalCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getRecoveryHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"getRecoveryRequest",outputs:[{components:[{internalType:"uint256",name:"guardiansApprovalCount",type:"uint256"},{internalType:"uint256",name:"newThreshold",type:"uint256"},{internalType:"uint64",name:"executeAfter",type:"uint64"},{internalType:"address[]",name:"newOwners",type:"address[]"}],internalType:"struct SocialRecoveryModule.RecoveryRequest",name:"request",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"guardiansCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address",name:"_guardian",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"}],name:"hasGuardianApproved",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"invalidateNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address",name:"_guardian",type:"address"}],name:"isGuardian",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"},{components:[{internalType:"address",name:"signer",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct SocialRecoveryModule.SignatureData[]",name:"_signatures",type:"tuple[]"},{internalType:"bool",name:"_execute",type:"bool"}],name:"multiConfirmRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"nonce",outputs:[{internalType:"uint256",name:"_nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_prevGuardian",type:"address"},{internalType:"address",name:"_guardian",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"revokeGuardianWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"threshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"bytes32",name:"_signHash",type:"bytes32"},{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"validateGuardianSignature",outputs:[],stateMutability:"view",type:"function"}],SL={released:hL,contractName:fL,version:ZL,networkAddresses:GL,abi:BL};var $S;function wL(){if($S)return Ho;$S=1;var t=Ho&&Ho.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Ho,"__esModule",{value:!0}),Ho.getSocialRecoveryModuleDeployment=void 0;const e=t(SL),n=PA(),a=[e.default],s=r=>(0,n.findDeployment)((0,n.applyFilterDefaults)(r),a);return Ho.getSocialRecoveryModuleDeployment=s,Ho}var zb={},ew;function kL(){return ew||(ew=1,Object.defineProperty(zb,"__esModule",{value:!0})),zb}var tw;function VL(){return tw||(tw=1,function(t){var e=Eo&&Eo.__createBinding||(Object.create?function(a,s,r,l){l===void 0&&(l=r);var c=Object.getOwnPropertyDescriptor(s,r);(!c||("get"in c?!s.__esModule:c.writable||c.configurable))&&(c={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(a,l,c)}:function(a,s,r,l){l===void 0&&(l=r),a[l]=s[r]}),n=Eo&&Eo.__exportStar||function(a,s){for(var r in a)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&e(s,a,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(iz(),t),n(Rz(),t),n(bL(),t),n(wL(),t),n(kL(),t)}(Eo)),Eo}var m1=VL(),WL=SW();const Bs=lX(WL),RL=h({id:179,name:"ABEY Mainnet",nativeCurrency:{name:"ABEY",symbol:"ABEY",decimals:18},rpcUrls:{default:{http:["https://rpc.abeychain.com"]}},blockExplorers:{default:{name:"Abey Scan",url:"https://abeyscan.com"}},testnet:!1}),Pf=50000n,nw=UF*32n,wW={block:uf({format(t){var n;const e=(n=t.transactions)==null?void 0:n.map(a=>{var r;if(typeof a=="string")return a;const s=(r=wW.transaction)==null?void 0:r.format(a);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:t.l1BatchNumber?rt(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?rt(t.l1BatchTimestamp):null,transactions:e}}}),transaction:df({format(t){const e={};return t.type==="0x71"?e.type="eip712":t.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?rt(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?rt(t.l1BatchTxIndex):null}}}),transactionReceipt:BV({format(t){return{l1BatchNumber:t.l1BatchNumber?rt(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?rt(t.l1BatchTxIndex):null,logs:t.logs.map(e=>({...ni(e),l1BatchNumber:e.l1BatchNumber?rt(e.l1BatchNumber):null,transactionLogIndex:Ia(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:t.l2ToL1Logs.map(e=>({blockNumber:rt(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?rt(e.l1BatchNumber):null,transactionIndex:rt(e.transactionIndex),shardId:rt(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:rt(e.logIndex)}))}}}),transactionRequest:T9({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(t){return t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:Ge(t.gasPerPubdata)}:{gasPerPubdata:Ge(Pf)},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from(bn(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps.map(e=>Array.from(bn(e)))}:{},...t.customSignature?{customSignature:Array.from(bn(t.customSignature))}:{}},type:"0x71"}:{}}})};class vL extends ge{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function kW(t){return!!(t.type==="eip712"||"customSignature"in t&&t.customSignature||"paymaster"in t&&t.paymaster||"paymasterInput"in t&&t.paymasterInput||"gasPerPubdata"in t&&typeof t.gasPerPubdata=="bigint"||"factoryDeps"in t&&t.factoryDeps)}function VW(t){const{chainId:e,to:n,from:a,paymaster:s,paymasterInput:r}=t;if(!kW(t))throw new vL;if(!e||e<=0)throw new td({chainId:e});if(n&&!pt(n))throw new Tt({address:n});if(a&&!pt(a))throw new Tt({address:a});if(s&&!pt(s))throw new Tt({address:s});if(s&&!r)throw new ge("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&r)throw new ge("`paymaster` must be provided when `paymasterInput` is defined")}function XL(t,e){return kW(t)?EL(t):Hf(t,e)}const JL={transaction:XL};function EL(t){const{chainId:e,gas:n,nonce:a,to:s,from:r,value:l,maxFeePerGas:c,maxPriorityFeePerGas:g,customSignature:u,factoryDeps:I,paymaster:p,paymasterInput:A,gasPerPubdata:Z,data:S}=t;VW(t);const B=[a?Ge(a):"0x",g?Ge(g):"0x",c?Ge(c):"0x",n?Ge(n):"0x",s??"0x",l?Ge(l):"0x",S??"0x",Ge(e),Ge(""),Ge(""),Ge(e),r??"0x",Ge(Z||Pf),I??[],u??"0x",p&&A?[p,A]:[]];return Qn(["0x71",ti(B)])}class xL extends ge{constructor({givenLength:e,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class NL extends ge{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class HL extends ge{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function YL(t){const e=gn(t);if(e.length%32!==0)throw new HL({givenLength:e.length});if(e.length>nw)throw new xL({givenLength:e.length,maxBytecodeSize:nw});const n=Q9(e),a=gn(n),s=e.length/32;if(s%2===0)throw new NL({givenLengthInWords:s});const r=gn(s),l=_a(r,{size:2}),c=new Uint8Array([1,0]);return a.set(c,0),a.set(l,2),a}const TL=t=>{VW(t);const e=FL(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function FL(t){const{gas:e,nonce:n,to:a,from:s,value:r,maxFeePerGas:l,maxPriorityFeePerGas:c,factoryDeps:g,paymaster:u,paymasterInput:I,gasPerPubdata:p,data:A}=t;return{txType:113n,from:BigInt(s),to:a?BigInt(a):0n,gasLimit:e??0n,gasPerPubdataByteLimit:p??Pf,maxFeePerGas:l??0n,maxPriorityFeePerGas:c??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:r??0n,data:A??"0x",factoryDeps:(g==null?void 0:g.map(Z=>Ge(YL(Z))))??[],paymasterInput:I||"0x"}}const Ja={formatters:wW,serializers:JL,custom:{getEip712Domain:TL}},KL=h({...Ja,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),ML=h({...Ja,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),UL=h({id:787,name:"Acala",network:"acala",nativeCurrency:{name:"Acala",symbol:"ACA",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-acala.aca-api.network"],webSocket:["wss://eth-rpc-acala.aca-api.network"]}},blockExplorers:{default:{name:"Acala Blockscout",url:"https://blockscout.acala.network",apiUrl:"https://blockscout.acala.network/api"}},testnet:!1}),DL=h({id:47,name:"Acria IntelliChain",nativeCurrency:{decimals:18,name:"ACRIA",symbol:"ACRIA"},rpcUrls:{default:{http:["https://aic.acria.ai"]}},blockExplorers:{default:{name:"Acria Explorer",url:"https://explorer.acria.ai"}},testnet:!1}),zL=h({id:1215,name:"ADF Chain",nativeCurrency:{name:"ADDFILL",symbol:"ADF",decimals:18},rpcUrls:{default:{http:["https://mainnet.adftechnology.com"]}},blockExplorers:{default:{name:"ADF Mainnet Explorer",url:"https://explorer.adftechnology.com"}},testnet:!1}),LL=h({id:168,name:"AIOZ Network",nativeCurrency:{decimals:18,name:"AIOZ",symbol:"AIOZ"},rpcUrls:{default:{http:["https://eth-dataseed.aioz.network"]}},blockExplorers:{default:{name:"AIOZ Explorer",url:"https://explorer.aioz.network"}},testnet:!1}),QL=h({id:41455,name:"Aleph Zero",nativeCurrency:{name:"Aleph Zero",symbol:"AZERO",decimals:18},rpcUrls:{default:{http:["https://rpc.alephzero.raas.gelato.cloud"]}},blockExplorers:{default:{name:"Aleph Zero EVM Explorer",url:"https://evm-explorer.alephzero.org",apiUrl:"https://evm-explorer.alephzero.org/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4603377}}}),PL=h({id:2039,name:"Aleph Zero Testnet",nativeCurrency:{name:"TZERO",symbol:"TZERO",decimals:18},rpcUrls:{default:{http:["https://rpc.alephzero-testnet.gelato.digital"],webSocket:["wss://ws.alephzero-testnet.gelato.digital"]}},blockExplorers:{default:{name:"Aleph Zero EVM Testnet explorer",url:"https://evm-explorer-testnet.alephzero.org",apiUrl:"https://evm-explorer-testnet.alephzero.org/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2861745}},testnet:!0}),OL=h({id:10241024,name:"AlienX Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.alienxchain.io/http"]}},blockExplorers:{default:{name:"AlienX Explorer",url:"https://explorer.alienxchain.io"}},testnet:!1}),jL=h({id:10241025,name:"ALIENX Hal Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://hal-rpc.alienxchain.io/http"]}},blockExplorers:{default:{name:"AlienX Explorer",url:"https://hal-explorer.alienxchain.io"}},testnet:!0}),WW={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},Of={block:uf({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(a=>{if(typeof a=="string")return a;const s=Ku(a);return s.typeHex==="0x7e"&&(s.isSystemTx=a.isSystemTx,s.mint=a.mint?rt(a.mint):void 0,s.sourceHash=a.sourceHash,s.type="deposit"),s}),stateRoot:t.stateRoot}}}),transaction:df({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?rt(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:BV({format(t){return{l1GasPrice:t.l1GasPrice?rt(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?rt(t.l1GasUsed):null,l1Fee:t.l1Fee?rt(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function RW(t,e){return $L(t)?qL(t):Hf(t,e)}const _L={transaction:RW};function qL(t){eQ(t);const{sourceHash:e,data:n,from:a,gas:s,isSystemTx:r,mint:l,to:c,value:g}=t,u=[e,a,c??"0x",l?Ge(l):"0x",g?Ge(g):"0x",s?Ge(s):"0x",r?"0x1":"0x",n??"0x"];return Qn(["0x7e",ti(u)])}function $L(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function eQ(t){const{from:e,to:n}=t;if(e&&!pt(e))throw new Tt({address:e});if(n&&!pt(n))throw new Tt({address:n})}const Ae={contracts:WW,formatters:Of,serializers:_L},Gp=1,tQ=h({...Ae,id:888888888,name:"Ancient8",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.ancient8.gg"]}},blockExplorers:{default:{name:"Ancient8 explorer",url:"https://scan.ancient8.gg",apiUrl:"https://scan.ancient8.gg/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Gp]:{address:"0xB09DC08428C8b4EFB4ff9C0827386CDF34277996"}},portal:{[Gp]:{address:"0x639F2AECE398Aa76b07e59eF6abe2cFe32bacb68",blockCreated:19070571}},l1StandardBridge:{[Gp]:{address:"0xd5e3eDf5b68135D559D572E26bF863FBC1950033",blockCreated:19070571}}},sourceId:Gp}),Bp=11155111,nQ=h({...Ae,id:28122024,name:"Ancient8 Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpcv2-testnet.ancient8.gg"]}},blockExplorers:{default:{name:"Ancient8 Celestia Testnet explorer",url:"https://scanv2-testnet.ancient8.gg",apiUrl:"https://scanv2-testnet.ancient8.gg/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Bp]:{address:"0x942fD5017c0F60575930D8574Eaca13BEcD6e1bB"}},portal:{[Bp]:{address:"0xfa1d9E26A6aCD7b22115D27572c1221B9803c960",blockCreated:4972908}},l1StandardBridge:{[Bp]:{address:"0xF6Bc0146d3c74D48306e79Ae134A260E418C9335",blockCreated:4972908}}},sourceId:Bp}),aQ=h({id:31337,name:"Anvil",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}}),sQ=42161,iQ=h({id:33139,name:"Ape Chain",nativeCurrency:{name:"ApeCoin",symbol:"APE",decimals:18},rpcUrls:{default:{http:["https://rpc.apechain.com/http"],webSocket:["wss://rpc.apechain.com/ws"]}},blockExplorers:{default:{name:"Apescan",url:"https://apescan.io",apiUrl:"https://api.apescan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:20889}},sourceId:sQ}),rQ=h({id:3993,name:"APEX Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.apexlayer.xyz"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp-testnet.apexlayer.xyz",apiUrl:"https://exp-testnet.apexlayer.xyz/api"}},contracts:{multicall3:{address:"0xf7642be33a6b18D16a995657adb5a68CD0438aE2",blockCreated:283775}},testnet:!0}),oQ=h({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),lQ=h({id:421613,name:"Arbitrum Goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://goerli.arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114}},testnet:!0}),cQ=h({id:42170,name:"Arbitrum Nova",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://nova.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://nova.arbiscan.io",apiUrl:"https://api-nova.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1746963}}}),gQ=h({id:421614,name:"Arbitrum Sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0}),dQ=h({id:7897,name:"Arena-Z",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.arena-z.gg"]}},blockExplorers:{default:{name:"Arena-Z Explorer",url:"https://explorer.arena-z.gg",apiUrl:"https://explorer.arena-z.gg"}}}),IQ=h({id:463,name:"Areon Network",nativeCurrency:{decimals:18,name:"AREA",symbol:"AREA"},rpcUrls:{default:{http:["https://mainnet-rpc.areon.network"],webSocket:["wss://mainnet-ws.areon.network"]}},blockExplorers:{default:{name:"Areonscan",url:"https://areonscan.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:353286}},testnet:!1}),uQ=h({id:462,name:"Areon Network Testnet",nativeCurrency:{decimals:18,name:"TAREA",symbol:"TAREA"},rpcUrls:{default:{http:["https://testnet-rpc.areon.network"],webSocket:["wss://testnet-ws.areon.network"]}},blockExplorers:{default:{name:"Areonscan",url:"https://areonscan.com"}},testnet:!0}),CQ=h({id:11822,name:"Artela Testnet",nativeCurrency:{name:"ART",symbol:"ART",decimals:18},rpcUrls:{default:{http:["https://betanet-rpc1.artela.network"]}},blockExplorers:{default:{name:"Artela",url:"https://betanet-scan.artela.network",apiUrl:"https://betanet-scan.artela.network/api"}},contracts:{multicall3:{address:"0xd07c8635f76e8745Ee7092fbb6e8fbc5FeF09DD7",blockCreated:7001871}},testnet:!0}),pQ=h({id:10242,name:"Arthera",nativeCurrency:{name:"Arthera",symbol:"AA",decimals:18},rpcUrls:{default:{http:["https://rpc.arthera.net"]}},blockExplorers:{default:{name:"Arthera EVM Explorer",url:"https://explorer.arthera.net",apiUrl:"https://explorer.arthera.net/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4502791}}}),mQ=h({id:10243,name:"Arthera Testnet",nativeCurrency:{name:"Arthera",symbol:"AA",decimals:18},rpcUrls:{default:{http:["https://rpc-test.arthera.net"]}},blockExplorers:{default:{name:"Arthera EVM Explorer",url:"https://explorer-test.arthera.net",apiUrl:"https://explorer-test.arthera.net/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:22051}}}),AQ=h({id:42420,name:"AssetChain Mainnet",nativeCurrency:{decimals:18,name:"Real World Asset",symbol:"RWA"},rpcUrls:{default:{http:["https://mainnet-rpc.assetchain.org"]}},blockExplorers:{default:{name:"Asset Chain Explorer",url:"https://scan.assetchain.org",apiUrl:"https://scan.assetchain.org/api"}},testnet:!1,contracts:{}}),yQ=h({id:42421,name:"AssetChain Testnet",nativeCurrency:{decimals:18,name:"Real World Asset",symbol:"RWA"},rpcUrls:{default:{http:["https://enugu-rpc.assetchain.org"]}},blockExplorers:{default:{name:"Asset Chain Testnet Explorer",url:"https://scan-testnet.assetchain.org",apiUrl:"https://scan-testnet.assetchain.org/api"}},testnet:!0,contracts:{multicall3:{address:"0x989F832D35988cb5e3eB001Fa2Fe789469EC31Ea",blockCreated:17177}}}),bQ=h({id:592,name:"Astar",network:"astar-mainnet",nativeCurrency:{name:"Astar",symbol:"ASTR",decimals:18},rpcUrls:{default:{http:["https://astar.api.onfinality.io/public"]}},blockExplorers:{default:{name:"Astar Subscan",url:"https://astar.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:761794}},testnet:!1}),hQ=h({id:3776,name:"Astar zkEVM",network:"AstarZkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-zkevm.astar.network"]}},blockExplorers:{default:{name:"Astar zkEVM Explorer",url:"https://astar-zkevm.explorer.startale.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:93528}},testnet:!1}),fQ=h({id:6038361,name:"Astar zkEVM Testnet zKyoto",network:"zKyoto",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.startale.com/zkyoto"]}},blockExplorers:{default:{name:"zKyoto Explorer",url:"https://zkyoto.explorer.startale.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:196153}},testnet:!0}),ZQ=h({id:2340,name:"Atleta Olympia",nativeCurrency:{decimals:18,name:"Atla",symbol:"ATLA"},rpcUrls:{default:{http:["https://testnet-rpc.atleta.network:9944","https://testnet-rpc.atleta.network"],ws:["wss://testnet-rpc.atleta.network:9944"]}},blockExplorers:{default:{name:"Atleta Olympia Explorer",url:"https://blockscout.atleta.network",apiUrl:"https://blockscout.atleta.network/api"}},contracts:{multicall3:{address:"0x1472ec6392180fb84F345d2455bCC75B26577115",blockCreated:1076473}},testnet:!0}),GQ=h({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),BQ=h({id:1313161555,name:"Aurora Testnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://testnet.aurorascan.dev",apiUrl:"https://testnet.aurorascan.dev/api"}},testnet:!0}),SQ=h({id:205205,name:"Auroria Testnet",network:"auroria",nativeCurrency:{name:"Auroria Stratis",symbol:"tSTRAX",decimals:18},rpcUrls:{default:{http:["https://auroria.rpc.stratisevm.com"]}},blockExplorers:{default:{name:"Auroria Testnet Explorer",url:"https://auroria.explorer.stratisevm.com"}},testnet:!0}),wQ=h({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),kQ=h({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),VQ=8453,WQ=h({id:8333,name:"B3",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.b3.fun/http"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.b3.fun"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0}},sourceId:VQ}),RQ=168587773,vQ=h({id:1993,name:"B3 Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.b3.fun/http"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia.explorer.b3.fun"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0}},testnet:!0,sourceId:RQ}),XQ=h({id:5165,network:"bahamut",name:"Bahamut",nativeCurrency:{name:"Fasttoken",symbol:"FTN",decimals:18},rpcUrls:{default:{http:["https://rpc1.bahamut.io","https://bahamut-rpc.publicnode.com","https://rpc2.bahamut.io"],webSocket:["wss://ws1.sahara.bahamutchain.com","wss://bahamut-rpc.publicnode.com","wss://ws2.sahara.bahamutchain.com"]}},blockExplorers:{default:{name:"Ftnscan",url:"https://www.ftnscan.com",apiUrl:"https://www.ftnscan.com/api"}}}),qd=1,JQ=h({...Ae,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...Ae.contracts,disputeGameFactory:{[qd]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[qd]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[qd]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[qd]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:qd}),EQ=h({id:123420001114,name:"Basecamp Testnet",nativeCurrency:{decimals:18,name:"Camp",symbol:"CAMP"},rpcUrls:{default:{http:["https://rpc.basecamp.t.raas.gelato.cloud"]}},blockExplorers:{default:{name:"basecamp",url:"https://basecamp.cloud.blockscout.com"}},testnet:!0}),Sp=5,xQ=h({...Ae,id:84531,name:"Base Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://goerli.basescan.org",apiUrl:"https://goerli.basescan.org/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Sp]:{address:"0x2A35891ff30313CcFa6CE88dcf3858bb075A2298"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1376988},portal:{[Sp]:{address:"0xe93c8cD0D409341205A592f8c4Ac1A5fe5585cfA"}},l1StandardBridge:{[Sp]:{address:"0xfA6D8Ee5BE770F84FC001D098C4bD604Fe01284a"}}},testnet:!0,sourceId:Sp}),$d=11155111,NQ=h({...Ae,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...Ae.contracts,disputeGameFactory:{[$d]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[$d]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[$d]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[$d]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:$d}),HQ=h({id:4337,name:"Beam",network:"beam",nativeCurrency:{decimals:18,name:"Beam",symbol:"BEAM"},rpcUrls:{default:{http:["https://build.onbeam.com/rpc"],webSocket:["wss://build.onbeam.com/ws"]}},blockExplorers:{default:{name:"Beam Explorer",url:"https://subnets.avax.network/beam"}},contracts:{multicall3:{address:"0x4956f15efdc3dc16645e90cc356eafa65ffc65ec",blockCreated:1}}}),YQ=h({id:13337,name:"Beam Testnet",network:"beam",nativeCurrency:{decimals:18,name:"Beam",symbol:"BEAM"},rpcUrls:{default:{http:["https://build.onbeam.com/rpc/testnet"],webSocket:["wss://build.onbeam.com/ws/testnet"]}},blockExplorers:{default:{name:"Beam Explorer",url:"https://subnets-test.avax.network/beam"}},contracts:{multicall3:{address:"0x9bf49b704ee2a095b95c1f2d4eb9010510c41c9e",blockCreated:3}},testnet:!0}),TQ=h({id:641230,name:"Bear Network Chain Mainnet",nativeCurrency:{decimals:18,name:"BearNetworkChain",symbol:"BRNKC"},rpcUrls:{default:{http:["https://brnkc-mainnet.bearnetwork.net"]}},blockExplorers:{default:{name:"BrnkScan",url:"https://brnkscan.bearnetwork.net",apiUrl:"https://brnkscan.bearnetwork.net/api"}}}),FQ=h({id:751230,name:"Bear Network Chain Testnet",nativeCurrency:{decimals:18,name:"tBRNKC",symbol:"tBRNKC"},rpcUrls:{default:{http:["https://brnkc-test.bearnetwork.net"]}},blockExplorers:{default:{name:"BrnkTestScan",url:"https://brnktest-scan.bearnetwork.net",apiUrl:"https://brnktest-scan.bearnetwork.net/api"}},testnet:!0}),KQ=h({id:80094,name:"Berachain",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},ensRegistry:{address:"0x5b22280886a2f5e09a49bea7e320eab0e5320e28",blockCreated:877007},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:877008}},rpcUrls:{default:{http:["https://rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://berascan.com"}},ensTlds:[".bera"],testnet:!1}),MQ=h({id:80069,name:"Berachain Bepolia",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},rpcUrls:{default:{http:["https://bepolia.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://bepolia.beratrail.io"}},testnet:!0}),UQ=h({id:80085,name:"Berachain Artio",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},rpcUrls:{default:{http:["https://artio.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berachain",url:"https://artio.beratrail.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:866924}},testnet:!0}),DQ=h({id:80084,name:"Berachain bArtio",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:109269},ensRegistry:{address:"0xB0eef18971290b333450586D33dcA6cE122651D2",blockCreated:7736794},ensUniversalResolver:{address:"0x41692Ef1EA0C79E6b73077E4A67572D2BDbD7057",blockCreated:7736795}},ensTlds:[".bera"],rpcUrls:{default:{http:["https://bartio.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berachain bArtio Beratrail",url:"https://bartio.beratrail.io"}},testnet:!0}),zQ=h({id:11501,name:"BEVM Mainnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet-1.bevm.io"]}},blockExplorers:{default:{name:"Bevmscan",url:"https://scan-mainnet.bevm.io",apiUrl:"https://scan-mainnet-api.bevm.io/api"}}}),LQ=h({id:3068,name:"Bifrost Mainnet",nativeCurrency:{name:"BFC",symbol:"BFC",decimals:18},rpcUrls:{default:{http:["https://public-01.mainnet.bifrostnetwork.com/rpc"]}},blockExplorers:{default:{name:"Bifrost Blockscout",url:"https://explorer.mainnet.bifrostnetwork.com"}},testnet:!1}),QQ=h({id:32520,name:"Bitgert Mainnet",nativeCurrency:{decimals:18,name:"Brise",symbol:"Brise"},rpcUrls:{default:{http:["https://rpc-bitgert.icecreamswap.com"]}},blockExplorers:{default:{name:"Bitgert Scan",url:"https://brisescan.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2118034}},testnet:!1}),PQ=h({id:96,name:"KUB Mainnet",nativeCurrency:{name:"KUB Coin",symbol:"KUB",decimals:18},rpcUrls:{default:{http:["https://rpc.bitkubchain.io"]}},blockExplorers:{default:{name:"KUB Chain Mainnet Explorer",url:"https://www.bkcscan.com",apiUrl:"https://www.bkcscan.com/api"}}}),OQ=h({id:25925,name:"Bitkub Testnet",network:"Bitkub Testnet",nativeCurrency:{name:"Bitkub Test",symbol:"tKUB",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.bitkubchain.io"]}},blockExplorers:{default:{name:"Bitkub Chain Testnet Explorer",url:"https://testnet.bkcscan.com",apiUrl:"https://testnet.bkcscan.com/api"}},testnet:!0}),jQ=h({id:200901,name:"Bitlayer Mainnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.bitlayer.org"],webSocket:["wss://ws.bitlayer.org"]}},blockExplorers:{default:{name:"bitlayer mainnet scan",url:"https://www.btrscan.com"}},contracts:{multicall3:{address:"0x5B256fE9e993902eCe49D138a5b1162cBb529474",blockCreated:2421963}}}),_Q=h({id:200810,name:"Bitlayer Testnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.bitlayer.org"],webSocket:["wss://testnet-ws.bitlayer.org"]}},blockExplorers:{default:{name:"bitlayer testnet scan",url:"https://testnet.btrscan.com"}},contracts:{multicall3:{address:"0x5B256fE9e993902eCe49D138a5b1162cBb529474",blockCreated:4135671}},testnet:!0}),qQ=h({id:7171,name:"Bitrock Mainnet",nativeCurrency:{name:"BROCK",symbol:"BROCK",decimals:18},rpcUrls:{default:{http:["https://brockrpc.io"]}},blockExplorers:{default:{name:"Bitrock Explorer",url:"https://explorer.bit-rock.io"}},testnet:!1}),$Q=h({id:199,name:"BitTorrent",network:"bittorrent-chain-mainnet",nativeCurrency:{name:"BitTorrent",symbol:"BTT",decimals:18},rpcUrls:{default:{http:["https://rpc.bittorrentchain.io"]}},blockExplorers:{default:{name:"Bttcscan",url:"https://bttcscan.com",apiUrl:"https://api.bttcscan.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:31078552}}}),eP=h({id:1028,name:"BitTorrent Chain Testnet",network:"bittorrent-chain-testnet",nativeCurrency:{name:"BitTorrent",symbol:"BTT",decimals:18},rpcUrls:{default:{http:["https://testrpc.bittorrentchain.io"]}},blockExplorers:{default:{name:"Bttcscan",url:"https://testnet.bttcscan.com",apiUrl:"https://testnet.bttcscan.com/api"}},testnet:!0}),tP=h({id:53456,name:"BirdLayer",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.birdlayer.xyz","https://rpc1.birdlayer.xyz"],webSocket:["wss://rpc.birdlayer.xyz/ws"]}},blockExplorers:{default:{name:"BirdLayer Explorer",url:"https://scan.birdlayer.xyz"}}}),nP=1,aP=h({...Ae,id:81457,name:"Blast",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://blastscan.io",apiUrl:"https://api.blastscan.io/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:212929}},sourceId:nP}),sP=11155111,iP=h({id:168587773,name:"Blast Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://sepolia.blastscan.io",apiUrl:"https://api-sepolia.blastscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:756690}},testnet:!0,sourceId:sP}),Lb=1,rP=h({...Ae,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{[Lb]:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{[Lb]:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:Lb}),oP=h({id:288,name:"Boba Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.boba.network"]}},blockExplorers:{default:{name:"BOBAScan",url:"https://bobascan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:446859}}}),lP=h({id:28882,name:"Boba Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.boba.network"]}},blockExplorers:{default:{name:"BOBAScan",url:"https://testnet.bobascan.com"}},testnet:!0}),Qb=11155111,cP=h({...Ae,id:808813,name:"BOB Sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://bob-sepolia.rpc.gobob.xyz"],webSocket:["wss://bob-sepolia.rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Sepolia Explorer",url:"https://bob-sepolia.explorer.gobob.xyz"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:35677},l2OutputOracle:{[Qb]:{address:"0x14D0069452b4AE2b250B395b8adAb771E4267d2f",blockCreated:4462615}},portal:{[Qb]:{address:"0x867B1Aa872b9C8cB5E9F7755feDC45BB24Ad0ae4",blockCreated:4462615}}},testnet:!0,sourceId:Qb}),gP=h({id:11100,name:"Bool Beta Mainnet",nativeCurrency:{decimals:18,name:"BOL",symbol:"BOL"},rpcUrls:{default:{http:["https://beta-rpc-node-http.bool.network"]}},blockExplorers:{default:{name:"BoolScan",url:"https://beta-mainnet.boolscan.com/"}},testnet:!1}),dP=h({id:3636,name:"Botanix Testnet",nativeCurrency:{name:"Botanix",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://node.botanixlabs.dev"]}},blockExplorers:{default:{name:"Botanix Testnet Explorer",url:"https://testnet.botanixscan.io"}},testnet:!0}),IP=h({id:6001,name:"BounceBit Mainnet",nativeCurrency:{name:"BounceBit",symbol:"BB",decimals:18},rpcUrls:{default:{http:["https://fullnode-mainnet.bouncebitapi.com"]}},blockExplorers:{default:{name:"BB Scan",url:"https://bbscan.io"}},testnet:!1}),uP=h({id:6e3,name:"BounceBit Testnet",nativeCurrency:{name:"BounceBit",symbol:"BB",decimals:18},rpcUrls:{default:{http:["https://fullnode-testnet.bouncebitapi.com"]}},blockExplorers:{default:{name:"BB Scan",url:"https://testnet.bbscan.io"}},testnet:!0}),CP=h({id:1039,name:"Bronos",nativeCurrency:{decimals:18,name:"BRO",symbol:"BRO"},rpcUrls:{default:{http:["https://evm.bronos.org"]}},blockExplorers:{default:{name:"BronoScan",url:"https://broscan.bronos.org"}}}),pP=h({id:1038,name:"Bronos Testnet",nativeCurrency:{decimals:18,name:"Bronos Coin",symbol:"tBRO"},rpcUrls:{default:{http:["https://evm-testnet.bronos.org"]}},blockExplorers:{default:{name:"BronoScan",url:"https://tbroscan.bronos.org"}},testnet:!0}),mP=h({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),AP=h({id:1017,name:"BNB Greenfield Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://greenfield-chain.bnbchain.org"]}},blockExplorers:{default:{name:"BNB Greenfield Mainnet Scan",url:"https://greenfieldscan.com"}},testnet:!1}),yP=h({id:97,name:"Binance Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),bP=h({id:223,name:"B2",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.bsquared.network"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.bsquared.network"}}}),hP=h({id:1123,name:"B2 Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.bsquared.network"]}},blockExplorers:{default:{name:"blockscout",url:"https://testnet-explorer.bsquared.network"}},testnet:!0}),fP=h({id:200901,name:"Bitlayer",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.bitlayer.org","https://rpc.bitlayer-rpc.com"],webSocket:["wss://ws.bitlayer.org","wss://ws.bitlayer-rpc.com"]}},blockExplorers:{default:{name:"Bitlayer(BTR) Scan",url:"https://www.btrscan.com"}}}),ZP=h({id:200810,name:"Bitlayer Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.bitlayer.org"],webSocket:["wss://testnet-ws.bitlayer.org","wss://testnet-ws.bitlayer-rpc.com"]}},blockExplorers:{default:{name:"Bitlayer(BTR) Scan",url:"https://testnet.btrscan.com"}},testnet:!0}),GP=h({id:4999,name:"BlackFort Exchange Network",nativeCurrency:{name:"BlackFort Token",symbol:"BXN",decimals:18},rpcUrls:{default:{http:["https://mainnet.blackfort.network/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.blackfort.network",apiUrl:"https://explorer.blackfort.network/api"}}}),BP=h({id:4777,name:"BlackFort Exchange Network Testnet",nativeCurrency:{name:"BlackFort Testnet Token",symbol:"TBXN",decimals:18},rpcUrls:{default:{http:["https://testnet.blackfort.network/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer.blackfort.network",apiUrl:"https://testnet-explorer.blackfort.network/api"}},testnet:!0}),SP=h({id:13370,name:"Cannon",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}}),wP=h({id:7700,name:"Canto",nativeCurrency:{decimals:18,name:"Canto",symbol:"CANTO"},rpcUrls:{default:{http:["https://canto.gravitychain.io"]}},blockExplorers:{default:{name:"Tuber.Build (Blockscout)",url:"https://tuber.build"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2905789}}}),kP={estimateFeesPerGas:async t=>{var s;if(!((s=t.request)!=null&&s.feeCurrency))return null;const[e,n]=await Promise.all([VP(t.client,t.request.feeCurrency),WP(t.client,t.request.feeCurrency)]);return{maxFeePerGas:t.multiply(e-n)+n,maxPriorityFeePerGas:n}}};async function VP(t,e){const n=await t.request({method:"eth_gasPrice",params:[e]});return BigInt(n)}async function WP(t,e){const n=await t.request({method:"eth_maxPriorityFeePerGas",params:[e]});return BigInt(n)}function vW(t){return t===0||t===0n||t===void 0||t===null||t==="0"||t===""||typeof t=="string"&&(Dn(t).toLowerCase()==="0x"||Dn(t).toLowerCase()==="0x00")}function mI(t){return!vW(t)}function RP(t){return typeof t.maxFeePerGas<"u"&&typeof t.maxPriorityFeePerGas<"u"}function XW(t){return t.type==="cip64"?!0:RP(t)&&mI(t.feeCurrency)}const vP={block:uf({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(a=>typeof a=="string"?a:{...Ku(a),...a.gatewayFee?{gatewayFee:rt(a.gatewayFee),gatewayFeeRecipient:a.gatewayFeeRecipient}:{},feeCurrency:a.feeCurrency})}}}),transaction:df({format(t){if(t.type==="0x7e")return{isSystemTx:t.isSystemTx,mint:t.mint?rt(t.mint):void 0,sourceHash:t.sourceHash,type:"deposit"};const e={feeCurrency:t.feeCurrency};return t.type==="0x7b"?e.type="cip64":(t.type==="0x7c"&&(e.type="cip42"),e.gatewayFee=t.gatewayFee?rt(t.gatewayFee):null,e.gatewayFeeRecipient=t.gatewayFeeRecipient),e}}),transactionRequest:T9({format(t){const e={};return t.feeCurrency&&(e.feeCurrency=t.feeCurrency),XW(t)&&(e.type="0x7b"),e}})};function XP(t,e){return XW(t)?EP(t,e):RW(t,e)}const JP={transaction:XP};function EP(t,e){NP(t);const{chainId:n,gas:a,nonce:s,to:r,value:l,maxFeePerGas:c,maxPriorityFeePerGas:g,accessList:u,feeCurrency:I,data:p}=t,A=[Ge(n),s?Ge(s):"0x",g?Ge(g):"0x",c?Ge(c):"0x",a?Ge(a):"0x",r??"0x",l?Ge(l):"0x",p??"0x",Lu(u),I,...id(t,e)];return Qn(["0x7b",ti(A)])}const xP=$g;function NP(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:s,to:r,feeCurrency:l}=t;if(e<=0)throw new td({chainId:e});if(r&&!pt(r))throw new Tt({address:r});if(a)throw new ge("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(mI(s)&&s>xP)throw new ro({maxFeePerGas:s});if(mI(n)&&mI(s)&&n>s)throw new Pg({maxFeePerGas:s,maxPriorityFeePerGas:n});if(mI(l)&&!pt(l))throw new ge("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(vW(l))throw new ge("`feeCurrency` must be provided for CIP-64 transactions.")}const A1={contracts:WW,formatters:vP,serializers:JP,fees:kP},HP=h({...A1,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13112599}},testnet:!1}),wp=17e3,YP=h({...A1,id:44787,name:"Alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"A-CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Alfajores Explorer",url:"https://celo-alfajores.blockscout.com",apiUrl:"https://celo-alfajores.blockscout.com/api"}},contracts:{...A1.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:14569001},portal:{[wp]:{address:"0x82527353927d8D069b3B452904c942dA149BA381",blockCreated:2411324}},disputeGameFactory:{[wp]:{address:"0xE28AAdcd9883746c0e5068F58f9ea06027b214cb",blockCreated:2411324}},l2OutputOracle:{[wp]:{address:"0x4a2635e9e4f6e45817b1D402ac4904c1d1752438",blockCreated:2411324}},l1StandardBridge:{[wp]:{address:"0xD1B0E0581973c9eB7f886967A606b9441A897037",blockCreated:2411324}}},testnet:!0}),TP=h({id:5858,name:"Chang Chain Foundation Mainnet",nativeCurrency:{decimals:18,name:"CTH",symbol:"CTH"},rpcUrls:{default:{http:["https://rpc.cthscan.com"]}},blockExplorers:{default:{name:"Chang Chain explorer",url:"https://cthscan.com"}}}),FP=h({id:88888,name:"Chiliz Chain",network:"chiliz-chain",nativeCurrency:{decimals:18,name:"CHZ",symbol:"CHZ"},rpcUrls:{default:{http:["https://rpc.chiliz.com"]}},blockExplorers:{default:{name:"Chiliz Explorer",url:"https://scan.chiliz.com",apiUrl:"https://scan.chiliz.com/api"}}}),KP=h({id:2882,name:"Chips Network",network:"CHIPS",nativeCurrency:{decimals:18,name:"IOTA",symbol:"IOTA"},rpcUrls:{default:{http:["https://node.chips.ooo/wasp/api/v1/chains/iota1pp3d3mnap3ufmgqnjsnw344sqmf5svjh26y2khnmc89sv6788y3r207a8fn/evm"]}}}),MP=h({id:5115,name:"Citrea Testnet",nativeCurrency:{name:"cBTC",symbol:"cBTC",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.citrea.xyz"]}},blockExplorers:{default:{name:"Citrea Explorer",url:"https://explorer.testnet.citrea.xyz",apiUrl:"https://explorer.testnet.citrea.xyz/api"}},testnet:!0}),UP=h({id:61,name:"Ethereum Classic",nativeCurrency:{decimals:18,name:"ETC",symbol:"ETC"},rpcUrls:{default:{http:["https://etc.rivet.link"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.com/etc/mainnet"}}}),DP=h({id:112,name:"Coinbit Mainnet",nativeCurrency:{name:"GIDR",symbol:"GIDR",decimals:18},rpcUrls:{default:{http:["https://coinbit-rpc-mainnet.chain.sbcrypto.app"]}},blockExplorers:{default:{name:"Coinbit Explorer",url:"https://coinbit-explorer.chain.sbcrypto.app"}},testnet:!1}),zP=h({id:52,name:"CoinEx Mainnet",nativeCurrency:{name:"cet",symbol:"cet",decimals:18},rpcUrls:{default:{http:["https://rpc.coinex.net"]}},blockExplorers:{default:{name:"CoinEx Explorer",url:"https://www.coinex.net"}},testnet:!1}),LP=h({id:1030,name:"Conflux eSpace",nativeCurrency:{name:"Conflux",symbol:"CFX",decimals:18},rpcUrls:{default:{http:["https://evm.confluxrpc.com"],webSocket:["wss://evm.confluxrpc.com/ws"]}},blockExplorers:{default:{name:"ConfluxScan",url:"https://evm.confluxscan.org"}},contracts:{multicall3:{address:"0xEFf0078910f638cd81996cc117bccD3eDf2B072F",blockCreated:68602935}}}),QP=h({id:71,name:"Conflux eSpace Testnet",network:"cfx-espace-testnet",testnet:!0,nativeCurrency:{name:"Conflux",symbol:"CFX",decimals:18},rpcUrls:{default:{http:["https://evmtestnet.confluxrpc.com"],webSocket:["wss://evmtestnet.confluxrpc.com/ws"]}},blockExplorers:{default:{name:"ConfluxScan",url:"https://evmtestnet.confluxscan.org"}},contracts:{multicall3:{address:"0xEFf0078910f638cd81996cc117bccD3eDf2B072F",blockCreated:117499050}}}),PP=h({id:1116,name:"Core Dao",nativeCurrency:{decimals:18,name:"Core",symbol:"CORE"},rpcUrls:{default:{http:["https://rpc.coredao.org"]}},blockExplorers:{default:{name:"CoreDao",url:"https://scan.coredao.org"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:11907934}},testnet:!1}),OP=h({id:1115,name:"Core Testnet",nativeCurrency:{decimals:18,name:"tCore",symbol:"TCORE"},rpcUrls:{default:{http:["https://rpc.test.btcs.network"]}},blockExplorers:{default:{name:"Core Testnet",url:"https://scan.test.btcs.network",apiUrl:"https://api.test.btcs.network/api"}},contracts:{multicall3:{address:"0xCcddF20A1932537123C2E48Bd8e00b108B8f7569",blockCreated:29350509}},testnet:!0}),jP=h({id:1114,name:"Core Testnet2",nativeCurrency:{decimals:18,name:"tCore2",symbol:"TCORE2"},rpcUrls:{default:{http:["https://rpc.test2.btcs.network"]}},blockExplorers:{default:{name:"Core Testnet2",url:"https://scan.test2.btcs.network",apiUrl:"https://api.test2.btcs.network/api"}},contracts:{multicall3:{address:"0x3CB285ff3Cd5C7C7e570b1E7DE3De17A0f985e56",blockCreated:3838600}},testnet:!0}),_P=1,qP=h({id:21e6,name:"Corn",nativeCurrency:{decimals:18,name:"Bitcorn",symbol:"BTCN"},rpcUrls:{default:{http:["https://21000000.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Corn Explorer",url:"https://cornscan.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/21000000/etherscan/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3228}},sourceId:_P}),$P=11155111,eO=h({id:21000001,name:"Corn Testnet",nativeCurrency:{decimals:18,name:"Bitcorn",symbol:"BTCN"},rpcUrls:{default:{http:["https://21000001.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Corn Testnet Explorer",url:"https://testnet.cornscan.io",apiUrl:"https://api.routescan.io/v2/network/testnet/evm/21000001/etherscan/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4886}},testnet:!0,sourceId:$P}),tO=h({id:44,name:"Crab Network",nativeCurrency:{decimals:18,name:"Crab Network Native Token",symbol:"CRAB"},rpcUrls:{default:{http:["https://crab-rpc.darwinia.network"],webSocket:["wss://crab-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://crab-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3032593}}}),nO=h({id:66665,name:"Creator",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.creatorchain.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.creatorchain.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),aO=h({id:102030,name:"Creditcoin3 Mainnet",nativeCurrency:{name:"Creditcoin3 Mainnet",symbol:"CTC",decimals:18},rpcUrls:{default:{http:["https://mainnet3.creditcoin.network"],webSocket:["wss://mainnet3.creditcoin.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://creditcoin.blockscout.com",apiUrl:"https://creditcoin.blockscout.com/api"}},testnet:!1}),sO=h({id:102031,name:"Creditcoin3 Testnet",nativeCurrency:{name:"Creditcoin3 Testnet",symbol:"TCTC",decimals:18},rpcUrls:{default:{http:["https://rpc.cc3-testnet.creditcoin.network"],webSocket:["wss://rpc.cc3-testnet.creditcoin.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://creditcoin-testnet.blockscout.com",apiUrl:"https://creditcoin-testnet.blockscout.com/api"}},testnet:!0}),iO=h({id:25,name:"Cronos Mainnet",nativeCurrency:{decimals:18,name:"Cronos",symbol:"CRO"},rpcUrls:{default:{http:["https://evm.cronos.org"]}},blockExplorers:{default:{name:"Cronos Explorer",url:"https://explorer.cronos.org",apiUrl:"https://explorer-api.cronos.org/mainnet/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1963112}}}),rO=h({id:338,name:"Cronos Testnet",nativeCurrency:{decimals:18,name:"CRO",symbol:"tCRO"},rpcUrls:{default:{http:["https://evm-t3.cronos.org"]}},blockExplorers:{default:{name:"Cronos Explorer",url:"https://cronos.org/explorer/testnet3"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:10191251}},testnet:!0}),oO=h({id:388,name:"Cronos zkEVM Mainnet",nativeCurrency:{decimals:18,name:"Cronos zkEVM CRO",symbol:"zkCRO"},rpcUrls:{default:{http:["https://mainnet.zkevm.cronos.org"]}},blockExplorers:{default:{name:"Cronos zkEVM (Mainnet) Chain Explorer",url:"https://explorer.zkevm.cronos.org"}},contracts:{multicall3:{address:"0x06f4487d7c4a5983d2660db965cc6d2565e4cfaa",blockCreated:72}}}),lO=h({id:282,name:"Cronos zkEVM Testnet",nativeCurrency:{decimals:18,name:"Cronos zkEVM Test Coin",symbol:"zkTCRO"},rpcUrls:{default:{http:["https://testnet.zkevm.cronos.org"]}},blockExplorers:{default:{name:"Cronos zkEVM Testnet Explorer",url:"https://explorer.zkevm.cronos.org/testnet"}},testnet:!0}),cO=h({id:3737,name:"Crossbell",nativeCurrency:{decimals:18,name:"CSB",symbol:"CSB"},rpcUrls:{default:{http:["https://rpc.crossbell.io"]}},blockExplorers:{default:{name:"CrossScan",url:"https://scan.crossbell.io",apiUrl:"https://scan.crossbell.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:38246031}}}),gO=h({id:33111,name:"Curtis",nativeCurrency:{name:"ApeCoin",symbol:"APE",decimals:18},rpcUrls:{default:{http:["https://rpc.curtis.apechain.com"]}},blockExplorers:{default:{name:"Curtis Explorer",url:"https://explorer.curtis.apechain.com"}},testnet:!0}),dO=h({id:7560,name:"Cyber",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cyber.alt.technology"]}},blockExplorers:{default:{name:"Blockscout",url:"https://cyberscan.co",apiUrl:"https://cyberscan.co/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}}}),IO=h({id:111557560,name:"Cyber Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cyber-testnet.alt.technology"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet.cyberscan.co",apiUrl:"https://testnet.cyberscan.co/api"}},contracts:{multicall3:{address:"0xffc391F0018269d4758AEA1a144772E8FB99545E",blockCreated:304545}},testnet:!0}),uO=h({id:824,name:"Daily Network Mainnet",nativeCurrency:{decimals:18,name:"Daily",symbol:"DLY"},rpcUrls:{default:{http:["https://rpc.mainnet.dailycrypto.net"]}},blockExplorers:{default:{name:"Daily Mainnet Explorer",url:"https://explorer.mainnet.dailycrypto.net"}},testnet:!1}),CO=h({id:825,name:"Daily Network Testnet",nativeCurrency:{decimals:18,name:"Daily",symbol:"DLY"},rpcUrls:{default:{http:["https://rpc.testnet.dailycrypto.net"]}},blockExplorers:{default:{name:"Daily Testnet Explorer",url:"https://explorer.testnet.dailycrypto.net"}},testnet:!0}),pO=h({id:46,name:"Darwinia Network",nativeCurrency:{decimals:18,name:"RING",symbol:"RING"},rpcUrls:{default:{http:["https://rpc.darwinia.network"],webSocket:["wss://rpc.darwinia.network"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:69420}}}),mO=h({id:20240603,name:"DBK chain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.dbkchain.io"]}},blockExplorers:{default:{name:"DBK Chain Explorer",url:"https://scan.dbkchain.io"}},testnet:!1}),AO=h({...Ae,id:2716446429837e3,name:"Dchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://dchain-2716446429837000-1.jsonrpc.sagarpc.io"]}},blockExplorers:{default:{name:"Dchain Explorer",url:"https://dchain-2716446429837000-1.sagaexplorer.io",apiUrl:"https://api-dchain-2716446429837000-1.sagaexplorer.io/api"}},contracts:{...Ae.contracts}}),yO=h({...Ae,id:2713017997578e3,name:"Dchain Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://dchaintestnet-2713017997578000-1.jsonrpc.testnet.sagarpc.io"]}},blockExplorers:{default:{name:"Dchain Explorer",url:"https://dchaintestnet-2713017997578000-1.testnet.sagaexplorer.io",apiUrl:"https://api-dchaintestnet-2713017997578000-1.testnet.sagaexplorer.io/api"}},contracts:{...Ae.contracts}}),bO=h({id:1130,network:"defichain-evm",name:"DeFiChain EVM Mainnet",nativeCurrency:{name:"DeFiChain",symbol:"DFI",decimals:18},rpcUrls:{default:{http:["https://eth.mainnet.ocean.jellyfishsdk.com"]}},blockExplorers:{default:{name:"DeFiScan",url:"https://meta.defiscan.live"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:137852}}}),hO=h({id:1131,network:"defichain-evm-testnet",name:"DeFiChain EVM Testnet",nativeCurrency:{name:"DeFiChain",symbol:"DFI",decimals:18},rpcUrls:{default:{http:["https://eth.testnet.ocean.jellyfishsdk.com"]}},blockExplorers:{default:{name:"DeFiScan",url:"https://meta.defiscan.live/?network=TestNet"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:156462}},testnet:!0}),fO=h({id:666666666,name:"Degen",nativeCurrency:{decimals:18,name:"Degen",symbol:"DEGEN"},rpcUrls:{default:{http:["https://rpc.degen.tips"],webSocket:["wss://rpc.degen.tips"]}},blockExplorers:{default:{name:"Degen Chain Explorer",url:"https://explorer.degen.tips",apiUrl:"https://explorer.degen.tips/api/v2"}}}),ZO=h({id:53935,name:"DFK Chain",nativeCurrency:{decimals:18,name:"Jewel",symbol:"JEWEL"},rpcUrls:{default:{http:["https://subnets.avax.network/defi-kingdoms/dfk-chain/rpc"]}},blockExplorers:{default:{name:"DFKSubnetScan",url:"https://subnets.avax.network/defi-kingdoms"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14790551}}}),GO=h({id:15,name:"Diode Prenet",nativeCurrency:{decimals:18,name:"DIODE",symbol:"DIODE"},rpcUrls:{default:{http:["https://prenet.diode.io:8443"],webSocket:["wss://prenet.diode.io:8443/ws"]}},blockExplorers:{default:{name:"Diode Explorer",url:"https://diode.io/prenet"}},testnet:!1}),BO=h({id:513100,name:"DisChain",nativeCurrency:{decimals:18,name:"DIS",symbol:"DIS"},rpcUrls:{default:{http:["https://rpc.dischain.xyz"]}},blockExplorers:{default:{name:"DisChain Explorer",url:"https://www.oklink.com/dis"}}}),SO=h({id:53457,name:"DODOchain Testnet",nativeCurrency:{decimals:18,name:"DODO",symbol:"DODO"},rpcUrls:{default:{http:["https://dodochain-testnet.alt.technology"],webSocket:["wss://dodochain-testnet.alt.technology/ws"]}},blockExplorers:{default:{name:"DODOchain Testnet (Sepolia) Explorer",url:"https://testnet-scan.dodochain.com"}},testnet:!0}),wO=h({id:2e3,name:"Dogechain",nativeCurrency:{decimals:18,name:"Wrapped Dogecoin",symbol:"WDOGE"},rpcUrls:{default:{http:["https://rpc.dogechain.dog"]}},blockExplorers:{default:{name:"DogeChainExplorer",url:"https://explorer.dogechain.dog",apiUrl:"https://explorer.dogechain.dog/api"}},contracts:{multicall3:{address:"0x68a8609a60a008EFA633dfdec592c03B030cC508",blockCreated:25384031}}}),kO=h({id:42026,name:"Donatuz",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.donatuz.com"]}},blockExplorers:{default:{name:"Donatuz Explorer",url:"https://explorer.donatuz.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0}}}),VO=h({id:7979,name:"DOS Chain",nativeCurrency:{decimals:18,name:"DOS Chain",symbol:"DOS"},rpcUrls:{default:{http:["https://main.doschain.com"]}},blockExplorers:{default:{name:"DOS Chain Explorer",url:"https://doscan.io",apiUrl:"https://api.doscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:161908}}}),WO=h({id:3939,name:"DOS Chain Testnet",nativeCurrency:{decimals:18,name:"DOS Chain Testnet",symbol:"DOS"},rpcUrls:{default:{http:["https://test.doschain.com"]}},blockExplorers:{default:{name:"DOS Chain Testnet Explorer",url:"https://test.doscan.io",apiUrl:"https://api-test.doscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:69623}},testnet:!0}),RO=h({id:23451,name:"DreyerX Mainnet",nativeCurrency:{name:"DreyerX",symbol:"DRX",decimals:18},rpcUrls:{default:{http:["https://rpc.dreyerx.com"]}},blockExplorers:{default:{name:"DreyerX Scan",url:"https://scan.dreyerx.com"}}}),vO=h({id:23452,name:"DreyerX Testnet",nativeCurrency:{name:"DreyerX",symbol:"DRX",decimals:18},rpcUrls:{default:{http:["http://testnet-rpc.dreyerx.com"]}},blockExplorers:{default:{name:"DreyerX Testnet Scan",url:"https://testnet-scan.dreyerx.com"}},testnet:!0}),XO=h({id:555888,name:"DustBoy IoT",nativeCurrency:{name:"Ether",symbol:"DST",decimals:18},rpcUrls:{default:{http:["https://dustboy-rpc.jibl2.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://dustboy.jibl2.com",apiUrl:"https://dustboy.jibl2.com/api"}},contracts:{multicall3:{address:"0xFFD34aa2C62B2D52E00A361e466C229788f4eD6a",blockCreated:526569}},testnet:!1}),JO=h({id:1100,name:"Dymension",nativeCurrency:{name:"DYM",symbol:"DYM",decimals:18},rpcUrls:{default:{http:["https://dymension-evm-rpc.publicnode.com"],webSocket:["wss://dymension-evm-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Dym FYI",url:"https://dym.fyi"}},testnet:!1}),EO=h({id:1995,name:"edeXa Testnet",nativeCurrency:{name:"edeXa",symbol:"tEDX",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.edexa.network"]}},blockExplorers:{default:{name:"edeXa Testnet Explorer",url:"https://explorer.testnet.edexa.network",apiUrl:"https://explorer.testnet.edexa.network/api/v2"}},testnet:!0}),xO=h({id:5424,name:"edeXa",nativeCurrency:{name:"edeXa",symbol:"EDX",decimals:18},rpcUrls:{default:{http:["https://rpc.edexa.network"]}},blockExplorers:{default:{name:"edeXa Explorer",url:"https://explorer.edexa.network",apiUrl:"https://explorer.edexa.network/api/v2"}}}),NO=h({id:2026,name:"Edgeless Network",nativeCurrency:{name:"Edgeless Wrapped ETH",symbol:"EwETH",decimals:18},rpcUrls:{default:{http:["https://rpc.edgeless.network/http"],webSocket:["wss://rpc.edgeless.network/ws"]}},blockExplorers:{default:{name:"Edgeless Explorer",url:"https://explorer.edgeless.network"}}}),HO=h({id:202,name:"Edgeless Testnet",nativeCurrency:{name:"Edgeless Wrapped ETH",symbol:"EwETH",decimals:18},rpcUrls:{default:{http:["https://edgeless-testnet.rpc.caldera.xyz/http"],webSocket:["wss://edgeless-testnet.rpc.caldera.xyz/ws"]}},blockExplorers:{default:{name:"Edgeless Testnet Explorer",url:"https://testnet.explorer.edgeless.network"}}}),YO=h({id:2021,name:"Edgeware EdgeEVM Mainnet",nativeCurrency:{decimals:18,name:"Edgeware",symbol:"EDG"},rpcUrls:{default:{http:["https://edgeware-evm.jelliedowl.net"]}},blockExplorers:{default:{name:"Edgscan by Bharathcoorg",url:"https://edgscan.live",apiUrl:"https://edgscan.live/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:18117872}}}),TO=h({id:2022,name:"Beresheet BereEVM Testnet",nativeCurrency:{decimals:18,name:"Testnet EDG",symbol:"tEDG"},rpcUrls:{default:{http:["https://beresheet-evm.jelliedowl.net"]}},blockExplorers:{default:{name:"Edgscan by Bharathcoorg",url:"https://testnet.edgscan.live",apiUrl:"https://testnet.edgscan.live/api"}}}),FO=h({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),KO=h({id:656476,name:"EDU Chain Testnet",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.open-campus-codex.gelato.digital/"],webSocket:["wss://ws.open-campus-codex.gelato.digital"]}},blockExplorers:{default:{name:"EDU Chain Testnet Explorer",url:"https://opencampus-codex.blockscout.com",apiUrl:"https://opencampus-codex.blockscout.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:15514133}},testnet:!0}),MO=h({id:1994,name:"Ekta",nativeCurrency:{decimals:18,name:"EKTA",symbol:"EKTA"},rpcUrls:{default:{http:["https://main.ekta.io"]}},blockExplorers:{default:{name:"Ektascan",url:"https://ektascan.io",apiUrl:"https://ektascan.io/api"}}}),UO=h({id:1004,name:"Ekta Testnet",nativeCurrency:{decimals:18,name:"EKTA",symbol:"EKTA"},rpcUrls:{default:{http:["https://test.ekta.io:8545"]}},blockExplorers:{default:{name:"Test Ektascan",url:"https://test.ektascan.io",apiUrl:"https://test.ektascan.io/api"}},testnet:!0}),DO=h({id:20,name:"Elastos Smart Chain",nativeCurrency:{name:"ELA",symbol:"ELA",decimals:18},rpcUrls:{default:{http:["https://api2.elastos.io/eth"]}},blockExplorers:{default:{name:"Elastos Explorer",url:"https://esc.elastos.io"}},testnet:!1}),zO=h({id:21,name:"Elastos Smart Chain Testnet",nativeCurrency:{name:"tELA",symbol:"tELA",decimals:18},rpcUrls:{default:{http:["https://api-testnet.elastos.io/eth"]}},blockExplorers:{default:{name:"Elastos Explorer",url:"https://esc-testnet.elastos.io"}},testnet:!0}),LO=h({id:52014,name:"Electroneum Mainnet",nativeCurrency:{name:"ETN",symbol:"ETN",decimals:18},rpcUrls:{default:{http:["https://rpc.electroneum.com"]}},blockExplorers:{default:{name:"Electroneum Block Explorer",url:"https://blockexplorer.electroneum.com"}},testnet:!1}),QO=h({id:5201420,name:"Electroneum Testnet",nativeCurrency:{name:"ETN",symbol:"ETN",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.electroneum.com"]}},blockExplorers:{default:{name:"Electroneum Block Explorer",url:"https://blockexplorer.thesecurityteam.rocks"}},testnet:!0}),PO=h({...Ae,id:1338,name:"Elysium Testnet",nativeCurrency:{decimals:18,name:"LAVA",symbol:"LAVA"},rpcUrls:{default:{http:["https://elysium-test-rpc.vulcanforged.com"]}},blockExplorers:{default:{name:"Elysium testnet explorer",url:"https://elysium-explorer.vulcanforged.com"}},testnet:!0}),OO=h({id:246,name:"Energy Mainnet",nativeCurrency:{name:"EWT",symbol:"EWT",decimals:18},rpcUrls:{default:{http:["https://rpc.energyweb.org"]}},blockExplorers:{default:{name:"EnergyWeb Explorer",url:"https://explorer.energyweb.org"}},testnet:!1}),jO=h({id:119,name:"ENULS Mainnet",nativeCurrency:{decimals:18,name:"NULS",symbol:"NULS"},rpcUrls:{default:{http:["https://evmapi2.nuls.io"]}},blockExplorers:{default:{name:"ENULS Explorer",url:"https://evmscan.nuls.io"}},testnet:!1}),_O=h({id:7332,name:"Horizen EON",nativeCurrency:{decimals:18,name:"ZEN",symbol:"ZEN"},rpcUrls:{default:{http:["https://eon-rpc.horizenlabs.io/ethv1"]}},blockExplorers:{default:{name:"EON Explorer",url:"https://eon-explorer.horizenlabs.io"}},contracts:{}}),qO=h({id:17777,name:"EOS EVM",nativeCurrency:{decimals:18,name:"EOS",symbol:"EOS"},rpcUrls:{default:{http:["https://api.evm.eosnetwork.com"]}},blockExplorers:{default:{name:"EOS EVM Explorer",url:"https://explorer.evm.eosnetwork.com",apiUrl:"https://explorer.evm.eosnetwork.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7943933}}}),$O=h({id:15557,name:"EOS EVM Testnet",nativeCurrency:{decimals:18,name:"EOS",symbol:"EOS"},rpcUrls:{default:{http:["https://api.testnet.evm.eosnetwork.com"]}},blockExplorers:{default:{name:"EOS EVM Testnet Explorer",url:"https://explorer.testnet.evm.eosnetwork.com",apiUrl:"https://explorer.testnet.evm.eosnetwork.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:9067940}},testnet:!0}),ej=h({id:42793,name:"Etherlink",nativeCurrency:{decimals:18,name:"Tez",symbol:"XTZ"},rpcUrls:{default:{http:["https://node.mainnet.etherlink.com"]}},blockExplorers:{default:{name:"Etherlink",url:"https://explorer.etherlink.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:33899}}}),tj=h({id:128123,name:"Etherlink Testnet",nativeCurrency:{decimals:18,name:"Tez",symbol:"XTZ"},rpcUrls:{default:{http:["https://node.ghostnet.etherlink.com"]}},blockExplorers:{default:{name:"Etherlink Testnet",url:"https://testnet.explorer.etherlink.com"}},testnet:!0}),nj=h({id:183,name:"Ethernity",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.ethernitychain.io"]}},blockExplorers:{default:{name:"Ethernity Explorer",url:"https://ernscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},testnet:!1}),aj=h({id:20256789,name:"ETP Mainnet",nativeCurrency:{decimals:18,name:"ETP Chain Native Token",symbol:"ETP"},rpcUrls:{default:{http:["https://rpc.etpscan.xyz"]}},blockExplorers:{default:{name:"ETP Scan",url:"https://etpscan.xyz"}}}),sj=h({id:9001,name:"Evmos",nativeCurrency:{decimals:18,name:"Evmos",symbol:"EVMOS"},rpcUrls:{default:{http:["https://eth.bd.evmos.org:8545"]}},blockExplorers:{default:{name:"Evmos Block Explorer",url:"https://escan.live"}}}),ij=h({id:9e3,name:"Evmos Testnet",nativeCurrency:{decimals:18,name:"Evmos",symbol:"EVMOS"},rpcUrls:{default:{http:["https://eth.bd.evmos.dev:8545"]}},blockExplorers:{default:{name:"Evmos Testnet Block Explorer",url:"https://evm.evmos.dev/"}}}),rj=h({id:22052002,name:"Excelon Mainnet",network:"XLON",nativeCurrency:{decimals:18,name:"Excelon",symbol:"xlon"},rpcUrls:{default:{http:["https://edgewallet1.xlon.org"]}},blockExplorers:{default:{name:"Excelon explorer",url:"https://explorer.excelon.io"}}}),oj=h({id:2,name:"Expanse Network",nativeCurrency:{decimals:18,name:"EXP",symbol:"EXP"},rpcUrls:{default:{http:["https://node.expanse.tech"]}},blockExplorers:{default:{name:"Expanse Explorer",url:"https://explorer.expanse.tech"}},testnet:!1}),lj=h({id:7200,name:"exSat Network",nativeCurrency:{decimals:18,name:"BTC",symbol:"BTC"},rpcUrls:{default:{http:["https://evm.exsat.network"]}},blockExplorers:{default:{name:"exSat Explorer",url:"https://scan.exsat.network",apiUrl:"https://scan.exsat.network/api"}}}),cj=h({id:839999,name:"exSat Testnet",nativeCurrency:{decimals:18,name:"BTC",symbol:"BTC"},rpcUrls:{default:{http:["https://evm-tst3.exsat.network"]}},blockExplorers:{default:{name:"exSat Explorer",url:"https://scan-testnet.exsat.network",apiUrl:"https://scan-testnet.exsat.network/api"}}}),gj=h({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://250.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),dj=h({id:64240,name:"Fantom Sonic Open Testnet",network:"fantom-sonic-testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpcapi.sonic.fantom.network"]}},blockExplorers:{default:{name:"Fantom Sonic Open Testnet Explorer",url:"https://public-sonic.fantom.network"}},testnet:!0}),Ij=h({id:4002,name:"Fantom Testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.testnet.fantom.network"]}},blockExplorers:{default:{name:"FTMScan",url:"https://testnet.ftmscan.com",apiUrl:"https://testnet.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:8328688}},testnet:!0}),uj=h({id:12306,name:"Fibo Chain",nativeCurrency:{decimals:18,name:"fibo",symbol:"FIBO"},rpcUrls:{default:{http:["https://network.hzroc.art"]}},blockExplorers:{default:{name:"FiboScan",url:"https://scan.fibochain.org"}}}),Cj=h({id:314,name:"Filecoin Mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3328594}}}),pj=h({id:314159,name:"Filecoin Calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}},testnet:!0}),mj=h({id:3141,name:"Filecoin Hyperspace",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.hyperspace.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://hyperspace.filfox.info/en"}},testnet:!0}),Aj=h({id:995,name:"5ireChain",nativeCurrency:{name:"5ire Token",symbol:"5IRE",decimals:18},rpcUrls:{default:{http:["https://rpc.5ire.network"]}},blockExplorers:{default:{name:"5ireChain Mainnet Explorer",url:"https://5irescan.io/"}},testnet:!1}),yj=h({id:253368190,name:"Flame",network:"flame",nativeCurrency:{symbol:"TIA",name:"TIA",decimals:18},rpcUrls:{default:{http:["https://rpc.flame.astria.org"],webSocket:["wss://ws.flame.astria.org"]}},blockExplorers:{default:{name:"Flame Explorer",url:"https://explorer.flame.astria.org"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:6829148}}}),bj=h({id:14,name:"Flare Mainnet",nativeCurrency:{decimals:18,name:"Flare",symbol:"FLR"},rpcUrls:{default:{http:["https://flare-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Flare Explorer",url:"https://flare-explorer.flare.network",apiUrl:"https://flare-explorer.flare.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3002461}}}),hj=h({id:114,name:"Flare Testnet Coston2",nativeCurrency:{decimals:18,name:"Coston2 Flare",symbol:"C2FLR"},rpcUrls:{default:{http:["https://coston2-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Coston2 Explorer",url:"https://coston2-explorer.flare.network",apiUrl:"https://coston2-explorer.flare.network/api"}},testnet:!0}),fj=h({id:747,name:"Flow EVM Mainnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://mainnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Mainnet Explorer",url:"https://evm.flowscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6205}}}),Zj=h({id:646,name:"Flow EVM Previewnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://previewnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Previewnet Explorer",url:"https://previewnet.flowdiver.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6205}}}),Gj=h({id:545,name:"Flow EVM Testnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://testnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Flow Diver",url:"https://evm-testnet.flowscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:137518}},testnet:!0}),Bj=h({id:9999999,name:"Fluence",nativeCurrency:{name:"FLT",symbol:"FLT",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.fluence.dev"],webSocket:["wss://ws.mainnet.fluence.dev"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.mainnet.fluence.dev",apiUrl:"https://blockscout.mainnet.fluence.dev/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:207583}}}),Sj=h({id:123420000220,name:"Fluence Stage",nativeCurrency:{name:"tFLT",symbol:"tFLT",decimals:18},rpcUrls:{default:{http:["https://rpc.stage.fluence.dev"],webSocket:["wss://ws.stage.fluence.dev"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.stage.fluence.dev",apiUrl:"https://blockscout.stage.fluence.dev/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:83227}},testnet:!0}),wj=h({id:52164803,name:"Fluence Testnet",nativeCurrency:{name:"tFLT",symbol:"tFLT",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.fluence.dev"],webSocket:["wss://ws.testnet.fluence.dev"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.testnet.fluence.dev",apiUrl:"https://blockscout.testnet.fluence.dev/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96424}},testnet:!0}),kj=h({id:20993,name:"Fluent Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.dev.gblend.xyz"]}},blockExplorers:{default:{name:"Fluent Explorer",url:"https://blockscout.dev.gblend.xyz"}},testnet:!0}),Vj=h({id:984122,name:"Forma",network:"forma",nativeCurrency:{symbol:"TIA",name:"TIA",decimals:18},rpcUrls:{default:{http:["https://rpc.forma.art"],webSocket:["wss://ws.forma.art"]}},blockExplorers:{default:{name:"Forma Explorer",url:"https://explorer.forma.art"}},contracts:{multicall3:{address:"0xd53C6FFB123F7349A32980F87faeD8FfDc9ef079",blockCreated:252705}}}),Zc=1,Wj=h({id:478,name:"Form Network",nativeCurrency:{decimals:18,name:"Ethereum",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.form.network/http"],webSocket:["wss://rpc.form.network/ws"]}},blockExplorers:{default:{name:"Form Explorer",url:"https://explorer.form.network"}},contracts:{...Ae.contracts,addressManager:{[Zc]:{address:"0x15c249E46A2F924C2dB3A1560CF86729bAD1f07B"}},l1CrossDomainMessenger:{[Zc]:{address:"0xF333158DCCad1dF6C3F0a3aEe8BC31fA94d9eD5c"}},l2OutputOracle:{[Zc]:{address:"0x4ccAAF69F41c5810cA875183648B577CaCf1F67E"}},portal:{[Zc]:{address:"0x4E259Ee5F4136408908160dD32295A5031Fa426F"}},l1StandardBridge:{[Zc]:{address:"0xdc20aA63D3DE59574E065957190D8f24e0F7B8Ba"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},sourceId:Zc}),Rj=h({id:43521,name:"Formicarium",nativeCurrency:{decimals:18,name:"M",symbol:"M"},rpcUrls:{default:{http:["https://rpc.formicarium.memecore.net"],webSocket:["wss://ws.formicarium.memecore.net"]}},blockExplorers:{default:{name:"MemeCore Testnet Explorer",url:"https://formicarium.memecorescan.io"},okx:{name:"MemeCore Testnet Explorer",url:"https://web3.okx.com/explorer/formicarium-testnet"},memecore:{name:"MemeCore Testnet Explorer",url:"https://formicarium.blockscout.memecore.com",apiUrl:"https://formicarium.blockscout.memecore.com/api"}},testnet:!0}),Gc=11155111,vj=h({id:132902,name:"Form Testnet",nativeCurrency:{decimals:18,name:"Ethereum",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia-rpc.form.network/http"],webSocket:["wss://sepolia-rpc.form.network/ws"]}},blockExplorers:{default:{name:"Form Testnet Explorer",url:"https://sepolia-explorer.form.network"}},contracts:{...Ae.contracts,addressManager:{[Gc]:{address:"0xd5C38fa934f7fd7477D4800F4f38a1c5BFdF1373"}},l1CrossDomainMessenger:{[Gc]:{address:"0x37A68565c4BE9700b3E3Ec60cC4416cAC3052FAa"}},l2OutputOracle:{[Gc]:{address:"0x9eA2239E65a59EC9C7F1ED4C116dD58Da71Fc1e2"}},portal:{[Gc]:{address:"0x60377e3cE15dF4CCA24c4beF076b60314240b032"}},l1StandardBridge:{[Gc]:{address:"0xD4531f633942b2725896F47cD2aFd260b44Ab1F7"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0,sourceId:Gc}),Xj=h({id:80931,name:"Forta Chain",nativeCurrency:{symbol:"FORT",name:"FORT",decimals:18},rpcUrls:{default:{http:["https://rpc-forta-chain-8gj1qndmfc.t.conduit.xyz"]}},blockExplorers:{default:{name:"Forta Explorer",url:"https://explorer.forta.org"}}}),Jj=h({id:31337,name:"Foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}}),kp=1,Ej=h({...Ae,id:252,name:"Fraxtal",nativeCurrency:{name:"Frax",symbol:"FRAX",decimals:18},rpcUrls:{default:{http:["https://rpc.frax.com"]}},blockExplorers:{default:{name:"fraxscan",url:"https://fraxscan.com",apiUrl:"https://api.fraxscan.com/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[kp]:{address:"0x66CC916Ed5C6C2FA97014f7D1cD141528Ae171e4"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[kp]:{address:"0x36cb65c1967A0Fb0EEE11569C51C2f2aA1Ca6f6D",blockCreated:19135323}},l1StandardBridge:{[kp]:{address:"0x34C0bD5877A5Ee7099D0f5688D65F4bB9158BDE2",blockCreated:19135323}}},sourceId:kp}),Vp=17e3,xj=h({...Ae,id:2522,name:"Fraxtal Testnet",nativeCurrency:{name:"Frax",symbol:"FRAX",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.frax.com"]}},blockExplorers:{default:{name:"fraxscan testnet",url:"https://holesky.fraxscan.com",apiUrl:"https://api-holesky.fraxscan.com/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Vp]:{address:"0x715EA64DA13F4d0831ece4Ad3E8c1aa013167F32"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Vp]:{address:"0xB9c64BfA498d5b9a8398Ed6f46eb76d90dE5505d",blockCreated:318416}},l1StandardBridge:{[Vp]:{address:"0x0BaafC217162f64930909aD9f2B27125121d6332",blockCreated:318416}}},sourceId:Vp}),Nj=1,Hj=h({...Ae,id:33979,name:"Funki",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet.funkichain.com"]}},blockExplorers:{default:{name:"Funki Mainnet Explorer",url:"https://funkiscan.io"}},contracts:{...Ae.contracts},sourceId:Nj}),Yj=11155111,Tj=h({...Ae,id:3397901,network:"funkiSepolia",name:"Funki Sepolia Sandbox",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://funki-testnet.alt.technology"]}},blockExplorers:{default:{name:"Funki Sepolia Sandbox Explorer",url:"https://sepolia-sandbox.funkichain.com/"}},testnet:!0,contracts:{...Ae.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204}},sourceId:Yj}),Fj=h({id:122,name:"Fuse",nativeCurrency:{name:"Fuse",symbol:"FUSE",decimals:18},rpcUrls:{default:{http:["https://rpc.fuse.io"]}},blockExplorers:{default:{name:"Fuse Explorer",url:"https://explorer.fuse.io",apiUrl:"https://explorer.fuse.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:16146628}}}),Kj=h({id:123,name:"Fuse Sparknet",nativeCurrency:{name:"Spark",symbol:"SPARK",decimals:18},rpcUrls:{default:{http:["https://rpc.fusespark.io"]}},blockExplorers:{default:{name:"Sparkent Explorer",url:"https://explorer.fusespark.io",apiUrl:"https://explorer.fusespark.io/api"}}}),Mj=h({id:32659,name:"Fusion Mainnet",nativeCurrency:{name:"Fusion",symbol:"FSN",decimals:18},rpcUrls:{default:{http:["https://mainnet.fusionnetwork.io"],webSocket:["wss://mainnet.fusionnetwork.io"]}},blockExplorers:{default:{name:"FSNscan",url:"https://fsnscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10441605}},testnet:!1}),Uj=h({id:46688,name:"Fusion Testnet",nativeCurrency:{name:"Fusion",symbol:"FSN",decimals:18},rpcUrls:{default:{http:["https://testnet.fusionnetwork.io"],webSocket:["wss://testnet.fusionnetwork.io"]}},blockExplorers:{default:{name:"FSNscan",url:"https://testnet.fsnscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10428309}},testnet:!0}),Wp=17e3,Dj=h({...Ae,name:"Garnet Testnet",testnet:!0,id:17069,sourceId:Wp,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"],webSocket:["wss://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}},contracts:{...Ae.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Wp]:{address:"0x57ee40586fbE286AfC75E67cb69511A6D9aF5909",blockCreated:1274684}},l2OutputOracle:{[Wp]:{address:"0xCb8E7AC561b8EF04F2a15865e9fbc0766FEF569B",blockCreated:1274684}},l1StandardBridge:{[Wp]:{address:"0x09bcDd311FE398F80a78BE37E489f5D440DB95DE",blockCreated:1274684}}}}),zj=h({id:63157,name:"Geist Mainnet",nativeCurrency:{decimals:18,name:"Aavegotchi GHST Token",symbol:"GHST"},rpcUrls:{default:{http:["https://geist-mainnet.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Blockscout",url:"https://geist-mainnet.explorer.alchemy.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:660735}}}),Lj=h({id:16507,name:"Genesys Mainnet",nativeCurrency:{decimals:18,name:"GSYS",symbol:"GSYS"},rpcUrls:{default:{http:["https://rpc.genesys.network"]}},blockExplorers:{default:{name:"Genesys Explorer",url:"https://gchainexplorer.genesys.network"}},testnet:!1}),Qj=h({id:251,name:"Glide L1 Protocol XP",nativeCurrency:{name:"GLXP",symbol:"GLXP",decimals:18},rpcUrls:{default:{http:["https://rpc-api.glideprotocol.xyz/l1-rpc"],webSocket:["wss://rpc-api.glideprotocol.xyz/l1-rpc"]}},blockExplorers:{default:{name:"Glide Protocol Explore",url:"https://blockchain-explorer.glideprotocol.xyz"}},testnet:!1}),Pj=h({id:253,name:"Glide L2 Protocol XP",nativeCurrency:{name:"GLXP",symbol:"GLXP",decimals:18},rpcUrls:{default:{http:["https://rpc-api.glideprotocol.xyz/l2-rpc"],webSocket:["wss://rpc-api.glideprotocol.xyz/l2-rpc"]}},blockExplorers:{default:{name:"Glide Protocol Explore",url:"https://blockchain-explorer.glideprotocol.xyz"}},testnet:!1}),Oj=h({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"xDAI",symbol:"XDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),jj=h({id:10200,name:"Gnosis Chiado",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.chiadochain.net"],webSocket:["wss://rpc.chiadochain.net/wss"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.chiadochain.net",apiUrl:"https://blockscout.chiadochain.net/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4967313}},testnet:!0}),_j=h({id:2345,name:"GOAT",nativeCurrency:{decimals:18,name:"Bitcoin",symbol:"BTC"},rpcUrls:{default:{http:["https://rpc.goat.network"]}},blockExplorers:{default:{name:"Goat Explorer",url:"https://explorer.goat.network"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}}}),qj=h({id:1663,name:"Horizen Gobi Testnet",nativeCurrency:{decimals:18,name:"Test ZEN",symbol:"tZEN"},rpcUrls:{default:{http:["https://gobi-testnet.horizenlabs.io/ethv1"]}},blockExplorers:{default:{name:"Gobi Explorer",url:"https://gobi-explorer.horizen.io"}},contracts:{},testnet:!0}),$j=h({id:60,name:"GoChain",nativeCurrency:{decimals:18,name:"GO",symbol:"GO"},rpcUrls:{default:{http:["https://rpc.gochain.io"]}},blockExplorers:{default:{name:"GoChain Explorer",url:"https://explorer.gochain.io"}},testnet:!1}),e_=h({id:71402,name:"Godwoken Mainnet",nativeCurrency:{decimals:18,name:"pCKB",symbol:"pCKB"},rpcUrls:{default:{http:["https://v1.mainnet.godwoken.io/rpc"]}},blockExplorers:{default:{name:"GW Scan",url:"https://v1.gwscan.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:15034}},testnet:!1}),t_=h({id:5,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://5.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.etherscan.io",apiUrl:"https://api-goerli.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xfc4AC75C46C914aF5892d6d3eFFcebD7917293F1",blockCreated:10339206},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0}),n_=h({id:1625,name:"Gravity Alpha Mainnet",nativeCurrency:{name:"G",symbol:"G",decimals:18},rpcUrls:{default:{http:["https://rpc.gravity.xyz"]}},blockExplorers:{default:{name:"Gravity Explorer",url:"https://explorer.gravity.xyz",apiUrl:"https://explorer.gravity.xyz/api"}},contracts:{multicall3:{address:"0xf8ac4BEB2F75d2cFFb588c63251347fdD629B92c",blockCreated:16851}}}),a_=h({id:43419,name:"Gunz Mainnet",nativeCurrency:{name:"GUN",symbol:"GUN",decimals:18},rpcUrls:{default:{http:["https://rpc.gunzchain.io/ext/bc/2M47TxWHGnhNtq6pM5zPXdATBtuqubxn5EPFgFmEawCQr9WFML/rpc"]}},blockExplorers:{default:{name:"Gunz Explorer",url:"https://gunzscan.io/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:70502}}}),s_=h({id:260,name:"Guru Network Mainnet",nativeCurrency:{name:"GURU Token",symbol:"GURU",decimals:18},rpcUrls:{default:{http:["https://rpc-main.gurunetwork.ai","https://rpc.gurunetwork.ai/archive/260"]}},blockExplorers:{default:{name:"Guruscan",url:"https://scan.gurunetwork.ai"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:271691}},testnet:!1}),i_=h({id:261,name:"Guru Network Testnet",nativeCurrency:{name:"tGURU Token",symbol:"tGURU",decimals:18},rpcUrls:{default:{http:["https://rpc-test.gurunetwork.ai","https://rpc.gurunetwork.ai/archive/261"]}},blockExplorers:{default:{name:"Guruscan",url:"https://sepolia.gurunetwork.ai"}},testnet:!0}),r_=h({id:5112,name:"Ham",nativeCurrency:{decimals:18,name:"Ham",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.ham.fun"],webSocket:["wss://rpc.ham.fun"]}},blockExplorers:{default:{name:"Ham Chain Explorer",url:"https://explorer.ham.fun",apiUrl:"https://explorer.ham.fun/api/v2"}}}),o_=h({id:216,name:"Happychain Testnet",nativeCurrency:{symbol:"HAPPY",name:"HAPPY",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.happy.tech/http"],webSocket:["wss://rpc.testnet.happy.tech/ws"]}},blockExplorers:{default:{name:"Happy Chain Testnet Explorer",url:"https://explorer.testnet.happy.tech"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1}},testnet:!0}),l_=h({id:11235,name:"HAQQ Mainnet",nativeCurrency:{decimals:18,name:"Islamic Coin",symbol:"ISLM"},rpcUrls:{default:{http:["https://rpc.eth.haqq.network"]}},blockExplorers:{default:{name:"HAQQ Explorer",url:"https://explorer.haqq.network",apiUrl:"https://explorer.haqq.network/api"}}}),c_=h({id:54211,name:"HAQQ Testedge 2",nativeCurrency:{decimals:18,name:"Islamic Coin",symbol:"ISLMT"},rpcUrls:{default:{http:["https://rpc.eth.testedge2.haqq.network"]}},blockExplorers:{default:{name:"HAQQ Explorer",url:"https://explorer.testedge2.haqq.network",apiUrl:"https://explorer.testedge2.haqq.network/api"}}}),g_=h({id:31337,name:"Hardhat",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}}),d_=h({id:16666e5,name:"Harmony One",nativeCurrency:{name:"Harmony",symbol:"ONE",decimals:18},rpcUrls:{default:{http:["https://1666600000.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Harmony Explorer",url:"https://explorer.harmony.one"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:24185753}}}),I_=h({id:177,name:"HashKey Chain",nativeCurrency:{decimals:18,name:"HashKey EcoPoints",symbol:"HSK"},rpcUrls:{default:{http:["https://mainnet.hsk.xyz"]}},blockExplorers:{default:{name:"HashKey Chain Explorer",url:"https://hashkey.blockscout.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0}}}),u_=h({id:133,name:"HashKey Chain Testnet",nativeCurrency:{decimals:18,name:"HashKey EcoPoints",symbol:"HSK"},rpcUrls:{default:{http:["https://hashkeychain-testnet.alt.technology"]}},blockExplorers:{default:{name:"HashKey Chain Explorer",url:"https://hashkeychain-testnet-explorer.alt.technology"}},testnet:!0}),C_=h({id:1523903251,name:"Haust Network Testnet",nativeCurrency:{decimals:18,name:"HAUST",symbol:"HAUST"},rpcUrls:{default:{http:["https://rpc-testnet.haust.app"]}},blockExplorers:{default:{name:"Haust Network Testnet Explorer",url:"https://explorer-testnet.haust.app"}},testnet:!0}),p_=h({id:295,name:"Hedera Mainnet",network:"hedera-mainnet",nativeCurrency:{symbol:"HBAR",name:"HBAR",decimals:18},rpcUrls:{default:{http:["https://mainnet.hashio.io/api"]}},blockExplorers:{default:{name:"Hashscan",url:"https://hashscan.io/mainnet"}},testnet:!1}),m_=h({id:297,name:"Hedera Previewnet",network:"hedera-previewnet",nativeCurrency:{symbol:"HBAR",name:"HBAR",decimals:18},rpcUrls:{default:{http:["https://previewnet.hashio.io/api"]}},blockExplorers:{default:{name:"Hashscan",url:"https://hashscan.io/previewnet"}},testnet:!0}),A_=h({id:296,name:"Hedera Testnet",network:"hedera-testnet",nativeCurrency:{symbol:"HBAR",name:"HBAR",decimals:18},rpcUrls:{default:{http:["https://testnet.hashio.io/api"]}},blockExplorers:{default:{name:"Hashscan",url:"https://hashscan.io/testnet"}},testnet:!0}),y_=h({id:8668,name:"Hela Mainnet",nativeCurrency:{name:"HLUSD",symbol:"HLUSD",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.helachain.com"]}},blockExplorers:{default:{name:"Hela explorer",url:"https://mainnet-blockexplorer.helachain.com"}},testnet:!1}),b_=h({id:43111,name:"Hemi",network:"Hemi",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.hemi.network/rpc"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.hemi.xyz"}},testnet:!1}),h_=h({id:743111,name:"Hemi Sepolia",network:"Hemi Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.rpc.hemi.network/rpc"]}},blockExplorers:{default:{name:"Hemi Sepolia explorer",url:"https://testnet.explorer.hemi.xyz"}},testnet:!0}),f_=h({id:17e3,name:"Holesky",nativeCurrency:{name:"Holesky Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://holesky.etherscan.io",apiUrl:"https://api-holesky.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:77},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",blockCreated:801613},ensUniversalResolver:{address:"0xa6AC935D4971E3CD133b950aE053bECD16fE7f3b",blockCreated:973484}},testnet:!0}),Z_=h({id:560048,name:"Hoodi",nativeCurrency:{name:"Hoodi Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.hoodi.ethpandaops.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://hoodi.etherscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2589}},testnet:!0}),G_=h({id:269,name:"High Performance Blockchain",nativeCurrency:{name:"HPB",symbol:"HPB",decimals:18},rpcUrls:{default:{http:["https://hpbnode.com"]}},blockExplorers:{default:{name:"hpbScan",url:"https://hscan.org"}},testnet:!1}),B_=42161,S_=h({id:12323,name:"Huddle01 dRTC Chain",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://huddle01.calderachain.xyz/http"],webSocket:["wss://huddle01.calderachain.xyz/ws"]}},blockExplorers:{default:{name:"Huddle01 Caldera Explorer",url:"https://huddle01.calderaexplorer.xyz",apiUrl:"https://huddle01.calderaexplorer.xyz/api"}},sourceId:B_}),w_=421614,k_=h({id:2524852,name:"Huddle01 dRTC Chain Testnet",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://huddle-testnet.rpc.caldera.xyz/http"],webSocket:["wss://huddle-testnet.rpc.caldera.xyz/ws"]}},blockExplorers:{default:{name:"Huddle01 Caldera Explorer",url:"https://huddle-testnet.explorer.caldera.xyz",apiUrl:"https://huddle-testnet.explorer.caldera.xyz/api"}},sourceId:w_}),V_=h({id:5234,name:"Humanode",nativeCurrency:{name:"HMND",symbol:"HMND",decimals:18},rpcUrls:{default:{http:["https://explorer-rpc-http.mainnet.stages.humanode.io"],webSocket:["wss://explorer-rpc-ws.mainnet.stages.humanode.io"]}},blockExplorers:{default:{name:"Subscan",url:"https://humanode.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4413097}}}),W_=h({id:14853,name:"Humanode Testnet 5",nativeCurrency:{name:"HMND",symbol:"HMND",decimals:18},rpcUrls:{default:{http:["https://explorer-rpc-http.testnet5.stages.humanode.io"],webSocket:["wss://explorer-rpc-ws.testnet5.stages.humanode.io"]}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"}}}),R_=h({id:2911,name:"HYCHAIN",nativeCurrency:{name:"HYTOPIA",symbol:"TOPIA",decimals:18},rpcUrls:{default:{http:["https://rpc.hychain.com/http"]}},blockExplorers:{default:{name:"HYCHAIN Explorer",url:"https://explorer.hychain.com"}},testnet:!1}),v_=h({id:29112,name:"HYCHAIN Testnet",nativeCurrency:{name:"HYTOPIA",symbol:"TOPIA",decimals:18},rpcUrls:{default:{http:["https://rpc.hychain.com/http"]}},blockExplorers:{default:{name:"HYCHAIN Explorer",url:"https://testnet-rpc.hychain.com/http"}},testnet:!0}),X_=h({id:74,name:"IDChain Mainnet",nativeCurrency:{decimals:18,name:"EIDI",symbol:"EIDI"},rpcUrls:{default:{http:["https://idchain.one/rpc"],webSocket:["wss://idchain.one/ws"]}},blockExplorers:{default:{name:"IDChain Explorer",url:"https://explorer.idchain.one"}},testnet:!1}),J_=h({id:13371,name:"Immutable zkEVM",nativeCurrency:{decimals:18,name:"Immutable Coin",symbol:"IMX"},rpcUrls:{default:{http:["https://rpc.immutable.com"]}},blockExplorers:{default:{name:"Immutable Explorer",url:"https://explorer.immutable.com",apiUrl:"https://explorer.immutable.com/api"}},contracts:{multicall3:{address:"0x236bdA4589e44e6850f5aC6a74BfCa398a86c6c0",blockCreated:4335972}}}),E_=h({id:13473,name:"Immutable zkEVM Testnet",nativeCurrency:{decimals:18,name:"Immutable Coin",symbol:"IMX"},rpcUrls:{default:{http:["https://rpc.testnet.immutable.com"]}},blockExplorers:{default:{name:"Immutable Testnet Explorer",url:"https://explorer.testnet.immutable.com/"}},contracts:{multicall3:{address:"0x2CC787Ed364600B0222361C4188308Fa8E68bA60",blockCreated:5977391}},testnet:!0}),x_=h({id:2525,name:"inEVM Mainnet",nativeCurrency:{decimals:18,name:"Injective",symbol:"INJ"},rpcUrls:{default:{http:["https://mainnet.rpc.inevm.com/http"]}},blockExplorers:{default:{name:"inEVM Explorer",url:"https://inevm.calderaexplorer.xyz",apiUrl:"https://inevm.calderaexplorer.xyz/api/v2"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:118606}}}),N_=h({id:7233,name:"InitVerse Mainnet",nativeCurrency:{decimals:18,name:"InitVerse",symbol:"INI"},rpcUrls:{default:{http:["https://rpc-mainnet.inichain.com"]}},blockExplorers:{default:{name:"InitVerseScan",url:"https://www.iniscan.com",apiUrl:"https://explorer-api.inichain.com/api"}},contracts:{multicall3:{address:"0x83466BE48A067115FFF91f7b892Ed1726d032e47",blockCreated:2318}}}),H_=h({id:7234,name:"InitVerse Genesis Testnet",nativeCurrency:{decimals:18,name:"InitVerse",symbol:"INI"},rpcUrls:{default:{http:["https://rpc-testnet.inichain.com"]}},blockExplorers:{default:{name:"InitVerseGenesisScan",url:"https://genesis-testnet.iniscan.com",apiUrl:"https://explorer-testnet-api.inichain.com/api"}},contracts:{multicall3:{address:"0x0cF32CBDd6c437331EA4f85ed2d881A5379B5a6F",blockCreated:16361}},testnet:!0}),Rp=1,Y_=h({...Ae,id:57073,name:"Ink",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-gel.inkonchain.com","https://rpc-qnd.inkonchain.com"],webSocket:["wss://rpc-gel.inkonchain.com","wss://rpc-qnd.inkonchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.inkonchain.com",apiUrl:"https://explorer.inkonchain.com/api/v2"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},...Ae.contracts,disputeGameFactory:{[Rp]:{address:"0x10d7b35078d3baabb96dd45a9143b94be65b12cd"}},portal:{[Rp]:{address:"0x5d66c1782664115999c47c9fa5cd031f495d3e4f"}},l1StandardBridge:{[Rp]:{address:"0x88ff1e5b602916615391f55854588efcbb7663f0"}}},testnet:!1,sourceId:Rp}),vp=11155111,T_=h({...Ae,id:763373,name:"Ink Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-gel-sepolia.inkonchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer-sepolia.inkonchain.com/",apiUrl:"https://explorer-sepolia.inkonchain.com/api/v2"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},disputeGameFactory:{[vp]:{address:"0x860e626c700af381133d9f4af31412a2d1db3d5d"}},portal:{[vp]:{address:"0x5c1d29c6c9c8b0800692acc95d700bcb4966a1d7"}},l1StandardBridge:{[vp]:{address:"0x33f60714bbd74d62b66d79213c348614de51901c"}}},testnet:!0,sourceId:vp}),F_=h({id:8822,name:"IOTA EVM",network:"iotaevm",nativeCurrency:{decimals:18,name:"IOTA",symbol:"IOTA"},rpcUrls:{default:{http:["https://json-rpc.evm.iotaledger.net"],webSocket:["wss://ws.json-rpc.evm.iotaledger.net"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.evm.iota.org",apiUrl:"https://explorer.evm.iota.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:25022}}}),K_=h({id:1075,name:"IOTA EVM Testnet",network:"iotaevm-testnet",nativeCurrency:{decimals:18,name:"IOTA",symbol:"IOTA"},rpcUrls:{default:{http:["https://json-rpc.evm.testnet.iotaledger.net"],webSocket:["wss://ws.json-rpc.evm.testnet.iotaledger.net"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.evm.testnet.iotaledger.net",apiUrl:"https://explorer.evm.testnet.iotaledger.net/api"}},testnet:!0}),M_=h({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),U_=h({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),D_=h({id:8017,name:"iSunCoin Mainnet",nativeCurrency:{decimals:18,name:"ISC",symbol:"ISC"},rpcUrls:{default:{http:["https://mainnet.isuncoin.com"]}},blockExplorers:{default:{name:"iSunCoin Explorer",url:"https://baifa.io/app/chains/8017"}}}),z_=h({id:8899,name:"JB Chain",network:"jbc",nativeCurrency:{name:"JBC",symbol:"JBC",decimals:18},rpcUrls:{default:{http:["https://rpc-l1.jibchain.net"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp-l1.jibchain.net",apiUrl:"https://exp-l1.jibchain.net/api"}},contracts:{multicall3:{address:"0xc0C8C486D1466C57Efe13C2bf000d4c56F47CBdC",blockCreated:2299048}},testnet:!1}),L_=h({id:88991,name:"Jibchain Testnet",nativeCurrency:{name:"tJBC",symbol:"tJBC",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.jibchain.net"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp.testnet.jibchain.net",apiUrl:"https://exp.testnet.jibchain.net/api"}},contracts:{multicall3:{address:"0xa1a858ad9041B4741e620355a3F96B3c78e70ecE",blockCreated:32848}},testnet:!0}),Q_=h({id:45003,name:"Juneo JUNE-Chain",nativeCurrency:{decimals:18,name:"JUNE-Chain",symbol:"JUNE"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/JUNE/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/2",apiUrl:"https://juneoscan.io/chain/2/api"}}}),P_=h({id:45013,name:"Juneo BCH1-Chain",nativeCurrency:{decimals:18,name:"Juneo BCH1-Chain",symbol:"BCH1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/BCH1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/12",apiUrl:"https://juneoscan.io/chain/12/api"}}}),O_=h({id:45004,name:"Juneo DAI1-Chain",nativeCurrency:{decimals:18,name:"Juneo DAI1-Chain",symbol:"DAI1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/DAI1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/5",apiUrl:"https://juneoscan.io/chain/5/api"}}}),j_=h({id:45010,name:"Juneo DOGE1-Chain",nativeCurrency:{decimals:18,name:"Juneo DOGE1-Chain",symbol:"DOGE1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/DOGE1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/10",apiUrl:"https://juneoscan.io/chain/10/api"}}}),__=h({id:45011,name:"Juneo EUR1-Chain",nativeCurrency:{decimals:18,name:"Juneo EUR1-Chain",symbol:"EUR1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/EUR1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/6",apiUrl:"https://juneoscan.io/chain/6/api"}}}),q_=h({id:45008,name:"Juneo GLD1-Chain",nativeCurrency:{decimals:18,name:"Juneo GLD1-Chain",symbol:"GLD1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/GLD1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/8",apiUrl:"https://juneoscan.io/chain/8/api"}}}),$_=h({id:45014,name:"Juneo LINK1-Chain",nativeCurrency:{decimals:18,name:"Juneo LINK1-Chain",symbol:"LINK1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/LINK1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/13",apiUrl:"https://juneoscan.io/chain/13/api"}}}),eq=h({id:45009,name:"Juneo LTC1-Chain",nativeCurrency:{decimals:18,name:"Juneo LTC1-Chain",symbol:"LTC1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/LTC1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/11",apiUrl:"https://juneoscan.io/chain/11/api"}}}),tq=h({id:45007,name:"Juneo mBTC1-Chain",nativeCurrency:{decimals:18,name:"Juneo mBTC1-Chain",symbol:"mBTC1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/mBTC1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/9",apiUrl:"https://juneoscan.io/chain/9/api"}}}),nq=h({id:45012,name:"Juneo SGD1-Chain",nativeCurrency:{decimals:18,name:"Juneo SGD1-Chain",symbol:"SGD1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/SGD1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/7",apiUrl:"https://juneoscan.io/chain/7/api"}}}),aq=h({id:101003,name:"Socotra JUNE-Chain",nativeCurrency:{decimals:18,name:"Socotra JUNE-Chain",symbol:"JUNE"},rpcUrls:{default:{http:["https://rpc.socotra-testnet.network/ext/bc/JUNE/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://socotra.juneoscan.io/chain/2",apiUrl:"https://socotra.juneoscan.io/chain/2/api"}},testnet:!0}),sq=h({id:45006,name:"Juneo USD1-Chain",nativeCurrency:{decimals:18,name:"Juneo USD1-Chain",symbol:"USD1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/USD1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/4",apiUrl:"https://juneoscan.io/chain/4/api"}}}),iq=h({id:45005,name:"Juneo USDT1-Chain",nativeCurrency:{decimals:18,name:"Juneo USDT1-Chain",symbol:"USDT1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/USDT1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/3",apiUrl:"https://juneoscan.io/chain/3/api"}}}),rq=h({id:686,name:"Karura",network:"karura",nativeCurrency:{name:"Karura",symbol:"KAR",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-karura.aca-api.network"],webSocket:["wss://eth-rpc-karura.aca-api.network"]}},blockExplorers:{default:{name:"Karura Blockscout",url:"https://blockscout.karura.network",apiUrl:"https://blockscout.karura.network/api"}},testnet:!1}),oq=h({id:1802203764,name:"Kakarot Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rpc.kakarot.org"]}},blockExplorers:{default:{name:"Kakarot Scan",url:"https://sepolia.kakarotscan.org"}},testnet:!0}),lq=h({id:920637907288165,name:"Kakarot Starknet Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rpc.kakarot.org"]}},blockExplorers:{default:{name:"Kakarot Scan",url:"https://sepolia.kakarotscan.org"}},testnet:!0}),cq=h({id:24,name:"KardiaChain Mainnet",nativeCurrency:{name:"KAI",symbol:"KAI",decimals:18},rpcUrls:{default:{http:["https://rpc.kardiachain.io"]}},blockExplorers:{default:{name:"KardiaChain Explorer",url:"https://explorer.kardiachain.io"}},testnet:!1}),gq=h({id:2222,name:"Kava EVM",network:"kava-mainnet",nativeCurrency:{name:"Kava",symbol:"KAVA",decimals:18},rpcUrls:{default:{http:["https://evm.kava.io"]}},blockExplorers:{default:{name:"Kava EVM Explorer",url:"https://kavascan.com",apiUrl:"https://kavascan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3661165}},testnet:!1}),dq=h({id:2221,name:"Kava EVM Testnet",network:"kava-testnet",nativeCurrency:{name:"Kava",symbol:"KAVA",decimals:18},rpcUrls:{default:{http:["https://evm.testnet.kava.io"]}},blockExplorers:{default:{name:"Kava EVM Testnet Explorer",url:"https://testnet.kavascan.com/",apiUrl:"https://testnet.kavascan.com/api"}},contracts:{multicall3:{address:"0xDf1D724A7166261eEB015418fe8c7679BBEa7fd6",blockCreated:7242179}},testnet:!0}),Iq=h({id:321,name:"KCC Mainnet",network:"KCC Mainnet",nativeCurrency:{decimals:18,name:"KCS",symbol:"KCS"},rpcUrls:{default:{http:["https://kcc-rpc.com"]}},blockExplorers:{default:{name:"KCC Explorer",url:"https://explorer.kcc.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11760430}},testnet:!1}),uq=h({id:7887,name:"Kinto Mainnet",network:"Kinto Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.kinto.xyz/http"]}},blockExplorers:{default:{name:"Kinto Explorer",url:"https://explorer.kinto.xyz"}},testnet:!1}),Cq=h({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),pq=h({id:8217,name:"Kaia",nativeCurrency:{decimals:18,name:"Kaia",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kaiascan.io",apiUrl:"https://api-cypress.klaytnscope.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),mq=h({id:1001,name:"Kairos Testnet",network:"kairos",nativeCurrency:{decimals:18,name:"Kairos KAIA",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en-kairos.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kairos.kaiascan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:123390593}},testnet:!0}),Aq=h({id:1001,name:"Klaytn Baobab Testnet",network:"klaytn-baobab",nativeCurrency:{decimals:18,name:"Baobab Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-baobab.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://baobab.klaytnscope.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:123390593}},testnet:!0}),yq=h({id:701,name:"Koi Network",nativeCurrency:{decimals:18,name:"Koi Network Native Token",symbol:"KRING"},rpcUrls:{default:{http:["https://koi-rpc.darwinia.network"],webSocket:["wss://koi-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://koi-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:180001}},testnet:!0}),bq=h({id:255,name:"Kroma",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://api.kroma.network"]}},blockExplorers:{default:{name:"Kroma Explorer",url:"https://blockscout.kroma.network",apiUrl:"https://blockscout.kroma.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:16054868}},testnet:!1}),hq=h({id:2358,name:"Kroma Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://api.sepolia.kroma.network"]}},blockExplorers:{default:{name:"Kroma Sepolia Explorer",url:"https://blockscout.sepolia.kroma.network",apiUrl:"https://blockscout.sepolia.kroma.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:8900914}},testnet:!0}),fq=h({id:12324,name:"L3X Protocol",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet.l3x.com"],webSocket:["wss://rpc-mainnet.l3x.com"]}},blockExplorers:{default:{name:"L3X Mainnet Explorer",url:"https://explorer.l3x.com",apiUrl:"https://explorer.l3x.com/api/v2"}},testnet:!1}),Zq=h({id:12325,name:"L3X Protocol Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.l3x.com"],webSocket:["wss://rpc-testnet.l3x.com"]}},blockExplorers:{default:{name:"L3X Testnet Explorer",url:"https://explorer-testnet.l3x.com",apiUrl:"https://explorer-testnet.l3x.com/api/v2"}},testnet:!0}),Gq=h({id:360890,name:"LAVITA Mainnet",nativeCurrency:{name:"vTFUEL",symbol:"vTFUEL",decimals:18},rpcUrls:{default:{http:["https://tsub360890-eth-rpc.thetatoken.org/rpc"]}},blockExplorers:{default:{name:"LAVITA Explorer",url:"https://tsub360890-explorer.thetatoken.org"}},testnet:!1}),Bq=h({id:232,name:"Lens",nativeCurrency:{name:"GHO",symbol:"GHO",decimals:18},rpcUrls:{default:{http:["https://rpc.lens.xyz"]}},blockExplorers:{default:{name:"Lens Block Explorer",url:"https://explorer.lens.xyz",apiUrl:"https://explorer.lens.xyz/api"}}}),Sq=h({id:37111,name:"Lens Testnet",nativeCurrency:{name:"GRASS",symbol:"GRASS",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.lens.dev"],webSocket:["wss://rpc.testnet.lens.dev/ws"]}},blockExplorers:{default:{name:"Lens Block Explorer",url:"https://block-explorer.testnet.lens.dev",apiUrl:"https://block-explorer-api.staging.lens.dev/api"}},testnet:!0}),wq=h({id:21363,name:"Lestnet",nativeCurrency:{name:"Lestnet Ether",symbol:"LETH",decimals:18},rpcUrls:{default:{http:["https://service.lestnet.org"]}},blockExplorers:{default:{name:"Lestnet Explorer",url:"https://explore.lestnet.org"}},testnet:!0}),kq=h({id:1891,name:"LightLink Pegasus Testnet",network:"lightlink-pegasus",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://replicator.pegasus.lightlink.io/rpc/v1"]}},blockExplorers:{default:{name:"LightLink Pegasus Explorer",url:"https://pegasus.lightlink.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:127188532}},testnet:!0}),Vq=h({id:1890,name:"LightLink Phoenix Mainnet",network:"lightlink-phoenix",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://replicator.phoenix.lightlink.io/rpc/v1"]}},blockExplorers:{default:{name:"LightLink Phoenix Explorer",url:"https://phoenix.lightlink.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:125499184}},testnet:!1});async function Wq(t,e){var s,r,l;const{account:n=t.account}=e;if(!n)throw new $i;const a=Kt(n);try{const{accessList:c,blockNumber:g,blockTag:u,data:I,gas:p,gasPrice:A,maxFeePerGas:Z,maxPriorityFeePerGas:S,nonce:B,to:V,value:W,...Y}=e,x=(typeof g=="bigint"?Ne(g):void 0)||u;go(e);const M=(l=(r=(s=t.chain)==null?void 0:s.formatters)==null?void 0:r.transactionRequest)==null?void 0:l.format,Q=(M||co)({...Fu(Y,{format:M}),from:a==null?void 0:a.address,accessList:c,data:I,gas:p,gasPrice:A,maxFeePerGas:Z,maxPriorityFeePerGas:S,nonce:B,to:V,value:W}),{baseFeePerGas:z,gasLimit:se,priorityFeePerGas:re}=await t.request({method:"linea_estimateGas",params:x?[Q,x]:[Q]});return{baseFeePerGas:BigInt(z),gasLimit:BigInt(se),priorityFeePerGas:BigInt(re)}}catch(c){throw Vf(c,{...e,account:a,chain:t.chain})}}const jf={fees:{estimateFeesPerGas:aw,async maxPriorityFeePerGas({block:t,client:e,request:n}){const a=await aw({block:t,client:e,multiply:s=>s,request:n,type:"eip1559"});return a!=null&&a.maxPriorityFeePerGas?a.maxPriorityFeePerGas:null}}};async function aw({client:t,multiply:e,request:n,type:a}){try{const s=await Wq(t,{...n,account:n==null?void 0:n.account}),{priorityFeePerGas:r}=s,c=e(BigInt(s.baseFeePerGas))+r;return a==="legacy"?{gasPrice:c}:{maxFeePerGas:c,maxPriorityFeePerGas:r}}catch{return null}}const Rq=h({...jf,id:59144,name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build",apiUrl:"https://api.lineascan.build/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:42},ensRegistry:{address:"0x50130b669B28C339991d8676FA73CF122a121267",blockCreated:6682888},ensUniversalResolver:{address:"0x3aA974fb3f8C1E02796048BDCdeD79e9D53a6965",blockCreated:6683e3}},ensTlds:[".linea.eth"],testnet:!1}),vq=h({id:59140,name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build",apiUrl:"https://api-goerli.lineascan.build/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:498623}},testnet:!0}),Xq=h({...jf,id:59141,name:"Linea Sepolia Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia.linea.build"],webSocket:["wss://rpc.sepolia.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.lineascan.build",apiUrl:"https://api-sepolia.lineascan.build/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:227427},ensRegistry:{address:"0x5B2636F0f2137B4aE722C01dd5122D7d3e9541f7",blockCreated:2395094},ensUniversalResolver:{address:"0x72560a31B3DAEE82B984a7F51c6b3b1bb7CC9F50",blockCreated:2395255}},ensTlds:[".linea.eth"],testnet:!0}),Jq=h({id:59140,name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build",apiUrl:"https://goerli.lineascan.build/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:498623}},testnet:!0}),Xp=1,Eq=h({...Ae,id:1135,name:"Lisk",network:"lisk",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.api.lisk.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.lisk.com",apiUrl:"https://blockscout.lisk.com/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xA9d71E1dd7ca26F26e656E66d6AA81ed7f745bf0"},l2OutputOracle:{[Xp]:{address:"0x113cB99283AF242Da0A0C54347667edF531Aa7d6"}},portal:{[Xp]:{address:"0x26dB93F8b8b4f7016240af62F7730979d353f9A7"}},l1StandardBridge:{[Xp]:{address:"0x2658723Bf70c7667De6B25F99fcce13A16D25d08"}}},sourceId:Xp}),Jp=11155111,xq=h({...Ae,id:4202,network:"lisk-sepolia",name:"Lisk Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia-api.lisk.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-blockscout.lisk.com",apiUrl:"https://sepolia-blockscout.lisk.com/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Jp]:{address:"0xA0E35F56C318DE1bD5D9ca6A94Fe7e37C5663348"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Jp]:{address:"0xe3d90F21490686Ec7eF37BE788E02dfC12787264"}},l1StandardBridge:{[Jp]:{address:"0x1Fb30e446eA791cd1f011675E5F3f5311b70faF5"}}},testnet:!0,sourceId:Jp}),Nq=h({id:1337,name:"Localhost",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}}),Hq=h({id:15551,name:"LoopNetwork Mainnet",nativeCurrency:{name:"LOOP",symbol:"LOOP",decimals:18},rpcUrls:{default:{http:["https://api.mainnetloop.com"]}},blockExplorers:{default:{name:"LoopNetwork Blockchain Explorer",url:"https://explorer.mainnetloop.com/"}},testnet:!1}),Yq=h({id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network",apiUrl:"https://api.explorer.execution.mainnet.lukso.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:468183}}}),Tq=h({id:4201,name:"LUKSO Testnet",nativeCurrency:{decimals:18,name:"LUKSO Testnet",symbol:"LYXt"},rpcUrls:{default:{http:["https://rpc.testnet.lukso.network"],webSocket:["wss://ws-rpc.testnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Testnet Explorer",url:"https://explorer.execution.testnet.lukso.network",apiUrl:"https://api.explorer.execution.testnet.lukso.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:605348}},testnet:!0}),Fq=h({id:994873017,name:"Lumia Mainnet",network:"LumiaMainnet",nativeCurrency:{name:"Lumia",symbol:"LUMIA",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.lumia.org"]}},blockExplorers:{default:{name:"Lumia Explorer",url:"https://explorer.lumia.org/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3975939}},testnet:!1}),Kq=h({id:1952959480,name:"Lumia Testnet",network:"LumiaTestnet",nativeCurrency:{name:"Lumia",symbol:"LUMIA",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.lumia.org"]}},blockExplorers:{default:{name:"Lumia Testnet Explorer",url:"https://testnet-explorer.lumia.org/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2235063}},testnet:!0}),Mq=h({id:96370,name:"Lumoz",nativeCurrency:{decimals:18,name:"Lumoz Token",symbol:"MOZ"},rpcUrls:{default:{http:["https://rpc.lumoz.org"]}},blockExplorers:{default:{name:"Lumoz Scan",url:"https://scan.lumoz.info"}},testnet:!1}),Uq=h({id:105363,name:"Lumoz Testnet",nativeCurrency:{decimals:18,name:"Lumoz Testnet Token",symbol:"MOZ"},rpcUrls:{default:{http:["https://testnet-rpc.lumoz.org"]}},testnet:!0}),Dq=h({id:721,name:"Lycan",nativeCurrency:{decimals:18,name:"Lycan",symbol:"LYC"},rpcUrls:{default:{http:["https://rpc.lycanchain.com","https://us-east.lycanchain.com","https://us-west.lycanchain.com","https://eu-north.lycanchain.com","https://eu-west.lycanchain.com","https://asia-southeast.lycanchain.com"],webSocket:["wss://rpc.lycanchain.com","wss://us-east.lycanchain.com","wss://us-west.lycanchain.com","wss://eu-north.lycanchain.com","wss://eu-west.lycanchain.com","wss://asia-southeast.lycanchain.com"]}},blockExplorers:{default:{name:"Lycan Explorer",url:"https://explorer.lycanchain.com"}}}),zq=h({id:957,name:"Lyra Chain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.lyra.finance"]}},blockExplorers:{default:{name:"Lyra Explorer",url:"https://explorer.lyra.finance",apiUrl:"https://explorer.lyra.finance/api/v2"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1935198}}}),Lq=h({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Qq=h({id:595,name:"Mandala TC9",network:"mandala",nativeCurrency:{name:"Mandala",symbol:"mACA",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-tc9.aca-staging.network"],webSocket:["wss://eth-rpc-tc9.aca-staging.network"]}},blockExplorers:{default:{name:"Mandala Blockscout",url:"https://blockscout.mandala.aca-staging.network",apiUrl:"https://blockscout.mandala.aca-staging.network/api"}},testnet:!0}),Pq=h({id:169,name:"Manta Pacific Mainnet",network:"manta",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://pacific-rpc.manta.network/http"]}},blockExplorers:{default:{name:"Manta Explorer",url:"https://pacific-explorer.manta.network",apiUrl:"https://pacific-explorer.manta.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:332890}}}),Oq=h({id:3441006,name:"Manta Pacific Sepolia Testnet",network:"manta-sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://pacific-rpc.sepolia-testnet.manta.network/http"]}},blockExplorers:{default:{name:"Manta Sepolia Testnet Explorer",url:"https://pacific-explorer.sepolia-testnet.manta.network",apiUrl:"https://pacific-explorer.sepolia-testnet.manta.network/api"}},contracts:{multicall3:{address:"0xca54918f7B525C8df894668846506767412b53E3",blockCreated:479584}},testnet:!0}),jq=h({id:3441005,name:"Manta Pacific Testnet",network:"manta-testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://manta-testnet.calderachain.xyz/http"]}},blockExplorers:{default:{name:"Manta Testnet Explorer",url:"https://pacific-explorer.testnet.manta.network",apiUrl:"https://pacific-explorer.testnet.manta.network/api"}},contracts:{multicall3:{address:"0x211B1643b95Fe76f11eD8880EE810ABD9A4cf56C",blockCreated:419915}},testnet:!0}),_q=h({id:5e3,name:"Mantle",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Explorer",url:"https://mantlescan.xyz/",apiUrl:"https://api.mantlescan.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:304717}}}),qq=h({id:5003,name:"Mantle Sepolia Testnet",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.sepolia.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Testnet Explorer",url:"https://explorer.sepolia.mantle.xyz/",apiUrl:"https://explorer.sepolia.mantle.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4584012}},testnet:!0}),$q=h({id:5001,name:"Mantle Testnet",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.testnet.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Testnet Explorer",url:"https://explorer.testnet.mantle.xyz",apiUrl:"https://explorer.testnet.mantle.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:561333}},testnet:!0}),e$=h({id:22776,name:"MAP Protocol",nativeCurrency:{decimals:18,name:"MAPO",symbol:"MAPO"},rpcUrls:{default:{http:["https://rpc.maplabs.io"]}},blockExplorers:{default:{name:"MAPO Scan",url:"https://maposcan.io"}},testnet:!1}),t$=h({id:698,name:"Matchain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://rpc.matchain.io"]}},blockExplorers:{default:{name:"Matchain Scan",url:"https://matchscan.io"}}}),n$=h({id:699,name:"Matchain Testnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.matchain.io"]}},blockExplorers:{default:{name:"Matchain Scan",url:"https://testnet.matchscan.io"}},testnet:!0}),a$=h({id:29548,name:"MCH Verse",nativeCurrency:{name:"Oasys",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.oasys.mycryptoheroes.net"]}},blockExplorers:{default:{name:"MCH Verse Explorer",url:"https://explorer.oasys.mycryptoheroes.net",apiUrl:"https://explorer.oasys.mycryptoheroes.net/api"}},testnet:!1}),s$=h({id:6342,name:"MegaETH Testnet",nativeCurrency:{name:"MegaETH Testnet Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://carrot.megaeth.com/rpc"],webSocket:["wss://carrot.megaeth.com/ws"]}},blockExplorers:{default:{name:"MegaETH Testnet Explorer",url:"https://www.megaexplorer.xyz/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),i$=h({id:7078815900,name:"Mekong Pectra Devnet",nativeCurrency:{name:"eth",symbol:"eth",decimals:18},rpcUrls:{default:{http:["https://rpc.mekong.ethpandaops.io"]}},blockExplorers:{default:{name:"Block Explorer",url:"https://explorer.mekong.ethpandaops.io"}},testnet:!0}),r$=h({id:333000333,name:"Meld",nativeCurrency:{decimals:18,name:"Meld",symbol:"MELD"},rpcUrls:{default:{http:["https://rpc-1.meld.com"]}},blockExplorers:{default:{name:"MELDscan",url:"https://meldscan.io"}},contracts:{multicall3:{address:"0x769ee5a8e82c15c1b6e358f62ac8eb6e3abe8dc5",blockCreated:360069}}}),o$=h({id:4352,name:"MemeCore",nativeCurrency:{decimals:18,name:"M",symbol:"M"},rpcUrls:{default:{http:["https://rpc.memecore.net"],webSocket:["wss://ws.memecore.net"]}},blockExplorers:{default:{name:"MemeCore Explorer",url:"https://memecorescan.io",apiUrl:"https://api.memecorescan.io/api"},okx:{name:"MemeCore Explorer",url:"https://web3.okx.com/explorer/memecore"},memecore:{name:"MemeCore Explorer",url:"https://blockscout.memecore.com",apiUrl:"https://blockscout.memecore.com/api"}}}),l$=h({id:4200,name:"Merlin",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.merlinchain.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://scan.merlinchain.io",apiUrl:"https://scan.merlinchain.io/api"}}}),c$=h({id:4203,name:"Merlin Erigon Testnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://testnet-erigon-rpc.merlinchain.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://testnet-erigon-scan.merlinchain.io",apiUrl:"https://testnet-erigon-scan.merlinchain.io/api"}},testnet:!0}),g$=h({id:571,name:"MetaChain Mainnet",nativeCurrency:{name:"Metatime Coin",symbol:"MTC",decimals:18},rpcUrls:{default:{http:["https://rpc.metatime.com"]}},blockExplorers:{default:{name:"MetaExplorer",url:"https://explorer.metatime.com"}},contracts:{multicall3:{address:"0x0000000000000000000000000000000000003001",blockCreated:0}}}),d$=h({id:1453,name:"MetaChain Istanbul",nativeCurrency:{name:"Metatime Coin",symbol:"MTC",decimals:18},rpcUrls:{default:{http:["https://istanbul-rpc.metachain.dev"]}},blockExplorers:{default:{name:"MetaExplorer",url:"https://istanbul-explorer.metachain.dev"}},contracts:{multicall3:{address:"0x0000000000000000000000000000000000003001",blockCreated:0}},testnet:!0}),I$=h({id:11,name:"Metadium Network",nativeCurrency:{decimals:18,name:"META",symbol:"META"},rpcUrls:{default:{http:["https://api.metadium.com/prod"]}},blockExplorers:{default:{name:"Metadium Explorer",url:"https://explorer.metadium.com"}},testnet:!1}),Ep=1,u$=h({...Ae,id:1750,name:"Metal L2",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.metall2.com"],webSocket:["wss://rpc.metall2.com"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.metall2.com",apiUrl:"https://explorer.metall2.com/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Ep]:{address:"0x3B1F7aDa0Fcc26B13515af752Dd07fB1CAc11426"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},portal:{[Ep]:{address:"0x3F37aBdE2C6b5B2ed6F8045787Df1ED1E3753956"}},l1StandardBridge:{[Ep]:{address:"0x6d0f65D59b55B0FEC5d2d15365154DcADC140BF3"}}},sourceId:Ep}),C$=h({id:82,name:"Meter",nativeCurrency:{decimals:18,name:"MTR",symbol:"MTR"},rpcUrls:{default:{http:["https://rpc.meter.io"]}},blockExplorers:{default:{name:"MeterScan",url:"https://scan.meter.io"}}}),p$=h({id:83,name:"Meter Testnet",nativeCurrency:{decimals:18,name:"MTR",symbol:"MTR"},rpcUrls:{default:{http:["https://rpctest.meter.io"]}},blockExplorers:{default:{name:"MeterTestnetScan",url:"https://scan-warringstakes.meter.io"}}}),m$=h({id:1088,name:"Metis",nativeCurrency:{decimals:18,name:"Metis",symbol:"METIS"},rpcUrls:{default:{http:["https://metis.rpc.hypersync.xyz","https://metis-pokt.nodies.app","https://api.blockeden.xyz/metis/67nCBdZQSH9z3YqDDjdm","https://metis-andromeda.rpc.thirdweb.com","https://metis-andromeda.gateway.tenderly.co","https://metis.api.onfinality.io/public","https://andromeda.metis.io/?owner=1088","https://metis-mainnet.public.blastapi.io"],webSocket:["wss://metis-rpc.publicnode.com","wss://metis.drpc.org"]}},blockExplorers:{default:{name:"Metis Explorer",url:"https://explorer.metis.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/1088/etherscan/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2338552}}}),A$=h({id:59902,name:"Metis Sepolia",nativeCurrency:{decimals:18,name:"Test Metis",symbol:"tMETIS"},rpcUrls:{default:{http:["https://sepolia.metisdevops.link","https://metis-sepolia-rpc.publicnode.com","https://metis-sepolia.gateway.tenderly.co"],webSocket:["wss://metis-sepolia-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Metis Sepolia Explorer",url:"https://sepolia-explorer.metisdevops.link",apiUrl:"https://sepolia-explorer.metisdevops.link/api-docs"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:224185}}}),y$=h({id:599,name:"Metis Goerli",nativeCurrency:{decimals:18,name:"Metis Goerli",symbol:"METIS"},rpcUrls:{default:{http:["https://goerli.gateway.metisdevops.link"]}},blockExplorers:{default:{name:"Metis Goerli Explorer",url:"https://goerli.explorer.metisdevops.link",apiUrl:"https://goerli.explorer.metisdevops.link/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1006207}}}),b$=h({id:7518,name:"MEVerse Chain Mainnet",nativeCurrency:{decimals:18,name:"MEVerse",symbol:"MEV"},rpcUrls:{default:{http:["https://rpc.meversemainnet.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://www.meversescan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:86881340}}}),h$=h({id:4759,name:"MEVerse Chain Testnet",nativeCurrency:{decimals:18,name:"MEVerse",symbol:"MEV"},rpcUrls:{default:{http:["https://rpc.meversetestnet.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.meversescan.io/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:64371115}},testnet:!0}),f$=h({id:185,name:"Mint Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.mintchain.io"]}},blockExplorers:{default:{name:"Mintchain explorer",url:"https://explorer.mintchain.io"}},testnet:!1}),Z$=h({id:1686,name:"Mint Sepolia Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.mintchain.io"]}},blockExplorers:{default:{name:"Mintchain Testnet explorer",url:"https://testnet-explorer.mintchain.io"}},testnet:!0}),G$=h({id:124832,name:"Mitosis Testnet",nativeCurrency:{name:"MITO",symbol:"MITO",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.mitosis.org"]}},blockExplorers:{default:{name:"Mitosis testnet explorer",url:"https://testnet.mitosiscan.xyz"}},testnet:!0}),xp=1,B$=h({...Ae,id:34443,name:"Mode Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.mode.network"]}},blockExplorers:{default:{name:"Modescan",url:"https://modescan.io"}},contracts:{...Ae.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2465882},l2OutputOracle:{[xp]:{address:"0x4317ba146D4933D889518a3e5E11Fe7a53199b04"}},portal:{[xp]:{address:"0x8B34b14c7c7123459Cf3076b8Cb929BE097d0C07"}},l1StandardBridge:{[xp]:{address:"0x735aDBbE72226BD52e818E7181953f42E3b0FF21"}}},sourceId:xp}),Np=11155111,S$=h({...Ae,id:919,name:"Mode Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.mode.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia.explorer.mode.network",apiUrl:"https://sepolia.explorer.mode.network/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Np]:{address:"0x2634BD65ba27AB63811c74A63118ACb312701Bfa",blockCreated:3778393}},portal:{[Np]:{address:"0x320e1580effF37E008F1C92700d1eBa47c1B23fD",blockCreated:3778395}},l1StandardBridge:{[Np]:{address:"0xbC5C679879B2965296756CD959C3C739769995E2",blockCreated:3778392}},multicall3:{address:"0xBAba8373113Fb7a68f195deF18732e01aF8eDfCF",blockCreated:3019007}},testnet:!0,sourceId:Np}),w$=h({id:10143,name:"Monad Testnet",nativeCurrency:{name:"Testnet MON Token",symbol:"MON",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.monad.xyz"]}},blockExplorers:{default:{name:"Monad Testnet explorer",url:"https://testnet.monadexplorer.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:251449}},testnet:!0}),k$=h({id:1287,name:"Moonbase Alpha",nativeCurrency:{decimals:18,name:"DEV",symbol:"DEV"},rpcUrls:{default:{http:["https://rpc.api.moonbase.moonbeam.network"],webSocket:["wss://wss.api.moonbase.moonbeam.network"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonbase.moonscan.io",apiUrl:"https://moonbase.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1850686}},testnet:!0}),V$=h({id:1284,name:"Moonbeam",nativeCurrency:{decimals:18,name:"GLMR",symbol:"GLMR"},rpcUrls:{default:{http:["https://moonbeam.public.blastapi.io"],webSocket:["wss://moonbeam.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonscan.io",apiUrl:"https://api-moonbeam.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:609002}},testnet:!1}),W$=h({id:1281,name:"Moonbeam Development Node",nativeCurrency:{decimals:18,name:"DEV",symbol:"DEV"},rpcUrls:{default:{http:["http://127.0.0.1:9944"],webSocket:["wss://127.0.0.1:9944"]}}}),R$=h({id:1285,name:"Moonriver",nativeCurrency:{decimals:18,name:"MOVR",symbol:"MOVR"},rpcUrls:{default:{http:["https://moonriver.public.blastapi.io"],webSocket:["wss://moonriver.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonriver.moonscan.io",apiUrl:"https://api-moonriver.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1597904}},testnet:!1}),v$=h({id:2818,name:"Morph",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.morphl2.io"],webSocket:["wss://rpc.morphl2.io:8443"]}},blockExplorers:{default:{name:"Morph Explorer",url:"https://explorer.morphl2.io"}},testnet:!1}),X$=h({id:2810,name:"Morph Holesky",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-quicknode-holesky.morphl2.io"],webSocket:["wss://rpc-quicknode-holesky.morphl2.io"]}},blockExplorers:{default:{name:"Morph Holesky Explorer",url:"https://explorer-holesky.morphl2.io",apiUrl:"https://explorer-api-holesky.morphl2.io/api?"}},testnet:!0}),J$=h({id:2710,name:"Morph Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.morphl2.io"]}},blockExplorers:{default:{name:"Morph Testnet Explorer",url:"https://explorer-testnet.morphl2.io",apiUrl:"https://explorer-api-testnet.morphl2.io/api"}},testnet:!0}),E$=h({id:5551,name:"Nahmii 2 Mainnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://l2.nahmii.io"]}},blockExplorers:{default:{name:"Nahmii 2 Explorer",url:"https://explorer.n2.nahmii.io"}},testnet:!1}),x$=h({id:22222,name:"Nautilus Mainnet",nativeCurrency:{name:"ZBC",symbol:"ZBC",decimals:9},rpcUrls:{default:{http:["https://api.nautilus.nautchain.xyz"]}},blockExplorers:{default:{name:"NautScan",url:"https://nautscan.com"}}}),N$=h({id:397,name:"NEAR Protocol",nativeCurrency:{decimals:18,name:"NEAR",symbol:"NEAR"},rpcUrls:{default:{http:["https://eth-rpc.mainnet.near.org"]}},blockExplorers:{default:{name:"NEAR Explorer",url:"https://eth-explorer.near.org"}},testnet:!1}),H$=h({id:398,name:"NEAR Protocol Testnet",nativeCurrency:{decimals:18,name:"NEAR",symbol:"NEAR"},rpcUrls:{default:{http:["https://eth-rpc.testnet.near.org"]}},blockExplorers:{default:{name:"NEAR Explorer",url:"https://eth-explorer-testnet.near.org"}},testnet:!0}),Y$=h({id:245022926,name:"Neon EVM DevNet",nativeCurrency:{name:"NEON",symbol:"NEON",decimals:18},rpcUrls:{default:{http:["https://devnet.neonevm.org"]}},blockExplorers:{default:{name:"Neonscan",url:"https://devnet.neonscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:205206112}},testnet:!0}),T$=h({id:245022934,network:"neonMainnet",name:"Neon EVM MainNet",nativeCurrency:{name:"NEON",symbol:"NEON",decimals:18},rpcUrls:{default:{http:["https://neon-proxy-mainnet.solana.p2p.org"]}},blockExplorers:{default:{name:"Neonscan",url:"https://neonscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:206545524}},testnet:!1}),F$=h({id:47763,name:"Neo X Mainnet",nativeCurrency:{name:"Gas",symbol:"GAS",decimals:18},rpcUrls:{default:{http:["https://mainnet-1.rpc.banelabs.org","https://mainnet-2.rpc.banelabs.org"]}},blockExplorers:{default:{name:"Neo X - Explorer",url:"https://xexplorer.neo.org"}},testnet:!1}),K$=h({id:12227332,name:"Neo X Testnet T4",nativeCurrency:{name:"Gas",symbol:"GAS",decimals:18},rpcUrls:{default:{http:["https://testnet.rpc.banelabs.org/"]}},blockExplorers:{default:{name:"neox-scan",url:"https://xt4scan.ngd.network"}},testnet:!0}),M$=h({id:1012,name:"Newton",nativeCurrency:{name:"Newton",symbol:"NEW",decimals:18},rpcUrls:{default:{http:["https://global.rpc.mainnet.newtonproject.org"]}},blockExplorers:{default:{name:"NewFi explorer",url:"https://explorer.newtonproject.org/"}},testnet:!1}),U$=h({id:4242,name:"Nexi",nativeCurrency:{name:"Nexi",symbol:"NEXI",decimals:18},rpcUrls:{default:{http:["https://rpc.chain.nexi.technology"]}},blockExplorers:{default:{name:"NexiScan",url:"https://www.nexiscan.com",apiUrl:"https://www.nexiscan.com/api"}},contracts:{multicall3:{address:"0x0277A46Cc69A57eE3A6C8c158bA874832F718B8E",blockCreated:25770160}}}),D$=h({id:240,name:"Nexilix Smart Chain",nativeCurrency:{decimals:18,name:"Nexilix",symbol:"NEXILIX"},rpcUrls:{default:{http:["https://rpcurl.pos.nexilix.com"]}},blockExplorers:{default:{name:"NexilixScan",url:"https://scan.nexilix.com"}},contracts:{multicall3:{address:"0x58381c8e2BF9d0C2C4259cA14BdA9Afe02831244",blockCreated:74448}}}),z$=h({id:6900,name:"Nibiru",nativeCurrency:{decimals:18,name:"NIBI",symbol:"NIBI"},rpcUrls:{default:{http:["https://evm-rpc.nibiru.fi"]}},blockExplorers:{default:{name:"NibiScan",url:"https://nibiscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:19587573}}}),L$=h({id:4090,network:"oasis-testnet",name:"Oasis Testnet",nativeCurrency:{name:"Fasttoken",symbol:"FTN",decimals:18},rpcUrls:{default:{http:["https://rpc1.oasis.bahamutchain.com"]}},blockExplorers:{default:{name:"Ftnscan",url:"https://oasis.ftnscan.com",apiUrl:"https://oasis.ftnscan.com/api"}},testnet:!0}),Q$=h({id:248,name:"Oasys",nativeCurrency:{name:"Oasys",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.oasys.games"]}},blockExplorers:{default:{name:"OasysScan",url:"https://scan.oasys.games",apiUrl:"https://scan.oasys.games/api"}}}),P$=h({id:911867,name:"Odyssey Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://odyssey.ithaca.xyz"]}},blockExplorers:{default:{name:"Odyssey Explorer",url:"https://odyssey-explorer.ithaca.xyz",apiUrl:"https://odyssey-explorer.ithaca.xyz/api"}},testnet:!0}),O$=h({id:66,name:"OKC",nativeCurrency:{decimals:18,name:"OKT",symbol:"OKT"},rpcUrls:{default:{http:["https://exchainrpc.okex.org"]}},blockExplorers:{default:{name:"oklink",url:"https://www.oklink.com/okc"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10364792}}}),j$=h({id:311,name:"Omax Mainnet",nativeCurrency:{decimals:18,name:"OMAX",symbol:"OMAX"},rpcUrls:{default:{http:["https://mainapi.omaxray.com"]}},blockExplorers:{default:{name:"Omax Explorer",url:"https://omaxscan.com"}},testnet:!1}),_$=h({id:166,name:"Omni",nativeCurrency:{name:"Omni",symbol:"OMNI",decimals:18},rpcUrls:{default:{http:["https://mainnet.omni.network"],webSocket:["wss://mainnet.omni.network"]}},blockExplorers:{default:{name:"OmniScan",url:"https://omniscan.network"}},testnet:!1}),q$=h({id:164,name:"Omni Omega",nativeCurrency:{name:"Omni",symbol:"OMNI",decimals:18},rpcUrls:{default:{http:["https://omega.omni.network"],webSocket:["wss://omega.omni.network"]}},blockExplorers:{default:{name:"Omega OmniScan",url:"https://omega.omniscan.network/"}},testnet:!0}),$$=h({id:309075,name:"One World Chain Mainnet",nativeCurrency:{decimals:18,name:"OWCT",symbol:"OWCT"},rpcUrls:{default:{http:["https://mainnet-rpc.oneworldchain.org"]}},blockExplorers:{default:{name:"One World Explorer",url:"https://mainnet.oneworldchain.org"}},testnet:!1}),eee=h({id:9700,name:"OORT MainnetDev",nativeCurrency:{decimals:18,name:"OORT",symbol:"OORT"},rpcUrls:{default:{http:["https://dev-rpc.oortech.com"]}},blockExplorers:{default:{name:"OORT MainnetDev Explorer",url:"https://dev-scan.oortech.com"}}}),Hp=56,tee=h({id:204,name:"opBNB",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://opbnb-mainnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opBNB (BSCScan)",url:"https://opbnb.bscscan.com",apiUrl:"https://api-opbnb.bscscan.com/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:512881},l2OutputOracle:{[Hp]:{address:"0x153CAB79f4767E2ff862C94aa49573294B13D169"}},portal:{[Hp]:{address:"0x1876EA7702C0ad0C6A2ae6036DE7733edfBca519"}},l1StandardBridge:{[Hp]:{address:"0xF05F0e4362859c3331Cb9395CBC201E3Fa6757Ea"}}},sourceId:Hp}),Yp=97,nee=h({id:5611,name:"opBNB Testnet",nativeCurrency:{decimals:18,name:"tBNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://opbnb-testnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opbnbscan",url:"https://testnet.opbnbscan.com"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3705108},l2OutputOracle:{[Yp]:{address:"0xFf2394Bb843012562f4349C6632a0EcB92fC8810"}},portal:{[Yp]:{address:"0x4386C8ABf2009aC0c263462Da568DD9d46e52a31"}},l1StandardBridge:{[Yp]:{address:"0x677311Fd2cCc511Bbc0f581E8d9a07B033D5E840"}}},testnet:!0,sourceId:Yp}),eI=1,aee=h({...Ae,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...Ae.contracts,disputeGameFactory:{[eI]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[eI]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[eI]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[eI]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:eI}),Tp=5,see=h({...Ae,id:420,name:"Optimism Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli.optimism.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io",apiUrl:"https://goerli-optimism.etherscan.io/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Tp]:{address:"0xE6Dfba0953616Bacab0c9A8ecb3a9BBa77FC15c0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461},portal:{[Tp]:{address:"0x5b47E1A08Ea6d985D6649300584e6722Ec4B1383"}},l1StandardBridge:{[Tp]:{address:"0x636Af16bf2f682dD3109e60102b8E1A089FedAa8"}}},testnet:!0,sourceId:Tp}),tI=11155111,iee=h({...Ae,id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...Ae.contracts,disputeGameFactory:{[tI]:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{[tI]:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{[tI]:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{[tI]:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:tI}),ree=h({id:62050,name:"Optopia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet.optopia.ai"]}},blockExplorers:{default:{name:"Optopia Explorer",url:"https://scan.optopia.ai"}},testnet:!1}),oee=h({id:62049,name:"Optopia Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.optopia.ai"]}},blockExplorers:{default:{name:"Optopia Explorer",url:"https://scan-testnet.optopia.ai"}},testnet:!0}),lee=h({id:291,name:"Orderly",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.orderly.network"]}},blockExplorers:{default:{name:"Orderly Explorer",url:"https://explorer.orderly.network"}},testnet:!1}),cee=h({id:4460,name:"Orderly Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://l2-orderly-l2-4460-sepolia-8tc3sd7dvy.t.conduit.xyz"]}},blockExplorers:{default:{name:"Orderly Explorer",url:"https://explorerl2new-orderly-l2-4460-sepolia-8tc3sd7dvy.t.conduit.xyz"}},testnet:!0}),gee=h({id:41144114,name:"Otim Devnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["http://devnet.otim.xyz"]}},contracts:{batchInvoker:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3"}}}),dee=h({id:11297108109,name:"Palm",nativeCurrency:{decimals:18,name:"PALM",symbol:"PALM"},rpcUrls:{default:{http:["https://palm-mainnet.public.blastapi.io"],webSocket:["wss://palm-mainnet.public.blastapi.io"]}},blockExplorers:{default:{name:"Chainlens",url:"https://palm.chainlens.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15429248}}}),Iee=h({id:11297108099,name:"Palm Testnet",nativeCurrency:{decimals:18,name:"PALM",symbol:"PALM"},rpcUrls:{default:{http:["https://palm-mainnet.public.blastapi.io"],webSocket:["wss://palm-mainnet.public.blastapi.io"]}},blockExplorers:{default:{name:"Chainlens",url:"https://palm.chainlens.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15429248}},testnet:!0}),uee=h({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://peaq-rpc.publicnode.com","https://peaq.api.onfinality.io/public","https://peaq-rpc.dwellir.com","https://evm.peaq.network"],webSocket:["wss://peaq-rpc.publicnode.com","wss://peaq.api.onfinality.io/public","wss://peaq-rpc.dwellir.com"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),Fp=1,Cee=h({id:424,network:"pgn",name:"PGN",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.publicgoods.network"]}},blockExplorers:{default:{name:"PGN Explorer",url:"https://explorer.publicgoods.network",apiUrl:"https://explorer.publicgoods.network/api"}},contracts:{l2OutputOracle:{[Fp]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3380209},portal:{[Fp]:{address:"0xb26Fd985c5959bBB382BAFdD0b879E149e48116c"}},l1StandardBridge:{[Fp]:{address:"0xD0204B9527C1bA7bD765Fa5CCD9355d38338272b"}}},formatters:Of,sourceId:Fp}),Kp=11155111,pee=h({id:58008,network:"pgn-testnet",name:"PGN ",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.publicgoods.network"]}},blockExplorers:{default:{name:"PGN Testnet Explorer",url:"https://explorer.sepolia.publicgoods.network",apiUrl:"https://explorer.sepolia.publicgoods.network/api"}},contracts:{l2OutputOracle:{[Kp]:{address:"0xD5bAc3152ffC25318F848B3DD5dA6C85171BaEEe"}},portal:{[Kp]:{address:"0xF04BdD5353Bb0EFF6CA60CfcC78594278eBfE179"}},l1StandardBridge:{[Kp]:{address:"0xFaE6abCAF30D23e233AC7faF747F2fC3a5a6Bfa3"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3754925}},formatters:Of,sourceId:Kp,testnet:!0}),mee=h({id:13381,name:"Phoenix Blockchain",nativeCurrency:{name:"Phoenix",symbol:"PHX",decimals:18},rpcUrls:{default:{http:["https://rpc.phoenixplorer.com"]}},blockExplorers:{default:{name:"Phoenixplorer",url:"https://phoenixplorer.com",apiUrl:"https://phoenixplorer.com/api"}},contracts:{multicall3:{address:"0x498cF757a575cFF2c2Ed9f532f56Efa797f86442",blockCreated:5620192}}}),Aee=h({id:7070,name:"Planq Mainnet",nativeCurrency:{decimals:18,name:"PLQ",symbol:"PLQ"},rpcUrls:{default:{http:["https://planq-rpc.nodies.app","https://evm-rpc.planq.network","https://jsonrpc.planq.nodestake.top"]}},blockExplorers:{default:{name:"Planq Explorer",url:"https://evm.planq.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:8470015}},testnet:!1}),yee=h({...Ja,id:1612127,name:"PlayFi Albireo Testnet",network:"albireo",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://albireo-rpc.playfi.ai"],webSocket:["wss://albireo-rpc-ws.playfi.ai/ws"]}},blockExplorers:{default:{name:"PlayFi Albireo Explorer",url:"https://albireo-explorer.playfi.ai"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}},testnet:!0}),bee=h({id:242,name:"Plinga",nativeCurrency:{name:"Plinga",symbol:"PLINGA",decimals:18},rpcUrls:{default:{http:["https://rpcurl.mainnet.plgchain.com"]}},blockExplorers:{default:{name:"Plgscan",url:"https://www.plgscan.com"}},contracts:{multicall3:{address:"0x0989576160f2e7092908BB9479631b901060b6e4",blockCreated:204489}}}),hee=1,fee=h({id:98865,name:"Plume (Legacy)",nativeCurrency:{name:"Plume Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.plumenetwork.xyz"],webSocket:["wss://rpc.plumenetwork.xyz"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.plumenetwork.xyz",apiUrl:"https://explorer.plumenetwork.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:48577}},sourceId:hee}),Zee=11155111,Gee=h({id:98864,name:"Plume Devnet (Legacy)",nativeCurrency:{name:"Plume Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://test-rpc.plumenetwork.xyz"],webSocket:["wss://test-rpc.plumenetwork.xyz"]}},blockExplorers:{default:{name:"Blockscout",url:"https://test-explorer.plumenetwork.xyz",apiUrl:"https://test-explorer.plumenetwork.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:481948}},testnet:!0,sourceId:Zee}),Bee=1,See=h({id:98866,name:"Plume",nativeCurrency:{name:"Plume",symbol:"PLUME",decimals:18},rpcUrls:{default:{http:["https://rpc.plume.org"],webSocket:["wss://rpc.plume.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.plume.org",apiUrl:"https://explorer.plume.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:39679}},sourceId:Bee}),wee=11155111,kee=h({id:98867,name:"Plume Testnet",nativeCurrency:{name:"Plume",symbol:"PLUME",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.plume.org"],webSocket:["wss://testnet-rpc.plume.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer.plume.org",apiUrl:"https://testnet-explorer.plume.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:199712}},testnet:!0,sourceId:wee}),Vee=11155111,Wee=h({id:161221135,name:"Plume Testnet (Legacy)",nativeCurrency:{name:"Plume Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.plumenetwork.xyz/http"],webSocket:["wss://testnet-rpc.plumenetwork.xyz/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer.plumenetwork.xyz",apiUrl:"https://testnet-explorer.plumenetwork.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:6022332}},testnet:!0,sourceId:Vee}),Ree=h({id:631571,name:"Polter Testnet",nativeCurrency:{decimals:18,name:"Polter GHST",symbol:"GHST"},rpcUrls:{default:{http:["https://geist-polter.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Blockscout",url:"https://polter-testnet.explorer.alchemy.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11245}},testnet:!0}),vee=h({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),Xee=h({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api-amoy.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),Jee=h({id:80001,name:"Polygon Mumbai",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://80001.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://mumbai.polygonscan.com",apiUrl:"https://api-testnet.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},testnet:!0}),Eee=h({id:1101,name:"Polygon zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://zkevm-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://zkevm.polygonscan.com",apiUrl:"https://api-zkevm.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:57746}}}),xee=h({id:2442,name:"Polygon zkEVM Cardona",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.cardona.zkevm-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://cardona-zkevm.polygonscan.com",apiUrl:"https://cardona-zkevm.polygonscan.com/api"}},testnet:!0,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:114091}}}),Nee=h({id:1442,name:"Polygon zkEVM Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.public.zkevm-test.net"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://testnet-zkevm.polygonscan.com",apiUrl:"https://testnet-zkevm.polygonscan.com/api"}},testnet:!0,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:525686}}}),Hee=h({id:8008,name:"Polynomial",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.polynomial.fi"]}},blockExplorers:{default:{name:"Polynomial Scan",url:"https://polynomialscan.io"}},testnet:!1,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"}}}),Yee=h({id:80008,name:"Polynomia Sepolia",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.sepolia.polynomial.fi"]}},blockExplorers:{default:{name:"Polynomial Scan",url:"https://sepolia.polynomialscan.io"}},testnet:!0,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"}}}),Tee=h({id:23023,name:"PremiumBlock Testnet",nativeCurrency:{name:"Premium Block",symbol:"PBLK",decimals:18},rpcUrls:{default:{http:["https://rpc.premiumblock.org"]}},blockExplorers:{default:{name:"PremiumBlocks Explorer",url:"https://scan.premiumblock.org"}},testnet:!0}),Fee=h({id:369,name:"PulseChain",nativeCurrency:{name:"Pulse",symbol:"PLS",decimals:18},testnet:!1,rpcUrls:{default:{http:["https://rpc.pulsechain.com"],webSocket:["wss://ws.pulsechain.com"]}},blockExplorers:{default:{name:"PulseScan",url:"https://scan.pulsechain.com",apiUrl:"https://api.scan.pulsechain.com/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Kee=h({id:943,name:"PulseChain V4",testnet:!0,nativeCurrency:{name:"V4 Pulse",symbol:"v4PLS",decimals:18},rpcUrls:{default:{http:["https://rpc.v4.testnet.pulsechain.com"],webSocket:["wss://ws.v4.testnet.pulsechain.com"]}},blockExplorers:{default:{name:"PulseScan",url:"https://scan.v4.testnet.pulsechain.com",apiUrl:"https://scan.v4.testnet.pulsechain.com/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Mee=h({id:490092,name:"Pumpfi Testnet",nativeCurrency:{decimals:18,name:"PMPT",symbol:"PMPT"},rpcUrls:{default:{http:["https://rpc1testnet.pumpfi.me"]}},blockExplorers:{default:{name:"Pumpfi Testnet Scan",url:"https://testnetscan.pumpfi.me"}},testnet:!0}),sw=11155111,Uee=h({...Ae,name:"Pyrope Testnet",testnet:!0,id:695569,sourceId:sw,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.pyropechain.com"],webSocket:["wss://rpc.pyropechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://pyrope.blockscout.com"}},contracts:{...Ae.contracts,l1StandardBridge:{[sw]:{address:"0xC24932c31D9621aE9e792576152B7ef010cFC2F8"}}}}),Dee=h({id:766,name:"QL1",nativeCurrency:{decimals:18,name:"QOM",symbol:"QOM"},rpcUrls:{default:{http:["https://rpc.qom.one"]}},blockExplorers:{default:{name:"Ql1 Explorer",url:"https://scan.qom.one"}},contracts:{multicall3:{address:"0x7A52370716ea730585884F5BDB0f6E60C39b8C64"}},testnet:!1}),zee=h({id:35441,name:"Q Mainnet",nativeCurrency:{decimals:18,name:"Q",symbol:"Q"},rpcUrls:{default:{http:["https://rpc.q.org"]}},blockExplorers:{default:{name:"Q Mainnet Explorer",url:"https://explorer.q.org",apiUrl:"https://explorer.q.org/api"}}}),Lee=h({id:35443,name:"Q Testnet",nativeCurrency:{decimals:18,name:"Q",symbol:"Q"},rpcUrls:{default:{http:["https://rpc.qtestnet.org"]}},blockExplorers:{default:{name:"Q Testnet Explorer",url:"https://explorer.qtestnet.org",apiUrl:"https://explorer.qtestnet.org/api"}},testnet:!0}),Qee=h({id:111188,name:"re.al",nativeCurrency:{name:"reETH",decimals:18,symbol:"reETH"},rpcUrls:{default:{http:["https://rpc.realforreal.gelato.digital"]}},blockExplorers:{default:{name:"re.al Explorer",url:"https://explorer.re.al",apiUrl:"https://explorer.re.al/api/v2"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:695}}}),Pee=h({id:151,name:"Redbelly Network Mainnet",nativeCurrency:{name:"Redbelly Native Coin",symbol:"RBNT",decimals:18},rpcUrls:{default:{http:["https://governors.mainnet.redbelly.network"]}},blockExplorers:{default:{name:"Routescan",url:"https://redbelly.routescan.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/151/etherscan/api"}},testnet:!1}),Oee=h({id:153,name:"Redbelly Network Testnet",nativeCurrency:{name:"Redbelly Native Coin",symbol:"RBNT",decimals:18},rpcUrls:{default:{http:["https://governors.testnet.redbelly.network"]}},blockExplorers:{default:{name:"Routescan",url:"https://redbelly.testnet.routescan.io",apiUrl:"https://api.routescan.io/v2/network/testnet/evm/153_2/etherscan/api"}},testnet:!0}),Mp=1,jee=h({...Ae,name:"Redstone",id:690,sourceId:Mp,nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.redstonechain.com"],webSocket:["wss://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz"}},contracts:{...Ae.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Mp]:{address:"0xC7bCb0e8839a28A1cFadd1CF716de9016CdA51ae",blockCreated:19578329}},l2OutputOracle:{[Mp]:{address:"0xa426A052f657AEEefc298b3B5c35a470e4739d69",blockCreated:19578337}},l1StandardBridge:{[Mp]:{address:"0xc473ca7E02af24c129c2eEf51F2aDf0411c1Df69",blockCreated:19578331}}}}),_ee=h({id:47805,name:"REI Mainnet",nativeCurrency:{decimals:18,name:"REI",symbol:"REI"},rpcUrls:{default:{http:["https://rpc.rei.network"],webSocket:["wss://rpc.rei.network"]}},blockExplorers:{default:{name:"REI Scan",url:"https://scan.rei.network"}},testnet:!1}),qee=h({id:1729,name:"Reya Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.reya.network"],webSocket:["wss://ws.reya.network"]}},blockExplorers:{default:{name:"Reya Network Explorer",url:"https://explorer.reya.network"}},testnet:!1}),$ee=h({id:50341,name:"Reddio Sepolia",nativeCurrency:{name:"Reddio",symbol:"RED",decimals:18},rpcUrls:{default:{http:["https://reddio-dev.reddio.com"]}},blockExplorers:{default:{name:"Reddioscan",url:"https://reddio-devnet.l2scan.co",apiUrl:"https://reddio-devnet.l2scan.co/api"}},testnet:!0}),ete=h({id:11155931,name:"RISE Testnet",nativeCurrency:{name:"RISE Testnet Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.riselabs.xyz"],webSocket:["wss://testnet.riselabs.xyz/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.testnet.riselabs.xyz/",apiUrl:"https://explorer.testnet.riselabs.xyz/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"}},testnet:!0}),tte=h({id:753,name:"Rivalz",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rivalz.calderachain.xyz/http"]}},blockExplorers:{default:{name:"Rivalz Caldera Explorer",url:"https://rivalz.calderaexplorer.xyz"}},testnet:!1}),nte=h({id:570,name:"Rollux Mainnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc.rollux.com"],webSocket:["wss://rpc.rollux.com/wss"]}},blockExplorers:{default:{name:"RolluxExplorer",url:"https://explorer.rollux.com",apiUrl:"https://explorer.rollux.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:119222}}}),ate=h({id:57e3,name:"Rollux Testnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc-tanenbaum.rollux.com/"],webSocket:["wss://rpc-tanenbaum.rollux.com/wss"]}},blockExplorers:{default:{name:"RolluxTestnetExplorer",url:"https://rollux.tanenbaum.io",apiUrl:"https://rollux.tanenbaum.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1813675}}}),ste=h({id:2020,name:"Ronin",nativeCurrency:{name:"RON",symbol:"RON",decimals:18},rpcUrls:{default:{http:["https://api.roninchain.com/rpc"]}},blockExplorers:{default:{name:"Ronin Explorer",url:"https://app.roninchain.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:26023535}}}),ite=h({id:7668,name:"The Root Network",nativeCurrency:{decimals:18,name:"XRP",symbol:"XRP"},rpcUrls:{default:{http:["https://root.rootnet.live/archive"],webSocket:["wss://root.rootnet.live/archive/ws"]}},blockExplorers:{default:{name:"Rootscan",url:"https://rootscan.io"}},contracts:{multicall3:{address:"0xc9C2E2429AeC354916c476B30d729deDdC94988d",blockCreated:9218338}}}),rte=h({id:7672,name:"The Root Network - Porcini",nativeCurrency:{decimals:18,name:"XRP",symbol:"XRP"},rpcUrls:{default:{http:["https://porcini.rootnet.app/archive"],webSocket:["wss://porcini.rootnet.app/archive/ws"]}},blockExplorers:{default:{name:"Rootscan",url:"https://porcini.rootscan.io"}},contracts:{multicall3:{address:"0xc9C2E2429AeC354916c476B30d729deDdC94988d",blockCreated:10555692}},testnet:!0}),ote=h({id:30,name:"Rootstock Mainnet",network:"rootstock",nativeCurrency:{decimals:18,name:"Rootstock Bitcoin",symbol:"RBTC"},rpcUrls:{default:{http:["https://public-node.rsk.co"]}},blockExplorers:{default:{name:"RSK Explorer",url:"https://explorer.rsk.co"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4249540}}}),lte=h({id:31,name:"Rootstock Testnet",network:"rootstock",nativeCurrency:{decimals:18,name:"Rootstock Bitcoin",symbol:"tRBTC"},rpcUrls:{default:{http:["https://public-node.testnet.rsk.co"]}},blockExplorers:{default:{name:"RSK Explorer",url:"https://explorer.testnet.rootstock.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2771150}},testnet:!0}),Up=1,cte=h({...Ae,id:12553,name:"RSS3 VSL Mainnet",nativeCurrency:{name:"RSS3",symbol:"RSS3",decimals:18},rpcUrls:{default:{http:["https://rpc.rss3.io"]}},blockExplorers:{default:{name:"RSS3 VSL Mainnet Scan",url:"https://scan.rss3.io",apiUrl:"https://scan.rss3.io/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Up]:{address:"0xE6f24d2C32B3109B18ed33cF08eFb490b1e09C10"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14193},portal:{[Up]:{address:"0x6A12432491bbbE8d3babf75F759766774C778Db4",blockCreated:19387057}},l1StandardBridge:{[Up]:{address:"0x4cbab69108Aa72151EDa5A3c164eA86845f18438"}}},sourceId:Up}),Dp=11155111,gte=h({...Ae,id:2331,name:"RSS3 VSL Sepolia Testnet",nativeCurrency:{name:"RSS3",symbol:"RSS3",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.rss3.io"]}},blockExplorers:{default:{name:"RSS3 VSL Sepolia Testnet Scan",url:"https://scan.testnet.rss3.io",apiUrl:"https://scan.testnet.rss3.io/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Dp]:{address:"0xDb5c46C3Eaa6Ed6aE8b2379785DF7dd029C0dC81"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:55697},portal:{[Dp]:{address:"0xcBD77E8E1E7F06B25baDe67142cdE82652Da7b57",blockCreated:5345035}},l1StandardBridge:{[Dp]:{address:"0xdDD29bb63B0839FB1cE0eE439Ff027738595D07B"}}},testnet:!0,sourceId:Dp}),dte=h({id:7225878,name:"Saakuru Mainnet",nativeCurrency:{name:"OAS",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.saakuru.network"]}},blockExplorers:{default:{name:"Saakuru Explorer",url:"https://explorer.saakuru.network"}},testnet:!1}),Ite=h({id:5464,name:"Saga",network:"saga",nativeCurrency:{decimals:18,name:"gas",symbol:"GAS"},rpcUrls:{default:{http:["https://sagaevm.jsonrpc.sagarpc.io"]}},blockExplorers:{default:{name:"Saga Explorer",url:"https://sagaevm.sagaexplorer.io"}},contracts:{multicall3:{address:"0x864DDc9B50B9A0dF676d826c9B9EDe9F8913a160",blockCreated:467530}}}),ute=h({id:2021,name:"Saigon Testnet",nativeCurrency:{name:"RON",symbol:"RON",decimals:18},rpcUrls:{default:{http:["https://saigon-testnet.roninchain.com/rpc"]}},blockExplorers:{default:{name:"Saigon Explorer",url:"https://saigon-app.roninchain.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:18736871}},testnet:!0}),Cte=h({id:1996,name:"Sanko",nativeCurrency:{name:"DMT",symbol:"DMT",decimals:18},rpcUrls:{default:{http:["https://mainnet.sanko.xyz"]}},blockExplorers:{default:{name:"Sanko Explorer",url:"https://explorer.sanko.xyz"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:37}},testnet:!1}),pte=h({id:23294,name:"Oasis Sapphire",network:"sapphire",nativeCurrency:{name:"Sapphire Rose",symbol:"ROSE",decimals:18},rpcUrls:{default:{http:["https://sapphire.oasis.io"],webSocket:["wss://sapphire.oasis.io/ws"]}},blockExplorers:{default:{name:"Oasis Explorer",url:"https://explorer.oasis.io/mainnet/sapphire"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:734531}}}),mte=h({id:23295,name:"Oasis Sapphire Testnet",network:"sapphire-testnet",nativeCurrency:{name:"Sapphire Test Rose",symbol:"TEST",decimals:18},rpcUrls:{default:{http:["https://testnet.sapphire.oasis.dev"],webSocket:["wss://testnet.sapphire.oasis.dev/ws"]}},blockExplorers:{default:{name:"Oasis Explorer",url:"https://explorer.oasis.io/testnet/sapphire"}},testnet:!0}),Ate=h({id:3109,name:"SatoshiVM Alpha Mainnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://alpha-rpc-node-http.svmscan.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://svmscan.io",apiUrl:"https://svmscan.io/api"}}}),yte=h({id:3110,name:"SatoshiVM Testnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://test-rpc-node-http.svmscan.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://testnet.svmscan.io",apiUrl:"https://testnet.svmscan.io/api"}},testnet:!0}),bte=h({id:534352,name:"Scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com",apiUrl:"https://api.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1}),hte=h({id:534351,name:"Scroll Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rpc.scroll.io"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://sepolia.scrollscan.com",apiUrl:"https://api-sepolia.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:9473}},testnet:!0}),fte=h({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),Zte=h({id:713715,name:"Sei Devnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-arctic-1.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},testnet:!0}),Gte=h({id:5124,name:"Seismic Devnet",nativeCurrency:{name:"Seismic Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://node-2.seismicdev.net/rpc"]}},blockExplorers:{default:{name:"Seismic Devnet Explorer",url:"https://explorer-2.seismicdev.net"}},testnet:!0}),Bte=h({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},testnet:!0}),Ste=h({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),zp=1,wte=h({...Ae,id:360,name:"Shape",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.shape.network"]}},blockExplorers:{default:{name:"shapescan",url:"https://shapescan.xyz",apiUrl:"https://shapescan.xyz/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[zp]:{address:"0x6Ef8c69CfE4635d866e3E02732068022c06e724D",blockCreated:20369940}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1},portal:{[zp]:{address:"0xEB06fFa16011B5628BaB98E29776361c83741dd3",blockCreated:20369933}},l1StandardBridge:{[zp]:{address:"0x62Edd5f4930Ea92dCa3fB81689bDD9b9d076b57B",blockCreated:20369935}}},sourceId:zp}),kte=11155111,Vte=h({...Ae,id:11011,name:"Shape Sepolia Testnet",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.shape.network"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer-sepolia.shape.network/",apiUrl:"https://explorer-sepolia.shape.network/api/v2"}},contracts:{...Ae.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1}},testnet:!0,sourceId:kte}),Wte=h({id:8118,name:"Shardeum",nativeCurrency:{name:"Shardeum",symbol:"SHM",decimals:18},rpcUrls:{default:{http:["https://api.shardeum.org"]}},blockExplorers:{default:{name:"Shardeum Explorer",url:"https://explorer.shardeum.org"}},testnet:!1}),Rte=h({id:8082,name:"Shardeum Sphinx",nativeCurrency:{name:"SHARDEUM",symbol:"SHM",decimals:18},rpcUrls:{default:{http:["https://sphinx.shardeum.org"]}},blockExplorers:{default:{name:"Shardeum Explorer",url:"https://explorer-sphinx.shardeum.org"}},testnet:!0}),vte=h({id:109,name:"Shibarium",network:"shibarium",nativeCurrency:{name:"Bone",symbol:"BONE",decimals:18},rpcUrls:{default:{http:["https://rpc.shibrpc.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://shibariumscan.io"}},contracts:{multicall3:{address:"0x864Bf681ADD6052395188A89101A1B37d3B4C961",blockCreated:265900}}}),Xte=h({id:157,name:"Puppynet Shibarium",nativeCurrency:{decimals:18,name:"Bone",symbol:"BONE"},rpcUrls:{default:{http:["https://puppynet.shibrpc.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://puppyscan.shib.io",apiUrl:"https://puppyscan.shib.io/api"}},contracts:{multicall3:{address:"0xA4029b74FBA366c926eDFA7Dd10B21C621170a4c",blockCreated:3035769}},testnet:!0}),Jte=h({id:336,name:"Shiden",nativeCurrency:{decimals:18,name:"SDN",symbol:"SDN"},rpcUrls:{default:{http:["https://shiden.public.blastapi.io"],webSocket:["wss://shiden-rpc.dwellir.com"]}},blockExplorers:{default:{name:"Shiden Scan",url:"https://shiden.subscan.io"}},testnet:!1}),Ete=h({id:148,name:"Shimmer",network:"shimmer",nativeCurrency:{decimals:18,name:"Shimmer",symbol:"SMR"},rpcUrls:{default:{http:["https://json-rpc.evm.shimmer.network"]}},blockExplorers:{default:{name:"Shimmer Network Explorer",url:"https://explorer.evm.shimmer.network",apiUrl:"https://explorer.evm.shimmer.network/api"}}}),xte=h({id:1073,name:"Shimmer Testnet",network:"shimmer-testnet",nativeCurrency:{decimals:18,name:"Shimmer",symbol:"SMR"},rpcUrls:{default:{http:["https://json-rpc.evm.testnet.shimmer.network"]}},blockExplorers:{default:{name:"Shimmer Network Explorer",url:"https://explorer.evm.testnet.shimmer.network",apiUrl:"https://explorer.evm.testnet.shimmer.network/api"}},testnet:!0}),Nte=h({id:97453,name:"Sidra Chain",nativeCurrency:{decimals:18,name:"Sidra Digital Asset",symbol:"SDA"},rpcUrls:{default:{http:["https://node.sidrachain.com"]}},blockExplorers:{default:{name:"Sidra Chain Explorer",url:"https://ledger.sidrachain.com"}}}),Hte=h({id:2355,name:"Silicon zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.silicon.network","https://silicon-mainnet.nodeinfra.com"]}},blockExplorers:{default:{name:"SiliconScope",url:"https://scope.silicon.network"}}}),Yte=h({id:1722641160,name:"Silicon Sepolia zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-sepolia.silicon.network","https://silicon-testnet.nodeinfra.com"]}},blockExplorers:{default:{name:"SiliconSepoliaScope",url:"https://scope-sepolia.silicon.network"}},testnet:!0}),Tte=h({id:98,name:"Six Protocol",nativeCurrency:{decimals:18,name:"SIX",symbol:"SIX"},rpcUrls:{default:{http:["https://sixnet-rpc-evm.sixprotocol.net"]}},blockExplorers:{default:{name:"Six Protocol Scan",url:"https://sixscan.io/sixnet"}},testnet:!1}),Fte=h({id:391845894,name:"SKALE | Block Brawlers",nativeCurrency:{name:"BRAWL",symbol:"BRAWL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/frayed-decent-antares"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/frayed-decent-antares"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://frayed-decent-antares.explorer.mainnet.skalenodes.com"}},contracts:{}}),Kte=h({id:1564830818,name:"SKALE Calypso Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/honorable-steel-rasalhague"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/honorable-steel-rasalhague"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://honorable-steel-rasalhague.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3107626}}}),Mte=h({id:974399131,name:"SKALE Calypso Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/giant-half-dual-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/giant-half-dual-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://giant-half-dual-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:103220}},testnet:!0}),Ute=h({id:1026062157,name:"SKALE | CryptoBlades",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/affectionate-immediate-pollux"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/affectionate-immediate-pollux"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://affectionate-immediate-pollux.explorer.mainnet.skalenodes.com"}},contracts:{}}),Dte=h({id:1032942172,name:"SKALE | Crypto Colosseum",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/haunting-devoted-deneb"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/haunting-devoted-deneb"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://haunting-devoted-deneb.explorer.mainnet.skalenodes.com"}},contracts:{}}),zte=h({id:2046399126,name:"SKALE Europa Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/elated-tan-skat"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/elated-tan-skat"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://elated-tan-skat.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3113495}}}),Lte=h({id:1444673419,name:"SKALE Europa Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/juicy-low-small-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/juicy-low-small-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://juicy-low-small-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:110858}},testnet:!0}),Qte=h({id:2139927552,name:"Exorde Network",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/light-vast-diphda"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/light-vast-diphda"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://light-vast-diphda.explorer.mainnet.skalenodes.com"}},contracts:{}}),Pte=h({id:1273227453,name:"SKALE | Human Protocol",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/wan-red-ain"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/wan-red-ain"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://wan-red-ain.explorer.mainnet.skalenodes.com"}},contracts:{}}),Ote=h({id:1482601649,name:"SKALE Nebula Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/green-giddy-denebola"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/green-giddy-denebola"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://green-giddy-denebola.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2372986}}}),jte=h({id:37084624,name:"SKALE Nebula Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/lanky-ill-funny-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/lanky-ill-funny-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://lanky-ill-funny-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:105141}},testnet:!0}),_te=h({id:278611351,name:"SKALE | Razor Network",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/turbulent-unique-scheat"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/turbulent-unique-scheat"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://turbulent-unique-scheat.explorer.mainnet.skalenodes.com"}},contracts:{}}),qte=h({id:1350216234,name:"SKALE Titan Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/parallel-stormy-spica"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/parallel-stormy-spica"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://parallel-stormy-spica.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2076458}}}),$te=h({id:1020352220,name:"SKALE Titan Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/aware-fake-trim-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/aware-fake-trim-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://aware-fake-trim-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:104072}},testnet:!0}),ene=h({id:984123,name:"Forma Sketchpad",network:"sketchpad",nativeCurrency:{symbol:"TIA",name:"TIA",decimals:18},rpcUrls:{default:{http:["https://rpc.sketchpad-1.forma.art"],webSocket:["wss://ws.sketchpad-1.forma.art"]}},blockExplorers:{default:{name:"Sketchpad Explorer",url:"https://explorer.sketchpad-1.forma.art"}},testnet:!0}),nI=1,tne=h({...Ae,id:2192,network:"snaxchain-mainnet",name:"SnaxChain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.snaxchain.io"]}},blockExplorers:{default:{name:"Snax Explorer",url:"https://explorer.snaxchain.io",apiUrl:"https://explorer.snaxchain.io/api"}},contracts:{...Ae.contracts,disputeGameFactory:{[nI]:{address:"0x472562Fcf26D6b2793f8E0b0fB660ba0E5e08A46"}},l2OutputOracle:{[nI]:{address:"0x2172e492Fc807F5d5645D0E3543f139ECF539294"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[nI]:{address:"0x79f446D024d74D0Bb6E699C131c703463c5D65E9"}},l1StandardBridge:{[nI]:{address:"0x6534Bdb6b5c060d3e6aa833433333135eFE8E0aA"}}},sourceId:nI}),aI=11155111,nne=h({...Ae,id:13001,network:"snaxchain-testnet",name:"SnaxChain Testnet",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.snaxchain.io"]}},blockExplorers:{default:{name:"Snax Explorer",url:"https://testnet-explorer.snaxchain.io",apiUrl:"https://testnet-explorer.snaxchain.io/api"}},contracts:{...Ae.contracts,disputeGameFactory:{[aI]:{address:"0x206a75d89d45F146C54020F132FF93bEDD09f55E"}},l2OutputOracle:{[aI]:{address:"0x60e3A368a4cdCEf85ffB964e372726F56A46221e"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[aI]:{address:"0xb5afdd0E8dDF081Ef90e8A3e0c7b5798e66E954E"}},l1StandardBridge:{[aI]:{address:"0xbd37E1a59D4C00C9A46F75018dffd84061bC5f74"}}},testnet:!0,sourceId:aI}),ane=h({id:50312,name:"Somnia Testnet",nativeCurrency:{name:"STT",symbol:"STT",decimals:18},rpcUrls:{default:{http:["https://dream-rpc.somnia.network"]}},blockExplorers:{default:{name:"Somnia Testnet Explorer",url:"https://somnia-testnet.socialscan.io",apiUrl:"https://shannon-explorer.somnia.network/api"}},testnet:!0}),sI=1,sne=h({...Ae,id:1868,name:"Soneium Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.soneium.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://soneium.blockscout.com",apiUrl:"https://soneium.blockscout.com/api"}},contracts:{...Ae.contracts,disputeGameFactory:{[sI]:{address:"0x512a3d2c7a43bd9261d2b8e8c9c70d4bd4d503c0"}},l2OutputOracle:{[sI]:{address:"0x0000000000000000000000000000000000000000"}},portal:{[sI]:{address:"0x88e529a6ccd302c948689cd5156c83d4614fae92",blockCreated:7061266}},l1StandardBridge:{[sI]:{address:"0xeb9bf100225c214efc3e7c651ebbadcf85177607",blockCreated:7061266}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}},sourceId:sI}),iI=11155111,ine=h({...Ae,id:1946,name:"Soneium Minato Testnet",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.minato.soneium.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://soneium-minato.blockscout.com",apiUrl:"https://soneium-minato.blockscout.com/api"}},contracts:{...Ae.contracts,disputeGameFactory:{[iI]:{address:"0xB3Ad2c38E6e0640d7ce6aA952AB3A60E81bf7a01"}},l2OutputOracle:{[iI]:{address:"0x710e5286C746eC38beeB7538d0146f60D27be343"}},portal:{[iI]:{address:"0x65ea1489741A5D72fFdD8e6485B216bBdcC15Af3",blockCreated:6466136}},l1StandardBridge:{[iI]:{address:"0x5f5a404A5edabcDD80DB05E8e54A78c9EBF000C2",blockCreated:6466136}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}},testnet:!0,sourceId:iI}),rne=h({id:146,name:"Sonic",nativeCurrency:{decimals:18,name:"Sonic",symbol:"S"},rpcUrls:{default:{http:["https://rpc.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Explorer",url:"https://sonicscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:60}},testnet:!1}),one=h({id:64165,name:"Sonic Testnet",nativeCurrency:{decimals:18,name:"Sonic",symbol:"S"},rpcUrls:{default:{http:["https://rpc.testnet.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Testnet Explorer",url:"https://testnet.soniclabs.com/"}},testnet:!0}),lne=h({id:57054,name:"Sonic Blaze Testnet",nativeCurrency:{decimals:18,name:"Sonic",symbol:"S"},rpcUrls:{default:{http:["https://rpc.blaze.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Blaze Testnet Explorer",url:"https://testnet.sonicscan.org"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1100}},testnet:!0}),cne=h({id:19,name:"Songbird Canary-Network",nativeCurrency:{decimals:18,name:"Songbird",symbol:"SGB"},rpcUrls:{default:{http:["https://songbird-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Songbird Explorer",url:"https://songbird-explorer.flare.network",apiUrl:"https://songbird-explorer.flare.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13382504}}}),gne=h({id:16,name:"Songbird Testnet Coston",nativeCurrency:{decimals:18,name:"Coston Flare",symbol:"CFLR"},rpcUrls:{default:{http:["https://coston-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Coston Explorer",url:"https://coston-explorer.flare.network",apiUrl:"https://coston-explorer.flare.network/api"}},testnet:!0}),dne=h({...Ja,id:50104,name:"Sophon",nativeCurrency:{decimals:18,name:"Sophon",symbol:"SOPH"},rpcUrls:{default:{http:["https://rpc.sophon.xyz"],webSocket:["wss://rpc.sophon.xyz/ws"]}},blockExplorers:{default:{name:"Sophon Block Explorer",url:"https://explorer.sophon.xyz"}},contracts:{multicall3:{address:"0x5f4867441d2416cA88B1b3fd38f21811680CD2C8",blockCreated:116}},testnet:!1}),Ine=h({...Ja,id:531050104,name:"Sophon Testnet",nativeCurrency:{decimals:18,name:"Sophon",symbol:"SOPH"},rpcUrls:{default:{http:["https://rpc.testnet.sophon.xyz"],webSocket:["wss://rpc.testnet.sophon.xyz/ws"]}},blockExplorers:{default:{name:"Sophon Block Explorer",url:"https://explorer.testnet.sophon.xyz"}},contracts:{multicall3:{address:"0x83c04d112adedA2C6D9037bb6ecb42E7f0b108Af",blockCreated:15642}},testnet:!0}),une=h({id:88882,name:"Chiliz Spicy Testnet",network:"chiliz-spicy-Testnet",nativeCurrency:{decimals:18,name:"CHZ",symbol:"CHZ"},rpcUrls:{default:{http:["https://spicy-rpc.chiliz.com","https://chiliz-spicy-rpc.publicnode.com"],webSocket:["wss://spicy-rpc-ws.chiliz.com","wss://chiliz-spicy-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Chiliz Explorer",url:"http://spicy-explorer.chiliz.com",apiUrl:"http://spicy-explorer.chiliz.com/api"}},testnet:!0}),iw=h({...jf,id:1660990954,name:"Status Network Sepolia",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://public.sepolia.rpc.status.network"],webSocket:["wss://public.sepolia.rpc.status.network/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepoliascan.status.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1578364}},testnet:!0}),Cne=h({id:1234,name:"Step Network",nativeCurrency:{name:"FITFI",symbol:"FITFI",decimals:18},rpcUrls:{default:{http:["https://rpc.step.network"]}},blockExplorers:{default:{name:"Step Scan",url:"https://stepscan.io"}},testnet:!1}),pne=h({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.xyz",apiUrl:"https://storyscan.xyz/api/v2"}},ensTlds:[".ip"],testnet:!1}),mne=h({id:1315,name:"Story Aeneid",network:"story-aeneid",nativeCurrency:{decimals:18,name:"IP",symbol:"IP"},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1792},ensRegistry:{address:"0x5dC881dDA4e4a8d312be3544AD13118D1a04Cb17",blockCreated:1322033},ensUniversalResolver:{address:"0x6D3B3F99177FB2A5de7F9E928a9BD807bF7b5BAD",blockCreated:1322097}},rpcUrls:{default:{http:["https://aeneid.storyrpc.io"]}},blockExplorers:{default:{name:"Story Aeneid Explorer",url:"https://aeneid.storyscan.xyz",apiUrl:"https://aeneid.storyscan.xyz/api/v2"}},ensTlds:[".ip"],testnet:!0}),Ane=h({id:1516,name:"Story Odyssey",nativeCurrency:{decimals:18,name:"IP",symbol:"IP"},rpcUrls:{default:{http:["https://rpc.odyssey.storyrpc.io"]}},blockExplorers:{default:{name:"Story Odyssey Explorer",url:"https://odyssey.storyscan.xyz"}},testnet:!0}),yne=h({id:1513,name:"Story Testnet",nativeCurrency:{decimals:18,name:"IP",symbol:"IP"},rpcUrls:{default:{http:["https://testnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story Testnet Explorer",url:"https://testnet.storyscan.xyz"}},testnet:!0}),bne=h({id:105105,name:"Stratis Mainnet",network:"stratis",nativeCurrency:{name:"Stratis",symbol:"STRAX",decimals:18},rpcUrls:{default:{http:["https://rpc.stratisevm.com"]}},blockExplorers:{default:{name:"Stratis Explorer",url:"https://explorer.stratisevm.com"}}}),hne=h({id:8866,name:"SuperLumio",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.lumio.io"]}},blockExplorers:{default:{name:"Lumio explorer",url:"https://explorer.lumio.io"}},testnet:!1}),fne=h({id:55244,name:"Superposition",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.superposition.so"]}},blockExplorers:{default:{name:"Superposition Explorer",url:"https://explorer.superposition.so"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:39}},testnet:!1}),rI=1,Zne=h({...Ae,id:5330,name:"Superseed",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.superseed.xyz"]}},blockExplorers:{default:{name:"Superseed Explorer",url:"https://explorer.superseed.xyz",apiUrl:"https://explorer.superseed.xyz/api/v2"}},contracts:{...Ae.contracts,disputeGameFactory:{[rI]:{address:"0x8b097CF1f9BbD9cbFD0DD561858a1FCbC8857Be0",blockCreated:20737481}},l2OutputOracle:{[rI]:{address:"0x693A0F8854F458D282DE3C5b69E8eE5EEE8aA949",blockCreated:20737481}},portal:{[rI]:{address:"0x2c2150aa5c75A24fB93d4fD2F2a895D618054f07",blockCreated:20737481}},l1StandardBridge:{[rI]:{address:"0x8b0576E39F1233679109F9b40cFcC2a7E0901Ede",blockCreated:20737481}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},sourceId:rI}),Pb=11155111,Gne=h({...Ae,id:53302,name:"Superseed Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.superseed.xyz"]}},blockExplorers:{default:{name:"Superseed Sepolia Explorer",url:"https://sepolia-explorer.superseed.xyz",apiUrl:"https://sepolia-explorer.superseed.xyz/api/v2"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"},portal:{[Pb]:{address:"0x7A0db8C51432d2C3eb4e8f360a2EeB26FF2809fB",blockCreated:5523438}},l1StandardBridge:{[Pb]:{address:"0x2B227A603fAAdB3De0ED050b63ADD232B5f2c28C",blockCreated:5523442}}},testnet:!0,sourceId:Pb}),Bne=h({id:254,name:"Swan Chain Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.swanchain.org"]}},blockExplorers:{default:{name:"Swan Explorer",url:"https://swanscan.io"}},testnet:!1}),Sne=h({id:20241133,name:"Swan Proxima Testnet",nativeCurrency:{name:"Swan Ether",symbol:"sETH",decimals:18},rpcUrls:{default:{http:["https://rpc-proxima.swanchain.io	"]}},blockExplorers:{default:{name:"Swan Explorer",url:"https://proxima-explorer.swanchain.io"}},testnet:!0}),wne=h({id:2024,name:"Swan Saturn Testnet",nativeCurrency:{name:"Swan Ether",symbol:"sETH",decimals:18},rpcUrls:{default:{http:["https://saturn-rpc.swanchain.io"]}},blockExplorers:{default:{name:"Swan Explorer",url:"https://saturn-explorer.swanchain.io"}},testnet:!0}),kne=h({...Ae,id:1923,name:"Swellchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://swell-mainnet.alt.technology"]}},blockExplorers:{default:{name:"Swell Explorer",url:"https://explorer.swellnetwork.io",apiUrl:"https://explorer.swellnetwork.io/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}}}),Vne=h({...Ae,id:1924,name:"Swellchain Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://swell-testnet.alt.technology"]}},blockExplorers:{default:{name:"Swellchain Testnet Explorer",url:"https://swell-testnet-explorer.alt.technology",apiUrl:"https://swell-testnet-explorer.alt.technology/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}}}),Wne=h({id:94,name:"SwissDLT Mainnet",nativeCurrency:{decimals:18,name:"BCTS",symbol:"BCTS"},rpcUrls:{default:{http:["https://rpc.swissdlt.ch"]}},blockExplorers:{default:{name:"SwissDLT Explorer",url:"https://explorer.swissdlt.ch"}},testnet:!1}),Rne=h({id:57,name:"Syscoin Mainnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc.syscoin.org"],webSocket:["wss://rpc.syscoin.org/wss"]}},blockExplorers:{default:{name:"SyscoinExplorer",url:"https://explorer.syscoin.org",apiUrl:"https://explorer.syscoin.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:287139}}}),vne=h({id:5700,name:"Syscoin Tanenbaum Testnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc.tanenbaum.io"],webSocket:["wss://rpc.tanenbaum.io/wss"]}},blockExplorers:{default:{name:"SyscoinTestnetExplorer",url:"https://tanenbaum.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:271288}}}),Xne=h({id:167e3,name:"Taiko Mainnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.mainnet.taiko.xyz"],webSocket:["wss://ws.mainnet.taiko.xyz"]}},blockExplorers:{default:{name:"Taikoscan",url:"https://taikoscan.io",apiUrl:"https://api.taikoscan.io/api"}},contracts:{multicall3:{address:"0xcb2436774C3e191c85056d248EF4260ce5f27A9D"}}}),Jne=h({id:167009,name:"Taiko Hekla L2",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.hekla.taiko.xyz"]}},blockExplorers:{default:{name:"Taikoscan",url:"https://hekla.taikoscan.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:59757}},testnet:!0}),Ene=h({id:167007,name:"Taiko Jolnir (Alpha-5 Testnet)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.jolnir.taiko.xyz"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.jolnir.taiko.xyz"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:732706}},testnet:!0}),xne=h({id:167008,name:"Taiko Katla (Alpha-6 Testnet)",network:"tko-katla",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.katla.taiko.xyz"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.katla.taiko.xyz"}}}),Nne=h({id:167005,name:"Taiko (Alpha-3 Testnet)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.test.taiko.xyz"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.test.taiko.xyz"}}}),Hne=h({id:841,name:"Taraxa Mainnet",nativeCurrency:{name:"Tara",symbol:"TARA",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.taraxa.io"]}},blockExplorers:{default:{name:"Taraxa Explorer",url:"https://explorer.mainnet.taraxa.io"}}}),Yne=h({id:842,name:"Taraxa Testnet",nativeCurrency:{name:"Tara",symbol:"TARA",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.taraxa.io"]}},blockExplorers:{default:{name:"Taraxa Explorer",url:"https://explorer.testnet.taraxa.io"}},testnet:!0}),Tne=h({id:2017,name:"Telcoin Adiri Testnet",nativeCurrency:{name:"Telcoin",symbol:"TEL",decimals:18},rpcUrls:{default:{http:["https://rpc.telcoin.network"]}},blockExplorers:{default:{name:"telscan",url:"https://telscan.io"}},testnet:!0}),Fne=h({id:40,name:"Telos",nativeCurrency:{decimals:18,name:"Telos",symbol:"TLOS"},rpcUrls:{default:{http:["https://rpc.telos.net"]}},blockExplorers:{default:{name:"Teloscan",url:"https://www.teloscan.io/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:246530709}}}),Kne=h({id:41,name:"Telos",nativeCurrency:{decimals:18,name:"Telos",symbol:"TLOS"},rpcUrls:{default:{http:["https://rpc.testnet.telos.net"]}},blockExplorers:{default:{name:"Teloscan (testnet)",url:"https://testnet.teloscan.io/"}},testnet:!0}),Mne=h({id:1559,name:"Tenet",network:"tenet-mainnet",nativeCurrency:{name:"TENET",symbol:"TENET",decimals:18},rpcUrls:{default:{http:["https://rpc.tenet.org"]}},blockExplorers:{default:{name:"TenetScan Mainnet",url:"https://tenetscan.io",apiUrl:"https://tenetscan.io/api"}},testnet:!1}),Une=h({id:752025,name:"Ternoa",nativeCurrency:{name:"Capsule Coin",symbol:"CAPS",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet.zkevm.ternoa.network"]}},blockExplorers:{default:{name:"Ternoa Explorer",url:"https://explorer-mainnet.zkevm.ternoa.network"}},testnet:!1}),Dne=h({id:7,name:"ThaiChain",nativeCurrency:{name:"TCH",symbol:"TCH",decimals:18},rpcUrls:{default:{http:["https://rpc.thaichain.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp.thaichain.org",apiUrl:"https://exp.thaichain.org/api"}},contracts:{multicall3:{address:"0x0DaD6130e832c21719C5CE3bae93454E16A84826",blockCreated:4806386}},testnet:!1}),zne=h({id:8428,name:"THAT Mainnet",nativeCurrency:{name:"THAT",symbol:"THAT",decimals:18},rpcUrls:{default:{http:["https://api.thatchain.io/mainnet"]}},blockExplorers:{default:{name:"Blockscout",url:"https://that.blockscout.com"}},testnet:!1}),Lne=h({id:361,name:"Theta Mainnet",nativeCurrency:{name:"TFUEL",symbol:"TFUEL",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-api.thetatoken.org/rpc"]}},blockExplorers:{default:{name:"Theta Explorer",url:"https://explorer.thetatoken.org"}},testnet:!1}),Qne=h({id:365,name:"Theta Testnet",nativeCurrency:{name:"TFUEL",symbol:"TFUEL",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-api-testnet.thetatoken.org/rpc"]}},blockExplorers:{default:{name:"Theta Explorer",url:"https://testnet-explorer.thetatoken.org"}},testnet:!0}),Pne=h({id:108,name:"ThunderCore Mainnet",nativeCurrency:{name:"TT",symbol:"TT",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.thundercore.com"]}},blockExplorers:{default:{name:"ThunderCore Explorer",url:"https://explorer-mainnet.thundercore.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},testnet:!1}),One=h({id:997,name:"5ireChain Thunder Testnet",nativeCurrency:{name:"5ire Token",symbol:"5IRE",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.5ire.network"]}},blockExplorers:{default:{name:"5ireChain Thunder Explorer",url:"https://testnet.5irescan.io/"}},testnet:!0}),jne=h({id:62092,name:"TikTrix Testnet",nativeCurrency:{name:"tTTX",symbol:"tTTX",decimals:18},rpcUrls:{default:{http:["https://tiktrix-rpc.xyz"]}},blockExplorers:{default:{name:"TikTrix Testnet Explorer",url:"https://tiktrix.xyz"}},testnet:!0}),_ne=h({id:6969,name:"Tomb Mainnet",nativeCurrency:{name:"TOMB",symbol:"TOMB",decimals:18},rpcUrls:{default:{http:["https://rpc.tombchain.com"]}},blockExplorers:{default:{name:"Tomb Explorer",url:"https://tombscout.com"}},testnet:!1}),qne=h({...Ja,id:61166,name:"Treasure",nativeCurrency:{decimals:18,name:"MAGIC",symbol:"MAGIC"},rpcUrls:{default:{http:["https://rpc.treasure.lol"],webSocket:["wss://rpc.treasure.lol/ws"]}},blockExplorers:{default:{name:"Treasure Block Explorer",url:"https://treasurescan.io"}},contracts:{multicall3:{address:"0x2e29fe39496a56856D8698bD43e1dF4D0CE6266a",blockCreated:101}},testnet:!1}),$ne=h({...Ja,id:978658,name:"Treasure Topaz Testnet",nativeCurrency:{decimals:18,name:"MAGIC",symbol:"MAGIC"},rpcUrls:{default:{http:["https://rpc.topaz.treasure.lol"],webSocket:["wss://rpc.topaz.treasure.lol/ws"]}},blockExplorers:{default:{name:"Treasure Topaz Block Explorer",url:"https://topaz.treasurescan.io"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:108112}},testnet:!0}),eae=h({id:728126428,name:"Tron",nativeCurrency:{name:"TRON",symbol:"TRX",decimals:6},rpcUrls:{default:{http:["https://api.trongrid.io/jsonrpc"]}},blockExplorers:{default:{name:"Tronscan",url:"https://tronscan.org",apiUrl:"https://apilist.tronscanapi.com/api"}}}),tae=h({id:2494104990,name:"Tron Shasta",nativeCurrency:{name:"TRON",symbol:"TRX",decimals:6},rpcUrls:{default:{http:["https://api.shasta.trongrid.io/jsonrpc"]}},blockExplorers:{default:{name:"Tronscan",url:"https://shasta.tronscan.org"}},testnet:!0}),nae=h({id:8,name:"Ubiq Mainnet",nativeCurrency:{name:"UBQ",symbol:"UBQ",decimals:18},rpcUrls:{default:{http:["https://pyrus2.ubiqscan.io"]}},blockExplorers:{default:{name:"Ubiq Scan",url:"https://ubiqscan.io"}},testnet:!1}),aae=h({id:19991,name:"Ultra EVM",nativeCurrency:{decimals:18,name:"Ultra Token",symbol:"UOS"},rpcUrls:{default:{http:["https://evm.ultra.eosusa.io"]}},blockExplorers:{default:{name:"Ultra EVM Explorer",url:"https://evmexplorer.ultra.io"}}}),sae=h({id:18881,name:"Ultra EVM Testnet",nativeCurrency:{decimals:18,name:"Ultra Token",symbol:"UOS"},rpcUrls:{default:{http:["https://evm.test.ultra.eosusa.io"]}},blockExplorers:{default:{name:"Ultra EVM Testnet Explorer",url:"https://evmexplorer.testnet.ultra.io"}},testnet:!0}),iae=h({id:1231,name:"Ultron Mainnet",nativeCurrency:{name:"ULX",symbol:"ULX",decimals:18},rpcUrls:{default:{http:["https://ultron-rpc.net"]}},blockExplorers:{default:{name:"Ultron Scan",url:"https://ulxscan.com"}},testnet:!1}),rae=h({id:1230,name:"Ultron Testnet",nativeCurrency:{name:"ULX",symbol:"ULX",decimals:18},rpcUrls:{default:{http:["https://ultron-dev.io"]}},blockExplorers:{default:{name:"Ultron Scan",url:"https://explorer.ultron-dev.io"}},testnet:!0}),Lp=1,oae=h({...Ae,id:130,name:"Unichain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.unichain.org/"]}},blockExplorers:{default:{name:"Uniscan",url:"https://uniscan.xyz",apiUrl:"https://api.uniscan.xyz/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[Lp]:{address:"0x2F12d621a16e2d3285929C9996f478508951dFe4"}},portal:{[Lp]:{address:"0x0bd48f6B86a26D3a217d0Fa6FfE2B491B956A7a2"}},l1StandardBridge:{[Lp]:{address:"0x81014F44b0a345033bB2b3B21C7a1A308B35fEeA"}}},sourceId:Lp}),Qp=11155111,lae=h({...Ae,id:1301,name:"Unichain Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.unichain.org"]}},blockExplorers:{default:{name:"Uniscan",url:"https://sepolia.uniscan.xyz",apiUrl:"https://api-sepolia.uniscan.xyz/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},portal:{[Qp]:{address:"0x0d83dab629f0e0F9d36c0Cbc89B69a489f0751bD"}},l1StandardBridge:{[Qp]:{address:"0xea58fcA6849d79EAd1f26608855c2D6407d54Ce2"}},disputeGameFactory:{[Qp]:{address:"0xeff73e5aa3B9AEC32c659Aa3E00444d20a84394b"}}},testnet:!0,sourceId:Qp}),cae=h({id:8880,name:"Unique Mainnet",nativeCurrency:{decimals:18,name:"UNQ",symbol:"UNQ"},rpcUrls:{default:{http:["https://rpc.unique.network"]}},blockExplorers:{default:{name:"Unique Subscan",url:"https://unique.subscan.io/"}}}),gae=h({id:8882,name:"Opal Testnet",nativeCurrency:{decimals:18,name:"OPL",symbol:"OPL"},rpcUrls:{default:{http:["https://rpc-opal.unique.network"]}},blockExplorers:{default:{name:"Opal Subscan",url:"https://opal.subscan.io/"}},testnet:!0}),dae=h({id:8881,name:"Quartz Mainnet",nativeCurrency:{decimals:18,name:"QTZ",symbol:"QTZ"},rpcUrls:{default:{http:["https://rpc-quartz.unique.network"]}},blockExplorers:{default:{name:"Quartz Subscan",url:"https://quartz.subscan.io/"}}}),Iae=h({id:18233,name:"Unreal",nativeCurrency:{name:"reETH",decimals:18,symbol:"reETH"},rpcUrls:{default:{http:["https://rpc.unreal-orbit.gelato.digital"]}},blockExplorers:{default:{name:"Unreal Explorer",url:"https://unreal.blockscout.com",apiUrl:"https://unreal.blockscout.com/api/v2"}},testnet:!0,contracts:{multicall3:{address:"0x8b6B0e60D8CD84898Ea8b981065A12F876eA5677",blockCreated:1745}}}),uae=h({id:2040,name:"Vanar Mainnet",nativeCurrency:{name:"VANRY",symbol:"VANRY",decimals:18},rpcUrls:{default:{http:["https://rpc.vanarchain.com"]}},blockExplorers:{default:{name:"Vanar Mainnet Explorer",url:"https://explorer.vanarchain.com/"}},testnet:!1}),Cae=h({id:100009,name:"Vechain",nativeCurrency:{name:"VeChain",symbol:"VET",decimals:18},rpcUrls:{default:{http:["https://mainnet.vechain.org"]}},blockExplorers:{default:{name:"Vechain Explorer",url:"https://explore.vechain.org"},vechainStats:{name:"Vechain Stats",url:"https://vechainstats.com"}}}),pae=h({id:106,name:"Velas EVM Mainnet",nativeCurrency:{name:"VLX",symbol:"VLX",decimals:18},rpcUrls:{default:{http:["https://evmexplorer.velas.com/rpc"]}},blockExplorers:{default:{name:"Velas Explorer",url:"https://evmexplorer.velas.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:55883577}},testnet:!1}),mae=h({id:88,name:"Viction",nativeCurrency:{name:"Viction",symbol:"VIC",decimals:18},rpcUrls:{default:{http:["https://rpc.viction.xyz"]}},blockExplorers:{default:{name:"VIC Scan",url:"https://vicscan.xyz"}},testnet:!1}),Aae=h({id:89,name:"Viction Testnet",nativeCurrency:{name:"Viction",symbol:"VIC",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.viction.xyz"]}},blockExplorers:{default:{name:"VIC Scan",url:"https://testnet.vicscan.xyz"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:12170179}},testnet:!0}),yae=h({id:888888,name:"Vision",nativeCurrency:{name:"VISION",symbol:"VS",decimals:18},rpcUrls:{default:{http:["https://infragrid.v.network/ethereum/compatible"]}},blockExplorers:{default:{name:"Vision Scan",url:"https://visionscan.org"}},testnet:!1}),bae=h({id:666666,name:"Vision Testnet",nativeCurrency:{name:"VISION",symbol:"VS",decimals:18},rpcUrls:{default:{http:["https://vpioneer.infragrid.v.network/ethereum/compatible"]}},blockExplorers:{default:{name:"Vision Scan",url:"https://visionscan.org/?chain=vpioneer"}},testnet:!0}),hae=h({id:888,name:"Wanchain",nativeCurrency:{name:"WANCHAIN",symbol:"WAN",decimals:18},rpcUrls:{default:{http:["https://gwan-ssl.wandevs.org:56891","https://gwan2-ssl.wandevs.org"]}},blockExplorers:{default:{name:"WanScan",url:"https://wanscan.org"}},contracts:{multicall3:{address:"0xcDF6A1566e78EB4594c86Fe73Fcdc82429e97fbB",blockCreated:25312390}}}),fae=h({id:999,name:"Wanchain Testnet",nativeCurrency:{name:"WANCHAIN",symbol:"WANt",decimals:18},rpcUrls:{default:{http:["https://gwan-ssl.wandevs.org:46891"]}},blockExplorers:{default:{name:"WanScanTest",url:"https://wanscan.org"}},contracts:{multicall3:{address:"0x11c89bF4496c39FB80535Ffb4c92715839CC5324",blockCreated:24743448}},testnet:!0}),Zae=h({id:9496,name:"WeaveVM Alphanet",nativeCurrency:{name:"Testnet WeaveVM",symbol:"tWVM",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.wvm.dev"]}},blockExplorers:{default:{name:"WeaveVM Alphanet Explorer",url:"https://explorer.wvm.dev"}},testnet:!0}),Gae=h({id:1111,name:"WEMIX",network:"wemix-mainnet",nativeCurrency:{name:"WEMIX",symbol:"WEMIX",decimals:18},rpcUrls:{default:{http:["https://api.wemix.com"]}},blockExplorers:{default:{name:"wemixExplorer",url:"https://explorer.wemix.com"}}}),Bae=h({id:1112,name:"WEMIX Testnet",network:"wemix-testnet",nativeCurrency:{name:"WEMIX",symbol:"tWEMIX",decimals:18},rpcUrls:{default:{http:["https://api.test.wemix.com"]}},blockExplorers:{default:{name:"wemixExplorer",url:"https://testnet.wemixscan.com",apiUrl:"https://testnet.wemixscan.com/api"}},testnet:!0}),Sae=h({id:420420421,name:"Westend Asset Hub",nativeCurrency:{decimals:18,name:"Westies",symbol:"WND"},rpcUrls:{default:{http:["https://westend-asset-hub-eth-rpc.polkadot.io"]}},blockExplorers:{default:{name:"subscan",url:"https://westend-asset-hub-eth-explorer.parity.io"}},testnet:!0}),wae=h({testnet:!1,name:"Whitechain",blockExplorers:{default:{name:"Whitechain Explorer",url:"https://explorer.whitechain.io"}},id:1875,rpcUrls:{default:{http:["https://rpc.whitechain.io"]}},nativeCurrency:{decimals:18,name:"WhiteBIT Coin",symbol:"WBT"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:25212237}}}),kae=h({testnet:!0,name:"Whitechain Testnet",blockExplorers:{default:{name:"Whitechain Explorer",url:"https://testnet.whitechain.io"}},id:2625,rpcUrls:{default:{http:["https://rpc-testnet.whitechain.io"]}},nativeCurrency:{decimals:18,name:"WhiteBIT Coin",symbol:"WBT"}}),Vae=h({id:42070,name:"WMC Testnet",nativeCurrency:{name:"WMTx",symbol:"WMTx",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet-base.worldmobile.net"]}},blockExplorers:{default:{name:"WMC Explorer",url:"https://explorer2-base-testnet.worldmobile.net"}},testnet:!0}),oI=1,Wae=h({...Ae,id:480,name:"World Chain",network:"worldchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-mainnet.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan",url:"https://worldscan.org",apiUrl:"https://api.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-mainnet.explorer.alchemy.com",apiUrl:"https://worldchain-mainnet.explorer.alchemy.com/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[oI]:{address:"0x069c4c579671f8c120b1327a73217D01Ea2EC5ea"}},l2OutputOracle:{[oI]:{address:"0x19A6d1E9034596196295CF148509796978343c5D"}},portal:{[oI]:{address:"0xd5ec14a83B7d95BE1E2Ac12523e2dEE12Cbeea6C"}},l1StandardBridge:{[oI]:{address:"0x470458C91978D2d929704489Ad730DC3E3001113"}}},testnet:!1,sourceId:oI}),lI=11155111,Rae=h({...Ae,id:4801,name:"World Chain Sepolia",network:"worldchain-sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-sepolia.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan Sepolia",url:"https://sepolia.worldscan.org",apiUrl:"https://api-sepolia.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-sepolia.explorer.alchemy.com",apiUrl:"https://worldchain-sepolia.explorer.alchemy.com/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[lI]:{address:"0x8Ec1111f67Dad6b6A93B3F42DfBC92D81c98449A"}},l2OutputOracle:{[lI]:{address:"0xc8886f8BAb6Eaeb215aDB5f1c686BF699248300e"}},portal:{[lI]:{address:"0xFf6EBa109271fe6d4237EeeD4bAb1dD9A77dD1A4"}},l1StandardBridge:{[lI]:{address:"0xd7DF54b3989855eb66497301a4aAEc33Dbb3F8DE"}}},testnet:!0,sourceId:lI}),vae=h({id:103,name:"WorldLand Mainnet",nativeCurrency:{decimals:18,name:"WLC",symbol:"WLC"},rpcUrls:{default:{http:["https://seoul.worldland.foundation"]}},blockExplorers:{default:{name:"WorldLand Scan",url:"https://scan.worldland.foundation"}},testnet:!1}),Xae=h({id:660279,name:"Xai Mainnet",nativeCurrency:{name:"Xai",symbol:"XAI",decimals:18},rpcUrls:{default:{http:["https://xai-chain.net/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.xai-chain.net"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:222549}},testnet:!1}),Jae=h({id:37714555429,name:"Xai Testnet",nativeCurrency:{name:"sXai",symbol:"sXAI",decimals:18},rpcUrls:{default:{http:["https://testnet-v2.xai-chain.net/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer-v2.xai-chain.net"}},testnet:!0}),Eae=h({id:50,name:"XDC Network",nativeCurrency:{decimals:18,name:"XDC",symbol:"XDC"},rpcUrls:{default:{http:["https://rpc.xdcrpc.com"]}},blockExplorers:{default:{name:"XDCScan",url:"https://xdcscan.com"}},contracts:{multicall3:{address:"0x0B1795ccA8E4eC4df02346a082df54D437F8D9aF",blockCreated:75884020}}}),xae=h({id:51,name:"Apothem Network",nativeCurrency:{decimals:18,name:"TXDC",symbol:"TXDC"},rpcUrls:{default:{http:["https://erpc.apothem.network"]}},blockExplorers:{default:{name:"XDCScan",url:"https://testnet.xdcscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:59765389}}}),Nae=h({id:196,name:"X Layer Mainnet",nativeCurrency:{decimals:18,name:"OKB",symbol:"OKB"},rpcUrls:{default:{http:["https://rpc.xlayer.tech"]}},blockExplorers:{default:{name:"OKLink",url:"https://www.oklink.com/xlayer",apiUrl:"https://www.oklink.com/api/v5/explorer/xlayer/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:47416}}}),rw=h({id:195,name:"X1 Testnet",nativeCurrency:{decimals:18,name:"OKB",symbol:"OKB"},rpcUrls:{default:{http:["https://xlayertestrpc.okx.com"]}},blockExplorers:{default:{name:"OKLink",url:"https://www.oklink.com/xlayer-test"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:624344}},testnet:!0}),Hae=h({id:273,name:"XR One",nativeCurrency:{decimals:18,name:"XR1",symbol:"XR1"},rpcUrls:{default:{http:["https://xr1.calderachain.xyz/http"],webSocket:["wss://xr1.calderachain.xyz/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://xr1.calderaexplorer.xyz"}},testnet:!1}),Yae=h({id:1440002,name:"XRPL EVM Devnet",nativeCurrency:{name:"XRP",symbol:"XRP",decimals:18},rpcUrls:{default:{http:["https://rpc.xrplevm.org/"]},public:{http:["https://rpc.xrplevm.org/"]}},blockExplorers:{default:{name:"XRPLEVM Devnet Explorer",url:"https://explorer.xrplevm.org/"}},contracts:{multicall3:{address:"0x82Cc144D7d0AD4B1c27cb41420e82b82Ad6e9B31",blockCreated:15237286}},testnet:!0}),Tae=h({id:1449e3,name:"XRPL EVM Testnet",nativeCurrency:{name:"XRP",symbol:"XRP",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.xrplevm.org"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.testnet.xrplevm.org",apiUrl:"https://explorer.testnet.xrplevm.org/api/v2"}},contracts:{multicall3:{address:"0x82Cc144D7d0AD4B1c27cb41420e82b82Ad6e9B31",blockCreated:492302}},testnet:!0}),Fae=h({id:2730,name:"XR Sepolia",nativeCurrency:{decimals:18,name:"tXR",symbol:"tXR"},rpcUrls:{default:{http:["https://xr-sepolia-testnet.rpc.caldera.xyz/http"]}},blockExplorers:{default:{name:"Blockscout",url:"https://xr-sepolia-testnet.explorer.caldera.xyz"}},testnet:!0}),Kae=h({id:50005,name:"Yooldo Verse",nativeCurrency:{name:"OAS",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.yooldo-verse.xyz"]}},blockExplorers:{default:{name:"Yooldo Verse Explorer",url:"https://explorer.yooldo-verse.xyz"}}}),Mae=h({id:50006,name:"Yooldo Verse Testnet",nativeCurrency:{name:"OAS",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.yooldo-verse.xyz"]}},blockExplorers:{default:{name:"Yooldo Verse Testnet Explorer",url:"https://explorer.testnet.yooldo-verse.xyz"}},testnet:!0}),Uae=h({id:8408,name:"ZenChain Testnet",nativeCurrency:{decimals:18,name:"ZTC",symbol:"ZTC"},rpcUrls:{default:{http:["https://zenchain-testnet.api.onfinality.io/public"],webSocket:["wss://zenchain-testnet.api.onfinality.io/public-ws"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:230019}},blockExplorers:{default:{name:"Zentrace",url:"https://zentrace.io"}},testnet:!0}),Dae=h({id:383414847825,name:"Zeniq Mainnet",nativeCurrency:{name:"ZENIQ",symbol:"ZENIQ",decimals:18},rpcUrls:{default:{http:["https://api.zeniq.network"]}},blockExplorers:{default:{name:"Zeniq Explorer",url:"https://zeniqscan.com"}},testnet:!1}),zae=h({id:16600,name:"0G Newton Testnet",nativeCurrency:{name:"A0GI",symbol:"A0GI",decimals:18},rpcUrls:{default:{http:["https://evmrpc-testnet.0g.ai"]}},blockExplorers:{default:{name:"0G BlockChain Explorer",url:"https://chainscan-newton.0g.ai"}},testnet:!0}),Lae=h({id:543210,name:"Zero Network",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.zerion.io/v1/zero"]}},blockExplorers:{default:{name:"Zero Network Explorer",url:"https://explorer.zero.network"}},testnet:!1}),Qae=h({id:7e3,name:"ZetaChain",nativeCurrency:{decimals:18,name:"Zeta",symbol:"ZETA"},rpcUrls:{default:{http:["https://zetachain-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1632781}},blockExplorers:{default:{name:"ZetaScan",url:"https://explorer.zetachain.com"}},testnet:!1}),Pae=h({id:7001,name:"ZetaChain Athens Testnet",nativeCurrency:{decimals:18,name:"Zeta",symbol:"aZETA"},rpcUrls:{default:{http:["https://zetachain-athens-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2715217}},blockExplorers:{default:{name:"ZetaScan",url:"https://athens.explorer.zetachain.com"}},testnet:!0}),Oae=h({id:1337803,name:"Zhejiang",nativeCurrency:{name:"Zhejiang Ether",symbol:"ZhejETH",decimals:18},rpcUrls:{default:{http:["https://rpc.zhejiang.ethpandaops.io"]}},blockExplorers:{default:{name:"Beaconchain",url:"https://zhejiang.beaconcha.in"}},testnet:!0}),jae=h({id:32769,name:"Zilliqa",network:"zilliqa",nativeCurrency:{name:"Zilliqa",symbol:"ZIL",decimals:18},rpcUrls:{default:{http:["https://api.zilliqa.com"]}},blockExplorers:{default:{name:"Ethernal",url:"https://evmx.zilliqa.com"}},testnet:!1}),_ae=h({id:33101,name:"Zilliqa Testnet",network:"zilliqa-testnet",nativeCurrency:{name:"Zilliqa",symbol:"ZIL",decimals:18},rpcUrls:{default:{http:["https://dev-api.zilliqa.com"]}},blockExplorers:{default:{name:"Ethernal",url:"https://evmx.testnet.zilliqa.com"}},testnet:!0}),Ob=1,qae=h({...Ae,id:48900,name:"Zircuit Mainnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.zircuit.com","https://zircuit1-mainnet.liquify.com","https://zircuit1-mainnet.p2pify.com","https://zircuit-mainnet.drpc.org"]}},blockExplorers:{default:{name:"Zircuit Explorer",url:"https://explorer.zircuit.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"},l2OutputOracle:{[Ob]:{address:"0x92Ef6Af472b39F1b363da45E35530c24619245A4"}},portal:{[Ob]:{address:"0x17bfAfA932d2e23Bd9B909Fd5B4D2e2a27043fb1"}},l1StandardBridge:{[Ob]:{address:"0x386B76D9cA5F5Fb150B6BFB35CF5379B22B26dd8"}}},testnet:!1}),jb=11155111,$ae=h({...Ae,id:48898,name:"Zircuit Garfield Testnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://garfield-testnet.zircuit.com/"]}},blockExplorers:{default:{name:"Zircuit Garfield Testnet Explorer",url:"https://explorer.garfield-testnet.zircuit.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"},l2OutputOracle:{[jb]:{address:"0xd69D3AC5CA686cCF94b258291772bc520FEAf211"}},portal:{[jb]:{address:"0x4E21A71Ac3F7607Da5c06153A17B1DD20E702c21"}},l1StandardBridge:{[jb]:{address:"0x87a7E2bCA9E35BA49282E832a28A6023904460D8"}}},testnet:!0}),_b=11155111,ese=h({...Ae,id:48899,name:"Zircuit Testnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.zircuit.com","https://zircuit1-testnet.p2pify.com","https://zircuit1-testnet.liquify.com"]}},blockExplorers:{default:{name:"Zircuit Testnet Explorer",url:"https://explorer.testnet.zircuit.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:6040287},l2OutputOracle:{[_b]:{address:"0x740C2dac453aEf7140809F80b72bf0e647af8148"}},portal:{[_b]:{address:"0x787f1C8c5924178689E0560a43D848bF8E54b23e"}},l1StandardBridge:{[_b]:{address:"0x0545c5fe980098C16fcD0eCB5E79753afa6d9af9"}}},testnet:!0}),tse=h({id:42766,name:"ZKFair Mainnet",network:"zkfair-mainnet",nativeCurrency:{decimals:18,name:"USD Coin",symbol:"USDC"},rpcUrls:{default:{http:["https://rpc.zkfair.io"]}},blockExplorers:{default:{name:"zkFair Explorer",url:"https://scan.zkfair.io",apiUrl:"https://scan.zkfair.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6090959}},testnet:!1}),nse=h({id:43851,name:"ZKFair Testnet",network:"zkfair-testnet",nativeCurrency:{decimals:18,name:"USD Coin",symbol:"USDC"},rpcUrls:{default:{http:["https://testnet-rpc.zkfair.io"]}},blockExplorers:{default:{name:"zkFair Explorer",url:"https://testnet-scan.zkfair.io"}},testnet:!0}),ase=h({id:810180,name:"zkLink Nova",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zklink.io"]}},blockExplorers:{default:{name:"zkLink Nova Block Explorer",url:"https://explorer.zklink.io"}}}),sse=h({id:810181,name:"zkLink Nova Sepolia Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zklink.io"]}},blockExplorers:{default:{name:"zkLink Nova Block Explorer",url:"https://sepolia.explorer.zklink.io"}}}),ow=h({...Ja,id:324,name:"ZKsync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://explorer.zksync.io/",apiUrl:"https://block-explorer-api.mainnet.zksync.io/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:45659388}}}),lw=h({...Ja,id:260,name:"ZKsync InMemory Node",network:"zksync-in-memory-node",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:8011"]}},testnet:!0}),ise=h({...Ja,id:272,name:"ZKsync CLI Local Custom Hyperchain",nativeCurrency:{name:"BAT",symbol:"BAT",decimals:18},rpcUrls:{default:{http:["http://localhost:15200"],webSocket:["ws://localhost:15201"]}},blockExplorers:{default:{name:"ZKsync explorer",url:"http://localhost:15005/",apiUrl:"http://localhost:15005/api"}},testnet:!0}),rse=h({...Ja,id:270,name:"ZKsync CLI Local Hyperchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:15100"],webSocket:["ws://localhost:15101"]}},blockExplorers:{default:{name:"ZKsync explorer",url:"http://localhost:15005/",apiUrl:"http://localhost:15005/api"}},testnet:!0}),ose=h({id:9,name:"ZKsync CLI Local Hyperchain L1",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:15045"]}},blockExplorers:{default:{name:"Blockscout",url:"http://localhost:15001/",apiUrl:"http://localhost:15001/api/v2"}},testnet:!0}),cw=h({...Ja,id:270,name:"ZKsync CLI Local Node",network:"zksync-cli-local-node",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:3050"]}},testnet:!0}),gw=h({...Ja,id:300,name:"ZKsync Sepolia Testnet",network:"zksync-sepolia-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.era.zksync.dev"],webSocket:["wss://sepolia.era.zksync.dev/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia-era.zksync.network/",apiUrl:"https://api-sepolia-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://sepolia.explorer.zksync.io/",blockExplorerApi:"https://block-explorer-api.sepolia.zksync.dev/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:3855712}},testnet:!0}),Pp=1,lse=h({...Ae,id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Pp]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:5882},portal:{[Pp]:{address:"0x1a0ad011913A150f69f6A19DF447A0CfD9551054"}},l1StandardBridge:{[Pp]:{address:"0x3e2Ea9B92B7E48A52296fD261dc26fd995284631"}}},sourceId:Pp}),Op=11155111,cse=h({...Ae,id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/",apiUrl:"https://sepolia.explorer.zora.energy/api"}},contracts:{...Ae.contracts,l2OutputOracle:{[Op]:{address:"0x2615B481Bd3E5A1C0C7Ca3Da1bdc663E8615Ade9"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:83160},portal:{[Op]:{address:"0xeffE2C6cA9Ab797D418f0D91eA60807713f3536f"}},l1StandardBridge:{[Op]:{address:"0x5376f1D543dcbB5BD416c56C189e4cB7399fCcCB"}}},sourceId:Op,testnet:!0}),dw=5,gse=h({...Ae,id:999,name:"Zora Goerli Testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy",apiUrl:"https://testnet.explorer.zora.energy/api"}},contracts:{...Ae.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:189123},portal:{[dw]:{address:"0xDb9F51790365e7dc196e7D072728df39Be958ACe"}}},sourceId:dw,testnet:!0}),dse=Object.freeze(Object.defineProperty({__proto__:null,abey:RL,abstract:KL,abstractTestnet:ML,acala:UL,acria:DL,adf:zL,aioz:LL,alephZero:QL,alephZeroTestnet:PL,alienx:OL,alienxHalTestnet:jL,ancient8:tQ,ancient8Sepolia:nQ,anvil:aQ,apeChain:iQ,apexTestnet:rQ,arbitrum:oQ,arbitrumGoerli:lQ,arbitrumNova:cQ,arbitrumSepolia:gQ,arenaz:dQ,areonNetwork:IQ,areonNetworkTestnet:uQ,artelaTestnet:CQ,arthera:pQ,artheraTestnet:mQ,assetChain:AQ,assetChainTestnet:yQ,astar:bQ,astarZkEVM:hQ,astarZkyoto:fQ,atletaOlympia:ZQ,aurora:GQ,auroraTestnet:BQ,auroria:SQ,avalanche:wQ,avalancheFuji:kQ,b3:WQ,b3Sepolia:vQ,bahamut:XQ,base:JQ,baseGoerli:xQ,baseSepolia:NQ,basecampTestnet:EQ,beam:HQ,beamTestnet:YQ,bearNetworkChainMainnet:TQ,bearNetworkChainTestnet:FQ,berachain:KQ,berachainBepolia:MQ,berachainTestnet:UQ,berachainTestnetbArtio:DQ,bevmMainnet:zQ,bifrost:LQ,birdlayer:tP,bitTorrent:$Q,bitTorrentTestnet:eP,bitgert:QQ,bitkub:PQ,bitkubTestnet:OQ,bitlayer:jQ,bitlayerTestnet:_Q,bitrock:qQ,blast:aP,blastSepolia:iP,bob:rP,bobSepolia:cP,boba:oP,bobaSepolia:lP,boolBetaMainnet:gP,botanixTestnet:dP,bounceBit:IP,bounceBitTestnet:uP,bronos:CP,bronosTestnet:pP,bsc:mP,bscGreenfield:AP,bscTestnet:yP,bsquared:bP,bsquaredTestnet:hP,btr:fP,btrTestnet:ZP,bxn:GP,bxnTestnet:BP,cannon:SP,canto:wP,celo:HP,celoAlfajores:YP,chang:TP,chiliz:FP,chips:KP,citreaTestnet:MP,classic:UP,coinbit:DP,coinex:zP,confluxESpace:LP,confluxESpaceTestnet:QP,coreDao:PP,coreTestnet1:OP,coreTestnet2:jP,corn:qP,cornTestnet:eO,crab:tO,creatorTestnet:nO,creditCoin3Mainnet:aO,creditCoin3Testnet:sO,cronos:iO,cronosTestnet:rO,cronoszkEVM:oO,cronoszkEVMTestnet:lO,crossbell:cO,curtis:gO,cyber:dO,cyberTestnet:IO,dailyNetwork:uO,dailyNetworkTestnet:CO,darwinia:pO,dbkchain:mO,dchain:AO,dchainTestnet:yO,defichainEvm:bO,defichainEvmTestnet:hO,degen:fO,dfk:ZO,diode:GO,disChain:BO,dodochainTestnet:SO,dogechain:wO,donatuz:kO,dosChain:VO,dosChainTestnet:WO,dreyerxMainnet:RO,dreyerxTestnet:vO,dustboyIoT:XO,dymension:JO,edexa:xO,edexaTestnet:EO,edgeless:NO,edgelessTestnet:HO,edgeware:YO,edgewareTestnet:TO,eduChain:FO,eduChainTestnet:KO,ekta:MO,ektaTestnet:UO,elastos:DO,elastosTestnet:zO,electroneum:LO,electroneumTestnet:QO,elysiumTestnet:PO,energy:OO,enuls:jO,eon:_O,eos:qO,eosTestnet:$O,etherlink:ej,etherlinkTestnet:tj,ethernity:nj,etp:aj,evmos:sj,evmosTestnet:ij,excelonMainnet:rj,expanse:oj,exsat:lj,exsatTestnet:cj,fantom:gj,fantomSonicTestnet:dj,fantomTestnet:Ij,fibo:uj,filecoin:Cj,filecoinCalibration:pj,filecoinHyperspace:mj,fireChain:Aj,flame:yj,flare:bj,flareTestnet:hj,flowMainnet:fj,flowPreviewnet:Zj,flowTestnet:Gj,fluence:Bj,fluenceStage:Sj,fluenceTestnet:wj,fluentTestnet:kj,form:Wj,formTestnet:vj,forma:Vj,formicarium:Rj,forta:Xj,foundry:Jj,fraxtal:Ej,fraxtalTestnet:xj,funkiMainnet:Hj,funkiSepolia:Tj,fuse:Fj,fuseSparknet:Kj,fusion:Mj,fusionTestnet:Uj,garnet:Dj,geist:zj,genesys:Lj,glideL1Protocol:Qj,glideL2Protocol:Pj,gnosis:Oj,gnosisChiado:jj,goChain:$j,goat:_j,gobi:qj,godwoken:e_,goerli:t_,gravity:n_,gunz:a_,guruNetwork:s_,guruTestnet:i_,ham:r_,happychainTestnet:o_,haqqMainnet:l_,haqqTestedge2:c_,hardhat:g_,harmonyOne:d_,hashkey:I_,hashkeyTestnet:u_,haustTestnet:C_,hedera:p_,hederaPreviewnet:m_,hederaTestnet:A_,hela:y_,hemi:b_,hemiSepolia:h_,holesky:f_,hoodi:Z_,hpb:G_,huddle01Mainnet:S_,huddle01Testnet:k_,humanode:V_,humanodeTestnet5:W_,hychain:R_,hychainTestnet:v_,iSunCoin:D_,idchain:X_,immutableZkEvm:J_,immutableZkEvmTestnet:E_,inEVM:x_,initVerse:N_,initVerseGenesis:H_,ink:Y_,inkSepolia:T_,iota:F_,iotaTestnet:K_,iotex:M_,iotexTestnet:U_,jbc:z_,jbcTestnet:L_,juneo:Q_,juneoBCH1Chain:P_,juneoDAI1Chain:O_,juneoDOGE1Chain:j_,juneoEUR1Chain:__,juneoGLD1Chain:q_,juneoLINK1Chain:$_,juneoLTC1Chain:eq,juneoSGD1Chain:nq,juneoSocotraTestnet:aq,juneoUSD1Chain:sq,juneoUSDT1Chain:iq,juneomBTC1Chain:tq,kaia:pq,kairos:mq,kakarotSepolia:oq,kakarotStarknetSepolia:lq,kardiaChain:cq,karura:rq,kava:gq,kavaTestnet:dq,kcc:Iq,kinto:uq,klaytn:Cq,klaytnBaobab:Aq,koi:yq,kroma:bq,kromaSepolia:hq,l3x:fq,l3xTestnet:Zq,lavita:Gq,lens:Bq,lensTestnet:Sq,lestnet:wq,lightlinkPegasus:kq,lightlinkPhoenix:Vq,linea:Rq,lineaGoerli:vq,lineaSepolia:Xq,lineaTestnet:Jq,lisk:Eq,liskSepolia:xq,localhost:Nq,loop:Hq,lukso:Yq,luksoTestnet:Tq,lumiaMainnet:Fq,lumiaTestnet:Kq,lumoz:Mq,lumozTestnet:Uq,lycan:Dq,lyra:zq,mainnet:Lq,mandala:Qq,manta:Pq,mantaSepoliaTestnet:Oq,mantaTestnet:jq,mantle:_q,mantleSepoliaTestnet:qq,mantleTestnet:$q,mapProtocol:e$,matchain:t$,matchainTestnet:n$,mchVerse:a$,megaethTestnet:s$,mekong:i$,meld:r$,memecore:o$,merlin:l$,merlinErigonTestnet:c$,metachain:g$,metachainIstanbul:d$,metadium:I$,metalL2:u$,meter:C$,meterTestnet:p$,metis:m$,metisGoerli:y$,metisSepolia:A$,mev:b$,mevTestnet:h$,mint:f$,mintSepoliaTestnet:Z$,mitosisTestnet:G$,mode:B$,modeTestnet:S$,monadTestnet:w$,moonbaseAlpha:k$,moonbeam:V$,moonbeamDev:W$,moonriver:R$,morph:v$,morphHolesky:X$,morphSepolia:J$,nahmii:E$,nautilus:x$,near:N$,nearTestnet:H$,neonDevnet:Y$,neonMainnet:T$,neoxMainnet:F$,neoxT4:K$,newton:M$,nexi:U$,nexilix:D$,nibiru:z$,oasisTestnet:L$,oasys:Q$,odysseyTestnet:P$,okc:O$,omax:j$,omni:_$,omniOmega:q$,oneWorld:$$,oortMainnetDev:eee,opBNB:tee,opBNBTestnet:nee,optimism:aee,optimismGoerli:see,optimismSepolia:iee,optopia:ree,optopiaTestnet:oee,orderly:lee,orderlySepolia:cee,otimDevnet:gee,palm:dee,palmTestnet:Iee,peaq:uee,pgn:Cee,pgnTestnet:pee,phoenix:mee,planq:Aee,playfiAlbireo:yee,plinga:bee,plume:fee,plumeDevnet:Gee,plumeMainnet:See,plumeSepolia:kee,plumeTestnet:Wee,polterTestnet:Ree,polygon:vee,polygonAmoy:Xee,polygonMumbai:Jee,polygonZkEvm:Eee,polygonZkEvmCardona:xee,polygonZkEvmTestnet:Nee,polynomial:Hee,polynomialSepolia:Yee,premiumBlockTestnet:Tee,pulsechain:Fee,pulsechainV4:Kee,pumpfiTestnet:Mee,pyrope:Uee,qMainnet:zee,qTestnet:Lee,ql1:Dee,real:Qee,redbellyMainnet:Pee,redbellyTestnet:Oee,reddioSepolia:$ee,redstone:jee,rei:_ee,reyaNetwork:qee,riseTestnet:ete,rivalz:tte,rollux:nte,rolluxTestnet:ate,ronin:ste,root:ite,rootPorcini:rte,rootstock:ote,rootstockTestnet:lte,rss3:cte,rss3Sepolia:gte,saakuru:dte,saga:Ite,saigon:ute,sanko:Cte,sapphire:pte,sapphireTestnet:mte,satoshiVM:Ate,satoshiVMTestnet:yte,scroll:bte,scrollSepolia:hte,sei:fte,seiDevnet:Zte,seiTestnet:Bte,seismicDevnet:Gte,sepolia:Ste,shape:wte,shapeSepolia:Vte,shardeum:Wte,shardeumSphinx:Rte,shibarium:vte,shibariumTestnet:Xte,shiden:Jte,shimmer:Ete,shimmerTestnet:xte,sidraChain:Nte,silicon:Hte,siliconSepolia:Yte,sixProtocol:Tte,skaleBlockBrawlers:Fte,skaleCalypso:Kte,skaleCalypsoTestnet:Mte,skaleCryptoBlades:Ute,skaleCryptoColosseum:Dte,skaleEuropa:zte,skaleEuropaTestnet:Lte,skaleExorde:Qte,skaleHumanProtocol:Pte,skaleNebula:Ote,skaleNebulaTestnet:jte,skaleRazor:_te,skaleTitan:qte,skaleTitanTestnet:$te,sketchpad:ene,snax:tne,snaxTestnet:nne,somniaTestnet:ane,soneium:sne,soneiumMinato:ine,songbird:cne,songbirdTestnet:gne,sonic:rne,sonicBlazeTestnet:lne,sonicTestnet:one,sophon:dne,sophonTestnet:Ine,spicy:une,statusNetworkSepolia:iw,statusSepolia:iw,step:Cne,story:pne,storyAeneid:mne,storyOdyssey:Ane,storyTestnet:yne,stratis:bne,superlumio:hne,superposition:fne,superseed:Zne,superseedSepolia:Gne,swan:Bne,swanProximaTestnet:Sne,swanSaturnTestnet:wne,swellchain:kne,swellchainTestnet:Vne,swissdlt:Wne,syscoin:Rne,syscoinTestnet:vne,taiko:Xne,taikoHekla:Jne,taikoJolnir:Ene,taikoKatla:xne,taikoTestnetSepolia:Nne,taraxa:Hne,taraxaTestnet:Yne,telcoinTestnet:Tne,telos:Fne,telosTestnet:Kne,tenet:Mne,ternoa:Une,thaiChain:Dne,that:zne,theta:Lne,thetaTestnet:Qne,thunderCore:Pne,thunderTestnet:One,tiktrixTestnet:jne,tomb:_ne,treasure:qne,treasureTopaz:$ne,tron:eae,tronShasta:tae,ubiq:nae,ultra:aae,ultraTestnet:sae,ultron:iae,ultronTestnet:rae,unichain:oae,unichainSepolia:lae,unique:cae,uniqueOpal:gae,uniqueQuartz:dae,unreal:Iae,vanar:uae,vechain:Cae,velas:pae,viction:mae,victionTestnet:Aae,vision:yae,visionTestnet:bae,wanchain:hae,wanchainTestnet:fae,weaveVMAlphanet:Zae,wemix:Gae,wemixTestnet:Bae,westendAssetHub:Sae,whitechain:wae,whitechainTestnet:kae,wmcTestnet:Vae,worldLand:vae,worldchain:Wae,worldchainSepolia:Rae,x1Testnet:rw,xLayer:Nae,xLayerTestnet:rw,xai:Xae,xaiTestnet:Jae,xdc:Eae,xdcTestnet:xae,xrOne:Hae,xrSepolia:Fae,xrplevmDevnet:Yae,xrplevmTestnet:Tae,yooldoVerse:Kae,yooldoVerseTestnet:Mae,zenchainTestnet:Uae,zeniq:Dae,zeroG:zae,zeroNetwork:Lae,zetachain:Qae,zetachainAthensTestnet:Pae,zhejiang:Oae,zilliqa:jae,zilliqaTestnet:_ae,zircuit:qae,zircuitGarfieldTestnet:$ae,zircuitTestnet:ese,zkFair:tse,zkFairTestnet:nse,zkLinkNova:ase,zkLinkNovaSepoliaTestnet:sse,zkSync:ow,zkSyncInMemoryNode:lw,zkSyncLocalNode:cw,zkSyncSepoliaTestnet:gw,zksync:ow,zksyncInMemoryNode:lw,zksyncLocalCustomHyperchain:ise,zksyncLocalHyperchain:rse,zksyncLocalHyperchainL1:ose,zksyncLocalNode:cw,zksyncSepoliaTestnet:gw,zora:lse,zoraSepolia:cse,zoraTestnet:gse},Symbol.toStringTag,{value:"Module"}));function Ise(t){if(typeof t=="string"){if(!pt(t,{strict:!1}))throw new Tt({address:t});return{address:t,type:"json-rpc"}}if(!pt(t.address,{strict:!1}))throw new Tt({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let use=!1;async function Ou({hash:t,privateKey:e,to:n="object"}){const{r:a,s,recovery:r}=LA.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:use}),l={r:Ne(a,{size:32}),s:Ne(s,{size:32}),v:r?28n:27n,yParity:r};return n==="bytes"||n==="hex"?mW({...l,to:n}):l}async function Cse(t){const{chainId:e,nonce:n,privateKey:a,to:s="object"}=t,r=t.contractAddress??t.address,l=await Ou({hash:H9({address:r,chainId:e,nonce:n}),privateKey:a,to:s});return s==="object"?{address:r,chainId:e,nonce:n,...l}:l}async function pse({message:t,privateKey:e}){return await Ou({hash:UA(t),privateKey:e,to:"hex"})}async function mse(t){const{privateKey:e,transaction:n,serializer:a=Hf}=t,s=n.type==="eip4844"?{...n,sidecars:!1}:n,r=await Ou({hash:ct(a(s)),privateKey:e});return a(n,r)}async function Ase(t){const{privateKey:e,...n}=t;return await Ou({hash:YV(n),privateKey:e,to:"hex"})}function yse(t,e={}){const{nonceManager:n}=e,a=Ge(LA.getPublicKey(t.slice(2),!1)),s=E9(a);return{...Ise({address:s,nonceManager:n,async sign({hash:l}){return Ou({hash:l,privateKey:t,to:"hex"})},async signAuthorization(l){return Cse({...l,privateKey:t})},async signMessage({message:l}){return pse({message:l,privateKey:t})},async signTransaction(l,{serializer:c}={}){return mse({privateKey:t,transaction:l,serializer:c})},async signTypedData(l){return Ase({...l,privateKey:t})}}),publicKey:a,source:"privateKey"}}var bse={},hse=Object.defineProperty,fse=Object.getOwnPropertyDescriptor,Bc=(t,e,n,a)=>{for(var s=a>1?void 0:a?fse(e,n):e,r=t.length-1,l;r>=0;r--)(l=t[r])&&(s=(a?l(e,n,s):l(s))||s);return a&&s&&hse(e,n,s),s},qs="1.3.0",JW={"1.4.1":{safeSingletonVersion:"1.4.1",safeSingletonL2Version:"1.4.1",safeProxyFactoryVersion:"1.4.1",compatibilityFallbackHandler:"1.4.1",multiSendVersion:"1.4.1",multiSendCallOnlyVersion:"1.4.1",signMessageLibVersion:"1.4.1",createCallVersion:"1.4.1",simulateTxAccessorVersion:"1.4.1",safeWebAuthnSignerFactoryVersion:"0.2.1",safeWebAuthnSharedSignerVersion:"0.2.1"},"1.3.0":{safeSingletonVersion:"1.3.0",safeSingletonL2Version:"1.3.0",safeProxyFactoryVersion:"1.3.0",compatibilityFallbackHandler:"1.3.0",multiSendVersion:"1.3.0",multiSendCallOnlyVersion:"1.3.0",signMessageLibVersion:"1.3.0",createCallVersion:"1.3.0",simulateTxAccessorVersion:"1.3.0",safeWebAuthnSignerFactoryVersion:"0.2.1",safeWebAuthnSharedSignerVersion:"0.2.1"},"1.2.0":{safeSingletonVersion:"1.2.0",safeSingletonL2Version:void 0,safeProxyFactoryVersion:"1.1.1",compatibilityFallbackHandler:"1.3.0",multiSendVersion:"1.1.1",multiSendCallOnlyVersion:"1.3.0",signMessageLibVersion:"1.3.0",createCallVersion:"1.3.0",safeWebAuthnSignerFactoryVersion:void 0,safeWebAuthnSharedSignerVersion:void 0},"1.1.1":{safeSingletonVersion:"1.1.1",safeSingletonL2Version:void 0,safeProxyFactoryVersion:"1.1.1",compatibilityFallbackHandler:"1.3.0",multiSendVersion:"1.1.1",multiSendCallOnlyVersion:"1.3.0",signMessageLibVersion:"1.3.0",createCallVersion:"1.3.0",safeWebAuthnSignerFactoryVersion:void 0,safeWebAuthnSharedSignerVersion:void 0},"1.0.0":{safeSingletonVersion:"1.0.0",safeSingletonL2Version:void 0,safeProxyFactoryVersion:"1.0.0",compatibilityFallbackHandler:"1.3.0",multiSendVersion:"1.1.1",multiSendCallOnlyVersion:"1.3.0",signMessageLibVersion:"1.3.0",createCallVersion:"1.3.0",safeWebAuthnSignerFactoryVersion:void 0,safeWebAuthnSharedSignerVersion:void 0}},Zse=[1n],EW={safeSingletonVersion:hi.getSafeSingletonDeployments,safeSingletonL2Version:hi.getSafeL2SingletonDeployments,safeProxyFactoryVersion:hi.getProxyFactoryDeployments,compatibilityFallbackHandler:hi.getCompatibilityFallbackHandlerDeployments,multiSendVersion:hi.getMultiSendDeployments,multiSendCallOnlyVersion:hi.getMultiSendCallOnlyDeployments,signMessageLibVersion:hi.getSignMessageLibDeployments,createCallVersion:hi.getCreateCallDeployments,simulateTxAccessorVersion:hi.getSimulateTxAccessorDeployments,safeWebAuthnSignerFactoryVersion:m1.getSafeWebAuthnSignerFactoryDeployment,safeWebAuthnSharedSignerVersion:m1.getSafeWebAuthnShareSignerDeployment};function Gse(t,e,n){const s={version:JW[t][n],network:e.toString(),released:!0};return EW[n](s)}function Bse(t){for(const[e,n]of Object.entries(JW))for(const[a,s]of Object.entries(n)){const r={version:s,released:!0},l=EW[a](r);if(l&&l.networkAddresses){for(const[,c]of Object.entries(l.networkAddresses))if(Array.isArray(c)&&c.find(g=>g.toLowerCase()===t.toLowerCase())||typeof c=="string"&&c.toLowerCase()===t.toLowerCase()){const u=Object.keys(l.deployments).find(I=>{var p;return((p=l.deployments[I])==null?void 0:p.address.toLowerCase())===t.toLowerCase()});if(u)return{version:e,type:u,contractName:a}}}}}var $r=Is,xW="0x",zi="0x0000000000000000000000000000000000000001";function ua(t,e){return!!t&&!!e&&t.toLowerCase()===e.toLowerCase()}function su(t){return ua(t,$r)}function NW(t){return ua(t,zi)}function HW(t){return su(t)||NW(t)}var _f=[{chainId:1n,shortName:"eth"},{chainId:3n,shortName:"rop"},{chainId:4n,shortName:"rin"},{chainId:5n,shortName:"gor"},{chainId:10n,shortName:"oeth"},{chainId:11n,shortName:"meta"},{chainId:12n,shortName:"kal"},{chainId:14n,shortName:"flr"},{chainId:16n,shortName:"cflr"},{chainId:18n,shortName:"tst"},{chainId:19n,shortName:"sgb"},{chainId:25n,shortName:"cro"},{chainId:28n,shortName:"bobarinkeby"},{chainId:30n,shortName:"rsk"},{chainId:31n,shortName:"trsk"},{chainId:39n,shortName:"u2u"},{chainId:40n,shortName:"telosevm"},{chainId:41n,shortName:"telosevmtestnet"},{chainId:42n,shortName:"lukso"},{chainId:43n,shortName:"pangolin"},{chainId:44n,shortName:"crab"},{chainId:46n,shortName:"darwinia"},{chainId:50n,shortName:"xdc"},{chainId:51n,shortName:"txdc"},{chainId:56n,shortName:"bnb"},{chainId:57n,shortName:"sys"},{chainId:61n,shortName:"etc"},{chainId:63n,shortName:"metc"},{chainId:69n,shortName:"okov"},{chainId:71n,shortName:"cfxtest"},{chainId:81n,shortName:"joc"},{chainId:82n,shortName:"meter"},{chainId:83n,shortName:"meter-test"},{chainId:88n,shortName:"vic"},{chainId:96n,shortName:"bkc"},{chainId:97n,shortName:"bnbt"},{chainId:100n,shortName:"gno"},{chainId:106n,shortName:"vlx"},{chainId:108n,shortName:"tt"},{chainId:109n,shortName:"shibariumecosystem"},{chainId:111n,shortName:"etl"},{chainId:114n,shortName:"c2flr"},{chainId:122n,shortName:"fuse"},{chainId:123n,shortName:"spark"},{chainId:130n,shortName:"unichain"},{chainId:133n,shortName:"HSKT"},{chainId:137n,shortName:"matic"},{chainId:146n,shortName:"sonic"},{chainId:148n,shortName:"shimmerevm"},{chainId:155n,shortName:"tenet-testnet"},{chainId:169n,shortName:"manta"},{chainId:177n,shortName:"hsk"},{chainId:179n,shortName:"abey"},{chainId:181n,shortName:"water"},{chainId:195n,shortName:"tokb"},{chainId:196n,shortName:"okb"},{chainId:204n,shortName:"opbnb"},{chainId:228n,shortName:"fhe"},{chainId:232n,shortName:"lens"},{chainId:240n,shortName:"zkTCRO"},{chainId:246n,shortName:"ewt"},{chainId:250n,shortName:"ftm"},{chainId:252n,shortName:"fraxtal"},{chainId:255n,shortName:"kroma"},{chainId:274n,shortName:"lachain"},{chainId:280n,shortName:"zksync-goerli"},{chainId:282n,shortName:"zkTCRO"},{chainId:288n,shortName:"boba"},{chainId:291n,shortName:"orderly"},{chainId:300n,shortName:"zksync-sepolia"},{chainId:314n,shortName:"filecoin"},{chainId:321n,shortName:"kcs"},{chainId:322n,shortName:"kcst"},{chainId:324n,shortName:"zksync"},{chainId:336n,shortName:"sdn"},{chainId:338n,shortName:"tcro"},{chainId:360n,shortName:"shape"},{chainId:369n,shortName:"pls"},{chainId:388n,shortName:"zkCRO"},{chainId:418n,shortName:"latestnet"},{chainId:420n,shortName:"ogor"},{chainId:424n,shortName:"PGN"},{chainId:466n,shortName:"appchain"},{chainId:478n,shortName:"formnetwork"},{chainId:480n,shortName:"wc"},{chainId:530n,shortName:"pundiai"},{chainId:545n,shortName:"flow-testnet"},{chainId:570n,shortName:"sys-rollux"},{chainId:588n,shortName:"metis-stardust"},{chainId:592n,shortName:"astr"},{chainId:595n,shortName:"maca"},{chainId:599n,shortName:"metis-goerli"},{chainId:648n,shortName:"ace"},{chainId:686n,shortName:"kar"},{chainId:690n,shortName:"redstone"},{chainId:747n,shortName:"flow-mainnet"},{chainId:787n,shortName:"aca"},{chainId:919n,shortName:"modesep"},{chainId:938n,shortName:"haust"},{chainId:943n,shortName:"t4pls"},{chainId:964n,shortName:"bittensor-evm-mainnet"},{chainId:970n,shortName:"ccn"},{chainId:995n,shortName:"5ire"},{chainId:1001n,shortName:"baobab"},{chainId:1008n,shortName:"eun"},{chainId:1030n,shortName:"cfx"},{chainId:1088n,shortName:"metis-andromeda"},{chainId:1101n,shortName:"zkevm"},{chainId:1111n,shortName:"wemix"},{chainId:1112n,shortName:"twemix"},{chainId:1114n,shortName:"tcore2"},{chainId:1115n,shortName:"tcore"},{chainId:1116n,shortName:"core"},{chainId:1125n,shortName:"taker"},{chainId:1135n,shortName:"lisk"},{chainId:1230n,shortName:"UltronTestnet"},{chainId:1231n,shortName:"UltronMainnet"},{chainId:1284n,shortName:"mbeam"},{chainId:1285n,shortName:"mriver"},{chainId:1287n,shortName:"mbase"},{chainId:1294n,shortName:"bobabeam"},{chainId:1315n,shortName:"story-aeneid"},{chainId:1329n,shortName:"sei"},{chainId:1337n,shortName:"geth"},{chainId:1424n,shortName:"perennial"},{chainId:1442n,shortName:"testnet-zkEVM-mango"},{chainId:1513n,shortName:"Story"},{chainId:1514n,shortName:"sty"},{chainId:1516n,shortName:"story-testnet"},{chainId:1559n,shortName:"tenet"},{chainId:1625n,shortName:"gravity"},{chainId:1663n,shortName:"Gobi"},{chainId:1729n,shortName:"reya"},{chainId:1740n,shortName:"metall2-testnet"},{chainId:1750n,shortName:"metall2"},{chainId:1807n,shortName:"rana"},{chainId:1811n,shortName:"lif3-testnet"},{chainId:1890n,shortName:"lightlink_phoenix"},{chainId:1891n,shortName:"lightlink_pegasus"},{chainId:1923n,shortName:"swell-l2"},{chainId:1924n,shortName:"swell-l2-testnet"},{chainId:1984n,shortName:"euntest"},{chainId:1998n,shortName:"kyoto-testnet"},{chainId:2000n,shortName:"dc"},{chainId:2001n,shortName:"milkada"},{chainId:2002n,shortName:"milkalgo"},{chainId:2008n,shortName:"cloudwalk_testnet"},{chainId:2019n,shortName:"pmint_test"},{chainId:2020n,shortName:"pmint"},{chainId:2021n,shortName:"edg"},{chainId:2039n,shortName:"aleph"},{chainId:2187n,shortName:"g7"},{chainId:2192n,shortName:"snax"},{chainId:2221n,shortName:"tkava"},{chainId:2222n,shortName:"kava"},{chainId:2331n,shortName:"rss3-testnet"},{chainId:2345n,shortName:"goat"},{chainId:2358n,shortName:"kroma-sepolia"},{chainId:2424n,shortName:"inevm-testnet"},{chainId:2442n,shortName:"zkevm-testnet-cardona"},{chainId:2741n,shortName:"abstract"},{chainId:2810n,shortName:"hmorph"},{chainId:2818n,shortName:"morph"},{chainId:3338n,shortName:"PEAQ"},{chainId:3501n,shortName:"JFIN"},{chainId:3636n,shortName:"BTNX"},{chainId:3737n,shortName:"csb"},{chainId:3776n,shortName:"astrzk"},{chainId:4002n,shortName:"tftm"},{chainId:4061n,shortName:"Nahmii3Mainnet"},{chainId:4062n,shortName:"Nahmii3Testnet"},{chainId:4078n,shortName:"muster"},{chainId:4157n,shortName:"crossfi-testnet"},{chainId:4162n,shortName:"SXR"},{chainId:4202n,shortName:"lisksep"},{chainId:4337n,shortName:"beam"},{chainId:4460n,shortName:"orderlyl2"},{chainId:4653n,shortName:"gold"},{chainId:4661n,shortName:"appchaintestnet"},{chainId:4689n,shortName:"iotex-mainnet"},{chainId:4918n,shortName:"txvm"},{chainId:4919n,shortName:"xvm"},{chainId:5000n,shortName:"mantle"},{chainId:5001n,shortName:"mantle-testnet"},{chainId:5003n,shortName:"mnt-sep"},{chainId:5115n,shortName:"citrea-testnet"},{chainId:5165n,shortName:"ftn"},{chainId:5611n,shortName:"obnbt"},{chainId:5700n,shortName:"tsys"},{chainId:6001n,shortName:"bouncebit-mainnet"},{chainId:6102n,shortName:"cascadia"},{chainId:6321n,shortName:"eaura"},{chainId:6322n,shortName:"aura"},{chainId:6398n,shortName:"connext-sepolia"},{chainId:6688n,shortName:"iris"},{chainId:6880n,shortName:"mtt-mainnet"},{chainId:7000n,shortName:"zetachain-mainnet"},{chainId:7001n,shortName:"zetachain-testnet"},{chainId:7070n,shortName:"planq"},{chainId:7171n,shortName:"bitrock"},{chainId:7200n,shortName:"xsat"},{chainId:7332n,shortName:"EON"},{chainId:7341n,shortName:"shyft"},{chainId:7560n,shortName:"cyeth"},{chainId:7700n,shortName:"canto"},{chainId:7771n,shortName:"tbitrock"},{chainId:8192n,shortName:"tqf"},{chainId:8194n,shortName:"ttqf"},{chainId:8217n,shortName:"cypress"},{chainId:8329n,shortName:"lrz"},{chainId:8408n,shortName:"zentest"},{chainId:8453n,shortName:"base"},{chainId:8801n,shortName:"okto-testnet"},{chainId:8822n,shortName:"iotaevm"},{chainId:9000n,shortName:"evmos-testnet"},{chainId:9001n,shortName:"evmos"},{chainId:9369n,shortName:"z"},{chainId:9700n,shortName:"MainnetDev"},{chainId:9728n,shortName:"boba-testnet"},{chainId:10000n,shortName:"smartbch"},{chainId:10001n,shortName:"smartbchtest"},{chainId:10081n,shortName:"joct"},{chainId:10143n,shortName:"mon-testnet"},{chainId:10200n,shortName:"chi"},{chainId:10242n,shortName:"aa"},{chainId:10243n,shortName:"aat"},{chainId:10849n,shortName:"lamina1"},{chainId:11011n,shortName:"shapesep"},{chainId:11111n,shortName:"WAGMI"},{chainId:11124n,shortName:"abstract-sepolia"},{chainId:11235n,shortName:"islm"},{chainId:11437n,shortName:"shyftt"},{chainId:11501n,shortName:"bevm"},{chainId:11503n,shortName:"bevm-test"},{chainId:11820n,shortName:"artela-mainnet"},{chainId:11891n,shortName:"Arianee"},{chainId:12324n,shortName:"l3x"},{chainId:12325n,shortName:"l3x-testnet"},{chainId:12357n,shortName:"rei-testnet"},{chainId:12553n,shortName:"rss3"},{chainId:13337n,shortName:"beam-testnet"},{chainId:13371n,shortName:"imx"},{chainId:13473n,shortName:"imx-testnet"},{chainId:13746n,shortName:"g7t"},{chainId:14800n,shortName:"vana-moksha"},{chainId:17000n,shortName:"holesky"},{chainId:17069n,shortName:"garnet"},{chainId:17172n,shortName:"eclipse"},{chainId:18231n,shortName:"unreal-old"},{chainId:18233n,shortName:"unreal"},{chainId:18880n,shortName:"expchain"},{chainId:22776n,shortName:"mapo"},{chainId:23294n,shortName:"sapphire"},{chainId:23295n,shortName:"sapphire-testnet"},{chainId:25327n,shortName:"Everclear"},{chainId:28979n,shortName:"kimbonet-testnet"},{chainId:31611n,shortName:"mezo"},{chainId:32769n,shortName:"zil"},{chainId:33101n,shortName:"zil-testnet"},{chainId:33139n,shortName:"apechain"},{chainId:33401n,shortName:"slingshot"},{chainId:34443n,shortName:"mode"},{chainId:35441n,shortName:"q"},{chainId:35443n,shortName:"q-testnet"},{chainId:37111n,shortName:"lens-sepolia"},{chainId:41455n,shortName:"aleph-zero"},{chainId:42161n,shortName:"arb1"},{chainId:42170n,shortName:"arb-nova"},{chainId:42220n,shortName:"celo"},{chainId:42421n,shortName:"rwa"},{chainId:42793n,shortName:"etlk"},{chainId:43111n,shortName:"hemi"},{chainId:43113n,shortName:"fuji"},{chainId:43114n,shortName:"avax"},{chainId:43288n,shortName:"boba-avax"},{chainId:44787n,shortName:"alfa"},{chainId:45000n,shortName:"autobahnnetwork"},{chainId:47763n,shortName:"neox-mainnet"},{chainId:47805n,shortName:"rei"},{chainId:48899n,shortName:"zircuit-testnet"},{chainId:48900n,shortName:"zircuit-mainnet"},{chainId:53302n,shortName:"seedsep"},{chainId:53456n,shortName:"birdlayer"},{chainId:53457n,shortName:"dodochain"},{chainId:54211n,shortName:"islmt"},{chainId:56288n,shortName:"boba-bnb"},{chainId:57000n,shortName:"tsys-rollux"},{chainId:57054n,shortName:"blaze"},{chainId:57073n,shortName:"ink"},{chainId:58008n,shortName:"sepPGN"},{chainId:59140n,shortName:"linea-goerli"},{chainId:59141n,shortName:"linea-sepolia"},{chainId:59144n,shortName:"linea"},{chainId:59902n,shortName:"metis-sepolia"},{chainId:60808n,shortName:"bob"},{chainId:61166n,shortName:"treasure"},{chainId:71401n,shortName:"gw-testnet-v1"},{chainId:71402n,shortName:"gw-mainnet-v1"},{chainId:73799n,shortName:"vt"},{chainId:80001n,shortName:"maticmum"},{chainId:80002n,shortName:"polygonamoy"},{chainId:80084n,shortName:"berachainbArtio"},{chainId:80085n,shortName:"berachainArtio"},{chainId:80094n,shortName:"berachain"},{chainId:81457n,shortName:"blastmainnet"},{chainId:83291n,shortName:"lrz-testnet"},{chainId:84531n,shortName:"basegor"},{chainId:84532n,shortName:"basesep"},{chainId:90001n,shortName:"dhobyghaut"},{chainId:97435n,shortName:"sling"},{chainId:98864n,shortName:"plume-devnet"},{chainId:98865n,shortName:"plume"},{chainId:103454n,shortName:"masatest"},{chainId:105105n,shortName:"stratis"},{chainId:111188n,shortName:"re-al"},{chainId:128123n,shortName:"etlt"},{chainId:167000n,shortName:"tko-mainnet"},{chainId:167008n,shortName:"tko-katla"},{chainId:167009n,shortName:"tko-hekla"},{chainId:175188n,shortName:"lpy"},{chainId:200101n,shortName:"milktada"},{chainId:200202n,shortName:"milktalgo"},{chainId:200810n,shortName:"btrt"},{chainId:205205n,shortName:"auroria"},{chainId:314159n,shortName:"filecoin-calibration"},{chainId:328527n,shortName:"nal"},{chainId:333999n,shortName:"olympus"},{chainId:381931n,shortName:"metal"},{chainId:421611n,shortName:"arb-rinkeby"},{chainId:421613n,shortName:"arb-goerli"},{chainId:421614n,shortName:"arb-sep"},{chainId:444444n,shortName:"syndr"},{chainId:490000n,shortName:"ATN"},{chainId:534351n,shortName:"scr-sepolia"},{chainId:534352n,shortName:"scr"},{chainId:534353n,shortName:"scr-alpha"},{chainId:543210n,shortName:"zero-network"},{chainId:555666n,shortName:"eclipset"},{chainId:560048n,shortName:"hoe"},{chainId:622277n,shortName:"rth"},{chainId:656476n,shortName:"open-campus-codex"},{chainId:660279n,shortName:"xai"},{chainId:668668n,shortName:"cnw"},{chainId:713715n,shortName:"sei-devnet"},{chainId:743111n,shortName:"hemi-sep"},{chainId:763373n,shortName:"inksepolia"},{chainId:764984n,shortName:"lamina1test"},{chainId:808813n,shortName:"bob-sepolia"},{chainId:810180n,shortName:"zklink-nova"},{chainId:839999n,shortName:"txsat"},{chainId:978657n,shortName:"treasure-ruby"},{chainId:984122n,shortName:"forma"},{chainId:1501869n,shortName:"water9"},{chainId:3441006n,shortName:"mantaSepoliaTestnet"},{chainId:4457845n,shortName:"zero-sepolia"},{chainId:6038361n,shortName:"azkyt"},{chainId:7225878n,shortName:"saakuru"},{chainId:7777777n,shortName:"zora"},{chainId:9999999n,shortName:"fluence"},{chainId:11155111n,shortName:"sep"},{chainId:11155420n,shortName:"opsep"},{chainId:12227332n,shortName:"neox-t4"},{chainId:21000000n,shortName:"corn"},{chainId:52164803n,shortName:"fluence-testnet"},{chainId:94204209n,shortName:"polygon-blackberry"},{chainId:111557560n,shortName:"cysep"},{chainId:123420111n,shortName:"opcelestia-raspberry"},{chainId:161221135n,shortName:"plume-testnet"},{chainId:168587773n,shortName:"blastsepolia"},{chainId:222000222n,shortName:"kanazawa"},{chainId:245022926n,shortName:"neonevm-devnet"},{chainId:245022934n,shortName:"neonevm-mainnet"},{chainId:253368190n,shortName:"flame"},{chainId:328527624n,shortName:"nalsep"},{chainId:333000333n,shortName:"meld"},{chainId:476462898n,shortName:"Skopje"},{chainId:666666666n,shortName:"degen-chain"},{chainId:888888888n,shortName:"ancient8"},{chainId:994873017n,shortName:"lumia-mainnet"},{chainId:999999999n,shortName:"zsep"},{chainId:1313161554n,shortName:"aurora"},{chainId:1313161555n,shortName:"aurora-testnet"},{chainId:1417429182n,shortName:"zephyr"},{chainId:1511670449n,shortName:"GPT"},{chainId:1570754601n,shortName:"hst-test"},{chainId:1666600000n,shortName:"hmy-s0"},{chainId:1666700000n,shortName:"hmy-b-s0"},{chainId:1952959480n,shortName:"lumiatestnet"},{chainId:11297108099n,shortName:"tpalm"},{chainId:11297108109n,shortName:"palm"},{chainId:37714555429n,shortName:"xaitestnet"},{chainId:88153591557n,shortName:"arb-blueberry"},{chainId:123420000220n,shortName:"fluence-stage"},{chainId:920637907288165n,shortName:"kkrt-starknet-sepolia"}];try{bse.TEST_NETWORK==="hardhat"&&_f.push({shortName:"local",chainId:31337n})}catch{}function Sse(t){const e=t.split(":"),n=e.length>1?e[1]:e[0];return{prefix:e.length>1?e[0]:"",address:n}}function wse(t){const e=_f.find(n=>t===n.chainId);if(!e)throw new Error("No network prefix supported for the current chainId");return e.shortName}function kse(t){return _f.some(({shortName:e})=>e===t)}function Vse(t,e){const n=t===wse(e);if(!kse(t)||!n)throw new Error("The network prefix must match the current network")}function qf(t){if(!pt(t))throw new Error(`Invalid Ethereum address ${t}`)}function YW(t,e){const{address:n,prefix:a}=Sse(t);return qf(n),a&&Vse(a,e),{address:n,prefix:a}}function TW(t){return t.predictedSafe!==void 0}function Be(t){return qa(t)?t:`0x${t}`}function FW(t){const e=Object.values(dse).find(n=>n.id===Number(t));return e||h({id:Number(t),name:"Custom",nativeCurrency:{decimals:W9.wei,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:[],webSocket:[]}}})}function KW({types:t,name:e,type:n,value:a}){if(t[n]!==void 0)return[{type:"bytes32"},ct(UW({data:a,primaryType:n,types:t}))];if(n==="bytes")return a=`0x${(a.length%2?"0":"")+a.slice(2)}`,[{type:"bytes32"},ct(a)];if(n==="string")return[{type:"bytes32"},ct(Ge(a))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),r=a.map(l=>KW({name:e,type:s,types:t,value:l}));return[{type:"bytes32"},ct(ts(r.map(([l])=>l),r.map(([,l])=>l)))]}return[{type:n},a]}function MW({primaryType:t,types:e},n=new Set){const a=t.match(/^\w*/u),s=(a==null?void 0:a[0])||"";if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const r of e[s])MW({primaryType:r.type,types:e},n);return n}function Wse({primaryType:t,types:e}){let n="";const a=MW({primaryType:t,types:e});a.delete(t);const s=[t,...Array.from(a).sort()];for(const r of s)n+=`${r}(${e[r].map(({name:l,type:c})=>`${c} ${l}`).join(",")})`;return n}function Rse({primaryType:t,types:e}){const n=Ge(Wse({primaryType:t,types:e}));return ct(n)}function UW({data:t,primaryType:e,types:n}){const a=[{type:"bytes32"}],s=[Rse({primaryType:e,types:n})];for(const r of n[e]){const[l,c]=KW({types:n,name:r.name,type:r.type,value:t[r.name]});a.push(l),s.push(c)}return ts(a,s)}function vse({data:t,primaryType:e,types:n}){const a=UW({data:t,primaryType:e,types:n});return ct(a)}function Xse(t){return Object.keys(t)[0]}function Jse(t){const e=$f(t);return ct(Be(e))}function $f(t){t.primaryType=t!=null&&t.primaryType?t==null?void 0:t.primaryType:Xse(t.types);const{domain:e={},message:n,primaryType:a}=t,s={EIP712Domain:xf({domain:e}),...t.types};Ef({domain:e,message:n,primaryType:a,types:s});const r=["0x1901"];return e&&r.push(TV({domain:e,types:s})),a!=="EIP712Domain"&&r.push(vse({data:n,primaryType:a,types:s})),Ln(r)}var e2=">=1.3.0",DW=[{type:"address",name:"verifyingContract"}],zW=[{type:"uint256",name:"chainId"},{type:"address",name:"verifyingContract"}];function t2(t){return{EIP712Domain:Bs(t,e2)?zW:DW,SafeTx:[{type:"address",name:"to"},{type:"uint256",name:"value"},{type:"bytes",name:"data"},{type:"uint8",name:"operation"},{type:"uint256",name:"safeTxGas"},{type:"uint256",name:"baseGas"},{type:"uint256",name:"gasPrice"},{type:"address",name:"gasToken"},{type:"address",name:"refundReceiver"},{type:"uint256",name:"nonce"}]}}function n2(t){return{EIP712Domain:Bs(t,e2)?zW:DW,SafeMessage:[{type:"bytes",name:"message"}]}}var a2=t=>Jse(t),Ese=t=>UA(t),y1=t=>typeof t=="string"?Ese(t):a2(t);function xse({safeAddress:t,safeVersion:e,chainId:n,data:a}){const s=a.hasOwnProperty("to"),r=Bs(e,e2);let l;if(s){const c=a;l={types:t2(e),domain:{verifyingContract:t},primaryType:"SafeTx",message:{...c,value:c.value,safeTxGas:c.safeTxGas,baseGas:c.baseGas,gasPrice:c.gasPrice,nonce:c.nonce}}}else{const c=a;l={types:n2(e),domain:{verifyingContract:t},primaryType:"SafeMessage",message:{message:y1(c)}}}return r&&(l.domain.chainId=Number(n)),l}var Iw={SAFE_TX_GAS_OPTIONAL:">=1.3.0",SAFE_TX_GUARDS:">=1.3.0",SAFE_FALLBACK_HANDLER:">=1.1.1",ETH_SIGN:">=1.1.0",ACCOUNT_ABSTRACTION:">=1.3.0",REQUIRED_TXGAS:"<=1.2.0",SIMULATE_AND_REVERT:">=1.3.0",PASSKEY_SIGNER:">=1.3.0",SAFE_L2_CONTRACTS:">=1.3.0"},Wa=(t,e)=>t in Iw?Bs(e,Iw[t]):!1;async function Nse(t){const e=t.safeVersion;if(!Wa("SIMULATE_AND_REVERT",e))throw new Error("Current version of the Safe does not support the simulateAndRevert functionality");return t}var iu=class{constructor(t,e,n=!1){this.signer=t,this.data=e,this.isContractSignature=n}staticPart(t){return this.isContractSignature?`${this.signer.slice(2).padStart(64,"0")}${t||""}00`:this.data}dynamicPart(){return this.isContractSignature?`${(this.data.slice(2).length/2).toString(16).padStart(64,"0")}${this.data.slice(2)}`:""}};function jp(t){const e="0x000000000000000000000000"+t.slice(2)+"000000000000000000000000000000000000000000000000000000000000000001";return new iu(t,e)}async function Hse(t,e,n){let a;try{const s=await lf({hash:t,signature:Be(e)});a=!ua(s,n)}catch{a=!0}return a}var s2=async(t,e,n,a)=>{const s=[0,1,27,28],r=27;let l=parseInt(e.slice(-2),16);if(!s.includes(l))throw new Error("Invalid signature");if(t===rn.ETH_SIGN){l<r&&(l+=r);const c=e.slice(0,-2)+l.toString(16);await Hse(n,c,a)&&(l+=4)}return t===rn.ETH_SIGN_TYPED_DATA&&l<r&&(l+=r),e=e.slice(0,-2)+l.toString(16),e};async function Yse(t,e){const n=await t.getSignerAddress();if(!n)throw new Error("SafeProvider must be initialized with a signer to use this method");let a=await t.signMessage(e);return a=await s2(rn.ETH_SIGN,a,e,n),new iu(n,a)}async function Tse(t,e,n){const a=await t.getSignerAddress();if(!a)throw new Error("SafeProvider must be initialized with a signer to use this method");let s=await t.signTypedData(e,n);return s=await s2(rn.ETH_SIGN_TYPED_DATA,s),new iu(a,s)}var OA=t=>{t.sort((s,r)=>s.signer.toLowerCase().localeCompare(r.signer.toLowerCase()));let n=xW,a="";for(const s of t)if(s.isContractSignature){const r=(t.length*65+a.length/2).toString(16).padStart(64,"0");n+=s.staticPart(r),a+=s.dynamicPart()}else n+=s.data.slice(2);return n+a},Fse=(t,e,n,a)=>{const s=t2(n),r=e;return $f({domain:{verifyingContract:t,chainId:Number(a)},types:{SafeTx:s.SafeTx},message:r})},Kse=(t,e,n,a)=>{const s=n2(n);return $f({domain:{verifyingContract:t,chainId:Number(a)},types:{SafeMessage:s.SafeMessage},message:{message:e}})},Mse=">=1.3.0",Use=(t,e,n,a)=>{const s=t2(n),r={verifyingContract:t};Bs(n,Mse)&&(r.chainId=Number(a));const l=e;return a2({domain:r,types:{SafeTx:s.SafeTx},message:l})},Dse=(t,e,n,a)=>{const s=n2(n);return a2({domain:{verifyingContract:t,chainId:Number(a)},types:{SafeMessage:s.SafeMessage},message:{message:e}})},Dm,LW,vw,zse=(vw=class{constructor(t,e,n,a,s,r,l,c){q(this,Dm);this.getAddress=()=>this.contractAddress,this.encode=(I,p)=>{const A=this.contractAbi;return pa({abi:A,functionName:I,args:p})},this.estimateGas=async(I,p,A={})=>{const Z=this.convertOptions(A),S=this.contractAbi,B=p;return nV(this.runner,{abi:S,functionName:I,address:this.getAddress(),args:B,...Z})};const g=Gse(s,e,t),u=r??ce(this,Dm,LW).call(this,g==null?void 0:g.networkAddresses[e.toString()],g,c);if(!u)throw new Error(`Invalid ${t.replace("Version","")} contract address`);this.chainId=e,this.contractName=t,this.safeVersion=s,this.contractAddress=u,this.contractAbi=l||(g==null?void 0:g.abi)||a,this.runner=n.getExternalProvider(),this.safeProvider=n}async init(){this.wallet=await this.safeProvider.getExternalSigner()}async getTransactionReceipt(t){return xm(this.runner,{hash:t})}convertOptions(t){const e=this.getChain();if(!e)throw new Error("Invalid chainId");const n=this.getWallet().account;if(!n)throw new Error("Invalid signer");const a=ure(t);return{chain:e,...a,account:n}}getChain(){return FW(this.chainId)}getWallet(){if(!this.wallet)throw new Error("A signer must be set");return this.wallet}async write(t,e,n){const a=this.convertOptions(n);return await this.getWallet().writeContract({address:this.contractAddress,abi:this.contractAbi,functionName:t,args:e,...a})}async read(t,e){return await this.runner.readContract({functionName:t,abi:this.contractAbi,address:this.contractAddress,args:e})}},Dm=new WeakSet,LW=function(t,e,n){var a;if(t){if(n&&e&&"deployments"in e){const s=(a=e.deployments[n])==null?void 0:a.address;return typeof t=="string"?t===s?s:void 0:t.find(r=>r===s)}return typeof t=="string"?t:t[0]}},vw),Io=zse,Lse=class extends Io{constructor(t,e,n,a,s,r,l){const c="multiSendVersion";super(c,t,e,n,a,s,r,l),this.contractName=c}},i2=Lse,Qse=class extends i2{constructor(t,e,n,a,s){const r="1.1.1",l=VY.abi;super(t,e,l,r,n,a,s)}},Pse=Qse,Ose=class extends i2{constructor(t,e,n,a,s){const r="1.3.0",l=WY.abi;super(t,e,l,r,n,a,s)}},jse=Ose,_se=class extends i2{constructor(t,e,n,a,s){const r="1.4.1",l=RY.abi;super(t,e,l,r,n,a,s)}},qse=_se,$se=class extends Io{constructor(t,e,n,a,s,r,l){const c="multiSendCallOnlyVersion";super(c,t,e,n,a,s,r,l),this.contractName=c}},QW=$se,eie=class extends QW{constructor(t,e,n,a,s){const r="1.3.0",l=vY.abi;super(t,e,l,r,n,a,s)}},tie=eie,nie=class extends QW{constructor(t,e,n,a,s){const r="1.4.1",l=XY.abi;super(t,e,l,r,n,a,s)}},aie=nie,sie=class extends Io{constructor(t,e,n,a,s=Zse.includes(t),r,l,c){const u=s||!Wa("SAFE_L2_CONTRACTS",a)?"safeSingletonVersion":"safeSingletonL2Version";super(u,t,e,n,a,r,l,c),this.contractName=u}},ju=sie,iie=class extends ju{constructor(t,e,n,a,s,r){const l="1.0.0",c=JY.abi;super(t,e,c,l,n,a,s,r),this.DOMAIN_SEPARATOR_TYPEHASH=async()=>[await this.read("DOMAIN_SEPARATOR_TYPEHASH")],this.SENTINEL_MODULES=async()=>[await this.read("SENTINEL_MODULES")],this.SENTINEL_OWNERS=async()=>[await this.read("SENTINEL_OWNERS")],this.SAFE_MSG_TYPEHASH=async()=>[await this.read("SAFE_MSG_TYPEHASH")],this.SAFE_TX_TYPEHASH=async()=>[await this.read("SAFE_TX_TYPEHASH")],this.NAME=async()=>[await this.read("NAME")],this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async g=>[await this.read("approvedHashes",g)],this.domainSeparator=async()=>[await this.read("domainSeparator")],this.getModules=async()=>[await this.read("getModules")],this.getOwners=async()=>[await this.read("getOwners")],this.getThreshold=async()=>[await this.read("getThreshold")],this.isOwner=async g=>[await this.read("isOwner",g)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async g=>[await this.read("signedMessages",g)],this.getMessageHash=async g=>[await this.read("getMessageHash",g)],this.encodeTransactionData=async g=>[await this.read("encodeTransactionData",g)],this.getTransactionHash=async g=>[await this.read("getTransactionHash",g)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return ks(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return ks(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async getModulesPaginated([t,e]){if(e<=0)throw new Error("Invalid page size for fetching paginated modules");const n=Number(e),[a]=await this.getModules();if(NW(t)){const s=e<a.length?a[n]:zi;return[a.slice(0,n),s]}else{const s=a.findIndex(c=>ua(c,t));if(s===-1)return[[],zi];const r=s+1,l=r+n<a.length?a[r+n]:zi;return[a.slice(s+1,r+n),l]}}async isModuleEnabled([t]){const[e]=await this.getModules();return[e.some(a=>ua(a,t))]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await ad(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async getNonce(){const[t]=await this.nonce();return t}},rie=iie,oie=class extends ju{constructor(t,e,n,a,s,r){const l="1.1.1",c=EY.abi;super(t,e,c,l,n,a,s,r),this.NAME=async()=>[await this.read("NAME")],this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async g=>[await this.read("approvedHashes",g)],this.domainSeparator=async()=>[await this.read("domainSeparator")],this.getModules=async()=>[await this.read("getModules")],this.getModulesPaginated=async g=>{const[u,I]=await this.read("getModulesPaginated",g);return[u,I]},this.getOwners=async()=>[await this.read("getOwners")],this.getThreshold=async()=>[await this.read("getThreshold")],this.isOwner=async g=>[await this.read("isOwner",g)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async g=>[await this.read("signedMessages",g)],this.getMessageHash=async g=>[await this.read("getMessageHash",g)],this.encodeTransactionData=async g=>[await this.read("encodeTransactionData",g)],this.getTransactionHash=async g=>[await this.read("getTransactionHash",g)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return ks(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return ks(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async isModuleEnabled([t]){const[e]=await this.getModules();return[e.some(a=>ua(a,t))]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await ad(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async getNonce(){const[t]=await this.nonce();return t}},lie=oie,cie=class extends ju{constructor(t,e,n,a,s,r){const l="1.2.0",c=xY.abi;super(t,e,c,l,n,a,s,r),this.NAME=async()=>[await this.read("NAME")],this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async g=>[await this.read("approvedHashes",g)],this.domainSeparator=async()=>[await this.read("domainSeparator")],this.getModules=async()=>[await this.read("getModules")],this.getModulesPaginated=async g=>{const[u,I]=await this.read("getModulesPaginated",g);return[u,I]},this.getOwners=async()=>[await this.read("getOwners")],this.getThreshold=async()=>[await this.read("getThreshold")],this.isModuleEnabled=async g=>[await this.read("isModuleEnabled",g)],this.isOwner=async g=>[await this.read("isOwner",g)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async g=>[await this.read("signedMessages",g)],this.getMessageHash=async g=>[await this.read("getMessageHash",g)],this.encodeTransactionData=async g=>[await this.read("encodeTransactionData",g)],this.getTransactionHash=async g=>[await this.read("getTransactionHash",g)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return ks(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return ks(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async getChainId(){return[await Promise.resolve(this.chainId)]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await ad(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async getNonce(){const[t]=await this.nonce();return t}},gie=cie,die=class extends ju{constructor(t,e,n,a,s,r){const l="1.3.0",c=NY.abi;super(t,e,c,l,n,a,s,r),this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async g=>[await this.read("approvedHashes",g)],this.checkNSignatures=async g=>(await this.read("checkNSignatures",g),[]),this.checkSignatures=async g=>(await this.read("checkSignatures",g),[]),this.domainSeparator=async()=>[await this.read("domainSeparator")],this.encodeTransactionData=async g=>[await this.read("encodeTransactionData",g)],this.getModulesPaginated=async g=>{const[u,I]=await this.read("getModulesPaginated",g);return[u,I]},this.getOwners=async()=>[await this.read("getOwners")],this.getStorageAt=async g=>[await this.read("getStorageAt",g)],this.getThreshold=async()=>[await this.read("getThreshold")],this.getTransactionHash=async g=>[await this.read("getTransactionHash",g)],this.isModuleEnabled=async g=>[await this.read("isModuleEnabled",g)],this.isOwner=async g=>[await this.read("isOwner",g)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async g=>[await this.read("signedMessages",g)]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await ad(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return ks(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async getModules(){const[t]=await this.getModulesPaginated([zi,BigInt(10)]);return[t.map(e=>e)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return ks(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async getChainId(){return[await Promise.resolve(this.chainId)]}async getNonce(){const[t]=await this.nonce();return t}},Iie=die,uie=class extends ju{constructor(t,e,n,a,s,r){const l="1.4.1",c=HY.abi;super(t,e,c,l,n,a,s,r),this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async g=>[await this.read("approvedHashes",g)],this.checkNSignatures=async g=>(await this.read("checkNSignatures",g),[]),this.checkSignatures=async g=>(await this.read("checkSignatures",g),[]),this.domainSeparator=async()=>[await this.read("domainSeparator")],this.encodeTransactionData=async g=>[await this.read("encodeTransactionData",g)],this.getModulesPaginated=async g=>{const[u,I]=await this.read("getModulesPaginated",g);return[u,I]},this.getOwners=async()=>[await this.read("getOwners")],this.getStorageAt=async g=>[await this.read("getStorageAt",g)],this.getThreshold=async()=>[await this.read("getThreshold")],this.getTransactionHash=async g=>[await this.read("getTransactionHash",g)],this.isModuleEnabled=async g=>[await this.read("isModuleEnabled",g)],this.isOwner=async g=>[await this.read("isOwner",g)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async g=>[await this.read("signedMessages",g)]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await ad(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return ks(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async getModules(){const[t]=await this.getModulesPaginated([zi,BigInt(10)]);return[t.map(e=>e)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return ks(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async getChainId(){return[await Promise.resolve(this.chainId)]}async getNonce(){const[t]=await this.nonce();return t}},Cie=uie,pie=class extends Io{constructor(t,e,n,a,s,r,l){const c="safeProxyFactoryVersion";super(c,t,e,n,a,s,r,l),this.contractName=c}},jA=pie,mie=class extends jA{constructor(t,e,n,a,s){const r="1.0.0",l=YY.abi;super(t,e,l,r,n,a,s),this.proxyCreationCode=async()=>[await this.read("proxyCreationCode")],this.proxyRuntimeCode=async()=>[await this.read("proxyRuntimeCode")],this.createProxy=async c=>[await this.write("createProxy",c)],this.createProxyWithNonce=async c=>[await this.write("createProxyWithNonce",c)]}},Aie=mie,yie=class extends jA{constructor(t,e,n,a,s){const r="1.1.1",l=TY.abi;super(t,e,l,r,n,a,s),this.proxyCreationCode=async()=>[await this.read("proxyCreationCode")],this.proxyRuntimeCode=async()=>[await this.read("proxyRuntimeCode")],this.calculateCreateProxyWithNonceAddress=async c=>[await this.write("calculateCreateProxyWithNonceAddress",c)],this.createProxy=async c=>[await this.write("createProxy",c)],this.createProxyWithCallback=async c=>[await this.write("createProxyWithCallback",c)],this.createProxyWithNonce=async c=>[await this.write("createProxyWithNonce",c)]}},bie=yie,hie=class extends jA{constructor(t,e,n,a,s){const r="1.3.0",l=FY.abi;super(t,e,l,r,n,a,s),this.proxyCreationCode=async()=>[await this.read("proxyCreationCode")],this.proxyRuntimeCode=async()=>[await this.read("proxyRuntimeCode")],this.calculateCreateProxyWithNonceAddress=async c=>[await this.write("calculateCreateProxyWithNonceAddress",c)],this.createProxy=async c=>[await this.write("createProxy",c)],this.createProxyWithCallback=async c=>[await this.write("createProxyWithCallback",c)],this.createProxyWithNonce=async c=>[await this.write("createProxyWithNonce",c)]}},fie=hie,Zie=class extends jA{constructor(t,e,n,a,s){const r="1.4.1",l=KY.abi;super(t,e,l,r,n,a,s),this.getChainId=async()=>[await this.read("getChainId")],this.proxyCreationCode=async()=>[await this.read("proxyCreationCode")],this.createChainSpecificProxyWithNonce=async c=>[await this.write("createChainSpecificProxyWithNonce",c)],this.createProxyWithCallback=async c=>[await this.write("createProxyWithCallback",c)],this.createProxyWithNonce=async c=>[await this.write("createProxyWithNonce",c)]}},Gie=Zie,Bie=class extends Io{constructor(t,e,n,a,s,r,l){const c="simulateTxAccessorVersion";super(c,t,e,n,a,s,r,l),this.contractName=c}},PW=Bie,Sie=class extends PW{constructor(t,e,n,a,s){const r="1.3.0",l=MY.abi;super(t,e,l,r,n,a,s),this.simulate=async c=>{const[g,u,I]=await this.write("simulate",c);return[BigInt(g),!!u,Be(I)]}}},wie=Sie,kie=class extends PW{constructor(t,e,n,a,s){const r="1.4.1",l=UY.abi;super(t,e,l,r,n,a,s),this.simulate=async c=>{const[g,u,I]=await this.write("simulate",c);return[BigInt(g),!!u,Be(I)]}}},Vie=kie,Wie=class extends Io{constructor(t,e,n,a,s,r,l){const c="compatibilityFallbackHandler";super(c,t,e,n,a,s,r,l),this.contractName=c}},OW=Wie,Rie=class extends OW{constructor(t,e,n,a,s){const r="1.3.0",l=wY.abi;super(t,e,l,r,n,a,s)}},vie=Rie,Xie=class extends OW{constructor(t,e,n,a,s){const r="1.4.1",l=kY.abi;super(t,e,l,r,n,a,s)}},Jie=Xie,Eie=class extends Io{constructor(t,e,n,a,s,r,l){const c="safeWebAuthnSignerFactoryVersion";super(c,t,e,n,a,s,r,l),this.contractName=c}},xie=Eie,Nie=class extends xie{constructor(t,e,n,a,s,r){const l=DY.abi;super(t,e,l,n,a,s,r),this.getSigner=async c=>[await this.read("getSigner",c)],this.createSigner=async c=>[await this.write("createSigner",c)],this.isValidSignatureForSigner=async c=>[await this.read("isValidSignatureForSigner",c)]}},Hie=Nie,Yie=class extends Io{constructor(t,e,n,a,s,r,l){const c="safeWebAuthnSharedSignerVersion";super(c,t,e,n,a,s,r,l),this.contractName=c}},Tie=Yie,Fie=class extends Tie{constructor(t,e,n,a,s,r){const l=zY.abi;super(t,e,l,n,a,s,r),this.getConfiguration=async c=>[await this.read("getConfiguration",c)],this.configure=async c=>(await this.write("configure",c),[]),this.isValidSignature=async c=>[await this.read("isValidSignature",c)],this.SIGNER_SLOT=async()=>[await this.read("SIGNER_SLOT")]}},Kie=Fie;async function Mie(t,e,n,a,s,r){const l=await e.getChainId();let c;switch(t){case"1.4.1":c=new Cie(l,e,s,n,a,r);break;case"1.3.0":c=new Iie(l,e,s,n,a,r);break;case"1.2.0":c=new gie(l,e,s,n,a,r);break;case"1.1.1":c=new lie(l,e,s,n,a,r);break;case"1.0.0":c=new rie(l,e,s,n,a,r);break;default:throw new Error("Invalid Safe version")}return await c.init(),c}async function Uie(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new Jie(r,e,n,a,s);break;case"1.3.0":case"1.2.0":case"1.1.1":l=new vie(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function Die(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new qse(r,e,n,a,s);break;case"1.3.0":l=new jse(r,e,n,a,s);break;case"1.2.0":case"1.1.1":case"1.0.0":l=new Pse(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function zie(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new aie(r,e,n,a,s);break;case"1.3.0":case"1.2.0":case"1.1.1":case"1.0.0":l=new tie(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function Lie(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new Gie(r,e,n,a,s);break;case"1.3.0":l=new fie(r,e,n,a,s);break;case"1.2.0":case"1.1.1":l=new bie(r,e,n,a,s);break;case"1.0.0":l=new Aie(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function Qie(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new Vie(r,e,n,a,s);break;case"1.3.0":l=new wie(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function Pie(t,e,n,a,s){const r=await e.getChainId();switch(t){case"1.4.1":case"1.3.0":const l=new Hie(r,e,t,n,a,s);return await l.init(),l;default:throw new Error("Invalid Safe version")}}async function Oie(t,e,n,a,s){const r=await e.getChainId();switch(t){case"1.4.1":case"1.3.0":const l=new Kie(r,e,t,n,a,s);return await l.init(),l;default:throw new Error("Invalid Safe version")}}async function Nm({safeProvider:t,safeVersion:e,customSafeAddress:n,isL1SafeSingleton:a,customContracts:s,deploymentType:r}){const l=await Mie(e,t,n??(s==null?void 0:s.safeSingletonAddress),s==null?void 0:s.safeSingletonAbi,a,r);if(!await t.isContractDeployed(l.getAddress()))throw new Error("SafeProxy contract is not deployed on the current network");return l}async function jW({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Lie(e,t,n==null?void 0:n.safeProxyFactoryAddress,n==null?void 0:n.safeProxyFactoryAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("SafeProxyFactory contract is not deployed on the current network");return s}async function _W({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Uie(e,t,n==null?void 0:n.fallbackHandlerAddress,n==null?void 0:n.fallbackHandlerAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("CompatibilityFallbackHandler contract is not deployed on the current network");return s}async function jie({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Die(e,t,n==null?void 0:n.multiSendAddress,n==null?void 0:n.multiSendAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("MultiSend contract is not deployed on the current network");return s}async function _ie({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await zie(e,t,n==null?void 0:n.multiSendCallOnlyAddress,n==null?void 0:n.multiSendCallOnlyAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("MultiSendCallOnly contract is not deployed on the current network");return s}async function qie({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Qie(e,t,n==null?void 0:n.simulateTxAccessorAddress,n==null?void 0:n.simulateTxAccessorAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("SimulateTxAccessor contract is not deployed on the current network");return s}async function $ie({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Pie(e,t,n==null?void 0:n.safeWebAuthnSignerFactoryAddress,n==null?void 0:n.safeWebAuthnSignerFactoryAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("safeWebAuthnSignerFactory contract is not deployed on the current network");return s}async function ere({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Oie(e,t,n==null?void 0:n.safeWebAuthnSharedSignerAddress,n==null?void 0:n.safeWebAuthnSharedSignerAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("safeWebAuthnSharedSigner contract is not deployed on the current network");return s}async function tre(t,e,n,a,s,r,l,c){const g=await n.getChainId(),u=await qie({safeProvider:n,safeVersion:t,customContracts:c==null?void 0:c[g.toString()]}),I=u.encode("simulate",[a,BigInt(s),Be(r),l]),A=(await Nse(e)).encode("simulateAndRevert",[u.getAddress(),Be(I)]),Z=e.getAddress(),S={to:Z,value:"0",data:A,from:Z};try{const B=await n.call(S);return AI(B)}catch(B){return rre(B)}}async function nre(t,e,n,a,s,r){const l=t.getAddress();try{return await e.estimateGas({to:n,from:l,value:a,data:s})}catch(c){return r===Di.DelegateCall?"0":Promise.reject(c)}}function AI(t){const[,e]=t.split("0x");return(+("0x"+("0x"+e).slice(184).slice(0,10))).toString()}function are(t){return t.data!=null}function sre(t){return t instanceof ge}function ire(t){return t.info.error.data!=null}function rre(t){if(are(t))return AI(t.data);if(sre(t)){const n=t.walk();if(typeof(n==null?void 0:n.data)=="string")return AI(n==null?void 0:n.data)}if(ire(t)){const n=t.info.error.data,s=typeof n=="string"?n:n.data;return AI(s)}if(t.message.includes("0x"))return AI(t.message);throw new Error("Could not parse SafeTxGas from Estimation response, Details: "+(t==null?void 0:t.message))}var ore=class{constructor(t){this.signatures=new Map,this.data=t}getSignature(t){return this.signatures.get(t.toLowerCase())}addSignature(t){this.signatures.set(t.signer.toLowerCase(),t)}encodedSignatures(){return OA(Array.from(this.signatures.values()))}},uw=ore;function lre(t){return{...t,operation:t.operation??Di.Call}}async function Cw({safeContract:t,predictedSafe:e,provider:n,tx:a,contractNetworks:s}){var I;const r={to:a.to,value:a.value,data:a.data,operation:a.operation??Di.Call,baseGas:a.baseGas??"0",gasPrice:a.gasPrice??"0",gasToken:a.gasToken||$r,refundReceiver:a.refundReceiver||$r,nonce:a.nonce??(t?Number(await t.getNonce()):0)};if(typeof a.safeTxGas<"u")return{...r,safeTxGas:a.safeTxGas};let l;if(e)l=((I=e==null?void 0:e.safeDeploymentConfig)==null?void 0:I.safeVersion)||qs;else{if(!t)throw new Error("Safe is not deployed");l=t.safeVersion}const c=Wa("SAFE_TX_GAS_OPTIONAL",l);if(c&&r.gasPrice==="0"||c&&e)return{...r,safeTxGas:"0"};if(!t)throw new Error("Safe is not deployed");let g;const u=new wl({provider:n});return Bs(l,">=1.3.0")?g=await tre(l,t,u,r.to,r.value,r.data,r.operation,s):g=await nre(t,u,r.to,r.value,r.data,r.operation),{...r,safeTxGas:g}}function cre(t){const e=gn(t.data);return q8(["uint8","address","uint256","uint256","bytes"],[t.operation??Di.Call,t.to,BigInt(t.value),BigInt(e.length),Ft(e)]).slice(2)}function pw(t){return`0x${t.map(e=>cre(e)).join("")}`}function qb(t){return t.isExecuted!==void 0}function mw(t){return t.passkey!==void 0}function gre(t){return t.oldOwnerPasskey!==void 0}function Aw(t){return t.newOwnerPasskey!==void 0}function dre(t){const e=r2(t)?o2(t):l2(t);return t.value&&(e.value=BigInt(t.value)),t.to&&(e.to=t.to),t.data&&(e.data=Be(t.data)),e}function Ire(t){const e=r2(t)?o2(t):l2(t);return t.to&&(e.to=t.to),t.data&&(e.data=Be(t.data)),e}function ure(t){return r2(t)?o2(t):l2(t)}function r2(t){return!!(t!=null&&t.gasPrice)}function o2(t){const e={};return t!=null&&t.from&&(e.account=t.from),t!=null&&t.gasLimit&&(e.gas=BigInt(t.gasLimit)),t!=null&&t.gasPrice&&(e.gasPrice=BigInt(t.gasPrice)),t!=null&&t.nonce&&(e.nonce=t.nonce),e}function l2(t){const e={};return t!=null&&t.from&&(e.account=t.from),t!=null&&t.gasLimit&&(e.gas=BigInt(t.gasLimit)),t!=null&&t.maxFeePerGas&&(e.maxFeePerGas=BigInt(t.maxFeePerGas)),t!=null&&t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=BigInt(t.maxPriorityFeePerGas)),t!=null&&t.nonce&&(e.nonce=t.nonce),e}function Cre(t){return t.some(e=>e.operation&&e.operation===Di.DelegateCall)}function pre(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=fI.from(e,"base64");return new Uint8Array(n)}async function mre(){const{p256:t}=await EI(async()=>{const{p256:g}=await import("./p256-n4az6YVG.js");return{p256:g}},[]),{AsnParser:e,AsnProp:n,AsnPropTypes:a,AsnType:s,AsnTypeTypes:r}=await EI(async()=>{const{AsnParser:g,AsnProp:u,AsnPropTypes:I,AsnType:p,AsnTypeTypes:A}=await import("./index-DKM6kzaH.js");return{AsnParser:g,AsnProp:u,AsnPropTypes:I,AsnType:p,AsnTypeTypes:A}},[]);let l=class{constructor(){this.id="",this.curve=""}};Bc([n({type:a.ObjectIdentifier})],l.prototype,"id",2),Bc([n({type:a.ObjectIdentifier,optional:!0})],l.prototype,"curve",2),l=Bc([s({type:r.Sequence})],l);let c=class{constructor(){this.algorithm=new l,this.publicKey=new ArrayBuffer(0)}};return Bc([n({type:l})],c.prototype,"algorithm",2),Bc([n({type:a.BitString})],c.prototype,"publicKey",2),c=Bc([s({type:r.Sequence})],c),{p256:t,AsnParser:e,ECPublicKey:c}}async function Are(t){const{p256:e,AsnParser:n,ECPublicKey:a}=await mre();let s=pre(t);if(s.length===0)throw new Error("Decoded public key is empty.");const r=s[0]===48,l=s.length===64;if(r){const I=n.parse(s.buffer,a);s=new Uint8Array(I.publicKey)}else if(l){const I=new Uint8Array(65);I[0]=4,I.set(s,1),s=I}const c=e.ProjectivePoint.fromHex(s),g=c.x.toString(16).padStart(64,"0"),u=c.y.toString(16).padStart(64,"0");return{x:"0x"+g,y:"0x"+u}}async function yre(t){const e={name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}},n=await crypto.subtle.importKey("spki",t,e,!0,["verify"]),{x:a,y:s}=await crypto.subtle.exportKey("jwk",n);if(!(!!a&&!!s))throw new Error("Failed to generate passkey Coordinates. crypto.subtle.exportKey() failed");return{x:"0x"+fI.from(a,"base64").toString("hex"),y:"0x"+fI.from(s,"base64").toString("hex")}}async function bre(t){const n=t.getPublicKey();if(!n)throw new Error("Failed to generate passkey coordinates. getPublicKey() failed");if(typeof n=="string")return Are(n);if(n instanceof ArrayBuffer)return await yre(n);throw new Error("Unsupported public key format.")}async function hre(t){const e=t,n=fI.from(e.rawId).toString("hex"),a=await bre(e.response);return{rawId:n,coordinates:a}}function qW(t){const e=m1.getFCLP256VerifierDeployment({version:"0.2.1",released:!0,network:t});if(!e)throw new Error(`Failed to load FCLP256Verifier deployment for chain ID ${t}`);const n=e.networkAddresses[t];if(!n)throw new Error(`FCLP256Verifier address not found for chain ID ${t}`);return n}async function fre(t,e,n,a,s){const r=e.contractAddress;if(n&&a.includes(r)){const[l]=await e.getConfiguration([Be(n)]),{x:c,y:g,verifiers:u}=l,I=t.customVerifierAddress||qW(s);return BigInt(t.coordinates.x)===c&&BigInt(t.coordinates.y)===g&&BigInt(I)===u}return!1}var Zre=fre,$W="passkeyWallet",Gre="Passkey Wallet Client",yw=async(t,e,n)=>{const r=(await(n||navigator.credentials.get.bind(navigator.credentials))({publicKey:{challenge:e,allowCredentials:[{type:"public-key",id:t}],userVerification:"required"}})).response;if(!(r!=null&&r.authenticatorData))throw new Error("Failed to sign data with passkey Signer");const{authenticatorData:l,signature:c,clientDataJSON:g}=r;return ts(Hh("bytes, bytes, uint256[2]"),[Ge(new Uint8Array(l)),Vre(g),Wre(c)])},Bre=()=>{throw new Error("Passkey Signers cannot sign transactions, they can only sign data.")},Sre=()=>{throw new Error("Passkey Signers cannot sign signTypedData, they can only sign data.")},wre=async(t,e,n,a,s,r,l)=>{const{rawId:c,coordinates:g,customVerifierAddress:u}=t,I=bn(Be(c)),p=u||qW(l),A=await Zre(t,n,s,r,l);let Z;return A?Z=n.getAddress():[Z]=await e.getSigner([BigInt(g.x),BigInt(g.y),JB(Be(p),"bigint")]),KA({account:Z,name:Gre,key:$W,transport:Vc(a.transport)}).extend(Uf).extend(()=>({signMessage({message:S}){return typeof S=="string"?yw(I,gn(S),t.getFn):yw(I,qa(S.raw)?gn(S.raw):S.raw,t.getFn)},signTransaction:Bre,signTypedData:Sre,encodeConfigure(){return pa({abi:Ju(["function configure((uint256 x, uint256 y, uint176 verifiers) signer)"]),functionName:"configure",args:[{x:BigInt(t.coordinates.x),y:BigInt(t.coordinates.y),verifiers:JB(Be(p),"bigint")}]})},encodeCreateSigner(){return Be(e.encode("createSigner",[BigInt(g.x),BigInt(g.y),BigInt(p)]))},createDeployTxRequest(){return{to:e.getAddress(),value:"0",data:this.encodeCreateSigner()}}}))};function kre(t){const e=new Uint8Array(t);let n="";for(let a=0;a<e.length;a++)n+=String.fromCharCode(e[a]);return n}function Vre(t){const n=kre(t).match(/^\{"type":"webauthn.get","challenge":"[A-Za-z0-9\-_]{43}",(.*)\}$/);if(!n)throw new Error("challenge not found in client data JSON");const[,a]=n;return Ge(qr(a))}function Wre(t){const e=c=>{if(!c)throw new Error("invalid signature encoding")},n=new DataView(t instanceof ArrayBuffer?t:t instanceof Uint8Array?t.buffer:new Uint8Array(t).buffer);e(n.getUint8(0)===48),e(n.getUint8(1)===n.byteLength-2);const a=c=>{e(n.getUint8(c)===2);const g=n.getUint8(c+1),u=c+2,I=u+g,p=cF(new Uint8Array(n.buffer.slice(u,I)),"bigint");return e(p<$g),[p,I]},[s,r]=a(2),[l]=a(r);return[s,l]}async function Rre(t,e){const n=t.getContractVersion(),a=await t.getAddress(),s=await t.getOwners();return(await(await wl.init({provider:t.getSafeProvider().provider,signer:e,safeVersion:n,contractNetworks:t.getContractManager().contractNetworks,safeAddress:a,owners:s})).getExternalSigner()).account.address}var _p=Rre;function cI(t){return typeof t=="number"?vre(t):Xre(t)}function vre(t){return{blockNumber:t.toNumber()}}function Xre(t){return{blockTag:t}}var Jre=t=>typeof t!="string",Ere=t=>typeof t=="string"&&!pt(t),$b=t=>!!t&&t.key===$W,Or,Hn,yu,b1,to,xre=(to=class{constructor({provider:e,signer:n}){q(this,yu);q(this,Or);q(this,Hn);v(this,Hn,R7({transport:Jre(e)?Vc(e):C8(e)})),this.provider=e,this.signer=n,v(this,Or,void 0)}getExternalProvider(){return y(this,Hn)}static async init({provider:e,signer:n,safeVersion:a=qs,contractNetworks:s,safeAddress:r,owners:l}){if(n&&typeof n!="string"){if(!Wa("PASSKEY_SIGNER",a))throw new Error("Current version of the Safe does not support the Passkey signer functionality");const g=new to({provider:e}),u=await g.getChainId(),I=s==null?void 0:s[u.toString()];let p;if($b(n))p=n;else{const A=await $ie({safeProvider:g,safeVersion:a,customContracts:I}),Z=await ere({safeProvider:g,safeVersion:a,customContracts:I});p=await wre(n,A,Z,g.getExternalProvider(),r||"",l||[],u.toString())}return new to({provider:e,signer:p})}else return new to({provider:e,signer:n})}async getExternalSigner(){const{transport:e,chain:n=await ce(this,yu,b1).call(this)}=this.getExternalProvider();if($b(this.signer))return this.signer;if(Ere(this.signer)){const a=yse(Be(this.signer));return Sb({account:a,chain:n,transport:Vc(e)})}if(this.signer&&typeof this.signer=="string")return Sb({account:this.signer,chain:n,transport:Vc(e)});try{const a=Sb({chain:n,transport:Vc(e)}),[s]=await a.getAddresses();if(s)return KA({account:s,transport:Vc(e),chain:a.chain,rpcSchema:r8()}).extend(Uf).extend(yW)}catch{}}async isPasskeySigner(){return $b(this.signer)}isAddress(e){return pt(e)}async getEip3770Address(e){const n=await this.getChainId();return YW(e,n)}async getBalance(e,n){return yf(y(this,Hn),{address:e,...cI(n)})}async getNonce(e,n){return vA(y(this,Hn),{address:e,...cI(n)})}async getChainId(){const e=(await ce(this,yu,b1).call(this)).id;return BigInt(e)}getChecksummedAddress(e){return Dg(e)}async getContractCode(e,n){return await Em(y(this,Hn),{address:e,...cI(n)})??"0x"}async isContractDeployed(e,n){return!!await Em(y(this,Hn),{address:e,...cI(n)})}async getStorageAt(e,n){const a=await LV(y(this,Hn),{address:e,slot:Be(n)});return this.decodeParameters("address",Be(a))[0]}async getTransaction(e){return DA(y(this,Hn),{hash:e})}async getSignerAddress(){const e=await this.getExternalSigner();return e?Dg(e.account.address):void 0}async signMessage(e){const n=await this.getExternalSigner(),a=await this.getSignerAddress();if(!n||!a)throw new Error("SafeProvider must be initialized with a signer to use this method");return ua(n.account.address,a)?await(n==null?void 0:n.signMessage({message:{raw:gn(e)}})):await(n==null?void 0:n.signMessage({account:a,message:{raw:gn(e)}}))}async signTypedData(e){const n=await this.getExternalSigner();if(!n)throw new Error("SafeProvider must be initialized with a signer to use this method");if(Ore(n)){const a=xse(e),{chainId:s,verifyingContract:r}=a.domain,l=s?Number(s):void 0,c={verifyingContract:r,chainId:l};return await n.signTypedData({domain:c,types:a.primaryType==="SafeMessage"?{SafeMessage:a.types.SafeMessage}:{SafeTx:a.types.SafeTx},primaryType:a.primaryType,message:a.message})}throw new Error("The current signer does not implement EIP-712 to sign typed data")}async estimateGas(e){const n=dre(e);return(await JA(y(this,Hn),n)).toString()}async call(e,n){const a=Ire(e),{data:s}=await Du(y(this,Hn),{...a,...cI(n)});return s??"0x"}async readContract(e){return si(y(this,Hn),e)}encodeParameters(e,n){return ts(Hh(e),n)}decodeParameters(e,n){return qg(Hh(e),Be(n))}},Or=new WeakMap,Hn=new WeakMap,yu=new WeakSet,b1=async function(){if(y(this,Or))return y(this,Or);const e=FW(BigInt(await y(this,Hn).getChainId()));if(!e)throw new Error("Invalid chainId");return v(this,Or,e),y(this,Or)},to),wl=xre;function _A(t,e={}){const n=Nre();return(...a)=>{const s=JSON.stringify(a,n);return e[s]=e[s]||t(...a),e[s]}}function Nre(){const t=new Set;return(e,n)=>typeof n=="bigint"?n.toString():n instanceof wl&&n!==null?t.has(n)?void 0:(t.add(n),{$safeProvider:{provider:typeof n.provider=="object"?"EIP1193Provider":n.provider,signer:n.signer}}):n}var eR="0xb1073742015cbcf5a3a4d9d1ae33ecf619439710b89475f92e2abd2117e90f90",Hre=324n,Yre=300n,Tre=232n,Fre={"1.3.0":{deployedBytecodeHash:"0x0100004124426fb9ebb25e27d670c068e52f9ba631bd383279a188be47e3f86d"},"1.4.1":{deployedBytecodeHash:"0x0100003b6cfa15bd7d1cae1c9c022074524d7785d34859ad0576d8fab4305d4f"}},Kre="0x2020dba91b30cc0006188af794c2fb30dd8520db7e2c088b7fc7c103c00ca494";function Mre(t,e,n,a){return t.encode("createProxyWithNonce",[e,Be(n),BigInt(a||eR)])}var Ure=_A(_W);async function c2({safeProvider:t,safeAccountConfig:e,safeContract:n,customContracts:a,customSafeVersion:s,deploymentType:r}){const{owners:l,threshold:c,to:g=$r,data:u=xW,fallbackHandler:I,paymentToken:p=$r,payment:A=0,paymentReceiver:Z=$r}=e,S=s||n.safeVersion;if(Bs(S,"<=1.0.0"))return n.encode("setup",[l,c,g,Be(u),p,A,Z]);let B=I;return B!==void 0&&pt(B)||(B=(await Ure({safeProvider:t,safeVersion:S,customContracts:a,deploymentType:r})).getAddress()),n.encode("setup",[l,c,g,u,B,p,A,Z])}var g2=_A(({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a})=>jW({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a})),Dre=_A(async({safeProvider:t,safeVersion:e,customContracts:n,chainId:a,deploymentType:s})=>(await g2({safeProvider:t,safeVersion:e,customContracts:n,chainId:a,deploymentType:s})).proxyCreationCode()),tR=_A(({safeProvider:t,safeVersion:e,isL1SafeSingleton:n,customContracts:a,deploymentType:s})=>Nm({safeProvider:t,safeVersion:e,isL1SafeSingleton:n,customContracts:a,deploymentType:s}));async function zre(t,e){return await t.readContract({address:e,abi:Ju(["function VERSION() view returns (string)"]),functionName:"VERSION"})}function d2(t){return ct(Ge(eR+t))}async function Lre({safeProvider:t,chainId:e,safeAccountConfig:n,safeDeploymentConfig:a={},isL1SafeSingleton:s,customContracts:r}){I2(n),u2(a);const{safeVersion:l=qs,saltNonce:c=d2(e),deploymentType:g}=a,u=await g2({safeProvider:t,safeVersion:l,customContracts:r,chainId:e.toString(),deploymentType:g}),I=await tR({safeProvider:t,safeVersion:l,isL1SafeSingleton:s,customContracts:r,chainId:e.toString(),deploymentType:g}),p=await c2({safeProvider:t,safeAccountConfig:n,safeContract:I,customContracts:r,customSafeVersion:l,deploymentType:g}),A=t.encodeParameters("uint256",[c]),Z=I.getAddress(),S=Mre(u,Z,p,A);return`0x${[u.getAddress(),S].reduce((W,Y)=>W+Y.replace("0x",""),"")}`}async function Qre({safeProvider:t,chainId:e,safeAccountConfig:n,safeDeploymentConfig:a={},isL1SafeSingleton:s,customContracts:r}){I2(n),u2(a);const{safeVersion:l=qs,saltNonce:c=d2(e),deploymentType:g}=a,u=await g2({safeProvider:t,safeVersion:l,customContracts:r,chainId:e.toString(),deploymentType:g}),[I]=await Dre({safeProvider:t,safeVersion:l,customContracts:r,chainId:e.toString(),deploymentType:g}),p=await tR({safeProvider:t,safeVersion:l,isL1SafeSingleton:s,customContracts:r,chainId:e.toString(),deploymentType:g}),A=await c2({safeProvider:t,safeAccountConfig:n,safeContract:p,customContracts:r,customSafeVersion:l,deploymentType:g}),Z=ct(Be(A)),S=Be(t.encodeParameters("uint256",[c])),B=ct(Ln([Z,S])),V=t.encodeParameters("address",[p.getAddress()]),W=u.getAddress();if([Hre,Yre,Tre].includes(e)){const M=Pre(W,l,B,Be(V));return t.getChecksummedAddress(M)}const R=Ln([I,Be(V)]),x=c6({from:W,bytecode:R,opcode:"CREATE2",salt:B});return t.getChecksummedAddress(x)}var I2=({owners:t,threshold:e})=>{if(t.length<=0)throw new Error("Owner list must have at least one owner");if(e<=0)throw new Error("Threshold must be greater than or equal to 1");if(e>t.length)throw new Error("Threshold must be lower than or equal to owners length")},u2=({saltNonce:t})=>{if(t&&BigInt(t)<0)throw new Error("saltNonce must be greater than or equal to 0")};function Pre(t,e,n,a){const s=Fre[e].deployedBytecodeHash,r=ct(a);return`0x${ct(Ln([Kre,_a(Be(t)),n,s,r])).slice(26)}`}function ks(t,e,n){return{hash:e,options:n,transactionResponse:{wait:async()=>Mf(t,{hash:e})}}}function Ore(t){const e=!!(t!=null&&t.passkeyRawId);return t.signTypedData!==void 0||!e}var bu,hu,fu,Zu,Gu,zm,nR,vg,jre=(vg=class{constructor(){q(this,zm);q(this,bu);q(this,hu);q(this,fu);q(this,Zu);q(this,Gu)}static async init(e,n){var s;const a=new vg;return await ce(s=a,zm,nR).call(s,e,n),a}get contractNetworks(){return y(this,bu)}get isL1SafeSingleton(){return y(this,hu)}get safeContract(){return y(this,fu)}get multiSendContract(){return y(this,Zu)}get multiSendCallOnlyContract(){return y(this,Gu)}},bu=new WeakMap,hu=new WeakMap,fu=new WeakMap,Zu=new WeakMap,Gu=new WeakMap,zm=new WeakSet,nR=async function(e,n){var I,p,A;const{isL1SafeSingleton:a,contractNetworks:s,predictedSafe:r,safeAddress:l}=e,c=await n.getChainId(),g=s==null?void 0:s[c.toString()];v(this,bu,s),v(this,hu,a);let u;if(TW(e))u=((I=r==null?void 0:r.safeDeploymentConfig)==null?void 0:I.safeVersion)??qs;else{try{u=await zre(n,l)}catch{u=qs}v(this,fu,await Nm({safeProvider:n,safeVersion:u,isL1SafeSingleton:a,customSafeAddress:l,customContracts:g}))}v(this,Zu,await jie({safeProvider:n,safeVersion:u,customContracts:g,deploymentType:(p=r==null?void 0:r.safeDeploymentConfig)==null?void 0:p.deploymentType})),v(this,Gu,await _ie({safeProvider:n,safeVersion:u,customContracts:g,deploymentType:(A=r==null?void 0:r.safeDeploymentConfig)==null?void 0:A.deploymentType}))},vg),bw=jre,Xg,Al,Lm,Xw,_re=(Xw=class{constructor(t,e){q(this,Xg);q(this,Al);q(this,Lm,"0x6c9a6c4a39284e37ed1cf53d337577d14212a4870fb976a4366c693b939918d5");v(this,Xg,t),v(this,Al,e)}validateFallbackHandlerAddress(t){if(!y(this,Xg).isAddress(t)||su(t))throw new Error("Invalid fallback handler address provided")}validateFallbackHandlerIsNotEnabled(t,e){if(ua(t,e))throw new Error("Fallback handler provided is already enabled")}validateFallbackHandlerIsEnabled(t){if(su(t))throw new Error("There is no fallback handler enabled yet")}async isFallbackHandlerCompatible(){if(!y(this,Al))throw new Error("Safe is not deployed");const t=y(this,Al).safeVersion;if(!Wa("SAFE_FALLBACK_HANDLER",t))throw new Error("Current version of the Safe does not support the fallback handler functionality");return y(this,Al)}async getFallbackHandler(){const t=await this.isFallbackHandlerCompatible();return y(this,Xg).getStorageAt(t.getAddress(),y(this,Lm))}async encodeEnableFallbackHandlerData(t){const e=await this.isFallbackHandlerCompatible();this.validateFallbackHandlerAddress(t);const n=await this.getFallbackHandler();return this.validateFallbackHandlerIsNotEnabled(n,t),e.encode("setFallbackHandler",[Be(t)])}async encodeDisableFallbackHandlerData(){const t=await this.isFallbackHandlerCompatible(),e=await this.getFallbackHandler();return this.validateFallbackHandlerIsEnabled(e),t.encode("setFallbackHandler",[Be($r)])}},Xg=new WeakMap,Al=new WeakMap,Lm=new WeakMap,Xw),qre=_re,Jg,yl,Qm,Jw,$re=(Jw=class{constructor(t,e){q(this,Jg);q(this,yl);q(this,Qm,"0x4a204f620c8c5ccdca3fd54d003badd85ba500436a431f0cbda4f558c93c34c8");v(this,Jg,t),v(this,yl,e)}validateGuardAddress(t){if(!y(this,Jg).isAddress(t)||su(t))throw new Error("Invalid guard address provided")}validateGuardIsNotEnabled(t,e){if(ua(t,e))throw new Error("Guard provided is already enabled")}validateGuardIsEnabled(t){if(su(t))throw new Error("There is no guard enabled yet")}async isGuardCompatible(){if(!y(this,yl))throw new Error("Safe is not deployed");const t=y(this,yl).safeVersion;if(!Wa("SAFE_TX_GUARDS",t))throw new Error("Current version of the Safe does not support Safe transaction guards functionality");return y(this,yl)}async getGuard(){const t=await this.isGuardCompatible();return y(this,Jg).getStorageAt(t.getAddress(),y(this,Qm))}async encodeEnableGuardData(t){const e=await this.isGuardCompatible();this.validateGuardAddress(t);const n=await this.getGuard();return this.validateGuardIsNotEnabled(n,t),e.encode("setGuard",[Be(t)])}async encodeDisableGuardData(){const t=await this.isGuardCompatible(),e=await this.getGuard();return this.validateGuardIsEnabled(e),t.encode("setGuard",[Be($r)])}},Jg=new WeakMap,yl=new WeakMap,Qm=new WeakMap,Jw),eoe=$re,Bu,aa,Ew,toe=(Ew=class{constructor(t,e){q(this,Bu);q(this,aa);v(this,Bu,t),v(this,aa,e)}validateModuleAddress(t){if(!y(this,Bu).isAddress(t)||HW(t))throw new Error("Invalid module address provided")}validateModuleIsNotEnabled(t,e){if(e.findIndex(s=>ua(s,t))>=0)throw new Error("Module provided is already enabled")}validateModuleIsEnabled(t,e){const n=e.findIndex(s=>ua(s,t));if(!(n>=0))throw new Error("Module provided is not enabled yet");return n}async getModules(){if(!y(this,aa))throw new Error("Safe is not deployed");const[t]=await y(this,aa).getModules();return[...t]}async getModulesPaginated(t,e){if(!y(this,aa))throw new Error("Safe is not deployed");const[n,a]=await y(this,aa).getModulesPaginated([t,BigInt(e)]);return{modules:n,next:a}}async isModuleEnabled(t){if(!y(this,aa))throw new Error("Safe is not deployed");const[e]=await y(this,aa).isModuleEnabled([t]);return e}async encodeEnableModuleData(t){if(!y(this,aa))throw new Error("Safe is not deployed");this.validateModuleAddress(t);const e=await this.getModules();return this.validateModuleIsNotEnabled(t,e),y(this,aa).encode("enableModule",[t])}async encodeDisableModuleData(t){if(!y(this,aa))throw new Error("Safe is not deployed");this.validateModuleAddress(t);const e=await this.getModules(),n=this.validateModuleIsEnabled(t,e),a=n===0?zi:e[n-1];return y(this,aa).encode("disableModule",[a,t])}},Bu=new WeakMap,aa=new WeakMap,Ew),noe=toe,Su,sn,xw,aoe=(xw=class{constructor(t,e){q(this,Su);q(this,sn);v(this,Su,t),v(this,sn,e)}validateOwnerAddress(t,e){if(!y(this,Su).isAddress(t)||HW(t))throw new Error(e||"Invalid owner address provided")}validateThreshold(t,e){if(t<=0)throw new Error("Threshold needs to be greater than 0");if(t>e)throw new Error("Threshold cannot exceed owner count")}validateAddressIsNotOwner(t,e,n){if(e.findIndex(r=>ua(r,t))>=0)throw new Error(n||"Address provided is already an owner")}validateAddressIsOwner(t,e,n){const a=e.findIndex(r=>ua(r,t));if(!(a>=0))throw new Error(n||"Address provided is not an owner");return a}async getOwners(){if(!y(this,sn))throw new Error("Safe is not deployed");const[t]=await y(this,sn).getOwners();return[...t]}async getThreshold(){if(!y(this,sn))throw new Error("Safe is not deployed");const[t]=await y(this,sn).getThreshold();return Number(t)}async isOwner(t){if(!y(this,sn))throw new Error("Safe is not deployed");const[e]=await y(this,sn).isOwner([t]);return e}async encodeAddOwnerWithThresholdData(t,e){if(!y(this,sn))throw new Error("Safe is not deployed");this.validateOwnerAddress(t);const n=await this.getOwners();this.validateAddressIsNotOwner(t,n);const a=e??await this.getThreshold();return this.validateThreshold(a,n.length+1),y(this,sn).encode("addOwnerWithThreshold",[t,a])}async encodeRemoveOwnerData(t,e){if(!y(this,sn))throw new Error("Safe is not deployed");this.validateOwnerAddress(t);const n=await this.getOwners(),a=this.validateAddressIsOwner(t,n),s=e??await this.getThreshold()-1;this.validateThreshold(s,n.length-1);const r=a===0?zi:n[a-1];return y(this,sn).encode("removeOwner",[r,t,s])}async encodeSwapOwnerData(t,e){if(!y(this,sn))throw new Error("Safe is not deployed");this.validateOwnerAddress(e,"Invalid new owner address provided"),this.validateOwnerAddress(t,"Invalid old owner address provided");const n=await this.getOwners();this.validateAddressIsNotOwner(e,n,"New address provided is already an owner");const a=this.validateAddressIsOwner(t,n,"Old address provided is not an owner"),s=a===0?zi:n[a-1];return y(this,sn).encode("swapOwner",[s,t,e])}async encodeChangeThresholdData(t){if(!y(this,sn))throw new Error("Safe is not deployed");const e=await this.getOwners();return this.validateThreshold(t,e.length),y(this,sn).encode("changeThreshold",[t])}},Su=new WeakMap,sn=new WeakMap,xw),soe=aoe,ioe=class{constructor(t){this.signatures=new Map,this.data=t}getSignature(t){return this.signatures.get(t.toLowerCase())}addSignature(t){this.signatures.set(t.signer.toLowerCase(),t)}encodedSignatures(){return OA(Array.from(this.signatures.values()))}},roe=ioe;async function ooe(t,e){const n=t.getContractVersion(),a=await t.getAddress(),s=await t.getOwners(),l=await(await wl.init({provider:t.getSafeProvider().provider,signer:e,safeVersion:n,contractNetworks:t.getContractManager().contractNetworks,safeAddress:a,owners:s})).getExternalSigner(),c=l.account.address;if(await t.getSafeProvider().isContractDeployed(c))throw new Error("Passkey Signer contract already deployed");return l.createDeployTxRequest()}var hw=ooe;function qp(t,e){const n=ct(Ge(t));return Ge(n.slice(-e)).replace("0x","")}function loe({project:t,platform:e="Web",tool:n,toolVersion:a}){const s="5afe",r="00",l=qp(t,20),c=qp(e,3),g=qp(n,3),u=qp(a,3);return`${s}${r}${l}${c}${g}${u}`}var coe=loe,goe=()=>"6.0.4",fw=">=1.4.1",Zw=">=1.3.0",bt,Oe,je,hs,Ni,bl,hl,wu,ku,sa,ii,aR,sR,iR,rR,Zs,doe=(Zs=class{constructor(){q(this,ii);q(this,bt);q(this,Oe);q(this,je);q(this,hs);q(this,Ni);q(this,bl);q(this,hl);q(this,wu);q(this,ku);q(this,sa);v(this,wu,"0x1626ba7e"),v(this,ku,"0x20c13b0b"),v(this,sa,""),this.getSafeMessageHash=async e=>{const n=await this.getAddress(),a=this.getContractVersion(),s=await this.getChainId();return Dse(n,e,a,s)},this.isValidSignature=async(e,n="0x")=>{const a=await this.getAddress(),s=await ce(this,ii,rR).call(this),r=n&&Array.isArray(n)?OA(n):n,l=[e,Be(r)],c=s.encode("isValidSignature",l),g=[e,Be(r)],u=s.encode("isValidSignature",g);try{const I=await Promise.all([y(this,Oe).call({from:a,to:a,data:c}),y(this,Oe).call({from:a,to:a,data:u})]);return!!I.length&&(I[0].slice(0,10).toLowerCase()===y(this,wu)||I[1].slice(0,10).toLowerCase()===y(this,ku))}catch{return!1}},this.getContractInfo=({contractAddress:e})=>Bse(e)}static async init(e){var a;const n=new Zs;return await ce(a=n,ii,aR).call(a,e),n}async connect(e){const{provider:n,signer:a,safeAddress:s,predictedSafe:r,isL1SafeSingleton:l,contractNetworks:c}=e,g={provider:n||y(this,Oe).provider,signer:a,isL1SafeSingleton:l||y(this,je).isL1SafeSingleton,contractNetworks:c||y(this,je).contractNetworks};return s?await Zs.init({safeAddress:s,...g}):r?await Zs.init({predictedSafe:r,...g}):y(this,bt)?await Zs.init({predictedSafe:y(this,bt),...g}):await Zs.init({safeAddress:await this.getAddress(),...g})}async getInitCode(){var n;if(!y(this,bt))throw new Error("The Safe already exists");const e=await y(this,Oe).getChainId();return Lre({safeProvider:y(this,Oe),chainId:e,customContracts:(n=y(this,je).contractNetworks)==null?void 0:n[e.toString()],...y(this,bt)})}getPredictedSafe(){return y(this,bt)}async getAddress(){var e;if(y(this,bt)){const n=this.getContractVersion();if(!Wa("ACCOUNT_ABSTRACTION",n))throw new Error("Account Abstraction functionality is not available for Safes with version lower than v1.3.0");const a=await y(this,Oe).getChainId();return Qre({safeProvider:y(this,Oe),chainId:a,isL1SafeSingleton:y(this,je).isL1SafeSingleton,customContracts:(e=y(this,je).contractNetworks)==null?void 0:e[a.toString()],...y(this,bt)})}if(!y(this,je).safeContract)throw new Error("Safe is not deployed");return y(this,je).safeContract.getAddress()}getContractManager(){return y(this,je)}getSafeProvider(){return y(this,Oe)}getMultiSendAddress(){return y(this,je).multiSendContract.getAddress()}getMultiSendCallOnlyAddress(){return y(this,je).multiSendCallOnlyContract.getAddress()}async isSafeDeployed(){const e=await this.getAddress();return await y(this,Oe).isContractDeployed(e)}getContractVersion(){var e,n;return y(this,je).safeContract?y(this,je).safeContract.safeVersion:(n=(e=y(this,bt))==null?void 0:e.safeDeploymentConfig)!=null&&n.safeVersion?y(this,bt).safeDeploymentConfig.safeVersion:qs}async getOwners(){var e;return(e=y(this,bt))!=null&&e.safeAccountConfig.owners?Promise.resolve(y(this,bt).safeAccountConfig.owners):y(this,hs).getOwners()}async getNonce(){if(!y(this,je).safeContract)return Promise.resolve(0);const e=await y(this,je).safeContract.getNonce();return Number(e)}async getThreshold(){var e;return(e=y(this,bt))!=null&&e.safeAccountConfig.threshold?Promise.resolve(y(this,bt).safeAccountConfig.threshold):y(this,hs).getThreshold()}async getChainId(){return y(this,Oe).getChainId()}async getBalance(){return y(this,Oe).getBalance(await this.getAddress())}getFallbackHandler(){return y(this,hl).getFallbackHandler()}async getGuard(){return y(this,bl).getGuard()}async getModules(){return y(this,Ni).getModules()}async getModulesPaginated(e,n=10){return y(this,Ni).getModulesPaginated(e,n)}async isModuleEnabled(e){return y(this,Ni).isModuleEnabled(e)}async isOwner(e){var n,a;return(n=y(this,bt))!=null&&n.safeAccountConfig.owners?Promise.resolve((a=y(this,bt))==null?void 0:a.safeAccountConfig.owners.some(s=>ua(s,e))):y(this,hs).isOwner(e)}async createTransaction({transactions:e,onlyCalls:n=!0,options:a}){const s=this.getContractVersion();if(y(this,bt)&&!Wa("ACCOUNT_ABSTRACTION",s))throw new Error("Account Abstraction functionality is not available for Safes with version lower than v1.3.0");if(e.length===0)throw new Error("Invalid empty array of transactions");let r;if(e.length>1){let l;if(n){if(Cre(e))throw new Error("At least one transaction uses DELEGATECALL. By default only CALL is allowed. Check onlyCalls flag.");l=y(this,je).multiSendCallOnlyContract}else l=y(this,je).multiSendContract;const c=pw(e.map(lre));r={...a,to:l.getAddress(),value:"0",data:l.encode("multiSend",[Be(c)]),operation:Di.DelegateCall}}else r={...a,...e[0]};if(y(this,bt))return new uw(await Cw({predictedSafe:y(this,bt),provider:y(this,Oe).provider,tx:r,contractNetworks:y(this,je).contractNetworks}));if(!y(this,je).safeContract)throw new Error("Safe is not deployed");return new uw(await Cw({safeContract:y(this,je).safeContract,provider:y(this,Oe).provider,tx:r,contractNetworks:y(this,je).contractNetworks}))}async createRejectionTransaction(e){const n={to:await this.getAddress(),value:"0",data:"0x"},a={nonce:e,safeTxGas:"0"};return this.createTransaction({transactions:[n],options:a})}async copyTransaction(e){const{to:n,value:a,data:s,operation:r,...l}=e.data,c={to:n,value:a,data:s,operation:r},g=await this.createTransaction({transactions:[c],options:l});return e.signatures.forEach(u=>{g.addSignature(u)}),g}async getTransactionHash(e){const n=await this.getAddress(),a=this.getContractVersion(),s=await this.getChainId();return Use(n,e.data,a,s)}async signHash(e){const n=await y(this,Oe).isPasskeySigner(),a=await y(this,Oe).getSignerAddress();if(n&&a){let r=await y(this,Oe).signMessage(e);return r=await s2(rn.ETH_SIGN,r,e,a),new iu(a,r,!0)}return await Yse(y(this,Oe),e)}createMessage(e){return new roe(e)}async signMessage(e,n=rn.ETH_SIGN_TYPED_DATA_V4,a){const s=await y(this,Oe).getSignerAddress();if(!s)throw new Error("The protocol-kit requires a signer to use this method");if(!await this.isOwner(s))throw new Error("Messages can only be signed by Safe owners");const l=this.getContractVersion();if(n===rn.SAFE_SIGNATURE&&Bs(l,fw)&&!a)throw new Error("The parent Safe account address is mandatory for contract signatures");let c;if(n===rn.ETH_SIGN_TYPED_DATA_V4)c=await this.signTypedData(e,"v4");else if(n===rn.ETH_SIGN_TYPED_DATA_V3)c=await this.signTypedData(e,"v3");else if(n===rn.ETH_SIGN_TYPED_DATA)c=await this.signTypedData(e,void 0);else{const u=await this.getChainId();if(!Wa("ETH_SIGN",l))throw new Error("eth_sign is only supported by Safes >= v1.1.0");let I;if(n===rn.SAFE_SIGNATURE&&a&&Bs(l,fw)){const p=Kse(a,y1(e.data),l,u);I=await this.getSafeMessageHash(p)}else I=await this.getSafeMessageHash(y1(e.data));c=await this.signHash(I)}const g=this.createMessage(e.data);return e.signatures.forEach(u=>{g.addSignature(u)}),g.addSignature(c),g}async signTypedData(e,n){const a={safeAddress:await this.getAddress(),safeVersion:this.getContractVersion(),chainId:await y(this,Oe).getChainId(),data:e.data};return Tse(y(this,Oe),a,n)}async signTransaction(e,n=rn.ETH_SIGN_TYPED_DATA_V4,a){const s=qb(e)?await this.toSafeTransactionType(e):e,r=await y(this,Oe).getSignerAddress();if(!r)throw new Error("The protocol-kit requires a signer to use this method");if(!await this.isOwner(r))throw new Error("Transactions can only be signed by Safe owners");const c=this.getContractVersion();if(n===rn.SAFE_SIGNATURE&&Bs(c,Zw)&&!a)throw new Error("The parent Safe account address is mandatory for contract signatures");let g;if(await y(this,Oe).isPasskeySigner()){const p=await this.getTransactionHash(s);g=await this.signHash(p)}else if(n===rn.ETH_SIGN_TYPED_DATA_V4)g=await this.signTypedData(s,"v4");else if(n===rn.ETH_SIGN_TYPED_DATA_V3)g=await this.signTypedData(s,"v3");else if(n===rn.ETH_SIGN_TYPED_DATA)g=await this.signTypedData(s,void 0);else{const p=this.getContractVersion(),A=await this.getChainId();if(!Wa("ETH_SIGN",p))throw new Error("eth_sign is only supported by Safes >= v1.1.0");let Z;if(n===rn.SAFE_SIGNATURE&&Bs(p,Zw)&&a){const S=Fse(a,e.data,p,A);Z=await this.getSafeMessageHash(S)}else Z=await this.getTransactionHash(s);g=await this.signHash(Z)}const I=await this.copyTransaction(s);return I.addSignature(g),I}async approveTransactionHash(e,n){if(!y(this,je).safeContract)throw new Error("Safe is not deployed");const a=await y(this,Oe).getSignerAddress();if(!a)throw new Error("The protocol-kit requires a signer to use this method");if(!await this.isOwner(a))throw new Error("Transaction hashes can only be approved by Safe owners");return y(this,je).safeContract.approveHash(e,{from:a,...n})}async getOwnersWhoApprovedTx(e){if(!y(this,je).safeContract)return[];const n=await this.getOwners(),a=[];for(const s of n){const[r]=await y(this,je).safeContract.approvedHashes([Be(s),e]);r>0&&a.push(s)}return a}async createEnableFallbackHandlerTx(e,n){const a=await this.getContractVersion();if(y(this,bt)&&!Wa("ACCOUNT_ABSTRACTION",a))throw new Error("Account Abstraction functionality is not available for Safes with version lower than v1.3.0");const s={to:await this.getAddress(),value:"0",data:await y(this,hl).encodeEnableFallbackHandlerData(e)};return await this.createTransaction({transactions:[s],options:n})}async createDisableFallbackHandlerTx(e){const n=await this.getContractVersion();if(y(this,bt)&&!Wa("ACCOUNT_ABSTRACTION",n))throw new Error("Account Abstraction functionality is not available for Safes with version lower than v1.3.0");const a={to:await this.getAddress(),value:"0",data:await y(this,hl).encodeDisableFallbackHandlerData()};return await this.createTransaction({transactions:[a],options:e})}async createEnableGuardTx(e,n){const a={to:await this.getAddress(),value:"0",data:await y(this,bl).encodeEnableGuardData(e)};return await this.createTransaction({transactions:[a],options:n})}async createDisableGuardTx(e){const n={to:await this.getAddress(),value:"0",data:await y(this,bl).encodeDisableGuardData()};return await this.createTransaction({transactions:[n],options:e})}async createEnableModuleTx(e,n){const a={to:await this.getAddress(),value:"0",data:await y(this,Ni).encodeEnableModuleData(e)};return await this.createTransaction({transactions:[a],options:n})}async createDisableModuleTx(e,n){const a={to:await this.getAddress(),value:"0",data:await y(this,Ni).encodeDisableModuleData(e)};return await this.createTransaction({transactions:[a],options:n})}async createAddOwnerTx(e,n){const a=mw(e),s=a?await _p(this,e.passkey):e.ownerAddress,{threshold:r}=e,c=[{to:await this.getAddress(),value:"0",data:await y(this,hs).encodeAddOwnerWithThresholdData(s,r)}];if(a&&!await y(this,Oe).isContractDeployed(s)){const u=await hw(this,e.passkey);c.push(u)}return await this.createTransaction({transactions:c,options:n})}async createRemoveOwnerTx(e,n){const{threshold:a}=e,r=mw(e)?await _p(this,e.passkey):e.ownerAddress,l={to:await this.getAddress(),value:"0",data:await y(this,hs).encodeRemoveOwnerData(r,a)};return await this.createTransaction({transactions:[l],options:n})}async createSwapOwnerTx(e,n){const a=gre(e)?await _p(this,e.oldOwnerPasskey):e.oldOwnerAddress,s=Aw(e)?await _p(this,e.newOwnerPasskey):e.newOwnerAddress,l=[{to:await this.getAddress(),value:"0",data:await y(this,hs).encodeSwapOwnerData(a,s)}];if(Aw(e)&&!await y(this,Oe).isContractDeployed(s)){const g=await hw(this,e.newOwnerPasskey);l.push(g)}return await this.createTransaction({transactions:l,options:n})}async createChangeThresholdTx(e,n){const a={to:await this.getAddress(),value:"0",data:await y(this,hs).encodeChangeThresholdData(e)};return await this.createTransaction({transactions:[a],options:n})}async toSafeTransactionType(e){var r;const n={to:e.to,value:e.value,data:e.data||"0x",operation:e.operation},a={safeTxGas:e.safeTxGas.toString(),baseGas:e.baseGas.toString(),gasPrice:e.gasPrice,gasToken:e.gasToken,refundReceiver:e.refundReceiver,nonce:e.nonce},s=await this.createTransaction({transactions:[n],options:a});return(r=e.confirmations)==null||r.map(l=>{const c=new iu(l.owner,l.signature);s.addSignature(c)}),s}async isValidTransaction(e,n){if(!y(this,je).safeContract)throw new Error("Safe is not deployed");const a=qb(e)?await this.toSafeTransactionType(e):e,s=await this.copyTransaction(a),r=await this.getTransactionHash(s),l=await this.getOwnersWhoApprovedTx(r);for(const I of l)s.addSignature(jp(I));const c=await y(this,Oe).getSignerAddress();if(!c)throw new Error("The protocol-kit requires a signer to use this method");return await this.isOwner(c)&&s.addSignature(jp(c)),await y(this,je).safeContract.isValidTransaction(s,{from:c,...n})}async executeTransaction(e,n){if(!y(this,je).safeContract)throw new Error("Safe is not deployed");const a=qb(e)?await this.toSafeTransactionType(e):e,s=await ce(this,ii,sR).call(this,a);await ce(this,ii,iR).call(this,s);const r=BigInt(s.data.value);if(r!==0n){const g=await this.getBalance();if(r>g)throw new Error("Not enough Ether funds")}const l=await y(this,Oe).getSignerAddress();if(y(this,sa)){const g=await this.getEncodedTransaction(s),u={to:await this.getAddress(),value:0n,data:g+y(this,sa)},I=await y(this,Oe).getExternalSigner();if(!I)throw new Error("A signer must be set");const p=await I.sendTransaction({...u,account:I.account,...n}),A=y(this,Oe).getExternalProvider();return ks(A,p,n)}return await y(this,je).safeContract.execTransaction(s,{from:l,...n})}async getEncodedTransaction(e){var g;const n=this.getContractVersion(),a=await this.getChainId(),s=(g=y(this,je).contractNetworks)==null?void 0:g[a.toString()],r=y(this,je).isL1SafeSingleton;return(await Nm({safeProvider:y(this,Oe),safeVersion:n,isL1SafeSingleton:r,customContracts:s})).encode("execTransaction",[e.data.to,e.data.value,e.data.data,e.data.operation,e.data.safeTxGas,e.data.baseGas,e.data.gasPrice,e.data.gasToken,e.data.refundReceiver,e.encodedSignatures()])}async wrapSafeTransactionIntoDeploymentBatch(e,n){if(await this.isSafeDeployed())throw new Error("Safe already deployed");const s=await this.createSafeDeploymentTransaction();s.data.endsWith(y(this,sa))&&(s.data=s.data.replace(y(this,sa),""));const r={to:s.to,value:s.value,data:s.data,operation:Di.Call},l={to:await this.getAddress(),value:"0",data:await this.getEncodedTransaction(e),operation:Di.Call},c=[r,l];return await this.createTransactionBatch(c,n,!!y(this,sa))}async createSafeDeploymentTransaction(){var S,B;if(!y(this,bt))throw new Error("Predict Safe should be present to build the Safe deployement transaction");const{safeAccountConfig:e,safeDeploymentConfig:n={}}=y(this,bt);I2(e),u2(n);const a=y(this,Oe),s=await a.getChainId(),r=(n==null?void 0:n.safeVersion)||qs,l=(n==null?void 0:n.saltNonce)||d2(s);if(Wa("ACCOUNT_ABSTRACTION",r)&&await this.isSafeDeployed())throw new Error("Safe already deployed");const c=y(this,je).isL1SafeSingleton,g=(S=y(this,je).contractNetworks)==null?void 0:S[s.toString()],u=(B=y(this,bt).safeDeploymentConfig)==null?void 0:B.deploymentType,I=await Nm({safeProvider:a,safeVersion:r,isL1SafeSingleton:c,customContracts:g,deploymentType:u}),p=await jW({safeProvider:a,safeVersion:r,customContracts:g,deploymentType:u}),A=await c2({safeProvider:a,safeContract:I,safeAccountConfig:e,customContracts:g,deploymentType:u}),Z={to:p.getAddress(),value:"0",data:p.encode("createProxyWithNonce",[Be(I.getAddress()),Be(A),BigInt(l)])};return y(this,sa)&&(Z.data+=y(this,sa)),Z}async createTransactionBatch(e,n,a=!1){const s=y(this,je).multiSendCallOnlyContract,r=s.encode("multiSend",[Be(pw(e))]),l={...n,to:s.getAddress(),value:"0",data:r};return a&&(l.data+=y(this,sa)),l}getOnchainIdentifier(){return y(this,sa)}},bt=new WeakMap,Oe=new WeakMap,je=new WeakMap,hs=new WeakMap,Ni=new WeakMap,bl=new WeakMap,hl=new WeakMap,wu=new WeakMap,ku=new WeakMap,sa=new WeakMap,ii=new WeakSet,aR=async function(e){const{provider:n,signer:a,isL1SafeSingleton:s,contractNetworks:r,onchainAnalytics:l}=e;if(l!=null&&l.project){const{project:u,platform:I}=l;v(this,sa,coe({project:u,platform:I,tool:"protocol-kit",toolVersion:goe()}))}v(this,Oe,await wl.init({provider:n,signer:a,safeVersion:qs,contractNetworks:r})),TW(e)?(v(this,bt,e.predictedSafe),v(this,je,await bw.init({provider:n,predictedSafe:y(this,bt),isL1SafeSingleton:s,contractNetworks:r},y(this,Oe)))):v(this,je,await bw.init({provider:n,safeAddress:e.safeAddress,isL1SafeSingleton:s,contractNetworks:r},y(this,Oe)));const c=this.getContractVersion();if(v(this,Oe,await wl.init({provider:n,signer:a,safeVersion:c,contractNetworks:r})),v(this,hs,new soe(y(this,Oe),y(this,je).safeContract)),v(this,Ni,new noe(y(this,Oe),y(this,je).safeContract)),v(this,bl,new eoe(y(this,Oe),y(this,je).safeContract)),v(this,hl,new qre(y(this,Oe),y(this,je).safeContract)),a&&typeof a!="string"){const u=await this.getAddress(),I=await this.getOwners();v(this,Oe,await wl.init({provider:n,signer:a,safeVersion:c,contractNetworks:r,safeAddress:u,owners:I}))}},sR=async function(e){const n=await this.copyTransaction(e),a=await this.getTransactionHash(n),s=await this.getOwnersWhoApprovedTx(a);for(const g of s)n.addSignature(jp(g));const r=await this.getOwners(),l=await this.getThreshold(),c=await y(this,Oe).getSignerAddress();return l>n.signatures.size&&c&&r.includes(c)&&n.addSignature(jp(c)),n},iR=async function(e){const n=await this.getThreshold();if(n>e.signatures.size){const a=n-e.signatures.size;throw new Error(`There ${a>1?"are":"is"} ${a} signature${a>1?"s":""} missing`)}},rR=async function(){var s;if(!y(this,je).safeContract)throw new Error("Safe is not deployed");const e=y(this,je).safeContract.safeVersion??qs,n=await y(this,Oe).getChainId();return await _W({safeProvider:y(this,Oe),safeVersion:e,customContracts:(s=y(this,je).contractNetworks)==null?void 0:s[n.toString()]})},Zs.createPasskeySigner=async e=>hre(e),Zs),Ioe=doe,$p=Ioe;async function Ct({url:t,method:e,body:n}){const s=await(await(typeof window>"u"?EI(()=>import("./index-DQRwpSVW.js"),[]).then(l=>l.default):Promise.resolve(window.fetch)))(t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});let r;try{r=await s.json()}catch{if(!s.ok)throw new Error(s.statusText)}if(s.ok)return r;throw r.data?new Error(r.data):r.detail?new Error(r.detail):r.message?new Error(r.message):r.nonFieldErrors?new Error(r.nonFieldErrors):r.delegate?new Error(r.delegate):r.safe?new Error(r.safe):r.delegator?new Error(r.delegator):new Error(s.statusText)}async function Gw(t,e,n){const a={name:"Safe Transaction Service",version:"1.0",chainId:Number(n)},s={Delegate:[{name:"delegateAddress",type:"address"},{name:"totp",type:"uint256"}]},r=Math.floor(Date.now()/1e3/3600);return t.signTypedData({domain:a,types:s,primaryType:"Delegate",message:{delegateAddress:e,totp:r}})}var uoe={1:"https://safe-transaction-mainnet.safe.global/api",10:"https://safe-transaction-optimism.safe.global/api",56:"https://safe-transaction-bsc.safe.global/api",100:"https://safe-transaction-gnosis-chain.safe.global/api",130:"https://safe-transaction-unichain.safe.global/api",137:"https://safe-transaction-polygon.safe.global/api",196:"https://safe-transaction-xlayer.safe.global/api",324:"https://safe-transaction-zksync.safe.global/api",480:"https://safe-transaction-worldchain.safe.global/api",1101:"https://safe-transaction-zkevm.safe.global/api",5e3:"https://safe-transaction-mantle.safe.global/api",8453:"https://safe-transaction-base.safe.global/api",42161:"https://safe-transaction-arbitrum.safe.global/api",42220:"https://safe-transaction-celo.safe.global/api",43114:"https://safe-transaction-avalanche.safe.global/api",59144:"https://safe-transaction-linea.safe.global/api",81457:"https://safe-transaction-blast.safe.global/api",84532:"https://safe-transaction-base-sepolia.safe.global/api",534352:"https://safe-transaction-scroll.safe.global/api",11155111:"https://safe-transaction-sepolia.safe.global/api",1313161554:"https://safe-transaction-aurora.safe.global/api"},Coe="0x",eh=t=>!t||t===Coe,poe=async t=>{const e=t.getUserOperation();return e.signature=t.encodedSignatures(),{entryPoint:t.options.entryPoint,moduleAddress:t.options.moduleAddress,safeAddress:e.sender,userOperation:e,options:{validAfter:t.options.validAfter,validUntil:t.options.validUntil}}},moe=t=>"signatures"in t&&"getUserOperation"in t&&"getHash"in t,Aoe={from:"_from"},fl,at,qe,h1,Bt,vr,Nw,yoe=(Nw=class{constructor({chainId:t,txServiceUrl:e}){q(this,qe);q(this,fl);q(this,at);if(v(this,fl,t),e)v(this,at,e);else{const n=uoe[t.toString()];if(!n)throw new TypeError(`There is no transaction service available for chainId ${t}. Please set the txServiceUrl property to use a custom transaction service.`);v(this,at,n)}}async getServiceInfo(){return Ct({url:`${y(this,at)}/v1/about`,method:"get"})}async getServiceSingletonsInfo(){return Ct({url:`${y(this,at)}/v1/about/singletons`,method:"get"})}async decodeData(t,e){if(t==="")throw new Error("Invalid data");const n={data:t};return e&&(n.to=e),Ct({url:`${y(this,at)}/v1/data-decoder/`,method:"post",body:n})}async getSafeDelegates({safeAddress:t,delegateAddress:e,delegatorAddress:n,label:a,limit:s,offset:r}){const l=new URL(`${y(this,at)}/v2/delegates`);if(t){const{address:c}=ce(this,qe,Bt).call(this,t);l.searchParams.set("safe",c)}if(e){const{address:c}=ce(this,qe,Bt).call(this,e);l.searchParams.set("delegate",c)}if(n){const{address:c}=ce(this,qe,Bt).call(this,n);l.searchParams.set("delegator",c)}return a&&l.searchParams.set("label",a),s!=null&&l.searchParams.set("limit",s.toString()),r!=null&&l.searchParams.set("offset",r.toString()),Ct({url:l.toString(),method:"get"})}async addSafeDelegate({safeAddress:t,delegateAddress:e,delegatorAddress:n,label:a,signer:s}){if(e==="")throw new Error("Invalid Safe delegate address");if(n==="")throw new Error("Invalid Safe delegator address");if(a==="")throw new Error("Invalid label");const{address:r}=ce(this,qe,Bt).call(this,e),{address:l}=ce(this,qe,Bt).call(this,n),c=await Gw(s,r,y(this,fl)),g={safe:t?ce(this,qe,Bt).call(this,t).address:null,delegate:r,delegator:l,label:a,signature:c};return Ct({url:`${y(this,at)}/v2/delegates/`,method:"post",body:g})}async removeSafeDelegate({delegateAddress:t,delegatorAddress:e,signer:n}){if(t==="")throw new Error("Invalid Safe delegate address");if(e==="")throw new Error("Invalid Safe delegator address");const{address:a}=ce(this,qe,Bt).call(this,t),{address:s}=ce(this,qe,Bt).call(this,e),r=await Gw(n,a,y(this,fl));return Ct({url:`${y(this,at)}/v2/delegates/${a}`,method:"delete",body:{delegator:s,signature:r}})}async getMessage(t){if(!t)throw new Error("Invalid messageHash");return Ct({url:`${y(this,at)}/v1/messages/${t}/`,method:"get"})}async getMessages(t,e={}){if(!ce(this,qe,h1).call(this,t))throw new Error("Invalid safeAddress");const n=new URL(`${y(this,at)}/v1/safes/${t}/messages/`);return ce(this,qe,vr).call(this,n,e),Ct({url:n.toString(),method:"get"})}async addMessage(t,e){if(!ce(this,qe,h1).call(this,t))throw new Error("Invalid safeAddress");return Ct({url:`${y(this,at)}/v1/safes/${t}/messages/`,method:"post",body:e})}async addMessageSignature(t,e){if(!t||!e)throw new Error("Invalid messageHash or signature");return Ct({url:`${y(this,at)}/v1/messages/${t}/signatures/`,method:"post",body:{signature:e}})}async getSafesByOwner(t){if(t==="")throw new Error("Invalid owner address");const{address:e}=ce(this,qe,Bt).call(this,t);return Ct({url:`${y(this,at)}/v1/owners/${e}/safes/`,method:"get"})}async getSafesByModule(t){if(t==="")throw new Error("Invalid module address");const{address:e}=ce(this,qe,Bt).call(this,t);return Ct({url:`${y(this,at)}/v1/modules/${e}/safes/`,method:"get"})}async getTransaction(t){if(t==="")throw new Error("Invalid safeTxHash");return Ct({url:`${y(this,at)}/v1/multisig-transactions/${t}/`,method:"get"})}async getTransactionConfirmations(t){if(t==="")throw new Error("Invalid safeTxHash");return Ct({url:`${y(this,at)}/v1/multisig-transactions/${t}/confirmations/`,method:"get"})}async confirmTransaction(t,e){if(t==="")throw new Error("Invalid safeTxHash");if(e==="")throw new Error("Invalid signature");return Ct({url:`${y(this,at)}/v1/multisig-transactions/${t}/confirmations/`,method:"post",body:{signature:e}})}async getSafeInfo(t){if(t==="")throw new Error("Invalid Safe address");const{address:e}=ce(this,qe,Bt).call(this,t);return Ct({url:`${y(this,at)}/v1/safes/${e}/`,method:"get"}).then(n=>{if(!(n!=null&&n.singleton)){const{masterCopy:a,...s}=n;return{...s,singleton:a}}return n})}async getSafeCreationInfo(t){if(t==="")throw new Error("Invalid Safe address");const{address:e}=ce(this,qe,Bt).call(this,t);return Ct({url:`${y(this,at)}/v1/safes/${e}/creation/`,method:"get"}).then(n=>{if(!(n!=null&&n.singleton)){const{masterCopy:a,...s}=n;return{...s,singleton:a}}return n})}async estimateSafeTransaction(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ce(this,qe,Bt).call(this,t);return Ct({url:`${y(this,at)}/v1/safes/${n}/multisig-transactions/estimations/`,method:"post",body:e})}async proposeTransaction({safeAddress:t,safeTransactionData:e,safeTxHash:n,senderAddress:a,senderSignature:s,origin:r}){if(t==="")throw new Error("Invalid Safe address");const{address:l}=ce(this,qe,Bt).call(this,t),{address:c}=ce(this,qe,Bt).call(this,a);if(n==="")throw new Error("Invalid safeTxHash");return Ct({url:`${y(this,at)}/v1/safes/${l}/multisig-transactions/`,method:"post",body:{...e,contractTransactionHash:n,sender:c,signature:s,origin:r}})}async getIncomingTransactions(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ce(this,qe,Bt).call(this,t),a=new URL(`${y(this,at)}/v1/safes/${n}/incoming-transfers/`);return ce(this,qe,vr).call(this,a,e),Ct({url:a.toString(),method:"get"})}async getModuleTransactions(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ce(this,qe,Bt).call(this,t),a=new URL(`${y(this,at)}/v1/safes/${n}/module-transactions/`);return ce(this,qe,vr).call(this,a,e),Ct({url:a.toString(),method:"get"})}async getMultisigTransactions(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ce(this,qe,Bt).call(this,t),a=new URL(`${y(this,at)}/v1/safes/${n}/multisig-transactions/`);return ce(this,qe,vr).call(this,a,e),Ct({url:a.toString(),method:"get"})}async getPendingTransactions(t,e={}){if(t==="")throw new Error("Invalid Safe address");const{currentNonce:n,hasConfirmations:a,ordering:s,limit:r,offset:l}=e,{address:c}=ce(this,qe,Bt).call(this,t),g=n||(await this.getSafeInfo(c)).nonce,u=new URL(`${y(this,at)}/v1/safes/${c}/multisig-transactions/?executed=false&nonce__gte=${g}`);return a&&u.searchParams.set("has_confirmations",a.toString()),s&&u.searchParams.set("ordering",s),r!=null&&u.searchParams.set("limit",r.toString()),l!=null&&u.searchParams.set("offset",l.toString()),Ct({url:u.toString(),method:"get"})}async getAllTransactions(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ce(this,qe,Bt).call(this,t),a=new URL(`${y(this,at)}/v1/safes/${n}/all-transactions/`);return ce(this,qe,vr).call(this,a,e),Ct({url:a.toString(),method:"get"})}async getNextNonce(t){if(t==="")throw new Error("Invalid Safe address");const{address:e}=ce(this,qe,Bt).call(this,t),n=await this.getPendingTransactions(e);return n.results.length>0?(n.results.reduce((r,l)=>{const c=BigInt(l.nonce);return c>r?c:r},0n)+1n).toString():(await this.getSafeInfo(e)).nonce}async getTokenList(t){const e=new URL(`${y(this,at)}/v1/tokens/`);return ce(this,qe,vr).call(this,e,t),Ct({url:e.toString(),method:"get"})}async getToken(t){if(t==="")throw new Error("Invalid token address");const{address:e}=ce(this,qe,Bt).call(this,t);return Ct({url:`${y(this,at)}/v1/tokens/${e}/`,method:"get"})}async getSafeOperationsByAddress(t,e){if(!t)throw new Error("Safe address must not be empty");const{address:n}=ce(this,qe,Bt).call(this,t),a=new URL(`${y(this,at)}/v1/safes/${n}/safe-operations/`);return ce(this,qe,vr).call(this,a,e),Ct({url:a.toString(),method:"get"})}async getPendingSafeOperations(t,e){return this.getSafeOperationsByAddress(t,{...e,executed:!1})}async getSafeOperation(t){if(!t)throw new Error("SafeOperation hash must not be empty");return Ct({url:`${y(this,at)}/v1/safe-operations/${t}/`,method:"get"})}async addSafeOperation(t){let e,n,a;moe(t)?a=await poe(t):a=t;const{entryPoint:s,moduleAddress:r,options:l,safeAddress:c,userOperation:g}=a;if(!c)throw new Error("Safe address must not be empty");try{e=ce(this,qe,Bt).call(this,c).address}catch{throw new Error(`Invalid Safe address ${c}`)}if(!r)throw new Error("Module address must not be empty");try{n=ce(this,qe,Bt).call(this,r).address}catch{throw new Error(`Invalid module address ${r}`)}if(eh(g.signature))throw new Error("Signature must not be empty");const u=p=>p?new Date(p*1e3).toISOString():null,I=g;return Ct({url:`${y(this,at)}/v1/safes/${e}/safe-operations/`,method:"post",body:{initCode:eh(I.initCode)?null:I.initCode,nonce:g.nonce,callData:g.callData,callGasLimit:g.callGasLimit.toString(),verificationGasLimit:g.verificationGasLimit.toString(),preVerificationGas:g.preVerificationGas.toString(),maxFeePerGas:g.maxFeePerGas.toString(),maxPriorityFeePerGas:g.maxPriorityFeePerGas.toString(),paymasterAndData:eh(I.paymasterAndData)?null:I.paymasterAndData,entryPoint:s,validAfter:u(l==null?void 0:l.validAfter),validUntil:u(l==null?void 0:l.validUntil),signature:g.signature,moduleAddress:n}})}async getSafeOperationConfirmations(t,{limit:e,offset:n}={}){if(!t)throw new Error("Invalid SafeOperation hash");const a=new URL(`${y(this,at)}/v1/safe-operations/${t}/confirmations/`);return e!=null&&a.searchParams.set("limit",e.toString()),n!=null&&a.searchParams.set("offset",n.toString()),Ct({url:a.toString(),method:"get"})}async confirmSafeOperation(t,e){if(!t)throw new Error("Invalid SafeOperation hash");if(!e)throw new Error("Invalid signature");return Ct({url:`${y(this,at)}/v1/safe-operations/${t}/confirmations/`,method:"post",body:{signature:e}})}},fl=new WeakMap,at=new WeakMap,qe=new WeakSet,h1=function(t){try{return qf(t),!0}catch{return!1}},Bt=function(t){return YW(t,y(this,fl))},vr=function(t,e){const n=a=>a.replace(/([A-Z])/g,"_$1").toLowerCase();Object.entries(e||{}).forEach(([a,s])=>{if(s!==void 0){const r=Aoe[a]??n(a);t.searchParams.set(r,s.toString())}})},Nw),boe=yoe,hoe=boe;Ju(["function enableModules(address[])","function multiSend(bytes memory transactions) public payable","function executeUserOp(address to, uint256 value, bytes data, uint8 operation)","function approve(address _spender, uint256 _value)","function configure((uint256 x, uint256 y, uint176 verifiers) signer)"]);var oR=new Uint8Array(37);oR.fill(254);oR[32]=4;var foe="canonical",Bw="The transaction has been executed, check the ethereumTxHash in the transactions property to view it on the corresponding blockchain explorer",Sw="The transaction was not executed on-chain yet. There are pending signatures and you need to confirm it with other Safe owners first. Use the confirm(safeTxHash) method with other signer connected to the client",ww="The message was stored using the Safe Transaction Service, you need to confirm it with other Safe owners in order to make it valid. Use the confirmMessage(messageHash) method with other signer connected to the client",kw="The message was stored using Safe services and now is confirmed and valid",Zoe="The UserOperation was stored using the Safe Transaction Service as an SafeOperation, you need to confirm it with other Safe owners in order to make it valid. Use the confirmSafeOperation(safeOperationHash) method with other signer connected to the client",Goe="The SafeOperation was sent to the bundler for being processed. Check the userOperationHash in the safeOperations property to see the SafeOperation in the corresponding explorer",em="A new Safe account was deployed, check the ethereumTxHash in the safeAccountDeployment property to view it on the corresponding blockchain explorer",Boe={DEPLOYED_AND_EXECUTED:`${em}. ${Bw}`,DEPLOYED_AND_PENDING_SIGNATURES:`${em}. ${Sw}`,EXECUTED:Bw,PENDING_SIGNATURES:Sw,MESSAGE_PENDING_SIGNATURES:ww,MESSAGE_CONFIRMED:kw,DEPLOYED_AND_MESSAGE_PENDING_SIGNATURES:`${em}. ${ww}`,DEPLOYED_AND_MESSAGE_CONFIRMED:`${em}. ${kw}`,SAFE_OPERATION_EXECUTED:Goe,SAFE_OPERATION_PENDING_SIGNATURES:Zoe},Vw=async({transaction:t,protocolKit:e})=>{const n=await e.getSafeProvider().getExternalSigner(),a=e.getSafeProvider().getExternalProvider();if(!n)throw new Error("SafeProvider must be initialized with a signer to use this function");const s=await n.sendTransaction({to:t.to,data:t.data,value:BigInt(t.value),account:n.account});return(await Mf(a,{hash:s})).transactionHash},Ww=async({safeTransaction:t,protocolKit:e,apiKit:n})=>{t=await e.signTransaction(t);const a=await e.getSafeProvider().getSignerAddress()||"0x",s=t.getSignature(a),r=await e.getTransactionHash(t),l={safeAddress:await e.getAddress(),safeTransactionData:t.data,safeTxHash:r,senderAddress:a,senderSignature:OA([s])};return await n.proposeTransaction(l),r},Soe=t=>{try{return qf(t),!0}catch{return!1}},woe=t=>!(!t.owners||!t.threshold),koe=async t=>t.transactionResponse?await t.transactionResponse.wait():void 0,Yo=({status:t,safeAddress:e,deploymentTxHash:n,safeTxHash:a,txHash:s,messageHash:r,userOperationHash:l,safeOperationHash:c})=>({safeAddress:e,description:Boe[t],status:t,transactions:s||a?{ethereumTxHash:s,safeTxHash:a}:void 0,messages:r?{messageHash:r}:void 0,safeOperations:l||c?{userOperationHash:l,safeOperationHash:c}:void 0,safeAccountDeployment:n?{ethereumTxHash:n}:void 0}),Zl,yI,Hw,Voe=(Hw=class{constructor(t,e){q(this,Zl);this.protocolKit=t,this.apiKit=e}async getAddress(){return this.protocolKit.getAddress()}async isDeployed(){return this.protocolKit.isSafeDeployed()}async isOwner(t){return this.protocolKit.isOwner(t)}async getOwners(){return this.protocolKit.getOwners()}async getThreshold(){return this.protocolKit.getThreshold()}async getNonce(){return this.protocolKit.getNonce()}async getOwnersWhoApprovedTransaction(t){return this.protocolKit.getOwnersWhoApprovedTx(t)}async createAddOwnerTransaction(t){const e=await this.protocolKit.createAddOwnerTx(t);return ce(this,Zl,yI).call(this,e)}async createRemoveOwnerTransaction(t){const e=await this.protocolKit.createRemoveOwnerTx(t);return ce(this,Zl,yI).call(this,e)}async createSwapOwnerTransaction(t){const e=await this.protocolKit.createSwapOwnerTx(t);return ce(this,Zl,yI).call(this,e)}async createChangeThresholdTransaction(t){const e=await this.protocolKit.createChangeThresholdTx(t.threshold);return ce(this,Zl,yI).call(this,e)}},Zl=new WeakSet,yI=async function(t){return{to:t.data.to,value:t.data.value,data:t.data.data}},Hw),vn,lR,cR,gR,dR,f1,Z1,Yw,Woe=(Yw=class extends Voe{constructor(e,n){super(e,n);q(this,vn)}async send({transactions:e,...n}){const a=await this.protocolKit.isSafeDeployed(),s=await this.protocolKit.getThreshold()>1,r=await this.protocolKit.createTransaction({transactions:e});return a?s?ce(this,vn,dR).call(this,{safeTransaction:r}):ce(this,vn,gR).call(this,{safeTransaction:r,...n}):s?ce(this,vn,cR).call(this,{safeTransaction:r,...n}):ce(this,vn,lR).call(this,{safeTransaction:r,...n})}async confirm({safeTxHash:e}){const n=await this.protocolKit.getAddress();let a=await this.apiKit.getTransaction(e);if(a.isExecuted)return Yo({status:"EXECUTED",safeAddress:n,txHash:a.transactionHash||"",safeTxHash:e});if(ce(this,vn,f1).call(this,a)){const r=(await this.protocolKit.signTransaction(a)).encodedSignatures();await this.apiKit.confirmTransaction(e,r),a=await this.apiKit.getTransaction(e)}if(!ce(this,vn,f1).call(this,a)){const s=await this.protocolKit.executeTransaction(a);return await koe(s),Yo({status:"EXECUTED",safeAddress:n,txHash:s.hash,safeTxHash:e})}return Yo({status:"PENDING_SIGNATURES",safeAddress:n,safeTxHash:e})}async getPendingTransactions(){const e=await this.protocolKit.getAddress();return this.apiKit.getPendingTransactions(e)}extend(e){const n=e(this);return n instanceof Promise?n.then(a=>Object.assign(this,a)):Object.assign(this,n)}},vn=new WeakSet,lR=async function({safeTransaction:e,...n}){e=await this.protocolKit.signTransaction(e);const a=await this.protocolKit.wrapSafeTransactionIntoDeploymentBatch(e,n),s=await Vw({transaction:a,protocolKit:this.protocolKit});return await ce(this,vn,Z1).call(this),Yo({safeAddress:await this.protocolKit.getAddress(),status:"DEPLOYED_AND_EXECUTED",deploymentTxHash:s,txHash:s})},cR=async function({safeTransaction:e,...n}){const a=await this.protocolKit.createSafeDeploymentTransaction(),s=await Vw({transaction:{...a,...n},protocolKit:this.protocolKit});await ce(this,vn,Z1).call(this),e=await this.protocolKit.signTransaction(e);const r=await Ww({safeTransaction:e,protocolKit:this.protocolKit,apiKit:this.apiKit});return Yo({safeAddress:await this.protocolKit.getAddress(),status:"DEPLOYED_AND_PENDING_SIGNATURES",deploymentTxHash:s,safeTxHash:r})},gR=async function({safeTransaction:e,...n}){e=await this.protocolKit.signTransaction(e);const{hash:a}=await this.protocolKit.executeTransaction(e,n);return Yo({safeAddress:await this.protocolKit.getAddress(),status:"EXECUTED",txHash:a})},dR=async function({safeTransaction:e}){const n=await Ww({safeTransaction:e,protocolKit:this.protocolKit,apiKit:this.apiKit});return Yo({safeAddress:await this.protocolKit.getAddress(),status:"PENDING_SIGNATURES",safeTxHash:n})},f1=function(e){var n;return(((n=e.confirmations)==null?void 0:n.length)||0)<e.confirmationsRequired},Z1=async function(){this.protocolKit=await this.protocolKit.connect({provider:this.protocolKit.getSafeProvider().provider,signer:this.protocolKit.getSafeProvider().signer,safeAddress:await this.protocolKit.getAddress()})},Yw);async function Roe(t){const e=await voe(t),n=await Xoe(e,t);if(!e||!n)throw new Error("Failed to create a kit instances");return new Woe(e,n)}async function voe(t){var e;if(t.safeAddress&&Soe(t.safeAddress))return $p.init({provider:t.provider,signer:t.signer,safeAddress:t.safeAddress});if(t.safeOptions&&woe(t.safeOptions)){let n;const a={provider:t.provider,signer:t.signer,predictedSafe:{safeAccountConfig:{owners:t.safeOptions.owners,threshold:t.safeOptions.threshold},safeDeploymentConfig:{saltNonce:t.safeOptions.saltNonce,deploymentType:foe}}};try{n=await $p.init(a)}catch(r){if(r instanceof Error&&r.message&&r.message.startsWith("Invalid")&&r.message.includes("contract address")&&((e=a.predictedSafe.safeDeploymentConfig)!=null&&e.deploymentType))delete a.predictedSafe.safeDeploymentConfig.deploymentType,n=await $p.init(a);else throw r}return await n.isSafeDeployed()?$p.init({provider:t.provider,signer:t.signer,safeAddress:await n.getAddress()}):n}else throw new Error("Invalid configuration: either a valid safeAddress or valid safeOptions must be provided.")}async function Xoe(t,e){const n=await t.getChainId();return new hoe({chainId:n,txServiceUrl:e.txServiceUrl})}const tm=100,th="https://rpc.aboutcircles.com",Wr="0x0aFd8899bca011Bb95611409f09c8EFbf6b169cF".toLowerCase(),nm=["function owner() external view returns (address)","function trustBatchWithConditions(address[] memory _coreMembers, uint96 _expiry) external"],Joe=["function isOwner(address owner) public view returns (bool)","function getThreshold() public view returns (uint256)"];function Eoe(){const[t,e]=ze.useState(""),[n,a]=ze.useState(!1),[s,r]=ze.useState(!1),[l,c]=ze.useState(null),[g,u]=ze.useState(null),[I,p]=ze.useState(null),[A,Z]=ze.useState(!1),[S,B]=ze.useState(null),[V,W]=ze.useState(null),[Y,R]=ze.useState("invite"),[x,M]=ze.useState(!1),[D,Q]=ze.useState(!1),[z,se]=ze.useState([]),[re,ae]=ze.useState(null),[Ie,de]=ze.useState(!1),[ie,J]=ze.useState("direct"),[T,O]=ze.useState(!1),[F,H]=ze.useState(!1),[U,E]=ze.useState(Wr),[_,be]=ze.useState(!1),[ye,ue]=ze.useState(!1),[Se,Ke]=ze.useState(!1),[Me,Pe]=ze.useState(!1),[ot,Pt]=ze.useState(1),[Zt,mt]=ze.useState(null),[xt,hn]=ze.useState(null);ze.useEffect(()=>{window.ethereum&&hn(window.ethereum)},[]),ze.useEffect(()=>{const fe=(()=>{const Ve=new bB(th);return u(Ve),Ve})();uo(fe)},[]);const Mt=async $=>{const fe=th,Ve={jsonrpc:"2.0",id:1,method:"circles_query",params:[{Namespace:"V_CrcV2",Table:"TrustRelations",Columns:[],Filter:[{Type:"FilterPredicate",FilterType:"Equals",Column:"truster",Value:$}]}]};try{const ve=await fetch(fe,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Ve)});if(!ve.ok)throw new Error(`HTTP error! status: ${ve.status}`);const De=await ve.json();if(De.error)throw new Error(`RPC error: ${De.error.message}`);const Le=new Set(De.result.rows.map(Pn=>Pn[5]));return Array.from(Le)}catch(ve){return console.error("Error fetching trusted groups:",ve),[]}},ns=async $=>{try{const fe=$.toLowerCase(),Ve=`https://rpc.aboutcircles.com/profiles/search?address=${fe}`,ve=await fetch(Ve);if(!ve.ok)return console.error("HTTP error",ve.status,ve.statusText),"Unnamed Group";const De=await ve.json();if(Array.isArray(De)){const Le=De.find(Pn=>Pn.address.toLowerCase()===fe);return(Le==null?void 0:Le.name)||"Unnamed Group"}return"Unnamed Group"}catch(fe){return console.error("Error fetching profile for",$,fe),"Unnamed Group"}},Ul=async($,fe)=>{try{return await new Fi($,nm,fe).owner()}catch(Ve){return console.error("Error getting group owner:",Ve),Wr}},uo=async $=>{de(!0);try{const fe=await Mt(Wr);if(fe.length===0){se([{id:"default-group",name:"Default Circles Group",address:"0xeb614ef61367687704cd4628a68a02f3b10ce68c",owner:Wr}]),ae({id:"default-group",name:"Default Circles Group",address:"0xeb614ef61367687704cd4628a68a02f3b10ce68c",owner:Wr});return}const Ve=await Promise.all(fe.map(async(ve,De)=>{const Le=await Ul(ve,$),Pn=await ns(ve);return{id:`group-${De}`,name:Pn||`Group ${De+1}`,address:ve,owner:Le}}));se(Ve),Ve.length>0&&(ae(Ve[0]),E(Ve[0].owner||Wr))}catch(fe){console.error("Error fetching groups data:",fe),se([{id:"default-group",name:"Default Circles Group",address:"0xeb614ef61367687704cd4628a68a02f3b10ce68c",owner:Wr}]),ae({id:"default-group",name:"Default Circles Group",address:"0xeb614ef61367687704cd4628a68a02f3b10ce68c",owner:Wr})}finally{de(!1)}};ze.useEffect(()=>{ie==="safe"&&(async()=>{if(A&&Me&&xt&&ie==="safe"&&!Zt)try{const fe=await(I==null?void 0:I.getAddress());if(!fe)throw new Error("Could not get connected wallet address");const Ve=await Roe({provider:xt,signer:fe,safeAddress:U});mt(Ve),c(null)}catch(fe){console.error("Failed to initialize Safe client:",fe),mt(null),c(`Failed to initialize Safe client: ${fe.message}`)}})()},[A,Me,I,U,ie,xt,Zt]),ze.useEffect(()=>{re&&re.owner&&E(re.owner)},[re]),ze.useEffect(()=>{g&&re&&as()},[A,ie,U,g,re]);const as=async()=>{if(!(!g||!re))try{const $=new Fi(re.address,nm,g);try{const fe=await $.owner();if(I){const Ve=await I.getAddress();be(fe.toLowerCase()===Ve.toLowerCase())}if(Ke(fe.toLowerCase()===U.toLowerCase()),ie==="safe"&&I)try{const Ve=new Fi(U,Joe,g),ve=await I.getAddress(),De=await Ve.isOwner(ve);ue(De);const Le=await Ve.getThreshold();Pt(Number(Le))}catch(Ve){console.error("Error checking Safe ownership:",Ve),ue(!1)}}catch(fe){console.error("Error calling owner() function:",fe),be(ie==="direct"),Ke(ie==="safe"),ue(ie==="safe")}}catch($){console.error("Error in checkOwnershipStatuses:",$),be(ie==="direct"),Ke(ie==="safe"),ue(ie==="safe")}};ze.useEffect(()=>{(async()=>{if(window.ethereum)try{const fe=await window.ethereum.request({method:"eth_chainId"}),Ve=parseInt(fe,16);Pe(Ve===tm);let ve;if(Ve===tm?ve=new Wm(window.ethereum):ve=new bB(th),u(ve),(await window.ethereum.request({method:"eth_accounts"})).length>0){if(Ve===tm){const Le=await ve.getSigner();p(Le)}Z(!0)}window.ethereum.on("chainChanged",Le=>{window.location.reload()})}catch(fe){console.error("Failed to check wallet connection:",fe)}})()},[]);const Aa=async()=>{if(window.ethereum)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x64"}]})}catch($){if($.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x64",chainName:"Gnosis Chain",nativeCurrency:{name:"xDAI",symbol:"xDAI",decimals:18},rpcUrls:["https://rpc.gnosischain.com"],blockExplorerUrls:["https://gnosisscan.io"]}]})}catch(fe){console.error("Failed to add Gnosis Chain to wallet:",fe)}else console.error("Failed to switch to Gnosis Chain:",$)}},Co=async()=>{if(c(null),!window.ethereum){c("No Ethereum wallet detected. Please install MetaMask or another compatible wallet.");return}try{a(!0),await window.ethereum.request({method:"eth_requestAccounts"});const $=await window.ethereum.request({method:"eth_chainId"});if(parseInt($,16)!==tm){await Aa();return}const Ve=new Wm(window.ethereum);u(Ve);const ve=await Ve.getSigner();p(ve),Z(!0),Pe(!0)}catch($){console.error("Error connecting wallet:",$),c(`Failed to connect wallet: ${$.message}`)}finally{a(!1)}},tr=$=>{H(!0);try{const Ve=`https://tally.so/r/wv1k10?address=${encodeURIComponent($)}`;return window.open(Ve,"_blank"),Ve}catch(fe){return c(`Error creating Tally URL: ${fe.message}`),null}finally{H(!1)}},ri=async $=>{if(re){if(c(null),B(null),!I){c("Wallet not connected. Please connect your wallet first.");return}if(!Me){c("Please switch to Gnosis Chain to perform transactions."),await Aa();return}try{O(!0);const fe=new Fi(re.address,nm,I),Ve=[$],De=await fe.trustBatchWithConditions(Ve,9999999999);await De.wait(),B(De.hash)}catch(fe){console.error("Error adding to group:",fe),c(`Failed to add to group: ${fe.message}`)}finally{O(!1)}}},Xn=async $=>{var fe,Ve;if(re){if(c(null),B(null),!I){c("Wallet not connected. Please connect your wallet first.");return}if(!Me){c("Please switch to Gnosis Chain to perform transactions."),await Aa();return}if(!Zt){c("Safe client not initialized. Please try again.");return}try{O(!0);const ve=new Sm(nm),De=[$],Pn=ve.encodeFunctionData("trustBatchWithConditions",[De,9999999999]),_u=[{to:re.address,data:Pn,value:"0"}],mo=await Zt.send({transactions:_u});(fe=mo.transaction)!=null&&fe.transactionHash?(B(mo.transaction.transactionHash),c(null)):(Ve=mo.transaction)!=null&&Ve.safeTxHash?(B(null),c(`Transaction created with Safe TX hash: ${mo.transaction.safeTxHash}. This Safe requires ${ot} signatures.`),window.open(`https://app.safe.global/transactions/queue?safe=gno:${U}`,"_blank")):c("Transaction created but no transaction hash returned. Check the Safe transaction service for status.")}catch(ve){if(console.error("Error creating/executing Safe transaction:",ve),typeof ve=="object"&&ve!==null){const De=ve;De.reason?c(`Transaction error: ${De.reason}`):De.message?c(`Failed to execute Safe transaction: ${De.message}`):c(`Failed to execute Safe transaction: ${JSON.stringify(ve)}`)}else c(`Failed to execute Safe transaction: ${String(ve)}`)}finally{O(!1)}}},oi=async $=>{ie==="direct"?await ri($):await Xn($)},po=$=>{W($),e($),r(!1),c(null),Y==="invite"&&x?tr($):Y==="group"&&D&&X()&&oi($)},Jn=()=>{r(!1)},Dl=()=>{c(null),B(null),W(null),r(!0)},k=$=>{const fe=$.target.value;e(fe),/^0x[a-fA-F0-9]{40}$/i.test(fe)?W(fe):fe===""&&W(null)},f=$=>{const fe=$.target.value,Ve=z.find(ve=>ve.id===fe);Ve&&ae(Ve)},G=()=>A?Me?ie==="direct"?_?" Your wallet is the group owner":" Your wallet may not be the group owner":Zt?Se?ye?` Safe ownership confirmed (Threshold: ${ot})`:" You may not be an owner of the Safe":" The Safe may not be the group owner":" Safe client not initialized":"Please switch to Gnosis Chain for full functionality":"Connect wallet to check ownership status",X=()=>!A||!Me||!re?!1:ie==="safe"?!!Zt&&ye&&Se:!0,P=()=>Ee.jsxs("div",{className:"tab-content",children:[Ee.jsx("div",{className:"auto-toggle-container",children:Ee.jsxs("div",{className:"auto-execute-toggle",children:[Ee.jsx("span",{className:"toggle-label",children:"Auto-Invite:"}),Ee.jsxs("label",{className:"toggle-switch",children:[Ee.jsx("input",{type:"checkbox",checked:x,onChange:()=>M(!x)}),Ee.jsx("span",{className:"toggle-slider"})]})]})}),V&&Ee.jsx("div",{className:"address-display",children:Ee.jsx("div",{className:"action-buttons-container",children:Ee.jsx("button",{onClick:()=>tr(V),className:"action-button tally-button",disabled:F,children:F?"Opening...":"Open Invitation Form"})})})]}),oe=()=>Ee.jsxs("div",{className:"tab-content",children:[Ee.jsx("div",{className:"group-selection-container",children:Ie?Ee.jsx("div",{className:"loading-indicator",children:"Loading groups..."}):Ee.jsx("select",{id:"group-select",value:(re==null?void 0:re.id)||"",onChange:f,className:"group-select-dropdown",disabled:Ie,children:z.map($=>Ee.jsxs("option",{value:$.id,children:[$.name," (",$.address.substring(0,6),"...",$.address.substring(38),")"]},$.id))})}),A&&Ee.jsx("div",{className:`ownership-status ${Me?X()?"success":"error":"warning"}`,children:G()}),Ee.jsx("div",{className:"owner-mode-toggle",children:Ee.jsxs("div",{className:"flex justify-center gap-4",children:[Ee.jsx("button",{className:`mode-button ${ie==="direct"?"active":""}`,onClick:()=>J("direct"),children:"Direct Owner"}),Ee.jsx("button",{className:`mode-button ${ie==="safe"?"active":""}`,onClick:()=>J("safe"),children:"Safe Owner"})]})}),Ee.jsx("div",{className:"wallet-connection",children:A?Ee.jsx("div",{className:"text-center",children:Ee.jsx("p",{className:"text-green-600 font-bold",children:" Wallet Connected"})}):Ee.jsx("button",{onClick:Co,disabled:n,className:"connect-wallet-button",children:n?"Connecting...":"Connect Wallet"})}),Ee.jsx("div",{className:"auto-toggle-container",children:Ee.jsxs("div",{className:"auto-execute-toggle",children:[Ee.jsx("span",{className:"toggle-label",children:"Auto-Add to Group:"}),Ee.jsxs("label",{className:"toggle-switch",children:[Ee.jsx("input",{type:"checkbox",checked:D,onChange:()=>Q(!D),disabled:!X()}),Ee.jsx("span",{className:"toggle-slider"})]})]})}),A&&!Me&&Ee.jsx("div",{className:"network-warning",children:Ee.jsx("button",{onClick:Aa,className:"switch-network-button",children:"Switch to Gnosis Chain"})}),V&&Ee.jsx("div",{className:"address-display",children:Ee.jsx("div",{className:"action-buttons-container",children:Ee.jsx("button",{onClick:()=>oi(V),disabled:!A||T||!Me||ie==="safe"&&!Zt||!re,className:"action-button group-button",children:T?"Processing...":ie==="direct"?"Add to Group":"Add via Safe"})})}),S&&Ee.jsxs("div",{className:"success-box",children:[Ee.jsx("h3",{children:" Address Added to Group"}),Ee.jsx("p",{className:"break-all text-xs",children:S}),Ee.jsx("a",{href:`https://gnosisscan.io/tx/${S}`,target:"_blank",rel:"noopener noreferrer",className:"view-tx-button",children:"View Transaction"})]})]});return Ee.jsxs("div",{className:"App",children:[Ee.jsx("h1",{children:"Circles Onboarding Helper"}),Ee.jsx("div",{className:"scan-button-container",children:Ee.jsx("button",{onClick:Dl,className:"scan-button",children:"Scan QR Code"})}),Ee.jsx("div",{className:"tab-navigation",children:Ee.jsxs("div",{className:"flex border-b",children:[Ee.jsx("button",{className:`tab-button ${Y==="invite"?"active":""}`,onClick:()=>R("invite"),children:"Invite"}),Ee.jsx("button",{className:`tab-button ${Y==="group"?"active":""}`,onClick:()=>R("group"),children:"Add to Group"})]})}),s?Ee.jsx(NH,{onScan:po,onClose:Jn,debug:!1}):Ee.jsxs(Ee.Fragment,{children:[Ee.jsx("div",{className:"input-container",children:Ee.jsx("input",{type:"text",placeholder:"Enter Wallet Address (0x...)",value:t,onChange:k,className:"wallet-input"})}),l&&Ee.jsx("p",{className:"error-message",children:l}),Y==="invite"?P():oe()]})]})}AX.createRoot(document.getElementById("root")).render(Ee.jsx(ze.StrictMode,{children:Ee.jsx(Eoe,{})}));export{Yoe as B,Ff as F,hI as H,$oe as a,qoe as b,p7 as c,Noe as d,ge as e,rf as f,lX as g,$t as h,AF as i,EA as j,nle as k,RV as l,Du as m,Ln as n,ts as o,vD as p,qa as q,L9 as s};
