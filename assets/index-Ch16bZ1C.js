var JX=Object.defineProperty;var JG=t=>{throw TypeError(t)};var xX=(t,e,n)=>e in t?JX(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var te=(t,e,n)=>xX(t,typeof e!="symbol"?e+"":e,n),B0=(t,e,n)=>e.has(t)||JG("Cannot "+n);var y=(t,e,n)=>(B0(t,e,"read from private field"),n?n.call(t):e.get(t)),q=(t,e,n)=>e.has(t)?JG("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),H=(t,e,n,a)=>(B0(t,e,"write to private field"),a?a.call(t,n):e.set(t,n),n),ge=(t,e,n)=>(B0(t,e,"access private method"),n);var Wd=(t,e,n,a)=>({set _(s){H(t,e,s,n)},get _(){return y(t,e,a)}});(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const l of r.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function a(s){if(s.ep)return;s.ep=!0;const r=n(s);fetch(s.href,r)}})();function NX(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Pce(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function a(){return this instanceof a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(a){var s=Object.getOwnPropertyDescriptor(t,a);Object.defineProperty(n,a,s.get?s:{enumerable:!0,get:function(){return t[a]}})}),n}var S0={exports:{}},vd={},w0={exports:{}},_e={},xG;function HX(){if(xG)return _e;xG=1;/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),r=Symbol.for("react.provider"),l=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;function A(J){return J===null||typeof J!="object"?null:(J=p&&J[p]||J["@@iterator"],typeof J=="function"?J:null)}var G={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,Z={};function V(J,K,se){this.props=J,this.context=K,this.refs=Z,this.updater=se||G}V.prototype.isReactComponent={},V.prototype.setState=function(J,K){if(typeof J!="object"&&typeof J!="function"&&J!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,J,K,"setState")},V.prototype.forceUpdate=function(J){this.updater.enqueueForceUpdate(this,J,"forceUpdate")};function W(){}W.prototype=V.prototype;function D(J,K,se){this.props=J,this.context=K,this.refs=Z,this.updater=se||G}var x=D.prototype=new W;x.constructor=D,w(x,V.prototype),x.isPureReactComponent=!0;var Y=Array.isArray,z=Object.prototype.hasOwnProperty,Q={current:null},P={key:!0,ref:!0,__self:!0,__source:!0};function _(J,K,se){var de,le={},Ze=null,Ne=null;if(K!=null)for(de in K.ref!==void 0&&(Ne=K.ref),K.key!==void 0&&(Ze=""+K.key),K)z.call(K,de)&&!P.hasOwnProperty(de)&&(le[de]=K[de]);var ze=arguments.length-2;if(ze===1)le.children=se;else if(1<ze){for(var Me=Array(ze),ot=0;ot<ze;ot++)Me[ot]=arguments[ot+2];le.children=Me}if(J&&J.defaultProps)for(de in ze=J.defaultProps,ze)le[de]===void 0&&(le[de]=ze[de]);return{$$typeof:t,type:J,key:Ze,ref:Ne,props:le,_owner:Q.current}}function re(J,K){return{$$typeof:t,type:J.type,key:K,ref:J.ref,props:J.props,_owner:J._owner}}function ce(J){return typeof J=="object"&&J!==null&&J.$$typeof===t}function ae(J){var K={"=":"=0",":":"=2"};return"$"+J.replace(/[=:]/g,function(se){return K[se]})}var pe=/\/+/g;function ue(J,K){return typeof J=="object"&&J!==null&&J.key!=null?ae(""+J.key):K.toString(36)}function M(J,K,se,de,le){var Ze=typeof J;(Ze==="undefined"||Ze==="boolean")&&(J=null);var Ne=!1;if(J===null)Ne=!0;else switch(Ze){case"string":case"number":Ne=!0;break;case"object":switch(J.$$typeof){case t:case e:Ne=!0}}if(Ne)return Ne=J,le=le(Ne),J=de===""?"."+ue(Ne,0):de,Y(le)?(se="",J!=null&&(se=J.replace(pe,"$&/")+"/"),M(le,K,se,"",function(ot){return ot})):le!=null&&(ce(le)&&(le=re(le,se+(!le.key||Ne&&Ne.key===le.key?"":(""+le.key).replace(pe,"$&/")+"/")+J)),K.push(le)),1;if(Ne=0,de=de===""?".":de+":",Y(J))for(var ze=0;ze<J.length;ze++){Ze=J[ze];var Me=de+ue(Ze,ze);Ne+=M(Ze,K,se,Me,le)}else if(Me=A(J),typeof Me=="function")for(J=Me.call(J),ze=0;!(Ze=J.next()).done;)Ze=Ze.value,Me=de+ue(Ze,ze++),Ne+=M(Ze,K,se,Me,le);else if(Ze==="object")throw K=String(J),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(J).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.");return Ne}function S(J,K,se){if(J==null)return J;var de=[],le=0;return M(J,de,"","",function(Ze){return K.call(se,Ze,le++)}),de}function E(J){if(J._status===-1){var K=J._result;K=K(),K.then(function(se){(J._status===0||J._status===-1)&&(J._status=1,J._result=se)},function(se){(J._status===0||J._status===-1)&&(J._status=2,J._result=se)}),J._status===-1&&(J._status=0,J._result=K)}if(J._status===1)return J._result.default;throw J._result}var N={current:null},X={transition:null},R={ReactCurrentDispatcher:N,ReactCurrentBatchConfig:X,ReactCurrentOwner:Q};function T(){throw Error("act(...) is not supported in production builds of React.")}return _e.Children={map:S,forEach:function(J,K,se){S(J,function(){K.apply(this,arguments)},se)},count:function(J){var K=0;return S(J,function(){K++}),K},toArray:function(J){return S(J,function(K){return K})||[]},only:function(J){if(!ce(J))throw Error("React.Children.only expected to receive a single React element child.");return J}},_e.Component=V,_e.Fragment=n,_e.Profiler=s,_e.PureComponent=D,_e.StrictMode=a,_e.Suspense=c,_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,_e.act=T,_e.cloneElement=function(J,K,se){if(J==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+J+".");var de=w({},J.props),le=J.key,Ze=J.ref,Ne=J._owner;if(K!=null){if(K.ref!==void 0&&(Ze=K.ref,Ne=Q.current),K.key!==void 0&&(le=""+K.key),J.type&&J.type.defaultProps)var ze=J.type.defaultProps;for(Me in K)z.call(K,Me)&&!P.hasOwnProperty(Me)&&(de[Me]=K[Me]===void 0&&ze!==void 0?ze[Me]:K[Me])}var Me=arguments.length-2;if(Me===1)de.children=se;else if(1<Me){ze=Array(Me);for(var ot=0;ot<Me;ot++)ze[ot]=arguments[ot+2];de.children=ze}return{$$typeof:t,type:J.type,key:le,ref:Ze,props:de,_owner:Ne}},_e.createContext=function(J){return J={$$typeof:l,_currentValue:J,_currentValue2:J,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},J.Provider={$$typeof:r,_context:J},J.Consumer=J},_e.createElement=_,_e.createFactory=function(J){var K=_.bind(null,J);return K.type=J,K},_e.createRef=function(){return{current:null}},_e.forwardRef=function(J){return{$$typeof:g,render:J}},_e.isValidElement=ce,_e.lazy=function(J){return{$$typeof:d,_payload:{_status:-1,_result:J},_init:E}},_e.memo=function(J,K){return{$$typeof:u,type:J,compare:K===void 0?null:K}},_e.startTransition=function(J){var K=X.transition;X.transition={};try{J()}finally{X.transition=K}},_e.unstable_act=T,_e.useCallback=function(J,K){return N.current.useCallback(J,K)},_e.useContext=function(J){return N.current.useContext(J)},_e.useDebugValue=function(){},_e.useDeferredValue=function(J){return N.current.useDeferredValue(J)},_e.useEffect=function(J,K){return N.current.useEffect(J,K)},_e.useId=function(){return N.current.useId()},_e.useImperativeHandle=function(J,K,se){return N.current.useImperativeHandle(J,K,se)},_e.useInsertionEffect=function(J,K){return N.current.useInsertionEffect(J,K)},_e.useLayoutEffect=function(J,K){return N.current.useLayoutEffect(J,K)},_e.useMemo=function(J,K){return N.current.useMemo(J,K)},_e.useReducer=function(J,K,se){return N.current.useReducer(J,K,se)},_e.useRef=function(J){return N.current.useRef(J)},_e.useState=function(J){return N.current.useState(J)},_e.useSyncExternalStore=function(J,K,se){return N.current.useSyncExternalStore(J,K,se)},_e.useTransition=function(){return N.current.useTransition()},_e.version="18.3.1",_e}var NG;function z1(){return NG||(NG=1,w0.exports=HX()),w0.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HG;function TX(){if(HG)return vd;HG=1;var t=z1(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,s=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,r={key:!0,ref:!0,__self:!0,__source:!0};function l(g,c,u){var d,p={},A=null,G=null;u!==void 0&&(A=""+u),c.key!==void 0&&(A=""+c.key),c.ref!==void 0&&(G=c.ref);for(d in c)a.call(c,d)&&!r.hasOwnProperty(d)&&(p[d]=c[d]);if(g&&g.defaultProps)for(d in c=g.defaultProps,c)p[d]===void 0&&(p[d]=c[d]);return{$$typeof:e,type:g,key:A,ref:G,props:p,_owner:s.current}}return vd.Fragment=n,vd.jsx=l,vd.jsxs=l,vd}var TG;function YX(){return TG||(TG=1,S0.exports=TX()),S0.exports}var Je=YX(),Le=z1(),zC={},k0={exports:{}},na={},V0={exports:{}},R0={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YG;function FX(){return YG||(YG=1,function(t){function e(X,R){var T=X.length;X.push(R);e:for(;0<T;){var J=T-1>>>1,K=X[J];if(0<s(K,R))X[J]=R,X[T]=K,T=J;else break e}}function n(X){return X.length===0?null:X[0]}function a(X){if(X.length===0)return null;var R=X[0],T=X.pop();if(T!==R){X[0]=T;e:for(var J=0,K=X.length,se=K>>>1;J<se;){var de=2*(J+1)-1,le=X[de],Ze=de+1,Ne=X[Ze];if(0>s(le,T))Ze<K&&0>s(Ne,le)?(X[J]=Ne,X[Ze]=T,J=Ze):(X[J]=le,X[de]=T,J=de);else if(Ze<K&&0>s(Ne,T))X[J]=Ne,X[Ze]=T,J=Ze;else break e}}return R}function s(X,R){var T=X.sortIndex-R.sortIndex;return T!==0?T:X.id-R.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;t.unstable_now=function(){return r.now()}}else{var l=Date,g=l.now();t.unstable_now=function(){return l.now()-g}}var c=[],u=[],d=1,p=null,A=3,G=!1,w=!1,Z=!1,V=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(X){for(var R=n(u);R!==null;){if(R.callback===null)a(u);else if(R.startTime<=X)a(u),R.sortIndex=R.expirationTime,e(c,R);else break;R=n(u)}}function Y(X){if(Z=!1,x(X),!w)if(n(c)!==null)w=!0,E(z);else{var R=n(u);R!==null&&N(Y,R.startTime-X)}}function z(X,R){w=!1,Z&&(Z=!1,W(_),_=-1),G=!0;var T=A;try{for(x(R),p=n(c);p!==null&&(!(p.expirationTime>R)||X&&!ae());){var J=p.callback;if(typeof J=="function"){p.callback=null,A=p.priorityLevel;var K=J(p.expirationTime<=R);R=t.unstable_now(),typeof K=="function"?p.callback=K:p===n(c)&&a(c),x(R)}else a(c);p=n(c)}if(p!==null)var se=!0;else{var de=n(u);de!==null&&N(Y,de.startTime-R),se=!1}return se}finally{p=null,A=T,G=!1}}var Q=!1,P=null,_=-1,re=5,ce=-1;function ae(){return!(t.unstable_now()-ce<re)}function pe(){if(P!==null){var X=t.unstable_now();ce=X;var R=!0;try{R=P(!0,X)}finally{R?ue():(Q=!1,P=null)}}else Q=!1}var ue;if(typeof D=="function")ue=function(){D(pe)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,S=M.port2;M.port1.onmessage=pe,ue=function(){S.postMessage(null)}}else ue=function(){V(pe,0)};function E(X){P=X,Q||(Q=!0,ue())}function N(X,R){_=V(function(){X(t.unstable_now())},R)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){w||G||(w=!0,E(z))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):re=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(X){switch(A){case 1:case 2:case 3:var R=3;break;default:R=A}var T=A;A=R;try{return X()}finally{A=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,R){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var T=A;A=X;try{return R()}finally{A=T}},t.unstable_scheduleCallback=function(X,R,T){var J=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?J+T:J):T=J,X){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=T+K,X={id:d++,callback:R,priorityLevel:X,startTime:T,expirationTime:K,sortIndex:-1},T>J?(X.sortIndex=T,e(u,X),n(c)===null&&X===n(u)&&(Z?(W(_),_=-1):Z=!0,N(Y,T-J))):(X.sortIndex=K,e(c,X),w||G||(w=!0,E(z))),X},t.unstable_shouldYield=ae,t.unstable_wrapCallback=function(X){var R=A;return function(){var T=A;A=R;try{return X.apply(this,arguments)}finally{A=T}}}}(R0)),R0}var FG;function KX(){return FG||(FG=1,V0.exports=FX()),V0.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KG;function MX(){if(KG)return na;KG=1;var t=z1(),e=KX();function n(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,I=1;I<arguments.length;I++)o+="&args[]="+encodeURIComponent(arguments[I]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,s={};function r(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)a.add(o[i])}var g=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,u=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function A(i){return c.call(p,i)?!0:c.call(d,i)?!1:u.test(i)?p[i]=!0:(d[i]=!0,!1)}function G(i,o,I,C){if(I!==null&&I.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return C?!1:I!==null?!I.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function w(i,o,I,C){if(o===null||typeof o>"u"||G(i,o,I,C))return!0;if(C)return!1;if(I!==null)switch(I.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function Z(i,o,I,C,m,b,k){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=C,this.attributeNamespace=m,this.mustUseProperty=I,this.propertyName=i,this.type=o,this.sanitizeURL=b,this.removeEmptyString=k}var V={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){V[i]=new Z(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];V[o]=new Z(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){V[i]=new Z(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){V[i]=new Z(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){V[i]=new Z(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){V[i]=new Z(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){V[i]=new Z(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){V[i]=new Z(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){V[i]=new Z(i,5,!1,i.toLowerCase(),null,!1,!1)});var W=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(W,D);V[o]=new Z(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(W,D);V[o]=new Z(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(W,D);V[o]=new Z(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){V[i]=new Z(i,1,!1,i.toLowerCase(),null,!1,!1)}),V.xlinkHref=new Z("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){V[i]=new Z(i,1,!1,i.toLowerCase(),null,!0,!0)});function x(i,o,I,C){var m=V.hasOwnProperty(o)?V[o]:null;(m!==null?m.type!==0:C||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(w(o,I,m,C)&&(I=null),C||m===null?A(o)&&(I===null?i.removeAttribute(o):i.setAttribute(o,""+I)):m.mustUseProperty?i[m.propertyName]=I===null?m.type===3?!1:"":I:(o=m.attributeName,C=m.attributeNamespace,I===null?i.removeAttribute(o):(m=m.type,I=m===3||m===4&&I===!0?"":""+I,C?i.setAttributeNS(C,o,I):i.setAttribute(o,I))))}var Y=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,z=Symbol.for("react.element"),Q=Symbol.for("react.portal"),P=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),re=Symbol.for("react.profiler"),ce=Symbol.for("react.provider"),ae=Symbol.for("react.context"),pe=Symbol.for("react.forward_ref"),ue=Symbol.for("react.suspense"),M=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.offscreen"),X=Symbol.iterator;function R(i){return i===null||typeof i!="object"?null:(i=X&&i[X]||i["@@iterator"],typeof i=="function"?i:null)}var T=Object.assign,J;function K(i){if(J===void 0)try{throw Error()}catch(I){var o=I.stack.trim().match(/\n( *(at )?)/);J=o&&o[1]||""}return`
`+J+i}var se=!1;function de(i,o){if(!i||se)return"";se=!0;var I=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(ie){var C=ie}Reflect.construct(i,[],o)}else{try{o.call()}catch(ie){C=ie}i.call(o.prototype)}else{try{throw Error()}catch(ie){C=ie}i()}}catch(ie){if(ie&&C&&typeof ie.stack=="string"){for(var m=ie.stack.split(`
`),b=C.stack.split(`
`),k=m.length-1,U=b.length-1;1<=k&&0<=U&&m[k]!==b[U];)U--;for(;1<=k&&0<=U;k--,U--)if(m[k]!==b[U]){if(k!==1||U!==1)do if(k--,U--,0>U||m[k]!==b[U]){var L=`
`+m[k].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=k&&0<=U);break}}}finally{se=!1,Error.prepareStackTrace=I}return(i=i?i.displayName||i.name:"")?K(i):""}function le(i){switch(i.tag){case 5:return K(i.type);case 16:return K("Lazy");case 13:return K("Suspense");case 19:return K("SuspenseList");case 0:case 2:case 15:return i=de(i.type,!1),i;case 11:return i=de(i.type.render,!1),i;case 1:return i=de(i.type,!0),i;default:return""}}function Ze(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case P:return"Fragment";case Q:return"Portal";case re:return"Profiler";case _:return"StrictMode";case ue:return"Suspense";case M:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case ae:return(i.displayName||"Context")+".Consumer";case ce:return(i._context.displayName||"Context")+".Provider";case pe:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case S:return o=i.displayName||null,o!==null?o:Ze(i.type)||"Memo";case E:o=i._payload,i=i._init;try{return Ze(i(o))}catch{}}return null}function Ne(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ze(o);case 8:return o===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function ze(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Me(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ot(i){var o=Me(i)?"checked":"value",I=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),C=""+i[o];if(!i.hasOwnProperty(o)&&typeof I<"u"&&typeof I.get=="function"&&typeof I.set=="function"){var m=I.get,b=I.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(k){C=""+k,b.call(this,k)}}),Object.defineProperty(i,o,{enumerable:I.enumerable}),{getValue:function(){return C},setValue:function(k){C=""+k},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function _t(i){i._valueTracker||(i._valueTracker=ot(i))}function Nt(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var I=o.getValue(),C="";return i&&(C=Me(i)?i.checked?"true":"false":i.value),i=C,i!==I?(o.setValue(i),!0):!1}function Ct(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function $t(i,o){var I=o.checked;return T({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:I??i._wrapperState.initialChecked})}function wn(i,o){var I=o.defaultValue==null?"":o.defaultValue,C=o.checked!=null?o.checked:o.defaultChecked;I=ze(o.value!=null?o.value:I),i._wrapperState={initialChecked:C,initialValue:I,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Ut(i,o){o=o.checked,o!=null&&x(i,"checked",o,!1)}function ns(i,o){Ut(i,o);var I=ze(o.value),C=o.type;if(I!=null)C==="number"?(I===0&&i.value===""||i.value!=I)&&(i.value=""+I):i.value!==""+I&&(i.value=""+I);else if(C==="submit"||C==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?ao(i,o.type,I):o.hasOwnProperty("defaultValue")&&ao(i,o.type,ze(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function Wl(i,o,I){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var C=o.type;if(!(C!=="submit"&&C!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,I||o===i.value||(i.value=o),i.defaultValue=o}I=i.name,I!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,I!==""&&(i.name=I)}function ao(i,o,I){(o!=="number"||Ct(i.ownerDocument)!==i)&&(I==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+I&&(i.defaultValue=""+I))}var Qe=Array.isArray;function Fe(i,o,I,C){if(i=i.options,o){o={};for(var m=0;m<I.length;m++)o["$"+I[m]]=!0;for(I=0;I<i.length;I++)m=o.hasOwnProperty("$"+i[I].value),i[I].selected!==m&&(i[I].selected=m),m&&C&&(i[I].defaultSelected=!0)}else{for(I=""+ze(I),o=null,m=0;m<i.length;m++){if(i[m].value===I){i[m].selected=!0,C&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function pt(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return T({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Rt(i,o){var I=o.value;if(I==null){if(I=o.children,o=o.defaultValue,I!=null){if(o!=null)throw Error(n(92));if(Qe(I)){if(1<I.length)throw Error(n(93));I=I[0]}o=I}o==null&&(o=""),I=o}i._wrapperState={initialValue:ze(I)}}function qt(i,o){var I=ze(o.value),C=ze(o.defaultValue);I!=null&&(I=""+I,I!==i.value&&(i.value=I),o.defaultValue==null&&i.defaultValue!==I&&(i.defaultValue=I)),C!=null&&(i.defaultValue=""+C)}function en(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Oi(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ji(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Oi(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var an,Tu=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,I,C,m){MSApp.execUnsafeLocalFunction(function(){return i(o,I,C,m)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(an=an||document.createElement("div"),an.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=an.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function v(i,o){if(o){var I=i.firstChild;if(I&&I===i.lastChild&&I.nodeType===3){I.nodeValue=o;return}}i.textContent=o}var f={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},B=["Webkit","ms","Moz","O"];Object.keys(f).forEach(function(i){B.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),f[o]=f[i]})});function F(i,o,I){return o==null||typeof o=="boolean"||o===""?"":I||typeof o!="number"||o===0||f.hasOwnProperty(i)&&f[i]?(""+o).trim():o+"px"}function j(i,o){i=i.style;for(var I in o)if(o.hasOwnProperty(I)){var C=I.indexOf("--")===0,m=F(I,o[I],C);I==="float"&&(I="cssFloat"),C?i.setProperty(I,m):i[I]=m}}var oe=T({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ce(i,o){if(o){if(oe[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Pe(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ft=null;function At(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Zt=null,tt=null,vl=null;function _2(i){if(i=pd(i)){if(typeof Zt!="function")throw Error(n(280));var o=i.stateNode;o&&(o=oC(o),Zt(i.stateNode,i.type,o))}}function $2(i){tt?vl?vl.push(i):vl=[i]:tt=i}function q2(){if(tt){var i=tt,o=vl;if(vl=tt=null,_2(i),o)for(i=0;i<o.length;i++)_2(o[i])}}function e5(i,o){return i(o)}function t5(){}var KA=!1;function n5(i,o,I){if(KA)return i(o,I);KA=!0;try{return e5(i,o,I)}finally{KA=!1,(tt!==null||vl!==null)&&(t5(),q2())}}function Pg(i,o){var I=i.stateNode;if(I===null)return null;var C=oC(I);if(C===null)return null;I=C[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(C=!C.disabled)||(i=i.type,C=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!C;break e;default:i=!1}if(i)return null;if(I&&typeof I!="function")throw Error(n(231,o,typeof I));return I}var MA=!1;if(g)try{var Og={};Object.defineProperty(Og,"passive",{get:function(){MA=!0}}),window.addEventListener("test",Og,Og),window.removeEventListener("test",Og,Og)}catch{MA=!1}function Fv(i,o,I,C,m,b,k,U,L){var ie=Array.prototype.slice.call(arguments,3);try{o.apply(I,ie)}catch(Ae){this.onError(Ae)}}var jg=!1,Yu=null,Fu=!1,UA=null,Kv={onError:function(i){jg=!0,Yu=i}};function Mv(i,o,I,C,m,b,k,U,L){jg=!1,Yu=null,Fv.apply(Kv,arguments)}function Uv(i,o,I,C,m,b,k,U,L){if(Mv.apply(this,arguments),jg){if(jg){var ie=Yu;jg=!1,Yu=null}else throw Error(n(198));Fu||(Fu=!0,UA=ie)}}function so(i){var o=i,I=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(I=o.return),i=o.return;while(i)}return o.tag===3?I:null}function a5(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function s5(i){if(so(i)!==i)throw Error(n(188))}function Dv(i){var o=i.alternate;if(!o){if(o=so(i),o===null)throw Error(n(188));return o!==i?null:i}for(var I=i,C=o;;){var m=I.return;if(m===null)break;var b=m.alternate;if(b===null){if(C=m.return,C!==null){I=C;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===I)return s5(m),i;if(b===C)return s5(m),o;b=b.sibling}throw Error(n(188))}if(I.return!==C.return)I=m,C=b;else{for(var k=!1,U=m.child;U;){if(U===I){k=!0,I=m,C=b;break}if(U===C){k=!0,C=m,I=b;break}U=U.sibling}if(!k){for(U=b.child;U;){if(U===I){k=!0,I=b,C=m;break}if(U===C){k=!0,C=b,I=m;break}U=U.sibling}if(!k)throw Error(n(189))}}if(I.alternate!==C)throw Error(n(190))}if(I.tag!==3)throw Error(n(188));return I.stateNode.current===I?i:o}function i5(i){return i=Dv(i),i!==null?r5(i):null}function r5(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=r5(i);if(o!==null)return o;i=i.sibling}return null}var o5=e.unstable_scheduleCallback,l5=e.unstable_cancelCallback,Lv=e.unstable_shouldYield,zv=e.unstable_requestPaint,Dt=e.unstable_now,Qv=e.unstable_getCurrentPriorityLevel,DA=e.unstable_ImmediatePriority,c5=e.unstable_UserBlockingPriority,Ku=e.unstable_NormalPriority,Pv=e.unstable_LowPriority,g5=e.unstable_IdlePriority,Mu=null,ks=null;function Ov(i){if(ks&&typeof ks.onCommitFiberRoot=="function")try{ks.onCommitFiberRoot(Mu,i,void 0,(i.current.flags&128)===128)}catch{}}var as=Math.clz32?Math.clz32:$v,jv=Math.log,_v=Math.LN2;function $v(i){return i>>>=0,i===0?32:31-(jv(i)/_v|0)|0}var Uu=64,Du=4194304;function _g(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Lu(i,o){var I=i.pendingLanes;if(I===0)return 0;var C=0,m=i.suspendedLanes,b=i.pingedLanes,k=I&268435455;if(k!==0){var U=k&~m;U!==0?C=_g(U):(b&=k,b!==0&&(C=_g(b)))}else k=I&~m,k!==0?C=_g(k):b!==0&&(C=_g(b));if(C===0)return 0;if(o!==0&&o!==C&&(o&m)===0&&(m=C&-C,b=o&-o,m>=b||m===16&&(b&4194240)!==0))return o;if((C&4)!==0&&(C|=I&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=C;0<o;)I=31-as(o),m=1<<I,C|=i[I],o&=~m;return C}function qv(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eE(i,o){for(var I=i.suspendedLanes,C=i.pingedLanes,m=i.expirationTimes,b=i.pendingLanes;0<b;){var k=31-as(b),U=1<<k,L=m[k];L===-1?((U&I)===0||(U&C)!==0)&&(m[k]=qv(U,o)):L<=o&&(i.expiredLanes|=U),b&=~U}}function LA(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function d5(){var i=Uu;return Uu<<=1,(Uu&4194240)===0&&(Uu=64),i}function zA(i){for(var o=[],I=0;31>I;I++)o.push(i);return o}function $g(i,o,I){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-as(o),i[o]=I}function tE(i,o){var I=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var C=i.eventTimes;for(i=i.expirationTimes;0<I;){var m=31-as(I),b=1<<m;o[m]=0,C[m]=-1,i[m]=-1,I&=~b}}function QA(i,o){var I=i.entangledLanes|=o;for(i=i.entanglements;I;){var C=31-as(I),m=1<<C;m&o|i[C]&o&&(i[C]|=o),I&=~m}}var mt=0;function I5(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var u5,PA,C5,p5,m5,OA=!1,zu=[],_i=null,$i=null,qi=null,qg=new Map,ed=new Map,er=[],nE="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function A5(i,o){switch(i){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":qi=null;break;case"pointerover":case"pointerout":qg.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":ed.delete(o.pointerId)}}function td(i,o,I,C,m,b){return i===null||i.nativeEvent!==b?(i={blockedOn:o,domEventName:I,eventSystemFlags:C,nativeEvent:b,targetContainers:[m]},o!==null&&(o=pd(o),o!==null&&PA(o)),i):(i.eventSystemFlags|=C,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function aE(i,o,I,C,m){switch(o){case"focusin":return _i=td(_i,i,o,I,C,m),!0;case"dragenter":return $i=td($i,i,o,I,C,m),!0;case"mouseover":return qi=td(qi,i,o,I,C,m),!0;case"pointerover":var b=m.pointerId;return qg.set(b,td(qg.get(b)||null,i,o,I,C,m)),!0;case"gotpointercapture":return b=m.pointerId,ed.set(b,td(ed.get(b)||null,i,o,I,C,m)),!0}return!1}function y5(i){var o=io(i.target);if(o!==null){var I=so(o);if(I!==null){if(o=I.tag,o===13){if(o=a5(I),o!==null){i.blockedOn=o,m5(i.priority,function(){C5(I)});return}}else if(o===3&&I.stateNode.current.memoizedState.isDehydrated){i.blockedOn=I.tag===3?I.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Qu(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var I=_A(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(I===null){I=i.nativeEvent;var C=new I.constructor(I.type,I);ft=C,I.target.dispatchEvent(C),ft=null}else return o=pd(I),o!==null&&PA(o),i.blockedOn=I,!1;o.shift()}return!0}function b5(i,o,I){Qu(i)&&I.delete(o)}function sE(){OA=!1,_i!==null&&Qu(_i)&&(_i=null),$i!==null&&Qu($i)&&($i=null),qi!==null&&Qu(qi)&&(qi=null),qg.forEach(b5),ed.forEach(b5)}function nd(i,o){i.blockedOn===o&&(i.blockedOn=null,OA||(OA=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,sE)))}function ad(i){function o(m){return nd(m,i)}if(0<zu.length){nd(zu[0],i);for(var I=1;I<zu.length;I++){var C=zu[I];C.blockedOn===i&&(C.blockedOn=null)}}for(_i!==null&&nd(_i,i),$i!==null&&nd($i,i),qi!==null&&nd(qi,i),qg.forEach(o),ed.forEach(o),I=0;I<er.length;I++)C=er[I],C.blockedOn===i&&(C.blockedOn=null);for(;0<er.length&&(I=er[0],I.blockedOn===null);)y5(I),I.blockedOn===null&&er.shift()}var El=Y.ReactCurrentBatchConfig,Pu=!0;function iE(i,o,I,C){var m=mt,b=El.transition;El.transition=null;try{mt=1,jA(i,o,I,C)}finally{mt=m,El.transition=b}}function rE(i,o,I,C){var m=mt,b=El.transition;El.transition=null;try{mt=4,jA(i,o,I,C)}finally{mt=m,El.transition=b}}function jA(i,o,I,C){if(Pu){var m=_A(i,o,I,C);if(m===null)Cy(i,o,C,Ou,I),A5(i,C);else if(aE(m,i,o,I,C))C.stopPropagation();else if(A5(i,C),o&4&&-1<nE.indexOf(i)){for(;m!==null;){var b=pd(m);if(b!==null&&u5(b),b=_A(i,o,I,C),b===null&&Cy(i,o,C,Ou,I),b===m)break;m=b}m!==null&&C.stopPropagation()}else Cy(i,o,C,null,I)}}var Ou=null;function _A(i,o,I,C){if(Ou=null,i=At(C),i=io(i),i!==null)if(o=so(i),o===null)i=null;else if(I=o.tag,I===13){if(i=a5(o),i!==null)return i;i=null}else if(I===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ou=i,null}function h5(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qv()){case DA:return 1;case c5:return 4;case Ku:case Pv:return 16;case g5:return 536870912;default:return 16}default:return 16}}var tr=null,$A=null,ju=null;function f5(){if(ju)return ju;var i,o=$A,I=o.length,C,m="value"in tr?tr.value:tr.textContent,b=m.length;for(i=0;i<I&&o[i]===m[i];i++);var k=I-i;for(C=1;C<=k&&o[I-C]===m[b-C];C++);return ju=m.slice(i,1<C?1-C:void 0)}function _u(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function $u(){return!0}function Z5(){return!1}function ya(i){function o(I,C,m,b,k){this._reactName=I,this._targetInst=m,this.type=C,this.nativeEvent=b,this.target=k,this.currentTarget=null;for(var U in i)i.hasOwnProperty(U)&&(I=i[U],this[U]=I?I(b):b[U]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?$u:Z5,this.isPropagationStopped=Z5,this}return T(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var I=this.nativeEvent;I&&(I.preventDefault?I.preventDefault():typeof I.returnValue!="unknown"&&(I.returnValue=!1),this.isDefaultPrevented=$u)},stopPropagation:function(){var I=this.nativeEvent;I&&(I.stopPropagation?I.stopPropagation():typeof I.cancelBubble!="unknown"&&(I.cancelBubble=!0),this.isPropagationStopped=$u)},persist:function(){},isPersistent:$u}),o}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qA=ya(Xl),sd=T({},Xl,{view:0,detail:0}),oE=ya(sd),ey,ty,id,qu=T({},sd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ay,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==id&&(id&&i.type==="mousemove"?(ey=i.screenX-id.screenX,ty=i.screenY-id.screenY):ty=ey=0,id=i),ey)},movementY:function(i){return"movementY"in i?i.movementY:ty}}),G5=ya(qu),lE=T({},qu,{dataTransfer:0}),cE=ya(lE),gE=T({},sd,{relatedTarget:0}),ny=ya(gE),dE=T({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),IE=ya(dE),uE=T({},Xl,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),CE=ya(uE),pE=T({},Xl,{data:0}),B5=ya(pE),mE={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},AE={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},yE={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function bE(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=yE[i])?!!o[i]:!1}function ay(){return bE}var hE=T({},sd,{key:function(i){if(i.key){var o=mE[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=_u(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?AE[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ay,charCode:function(i){return i.type==="keypress"?_u(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_u(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),fE=ya(hE),ZE=T({},qu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),S5=ya(ZE),GE=T({},sd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ay}),BE=ya(GE),SE=T({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),wE=ya(SE),kE=T({},qu,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),VE=ya(kE),RE=[9,13,27,32],sy=g&&"CompositionEvent"in window,rd=null;g&&"documentMode"in document&&(rd=document.documentMode);var WE=g&&"TextEvent"in window&&!rd,w5=g&&(!sy||rd&&8<rd&&11>=rd),k5=" ",V5=!1;function R5(i,o){switch(i){case"keyup":return RE.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W5(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Jl=!1;function vE(i,o){switch(i){case"compositionend":return W5(o);case"keypress":return o.which!==32?null:(V5=!0,k5);case"textInput":return i=o.data,i===k5&&V5?null:i;default:return null}}function EE(i,o){if(Jl)return i==="compositionend"||!sy&&R5(i,o)?(i=f5(),ju=$A=tr=null,Jl=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return w5&&o.locale!=="ko"?null:o.data;default:return null}}var XE={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function v5(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!XE[i.type]:o==="textarea"}function E5(i,o,I,C){$2(C),o=sC(o,"onChange"),0<o.length&&(I=new qA("onChange","change",null,I,C),i.push({event:I,listeners:o}))}var od=null,ld=null;function JE(i){j5(i,0)}function eC(i){var o=Yl(i);if(Nt(o))return i}function xE(i,o){if(i==="change")return o}var X5=!1;if(g){var iy;if(g){var ry="oninput"in document;if(!ry){var J5=document.createElement("div");J5.setAttribute("oninput","return;"),ry=typeof J5.oninput=="function"}iy=ry}else iy=!1;X5=iy&&(!document.documentMode||9<document.documentMode)}function x5(){od&&(od.detachEvent("onpropertychange",N5),ld=od=null)}function N5(i){if(i.propertyName==="value"&&eC(ld)){var o=[];E5(o,ld,i,At(i)),n5(JE,o)}}function NE(i,o,I){i==="focusin"?(x5(),od=o,ld=I,od.attachEvent("onpropertychange",N5)):i==="focusout"&&x5()}function HE(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return eC(ld)}function TE(i,o){if(i==="click")return eC(o)}function YE(i,o){if(i==="input"||i==="change")return eC(o)}function FE(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var ss=typeof Object.is=="function"?Object.is:FE;function cd(i,o){if(ss(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var I=Object.keys(i),C=Object.keys(o);if(I.length!==C.length)return!1;for(C=0;C<I.length;C++){var m=I[C];if(!c.call(o,m)||!ss(i[m],o[m]))return!1}return!0}function H5(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function T5(i,o){var I=H5(i);i=0;for(var C;I;){if(I.nodeType===3){if(C=i+I.textContent.length,i<=o&&C>=o)return{node:I,offset:o-i};i=C}e:{for(;I;){if(I.nextSibling){I=I.nextSibling;break e}I=I.parentNode}I=void 0}I=H5(I)}}function Y5(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?Y5(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function F5(){for(var i=window,o=Ct();o instanceof i.HTMLIFrameElement;){try{var I=typeof o.contentWindow.location.href=="string"}catch{I=!1}if(I)i=o.contentWindow;else break;o=Ct(i.document)}return o}function oy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function KE(i){var o=F5(),I=i.focusedElem,C=i.selectionRange;if(o!==I&&I&&I.ownerDocument&&Y5(I.ownerDocument.documentElement,I)){if(C!==null&&oy(I)){if(o=C.start,i=C.end,i===void 0&&(i=o),"selectionStart"in I)I.selectionStart=o,I.selectionEnd=Math.min(i,I.value.length);else if(i=(o=I.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=I.textContent.length,b=Math.min(C.start,m);C=C.end===void 0?b:Math.min(C.end,m),!i.extend&&b>C&&(m=C,C=b,b=m),m=T5(I,b);var k=T5(I,C);m&&k&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==k.node||i.focusOffset!==k.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),b>C?(i.addRange(o),i.extend(k.node,k.offset)):(o.setEnd(k.node,k.offset),i.addRange(o)))}}for(o=[],i=I;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof I.focus=="function"&&I.focus(),I=0;I<o.length;I++)i=o[I],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var ME=g&&"documentMode"in document&&11>=document.documentMode,xl=null,ly=null,gd=null,cy=!1;function K5(i,o,I){var C=I.window===I?I.document:I.nodeType===9?I:I.ownerDocument;cy||xl==null||xl!==Ct(C)||(C=xl,"selectionStart"in C&&oy(C)?C={start:C.selectionStart,end:C.selectionEnd}:(C=(C.ownerDocument&&C.ownerDocument.defaultView||window).getSelection(),C={anchorNode:C.anchorNode,anchorOffset:C.anchorOffset,focusNode:C.focusNode,focusOffset:C.focusOffset}),gd&&cd(gd,C)||(gd=C,C=sC(ly,"onSelect"),0<C.length&&(o=new qA("onSelect","select",null,o,I),i.push({event:o,listeners:C}),o.target=xl)))}function tC(i,o){var I={};return I[i.toLowerCase()]=o.toLowerCase(),I["Webkit"+i]="webkit"+o,I["Moz"+i]="moz"+o,I}var Nl={animationend:tC("Animation","AnimationEnd"),animationiteration:tC("Animation","AnimationIteration"),animationstart:tC("Animation","AnimationStart"),transitionend:tC("Transition","TransitionEnd")},gy={},M5={};g&&(M5=document.createElement("div").style,"AnimationEvent"in window||(delete Nl.animationend.animation,delete Nl.animationiteration.animation,delete Nl.animationstart.animation),"TransitionEvent"in window||delete Nl.transitionend.transition);function nC(i){if(gy[i])return gy[i];if(!Nl[i])return i;var o=Nl[i],I;for(I in o)if(o.hasOwnProperty(I)&&I in M5)return gy[i]=o[I];return i}var U5=nC("animationend"),D5=nC("animationiteration"),L5=nC("animationstart"),z5=nC("transitionend"),Q5=new Map,P5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(i,o){Q5.set(i,o),r(o,[i])}for(var dy=0;dy<P5.length;dy++){var Iy=P5[dy],UE=Iy.toLowerCase(),DE=Iy[0].toUpperCase()+Iy.slice(1);nr(UE,"on"+DE)}nr(U5,"onAnimationEnd"),nr(D5,"onAnimationIteration"),nr(L5,"onAnimationStart"),nr("dblclick","onDoubleClick"),nr("focusin","onFocus"),nr("focusout","onBlur"),nr(z5,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),r("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),r("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),r("onBeforeInput",["compositionend","keypress","textInput","paste"]),r("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),r("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dd="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LE=new Set("cancel close invalid load scroll toggle".split(" ").concat(dd));function O5(i,o,I){var C=i.type||"unknown-event";i.currentTarget=I,Uv(C,o,void 0,i),i.currentTarget=null}function j5(i,o){o=(o&4)!==0;for(var I=0;I<i.length;I++){var C=i[I],m=C.event;C=C.listeners;e:{var b=void 0;if(o)for(var k=C.length-1;0<=k;k--){var U=C[k],L=U.instance,ie=U.currentTarget;if(U=U.listener,L!==b&&m.isPropagationStopped())break e;O5(m,U,ie),b=L}else for(k=0;k<C.length;k++){if(U=C[k],L=U.instance,ie=U.currentTarget,U=U.listener,L!==b&&m.isPropagationStopped())break e;O5(m,U,ie),b=L}}}if(Fu)throw i=UA,Fu=!1,UA=null,i}function wt(i,o){var I=o[hy];I===void 0&&(I=o[hy]=new Set);var C=i+"__bubble";I.has(C)||(_5(o,i,2,!1),I.add(C))}function uy(i,o,I){var C=0;o&&(C|=4),_5(I,i,C,o)}var aC="_reactListening"+Math.random().toString(36).slice(2);function Id(i){if(!i[aC]){i[aC]=!0,a.forEach(function(I){I!=="selectionchange"&&(LE.has(I)||uy(I,!1,i),uy(I,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[aC]||(o[aC]=!0,uy("selectionchange",!1,o))}}function _5(i,o,I,C){switch(h5(o)){case 1:var m=iE;break;case 4:m=rE;break;default:m=jA}I=m.bind(null,o,I,i),m=void 0,!MA||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),C?m!==void 0?i.addEventListener(o,I,{capture:!0,passive:m}):i.addEventListener(o,I,!0):m!==void 0?i.addEventListener(o,I,{passive:m}):i.addEventListener(o,I,!1)}function Cy(i,o,I,C,m){var b=C;if((o&1)===0&&(o&2)===0&&C!==null)e:for(;;){if(C===null)return;var k=C.tag;if(k===3||k===4){var U=C.stateNode.containerInfo;if(U===m||U.nodeType===8&&U.parentNode===m)break;if(k===4)for(k=C.return;k!==null;){var L=k.tag;if((L===3||L===4)&&(L=k.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;k=k.return}for(;U!==null;){if(k=io(U),k===null)return;if(L=k.tag,L===5||L===6){C=b=k;continue e}U=U.parentNode}}C=C.return}n5(function(){var ie=b,Ae=At(I),he=[];e:{var me=Q5.get(i);if(me!==void 0){var Se=qA,Re=i;switch(i){case"keypress":if(_u(I)===0)break e;case"keydown":case"keyup":Se=fE;break;case"focusin":Re="focus",Se=ny;break;case"focusout":Re="blur",Se=ny;break;case"beforeblur":case"afterblur":Se=ny;break;case"click":if(I.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Se=G5;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Se=cE;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Se=BE;break;case U5:case D5:case L5:Se=IE;break;case z5:Se=wE;break;case"scroll":Se=oE;break;case"wheel":Se=VE;break;case"copy":case"cut":case"paste":Se=CE;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Se=S5}var We=(o&4)!==0,Lt=!We&&i==="scroll",ee=We?me!==null?me+"Capture":null:me;We=[];for(var O=ie,ne;O!==null;){ne=O;var fe=ne.stateNode;if(ne.tag===5&&fe!==null&&(ne=fe,ee!==null&&(fe=Pg(O,ee),fe!=null&&We.push(ud(O,fe,ne)))),Lt)break;O=O.return}0<We.length&&(me=new Se(me,Re,null,I,Ae),he.push({event:me,listeners:We}))}}if((o&7)===0){e:{if(me=i==="mouseover"||i==="pointerover",Se=i==="mouseout"||i==="pointerout",me&&I!==ft&&(Re=I.relatedTarget||I.fromElement)&&(io(Re)||Re[ai]))break e;if((Se||me)&&(me=Ae.window===Ae?Ae:(me=Ae.ownerDocument)?me.defaultView||me.parentWindow:window,Se?(Re=I.relatedTarget||I.toElement,Se=ie,Re=Re?io(Re):null,Re!==null&&(Lt=so(Re),Re!==Lt||Re.tag!==5&&Re.tag!==6)&&(Re=null)):(Se=null,Re=ie),Se!==Re)){if(We=G5,fe="onMouseLeave",ee="onMouseEnter",O="mouse",(i==="pointerout"||i==="pointerover")&&(We=S5,fe="onPointerLeave",ee="onPointerEnter",O="pointer"),Lt=Se==null?me:Yl(Se),ne=Re==null?me:Yl(Re),me=new We(fe,O+"leave",Se,I,Ae),me.target=Lt,me.relatedTarget=ne,fe=null,io(Ae)===ie&&(We=new We(ee,O+"enter",Re,I,Ae),We.target=ne,We.relatedTarget=Lt,fe=We),Lt=fe,Se&&Re)t:{for(We=Se,ee=Re,O=0,ne=We;ne;ne=Hl(ne))O++;for(ne=0,fe=ee;fe;fe=Hl(fe))ne++;for(;0<O-ne;)We=Hl(We),O--;for(;0<ne-O;)ee=Hl(ee),ne--;for(;O--;){if(We===ee||ee!==null&&We===ee.alternate)break t;We=Hl(We),ee=Hl(ee)}We=null}else We=null;Se!==null&&$5(he,me,Se,We,!1),Re!==null&&Lt!==null&&$5(he,Lt,Re,We,!0)}}e:{if(me=ie?Yl(ie):window,Se=me.nodeName&&me.nodeName.toLowerCase(),Se==="select"||Se==="input"&&me.type==="file")var Xe=xE;else if(v5(me))if(X5)Xe=YE;else{Xe=HE;var He=NE}else(Se=me.nodeName)&&Se.toLowerCase()==="input"&&(me.type==="checkbox"||me.type==="radio")&&(Xe=TE);if(Xe&&(Xe=Xe(i,ie))){E5(he,Xe,I,Ae);break e}He&&He(i,me,ie),i==="focusout"&&(He=me._wrapperState)&&He.controlled&&me.type==="number"&&ao(me,"number",me.value)}switch(He=ie?Yl(ie):window,i){case"focusin":(v5(He)||He.contentEditable==="true")&&(xl=He,ly=ie,gd=null);break;case"focusout":gd=ly=xl=null;break;case"mousedown":cy=!0;break;case"contextmenu":case"mouseup":case"dragend":cy=!1,K5(he,I,Ae);break;case"selectionchange":if(ME)break;case"keydown":case"keyup":K5(he,I,Ae)}var Te;if(sy)e:{switch(i){case"compositionstart":var Ke="onCompositionStart";break e;case"compositionend":Ke="onCompositionEnd";break e;case"compositionupdate":Ke="onCompositionUpdate";break e}Ke=void 0}else Jl?R5(i,I)&&(Ke="onCompositionEnd"):i==="keydown"&&I.keyCode===229&&(Ke="onCompositionStart");Ke&&(w5&&I.locale!=="ko"&&(Jl||Ke!=="onCompositionStart"?Ke==="onCompositionEnd"&&Jl&&(Te=f5()):(tr=Ae,$A="value"in tr?tr.value:tr.textContent,Jl=!0)),He=sC(ie,Ke),0<He.length&&(Ke=new B5(Ke,i,null,I,Ae),he.push({event:Ke,listeners:He}),Te?Ke.data=Te:(Te=W5(I),Te!==null&&(Ke.data=Te)))),(Te=WE?vE(i,I):EE(i,I))&&(ie=sC(ie,"onBeforeInput"),0<ie.length&&(Ae=new B5("onBeforeInput","beforeinput",null,I,Ae),he.push({event:Ae,listeners:ie}),Ae.data=Te))}j5(he,o)})}function ud(i,o,I){return{instance:i,listener:o,currentTarget:I}}function sC(i,o){for(var I=o+"Capture",C=[];i!==null;){var m=i,b=m.stateNode;m.tag===5&&b!==null&&(m=b,b=Pg(i,I),b!=null&&C.unshift(ud(i,b,m)),b=Pg(i,o),b!=null&&C.push(ud(i,b,m))),i=i.return}return C}function Hl(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function $5(i,o,I,C,m){for(var b=o._reactName,k=[];I!==null&&I!==C;){var U=I,L=U.alternate,ie=U.stateNode;if(L!==null&&L===C)break;U.tag===5&&ie!==null&&(U=ie,m?(L=Pg(I,b),L!=null&&k.unshift(ud(I,L,U))):m||(L=Pg(I,b),L!=null&&k.push(ud(I,L,U)))),I=I.return}k.length!==0&&i.push({event:o,listeners:k})}var zE=/\r\n?/g,QE=/\u0000|\uFFFD/g;function q5(i){return(typeof i=="string"?i:""+i).replace(zE,`
`).replace(QE,"")}function iC(i,o,I){if(o=q5(o),q5(i)!==o&&I)throw Error(n(425))}function rC(){}var py=null,my=null;function Ay(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var yy=typeof setTimeout=="function"?setTimeout:void 0,PE=typeof clearTimeout=="function"?clearTimeout:void 0,eZ=typeof Promise=="function"?Promise:void 0,OE=typeof queueMicrotask=="function"?queueMicrotask:typeof eZ<"u"?function(i){return eZ.resolve(null).then(i).catch(jE)}:yy;function jE(i){setTimeout(function(){throw i})}function by(i,o){var I=o,C=0;do{var m=I.nextSibling;if(i.removeChild(I),m&&m.nodeType===8)if(I=m.data,I==="/$"){if(C===0){i.removeChild(m),ad(o);return}C--}else I!=="$"&&I!=="$?"&&I!=="$!"||C++;I=m}while(I);ad(o)}function ar(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function tZ(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var I=i.data;if(I==="$"||I==="$!"||I==="$?"){if(o===0)return i;o--}else I==="/$"&&o++}i=i.previousSibling}return null}var Tl=Math.random().toString(36).slice(2),Vs="__reactFiber$"+Tl,Cd="__reactProps$"+Tl,ai="__reactContainer$"+Tl,hy="__reactEvents$"+Tl,_E="__reactListeners$"+Tl,$E="__reactHandles$"+Tl;function io(i){var o=i[Vs];if(o)return o;for(var I=i.parentNode;I;){if(o=I[ai]||I[Vs]){if(I=o.alternate,o.child!==null||I!==null&&I.child!==null)for(i=tZ(i);i!==null;){if(I=i[Vs])return I;i=tZ(i)}return o}i=I,I=i.parentNode}return null}function pd(i){return i=i[Vs]||i[ai],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Yl(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(n(33))}function oC(i){return i[Cd]||null}var fy=[],Fl=-1;function sr(i){return{current:i}}function kt(i){0>Fl||(i.current=fy[Fl],fy[Fl]=null,Fl--)}function Gt(i,o){Fl++,fy[Fl]=i.current,i.current=o}var ir={},kn=sr(ir),_n=sr(!1),ro=ir;function Kl(i,o){var I=i.type.contextTypes;if(!I)return ir;var C=i.stateNode;if(C&&C.__reactInternalMemoizedUnmaskedChildContext===o)return C.__reactInternalMemoizedMaskedChildContext;var m={},b;for(b in I)m[b]=o[b];return C&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function $n(i){return i=i.childContextTypes,i!=null}function lC(){kt(_n),kt(kn)}function nZ(i,o,I){if(kn.current!==ir)throw Error(n(168));Gt(kn,o),Gt(_n,I)}function aZ(i,o,I){var C=i.stateNode;if(o=o.childContextTypes,typeof C.getChildContext!="function")return I;C=C.getChildContext();for(var m in C)if(!(m in o))throw Error(n(108,Ne(i)||"Unknown",m));return T({},I,C)}function cC(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||ir,ro=kn.current,Gt(kn,i),Gt(_n,_n.current),!0}function sZ(i,o,I){var C=i.stateNode;if(!C)throw Error(n(169));I?(i=aZ(i,o,ro),C.__reactInternalMemoizedMergedChildContext=i,kt(_n),kt(kn),Gt(kn,i)):kt(_n),Gt(_n,I)}var si=null,gC=!1,Zy=!1;function iZ(i){si===null?si=[i]:si.push(i)}function qE(i){gC=!0,iZ(i)}function rr(){if(!Zy&&si!==null){Zy=!0;var i=0,o=mt;try{var I=si;for(mt=1;i<I.length;i++){var C=I[i];do C=C(!0);while(C!==null)}si=null,gC=!1}catch(m){throw si!==null&&(si=si.slice(i+1)),o5(DA,rr),m}finally{mt=o,Zy=!1}}return null}var Ml=[],Ul=0,dC=null,IC=0,Ja=[],xa=0,oo=null,ii=1,ri="";function lo(i,o){Ml[Ul++]=IC,Ml[Ul++]=dC,dC=i,IC=o}function rZ(i,o,I){Ja[xa++]=ii,Ja[xa++]=ri,Ja[xa++]=oo,oo=i;var C=ii;i=ri;var m=32-as(C)-1;C&=~(1<<m),I+=1;var b=32-as(o)+m;if(30<b){var k=m-m%5;b=(C&(1<<k)-1).toString(32),C>>=k,m-=k,ii=1<<32-as(o)+m|I<<m|C,ri=b+i}else ii=1<<b|I<<m|C,ri=i}function Gy(i){i.return!==null&&(lo(i,1),rZ(i,1,0))}function By(i){for(;i===dC;)dC=Ml[--Ul],Ml[Ul]=null,IC=Ml[--Ul],Ml[Ul]=null;for(;i===oo;)oo=Ja[--xa],Ja[xa]=null,ri=Ja[--xa],Ja[xa]=null,ii=Ja[--xa],Ja[xa]=null}var ba=null,ha=null,Wt=!1,is=null;function oZ(i,o){var I=Ya(5,null,null,0);I.elementType="DELETED",I.stateNode=o,I.return=i,o=i.deletions,o===null?(i.deletions=[I],i.flags|=16):o.push(I)}function lZ(i,o){switch(i.tag){case 5:var I=i.type;return o=o.nodeType!==1||I.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,ba=i,ha=ar(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,ba=i,ha=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(I=oo!==null?{id:ii,overflow:ri}:null,i.memoizedState={dehydrated:o,treeContext:I,retryLane:1073741824},I=Ya(18,null,null,0),I.stateNode=o,I.return=i,i.child=I,ba=i,ha=null,!0):!1;default:return!1}}function Sy(i){return(i.mode&1)!==0&&(i.flags&128)===0}function wy(i){if(Wt){var o=ha;if(o){var I=o;if(!lZ(i,o)){if(Sy(i))throw Error(n(418));o=ar(I.nextSibling);var C=ba;o&&lZ(i,o)?oZ(C,I):(i.flags=i.flags&-4097|2,Wt=!1,ba=i)}}else{if(Sy(i))throw Error(n(418));i.flags=i.flags&-4097|2,Wt=!1,ba=i}}}function cZ(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;ba=i}function uC(i){if(i!==ba)return!1;if(!Wt)return cZ(i),Wt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ay(i.type,i.memoizedProps)),o&&(o=ha)){if(Sy(i))throw gZ(),Error(n(418));for(;o;)oZ(i,o),o=ar(o.nextSibling)}if(cZ(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(n(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var I=i.data;if(I==="/$"){if(o===0){ha=ar(i.nextSibling);break e}o--}else I!=="$"&&I!=="$!"&&I!=="$?"||o++}i=i.nextSibling}ha=null}}else ha=ba?ar(i.stateNode.nextSibling):null;return!0}function gZ(){for(var i=ha;i;)i=ar(i.nextSibling)}function Dl(){ha=ba=null,Wt=!1}function ky(i){is===null?is=[i]:is.push(i)}var eX=Y.ReactCurrentBatchConfig;function md(i,o,I){if(i=I.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(I._owner){if(I=I._owner,I){if(I.tag!==1)throw Error(n(309));var C=I.stateNode}if(!C)throw Error(n(147,i));var m=C,b=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===b?o.ref:(o=function(k){var U=m.refs;k===null?delete U[b]:U[b]=k},o._stringRef=b,o)}if(typeof i!="string")throw Error(n(284));if(!I._owner)throw Error(n(290,i))}return i}function CC(i,o){throw i=Object.prototype.toString.call(o),Error(n(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function dZ(i){var o=i._init;return o(i._payload)}function IZ(i){function o(ee,O){if(i){var ne=ee.deletions;ne===null?(ee.deletions=[O],ee.flags|=16):ne.push(O)}}function I(ee,O){if(!i)return null;for(;O!==null;)o(ee,O),O=O.sibling;return null}function C(ee,O){for(ee=new Map;O!==null;)O.key!==null?ee.set(O.key,O):ee.set(O.index,O),O=O.sibling;return ee}function m(ee,O){return ee=Cr(ee,O),ee.index=0,ee.sibling=null,ee}function b(ee,O,ne){return ee.index=ne,i?(ne=ee.alternate,ne!==null?(ne=ne.index,ne<O?(ee.flags|=2,O):ne):(ee.flags|=2,O)):(ee.flags|=1048576,O)}function k(ee){return i&&ee.alternate===null&&(ee.flags|=2),ee}function U(ee,O,ne,fe){return O===null||O.tag!==6?(O=y0(ne,ee.mode,fe),O.return=ee,O):(O=m(O,ne),O.return=ee,O)}function L(ee,O,ne,fe){var Xe=ne.type;return Xe===P?Ae(ee,O,ne.props.children,fe,ne.key):O!==null&&(O.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===E&&dZ(Xe)===O.type)?(fe=m(O,ne.props),fe.ref=md(ee,O,ne),fe.return=ee,fe):(fe=TC(ne.type,ne.key,ne.props,null,ee.mode,fe),fe.ref=md(ee,O,ne),fe.return=ee,fe)}function ie(ee,O,ne,fe){return O===null||O.tag!==4||O.stateNode.containerInfo!==ne.containerInfo||O.stateNode.implementation!==ne.implementation?(O=b0(ne,ee.mode,fe),O.return=ee,O):(O=m(O,ne.children||[]),O.return=ee,O)}function Ae(ee,O,ne,fe,Xe){return O===null||O.tag!==7?(O=Ao(ne,ee.mode,fe,Xe),O.return=ee,O):(O=m(O,ne),O.return=ee,O)}function he(ee,O,ne){if(typeof O=="string"&&O!==""||typeof O=="number")return O=y0(""+O,ee.mode,ne),O.return=ee,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case z:return ne=TC(O.type,O.key,O.props,null,ee.mode,ne),ne.ref=md(ee,null,O),ne.return=ee,ne;case Q:return O=b0(O,ee.mode,ne),O.return=ee,O;case E:var fe=O._init;return he(ee,fe(O._payload),ne)}if(Qe(O)||R(O))return O=Ao(O,ee.mode,ne,null),O.return=ee,O;CC(ee,O)}return null}function me(ee,O,ne,fe){var Xe=O!==null?O.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number")return Xe!==null?null:U(ee,O,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case z:return ne.key===Xe?L(ee,O,ne,fe):null;case Q:return ne.key===Xe?ie(ee,O,ne,fe):null;case E:return Xe=ne._init,me(ee,O,Xe(ne._payload),fe)}if(Qe(ne)||R(ne))return Xe!==null?null:Ae(ee,O,ne,fe,null);CC(ee,ne)}return null}function Se(ee,O,ne,fe,Xe){if(typeof fe=="string"&&fe!==""||typeof fe=="number")return ee=ee.get(ne)||null,U(O,ee,""+fe,Xe);if(typeof fe=="object"&&fe!==null){switch(fe.$$typeof){case z:return ee=ee.get(fe.key===null?ne:fe.key)||null,L(O,ee,fe,Xe);case Q:return ee=ee.get(fe.key===null?ne:fe.key)||null,ie(O,ee,fe,Xe);case E:var He=fe._init;return Se(ee,O,ne,He(fe._payload),Xe)}if(Qe(fe)||R(fe))return ee=ee.get(ne)||null,Ae(O,ee,fe,Xe,null);CC(O,fe)}return null}function Re(ee,O,ne,fe){for(var Xe=null,He=null,Te=O,Ke=O=0,gn=null;Te!==null&&Ke<ne.length;Ke++){Te.index>Ke?(gn=Te,Te=null):gn=Te.sibling;var lt=me(ee,Te,ne[Ke],fe);if(lt===null){Te===null&&(Te=gn);break}i&&Te&&lt.alternate===null&&o(ee,Te),O=b(lt,O,Ke),He===null?Xe=lt:He.sibling=lt,He=lt,Te=gn}if(Ke===ne.length)return I(ee,Te),Wt&&lo(ee,Ke),Xe;if(Te===null){for(;Ke<ne.length;Ke++)Te=he(ee,ne[Ke],fe),Te!==null&&(O=b(Te,O,Ke),He===null?Xe=Te:He.sibling=Te,He=Te);return Wt&&lo(ee,Ke),Xe}for(Te=C(ee,Te);Ke<ne.length;Ke++)gn=Se(Te,ee,Ke,ne[Ke],fe),gn!==null&&(i&&gn.alternate!==null&&Te.delete(gn.key===null?Ke:gn.key),O=b(gn,O,Ke),He===null?Xe=gn:He.sibling=gn,He=gn);return i&&Te.forEach(function(pr){return o(ee,pr)}),Wt&&lo(ee,Ke),Xe}function We(ee,O,ne,fe){var Xe=R(ne);if(typeof Xe!="function")throw Error(n(150));if(ne=Xe.call(ne),ne==null)throw Error(n(151));for(var He=Xe=null,Te=O,Ke=O=0,gn=null,lt=ne.next();Te!==null&&!lt.done;Ke++,lt=ne.next()){Te.index>Ke?(gn=Te,Te=null):gn=Te.sibling;var pr=me(ee,Te,lt.value,fe);if(pr===null){Te===null&&(Te=gn);break}i&&Te&&pr.alternate===null&&o(ee,Te),O=b(pr,O,Ke),He===null?Xe=pr:He.sibling=pr,He=pr,Te=gn}if(lt.done)return I(ee,Te),Wt&&lo(ee,Ke),Xe;if(Te===null){for(;!lt.done;Ke++,lt=ne.next())lt=he(ee,lt.value,fe),lt!==null&&(O=b(lt,O,Ke),He===null?Xe=lt:He.sibling=lt,He=lt);return Wt&&lo(ee,Ke),Xe}for(Te=C(ee,Te);!lt.done;Ke++,lt=ne.next())lt=Se(Te,ee,Ke,lt.value,fe),lt!==null&&(i&&lt.alternate!==null&&Te.delete(lt.key===null?Ke:lt.key),O=b(lt,O,Ke),He===null?Xe=lt:He.sibling=lt,He=lt);return i&&Te.forEach(function(XX){return o(ee,XX)}),Wt&&lo(ee,Ke),Xe}function Lt(ee,O,ne,fe){if(typeof ne=="object"&&ne!==null&&ne.type===P&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case z:e:{for(var Xe=ne.key,He=O;He!==null;){if(He.key===Xe){if(Xe=ne.type,Xe===P){if(He.tag===7){I(ee,He.sibling),O=m(He,ne.props.children),O.return=ee,ee=O;break e}}else if(He.elementType===Xe||typeof Xe=="object"&&Xe!==null&&Xe.$$typeof===E&&dZ(Xe)===He.type){I(ee,He.sibling),O=m(He,ne.props),O.ref=md(ee,He,ne),O.return=ee,ee=O;break e}I(ee,He);break}else o(ee,He);He=He.sibling}ne.type===P?(O=Ao(ne.props.children,ee.mode,fe,ne.key),O.return=ee,ee=O):(fe=TC(ne.type,ne.key,ne.props,null,ee.mode,fe),fe.ref=md(ee,O,ne),fe.return=ee,ee=fe)}return k(ee);case Q:e:{for(He=ne.key;O!==null;){if(O.key===He)if(O.tag===4&&O.stateNode.containerInfo===ne.containerInfo&&O.stateNode.implementation===ne.implementation){I(ee,O.sibling),O=m(O,ne.children||[]),O.return=ee,ee=O;break e}else{I(ee,O);break}else o(ee,O);O=O.sibling}O=b0(ne,ee.mode,fe),O.return=ee,ee=O}return k(ee);case E:return He=ne._init,Lt(ee,O,He(ne._payload),fe)}if(Qe(ne))return Re(ee,O,ne,fe);if(R(ne))return We(ee,O,ne,fe);CC(ee,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"?(ne=""+ne,O!==null&&O.tag===6?(I(ee,O.sibling),O=m(O,ne),O.return=ee,ee=O):(I(ee,O),O=y0(ne,ee.mode,fe),O.return=ee,ee=O),k(ee)):I(ee,O)}return Lt}var Ll=IZ(!0),uZ=IZ(!1),pC=sr(null),mC=null,zl=null,Vy=null;function Ry(){Vy=zl=mC=null}function Wy(i){var o=pC.current;kt(pC),i._currentValue=o}function vy(i,o,I){for(;i!==null;){var C=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,C!==null&&(C.childLanes|=o)):C!==null&&(C.childLanes&o)!==o&&(C.childLanes|=o),i===I)break;i=i.return}}function Ql(i,o){mC=i,Vy=zl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(qn=!0),i.firstContext=null)}function Na(i){var o=i._currentValue;if(Vy!==i)if(i={context:i,memoizedValue:o,next:null},zl===null){if(mC===null)throw Error(n(308));zl=i,mC.dependencies={lanes:0,firstContext:i}}else zl=zl.next=i;return o}var co=null;function Ey(i){co===null?co=[i]:co.push(i)}function CZ(i,o,I,C){var m=o.interleaved;return m===null?(I.next=I,Ey(o)):(I.next=m.next,m.next=I),o.interleaved=I,oi(i,C)}function oi(i,o){i.lanes|=o;var I=i.alternate;for(I!==null&&(I.lanes|=o),I=i,i=i.return;i!==null;)i.childLanes|=o,I=i.alternate,I!==null&&(I.childLanes|=o),I=i,i=i.return;return I.tag===3?I.stateNode:null}var or=!1;function Xy(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function pZ(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function li(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function lr(i,o,I){var C=i.updateQueue;if(C===null)return null;if(C=C.shared,(st&2)!==0){var m=C.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),C.pending=o,oi(i,I)}return m=C.interleaved,m===null?(o.next=o,Ey(C)):(o.next=m.next,m.next=o),C.interleaved=o,oi(i,I)}function AC(i,o,I){if(o=o.updateQueue,o!==null&&(o=o.shared,(I&4194240)!==0)){var C=o.lanes;C&=i.pendingLanes,I|=C,o.lanes=I,QA(i,I)}}function mZ(i,o){var I=i.updateQueue,C=i.alternate;if(C!==null&&(C=C.updateQueue,I===C)){var m=null,b=null;if(I=I.firstBaseUpdate,I!==null){do{var k={eventTime:I.eventTime,lane:I.lane,tag:I.tag,payload:I.payload,callback:I.callback,next:null};b===null?m=b=k:b=b.next=k,I=I.next}while(I!==null);b===null?m=b=o:b=b.next=o}else m=b=o;I={baseState:C.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:C.shared,effects:C.effects},i.updateQueue=I;return}i=I.lastBaseUpdate,i===null?I.firstBaseUpdate=o:i.next=o,I.lastBaseUpdate=o}function yC(i,o,I,C){var m=i.updateQueue;or=!1;var b=m.firstBaseUpdate,k=m.lastBaseUpdate,U=m.shared.pending;if(U!==null){m.shared.pending=null;var L=U,ie=L.next;L.next=null,k===null?b=ie:k.next=ie,k=L;var Ae=i.alternate;Ae!==null&&(Ae=Ae.updateQueue,U=Ae.lastBaseUpdate,U!==k&&(U===null?Ae.firstBaseUpdate=ie:U.next=ie,Ae.lastBaseUpdate=L))}if(b!==null){var he=m.baseState;k=0,Ae=ie=L=null,U=b;do{var me=U.lane,Se=U.eventTime;if((C&me)===me){Ae!==null&&(Ae=Ae.next={eventTime:Se,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Re=i,We=U;switch(me=o,Se=I,We.tag){case 1:if(Re=We.payload,typeof Re=="function"){he=Re.call(Se,he,me);break e}he=Re;break e;case 3:Re.flags=Re.flags&-65537|128;case 0:if(Re=We.payload,me=typeof Re=="function"?Re.call(Se,he,me):Re,me==null)break e;he=T({},he,me);break e;case 2:or=!0}}U.callback!==null&&U.lane!==0&&(i.flags|=64,me=m.effects,me===null?m.effects=[U]:me.push(U))}else Se={eventTime:Se,lane:me,tag:U.tag,payload:U.payload,callback:U.callback,next:null},Ae===null?(ie=Ae=Se,L=he):Ae=Ae.next=Se,k|=me;if(U=U.next,U===null){if(U=m.shared.pending,U===null)break;me=U,U=me.next,me.next=null,m.lastBaseUpdate=me,m.shared.pending=null}}while(!0);if(Ae===null&&(L=he),m.baseState=L,m.firstBaseUpdate=ie,m.lastBaseUpdate=Ae,o=m.shared.interleaved,o!==null){m=o;do k|=m.lane,m=m.next;while(m!==o)}else b===null&&(m.shared.lanes=0);uo|=k,i.lanes=k,i.memoizedState=he}}function AZ(i,o,I){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var C=i[o],m=C.callback;if(m!==null){if(C.callback=null,C=I,typeof m!="function")throw Error(n(191,m));m.call(C)}}}var Ad={},Rs=sr(Ad),yd=sr(Ad),bd=sr(Ad);function go(i){if(i===Ad)throw Error(n(174));return i}function Jy(i,o){switch(Gt(bd,o),Gt(yd,i),Gt(Rs,Ad),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:ji(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=ji(o,i)}kt(Rs),Gt(Rs,o)}function Pl(){kt(Rs),kt(yd),kt(bd)}function yZ(i){go(bd.current);var o=go(Rs.current),I=ji(o,i.type);o!==I&&(Gt(yd,i),Gt(Rs,I))}function xy(i){yd.current===i&&(kt(Rs),kt(yd))}var Et=sr(0);function bC(i){for(var o=i;o!==null;){if(o.tag===13){var I=o.memoizedState;if(I!==null&&(I=I.dehydrated,I===null||I.data==="$?"||I.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Ny=[];function Hy(){for(var i=0;i<Ny.length;i++)Ny[i]._workInProgressVersionPrimary=null;Ny.length=0}var hC=Y.ReactCurrentDispatcher,Ty=Y.ReactCurrentBatchConfig,Io=0,Xt=null,sn=null,ln=null,fC=!1,hd=!1,fd=0,tX=0;function Vn(){throw Error(n(321))}function Yy(i,o){if(o===null)return!1;for(var I=0;I<o.length&&I<i.length;I++)if(!ss(i[I],o[I]))return!1;return!0}function Fy(i,o,I,C,m,b){if(Io=b,Xt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,hC.current=i===null||i.memoizedState===null?iX:rX,i=I(C,m),hd){b=0;do{if(hd=!1,fd=0,25<=b)throw Error(n(301));b+=1,ln=sn=null,o.updateQueue=null,hC.current=oX,i=I(C,m)}while(hd)}if(hC.current=BC,o=sn!==null&&sn.next!==null,Io=0,ln=sn=Xt=null,fC=!1,o)throw Error(n(300));return i}function Ky(){var i=fd!==0;return fd=0,i}function Ws(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ln===null?Xt.memoizedState=ln=i:ln=ln.next=i,ln}function Ha(){if(sn===null){var i=Xt.alternate;i=i!==null?i.memoizedState:null}else i=sn.next;var o=ln===null?Xt.memoizedState:ln.next;if(o!==null)ln=o,sn=i;else{if(i===null)throw Error(n(310));sn=i,i={memoizedState:sn.memoizedState,baseState:sn.baseState,baseQueue:sn.baseQueue,queue:sn.queue,next:null},ln===null?Xt.memoizedState=ln=i:ln=ln.next=i}return ln}function Zd(i,o){return typeof o=="function"?o(i):o}function My(i){var o=Ha(),I=o.queue;if(I===null)throw Error(n(311));I.lastRenderedReducer=i;var C=sn,m=C.baseQueue,b=I.pending;if(b!==null){if(m!==null){var k=m.next;m.next=b.next,b.next=k}C.baseQueue=m=b,I.pending=null}if(m!==null){b=m.next,C=C.baseState;var U=k=null,L=null,ie=b;do{var Ae=ie.lane;if((Io&Ae)===Ae)L!==null&&(L=L.next={lane:0,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null}),C=ie.hasEagerState?ie.eagerState:i(C,ie.action);else{var he={lane:Ae,action:ie.action,hasEagerState:ie.hasEagerState,eagerState:ie.eagerState,next:null};L===null?(U=L=he,k=C):L=L.next=he,Xt.lanes|=Ae,uo|=Ae}ie=ie.next}while(ie!==null&&ie!==b);L===null?k=C:L.next=U,ss(C,o.memoizedState)||(qn=!0),o.memoizedState=C,o.baseState=k,o.baseQueue=L,I.lastRenderedState=C}if(i=I.interleaved,i!==null){m=i;do b=m.lane,Xt.lanes|=b,uo|=b,m=m.next;while(m!==i)}else m===null&&(I.lanes=0);return[o.memoizedState,I.dispatch]}function Uy(i){var o=Ha(),I=o.queue;if(I===null)throw Error(n(311));I.lastRenderedReducer=i;var C=I.dispatch,m=I.pending,b=o.memoizedState;if(m!==null){I.pending=null;var k=m=m.next;do b=i(b,k.action),k=k.next;while(k!==m);ss(b,o.memoizedState)||(qn=!0),o.memoizedState=b,o.baseQueue===null&&(o.baseState=b),I.lastRenderedState=b}return[b,C]}function bZ(){}function hZ(i,o){var I=Xt,C=Ha(),m=o(),b=!ss(C.memoizedState,m);if(b&&(C.memoizedState=m,qn=!0),C=C.queue,Dy(GZ.bind(null,I,C,i),[i]),C.getSnapshot!==o||b||ln!==null&&ln.memoizedState.tag&1){if(I.flags|=2048,Gd(9,ZZ.bind(null,I,C,m,o),void 0,null),cn===null)throw Error(n(349));(Io&30)!==0||fZ(I,o,m)}return m}function fZ(i,o,I){i.flags|=16384,i={getSnapshot:o,value:I},o=Xt.updateQueue,o===null?(o={lastEffect:null,stores:null},Xt.updateQueue=o,o.stores=[i]):(I=o.stores,I===null?o.stores=[i]:I.push(i))}function ZZ(i,o,I,C){o.value=I,o.getSnapshot=C,BZ(o)&&SZ(i)}function GZ(i,o,I){return I(function(){BZ(o)&&SZ(i)})}function BZ(i){var o=i.getSnapshot;i=i.value;try{var I=o();return!ss(i,I)}catch{return!0}}function SZ(i){var o=oi(i,1);o!==null&&cs(o,i,1,-1)}function wZ(i){var o=Ws();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Zd,lastRenderedState:i},o.queue=i,i=i.dispatch=sX.bind(null,Xt,i),[o.memoizedState,i]}function Gd(i,o,I,C){return i={tag:i,create:o,destroy:I,deps:C,next:null},o=Xt.updateQueue,o===null?(o={lastEffect:null,stores:null},Xt.updateQueue=o,o.lastEffect=i.next=i):(I=o.lastEffect,I===null?o.lastEffect=i.next=i:(C=I.next,I.next=i,i.next=C,o.lastEffect=i)),i}function kZ(){return Ha().memoizedState}function ZC(i,o,I,C){var m=Ws();Xt.flags|=i,m.memoizedState=Gd(1|o,I,void 0,C===void 0?null:C)}function GC(i,o,I,C){var m=Ha();C=C===void 0?null:C;var b=void 0;if(sn!==null){var k=sn.memoizedState;if(b=k.destroy,C!==null&&Yy(C,k.deps)){m.memoizedState=Gd(o,I,b,C);return}}Xt.flags|=i,m.memoizedState=Gd(1|o,I,b,C)}function VZ(i,o){return ZC(8390656,8,i,o)}function Dy(i,o){return GC(2048,8,i,o)}function RZ(i,o){return GC(4,2,i,o)}function WZ(i,o){return GC(4,4,i,o)}function vZ(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function EZ(i,o,I){return I=I!=null?I.concat([i]):null,GC(4,4,vZ.bind(null,o,i),I)}function Ly(){}function XZ(i,o){var I=Ha();o=o===void 0?null:o;var C=I.memoizedState;return C!==null&&o!==null&&Yy(o,C[1])?C[0]:(I.memoizedState=[i,o],i)}function JZ(i,o){var I=Ha();o=o===void 0?null:o;var C=I.memoizedState;return C!==null&&o!==null&&Yy(o,C[1])?C[0]:(i=i(),I.memoizedState=[i,o],i)}function xZ(i,o,I){return(Io&21)===0?(i.baseState&&(i.baseState=!1,qn=!0),i.memoizedState=I):(ss(I,o)||(I=d5(),Xt.lanes|=I,uo|=I,i.baseState=!0),o)}function nX(i,o){var I=mt;mt=I!==0&&4>I?I:4,i(!0);var C=Ty.transition;Ty.transition={};try{i(!1),o()}finally{mt=I,Ty.transition=C}}function NZ(){return Ha().memoizedState}function aX(i,o,I){var C=Ir(i);if(I={lane:C,action:I,hasEagerState:!1,eagerState:null,next:null},HZ(i))TZ(o,I);else if(I=CZ(i,o,I,C),I!==null){var m=Hn();cs(I,i,C,m),YZ(I,o,C)}}function sX(i,o,I){var C=Ir(i),m={lane:C,action:I,hasEagerState:!1,eagerState:null,next:null};if(HZ(i))TZ(o,m);else{var b=i.alternate;if(i.lanes===0&&(b===null||b.lanes===0)&&(b=o.lastRenderedReducer,b!==null))try{var k=o.lastRenderedState,U=b(k,I);if(m.hasEagerState=!0,m.eagerState=U,ss(U,k)){var L=o.interleaved;L===null?(m.next=m,Ey(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}I=CZ(i,o,m,C),I!==null&&(m=Hn(),cs(I,i,C,m),YZ(I,o,C))}}function HZ(i){var o=i.alternate;return i===Xt||o!==null&&o===Xt}function TZ(i,o){hd=fC=!0;var I=i.pending;I===null?o.next=o:(o.next=I.next,I.next=o),i.pending=o}function YZ(i,o,I){if((I&4194240)!==0){var C=o.lanes;C&=i.pendingLanes,I|=C,o.lanes=I,QA(i,I)}}var BC={readContext:Na,useCallback:Vn,useContext:Vn,useEffect:Vn,useImperativeHandle:Vn,useInsertionEffect:Vn,useLayoutEffect:Vn,useMemo:Vn,useReducer:Vn,useRef:Vn,useState:Vn,useDebugValue:Vn,useDeferredValue:Vn,useTransition:Vn,useMutableSource:Vn,useSyncExternalStore:Vn,useId:Vn,unstable_isNewReconciler:!1},iX={readContext:Na,useCallback:function(i,o){return Ws().memoizedState=[i,o===void 0?null:o],i},useContext:Na,useEffect:VZ,useImperativeHandle:function(i,o,I){return I=I!=null?I.concat([i]):null,ZC(4194308,4,vZ.bind(null,o,i),I)},useLayoutEffect:function(i,o){return ZC(4194308,4,i,o)},useInsertionEffect:function(i,o){return ZC(4,2,i,o)},useMemo:function(i,o){var I=Ws();return o=o===void 0?null:o,i=i(),I.memoizedState=[i,o],i},useReducer:function(i,o,I){var C=Ws();return o=I!==void 0?I(o):o,C.memoizedState=C.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},C.queue=i,i=i.dispatch=aX.bind(null,Xt,i),[C.memoizedState,i]},useRef:function(i){var o=Ws();return i={current:i},o.memoizedState=i},useState:wZ,useDebugValue:Ly,useDeferredValue:function(i){return Ws().memoizedState=i},useTransition:function(){var i=wZ(!1),o=i[0];return i=nX.bind(null,i[1]),Ws().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,I){var C=Xt,m=Ws();if(Wt){if(I===void 0)throw Error(n(407));I=I()}else{if(I=o(),cn===null)throw Error(n(349));(Io&30)!==0||fZ(C,o,I)}m.memoizedState=I;var b={value:I,getSnapshot:o};return m.queue=b,VZ(GZ.bind(null,C,b,i),[i]),C.flags|=2048,Gd(9,ZZ.bind(null,C,b,I,o),void 0,null),I},useId:function(){var i=Ws(),o=cn.identifierPrefix;if(Wt){var I=ri,C=ii;I=(C&~(1<<32-as(C)-1)).toString(32)+I,o=":"+o+"R"+I,I=fd++,0<I&&(o+="H"+I.toString(32)),o+=":"}else I=tX++,o=":"+o+"r"+I.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},rX={readContext:Na,useCallback:XZ,useContext:Na,useEffect:Dy,useImperativeHandle:EZ,useInsertionEffect:RZ,useLayoutEffect:WZ,useMemo:JZ,useReducer:My,useRef:kZ,useState:function(){return My(Zd)},useDebugValue:Ly,useDeferredValue:function(i){var o=Ha();return xZ(o,sn.memoizedState,i)},useTransition:function(){var i=My(Zd)[0],o=Ha().memoizedState;return[i,o]},useMutableSource:bZ,useSyncExternalStore:hZ,useId:NZ,unstable_isNewReconciler:!1},oX={readContext:Na,useCallback:XZ,useContext:Na,useEffect:Dy,useImperativeHandle:EZ,useInsertionEffect:RZ,useLayoutEffect:WZ,useMemo:JZ,useReducer:Uy,useRef:kZ,useState:function(){return Uy(Zd)},useDebugValue:Ly,useDeferredValue:function(i){var o=Ha();return sn===null?o.memoizedState=i:xZ(o,sn.memoizedState,i)},useTransition:function(){var i=Uy(Zd)[0],o=Ha().memoizedState;return[i,o]},useMutableSource:bZ,useSyncExternalStore:hZ,useId:NZ,unstable_isNewReconciler:!1};function rs(i,o){if(i&&i.defaultProps){o=T({},o),i=i.defaultProps;for(var I in i)o[I]===void 0&&(o[I]=i[I]);return o}return o}function zy(i,o,I,C){o=i.memoizedState,I=I(C,o),I=I==null?o:T({},o,I),i.memoizedState=I,i.lanes===0&&(i.updateQueue.baseState=I)}var SC={isMounted:function(i){return(i=i._reactInternals)?so(i)===i:!1},enqueueSetState:function(i,o,I){i=i._reactInternals;var C=Hn(),m=Ir(i),b=li(C,m);b.payload=o,I!=null&&(b.callback=I),o=lr(i,b,m),o!==null&&(cs(o,i,m,C),AC(o,i,m))},enqueueReplaceState:function(i,o,I){i=i._reactInternals;var C=Hn(),m=Ir(i),b=li(C,m);b.tag=1,b.payload=o,I!=null&&(b.callback=I),o=lr(i,b,m),o!==null&&(cs(o,i,m,C),AC(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var I=Hn(),C=Ir(i),m=li(I,C);m.tag=2,o!=null&&(m.callback=o),o=lr(i,m,C),o!==null&&(cs(o,i,C,I),AC(o,i,C))}};function FZ(i,o,I,C,m,b,k){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(C,b,k):o.prototype&&o.prototype.isPureReactComponent?!cd(I,C)||!cd(m,b):!0}function KZ(i,o,I){var C=!1,m=ir,b=o.contextType;return typeof b=="object"&&b!==null?b=Na(b):(m=$n(o)?ro:kn.current,C=o.contextTypes,b=(C=C!=null)?Kl(i,m):ir),o=new o(I,b),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=SC,i.stateNode=o,o._reactInternals=i,C&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=b),o}function MZ(i,o,I,C){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(I,C),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(I,C),o.state!==i&&SC.enqueueReplaceState(o,o.state,null)}function Qy(i,o,I,C){var m=i.stateNode;m.props=I,m.state=i.memoizedState,m.refs={},Xy(i);var b=o.contextType;typeof b=="object"&&b!==null?m.context=Na(b):(b=$n(o)?ro:kn.current,m.context=Kl(i,b)),m.state=i.memoizedState,b=o.getDerivedStateFromProps,typeof b=="function"&&(zy(i,o,b,I),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&SC.enqueueReplaceState(m,m.state,null),yC(i,I,m,C),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Ol(i,o){try{var I="",C=o;do I+=le(C),C=C.return;while(C);var m=I}catch(b){m=`
Error generating stack: `+b.message+`
`+b.stack}return{value:i,source:o,stack:m,digest:null}}function Py(i,o,I){return{value:i,source:null,stack:I??null,digest:o??null}}function Oy(i,o){try{console.error(o.value)}catch(I){setTimeout(function(){throw I})}}var lX=typeof WeakMap=="function"?WeakMap:Map;function UZ(i,o,I){I=li(-1,I),I.tag=3,I.payload={element:null};var C=o.value;return I.callback=function(){EC||(EC=!0,g0=C),Oy(i,o)},I}function DZ(i,o,I){I=li(-1,I),I.tag=3;var C=i.type.getDerivedStateFromError;if(typeof C=="function"){var m=o.value;I.payload=function(){return C(m)},I.callback=function(){Oy(i,o)}}var b=i.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(I.callback=function(){Oy(i,o),typeof C!="function"&&(gr===null?gr=new Set([this]):gr.add(this));var k=o.stack;this.componentDidCatch(o.value,{componentStack:k!==null?k:""})}),I}function LZ(i,o,I){var C=i.pingCache;if(C===null){C=i.pingCache=new lX;var m=new Set;C.set(o,m)}else m=C.get(o),m===void 0&&(m=new Set,C.set(o,m));m.has(I)||(m.add(I),i=ZX.bind(null,i,o,I),o.then(i,i))}function zZ(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function QZ(i,o,I,C,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,I.flags|=131072,I.flags&=-52805,I.tag===1&&(I.alternate===null?I.tag=17:(o=li(-1,1),o.tag=2,lr(I,o,1))),I.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var cX=Y.ReactCurrentOwner,qn=!1;function Nn(i,o,I,C){o.child=i===null?uZ(o,null,I,C):Ll(o,i.child,I,C)}function PZ(i,o,I,C,m){I=I.render;var b=o.ref;return Ql(o,m),C=Fy(i,o,I,C,b,m),I=Ky(),i!==null&&!qn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ci(i,o,m)):(Wt&&I&&Gy(o),o.flags|=1,Nn(i,o,C,m),o.child)}function OZ(i,o,I,C,m){if(i===null){var b=I.type;return typeof b=="function"&&!A0(b)&&b.defaultProps===void 0&&I.compare===null&&I.defaultProps===void 0?(o.tag=15,o.type=b,jZ(i,o,b,C,m)):(i=TC(I.type,null,C,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(b=i.child,(i.lanes&m)===0){var k=b.memoizedProps;if(I=I.compare,I=I!==null?I:cd,I(k,C)&&i.ref===o.ref)return ci(i,o,m)}return o.flags|=1,i=Cr(b,C),i.ref=o.ref,i.return=o,o.child=i}function jZ(i,o,I,C,m){if(i!==null){var b=i.memoizedProps;if(cd(b,C)&&i.ref===o.ref)if(qn=!1,o.pendingProps=C=b,(i.lanes&m)!==0)(i.flags&131072)!==0&&(qn=!0);else return o.lanes=i.lanes,ci(i,o,m)}return jy(i,o,I,C,m)}function _Z(i,o,I){var C=o.pendingProps,m=C.children,b=i!==null?i.memoizedState:null;if(C.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Gt(_l,fa),fa|=I;else{if((I&1073741824)===0)return i=b!==null?b.baseLanes|I:I,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Gt(_l,fa),fa|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},C=b!==null?b.baseLanes:I,Gt(_l,fa),fa|=C}else b!==null?(C=b.baseLanes|I,o.memoizedState=null):C=I,Gt(_l,fa),fa|=C;return Nn(i,o,m,I),o.child}function $Z(i,o){var I=o.ref;(i===null&&I!==null||i!==null&&i.ref!==I)&&(o.flags|=512,o.flags|=2097152)}function jy(i,o,I,C,m){var b=$n(I)?ro:kn.current;return b=Kl(o,b),Ql(o,m),I=Fy(i,o,I,C,b,m),C=Ky(),i!==null&&!qn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,ci(i,o,m)):(Wt&&C&&Gy(o),o.flags|=1,Nn(i,o,I,m),o.child)}function qZ(i,o,I,C,m){if($n(I)){var b=!0;cC(o)}else b=!1;if(Ql(o,m),o.stateNode===null)kC(i,o),KZ(o,I,C),Qy(o,I,C,m),C=!0;else if(i===null){var k=o.stateNode,U=o.memoizedProps;k.props=U;var L=k.context,ie=I.contextType;typeof ie=="object"&&ie!==null?ie=Na(ie):(ie=$n(I)?ro:kn.current,ie=Kl(o,ie));var Ae=I.getDerivedStateFromProps,he=typeof Ae=="function"||typeof k.getSnapshotBeforeUpdate=="function";he||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(U!==C||L!==ie)&&MZ(o,k,C,ie),or=!1;var me=o.memoizedState;k.state=me,yC(o,C,k,m),L=o.memoizedState,U!==C||me!==L||_n.current||or?(typeof Ae=="function"&&(zy(o,I,Ae,C),L=o.memoizedState),(U=or||FZ(o,I,U,C,me,L,ie))?(he||typeof k.UNSAFE_componentWillMount!="function"&&typeof k.componentWillMount!="function"||(typeof k.componentWillMount=="function"&&k.componentWillMount(),typeof k.UNSAFE_componentWillMount=="function"&&k.UNSAFE_componentWillMount()),typeof k.componentDidMount=="function"&&(o.flags|=4194308)):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=C,o.memoizedState=L),k.props=C,k.state=L,k.context=ie,C=U):(typeof k.componentDidMount=="function"&&(o.flags|=4194308),C=!1)}else{k=o.stateNode,pZ(i,o),U=o.memoizedProps,ie=o.type===o.elementType?U:rs(o.type,U),k.props=ie,he=o.pendingProps,me=k.context,L=I.contextType,typeof L=="object"&&L!==null?L=Na(L):(L=$n(I)?ro:kn.current,L=Kl(o,L));var Se=I.getDerivedStateFromProps;(Ae=typeof Se=="function"||typeof k.getSnapshotBeforeUpdate=="function")||typeof k.UNSAFE_componentWillReceiveProps!="function"&&typeof k.componentWillReceiveProps!="function"||(U!==he||me!==L)&&MZ(o,k,C,L),or=!1,me=o.memoizedState,k.state=me,yC(o,C,k,m);var Re=o.memoizedState;U!==he||me!==Re||_n.current||or?(typeof Se=="function"&&(zy(o,I,Se,C),Re=o.memoizedState),(ie=or||FZ(o,I,ie,C,me,Re,L)||!1)?(Ae||typeof k.UNSAFE_componentWillUpdate!="function"&&typeof k.componentWillUpdate!="function"||(typeof k.componentWillUpdate=="function"&&k.componentWillUpdate(C,Re,L),typeof k.UNSAFE_componentWillUpdate=="function"&&k.UNSAFE_componentWillUpdate(C,Re,L)),typeof k.componentDidUpdate=="function"&&(o.flags|=4),typeof k.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof k.componentDidUpdate!="function"||U===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),o.memoizedProps=C,o.memoizedState=Re),k.props=C,k.state=Re,k.context=L,C=ie):(typeof k.componentDidUpdate!="function"||U===i.memoizedProps&&me===i.memoizedState||(o.flags|=4),typeof k.getSnapshotBeforeUpdate!="function"||U===i.memoizedProps&&me===i.memoizedState||(o.flags|=1024),C=!1)}return _y(i,o,I,C,b,m)}function _y(i,o,I,C,m,b){$Z(i,o);var k=(o.flags&128)!==0;if(!C&&!k)return m&&sZ(o,I,!1),ci(i,o,b);C=o.stateNode,cX.current=o;var U=k&&typeof I.getDerivedStateFromError!="function"?null:C.render();return o.flags|=1,i!==null&&k?(o.child=Ll(o,i.child,null,b),o.child=Ll(o,null,U,b)):Nn(i,o,U,b),o.memoizedState=C.state,m&&sZ(o,I,!0),o.child}function eG(i){var o=i.stateNode;o.pendingContext?nZ(i,o.pendingContext,o.pendingContext!==o.context):o.context&&nZ(i,o.context,!1),Jy(i,o.containerInfo)}function tG(i,o,I,C,m){return Dl(),ky(m),o.flags|=256,Nn(i,o,I,C),o.child}var $y={dehydrated:null,treeContext:null,retryLane:0};function qy(i){return{baseLanes:i,cachePool:null,transitions:null}}function nG(i,o,I){var C=o.pendingProps,m=Et.current,b=!1,k=(o.flags&128)!==0,U;if((U=k)||(U=i!==null&&i.memoizedState===null?!1:(m&2)!==0),U?(b=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Gt(Et,m&1),i===null)return wy(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(k=C.children,i=C.fallback,b?(C=o.mode,b=o.child,k={mode:"hidden",children:k},(C&1)===0&&b!==null?(b.childLanes=0,b.pendingProps=k):b=YC(k,C,0,null),i=Ao(i,C,I,null),b.return=o,i.return=o,b.sibling=i,o.child=b,o.child.memoizedState=qy(I),o.memoizedState=$y,i):e0(o,k));if(m=i.memoizedState,m!==null&&(U=m.dehydrated,U!==null))return gX(i,o,k,C,U,m,I);if(b){b=C.fallback,k=o.mode,m=i.child,U=m.sibling;var L={mode:"hidden",children:C.children};return(k&1)===0&&o.child!==m?(C=o.child,C.childLanes=0,C.pendingProps=L,o.deletions=null):(C=Cr(m,L),C.subtreeFlags=m.subtreeFlags&14680064),U!==null?b=Cr(U,b):(b=Ao(b,k,I,null),b.flags|=2),b.return=o,C.return=o,C.sibling=b,o.child=C,C=b,b=o.child,k=i.child.memoizedState,k=k===null?qy(I):{baseLanes:k.baseLanes|I,cachePool:null,transitions:k.transitions},b.memoizedState=k,b.childLanes=i.childLanes&~I,o.memoizedState=$y,C}return b=i.child,i=b.sibling,C=Cr(b,{mode:"visible",children:C.children}),(o.mode&1)===0&&(C.lanes=I),C.return=o,C.sibling=null,i!==null&&(I=o.deletions,I===null?(o.deletions=[i],o.flags|=16):I.push(i)),o.child=C,o.memoizedState=null,C}function e0(i,o){return o=YC({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function wC(i,o,I,C){return C!==null&&ky(C),Ll(o,i.child,null,I),i=e0(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function gX(i,o,I,C,m,b,k){if(I)return o.flags&256?(o.flags&=-257,C=Py(Error(n(422))),wC(i,o,k,C)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(b=C.fallback,m=o.mode,C=YC({mode:"visible",children:C.children},m,0,null),b=Ao(b,m,k,null),b.flags|=2,C.return=o,b.return=o,C.sibling=b,o.child=C,(o.mode&1)!==0&&Ll(o,i.child,null,k),o.child.memoizedState=qy(k),o.memoizedState=$y,b);if((o.mode&1)===0)return wC(i,o,k,null);if(m.data==="$!"){if(C=m.nextSibling&&m.nextSibling.dataset,C)var U=C.dgst;return C=U,b=Error(n(419)),C=Py(b,C,void 0),wC(i,o,k,C)}if(U=(k&i.childLanes)!==0,qn||U){if(C=cn,C!==null){switch(k&-k){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(C.suspendedLanes|k))!==0?0:m,m!==0&&m!==b.retryLane&&(b.retryLane=m,oi(i,m),cs(C,i,m,-1))}return m0(),C=Py(Error(n(421))),wC(i,o,k,C)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=GX.bind(null,i),m._reactRetry=o,null):(i=b.treeContext,ha=ar(m.nextSibling),ba=o,Wt=!0,is=null,i!==null&&(Ja[xa++]=ii,Ja[xa++]=ri,Ja[xa++]=oo,ii=i.id,ri=i.overflow,oo=o),o=e0(o,C.children),o.flags|=4096,o)}function aG(i,o,I){i.lanes|=o;var C=i.alternate;C!==null&&(C.lanes|=o),vy(i.return,o,I)}function t0(i,o,I,C,m){var b=i.memoizedState;b===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:C,tail:I,tailMode:m}:(b.isBackwards=o,b.rendering=null,b.renderingStartTime=0,b.last=C,b.tail=I,b.tailMode=m)}function sG(i,o,I){var C=o.pendingProps,m=C.revealOrder,b=C.tail;if(Nn(i,o,C.children,I),C=Et.current,(C&2)!==0)C=C&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&aG(i,I,o);else if(i.tag===19)aG(i,I,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}C&=1}if(Gt(Et,C),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(I=o.child,m=null;I!==null;)i=I.alternate,i!==null&&bC(i)===null&&(m=I),I=I.sibling;I=m,I===null?(m=o.child,o.child=null):(m=I.sibling,I.sibling=null),t0(o,!1,m,I,b);break;case"backwards":for(I=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&bC(i)===null){o.child=m;break}i=m.sibling,m.sibling=I,I=m,m=i}t0(o,!0,I,null,b);break;case"together":t0(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function kC(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ci(i,o,I){if(i!==null&&(o.dependencies=i.dependencies),uo|=o.lanes,(I&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(n(153));if(o.child!==null){for(i=o.child,I=Cr(i,i.pendingProps),o.child=I,I.return=o;i.sibling!==null;)i=i.sibling,I=I.sibling=Cr(i,i.pendingProps),I.return=o;I.sibling=null}return o.child}function dX(i,o,I){switch(o.tag){case 3:eG(o),Dl();break;case 5:yZ(o);break;case 1:$n(o.type)&&cC(o);break;case 4:Jy(o,o.stateNode.containerInfo);break;case 10:var C=o.type._context,m=o.memoizedProps.value;Gt(pC,C._currentValue),C._currentValue=m;break;case 13:if(C=o.memoizedState,C!==null)return C.dehydrated!==null?(Gt(Et,Et.current&1),o.flags|=128,null):(I&o.child.childLanes)!==0?nG(i,o,I):(Gt(Et,Et.current&1),i=ci(i,o,I),i!==null?i.sibling:null);Gt(Et,Et.current&1);break;case 19:if(C=(I&o.childLanes)!==0,(i.flags&128)!==0){if(C)return sG(i,o,I);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Gt(Et,Et.current),C)break;return null;case 22:case 23:return o.lanes=0,_Z(i,o,I)}return ci(i,o,I)}var iG,n0,rG,oG;iG=function(i,o){for(var I=o.child;I!==null;){if(I.tag===5||I.tag===6)i.appendChild(I.stateNode);else if(I.tag!==4&&I.child!==null){I.child.return=I,I=I.child;continue}if(I===o)break;for(;I.sibling===null;){if(I.return===null||I.return===o)return;I=I.return}I.sibling.return=I.return,I=I.sibling}},n0=function(){},rG=function(i,o,I,C){var m=i.memoizedProps;if(m!==C){i=o.stateNode,go(Rs.current);var b=null;switch(I){case"input":m=$t(i,m),C=$t(i,C),b=[];break;case"select":m=T({},m,{value:void 0}),C=T({},C,{value:void 0}),b=[];break;case"textarea":m=pt(i,m),C=pt(i,C),b=[];break;default:typeof m.onClick!="function"&&typeof C.onClick=="function"&&(i.onclick=rC)}Ce(I,C);var k;I=null;for(ie in m)if(!C.hasOwnProperty(ie)&&m.hasOwnProperty(ie)&&m[ie]!=null)if(ie==="style"){var U=m[ie];for(k in U)U.hasOwnProperty(k)&&(I||(I={}),I[k]="")}else ie!=="dangerouslySetInnerHTML"&&ie!=="children"&&ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&ie!=="autoFocus"&&(s.hasOwnProperty(ie)?b||(b=[]):(b=b||[]).push(ie,null));for(ie in C){var L=C[ie];if(U=m!=null?m[ie]:void 0,C.hasOwnProperty(ie)&&L!==U&&(L!=null||U!=null))if(ie==="style")if(U){for(k in U)!U.hasOwnProperty(k)||L&&L.hasOwnProperty(k)||(I||(I={}),I[k]="");for(k in L)L.hasOwnProperty(k)&&U[k]!==L[k]&&(I||(I={}),I[k]=L[k])}else I||(b||(b=[]),b.push(ie,I)),I=L;else ie==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,U=U?U.__html:void 0,L!=null&&U!==L&&(b=b||[]).push(ie,L)):ie==="children"?typeof L!="string"&&typeof L!="number"||(b=b||[]).push(ie,""+L):ie!=="suppressContentEditableWarning"&&ie!=="suppressHydrationWarning"&&(s.hasOwnProperty(ie)?(L!=null&&ie==="onScroll"&&wt("scroll",i),b||U===L||(b=[])):(b=b||[]).push(ie,L))}I&&(b=b||[]).push("style",I);var ie=b;(o.updateQueue=ie)&&(o.flags|=4)}},oG=function(i,o,I,C){I!==C&&(o.flags|=4)};function Bd(i,o){if(!Wt)switch(i.tailMode){case"hidden":o=i.tail;for(var I=null;o!==null;)o.alternate!==null&&(I=o),o=o.sibling;I===null?i.tail=null:I.sibling=null;break;case"collapsed":I=i.tail;for(var C=null;I!==null;)I.alternate!==null&&(C=I),I=I.sibling;C===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:C.sibling=null}}function Rn(i){var o=i.alternate!==null&&i.alternate.child===i.child,I=0,C=0;if(o)for(var m=i.child;m!==null;)I|=m.lanes|m.childLanes,C|=m.subtreeFlags&14680064,C|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)I|=m.lanes|m.childLanes,C|=m.subtreeFlags,C|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=C,i.childLanes=I,o}function IX(i,o,I){var C=o.pendingProps;switch(By(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Rn(o),null;case 1:return $n(o.type)&&lC(),Rn(o),null;case 3:return C=o.stateNode,Pl(),kt(_n),kt(kn),Hy(),C.pendingContext&&(C.context=C.pendingContext,C.pendingContext=null),(i===null||i.child===null)&&(uC(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,is!==null&&(u0(is),is=null))),n0(i,o),Rn(o),null;case 5:xy(o);var m=go(bd.current);if(I=o.type,i!==null&&o.stateNode!=null)rG(i,o,I,C,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!C){if(o.stateNode===null)throw Error(n(166));return Rn(o),null}if(i=go(Rs.current),uC(o)){C=o.stateNode,I=o.type;var b=o.memoizedProps;switch(C[Vs]=o,C[Cd]=b,i=(o.mode&1)!==0,I){case"dialog":wt("cancel",C),wt("close",C);break;case"iframe":case"object":case"embed":wt("load",C);break;case"video":case"audio":for(m=0;m<dd.length;m++)wt(dd[m],C);break;case"source":wt("error",C);break;case"img":case"image":case"link":wt("error",C),wt("load",C);break;case"details":wt("toggle",C);break;case"input":wn(C,b),wt("invalid",C);break;case"select":C._wrapperState={wasMultiple:!!b.multiple},wt("invalid",C);break;case"textarea":Rt(C,b),wt("invalid",C)}Ce(I,b),m=null;for(var k in b)if(b.hasOwnProperty(k)){var U=b[k];k==="children"?typeof U=="string"?C.textContent!==U&&(b.suppressHydrationWarning!==!0&&iC(C.textContent,U,i),m=["children",U]):typeof U=="number"&&C.textContent!==""+U&&(b.suppressHydrationWarning!==!0&&iC(C.textContent,U,i),m=["children",""+U]):s.hasOwnProperty(k)&&U!=null&&k==="onScroll"&&wt("scroll",C)}switch(I){case"input":_t(C),Wl(C,b,!0);break;case"textarea":_t(C),en(C);break;case"select":case"option":break;default:typeof b.onClick=="function"&&(C.onclick=rC)}C=m,o.updateQueue=C,C!==null&&(o.flags|=4)}else{k=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Oi(I)),i==="http://www.w3.org/1999/xhtml"?I==="script"?(i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof C.is=="string"?i=k.createElement(I,{is:C.is}):(i=k.createElement(I),I==="select"&&(k=i,C.multiple?k.multiple=!0:C.size&&(k.size=C.size))):i=k.createElementNS(i,I),i[Vs]=o,i[Cd]=C,iG(i,o,!1,!1),o.stateNode=i;e:{switch(k=Pe(I,C),I){case"dialog":wt("cancel",i),wt("close",i),m=C;break;case"iframe":case"object":case"embed":wt("load",i),m=C;break;case"video":case"audio":for(m=0;m<dd.length;m++)wt(dd[m],i);m=C;break;case"source":wt("error",i),m=C;break;case"img":case"image":case"link":wt("error",i),wt("load",i),m=C;break;case"details":wt("toggle",i),m=C;break;case"input":wn(i,C),m=$t(i,C),wt("invalid",i);break;case"option":m=C;break;case"select":i._wrapperState={wasMultiple:!!C.multiple},m=T({},C,{value:void 0}),wt("invalid",i);break;case"textarea":Rt(i,C),m=pt(i,C),wt("invalid",i);break;default:m=C}Ce(I,m),U=m;for(b in U)if(U.hasOwnProperty(b)){var L=U[b];b==="style"?j(i,L):b==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Tu(i,L)):b==="children"?typeof L=="string"?(I!=="textarea"||L!=="")&&v(i,L):typeof L=="number"&&v(i,""+L):b!=="suppressContentEditableWarning"&&b!=="suppressHydrationWarning"&&b!=="autoFocus"&&(s.hasOwnProperty(b)?L!=null&&b==="onScroll"&&wt("scroll",i):L!=null&&x(i,b,L,k))}switch(I){case"input":_t(i),Wl(i,C,!1);break;case"textarea":_t(i),en(i);break;case"option":C.value!=null&&i.setAttribute("value",""+ze(C.value));break;case"select":i.multiple=!!C.multiple,b=C.value,b!=null?Fe(i,!!C.multiple,b,!1):C.defaultValue!=null&&Fe(i,!!C.multiple,C.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=rC)}switch(I){case"button":case"input":case"select":case"textarea":C=!!C.autoFocus;break e;case"img":C=!0;break e;default:C=!1}}C&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Rn(o),null;case 6:if(i&&o.stateNode!=null)oG(i,o,i.memoizedProps,C);else{if(typeof C!="string"&&o.stateNode===null)throw Error(n(166));if(I=go(bd.current),go(Rs.current),uC(o)){if(C=o.stateNode,I=o.memoizedProps,C[Vs]=o,(b=C.nodeValue!==I)&&(i=ba,i!==null))switch(i.tag){case 3:iC(C.nodeValue,I,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&iC(C.nodeValue,I,(i.mode&1)!==0)}b&&(o.flags|=4)}else C=(I.nodeType===9?I:I.ownerDocument).createTextNode(C),C[Vs]=o,o.stateNode=C}return Rn(o),null;case 13:if(kt(Et),C=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(Wt&&ha!==null&&(o.mode&1)!==0&&(o.flags&128)===0)gZ(),Dl(),o.flags|=98560,b=!1;else if(b=uC(o),C!==null&&C.dehydrated!==null){if(i===null){if(!b)throw Error(n(318));if(b=o.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[Vs]=o}else Dl(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Rn(o),b=!1}else is!==null&&(u0(is),is=null),b=!0;if(!b)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=I,o):(C=C!==null,C!==(i!==null&&i.memoizedState!==null)&&C&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(Et.current&1)!==0?rn===0&&(rn=3):m0())),o.updateQueue!==null&&(o.flags|=4),Rn(o),null);case 4:return Pl(),n0(i,o),i===null&&Id(o.stateNode.containerInfo),Rn(o),null;case 10:return Wy(o.type._context),Rn(o),null;case 17:return $n(o.type)&&lC(),Rn(o),null;case 19:if(kt(Et),b=o.memoizedState,b===null)return Rn(o),null;if(C=(o.flags&128)!==0,k=b.rendering,k===null)if(C)Bd(b,!1);else{if(rn!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(k=bC(i),k!==null){for(o.flags|=128,Bd(b,!1),C=k.updateQueue,C!==null&&(o.updateQueue=C,o.flags|=4),o.subtreeFlags=0,C=I,I=o.child;I!==null;)b=I,i=C,b.flags&=14680066,k=b.alternate,k===null?(b.childLanes=0,b.lanes=i,b.child=null,b.subtreeFlags=0,b.memoizedProps=null,b.memoizedState=null,b.updateQueue=null,b.dependencies=null,b.stateNode=null):(b.childLanes=k.childLanes,b.lanes=k.lanes,b.child=k.child,b.subtreeFlags=0,b.deletions=null,b.memoizedProps=k.memoizedProps,b.memoizedState=k.memoizedState,b.updateQueue=k.updateQueue,b.type=k.type,i=k.dependencies,b.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),I=I.sibling;return Gt(Et,Et.current&1|2),o.child}i=i.sibling}b.tail!==null&&Dt()>$l&&(o.flags|=128,C=!0,Bd(b,!1),o.lanes=4194304)}else{if(!C)if(i=bC(k),i!==null){if(o.flags|=128,C=!0,I=i.updateQueue,I!==null&&(o.updateQueue=I,o.flags|=4),Bd(b,!0),b.tail===null&&b.tailMode==="hidden"&&!k.alternate&&!Wt)return Rn(o),null}else 2*Dt()-b.renderingStartTime>$l&&I!==1073741824&&(o.flags|=128,C=!0,Bd(b,!1),o.lanes=4194304);b.isBackwards?(k.sibling=o.child,o.child=k):(I=b.last,I!==null?I.sibling=k:o.child=k,b.last=k)}return b.tail!==null?(o=b.tail,b.rendering=o,b.tail=o.sibling,b.renderingStartTime=Dt(),o.sibling=null,I=Et.current,Gt(Et,C?I&1|2:I&1),o):(Rn(o),null);case 22:case 23:return p0(),C=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==C&&(o.flags|=8192),C&&(o.mode&1)!==0?(fa&1073741824)!==0&&(Rn(o),o.subtreeFlags&6&&(o.flags|=8192)):Rn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function uX(i,o){switch(By(o),o.tag){case 1:return $n(o.type)&&lC(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Pl(),kt(_n),kt(kn),Hy(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return xy(o),null;case 13:if(kt(Et),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Dl()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return kt(Et),null;case 4:return Pl(),null;case 10:return Wy(o.type._context),null;case 22:case 23:return p0(),null;case 24:return null;default:return null}}var VC=!1,Wn=!1,CX=typeof WeakSet=="function"?WeakSet:Set,we=null;function jl(i,o){var I=i.ref;if(I!==null)if(typeof I=="function")try{I(null)}catch(C){Ht(i,o,C)}else I.current=null}function a0(i,o,I){try{I()}catch(C){Ht(i,o,C)}}var lG=!1;function pX(i,o){if(py=Pu,i=F5(),oy(i)){if("selectionStart"in i)var I={start:i.selectionStart,end:i.selectionEnd};else e:{I=(I=i.ownerDocument)&&I.defaultView||window;var C=I.getSelection&&I.getSelection();if(C&&C.rangeCount!==0){I=C.anchorNode;var m=C.anchorOffset,b=C.focusNode;C=C.focusOffset;try{I.nodeType,b.nodeType}catch{I=null;break e}var k=0,U=-1,L=-1,ie=0,Ae=0,he=i,me=null;t:for(;;){for(var Se;he!==I||m!==0&&he.nodeType!==3||(U=k+m),he!==b||C!==0&&he.nodeType!==3||(L=k+C),he.nodeType===3&&(k+=he.nodeValue.length),(Se=he.firstChild)!==null;)me=he,he=Se;for(;;){if(he===i)break t;if(me===I&&++ie===m&&(U=k),me===b&&++Ae===C&&(L=k),(Se=he.nextSibling)!==null)break;he=me,me=he.parentNode}he=Se}I=U===-1||L===-1?null:{start:U,end:L}}else I=null}I=I||{start:0,end:0}}else I=null;for(my={focusedElem:i,selectionRange:I},Pu=!1,we=o;we!==null;)if(o=we,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,we=i;else for(;we!==null;){o=we;try{var Re=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(Re!==null){var We=Re.memoizedProps,Lt=Re.memoizedState,ee=o.stateNode,O=ee.getSnapshotBeforeUpdate(o.elementType===o.type?We:rs(o.type,We),Lt);ee.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var ne=o.stateNode.containerInfo;ne.nodeType===1?ne.textContent="":ne.nodeType===9&&ne.documentElement&&ne.removeChild(ne.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(fe){Ht(o,o.return,fe)}if(i=o.sibling,i!==null){i.return=o.return,we=i;break}we=o.return}return Re=lG,lG=!1,Re}function Sd(i,o,I){var C=o.updateQueue;if(C=C!==null?C.lastEffect:null,C!==null){var m=C=C.next;do{if((m.tag&i)===i){var b=m.destroy;m.destroy=void 0,b!==void 0&&a0(o,I,b)}m=m.next}while(m!==C)}}function RC(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var I=o=o.next;do{if((I.tag&i)===i){var C=I.create;I.destroy=C()}I=I.next}while(I!==o)}}function s0(i){var o=i.ref;if(o!==null){var I=i.stateNode;switch(i.tag){case 5:i=I;break;default:i=I}typeof o=="function"?o(i):o.current=i}}function cG(i){var o=i.alternate;o!==null&&(i.alternate=null,cG(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Vs],delete o[Cd],delete o[hy],delete o[_E],delete o[$E])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function gG(i){return i.tag===5||i.tag===3||i.tag===4}function dG(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||gG(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function i0(i,o,I){var C=i.tag;if(C===5||C===6)i=i.stateNode,o?I.nodeType===8?I.parentNode.insertBefore(i,o):I.insertBefore(i,o):(I.nodeType===8?(o=I.parentNode,o.insertBefore(i,I)):(o=I,o.appendChild(i)),I=I._reactRootContainer,I!=null||o.onclick!==null||(o.onclick=rC));else if(C!==4&&(i=i.child,i!==null))for(i0(i,o,I),i=i.sibling;i!==null;)i0(i,o,I),i=i.sibling}function r0(i,o,I){var C=i.tag;if(C===5||C===6)i=i.stateNode,o?I.insertBefore(i,o):I.appendChild(i);else if(C!==4&&(i=i.child,i!==null))for(r0(i,o,I),i=i.sibling;i!==null;)r0(i,o,I),i=i.sibling}var bn=null,os=!1;function cr(i,o,I){for(I=I.child;I!==null;)IG(i,o,I),I=I.sibling}function IG(i,o,I){if(ks&&typeof ks.onCommitFiberUnmount=="function")try{ks.onCommitFiberUnmount(Mu,I)}catch{}switch(I.tag){case 5:Wn||jl(I,o);case 6:var C=bn,m=os;bn=null,cr(i,o,I),bn=C,os=m,bn!==null&&(os?(i=bn,I=I.stateNode,i.nodeType===8?i.parentNode.removeChild(I):i.removeChild(I)):bn.removeChild(I.stateNode));break;case 18:bn!==null&&(os?(i=bn,I=I.stateNode,i.nodeType===8?by(i.parentNode,I):i.nodeType===1&&by(i,I),ad(i)):by(bn,I.stateNode));break;case 4:C=bn,m=os,bn=I.stateNode.containerInfo,os=!0,cr(i,o,I),bn=C,os=m;break;case 0:case 11:case 14:case 15:if(!Wn&&(C=I.updateQueue,C!==null&&(C=C.lastEffect,C!==null))){m=C=C.next;do{var b=m,k=b.destroy;b=b.tag,k!==void 0&&((b&2)!==0||(b&4)!==0)&&a0(I,o,k),m=m.next}while(m!==C)}cr(i,o,I);break;case 1:if(!Wn&&(jl(I,o),C=I.stateNode,typeof C.componentWillUnmount=="function"))try{C.props=I.memoizedProps,C.state=I.memoizedState,C.componentWillUnmount()}catch(U){Ht(I,o,U)}cr(i,o,I);break;case 21:cr(i,o,I);break;case 22:I.mode&1?(Wn=(C=Wn)||I.memoizedState!==null,cr(i,o,I),Wn=C):cr(i,o,I);break;default:cr(i,o,I)}}function uG(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var I=i.stateNode;I===null&&(I=i.stateNode=new CX),o.forEach(function(C){var m=BX.bind(null,i,C);I.has(C)||(I.add(C),C.then(m,m))})}}function ls(i,o){var I=o.deletions;if(I!==null)for(var C=0;C<I.length;C++){var m=I[C];try{var b=i,k=o,U=k;e:for(;U!==null;){switch(U.tag){case 5:bn=U.stateNode,os=!1;break e;case 3:bn=U.stateNode.containerInfo,os=!0;break e;case 4:bn=U.stateNode.containerInfo,os=!0;break e}U=U.return}if(bn===null)throw Error(n(160));IG(b,k,m),bn=null,os=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(ie){Ht(m,o,ie)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)CG(o,i),o=o.sibling}function CG(i,o){var I=i.alternate,C=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ls(o,i),vs(i),C&4){try{Sd(3,i,i.return),RC(3,i)}catch(We){Ht(i,i.return,We)}try{Sd(5,i,i.return)}catch(We){Ht(i,i.return,We)}}break;case 1:ls(o,i),vs(i),C&512&&I!==null&&jl(I,I.return);break;case 5:if(ls(o,i),vs(i),C&512&&I!==null&&jl(I,I.return),i.flags&32){var m=i.stateNode;try{v(m,"")}catch(We){Ht(i,i.return,We)}}if(C&4&&(m=i.stateNode,m!=null)){var b=i.memoizedProps,k=I!==null?I.memoizedProps:b,U=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{U==="input"&&b.type==="radio"&&b.name!=null&&Ut(m,b),Pe(U,k);var ie=Pe(U,b);for(k=0;k<L.length;k+=2){var Ae=L[k],he=L[k+1];Ae==="style"?j(m,he):Ae==="dangerouslySetInnerHTML"?Tu(m,he):Ae==="children"?v(m,he):x(m,Ae,he,ie)}switch(U){case"input":ns(m,b);break;case"textarea":qt(m,b);break;case"select":var me=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!b.multiple;var Se=b.value;Se!=null?Fe(m,!!b.multiple,Se,!1):me!==!!b.multiple&&(b.defaultValue!=null?Fe(m,!!b.multiple,b.defaultValue,!0):Fe(m,!!b.multiple,b.multiple?[]:"",!1))}m[Cd]=b}catch(We){Ht(i,i.return,We)}}break;case 6:if(ls(o,i),vs(i),C&4){if(i.stateNode===null)throw Error(n(162));m=i.stateNode,b=i.memoizedProps;try{m.nodeValue=b}catch(We){Ht(i,i.return,We)}}break;case 3:if(ls(o,i),vs(i),C&4&&I!==null&&I.memoizedState.isDehydrated)try{ad(o.containerInfo)}catch(We){Ht(i,i.return,We)}break;case 4:ls(o,i),vs(i);break;case 13:ls(o,i),vs(i),m=i.child,m.flags&8192&&(b=m.memoizedState!==null,m.stateNode.isHidden=b,!b||m.alternate!==null&&m.alternate.memoizedState!==null||(c0=Dt())),C&4&&uG(i);break;case 22:if(Ae=I!==null&&I.memoizedState!==null,i.mode&1?(Wn=(ie=Wn)||Ae,ls(o,i),Wn=ie):ls(o,i),vs(i),C&8192){if(ie=i.memoizedState!==null,(i.stateNode.isHidden=ie)&&!Ae&&(i.mode&1)!==0)for(we=i,Ae=i.child;Ae!==null;){for(he=we=Ae;we!==null;){switch(me=we,Se=me.child,me.tag){case 0:case 11:case 14:case 15:Sd(4,me,me.return);break;case 1:jl(me,me.return);var Re=me.stateNode;if(typeof Re.componentWillUnmount=="function"){C=me,I=me.return;try{o=C,Re.props=o.memoizedProps,Re.state=o.memoizedState,Re.componentWillUnmount()}catch(We){Ht(C,I,We)}}break;case 5:jl(me,me.return);break;case 22:if(me.memoizedState!==null){AG(he);continue}}Se!==null?(Se.return=me,we=Se):AG(he)}Ae=Ae.sibling}e:for(Ae=null,he=i;;){if(he.tag===5){if(Ae===null){Ae=he;try{m=he.stateNode,ie?(b=m.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none"):(U=he.stateNode,L=he.memoizedProps.style,k=L!=null&&L.hasOwnProperty("display")?L.display:null,U.style.display=F("display",k))}catch(We){Ht(i,i.return,We)}}}else if(he.tag===6){if(Ae===null)try{he.stateNode.nodeValue=ie?"":he.memoizedProps}catch(We){Ht(i,i.return,We)}}else if((he.tag!==22&&he.tag!==23||he.memoizedState===null||he===i)&&he.child!==null){he.child.return=he,he=he.child;continue}if(he===i)break e;for(;he.sibling===null;){if(he.return===null||he.return===i)break e;Ae===he&&(Ae=null),he=he.return}Ae===he&&(Ae=null),he.sibling.return=he.return,he=he.sibling}}break;case 19:ls(o,i),vs(i),C&4&&uG(i);break;case 21:break;default:ls(o,i),vs(i)}}function vs(i){var o=i.flags;if(o&2){try{e:{for(var I=i.return;I!==null;){if(gG(I)){var C=I;break e}I=I.return}throw Error(n(160))}switch(C.tag){case 5:var m=C.stateNode;C.flags&32&&(v(m,""),C.flags&=-33);var b=dG(i);r0(i,b,m);break;case 3:case 4:var k=C.stateNode.containerInfo,U=dG(i);i0(i,U,k);break;default:throw Error(n(161))}}catch(L){Ht(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function mX(i,o,I){we=i,pG(i)}function pG(i,o,I){for(var C=(i.mode&1)!==0;we!==null;){var m=we,b=m.child;if(m.tag===22&&C){var k=m.memoizedState!==null||VC;if(!k){var U=m.alternate,L=U!==null&&U.memoizedState!==null||Wn;U=VC;var ie=Wn;if(VC=k,(Wn=L)&&!ie)for(we=m;we!==null;)k=we,L=k.child,k.tag===22&&k.memoizedState!==null?yG(m):L!==null?(L.return=k,we=L):yG(m);for(;b!==null;)we=b,pG(b),b=b.sibling;we=m,VC=U,Wn=ie}mG(i)}else(m.subtreeFlags&8772)!==0&&b!==null?(b.return=m,we=b):mG(i)}}function mG(i){for(;we!==null;){var o=we;if((o.flags&8772)!==0){var I=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Wn||RC(5,o);break;case 1:var C=o.stateNode;if(o.flags&4&&!Wn)if(I===null)C.componentDidMount();else{var m=o.elementType===o.type?I.memoizedProps:rs(o.type,I.memoizedProps);C.componentDidUpdate(m,I.memoizedState,C.__reactInternalSnapshotBeforeUpdate)}var b=o.updateQueue;b!==null&&AZ(o,b,C);break;case 3:var k=o.updateQueue;if(k!==null){if(I=null,o.child!==null)switch(o.child.tag){case 5:I=o.child.stateNode;break;case 1:I=o.child.stateNode}AZ(o,k,I)}break;case 5:var U=o.stateNode;if(I===null&&o.flags&4){I=U;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&I.focus();break;case"img":L.src&&(I.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var ie=o.alternate;if(ie!==null){var Ae=ie.memoizedState;if(Ae!==null){var he=Ae.dehydrated;he!==null&&ad(he)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Wn||o.flags&512&&s0(o)}catch(me){Ht(o,o.return,me)}}if(o===i){we=null;break}if(I=o.sibling,I!==null){I.return=o.return,we=I;break}we=o.return}}function AG(i){for(;we!==null;){var o=we;if(o===i){we=null;break}var I=o.sibling;if(I!==null){I.return=o.return,we=I;break}we=o.return}}function yG(i){for(;we!==null;){var o=we;try{switch(o.tag){case 0:case 11:case 15:var I=o.return;try{RC(4,o)}catch(L){Ht(o,I,L)}break;case 1:var C=o.stateNode;if(typeof C.componentDidMount=="function"){var m=o.return;try{C.componentDidMount()}catch(L){Ht(o,m,L)}}var b=o.return;try{s0(o)}catch(L){Ht(o,b,L)}break;case 5:var k=o.return;try{s0(o)}catch(L){Ht(o,k,L)}}}catch(L){Ht(o,o.return,L)}if(o===i){we=null;break}var U=o.sibling;if(U!==null){U.return=o.return,we=U;break}we=o.return}}var AX=Math.ceil,WC=Y.ReactCurrentDispatcher,o0=Y.ReactCurrentOwner,Ta=Y.ReactCurrentBatchConfig,st=0,cn=null,tn=null,hn=0,fa=0,_l=sr(0),rn=0,wd=null,uo=0,vC=0,l0=0,kd=null,ea=null,c0=0,$l=1/0,gi=null,EC=!1,g0=null,gr=null,XC=!1,dr=null,JC=0,Vd=0,d0=null,xC=-1,NC=0;function Hn(){return(st&6)!==0?Dt():xC!==-1?xC:xC=Dt()}function Ir(i){return(i.mode&1)===0?1:(st&2)!==0&&hn!==0?hn&-hn:eX.transition!==null?(NC===0&&(NC=d5()),NC):(i=mt,i!==0||(i=window.event,i=i===void 0?16:h5(i.type)),i)}function cs(i,o,I,C){if(50<Vd)throw Vd=0,d0=null,Error(n(185));$g(i,I,C),((st&2)===0||i!==cn)&&(i===cn&&((st&2)===0&&(vC|=I),rn===4&&ur(i,hn)),ta(i,C),I===1&&st===0&&(o.mode&1)===0&&($l=Dt()+500,gC&&rr()))}function ta(i,o){var I=i.callbackNode;eE(i,o);var C=Lu(i,i===cn?hn:0);if(C===0)I!==null&&l5(I),i.callbackNode=null,i.callbackPriority=0;else if(o=C&-C,i.callbackPriority!==o){if(I!=null&&l5(I),o===1)i.tag===0?qE(hG.bind(null,i)):iZ(hG.bind(null,i)),OE(function(){(st&6)===0&&rr()}),I=null;else{switch(I5(C)){case 1:I=DA;break;case 4:I=c5;break;case 16:I=Ku;break;case 536870912:I=g5;break;default:I=Ku}I=VG(I,bG.bind(null,i))}i.callbackPriority=o,i.callbackNode=I}}function bG(i,o){if(xC=-1,NC=0,(st&6)!==0)throw Error(n(327));var I=i.callbackNode;if(ql()&&i.callbackNode!==I)return null;var C=Lu(i,i===cn?hn:0);if(C===0)return null;if((C&30)!==0||(C&i.expiredLanes)!==0||o)o=HC(i,C);else{o=C;var m=st;st|=2;var b=ZG();(cn!==i||hn!==o)&&(gi=null,$l=Dt()+500,po(i,o));do try{hX();break}catch(U){fG(i,U)}while(!0);Ry(),WC.current=b,st=m,tn!==null?o=0:(cn=null,hn=0,o=rn)}if(o!==0){if(o===2&&(m=LA(i),m!==0&&(C=m,o=I0(i,m))),o===1)throw I=wd,po(i,0),ur(i,C),ta(i,Dt()),I;if(o===6)ur(i,C);else{if(m=i.current.alternate,(C&30)===0&&!yX(m)&&(o=HC(i,C),o===2&&(b=LA(i),b!==0&&(C=b,o=I0(i,b))),o===1))throw I=wd,po(i,0),ur(i,C),ta(i,Dt()),I;switch(i.finishedWork=m,i.finishedLanes=C,o){case 0:case 1:throw Error(n(345));case 2:mo(i,ea,gi);break;case 3:if(ur(i,C),(C&130023424)===C&&(o=c0+500-Dt(),10<o)){if(Lu(i,0)!==0)break;if(m=i.suspendedLanes,(m&C)!==C){Hn(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=yy(mo.bind(null,i,ea,gi),o);break}mo(i,ea,gi);break;case 4:if(ur(i,C),(C&4194240)===C)break;for(o=i.eventTimes,m=-1;0<C;){var k=31-as(C);b=1<<k,k=o[k],k>m&&(m=k),C&=~b}if(C=m,C=Dt()-C,C=(120>C?120:480>C?480:1080>C?1080:1920>C?1920:3e3>C?3e3:4320>C?4320:1960*AX(C/1960))-C,10<C){i.timeoutHandle=yy(mo.bind(null,i,ea,gi),C);break}mo(i,ea,gi);break;case 5:mo(i,ea,gi);break;default:throw Error(n(329))}}}return ta(i,Dt()),i.callbackNode===I?bG.bind(null,i):null}function I0(i,o){var I=kd;return i.current.memoizedState.isDehydrated&&(po(i,o).flags|=256),i=HC(i,o),i!==2&&(o=ea,ea=I,o!==null&&u0(o)),i}function u0(i){ea===null?ea=i:ea.push.apply(ea,i)}function yX(i){for(var o=i;;){if(o.flags&16384){var I=o.updateQueue;if(I!==null&&(I=I.stores,I!==null))for(var C=0;C<I.length;C++){var m=I[C],b=m.getSnapshot;m=m.value;try{if(!ss(b(),m))return!1}catch{return!1}}}if(I=o.child,o.subtreeFlags&16384&&I!==null)I.return=o,o=I;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ur(i,o){for(o&=~l0,o&=~vC,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var I=31-as(o),C=1<<I;i[I]=-1,o&=~C}}function hG(i){if((st&6)!==0)throw Error(n(327));ql();var o=Lu(i,0);if((o&1)===0)return ta(i,Dt()),null;var I=HC(i,o);if(i.tag!==0&&I===2){var C=LA(i);C!==0&&(o=C,I=I0(i,C))}if(I===1)throw I=wd,po(i,0),ur(i,o),ta(i,Dt()),I;if(I===6)throw Error(n(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,mo(i,ea,gi),ta(i,Dt()),null}function C0(i,o){var I=st;st|=1;try{return i(o)}finally{st=I,st===0&&($l=Dt()+500,gC&&rr())}}function Co(i){dr!==null&&dr.tag===0&&(st&6)===0&&ql();var o=st;st|=1;var I=Ta.transition,C=mt;try{if(Ta.transition=null,mt=1,i)return i()}finally{mt=C,Ta.transition=I,st=o,(st&6)===0&&rr()}}function p0(){fa=_l.current,kt(_l)}function po(i,o){i.finishedWork=null,i.finishedLanes=0;var I=i.timeoutHandle;if(I!==-1&&(i.timeoutHandle=-1,PE(I)),tn!==null)for(I=tn.return;I!==null;){var C=I;switch(By(C),C.tag){case 1:C=C.type.childContextTypes,C!=null&&lC();break;case 3:Pl(),kt(_n),kt(kn),Hy();break;case 5:xy(C);break;case 4:Pl();break;case 13:kt(Et);break;case 19:kt(Et);break;case 10:Wy(C.type._context);break;case 22:case 23:p0()}I=I.return}if(cn=i,tn=i=Cr(i.current,null),hn=fa=o,rn=0,wd=null,l0=vC=uo=0,ea=kd=null,co!==null){for(o=0;o<co.length;o++)if(I=co[o],C=I.interleaved,C!==null){I.interleaved=null;var m=C.next,b=I.pending;if(b!==null){var k=b.next;b.next=m,C.next=k}I.pending=C}co=null}return i}function fG(i,o){do{var I=tn;try{if(Ry(),hC.current=BC,fC){for(var C=Xt.memoizedState;C!==null;){var m=C.queue;m!==null&&(m.pending=null),C=C.next}fC=!1}if(Io=0,ln=sn=Xt=null,hd=!1,fd=0,o0.current=null,I===null||I.return===null){rn=1,wd=o,tn=null;break}e:{var b=i,k=I.return,U=I,L=o;if(o=hn,U.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var ie=L,Ae=U,he=Ae.tag;if((Ae.mode&1)===0&&(he===0||he===11||he===15)){var me=Ae.alternate;me?(Ae.updateQueue=me.updateQueue,Ae.memoizedState=me.memoizedState,Ae.lanes=me.lanes):(Ae.updateQueue=null,Ae.memoizedState=null)}var Se=zZ(k);if(Se!==null){Se.flags&=-257,QZ(Se,k,U,b,o),Se.mode&1&&LZ(b,ie,o),o=Se,L=ie;var Re=o.updateQueue;if(Re===null){var We=new Set;We.add(L),o.updateQueue=We}else Re.add(L);break e}else{if((o&1)===0){LZ(b,ie,o),m0();break e}L=Error(n(426))}}else if(Wt&&U.mode&1){var Lt=zZ(k);if(Lt!==null){(Lt.flags&65536)===0&&(Lt.flags|=256),QZ(Lt,k,U,b,o),ky(Ol(L,U));break e}}b=L=Ol(L,U),rn!==4&&(rn=2),kd===null?kd=[b]:kd.push(b),b=k;do{switch(b.tag){case 3:b.flags|=65536,o&=-o,b.lanes|=o;var ee=UZ(b,L,o);mZ(b,ee);break e;case 1:U=L;var O=b.type,ne=b.stateNode;if((b.flags&128)===0&&(typeof O.getDerivedStateFromError=="function"||ne!==null&&typeof ne.componentDidCatch=="function"&&(gr===null||!gr.has(ne)))){b.flags|=65536,o&=-o,b.lanes|=o;var fe=DZ(b,U,o);mZ(b,fe);break e}}b=b.return}while(b!==null)}BG(I)}catch(Xe){o=Xe,tn===I&&I!==null&&(tn=I=I.return);continue}break}while(!0)}function ZG(){var i=WC.current;return WC.current=BC,i===null?BC:i}function m0(){(rn===0||rn===3||rn===2)&&(rn=4),cn===null||(uo&268435455)===0&&(vC&268435455)===0||ur(cn,hn)}function HC(i,o){var I=st;st|=2;var C=ZG();(cn!==i||hn!==o)&&(gi=null,po(i,o));do try{bX();break}catch(m){fG(i,m)}while(!0);if(Ry(),st=I,WC.current=C,tn!==null)throw Error(n(261));return cn=null,hn=0,rn}function bX(){for(;tn!==null;)GG(tn)}function hX(){for(;tn!==null&&!Lv();)GG(tn)}function GG(i){var o=kG(i.alternate,i,fa);i.memoizedProps=i.pendingProps,o===null?BG(i):tn=o,o0.current=null}function BG(i){var o=i;do{var I=o.alternate;if(i=o.return,(o.flags&32768)===0){if(I=IX(I,o,fa),I!==null){tn=I;return}}else{if(I=uX(I,o),I!==null){I.flags&=32767,tn=I;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{rn=6,tn=null;return}}if(o=o.sibling,o!==null){tn=o;return}tn=o=i}while(o!==null);rn===0&&(rn=5)}function mo(i,o,I){var C=mt,m=Ta.transition;try{Ta.transition=null,mt=1,fX(i,o,I,C)}finally{Ta.transition=m,mt=C}return null}function fX(i,o,I,C){do ql();while(dr!==null);if((st&6)!==0)throw Error(n(327));I=i.finishedWork;var m=i.finishedLanes;if(I===null)return null;if(i.finishedWork=null,i.finishedLanes=0,I===i.current)throw Error(n(177));i.callbackNode=null,i.callbackPriority=0;var b=I.lanes|I.childLanes;if(tE(i,b),i===cn&&(tn=cn=null,hn=0),(I.subtreeFlags&2064)===0&&(I.flags&2064)===0||XC||(XC=!0,VG(Ku,function(){return ql(),null})),b=(I.flags&15990)!==0,(I.subtreeFlags&15990)!==0||b){b=Ta.transition,Ta.transition=null;var k=mt;mt=1;var U=st;st|=4,o0.current=null,pX(i,I),CG(I,i),KE(my),Pu=!!py,my=py=null,i.current=I,mX(I),zv(),st=U,mt=k,Ta.transition=b}else i.current=I;if(XC&&(XC=!1,dr=i,JC=m),b=i.pendingLanes,b===0&&(gr=null),Ov(I.stateNode),ta(i,Dt()),o!==null)for(C=i.onRecoverableError,I=0;I<o.length;I++)m=o[I],C(m.value,{componentStack:m.stack,digest:m.digest});if(EC)throw EC=!1,i=g0,g0=null,i;return(JC&1)!==0&&i.tag!==0&&ql(),b=i.pendingLanes,(b&1)!==0?i===d0?Vd++:(Vd=0,d0=i):Vd=0,rr(),null}function ql(){if(dr!==null){var i=I5(JC),o=Ta.transition,I=mt;try{if(Ta.transition=null,mt=16>i?16:i,dr===null)var C=!1;else{if(i=dr,dr=null,JC=0,(st&6)!==0)throw Error(n(331));var m=st;for(st|=4,we=i.current;we!==null;){var b=we,k=b.child;if((we.flags&16)!==0){var U=b.deletions;if(U!==null){for(var L=0;L<U.length;L++){var ie=U[L];for(we=ie;we!==null;){var Ae=we;switch(Ae.tag){case 0:case 11:case 15:Sd(8,Ae,b)}var he=Ae.child;if(he!==null)he.return=Ae,we=he;else for(;we!==null;){Ae=we;var me=Ae.sibling,Se=Ae.return;if(cG(Ae),Ae===ie){we=null;break}if(me!==null){me.return=Se,we=me;break}we=Se}}}var Re=b.alternate;if(Re!==null){var We=Re.child;if(We!==null){Re.child=null;do{var Lt=We.sibling;We.sibling=null,We=Lt}while(We!==null)}}we=b}}if((b.subtreeFlags&2064)!==0&&k!==null)k.return=b,we=k;else e:for(;we!==null;){if(b=we,(b.flags&2048)!==0)switch(b.tag){case 0:case 11:case 15:Sd(9,b,b.return)}var ee=b.sibling;if(ee!==null){ee.return=b.return,we=ee;break e}we=b.return}}var O=i.current;for(we=O;we!==null;){k=we;var ne=k.child;if((k.subtreeFlags&2064)!==0&&ne!==null)ne.return=k,we=ne;else e:for(k=O;we!==null;){if(U=we,(U.flags&2048)!==0)try{switch(U.tag){case 0:case 11:case 15:RC(9,U)}}catch(Xe){Ht(U,U.return,Xe)}if(U===k){we=null;break e}var fe=U.sibling;if(fe!==null){fe.return=U.return,we=fe;break e}we=U.return}}if(st=m,rr(),ks&&typeof ks.onPostCommitFiberRoot=="function")try{ks.onPostCommitFiberRoot(Mu,i)}catch{}C=!0}return C}finally{mt=I,Ta.transition=o}}return!1}function SG(i,o,I){o=Ol(I,o),o=UZ(i,o,1),i=lr(i,o,1),o=Hn(),i!==null&&($g(i,1,o),ta(i,o))}function Ht(i,o,I){if(i.tag===3)SG(i,i,I);else for(;o!==null;){if(o.tag===3){SG(o,i,I);break}else if(o.tag===1){var C=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof C.componentDidCatch=="function"&&(gr===null||!gr.has(C))){i=Ol(I,i),i=DZ(o,i,1),o=lr(o,i,1),i=Hn(),o!==null&&($g(o,1,i),ta(o,i));break}}o=o.return}}function ZX(i,o,I){var C=i.pingCache;C!==null&&C.delete(o),o=Hn(),i.pingedLanes|=i.suspendedLanes&I,cn===i&&(hn&I)===I&&(rn===4||rn===3&&(hn&130023424)===hn&&500>Dt()-c0?po(i,0):l0|=I),ta(i,o)}function wG(i,o){o===0&&((i.mode&1)===0?o=1:(o=Du,Du<<=1,(Du&130023424)===0&&(Du=4194304)));var I=Hn();i=oi(i,o),i!==null&&($g(i,o,I),ta(i,I))}function GX(i){var o=i.memoizedState,I=0;o!==null&&(I=o.retryLane),wG(i,I)}function BX(i,o){var I=0;switch(i.tag){case 13:var C=i.stateNode,m=i.memoizedState;m!==null&&(I=m.retryLane);break;case 19:C=i.stateNode;break;default:throw Error(n(314))}C!==null&&C.delete(o),wG(i,I)}var kG;kG=function(i,o,I){if(i!==null)if(i.memoizedProps!==o.pendingProps||_n.current)qn=!0;else{if((i.lanes&I)===0&&(o.flags&128)===0)return qn=!1,dX(i,o,I);qn=(i.flags&131072)!==0}else qn=!1,Wt&&(o.flags&1048576)!==0&&rZ(o,IC,o.index);switch(o.lanes=0,o.tag){case 2:var C=o.type;kC(i,o),i=o.pendingProps;var m=Kl(o,kn.current);Ql(o,I),m=Fy(null,o,C,i,m,I);var b=Ky();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,$n(C)?(b=!0,cC(o)):b=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Xy(o),m.updater=SC,o.stateNode=m,m._reactInternals=o,Qy(o,C,i,I),o=_y(null,o,C,!0,b,I)):(o.tag=0,Wt&&b&&Gy(o),Nn(null,o,m,I),o=o.child),o;case 16:C=o.elementType;e:{switch(kC(i,o),i=o.pendingProps,m=C._init,C=m(C._payload),o.type=C,m=o.tag=wX(C),i=rs(C,i),m){case 0:o=jy(null,o,C,i,I);break e;case 1:o=qZ(null,o,C,i,I);break e;case 11:o=PZ(null,o,C,i,I);break e;case 14:o=OZ(null,o,C,rs(C.type,i),I);break e}throw Error(n(306,C,""))}return o;case 0:return C=o.type,m=o.pendingProps,m=o.elementType===C?m:rs(C,m),jy(i,o,C,m,I);case 1:return C=o.type,m=o.pendingProps,m=o.elementType===C?m:rs(C,m),qZ(i,o,C,m,I);case 3:e:{if(eG(o),i===null)throw Error(n(387));C=o.pendingProps,b=o.memoizedState,m=b.element,pZ(i,o),yC(o,C,null,I);var k=o.memoizedState;if(C=k.element,b.isDehydrated)if(b={element:C,isDehydrated:!1,cache:k.cache,pendingSuspenseBoundaries:k.pendingSuspenseBoundaries,transitions:k.transitions},o.updateQueue.baseState=b,o.memoizedState=b,o.flags&256){m=Ol(Error(n(423)),o),o=tG(i,o,C,I,m);break e}else if(C!==m){m=Ol(Error(n(424)),o),o=tG(i,o,C,I,m);break e}else for(ha=ar(o.stateNode.containerInfo.firstChild),ba=o,Wt=!0,is=null,I=uZ(o,null,C,I),o.child=I;I;)I.flags=I.flags&-3|4096,I=I.sibling;else{if(Dl(),C===m){o=ci(i,o,I);break e}Nn(i,o,C,I)}o=o.child}return o;case 5:return yZ(o),i===null&&wy(o),C=o.type,m=o.pendingProps,b=i!==null?i.memoizedProps:null,k=m.children,Ay(C,m)?k=null:b!==null&&Ay(C,b)&&(o.flags|=32),$Z(i,o),Nn(i,o,k,I),o.child;case 6:return i===null&&wy(o),null;case 13:return nG(i,o,I);case 4:return Jy(o,o.stateNode.containerInfo),C=o.pendingProps,i===null?o.child=Ll(o,null,C,I):Nn(i,o,C,I),o.child;case 11:return C=o.type,m=o.pendingProps,m=o.elementType===C?m:rs(C,m),PZ(i,o,C,m,I);case 7:return Nn(i,o,o.pendingProps,I),o.child;case 8:return Nn(i,o,o.pendingProps.children,I),o.child;case 12:return Nn(i,o,o.pendingProps.children,I),o.child;case 10:e:{if(C=o.type._context,m=o.pendingProps,b=o.memoizedProps,k=m.value,Gt(pC,C._currentValue),C._currentValue=k,b!==null)if(ss(b.value,k)){if(b.children===m.children&&!_n.current){o=ci(i,o,I);break e}}else for(b=o.child,b!==null&&(b.return=o);b!==null;){var U=b.dependencies;if(U!==null){k=b.child;for(var L=U.firstContext;L!==null;){if(L.context===C){if(b.tag===1){L=li(-1,I&-I),L.tag=2;var ie=b.updateQueue;if(ie!==null){ie=ie.shared;var Ae=ie.pending;Ae===null?L.next=L:(L.next=Ae.next,Ae.next=L),ie.pending=L}}b.lanes|=I,L=b.alternate,L!==null&&(L.lanes|=I),vy(b.return,I,o),U.lanes|=I;break}L=L.next}}else if(b.tag===10)k=b.type===o.type?null:b.child;else if(b.tag===18){if(k=b.return,k===null)throw Error(n(341));k.lanes|=I,U=k.alternate,U!==null&&(U.lanes|=I),vy(k,I,o),k=b.sibling}else k=b.child;if(k!==null)k.return=b;else for(k=b;k!==null;){if(k===o){k=null;break}if(b=k.sibling,b!==null){b.return=k.return,k=b;break}k=k.return}b=k}Nn(i,o,m.children,I),o=o.child}return o;case 9:return m=o.type,C=o.pendingProps.children,Ql(o,I),m=Na(m),C=C(m),o.flags|=1,Nn(i,o,C,I),o.child;case 14:return C=o.type,m=rs(C,o.pendingProps),m=rs(C.type,m),OZ(i,o,C,m,I);case 15:return jZ(i,o,o.type,o.pendingProps,I);case 17:return C=o.type,m=o.pendingProps,m=o.elementType===C?m:rs(C,m),kC(i,o),o.tag=1,$n(C)?(i=!0,cC(o)):i=!1,Ql(o,I),KZ(o,C,m),Qy(o,C,m,I),_y(null,o,C,!0,i,I);case 19:return sG(i,o,I);case 22:return _Z(i,o,I)}throw Error(n(156,o.tag))};function VG(i,o){return o5(i,o)}function SX(i,o,I,C){this.tag=i,this.key=I,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=C,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ya(i,o,I,C){return new SX(i,o,I,C)}function A0(i){return i=i.prototype,!(!i||!i.isReactComponent)}function wX(i){if(typeof i=="function")return A0(i)?1:0;if(i!=null){if(i=i.$$typeof,i===pe)return 11;if(i===S)return 14}return 2}function Cr(i,o){var I=i.alternate;return I===null?(I=Ya(i.tag,o,i.key,i.mode),I.elementType=i.elementType,I.type=i.type,I.stateNode=i.stateNode,I.alternate=i,i.alternate=I):(I.pendingProps=o,I.type=i.type,I.flags=0,I.subtreeFlags=0,I.deletions=null),I.flags=i.flags&14680064,I.childLanes=i.childLanes,I.lanes=i.lanes,I.child=i.child,I.memoizedProps=i.memoizedProps,I.memoizedState=i.memoizedState,I.updateQueue=i.updateQueue,o=i.dependencies,I.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},I.sibling=i.sibling,I.index=i.index,I.ref=i.ref,I}function TC(i,o,I,C,m,b){var k=2;if(C=i,typeof i=="function")A0(i)&&(k=1);else if(typeof i=="string")k=5;else e:switch(i){case P:return Ao(I.children,m,b,o);case _:k=8,m|=8;break;case re:return i=Ya(12,I,o,m|2),i.elementType=re,i.lanes=b,i;case ue:return i=Ya(13,I,o,m),i.elementType=ue,i.lanes=b,i;case M:return i=Ya(19,I,o,m),i.elementType=M,i.lanes=b,i;case N:return YC(I,m,b,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case ce:k=10;break e;case ae:k=9;break e;case pe:k=11;break e;case S:k=14;break e;case E:k=16,C=null;break e}throw Error(n(130,i==null?i:typeof i,""))}return o=Ya(k,I,o,m),o.elementType=i,o.type=C,o.lanes=b,o}function Ao(i,o,I,C){return i=Ya(7,i,C,o),i.lanes=I,i}function YC(i,o,I,C){return i=Ya(22,i,C,o),i.elementType=N,i.lanes=I,i.stateNode={isHidden:!1},i}function y0(i,o,I){return i=Ya(6,i,null,o),i.lanes=I,i}function b0(i,o,I){return o=Ya(4,i.children!==null?i.children:[],i.key,o),o.lanes=I,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function kX(i,o,I,C,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zA(0),this.expirationTimes=zA(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zA(0),this.identifierPrefix=C,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function h0(i,o,I,C,m,b,k,U,L){return i=new kX(i,o,I,U,L),o===1?(o=1,b===!0&&(o|=8)):o=0,b=Ya(3,null,null,o),i.current=b,b.stateNode=i,b.memoizedState={element:C,isDehydrated:I,cache:null,transitions:null,pendingSuspenseBoundaries:null},Xy(b),i}function VX(i,o,I){var C=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Q,key:C==null?null:""+C,children:i,containerInfo:o,implementation:I}}function RG(i){if(!i)return ir;i=i._reactInternals;e:{if(so(i)!==i||i.tag!==1)throw Error(n(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if($n(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(i.tag===1){var I=i.type;if($n(I))return aZ(i,I,o)}return o}function WG(i,o,I,C,m,b,k,U,L){return i=h0(I,C,!0,i,m,b,k,U,L),i.context=RG(null),I=i.current,C=Hn(),m=Ir(I),b=li(C,m),b.callback=o??null,lr(I,b,m),i.current.lanes=m,$g(i,m,C),ta(i,C),i}function FC(i,o,I,C){var m=o.current,b=Hn(),k=Ir(m);return I=RG(I),o.context===null?o.context=I:o.pendingContext=I,o=li(b,k),o.payload={element:i},C=C===void 0?null:C,C!==null&&(o.callback=C),i=lr(m,o,k),i!==null&&(cs(i,m,k,b),AC(i,m,k)),k}function KC(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function vG(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var I=i.retryLane;i.retryLane=I!==0&&I<o?I:o}}function f0(i,o){vG(i,o),(i=i.alternate)&&vG(i,o)}function RX(){return null}var EG=typeof reportError=="function"?reportError:function(i){console.error(i)};function Z0(i){this._internalRoot=i}MC.prototype.render=Z0.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(n(409));FC(i,o,null,null)},MC.prototype.unmount=Z0.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Co(function(){FC(null,i,null,null)}),o[ai]=null}};function MC(i){this._internalRoot=i}MC.prototype.unstable_scheduleHydration=function(i){if(i){var o=p5();i={blockedOn:null,target:i,priority:o};for(var I=0;I<er.length&&o!==0&&o<er[I].priority;I++);er.splice(I,0,i),I===0&&y5(i)}};function G0(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function UC(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function XG(){}function WX(i,o,I,C,m){if(m){if(typeof C=="function"){var b=C;C=function(){var ie=KC(k);b.call(ie)}}var k=WG(o,C,i,0,null,!1,!1,"",XG);return i._reactRootContainer=k,i[ai]=k.current,Id(i.nodeType===8?i.parentNode:i),Co(),k}for(;m=i.lastChild;)i.removeChild(m);if(typeof C=="function"){var U=C;C=function(){var ie=KC(L);U.call(ie)}}var L=h0(i,0,!1,null,null,!1,!1,"",XG);return i._reactRootContainer=L,i[ai]=L.current,Id(i.nodeType===8?i.parentNode:i),Co(function(){FC(o,L,I,C)}),L}function DC(i,o,I,C,m){var b=I._reactRootContainer;if(b){var k=b;if(typeof m=="function"){var U=m;m=function(){var L=KC(k);U.call(L)}}FC(o,k,i,m)}else k=WX(I,o,i,m,C);return KC(k)}u5=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var I=_g(o.pendingLanes);I!==0&&(QA(o,I|1),ta(o,Dt()),(st&6)===0&&($l=Dt()+500,rr()))}break;case 13:Co(function(){var C=oi(i,1);if(C!==null){var m=Hn();cs(C,i,1,m)}}),f0(i,1)}},PA=function(i){if(i.tag===13){var o=oi(i,134217728);if(o!==null){var I=Hn();cs(o,i,134217728,I)}f0(i,134217728)}},C5=function(i){if(i.tag===13){var o=Ir(i),I=oi(i,o);if(I!==null){var C=Hn();cs(I,i,o,C)}f0(i,o)}},p5=function(){return mt},m5=function(i,o){var I=mt;try{return mt=i,o()}finally{mt=I}},Zt=function(i,o,I){switch(o){case"input":if(ns(i,I),o=I.name,I.type==="radio"&&o!=null){for(I=i;I.parentNode;)I=I.parentNode;for(I=I.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<I.length;o++){var C=I[o];if(C!==i&&C.form===i.form){var m=oC(C);if(!m)throw Error(n(90));Nt(C),ns(C,m)}}}break;case"textarea":qt(i,I);break;case"select":o=I.value,o!=null&&Fe(i,!!I.multiple,o,!1)}},e5=C0,t5=Co;var vX={usingClientEntryPoint:!1,Events:[pd,Yl,oC,$2,q2,C0]},Rd={findFiberByHostInstance:io,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EX={bundleType:Rd.bundleType,version:Rd.version,rendererPackageName:Rd.rendererPackageName,rendererConfig:Rd.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Y.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=i5(i),i===null?null:i.stateNode},findFiberByHostInstance:Rd.findFiberByHostInstance||RX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var LC=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!LC.isDisabled&&LC.supportsFiber)try{Mu=LC.inject(EX),ks=LC}catch{}}return na.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vX,na.createPortal=function(i,o){var I=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!G0(o))throw Error(n(200));return VX(i,o,null,I)},na.createRoot=function(i,o){if(!G0(i))throw Error(n(299));var I=!1,C="",m=EG;return o!=null&&(o.unstable_strictMode===!0&&(I=!0),o.identifierPrefix!==void 0&&(C=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=h0(i,1,!1,null,null,I,!1,C,m),i[ai]=o.current,Id(i.nodeType===8?i.parentNode:i),new Z0(o)},na.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(n(188)):(i=Object.keys(i).join(","),Error(n(268,i)));return i=i5(o),i=i===null?null:i.stateNode,i},na.flushSync=function(i){return Co(i)},na.hydrate=function(i,o,I){if(!UC(o))throw Error(n(200));return DC(null,i,o,!0,I)},na.hydrateRoot=function(i,o,I){if(!G0(i))throw Error(n(405));var C=I!=null&&I.hydratedSources||null,m=!1,b="",k=EG;if(I!=null&&(I.unstable_strictMode===!0&&(m=!0),I.identifierPrefix!==void 0&&(b=I.identifierPrefix),I.onRecoverableError!==void 0&&(k=I.onRecoverableError)),o=WG(o,null,i,1,I??null,m,!1,b,k),i[ai]=o.current,Id(i),C)for(i=0;i<C.length;i++)I=C[i],m=I._getVersion,m=m(I._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[I,m]:o.mutableSourceEagerHydrationData.push(I,m);return new MC(o)},na.render=function(i,o,I){if(!UC(o))throw Error(n(200));return DC(null,i,o,!1,I)},na.unmountComponentAtNode=function(i){if(!UC(i))throw Error(n(40));return i._reactRootContainer?(Co(function(){DC(null,null,i,!1,function(){i._reactRootContainer=null,i[ai]=null})}),!0):!1},na.unstable_batchedUpdates=C0,na.unstable_renderSubtreeIntoContainer=function(i,o,I,C){if(!UC(I))throw Error(n(200));if(i==null||i._reactInternals===void 0)throw Error(n(38));return DC(i,o,I,!1,C)},na.version="18.3.1-next-f1338f8080-20240426",na}var MG;function UX(){if(MG)return k0.exports;MG=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),k0.exports=MX(),k0.exports}var UG;function DX(){if(UG)return zC;UG=1;var t=UX();return zC.createRoot=t.createRoot,zC.hydrateRoot=t.hydrateRoot,zC}var LX=DX(),Q1={},Nm={};Nm.byteLength=PX;Nm.toByteArray=jX;Nm.fromByteArray=qX;var Ds=[],Da=[],zX=typeof Uint8Array<"u"?Uint8Array:Array,W0="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var ec=0,QX=W0.length;ec<QX;++ec)Ds[ec]=W0[ec],Da[W0.charCodeAt(ec)]=ec;Da[45]=62;Da[95]=63;function gk(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");n===-1&&(n=e);var a=n===e?0:4-n%4;return[n,a]}function PX(t){var e=gk(t),n=e[0],a=e[1];return(n+a)*3/4-a}function OX(t,e,n){return(e+n)*3/4-n}function jX(t){var e,n=gk(t),a=n[0],s=n[1],r=new zX(OX(t,a,s)),l=0,g=s>0?a-4:a,c;for(c=0;c<g;c+=4)e=Da[t.charCodeAt(c)]<<18|Da[t.charCodeAt(c+1)]<<12|Da[t.charCodeAt(c+2)]<<6|Da[t.charCodeAt(c+3)],r[l++]=e>>16&255,r[l++]=e>>8&255,r[l++]=e&255;return s===2&&(e=Da[t.charCodeAt(c)]<<2|Da[t.charCodeAt(c+1)]>>4,r[l++]=e&255),s===1&&(e=Da[t.charCodeAt(c)]<<10|Da[t.charCodeAt(c+1)]<<4|Da[t.charCodeAt(c+2)]>>2,r[l++]=e>>8&255,r[l++]=e&255),r}function _X(t){return Ds[t>>18&63]+Ds[t>>12&63]+Ds[t>>6&63]+Ds[t&63]}function $X(t,e,n){for(var a,s=[],r=e;r<n;r+=3)a=(t[r]<<16&16711680)+(t[r+1]<<8&65280)+(t[r+2]&255),s.push(_X(a));return s.join("")}function qX(t){for(var e,n=t.length,a=n%3,s=[],r=16383,l=0,g=n-a;l<g;l+=r)s.push($X(t,l,l+r>g?g:l+r));return a===1?(e=t[n-1],s.push(Ds[e>>2]+Ds[e<<4&63]+"==")):a===2&&(e=(t[n-2]<<8)+t[n-1],s.push(Ds[e>>10]+Ds[e>>4&63]+Ds[e<<2&63]+"=")),s.join("")}var P1={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */P1.read=function(t,e,n,a,s){var r,l,g=s*8-a-1,c=(1<<g)-1,u=c>>1,d=-7,p=n?s-1:0,A=n?-1:1,G=t[e+p];for(p+=A,r=G&(1<<-d)-1,G>>=-d,d+=g;d>0;r=r*256+t[e+p],p+=A,d-=8);for(l=r&(1<<-d)-1,r>>=-d,d+=a;d>0;l=l*256+t[e+p],p+=A,d-=8);if(r===0)r=1-u;else{if(r===c)return l?NaN:(G?-1:1)*(1/0);l=l+Math.pow(2,a),r=r-u}return(G?-1:1)*l*Math.pow(2,r-a)};P1.write=function(t,e,n,a,s,r){var l,g,c,u=r*8-s-1,d=(1<<u)-1,p=d>>1,A=s===23?Math.pow(2,-24)-Math.pow(2,-77):0,G=a?0:r-1,w=a?1:-1,Z=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(g=isNaN(e)?1:0,l=d):(l=Math.floor(Math.log(e)/Math.LN2),e*(c=Math.pow(2,-l))<1&&(l--,c*=2),l+p>=1?e+=A/c:e+=A*Math.pow(2,1-p),e*c>=2&&(l++,c/=2),l+p>=d?(g=0,l=d):l+p>=1?(g=(e*c-1)*Math.pow(2,s),l=l+p):(g=e*Math.pow(2,p-1)*Math.pow(2,s),l=0));s>=8;t[n+G]=g&255,G+=w,g/=256,s-=8);for(l=l<<s|g,u+=s;u>0;t[n+G]=l&255,G+=w,l/=256,u-=8);t[n+G-w]|=Z*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(t){const e=Nm,n=P1,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=d,t.SlowBuffer=z,t.INSPECT_MAX_BYTES=50;const s=2147483647;t.kMaxLength=s;const{Uint8Array:r,ArrayBuffer:l,SharedArrayBuffer:g}=globalThis;d.TYPED_ARRAY_SUPPORT=c(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const v=new r(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,r.prototype),Object.setPrototypeOf(v,f),v.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function u(v){if(v>s)throw new RangeError('The value "'+v+'" is invalid for option "size"');const f=new r(v);return Object.setPrototypeOf(f,d.prototype),f}function d(v,f,B){if(typeof v=="number"){if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return w(v)}return p(v,f,B)}d.poolSize=8192;function p(v,f,B){if(typeof v=="string")return Z(v,f);if(l.isView(v))return W(v);if(v==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v);if(en(v,l)||v&&en(v.buffer,l)||typeof g<"u"&&(en(v,g)||v&&en(v.buffer,g)))return D(v,f,B);if(typeof v=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const F=v.valueOf&&v.valueOf();if(F!=null&&F!==v)return d.from(F,f,B);const j=x(v);if(j)return j;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof v[Symbol.toPrimitive]=="function")return d.from(v[Symbol.toPrimitive]("string"),f,B);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof v)}d.from=function(v,f,B){return p(v,f,B)},Object.setPrototypeOf(d.prototype,r.prototype),Object.setPrototypeOf(d,r);function A(v){if(typeof v!="number")throw new TypeError('"size" argument must be of type number');if(v<0)throw new RangeError('The value "'+v+'" is invalid for option "size"')}function G(v,f,B){return A(v),v<=0?u(v):f!==void 0?typeof B=="string"?u(v).fill(f,B):u(v).fill(f):u(v)}d.alloc=function(v,f,B){return G(v,f,B)};function w(v){return A(v),u(v<0?0:Y(v)|0)}d.allocUnsafe=function(v){return w(v)},d.allocUnsafeSlow=function(v){return w(v)};function Z(v,f){if((typeof f!="string"||f==="")&&(f="utf8"),!d.isEncoding(f))throw new TypeError("Unknown encoding: "+f);const B=Q(v,f)|0;let F=u(B);const j=F.write(v,f);return j!==B&&(F=F.slice(0,j)),F}function V(v){const f=v.length<0?0:Y(v.length)|0,B=u(f);for(let F=0;F<f;F+=1)B[F]=v[F]&255;return B}function W(v){if(en(v,r)){const f=new r(v);return D(f.buffer,f.byteOffset,f.byteLength)}return V(v)}function D(v,f,B){if(f<0||v.byteLength<f)throw new RangeError('"offset" is outside of buffer bounds');if(v.byteLength<f+(B||0))throw new RangeError('"length" is outside of buffer bounds');let F;return f===void 0&&B===void 0?F=new r(v):B===void 0?F=new r(v,f):F=new r(v,f,B),Object.setPrototypeOf(F,d.prototype),F}function x(v){if(d.isBuffer(v)){const f=Y(v.length)|0,B=u(f);return B.length===0||v.copy(B,0,0,f),B}if(v.length!==void 0)return typeof v.length!="number"||Oi(v.length)?u(0):V(v);if(v.type==="Buffer"&&Array.isArray(v.data))return V(v.data)}function Y(v){if(v>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return v|0}function z(v){return+v!=v&&(v=0),d.alloc(+v)}d.isBuffer=function(f){return f!=null&&f._isBuffer===!0&&f!==d.prototype},d.compare=function(f,B){if(en(f,r)&&(f=d.from(f,f.offset,f.byteLength)),en(B,r)&&(B=d.from(B,B.offset,B.byteLength)),!d.isBuffer(f)||!d.isBuffer(B))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(f===B)return 0;let F=f.length,j=B.length;for(let oe=0,Ce=Math.min(F,j);oe<Ce;++oe)if(f[oe]!==B[oe]){F=f[oe],j=B[oe];break}return F<j?-1:j<F?1:0},d.isEncoding=function(f){switch(String(f).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(f,B){if(!Array.isArray(f))throw new TypeError('"list" argument must be an Array of Buffers');if(f.length===0)return d.alloc(0);let F;if(B===void 0)for(B=0,F=0;F<f.length;++F)B+=f[F].length;const j=d.allocUnsafe(B);let oe=0;for(F=0;F<f.length;++F){let Ce=f[F];if(en(Ce,r))oe+Ce.length>j.length?(d.isBuffer(Ce)||(Ce=d.from(Ce)),Ce.copy(j,oe)):r.prototype.set.call(j,Ce,oe);else if(d.isBuffer(Ce))Ce.copy(j,oe);else throw new TypeError('"list" argument must be an Array of Buffers');oe+=Ce.length}return j};function Q(v,f){if(d.isBuffer(v))return v.length;if(l.isView(v)||en(v,l))return v.byteLength;if(typeof v!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof v);const B=v.length,F=arguments.length>2&&arguments[2]===!0;if(!F&&B===0)return 0;let j=!1;for(;;)switch(f){case"ascii":case"latin1":case"binary":return B;case"utf8":case"utf-8":return Qe(v).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B*2;case"hex":return B>>>1;case"base64":return Rt(v).length;default:if(j)return F?-1:Qe(v).length;f=(""+f).toLowerCase(),j=!0}}d.byteLength=Q;function P(v,f,B){let F=!1;if((f===void 0||f<0)&&(f=0),f>this.length||((B===void 0||B>this.length)&&(B=this.length),B<=0)||(B>>>=0,f>>>=0,B<=f))return"";for(v||(v="utf8");;)switch(v){case"hex":return K(this,f,B);case"utf8":case"utf-8":return N(this,f,B);case"ascii":return T(this,f,B);case"latin1":case"binary":return J(this,f,B);case"base64":return E(this,f,B);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,f,B);default:if(F)throw new TypeError("Unknown encoding: "+v);v=(v+"").toLowerCase(),F=!0}}d.prototype._isBuffer=!0;function _(v,f,B){const F=v[f];v[f]=v[B],v[B]=F}d.prototype.swap16=function(){const f=this.length;if(f%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let B=0;B<f;B+=2)_(this,B,B+1);return this},d.prototype.swap32=function(){const f=this.length;if(f%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let B=0;B<f;B+=4)_(this,B,B+3),_(this,B+1,B+2);return this},d.prototype.swap64=function(){const f=this.length;if(f%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let B=0;B<f;B+=8)_(this,B,B+7),_(this,B+1,B+6),_(this,B+2,B+5),_(this,B+3,B+4);return this},d.prototype.toString=function(){const f=this.length;return f===0?"":arguments.length===0?N(this,0,f):P.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(f){if(!d.isBuffer(f))throw new TypeError("Argument must be a Buffer");return this===f?!0:d.compare(this,f)===0},d.prototype.inspect=function(){let f="";const B=t.INSPECT_MAX_BYTES;return f=this.toString("hex",0,B).replace(/(.{2})/g,"$1 ").trim(),this.length>B&&(f+=" ... "),"<Buffer "+f+">"},a&&(d.prototype[a]=d.prototype.inspect),d.prototype.compare=function(f,B,F,j,oe){if(en(f,r)&&(f=d.from(f,f.offset,f.byteLength)),!d.isBuffer(f))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof f);if(B===void 0&&(B=0),F===void 0&&(F=f?f.length:0),j===void 0&&(j=0),oe===void 0&&(oe=this.length),B<0||F>f.length||j<0||oe>this.length)throw new RangeError("out of range index");if(j>=oe&&B>=F)return 0;if(j>=oe)return-1;if(B>=F)return 1;if(B>>>=0,F>>>=0,j>>>=0,oe>>>=0,this===f)return 0;let Ce=oe-j,Pe=F-B;const ft=Math.min(Ce,Pe),At=this.slice(j,oe),Zt=f.slice(B,F);for(let tt=0;tt<ft;++tt)if(At[tt]!==Zt[tt]){Ce=At[tt],Pe=Zt[tt];break}return Ce<Pe?-1:Pe<Ce?1:0};function re(v,f,B,F,j){if(v.length===0)return-1;if(typeof B=="string"?(F=B,B=0):B>2147483647?B=2147483647:B<-2147483648&&(B=-2147483648),B=+B,Oi(B)&&(B=j?0:v.length-1),B<0&&(B=v.length+B),B>=v.length){if(j)return-1;B=v.length-1}else if(B<0)if(j)B=0;else return-1;if(typeof f=="string"&&(f=d.from(f,F)),d.isBuffer(f))return f.length===0?-1:ce(v,f,B,F,j);if(typeof f=="number")return f=f&255,typeof r.prototype.indexOf=="function"?j?r.prototype.indexOf.call(v,f,B):r.prototype.lastIndexOf.call(v,f,B):ce(v,[f],B,F,j);throw new TypeError("val must be string, number or Buffer")}function ce(v,f,B,F,j){let oe=1,Ce=v.length,Pe=f.length;if(F!==void 0&&(F=String(F).toLowerCase(),F==="ucs2"||F==="ucs-2"||F==="utf16le"||F==="utf-16le")){if(v.length<2||f.length<2)return-1;oe=2,Ce/=2,Pe/=2,B/=2}function ft(Zt,tt){return oe===1?Zt[tt]:Zt.readUInt16BE(tt*oe)}let At;if(j){let Zt=-1;for(At=B;At<Ce;At++)if(ft(v,At)===ft(f,Zt===-1?0:At-Zt)){if(Zt===-1&&(Zt=At),At-Zt+1===Pe)return Zt*oe}else Zt!==-1&&(At-=At-Zt),Zt=-1}else for(B+Pe>Ce&&(B=Ce-Pe),At=B;At>=0;At--){let Zt=!0;for(let tt=0;tt<Pe;tt++)if(ft(v,At+tt)!==ft(f,tt)){Zt=!1;break}if(Zt)return At}return-1}d.prototype.includes=function(f,B,F){return this.indexOf(f,B,F)!==-1},d.prototype.indexOf=function(f,B,F){return re(this,f,B,F,!0)},d.prototype.lastIndexOf=function(f,B,F){return re(this,f,B,F,!1)};function ae(v,f,B,F){B=Number(B)||0;const j=v.length-B;F?(F=Number(F),F>j&&(F=j)):F=j;const oe=f.length;F>oe/2&&(F=oe/2);let Ce;for(Ce=0;Ce<F;++Ce){const Pe=parseInt(f.substr(Ce*2,2),16);if(Oi(Pe))return Ce;v[B+Ce]=Pe}return Ce}function pe(v,f,B,F){return qt(Qe(f,v.length-B),v,B,F)}function ue(v,f,B,F){return qt(Fe(f),v,B,F)}function M(v,f,B,F){return qt(Rt(f),v,B,F)}function S(v,f,B,F){return qt(pt(f,v.length-B),v,B,F)}d.prototype.write=function(f,B,F,j){if(B===void 0)j="utf8",F=this.length,B=0;else if(F===void 0&&typeof B=="string")j=B,F=this.length,B=0;else if(isFinite(B))B=B>>>0,isFinite(F)?(F=F>>>0,j===void 0&&(j="utf8")):(j=F,F=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const oe=this.length-B;if((F===void 0||F>oe)&&(F=oe),f.length>0&&(F<0||B<0)||B>this.length)throw new RangeError("Attempt to write outside buffer bounds");j||(j="utf8");let Ce=!1;for(;;)switch(j){case"hex":return ae(this,f,B,F);case"utf8":case"utf-8":return pe(this,f,B,F);case"ascii":case"latin1":case"binary":return ue(this,f,B,F);case"base64":return M(this,f,B,F);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,f,B,F);default:if(Ce)throw new TypeError("Unknown encoding: "+j);j=(""+j).toLowerCase(),Ce=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function E(v,f,B){return f===0&&B===v.length?e.fromByteArray(v):e.fromByteArray(v.slice(f,B))}function N(v,f,B){B=Math.min(v.length,B);const F=[];let j=f;for(;j<B;){const oe=v[j];let Ce=null,Pe=oe>239?4:oe>223?3:oe>191?2:1;if(j+Pe<=B){let ft,At,Zt,tt;switch(Pe){case 1:oe<128&&(Ce=oe);break;case 2:ft=v[j+1],(ft&192)===128&&(tt=(oe&31)<<6|ft&63,tt>127&&(Ce=tt));break;case 3:ft=v[j+1],At=v[j+2],(ft&192)===128&&(At&192)===128&&(tt=(oe&15)<<12|(ft&63)<<6|At&63,tt>2047&&(tt<55296||tt>57343)&&(Ce=tt));break;case 4:ft=v[j+1],At=v[j+2],Zt=v[j+3],(ft&192)===128&&(At&192)===128&&(Zt&192)===128&&(tt=(oe&15)<<18|(ft&63)<<12|(At&63)<<6|Zt&63,tt>65535&&tt<1114112&&(Ce=tt))}}Ce===null?(Ce=65533,Pe=1):Ce>65535&&(Ce-=65536,F.push(Ce>>>10&1023|55296),Ce=56320|Ce&1023),F.push(Ce),j+=Pe}return R(F)}const X=4096;function R(v){const f=v.length;if(f<=X)return String.fromCharCode.apply(String,v);let B="",F=0;for(;F<f;)B+=String.fromCharCode.apply(String,v.slice(F,F+=X));return B}function T(v,f,B){let F="";B=Math.min(v.length,B);for(let j=f;j<B;++j)F+=String.fromCharCode(v[j]&127);return F}function J(v,f,B){let F="";B=Math.min(v.length,B);for(let j=f;j<B;++j)F+=String.fromCharCode(v[j]);return F}function K(v,f,B){const F=v.length;(!f||f<0)&&(f=0),(!B||B<0||B>F)&&(B=F);let j="";for(let oe=f;oe<B;++oe)j+=ji[v[oe]];return j}function se(v,f,B){const F=v.slice(f,B);let j="";for(let oe=0;oe<F.length-1;oe+=2)j+=String.fromCharCode(F[oe]+F[oe+1]*256);return j}d.prototype.slice=function(f,B){const F=this.length;f=~~f,B=B===void 0?F:~~B,f<0?(f+=F,f<0&&(f=0)):f>F&&(f=F),B<0?(B+=F,B<0&&(B=0)):B>F&&(B=F),B<f&&(B=f);const j=this.subarray(f,B);return Object.setPrototypeOf(j,d.prototype),j};function de(v,f,B){if(v%1!==0||v<0)throw new RangeError("offset is not uint");if(v+f>B)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(f,B,F){f=f>>>0,B=B>>>0,F||de(f,B,this.length);let j=this[f],oe=1,Ce=0;for(;++Ce<B&&(oe*=256);)j+=this[f+Ce]*oe;return j},d.prototype.readUintBE=d.prototype.readUIntBE=function(f,B,F){f=f>>>0,B=B>>>0,F||de(f,B,this.length);let j=this[f+--B],oe=1;for(;B>0&&(oe*=256);)j+=this[f+--B]*oe;return j},d.prototype.readUint8=d.prototype.readUInt8=function(f,B){return f=f>>>0,B||de(f,1,this.length),this[f]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(f,B){return f=f>>>0,B||de(f,2,this.length),this[f]|this[f+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(f,B){return f=f>>>0,B||de(f,2,this.length),this[f]<<8|this[f+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(f,B){return f=f>>>0,B||de(f,4,this.length),(this[f]|this[f+1]<<8|this[f+2]<<16)+this[f+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(f,B){return f=f>>>0,B||de(f,4,this.length),this[f]*16777216+(this[f+1]<<16|this[f+2]<<8|this[f+3])},d.prototype.readBigUInt64LE=an(function(f){f=f>>>0,Ut(f,"offset");const B=this[f],F=this[f+7];(B===void 0||F===void 0)&&ns(f,this.length-8);const j=B+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24,oe=this[++f]+this[++f]*2**8+this[++f]*2**16+F*2**24;return BigInt(j)+(BigInt(oe)<<BigInt(32))}),d.prototype.readBigUInt64BE=an(function(f){f=f>>>0,Ut(f,"offset");const B=this[f],F=this[f+7];(B===void 0||F===void 0)&&ns(f,this.length-8);const j=B*2**24+this[++f]*2**16+this[++f]*2**8+this[++f],oe=this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+F;return(BigInt(j)<<BigInt(32))+BigInt(oe)}),d.prototype.readIntLE=function(f,B,F){f=f>>>0,B=B>>>0,F||de(f,B,this.length);let j=this[f],oe=1,Ce=0;for(;++Ce<B&&(oe*=256);)j+=this[f+Ce]*oe;return oe*=128,j>=oe&&(j-=Math.pow(2,8*B)),j},d.prototype.readIntBE=function(f,B,F){f=f>>>0,B=B>>>0,F||de(f,B,this.length);let j=B,oe=1,Ce=this[f+--j];for(;j>0&&(oe*=256);)Ce+=this[f+--j]*oe;return oe*=128,Ce>=oe&&(Ce-=Math.pow(2,8*B)),Ce},d.prototype.readInt8=function(f,B){return f=f>>>0,B||de(f,1,this.length),this[f]&128?(255-this[f]+1)*-1:this[f]},d.prototype.readInt16LE=function(f,B){f=f>>>0,B||de(f,2,this.length);const F=this[f]|this[f+1]<<8;return F&32768?F|4294901760:F},d.prototype.readInt16BE=function(f,B){f=f>>>0,B||de(f,2,this.length);const F=this[f+1]|this[f]<<8;return F&32768?F|4294901760:F},d.prototype.readInt32LE=function(f,B){return f=f>>>0,B||de(f,4,this.length),this[f]|this[f+1]<<8|this[f+2]<<16|this[f+3]<<24},d.prototype.readInt32BE=function(f,B){return f=f>>>0,B||de(f,4,this.length),this[f]<<24|this[f+1]<<16|this[f+2]<<8|this[f+3]},d.prototype.readBigInt64LE=an(function(f){f=f>>>0,Ut(f,"offset");const B=this[f],F=this[f+7];(B===void 0||F===void 0)&&ns(f,this.length-8);const j=this[f+4]+this[f+5]*2**8+this[f+6]*2**16+(F<<24);return(BigInt(j)<<BigInt(32))+BigInt(B+this[++f]*2**8+this[++f]*2**16+this[++f]*2**24)}),d.prototype.readBigInt64BE=an(function(f){f=f>>>0,Ut(f,"offset");const B=this[f],F=this[f+7];(B===void 0||F===void 0)&&ns(f,this.length-8);const j=(B<<24)+this[++f]*2**16+this[++f]*2**8+this[++f];return(BigInt(j)<<BigInt(32))+BigInt(this[++f]*2**24+this[++f]*2**16+this[++f]*2**8+F)}),d.prototype.readFloatLE=function(f,B){return f=f>>>0,B||de(f,4,this.length),n.read(this,f,!0,23,4)},d.prototype.readFloatBE=function(f,B){return f=f>>>0,B||de(f,4,this.length),n.read(this,f,!1,23,4)},d.prototype.readDoubleLE=function(f,B){return f=f>>>0,B||de(f,8,this.length),n.read(this,f,!0,52,8)},d.prototype.readDoubleBE=function(f,B){return f=f>>>0,B||de(f,8,this.length),n.read(this,f,!1,52,8)};function le(v,f,B,F,j,oe){if(!d.isBuffer(v))throw new TypeError('"buffer" argument must be a Buffer instance');if(f>j||f<oe)throw new RangeError('"value" argument is out of bounds');if(B+F>v.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(f,B,F,j){if(f=+f,B=B>>>0,F=F>>>0,!j){const Pe=Math.pow(2,8*F)-1;le(this,f,B,F,Pe,0)}let oe=1,Ce=0;for(this[B]=f&255;++Ce<F&&(oe*=256);)this[B+Ce]=f/oe&255;return B+F},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(f,B,F,j){if(f=+f,B=B>>>0,F=F>>>0,!j){const Pe=Math.pow(2,8*F)-1;le(this,f,B,F,Pe,0)}let oe=F-1,Ce=1;for(this[B+oe]=f&255;--oe>=0&&(Ce*=256);)this[B+oe]=f/Ce&255;return B+F},d.prototype.writeUint8=d.prototype.writeUInt8=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,1,255,0),this[B]=f&255,B+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,2,65535,0),this[B]=f&255,this[B+1]=f>>>8,B+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,2,65535,0),this[B]=f>>>8,this[B+1]=f&255,B+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,4,4294967295,0),this[B+3]=f>>>24,this[B+2]=f>>>16,this[B+1]=f>>>8,this[B]=f&255,B+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,4,4294967295,0),this[B]=f>>>24,this[B+1]=f>>>16,this[B+2]=f>>>8,this[B+3]=f&255,B+4};function Ze(v,f,B,F,j){wn(f,F,j,v,B,7);let oe=Number(f&BigInt(4294967295));v[B++]=oe,oe=oe>>8,v[B++]=oe,oe=oe>>8,v[B++]=oe,oe=oe>>8,v[B++]=oe;let Ce=Number(f>>BigInt(32)&BigInt(4294967295));return v[B++]=Ce,Ce=Ce>>8,v[B++]=Ce,Ce=Ce>>8,v[B++]=Ce,Ce=Ce>>8,v[B++]=Ce,B}function Ne(v,f,B,F,j){wn(f,F,j,v,B,7);let oe=Number(f&BigInt(4294967295));v[B+7]=oe,oe=oe>>8,v[B+6]=oe,oe=oe>>8,v[B+5]=oe,oe=oe>>8,v[B+4]=oe;let Ce=Number(f>>BigInt(32)&BigInt(4294967295));return v[B+3]=Ce,Ce=Ce>>8,v[B+2]=Ce,Ce=Ce>>8,v[B+1]=Ce,Ce=Ce>>8,v[B]=Ce,B+8}d.prototype.writeBigUInt64LE=an(function(f,B=0){return Ze(this,f,B,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=an(function(f,B=0){return Ne(this,f,B,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(f,B,F,j){if(f=+f,B=B>>>0,!j){const ft=Math.pow(2,8*F-1);le(this,f,B,F,ft-1,-ft)}let oe=0,Ce=1,Pe=0;for(this[B]=f&255;++oe<F&&(Ce*=256);)f<0&&Pe===0&&this[B+oe-1]!==0&&(Pe=1),this[B+oe]=(f/Ce>>0)-Pe&255;return B+F},d.prototype.writeIntBE=function(f,B,F,j){if(f=+f,B=B>>>0,!j){const ft=Math.pow(2,8*F-1);le(this,f,B,F,ft-1,-ft)}let oe=F-1,Ce=1,Pe=0;for(this[B+oe]=f&255;--oe>=0&&(Ce*=256);)f<0&&Pe===0&&this[B+oe+1]!==0&&(Pe=1),this[B+oe]=(f/Ce>>0)-Pe&255;return B+F},d.prototype.writeInt8=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,1,127,-128),f<0&&(f=255+f+1),this[B]=f&255,B+1},d.prototype.writeInt16LE=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,2,32767,-32768),this[B]=f&255,this[B+1]=f>>>8,B+2},d.prototype.writeInt16BE=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,2,32767,-32768),this[B]=f>>>8,this[B+1]=f&255,B+2},d.prototype.writeInt32LE=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,4,2147483647,-2147483648),this[B]=f&255,this[B+1]=f>>>8,this[B+2]=f>>>16,this[B+3]=f>>>24,B+4},d.prototype.writeInt32BE=function(f,B,F){return f=+f,B=B>>>0,F||le(this,f,B,4,2147483647,-2147483648),f<0&&(f=4294967295+f+1),this[B]=f>>>24,this[B+1]=f>>>16,this[B+2]=f>>>8,this[B+3]=f&255,B+4},d.prototype.writeBigInt64LE=an(function(f,B=0){return Ze(this,f,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=an(function(f,B=0){return Ne(this,f,B,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function ze(v,f,B,F,j,oe){if(B+F>v.length)throw new RangeError("Index out of range");if(B<0)throw new RangeError("Index out of range")}function Me(v,f,B,F,j){return f=+f,B=B>>>0,j||ze(v,f,B,4),n.write(v,f,B,F,23,4),B+4}d.prototype.writeFloatLE=function(f,B,F){return Me(this,f,B,!0,F)},d.prototype.writeFloatBE=function(f,B,F){return Me(this,f,B,!1,F)};function ot(v,f,B,F,j){return f=+f,B=B>>>0,j||ze(v,f,B,8),n.write(v,f,B,F,52,8),B+8}d.prototype.writeDoubleLE=function(f,B,F){return ot(this,f,B,!0,F)},d.prototype.writeDoubleBE=function(f,B,F){return ot(this,f,B,!1,F)},d.prototype.copy=function(f,B,F,j){if(!d.isBuffer(f))throw new TypeError("argument should be a Buffer");if(F||(F=0),!j&&j!==0&&(j=this.length),B>=f.length&&(B=f.length),B||(B=0),j>0&&j<F&&(j=F),j===F||f.length===0||this.length===0)return 0;if(B<0)throw new RangeError("targetStart out of bounds");if(F<0||F>=this.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("sourceEnd out of bounds");j>this.length&&(j=this.length),f.length-B<j-F&&(j=f.length-B+F);const oe=j-F;return this===f&&typeof r.prototype.copyWithin=="function"?this.copyWithin(B,F,j):r.prototype.set.call(f,this.subarray(F,j),B),oe},d.prototype.fill=function(f,B,F,j){if(typeof f=="string"){if(typeof B=="string"?(j=B,B=0,F=this.length):typeof F=="string"&&(j=F,F=this.length),j!==void 0&&typeof j!="string")throw new TypeError("encoding must be a string");if(typeof j=="string"&&!d.isEncoding(j))throw new TypeError("Unknown encoding: "+j);if(f.length===1){const Ce=f.charCodeAt(0);(j==="utf8"&&Ce<128||j==="latin1")&&(f=Ce)}}else typeof f=="number"?f=f&255:typeof f=="boolean"&&(f=Number(f));if(B<0||this.length<B||this.length<F)throw new RangeError("Out of range index");if(F<=B)return this;B=B>>>0,F=F===void 0?this.length:F>>>0,f||(f=0);let oe;if(typeof f=="number")for(oe=B;oe<F;++oe)this[oe]=f;else{const Ce=d.isBuffer(f)?f:d.from(f,j),Pe=Ce.length;if(Pe===0)throw new TypeError('The value "'+f+'" is invalid for argument "value"');for(oe=0;oe<F-B;++oe)this[oe+B]=Ce[oe%Pe]}return this};const _t={};function Nt(v,f,B){_t[v]=class extends B{constructor(){super(),Object.defineProperty(this,"message",{value:f.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${v}]`,this.stack,delete this.name}get code(){return v}set code(j){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:j,writable:!0})}toString(){return`${this.name} [${v}]: ${this.message}`}}}Nt("ERR_BUFFER_OUT_OF_BOUNDS",function(v){return v?`${v} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),Nt("ERR_INVALID_ARG_TYPE",function(v,f){return`The "${v}" argument must be of type number. Received type ${typeof f}`},TypeError),Nt("ERR_OUT_OF_RANGE",function(v,f,B){let F=`The value of "${v}" is out of range.`,j=B;return Number.isInteger(B)&&Math.abs(B)>2**32?j=Ct(String(B)):typeof B=="bigint"&&(j=String(B),(B>BigInt(2)**BigInt(32)||B<-(BigInt(2)**BigInt(32)))&&(j=Ct(j)),j+="n"),F+=` It must be ${f}. Received ${j}`,F},RangeError);function Ct(v){let f="",B=v.length;const F=v[0]==="-"?1:0;for(;B>=F+4;B-=3)f=`_${v.slice(B-3,B)}${f}`;return`${v.slice(0,B)}${f}`}function $t(v,f,B){Ut(f,"offset"),(v[f]===void 0||v[f+B]===void 0)&&ns(f,v.length-(B+1))}function wn(v,f,B,F,j,oe){if(v>B||v<f){const Ce=typeof f=="bigint"?"n":"";let Pe;throw f===0||f===BigInt(0)?Pe=`>= 0${Ce} and < 2${Ce} ** ${(oe+1)*8}${Ce}`:Pe=`>= -(2${Ce} ** ${(oe+1)*8-1}${Ce}) and < 2 ** ${(oe+1)*8-1}${Ce}`,new _t.ERR_OUT_OF_RANGE("value",Pe,v)}$t(F,j,oe)}function Ut(v,f){if(typeof v!="number")throw new _t.ERR_INVALID_ARG_TYPE(f,"number",v)}function ns(v,f,B){throw Math.floor(v)!==v?(Ut(v,B),new _t.ERR_OUT_OF_RANGE("offset","an integer",v)):f<0?new _t.ERR_BUFFER_OUT_OF_BOUNDS:new _t.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${f}`,v)}const Wl=/[^+/0-9A-Za-z-_]/g;function ao(v){if(v=v.split("=")[0],v=v.trim().replace(Wl,""),v.length<2)return"";for(;v.length%4!==0;)v=v+"=";return v}function Qe(v,f){f=f||1/0;let B;const F=v.length;let j=null;const oe=[];for(let Ce=0;Ce<F;++Ce){if(B=v.charCodeAt(Ce),B>55295&&B<57344){if(!j){if(B>56319){(f-=3)>-1&&oe.push(239,191,189);continue}else if(Ce+1===F){(f-=3)>-1&&oe.push(239,191,189);continue}j=B;continue}if(B<56320){(f-=3)>-1&&oe.push(239,191,189),j=B;continue}B=(j-55296<<10|B-56320)+65536}else j&&(f-=3)>-1&&oe.push(239,191,189);if(j=null,B<128){if((f-=1)<0)break;oe.push(B)}else if(B<2048){if((f-=2)<0)break;oe.push(B>>6|192,B&63|128)}else if(B<65536){if((f-=3)<0)break;oe.push(B>>12|224,B>>6&63|128,B&63|128)}else if(B<1114112){if((f-=4)<0)break;oe.push(B>>18|240,B>>12&63|128,B>>6&63|128,B&63|128)}else throw new Error("Invalid code point")}return oe}function Fe(v){const f=[];for(let B=0;B<v.length;++B)f.push(v.charCodeAt(B)&255);return f}function pt(v,f){let B,F,j;const oe=[];for(let Ce=0;Ce<v.length&&!((f-=2)<0);++Ce)B=v.charCodeAt(Ce),F=B>>8,j=B%256,oe.push(j),oe.push(F);return oe}function Rt(v){return e.toByteArray(ao(v))}function qt(v,f,B,F){let j;for(j=0;j<F&&!(j+B>=f.length||j>=v.length);++j)f[j+B]=v[j];return j}function en(v,f){return v instanceof f||v!=null&&v.constructor!=null&&v.constructor.name!=null&&v.constructor.name===f.name}function Oi(v){return v!==v}const ji=function(){const v="0123456789abcdef",f=new Array(256);for(let B=0;B<16;++B){const F=B*16;for(let j=0;j<16;++j)f[F+j]=v[B]+v[j]}return f}();function an(v){return typeof BigInt>"u"?Tu:v}function Tu(){throw new Error("BigInt not supported")}})(Q1);const jce=Q1.Buffer,cI=Q1.Buffer;window.global=window;window.Buffer=cI;const eJ="6.13.5";function tJ(t,e,n){const a=e.split("|").map(r=>r.trim());for(let r=0;r<a.length;r++)switch(e){case"any":return;case"bigint":case"boolean":case"number":case"string":if(typeof t===e)return}const s=new Error(`invalid value for type ${e}`);throw s.code="INVALID_ARGUMENT",s.argument=`value.${n}`,s.value=t,s}async function Fn(t){const e=Object.keys(t);return(await Promise.all(e.map(a=>Promise.resolve(t[a])))).reduce((a,s,r)=>(a[e[r]]=s,a),{})}function Ye(t,e,n){for(let a in e){let s=e[a];const r=n?n[a]:null;r&&tJ(s,r,a),Object.defineProperty(t,a,{enumerable:!0,value:s,writable:!1})}}function pc(t){if(t==null)return"null";if(Array.isArray(t))return"[ "+t.map(pc).join(", ")+" ]";if(t instanceof Uint8Array){const e="0123456789abcdef";let n="0x";for(let a=0;a<t.length;a++)n+=e[t[a]>>4],n+=e[t[a]&15];return n}if(typeof t=="object"&&typeof t.toJSON=="function")return pc(t.toJSON());switch(typeof t){case"boolean":case"symbol":return t.toString();case"bigint":return BigInt(t).toString();case"number":return t.toString();case"string":return JSON.stringify(t);case"object":{const e=Object.keys(t);return e.sort(),"{ "+e.map(n=>`${pc(n)}: ${pc(t[n])}`).join(", ")+" }"}}return"[ COULD NOT SERIALIZE ]"}function Gn(t,e){return t&&t.code===e}function O1(t){return Gn(t,"CALL_EXCEPTION")}function Tt(t,e,n){let a=t;{const r=[];if(n){if("message"in n||"code"in n||"name"in n)throw new Error(`value will overwrite populated values: ${pc(n)}`);for(const l in n){if(l==="shortMessage")continue;const g=n[l];r.push(l+"="+pc(g))}}r.push(`code=${e}`),r.push(`version=${eJ}`),r.length&&(t+=" ("+r.join(", ")+")")}let s;switch(e){case"INVALID_ARGUMENT":s=new TypeError(t);break;case"NUMERIC_FAULT":case"BUFFER_OVERRUN":s=new RangeError(t);break;default:s=new Error(t)}return Ye(s,{code:e}),n&&Object.assign(s,n),s.shortMessage==null&&Ye(s,{shortMessage:a}),s}function ye(t,e,n,a){if(!t)throw Tt(e,n,a)}function $(t,e,n,a){ye(t,e,"INVALID_ARGUMENT",{argument:n,value:a})}function dk(t,e,n){n==null&&(n=""),n&&(n=": "+n),ye(t>=e,"missing argument"+n,"MISSING_ARGUMENT",{count:t,expectedCount:e}),ye(t<=e,"too many arguments"+n,"UNEXPECTED_ARGUMENT",{count:t,expectedCount:e})}["NFD","NFC","NFKD","NFKC"].reduce((t,e)=>{try{if("test".normalize(e)!=="test")throw new Error("bad");if(e==="NFD"&&"".normalize("NFD")!=="e")throw new Error("broken");t.push(e)}catch{}return t},[]);function Hm(t,e,n){if(n==null&&(n=""),t!==e){let a=n,s="new";n&&(a+=".",s+=" "+n),ye(!1,`private constructor; use ${a}from* methods`,"UNSUPPORTED_OPERATION",{operation:s})}}function Ik(t,e,n){if(t instanceof Uint8Array)return n?new Uint8Array(t):t;if(typeof t=="string"&&t.match(/^0x(?:[0-9a-f][0-9a-f])*$/i)){const a=new Uint8Array((t.length-2)/2);let s=2;for(let r=0;r<a.length;r++)a[r]=parseInt(t.substring(s,s+2),16),s+=2;return a}$(!1,"invalid BytesLike value",e||"value",t)}function it(t,e){return Ik(t,e,!1)}function Mn(t,e){return Ik(t,e,!0)}function St(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||typeof e=="number"&&t.length!==2+2*e||e===!0&&t.length%2!==0)}function j1(t){return St(t,!0)||t instanceof Uint8Array}const DG="0123456789abcdef";function Ve(t){const e=it(t);let n="0x";for(let a=0;a<e.length;a++){const s=e[a];n+=DG[(s&240)>>4]+DG[s&15]}return n}function Ot(t){return"0x"+t.map(e=>Ve(e).substring(2)).join("")}function Zc(t){return St(t,!0)?(t.length-2)/2:it(t).length}function Yt(t,e,n){const a=it(t);return n!=null&&n>a.length&&ye(!1,"cannot slice beyond data bounds","BUFFER_OVERRUN",{buffer:a,length:a.length,offset:n}),Ve(a.slice(e??0,n??a.length))}function uk(t,e,n){const a=it(t);ye(e>=a.length,"padding exceeds data length","BUFFER_OVERRUN",{buffer:new Uint8Array(a),length:e,offset:e+1});const s=new Uint8Array(e);return s.fill(0),n?s.set(a,e-a.length):s.set(a,0),Ve(s)}function ul(t,e){return uk(t,e,!0)}function nJ(t,e){return uk(t,e,!1)}const Tm=BigInt(0),hs=BigInt(1),Sh=9007199254740991;function aJ(t,e){const n=Ym(t,"value"),a=BigInt(qe(e,"width"));if(ye(n>>a===Tm,"overflow","NUMERIC_FAULT",{operation:"fromTwos",fault:"overflow",value:t}),n>>a-hs){const s=(hs<<a)-hs;return-((~n&s)+hs)}return n}function Ck(t,e){let n=ve(t,"value");const a=BigInt(qe(e,"width")),s=hs<<a-hs;if(n<Tm){n=-n,ye(n<=s,"too low","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});const r=(hs<<a)-hs;return(~n&r)+hs}else ye(n<s,"too high","NUMERIC_FAULT",{operation:"toTwos",fault:"overflow",value:t});return n}function $d(t,e){const n=Ym(t,"value"),a=BigInt(qe(e,"bits"));return n&(hs<<a)-hs}function ve(t,e){switch(typeof t){case"bigint":return t;case"number":return $(Number.isInteger(t),"underflow",e||"value",t),$(t>=-9007199254740991&&t<=Sh,"overflow",e||"value",t),BigInt(t);case"string":try{if(t==="")throw new Error("empty string");return t[0]==="-"&&t[1]!=="-"?-BigInt(t.substring(1)):BigInt(t)}catch(n){$(!1,`invalid BigNumberish string: ${n.message}`,e||"value",t)}}$(!1,"invalid BigNumberish value",e||"value",t)}function Ym(t,e){const n=ve(t,e);return ye(n>=Tm,"unsigned value cannot be negative","NUMERIC_FAULT",{fault:"overflow",operation:"getUint",value:t}),n}const LG="0123456789abcdef";function _1(t){if(t instanceof Uint8Array){let e="0x0";for(const n of t)e+=LG[n>>4],e+=LG[n&15];return BigInt(e)}return ve(t)}function qe(t,e){switch(typeof t){case"bigint":return $(t>=-9007199254740991&&t<=Sh,"overflow",e||"value",t),Number(t);case"number":return $(Number.isInteger(t),"underflow",e||"value",t),$(t>=-9007199254740991&&t<=Sh,"overflow",e||"value",t),t;case"string":try{if(t==="")throw new Error("empty string");return qe(BigInt(t),e)}catch(n){$(!1,`invalid numeric string: ${n.message}`,e||"value",t)}}$(!1,"invalid numeric value",e||"value",t)}function sJ(t){return qe(_1(t))}function Or(t,e){let a=Ym(t,"value").toString(16);if(e==null)a.length%2&&(a="0"+a);else{const s=qe(e,"width");for(ye(s*2>=a.length,`value exceeds width (${s} bytes)`,"NUMERIC_FAULT",{operation:"toBeHex",fault:"overflow",value:t});a.length<s*2;)a="0"+a}return"0x"+a}function Un(t){const e=Ym(t,"value");if(e===Tm)return new Uint8Array([]);let n=e.toString(16);n.length%2&&(n="0"+n);const a=new Uint8Array(n.length/2);for(let s=0;s<a.length;s++){const r=s*2;a[s]=parseInt(n.substring(r,r+2),16)}return a}function mc(t){let e=Ve(j1(t)?t:Un(t)).substring(2);for(;e.startsWith("0");)e=e.substring(1);return e===""&&(e="0"),"0x"+e}const zG="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);const QG=BigInt(58);function iJ(t){const e=it(t);let n=_1(e),a="";for(;n;)a=zG[Number(n%QG)]+a,n/=QG;for(let s=0;s<e.length&&!e[s];s++)a=zG[0]+a;return a}function rJ(t){t=atob(t);const e=new Uint8Array(t.length);for(let n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return it(e)}function oJ(t){const e=it(t);let n="";for(let a=0;a<e.length;a++)n+=String.fromCharCode(e[a]);return btoa(n)}var Rc;class pk{constructor(e,n,a){te(this,"filter");te(this,"emitter");q(this,Rc);H(this,Rc,n),Ye(this,{emitter:e,filter:a})}async removeListener(){y(this,Rc)!=null&&await this.emitter.off(this.filter,y(this,Rc))}}Rc=new WeakMap;function lJ(t,e,n,a,s){$(!1,`invalid codepoint at offset ${e}; ${t}`,"bytes",n)}function mk(t,e,n,a,s){if(t==="BAD_PREFIX"||t==="UNEXPECTED_CONTINUE"){let r=0;for(let l=e+1;l<n.length&&n[l]>>6===2;l++)r++;return r}return t==="OVERRUN"?n.length-e-1:0}function cJ(t,e,n,a,s){return t==="OVERLONG"?($(typeof s=="number","invalid bad code point for replacement","badCodepoint",s),a.push(s),0):(a.push(65533),mk(t,e,n))}const gJ=Object.freeze({error:lJ,ignore:mk,replace:cJ});function dJ(t,e){e==null&&(e=gJ.error);const n=it(t,"bytes"),a=[];let s=0;for(;s<n.length;){const r=n[s++];if(r>>7===0){a.push(r);continue}let l=null,g=null;if((r&224)===192)l=1,g=127;else if((r&240)===224)l=2,g=2047;else if((r&248)===240)l=3,g=65535;else{(r&192)===128?s+=e("UNEXPECTED_CONTINUE",s-1,n,a):s+=e("BAD_PREFIX",s-1,n,a);continue}if(s-1+l>=n.length){s+=e("OVERRUN",s-1,n,a);continue}let c=r&(1<<8-l-1)-1;for(let u=0;u<l;u++){let d=n[s];if((d&192)!=128){s+=e("MISSING_CONTINUE",s,n,a),c=null;break}c=c<<6|d&63,s++}if(c!==null){if(c>1114111){s+=e("OUT_OF_RANGE",s-1-l,n,a,c);continue}if(c>=55296&&c<=57343){s+=e("UTF16_SURROGATE",s-1-l,n,a,c);continue}if(c<=g){s+=e("OVERLONG",s-1-l,n,a,c);continue}a.push(c)}}return a}function Hi(t,e){$(typeof t=="string","invalid string value","str",t);let n=[];for(let a=0;a<t.length;a++){const s=t.charCodeAt(a);if(s<128)n.push(s);else if(s<2048)n.push(s>>6|192),n.push(s&63|128);else if((s&64512)==55296){a++;const r=t.charCodeAt(a);$(a<t.length&&(r&64512)===56320,"invalid surrogate pair","str",t);const l=65536+((s&1023)<<10)+(r&1023);n.push(l>>18|240),n.push(l>>12&63|128),n.push(l>>6&63|128),n.push(l&63|128)}else n.push(s>>12|224),n.push(s>>6&63|128),n.push(s&63|128)}return new Uint8Array(n)}function IJ(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function sm(t,e){return IJ(dJ(t,e))}function Ak(t){async function e(n,a){ye(a==null||!a.cancelled,"request cancelled before sending","CANCELLED");const s=n.url.split(":")[0].toLowerCase();ye(s==="http"||s==="https",`unsupported protocol ${s}`,"UNSUPPORTED_OPERATION",{info:{protocol:s},operation:"request"}),ye(s==="https"||!n.credentials||n.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let r=null;const l=new AbortController,g=setTimeout(()=>{r=Tt("request timeout","TIMEOUT"),l.abort()},n.timeout);a&&a.addListener(()=>{r=Tt("request cancelled","CANCELLED"),l.abort()});const c={method:n.method,headers:new Headers(Array.from(n)),body:n.body||void 0,signal:l.signal};let u;try{u=await fetch(n.url,c)}catch(G){throw clearTimeout(g),r||G}clearTimeout(g);const d={};u.headers.forEach((G,w)=>{d[w.toLowerCase()]=G});const p=await u.arrayBuffer(),A=p==null?null:new Uint8Array(p);return{statusCode:u.status,statusMessage:u.statusText,headers:d,body:A}}return e}const uJ=12,CJ=250;let PG=Ak();const pJ=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),mJ=new RegExp("^ipfs://(ipfs/)?(.*)$","i");let v0=!1;async function yk(t,e){try{const n=t.match(pJ);if(!n)throw new Error("invalid data");return new Mr(200,"OK",{"content-type":n[1]||"text/plain"},n[2]?rJ(n[3]):yJ(n[3]))}catch{return new Mr(599,"BAD REQUEST (invalid data: URI)",{},null,new Ki(t))}}function bk(t){async function e(n,a){try{const s=n.match(mJ);if(!s)throw new Error("invalid link");return new Ki(`${t}${s[2]}`)}catch{return new Mr(599,"BAD REQUEST (invalid IPFS URI)",{},null,new Ki(n))}}return e}const QC={data:yk,ipfs:bk("https://gateway.ipfs.io/ipfs/")},hk=new WeakMap;var Ho,Br;class AJ{constructor(e){q(this,Ho);q(this,Br);H(this,Ho,[]),H(this,Br,!1),hk.set(e,()=>{if(!y(this,Br)){H(this,Br,!0);for(const n of y(this,Ho))setTimeout(()=>{n()},0);H(this,Ho,[])}})}addListener(e){ye(!y(this,Br),"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),y(this,Ho).push(e)}get cancelled(){return y(this,Br)}checkSignal(){ye(!this.cancelled,"cancelled","CANCELLED",{})}}Ho=new WeakMap,Br=new WeakMap;function PC(t){if(t==null)throw new Error("missing signal; should not happen");return t.checkSignal(),t}var Wc,vc,Cs,hi,Ec,Xc,dn,Sa,fi,To,Yo,Fo,Ns,ps,Sr,Ko,qd;const Sm=class Sm{constructor(e){q(this,Ko);q(this,Wc);q(this,vc);q(this,Cs);q(this,hi);q(this,Ec);q(this,Xc);q(this,dn);q(this,Sa);q(this,fi);q(this,To);q(this,Yo);q(this,Fo);q(this,Ns);q(this,ps);q(this,Sr);H(this,Xc,String(e)),H(this,Wc,!1),H(this,vc,!0),H(this,Cs,{}),H(this,hi,""),H(this,Ec,3e5),H(this,ps,{slotInterval:CJ,maxAttempts:uJ}),H(this,Sr,null)}get url(){return y(this,Xc)}set url(e){H(this,Xc,String(e))}get body(){return y(this,dn)==null?null:new Uint8Array(y(this,dn))}set body(e){if(e==null)H(this,dn,void 0),H(this,Sa,void 0);else if(typeof e=="string")H(this,dn,Hi(e)),H(this,Sa,"text/plain");else if(e instanceof Uint8Array)H(this,dn,e),H(this,Sa,"application/octet-stream");else if(typeof e=="object")H(this,dn,Hi(JSON.stringify(e))),H(this,Sa,"application/json");else throw new Error("invalid body")}hasBody(){return y(this,dn)!=null}get method(){return y(this,hi)?y(this,hi):this.hasBody()?"POST":"GET"}set method(e){e==null&&(e=""),H(this,hi,String(e).toUpperCase())}get headers(){const e=Object.assign({},y(this,Cs));return y(this,fi)&&(e.authorization=`Basic ${oJ(Hi(y(this,fi)))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),e["content-type"]==null&&y(this,Sa)&&(e["content-type"]=y(this,Sa)),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,n){y(this,Cs)[String(e).toLowerCase()]=String(n)}clearHeaders(){H(this,Cs,{})}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let a=0;return{next:()=>{if(a<n.length){const s=n[a++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return y(this,fi)||null}setCredentials(e,n){$(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),H(this,fi,`${e}:${n}`)}get allowGzip(){return y(this,vc)}set allowGzip(e){H(this,vc,!!e)}get allowInsecureAuthentication(){return!!y(this,Wc)}set allowInsecureAuthentication(e){H(this,Wc,!!e)}get timeout(){return y(this,Ec)}set timeout(e){$(e>=0,"timeout must be non-zero","timeout",e),H(this,Ec,e)}get preflightFunc(){return y(this,To)||null}set preflightFunc(e){H(this,To,e)}get processFunc(){return y(this,Yo)||null}set processFunc(e){H(this,Yo,e)}get retryFunc(){return y(this,Fo)||null}set retryFunc(e){H(this,Fo,e)}get getUrlFunc(){return y(this,Sr)||PG}set getUrlFunc(e){H(this,Sr,e)}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${y(this,dn)?Ve(y(this,dn)):"null"}>`}setThrottleParams(e){e.slotInterval!=null&&(y(this,ps).slotInterval=e.slotInterval),e.maxAttempts!=null&&(y(this,ps).maxAttempts=e.maxAttempts)}send(){return ye(y(this,Ns)==null,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),H(this,Ns,new AJ(this)),ge(this,Ko,qd).call(this,0,OG()+this.timeout,0,this,new Mr(0,"",{},null,this))}cancel(){ye(y(this,Ns)!=null,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});const e=hk.get(this);if(!e)throw new Error("missing signal; should not happen");e()}redirect(e){const n=this.url.split(":")[0].toLowerCase(),a=e.split(":")[0].toLowerCase();ye(this.method==="GET"&&(n!=="https"||a!=="http")&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});const s=new Sm(e);return s.method="GET",s.allowGzip=this.allowGzip,s.timeout=this.timeout,H(s,Cs,Object.assign({},y(this,Cs))),y(this,dn)&&H(s,dn,new Uint8Array(y(this,dn))),H(s,Sa,y(this,Sa)),s}clone(){const e=new Sm(this.url);return H(e,hi,y(this,hi)),y(this,dn)&&H(e,dn,y(this,dn)),H(e,Sa,y(this,Sa)),H(e,Cs,Object.assign({},y(this,Cs))),H(e,fi,y(this,fi)),this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),H(e,To,y(this,To)),H(e,Yo,y(this,Yo)),H(e,Fo,y(this,Fo)),H(e,ps,Object.assign({},y(this,ps))),H(e,Sr,y(this,Sr)),e}static lockConfig(){v0=!0}static getGateway(e){return QC[e.toLowerCase()]||null}static registerGateway(e,n){if(e=e.toLowerCase(),e==="http"||e==="https")throw new Error(`cannot intercept ${e}; use registerGetUrl`);if(v0)throw new Error("gateways locked");QC[e]=n}static registerGetUrl(e){if(v0)throw new Error("gateways locked");PG=e}static createGetUrlFunc(e){return Ak()}static createDataGateway(){return yk}static createIpfsGatewayFunc(e){return bk(e)}};Wc=new WeakMap,vc=new WeakMap,Cs=new WeakMap,hi=new WeakMap,Ec=new WeakMap,Xc=new WeakMap,dn=new WeakMap,Sa=new WeakMap,fi=new WeakMap,To=new WeakMap,Yo=new WeakMap,Fo=new WeakMap,Ns=new WeakMap,ps=new WeakMap,Sr=new WeakMap,Ko=new WeakSet,qd=async function(e,n,a,s,r){var d,p,A;if(e>=y(this,ps).maxAttempts)return r.makeServerError("exceeded maximum retry limit");ye(OG()<=n,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:s}),a>0&&await bJ(a);let l=this.clone();const g=(l.url.split(":")[0]||"").toLowerCase();if(g in QC){const G=await QC[g](l.url,PC(y(s,Ns)));if(G instanceof Mr){let w=G;if(this.processFunc){PC(y(s,Ns));try{w=await this.processFunc(l,w)}catch(Z){(Z.throttle==null||typeof Z.stall!="number")&&w.makeServerError("error in post-processing function",Z).assertOk()}}return w}l=G}this.preflightFunc&&(l=await this.preflightFunc(l));const c=await this.getUrlFunc(l,PC(y(s,Ns)));let u=new Mr(c.statusCode,c.statusMessage,c.headers,c.body,s);if(u.statusCode===301||u.statusCode===302){try{const G=u.headers.location||"";return ge(d=l.redirect(G),Ko,qd).call(d,e+1,n,0,s,u)}catch{}return u}else if(u.statusCode===429&&(this.retryFunc==null||await this.retryFunc(l,u,e))){const G=u.headers["retry-after"];let w=y(this,ps).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return typeof G=="string"&&G.match(/^[1-9][0-9]*$/)&&(w=parseInt(G)),ge(p=l.clone(),Ko,qd).call(p,e+1,n,w,s,u)}if(this.processFunc){PC(y(s,Ns));try{u=await this.processFunc(l,u)}catch(G){(G.throttle==null||typeof G.stall!="number")&&u.makeServerError("error in post-processing function",G).assertOk();let w=y(this,ps).slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return G.stall>=0&&(w=G.stall),ge(A=l.clone(),Ko,qd).call(A,e+1,n,w,s,u)}}return u};let Ki=Sm;var QI,PI,OI,wa,Jc,Mo;const O2=class O2{constructor(e,n,a,s,r){q(this,QI);q(this,PI);q(this,OI);q(this,wa);q(this,Jc);q(this,Mo);H(this,QI,e),H(this,PI,n),H(this,OI,Object.keys(a).reduce((l,g)=>(l[g.toLowerCase()]=String(a[g]),l),{})),H(this,wa,s==null?null:new Uint8Array(s)),H(this,Jc,r||null),H(this,Mo,{message:""})}toString(){return`<FetchResponse status=${this.statusCode} body=${y(this,wa)?Ve(y(this,wa)):"null"}>`}get statusCode(){return y(this,QI)}get statusMessage(){return y(this,PI)}get headers(){return Object.assign({},y(this,OI))}get body(){return y(this,wa)==null?null:new Uint8Array(y(this,wa))}get bodyText(){try{return y(this,wa)==null?"":sm(y(this,wa))}catch{ye(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch{ye(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){const e=this.headers,n=Object.keys(e);let a=0;return{next:()=>{if(a<n.length){const s=n[a++];return{value:[s,e[s]],done:!1}}return{value:void 0,done:!0}}}}makeServerError(e,n){let a;e?a=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,a=`CLIENT ESCALATED SERVER ERROR (${e})`);const s=new O2(599,a,this.headers,this.body,y(this,Jc)||void 0);return H(s,Mo,{message:e,error:n}),s}throwThrottleError(e,n){n==null?n=-1:$(Number.isInteger(n)&&n>=0,"invalid stall timeout","stall",n);const a=new Error(e||"throttling requests");throw Ye(a,{stall:n,throttle:!0}),a}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return y(this,wa)!=null}get request(){return y(this,Jc)}ok(){return y(this,Mo).message===""&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:n}=y(this,Mo);e===""&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let a=null;this.request&&(a=this.request.url);let s=null;try{y(this,wa)&&(s=sm(y(this,wa)))}catch{}ye(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:n,info:{requestUrl:a,responseBody:s,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};QI=new WeakMap,PI=new WeakMap,OI=new WeakMap,wa=new WeakMap,Jc=new WeakMap,Mo=new WeakMap;let Mr=O2;function OG(){return new Date().getTime()}function yJ(t){return Hi(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,n)=>String.fromCharCode(parseInt(n,16))))}function bJ(t){return new Promise(e=>setTimeout(e,t))}function hJ(t){let e=t.toString(16);for(;e.length<2;)e="0"+e;return"0x"+e}function jG(t,e,n){let a=0;for(let s=0;s<n;s++)a=a*256+t[e+s];return a}function _G(t,e,n,a){const s=[];for(;n<e+1+a;){const r=fk(t,n);s.push(r.result),n+=r.consumed,ye(n<=e+1+a,"child data too short","BUFFER_OVERRUN",{buffer:t,length:a,offset:e})}return{consumed:1+a,result:s}}function fk(t,e){ye(t.length!==0,"data too short","BUFFER_OVERRUN",{buffer:t,length:0,offset:1});const n=a=>{ye(a<=t.length,"data short segment too short","BUFFER_OVERRUN",{buffer:t,length:t.length,offset:a})};if(t[e]>=248){const a=t[e]-247;n(e+1+a);const s=jG(t,e+1,a);return n(e+1+a+s),_G(t,e,e+1+a,a+s)}else if(t[e]>=192){const a=t[e]-192;return n(e+1+a),_G(t,e,e+1,a)}else if(t[e]>=184){const a=t[e]-183;n(e+1+a);const s=jG(t,e+1,a);n(e+1+a+s);const r=Ve(t.slice(e+1+a,e+1+a+s));return{consumed:1+a+s,result:r}}else if(t[e]>=128){const a=t[e]-128;n(e+1+a);const s=Ve(t.slice(e+1,e+1+a));return{consumed:1+a,result:s}}return{consumed:1,result:hJ(t[e])}}function Fm(t){const e=it(t,"data"),n=fk(e,0);return $(n.consumed===e.length,"unexpected junk after rlp payload","data",t),n.result}function $G(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function Zk(t){if(Array.isArray(t)){let a=[];if(t.forEach(function(r){a=a.concat(Zk(r))}),a.length<=55)return a.unshift(192+a.length),a;const s=$G(a.length);return s.unshift(247+s.length),s.concat(a)}const e=Array.prototype.slice.call(it(t,"object"));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const n=$G(e.length);return n.unshift(183+n.length),n.concat(e)}const qG="0123456789abcdef";function Cl(t){let e="0x";for(const n of Zk(t))e+=qG[n>>4],e+=qG[n&15];return e}const Dn=32,wh=new Uint8Array(Dn),fJ=["then"],OC={},Gk=new WeakMap;function ko(t){return Gk.get(t)}function eB(t,e){Gk.set(t,e)}function Ed(t,e){const n=new Error(`deferred error during ABI decoding triggered accessing ${t}`);throw n.error=e,n}function kh(t,e,n){return t.indexOf(null)>=0?e.map((a,s)=>a instanceof bg?kh(ko(a),a,n):a):t.reduce((a,s,r)=>{let l=e.getValue(s);return s in a||(n&&l instanceof bg&&(l=kh(ko(l),l,n)),a[s]=l),a},{})}var xc;const bc=class bc extends Array{constructor(...n){const a=n[0];let s=n[1],r=(n[2]||[]).slice(),l=!0;a!==OC&&(s=n,r=[],l=!1);super(s.length);q(this,xc);s.forEach((u,d)=>{this[d]=u});const g=r.reduce((u,d)=>(typeof d=="string"&&u.set(d,(u.get(d)||0)+1),u),new Map);if(eB(this,Object.freeze(s.map((u,d)=>{const p=r[d];return p!=null&&g.get(p)===1?p:null}))),H(this,xc,[]),y(this,xc)==null&&y(this,xc),!l)return;Object.freeze(this);const c=new Proxy(this,{get:(u,d,p)=>{if(typeof d=="string"){if(d.match(/^[0-9]+$/)){const G=qe(d,"%index");if(G<0||G>=this.length)throw new RangeError("out of result range");const w=u[G];return w instanceof Error&&Ed(`index ${G}`,w),w}if(fJ.indexOf(d)>=0)return Reflect.get(u,d,p);const A=u[d];if(A instanceof Function)return function(...G){return A.apply(this===p?u:this,G)};if(!(d in u))return u.getValue.apply(this===p?u:this,[d])}return Reflect.get(u,d,p)}});return eB(c,ko(this)),c}toArray(n){const a=[];return this.forEach((s,r)=>{s instanceof Error&&Ed(`index ${r}`,s),n&&s instanceof bc&&(s=s.toArray(n)),a.push(s)}),a}toObject(n){const a=ko(this);return a.reduce((s,r,l)=>(ye(r!=null,`value at index ${l} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),kh(a,this,n)),{})}slice(n,a){n==null&&(n=0),n<0&&(n+=this.length,n<0&&(n=0)),a==null&&(a=this.length),a<0&&(a+=this.length,a<0&&(a=0)),a>this.length&&(a=this.length);const s=ko(this),r=[],l=[];for(let g=n;g<a;g++)r.push(this[g]),l.push(s[g]);return new bc(OC,r,l)}filter(n,a){const s=ko(this),r=[],l=[];for(let g=0;g<this.length;g++){const c=this[g];c instanceof Error&&Ed(`index ${g}`,c),n.call(a,c,g,this)&&(r.push(c),l.push(s[g]))}return new bc(OC,r,l)}map(n,a){const s=[];for(let r=0;r<this.length;r++){const l=this[r];l instanceof Error&&Ed(`index ${r}`,l),s.push(n.call(a,l,r,this))}return s}getValue(n){const a=ko(this).indexOf(n);if(a===-1)return;const s=this[a];return s instanceof Error&&Ed(`property ${JSON.stringify(n)}`,s.error),s}static fromItems(n,a){return new bc(OC,n,a)}};xc=new WeakMap;let bg=bc;function tB(t){let e=Un(t);return ye(e.length<=Dn,"value out-of-bounds","BUFFER_OVERRUN",{buffer:e,length:Dn,offset:e.length}),e.length!==Dn&&(e=Mn(Ot([wh.slice(e.length%Dn),e]))),e}class Li{constructor(e,n,a,s){te(this,"name");te(this,"type");te(this,"localName");te(this,"dynamic");Ye(this,{name:e,type:n,localName:a,dynamic:s},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,n){$(!1,e,this.localName,n)}}var Zi,Uo,Nc,Lp;class Vh{constructor(){q(this,Nc);q(this,Zi);q(this,Uo);H(this,Zi,[]),H(this,Uo,0)}get data(){return Ot(y(this,Zi))}get length(){return y(this,Uo)}appendWriter(e){return ge(this,Nc,Lp).call(this,Mn(e.data))}writeBytes(e){let n=Mn(e);const a=n.length%Dn;return a&&(n=Mn(Ot([n,wh.slice(a)]))),ge(this,Nc,Lp).call(this,n)}writeValue(e){return ge(this,Nc,Lp).call(this,tB(e))}writeUpdatableValue(){const e=y(this,Zi).length;return y(this,Zi).push(wh),H(this,Uo,y(this,Uo)+Dn),n=>{y(this,Zi)[e]=tB(n)}}}Zi=new WeakMap,Uo=new WeakMap,Nc=new WeakSet,Lp=function(e){return y(this,Zi).push(e),H(this,Uo,y(this,Uo)+e.length),e.length};var aa,ka,Do,Lo,wr,wl,Rh,Bk,Hc;let ZJ=(Hc=class{constructor(e,n,a){q(this,wl);te(this,"allowLoose");q(this,aa);q(this,ka);q(this,Do);q(this,Lo);q(this,wr);Ye(this,{allowLoose:!!n}),H(this,aa,Mn(e)),H(this,Do,0),H(this,Lo,null),H(this,wr,a??1024),H(this,ka,0)}get data(){return Ve(y(this,aa))}get dataLength(){return y(this,aa).length}get consumed(){return y(this,ka)}get bytes(){return new Uint8Array(y(this,aa))}subReader(e){const n=new Hc(y(this,aa).slice(y(this,ka)+e),this.allowLoose,y(this,wr));return H(n,Lo,this),n}readBytes(e,n){let a=ge(this,wl,Bk).call(this,0,e,!!n);return ge(this,wl,Rh).call(this,e),H(this,ka,y(this,ka)+a.length),a.slice(0,e)}readValue(){return _1(this.readBytes(Dn))}readIndex(){return sJ(this.readBytes(Dn))}},aa=new WeakMap,ka=new WeakMap,Do=new WeakMap,Lo=new WeakMap,wr=new WeakMap,wl=new WeakSet,Rh=function(e){var n;if(y(this,Lo))return ge(n=y(this,Lo),wl,Rh).call(n,e);H(this,Do,y(this,Do)+e),ye(y(this,wr)<1||y(this,Do)<=y(this,wr)*this.dataLength,`compressed ABI data exceeds inflation ratio of ${y(this,wr)} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:Mn(y(this,aa)),offset:y(this,ka),length:e,info:{bytesRead:y(this,Do),dataLength:this.dataLength}})},Bk=function(e,n,a){let s=Math.ceil(n/Dn)*Dn;return y(this,ka)+s>y(this,aa).length&&(this.allowLoose&&a&&y(this,ka)+n<=y(this,aa).length?s=n:ye(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:Mn(y(this,aa)),length:y(this,aa).length,offset:y(this,ka)+s})),y(this,aa).slice(y(this,ka),y(this,ka)+s)},Hc);function im(t){if(!Number.isSafeInteger(t)||t<0)throw new Error(`Wrong positive integer: ${t}`)}function $1(t,...e){if(!(t instanceof Uint8Array))throw new Error("Expected Uint8Array");if(e.length>0&&!e.includes(t.length))throw new Error(`Expected Uint8Array of length ${e}, not of length=${t.length}`)}function GJ(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.wrapConstructor");im(t.outputLen),im(t.blockLen)}function hg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Sk(t,e){$1(t);const n=e.outputLen;if(t.length<n)throw new Error(`digestInto() expects output buffer of length at least ${n}`)}const E0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const wk=t=>t instanceof Uint8Array,BJ=t=>new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4)),X0=t=>new DataView(t.buffer,t.byteOffset,t.byteLength),Es=(t,e)=>t<<32-e|t>>>e,SJ=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;if(!SJ)throw new Error("Non little-endian hardware is not supported");function wJ(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function Km(t){if(typeof t=="string"&&(t=wJ(t)),!wk(t))throw new Error(`expected Uint8Array, got ${typeof t}`);return t}function kJ(...t){const e=new Uint8Array(t.reduce((a,s)=>a+s.length,0));let n=0;return t.forEach(a=>{if(!wk(a))throw new Error("Uint8Array expected");e.set(a,n),n+=a.length}),e}let q1=class{clone(){return this._cloneInto()}};function ef(t){const e=a=>t().update(Km(a)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function VJ(t=32){if(E0&&typeof E0.getRandomValues=="function")return E0.getRandomValues(new Uint8Array(t));throw new Error("crypto.getRandomValues must be defined")}let kk=class extends q1{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,GJ(e);const a=Km(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,r=new Uint8Array(s);r.set(a.length>s?e.create().update(a).digest():a);for(let l=0;l<r.length;l++)r[l]^=54;this.iHash.update(r),this.oHash=e.create();for(let l=0;l<r.length;l++)r[l]^=106;this.oHash.update(r),r.fill(0)}update(e){return hg(this),this.iHash.update(e),this}digestInto(e){hg(this),$1(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:a,finished:s,destroyed:r,blockLen:l,outputLen:g}=this;return e=e,e.finished=s,e.destroyed=r,e.blockLen=l,e.outputLen=g,e.oHash=n._cloneInto(e.oHash),e.iHash=a._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Vk=(t,e,n)=>new kk(t,e).update(n).digest();Vk.create=(t,e)=>new kk(t,e);function RJ(t,e,n,a){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,a);const s=BigInt(32),r=BigInt(4294967295),l=Number(n>>s&r),g=Number(n&r),c=a?4:0,u=a?0:4;t.setUint32(e+c,l,a),t.setUint32(e+u,g,a)}class Rk extends q1{constructor(e,n,a,s){super(),this.blockLen=e,this.outputLen=n,this.padOffset=a,this.isLE=s,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=X0(this.buffer)}update(e){hg(this);const{view:n,buffer:a,blockLen:s}=this;e=Km(e);const r=e.length;for(let l=0;l<r;){const g=Math.min(s-this.pos,r-l);if(g===s){const c=X0(e);for(;s<=r-l;l+=s)this.process(c,l);continue}a.set(e.subarray(l,l+g),this.pos),this.pos+=g,l+=g,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){hg(this),Sk(e,this),this.finished=!0;const{buffer:n,view:a,blockLen:s,isLE:r}=this;let{pos:l}=this;n[l++]=128,this.buffer.subarray(l).fill(0),this.padOffset>s-l&&(this.process(a,0),l=0);for(let p=l;p<s;p++)n[p]=0;RJ(a,s-8,BigInt(this.length*8),r),this.process(a,0);const g=X0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)g.setUint32(4*p,d[p],r)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const a=e.slice(0,n);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:a,length:s,finished:r,destroyed:l,pos:g}=this;return e.length=s,e.pos=g,e.finished=r,e.destroyed=l,s%n&&e.buffer.set(a),e}}const WJ=(t,e,n)=>t&e^~t&n,vJ=(t,e,n)=>t&e^t&n^e&n,EJ=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),mr=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Ar=new Uint32Array(64);let XJ=class extends Rk{constructor(){super(64,32,8,!1),this.A=mr[0]|0,this.B=mr[1]|0,this.C=mr[2]|0,this.D=mr[3]|0,this.E=mr[4]|0,this.F=mr[5]|0,this.G=mr[6]|0,this.H=mr[7]|0}get(){const{A:e,B:n,C:a,D:s,E:r,F:l,G:g,H:c}=this;return[e,n,a,s,r,l,g,c]}set(e,n,a,s,r,l,g,c){this.A=e|0,this.B=n|0,this.C=a|0,this.D=s|0,this.E=r|0,this.F=l|0,this.G=g|0,this.H=c|0}process(e,n){for(let p=0;p<16;p++,n+=4)Ar[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const A=Ar[p-15],G=Ar[p-2],w=Es(A,7)^Es(A,18)^A>>>3,Z=Es(G,17)^Es(G,19)^G>>>10;Ar[p]=Z+Ar[p-7]+w+Ar[p-16]|0}let{A:a,B:s,C:r,D:l,E:g,F:c,G:u,H:d}=this;for(let p=0;p<64;p++){const A=Es(g,6)^Es(g,11)^Es(g,25),G=d+A+WJ(g,c,u)+EJ[p]+Ar[p]|0,Z=(Es(a,2)^Es(a,13)^Es(a,22))+vJ(a,s,r)|0;d=u,u=c,c=g,g=l+G|0,l=r,r=s,s=a,a=G+Z|0}a=a+this.A|0,s=s+this.B|0,r=r+this.C|0,l=l+this.D|0,g=g+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(a,s,r,l,g,c,u,d)}roundClean(){Ar.fill(0)}destroy(){this.set(0,0,0,0,0,0,0,0),this.buffer.fill(0)}};const Wk=ef(()=>new XJ),jC=BigInt(2**32-1),Wh=BigInt(32);function vk(t,e=!1){return e?{h:Number(t&jC),l:Number(t>>Wh&jC)}:{h:Number(t>>Wh&jC)|0,l:Number(t&jC)|0}}function Ek(t,e=!1){let n=new Uint32Array(t.length),a=new Uint32Array(t.length);for(let s=0;s<t.length;s++){const{h:r,l}=vk(t[s],e);[n[s],a[s]]=[r,l]}return[n,a]}const JJ=(t,e)=>BigInt(t>>>0)<<Wh|BigInt(e>>>0),xJ=(t,e,n)=>t>>>n,NJ=(t,e,n)=>t<<32-n|e>>>n,HJ=(t,e,n)=>t>>>n|e<<32-n,TJ=(t,e,n)=>t<<32-n|e>>>n,YJ=(t,e,n)=>t<<64-n|e>>>n-32,FJ=(t,e,n)=>t>>>n-32|e<<64-n,KJ=(t,e)=>e,MJ=(t,e)=>t,Xk=(t,e,n)=>t<<n|e>>>32-n,Jk=(t,e,n)=>e<<n|t>>>32-n,xk=(t,e,n)=>e<<n-32|t>>>64-n,Nk=(t,e,n)=>t<<n-32|e>>>64-n;function UJ(t,e,n,a){const s=(e>>>0)+(a>>>0);return{h:t+n+(s/2**32|0)|0,l:s|0}}const DJ=(t,e,n)=>(t>>>0)+(e>>>0)+(n>>>0),LJ=(t,e,n,a)=>e+n+a+(t/2**32|0)|0,zJ=(t,e,n,a)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0),QJ=(t,e,n,a,s)=>e+n+a+s+(t/2**32|0)|0,PJ=(t,e,n,a,s)=>(t>>>0)+(e>>>0)+(n>>>0)+(a>>>0)+(s>>>0),OJ=(t,e,n,a,s,r)=>e+n+a+s+r+(t/2**32|0)|0,Oe={fromBig:vk,split:Ek,toBig:JJ,shrSH:xJ,shrSL:NJ,rotrSH:HJ,rotrSL:TJ,rotrBH:YJ,rotrBL:FJ,rotr32H:KJ,rotr32L:MJ,rotlSH:Xk,rotlSL:Jk,rotlBH:xk,rotlBL:Nk,add:UJ,add3L:DJ,add3H:LJ,add4L:zJ,add4H:QJ,add5H:OJ,add5L:PJ},[jJ,_J]=Oe.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),yr=new Uint32Array(80),br=new Uint32Array(80);class $J extends Rk{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:n,Bh:a,Bl:s,Ch:r,Cl:l,Dh:g,Dl:c,Eh:u,El:d,Fh:p,Fl:A,Gh:G,Gl:w,Hh:Z,Hl:V}=this;return[e,n,a,s,r,l,g,c,u,d,p,A,G,w,Z,V]}set(e,n,a,s,r,l,g,c,u,d,p,A,G,w,Z,V){this.Ah=e|0,this.Al=n|0,this.Bh=a|0,this.Bl=s|0,this.Ch=r|0,this.Cl=l|0,this.Dh=g|0,this.Dl=c|0,this.Eh=u|0,this.El=d|0,this.Fh=p|0,this.Fl=A|0,this.Gh=G|0,this.Gl=w|0,this.Hh=Z|0,this.Hl=V|0}process(e,n){for(let x=0;x<16;x++,n+=4)yr[x]=e.getUint32(n),br[x]=e.getUint32(n+=4);for(let x=16;x<80;x++){const Y=yr[x-15]|0,z=br[x-15]|0,Q=Oe.rotrSH(Y,z,1)^Oe.rotrSH(Y,z,8)^Oe.shrSH(Y,z,7),P=Oe.rotrSL(Y,z,1)^Oe.rotrSL(Y,z,8)^Oe.shrSL(Y,z,7),_=yr[x-2]|0,re=br[x-2]|0,ce=Oe.rotrSH(_,re,19)^Oe.rotrBH(_,re,61)^Oe.shrSH(_,re,6),ae=Oe.rotrSL(_,re,19)^Oe.rotrBL(_,re,61)^Oe.shrSL(_,re,6),pe=Oe.add4L(P,ae,br[x-7],br[x-16]),ue=Oe.add4H(pe,Q,ce,yr[x-7],yr[x-16]);yr[x]=ue|0,br[x]=pe|0}let{Ah:a,Al:s,Bh:r,Bl:l,Ch:g,Cl:c,Dh:u,Dl:d,Eh:p,El:A,Fh:G,Fl:w,Gh:Z,Gl:V,Hh:W,Hl:D}=this;for(let x=0;x<80;x++){const Y=Oe.rotrSH(p,A,14)^Oe.rotrSH(p,A,18)^Oe.rotrBH(p,A,41),z=Oe.rotrSL(p,A,14)^Oe.rotrSL(p,A,18)^Oe.rotrBL(p,A,41),Q=p&G^~p&Z,P=A&w^~A&V,_=Oe.add5L(D,z,P,_J[x],br[x]),re=Oe.add5H(_,W,Y,Q,jJ[x],yr[x]),ce=_|0,ae=Oe.rotrSH(a,s,28)^Oe.rotrBH(a,s,34)^Oe.rotrBH(a,s,39),pe=Oe.rotrSL(a,s,28)^Oe.rotrBL(a,s,34)^Oe.rotrBL(a,s,39),ue=a&r^a&g^r&g,M=s&l^s&c^l&c;W=Z|0,D=V|0,Z=G|0,V=w|0,G=p|0,w=A|0,{h:p,l:A}=Oe.add(u|0,d|0,re|0,ce|0),u=g|0,d=c|0,g=r|0,c=l|0,r=a|0,l=s|0;const S=Oe.add3L(ce,pe,M);a=Oe.add3H(S,re,ae,ue),s=S|0}({h:a,l:s}=Oe.add(this.Ah|0,this.Al|0,a|0,s|0)),{h:r,l}=Oe.add(this.Bh|0,this.Bl|0,r|0,l|0),{h:g,l:c}=Oe.add(this.Ch|0,this.Cl|0,g|0,c|0),{h:u,l:d}=Oe.add(this.Dh|0,this.Dl|0,u|0,d|0),{h:p,l:A}=Oe.add(this.Eh|0,this.El|0,p|0,A|0),{h:G,l:w}=Oe.add(this.Fh|0,this.Fl|0,G|0,w|0),{h:Z,l:V}=Oe.add(this.Gh|0,this.Gl|0,Z|0,V|0),{h:W,l:D}=Oe.add(this.Hh|0,this.Hl|0,W|0,D|0),this.set(a,s,r,l,g,c,u,d,p,A,G,w,Z,V,W,D)}roundClean(){yr.fill(0),br.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const qJ=ef(()=>new $J);function ex(){if(typeof self<"u")return self;if(typeof window<"u"||typeof window<"u")return window;throw new Error("unable to locate global object")}const nB=ex();nB.crypto||nB.msCrypto;function tx(t){switch(t){case"sha256":return Wk.create();case"sha512":return qJ.create()}$(!1,"invalid hashing algorithm name","algorithm",t)}const[Hk,Tk,Yk]=[[],[],[]],nx=BigInt(0),Xd=BigInt(1),ax=BigInt(2),sx=BigInt(7),ix=BigInt(256),rx=BigInt(113);for(let t=0,e=Xd,n=1,a=0;t<24;t++){[n,a]=[a,(2*n+3*a)%5],Hk.push(2*(5*a+n)),Tk.push((t+1)*(t+2)/2%64);let s=nx;for(let r=0;r<7;r++)e=(e<<Xd^(e>>sx)*rx)%ix,e&ax&&(s^=Xd<<(Xd<<BigInt(r))-Xd);Yk.push(s)}const[ox,lx]=Ek(Yk,!0),aB=(t,e,n)=>n>32?xk(t,e,n):Xk(t,e,n),sB=(t,e,n)=>n>32?Nk(t,e,n):Jk(t,e,n);function cx(t,e=24){const n=new Uint32Array(10);for(let a=24-e;a<24;a++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const g=(l+8)%10,c=(l+2)%10,u=n[c],d=n[c+1],p=aB(u,d,1)^n[g],A=sB(u,d,1)^n[g+1];for(let G=0;G<50;G+=10)t[l+G]^=p,t[l+G+1]^=A}let s=t[2],r=t[3];for(let l=0;l<24;l++){const g=Tk[l],c=aB(s,r,g),u=sB(s,r,g),d=Hk[l];s=t[d],r=t[d+1],t[d]=c,t[d+1]=u}for(let l=0;l<50;l+=10){for(let g=0;g<10;g++)n[g]=t[l+g];for(let g=0;g<10;g++)t[l+g]^=~n[(g+2)%10]&n[(g+4)%10]}t[0]^=ox[a],t[1]^=lx[a]}n.fill(0)}let gx=class Fk extends q1{constructor(e,n,a,s=!1,r=24){if(super(),this.blockLen=e,this.suffix=n,this.outputLen=a,this.enableXOF=s,this.rounds=r,this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,im(a),0>=this.blockLen||this.blockLen>=200)throw new Error("Sha3 supports only keccak-f1600 function");this.state=new Uint8Array(200),this.state32=BJ(this.state)}keccak(){cx(this.state32,this.rounds),this.posOut=0,this.pos=0}update(e){hg(this);const{blockLen:n,state:a}=this;e=Km(e);const s=e.length;for(let r=0;r<s;){const l=Math.min(n-this.pos,s-r);for(let g=0;g<l;g++)a[this.pos++]^=e[r++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:a,blockLen:s}=this;e[a]^=n,(n&128)!==0&&a===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){hg(this,!1),$1(e),this.finish();const n=this.state,{blockLen:a}=this;for(let s=0,r=e.length;s<r;){this.posOut>=a&&this.keccak();const l=Math.min(a-this.posOut,r-s);e.set(n.subarray(this.posOut,this.posOut+l),s),this.posOut+=l,s+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return im(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(Sk(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,this.state.fill(0)}_cloneInto(e){const{blockLen:n,suffix:a,outputLen:s,rounds:r,enableXOF:l}=this;return e||(e=new Fk(n,a,s,l,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=a,e.outputLen=s,e.enableXOF=l,e.destroyed=this.destroyed,e}};const dx=(t,e,n)=>ef(()=>new gx(e,t,n)),Ix=dx(1,136,256/8);let Kk=!1;const Mk=function(t){return Ix(t)};let Uk=Mk;function nn(t){const e=it(t,"data");return Ve(Uk(e))}nn._=Mk;nn.lock=function(){Kk=!0};nn.register=function(t){if(Kk)throw new TypeError("keccak256 is locked");Uk=t};Object.freeze(nn);const Dk=function(t){return tx("sha256").update(t).digest()};let Lk=Dk,zk=!1;function xg(t){const e=it(t,"data");return Ve(Lk(e))}xg._=Dk;xg.lock=function(){zk=!0};xg.register=function(t){if(zk)throw new Error("sha256 is locked");Lk=t};Object.freeze(xg);Object.freeze(xg);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Qk=BigInt(0),Mm=BigInt(1),ux=BigInt(2),Um=t=>t instanceof Uint8Array,Cx=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function fg(t){if(!Um(t))throw new Error("Uint8Array expected");let e="";for(let n=0;n<t.length;n++)e+=Cx[t[n]];return e}function Pk(t){const e=t.toString(16);return e.length&1?`0${e}`:e}function tf(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return BigInt(t===""?"0":`0x${t}`)}function Zg(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length;if(e%2)throw new Error("padded hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(e/2);for(let a=0;a<n.length;a++){const s=a*2,r=t.slice(s,s+2),l=Number.parseInt(r,16);if(Number.isNaN(l)||l<0)throw new Error("Invalid byte sequence");n[a]=l}return n}function cl(t){return tf(fg(t))}function nf(t){if(!Um(t))throw new Error("Uint8Array expected");return tf(fg(Uint8Array.from(t).reverse()))}function Gg(t,e){return Zg(t.toString(16).padStart(e*2,"0"))}function af(t,e){return Gg(t,e).reverse()}function px(t){return Zg(Pk(t))}function us(t,e,n){let a;if(typeof e=="string")try{a=Zg(e)}catch(r){throw new Error(`${t} must be valid hex string, got "${e}". Cause: ${r}`)}else if(Um(e))a=Uint8Array.from(e);else throw new Error(`${t} must be hex string or Uint8Array`);const s=a.length;if(typeof n=="number"&&s!==n)throw new Error(`${t} expected ${n} bytes, got ${s}`);return a}function gI(...t){const e=new Uint8Array(t.reduce((a,s)=>a+s.length,0));let n=0;return t.forEach(a=>{if(!Um(a))throw new Error("Uint8Array expected");e.set(a,n),n+=a.length}),e}function mx(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0}function Ax(t){if(typeof t!="string")throw new Error(`utf8ToBytes expected string, got ${typeof t}`);return new Uint8Array(new TextEncoder().encode(t))}function yx(t){let e;for(e=0;t>Qk;t>>=Mm,e+=1);return e}function bx(t,e){return t>>BigInt(e)&Mm}const hx=(t,e,n)=>t|(n?Mm:Qk)<<BigInt(e),sf=t=>(ux<<BigInt(t-1))-Mm,J0=t=>new Uint8Array(t),iB=t=>Uint8Array.from(t);function Ok(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let a=J0(t),s=J0(t),r=0;const l=()=>{a.fill(1),s.fill(0),r=0},g=(...p)=>n(s,a,...p),c=(p=J0())=>{s=g(iB([0]),p),a=g(),p.length!==0&&(s=g(iB([1]),p),a=g())},u=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const A=[];for(;p<e;){a=g();const G=a.slice();A.push(G),p+=a.length}return gI(...A)};return(p,A)=>{l(),c(p);let G;for(;!(G=A(u()));)c();return l(),G}}const fx={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||t instanceof Uint8Array,isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function pu(t,e,n={}){const a=(s,r,l)=>{const g=fx[r];if(typeof g!="function")throw new Error(`Invalid validator "${r}", expected function`);const c=t[s];if(!(l&&c===void 0)&&!g(c,t))throw new Error(`Invalid param ${String(s)}=${c} (${typeof c}), expected ${r}`)};for(const[s,r]of Object.entries(e))a(s,r,!1);for(const[s,r]of Object.entries(n))a(s,r,!0);return t}const Zx=Object.freeze(Object.defineProperty({__proto__:null,bitGet:bx,bitLen:yx,bitMask:sf,bitSet:hx,bytesToHex:fg,bytesToNumberBE:cl,bytesToNumberLE:nf,concatBytes:gI,createHmacDrbg:Ok,ensureBytes:us,equalBytes:mx,hexToBytes:Zg,hexToNumber:tf,numberToBytesBE:Gg,numberToBytesLE:af,numberToHexUnpadded:Pk,numberToVarBytesBE:px,utf8ToBytes:Ax,validateObject:pu},Symbol.toStringTag,{value:"Module"}));/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const mn=BigInt(0),Qt=BigInt(1),Vo=BigInt(2),Gx=BigInt(3),vh=BigInt(4),rB=BigInt(5),oB=BigInt(8);BigInt(9);BigInt(16);function oa(t,e){const n=t%e;return n>=mn?n:e+n}function Bx(t,e,n){if(n<=mn||e<mn)throw new Error("Expected power/modulo > 0");if(n===Qt)return mn;let a=Qt;for(;e>mn;)e&Qt&&(a=a*t%n),t=t*t%n,e>>=Qt;return a}function Fa(t,e,n){let a=t;for(;e-- >mn;)a*=a,a%=n;return a}function Eh(t,e){if(t===mn||e<=mn)throw new Error(`invert: expected positive integers, got n=${t} mod=${e}`);let n=oa(t,e),a=e,s=mn,r=Qt;for(;n!==mn;){const g=a/n,c=a%n,u=s-r*g;a=n,n=c,s=r,r=u}if(a!==Qt)throw new Error("invert: does not exist");return oa(s,e)}function Sx(t){const e=(t-Qt)/Vo;let n,a,s;for(n=t-Qt,a=0;n%Vo===mn;n/=Vo,a++);for(s=Vo;s<t&&Bx(s,e,t)!==t-Qt;s++);if(a===1){const l=(t+Qt)/vh;return function(c,u){const d=c.pow(u,l);if(!c.eql(c.sqr(d),u))throw new Error("Cannot find square root");return d}}const r=(n+Qt)/Vo;return function(g,c){if(g.pow(c,e)===g.neg(g.ONE))throw new Error("Cannot find square root");let u=a,d=g.pow(g.mul(g.ONE,s),n),p=g.pow(c,r),A=g.pow(c,n);for(;!g.eql(A,g.ONE);){if(g.eql(A,g.ZERO))return g.ZERO;let G=1;for(let Z=g.sqr(A);G<u&&!g.eql(Z,g.ONE);G++)Z=g.sqr(Z);const w=g.pow(d,Qt<<BigInt(u-G-1));d=g.sqr(w),p=g.mul(p,w),A=g.mul(A,d),u=G}return p}}function wx(t){if(t%vh===Gx){const e=(t+Qt)/vh;return function(a,s){const r=a.pow(s,e);if(!a.eql(a.sqr(r),s))throw new Error("Cannot find square root");return r}}if(t%oB===rB){const e=(t-rB)/oB;return function(a,s){const r=a.mul(s,Vo),l=a.pow(r,e),g=a.mul(s,l),c=a.mul(a.mul(g,Vo),l),u=a.mul(g,a.sub(c,a.ONE));if(!a.eql(a.sqr(u),s))throw new Error("Cannot find square root");return u}}return Sx(t)}const kx=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Vx(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=kx.reduce((a,s)=>(a[s]="function",a),e);return pu(t,n)}function Rx(t,e,n){if(n<mn)throw new Error("Expected power > 0");if(n===mn)return t.ONE;if(n===Qt)return e;let a=t.ONE,s=e;for(;n>mn;)n&Qt&&(a=t.mul(a,s)),s=t.sqr(s),n>>=Qt;return a}function Wx(t,e){const n=new Array(e.length),a=e.reduce((r,l,g)=>t.is0(l)?r:(n[g]=r,t.mul(r,l)),t.ONE),s=t.inv(a);return e.reduceRight((r,l,g)=>t.is0(l)?r:(n[g]=t.mul(r,n[g]),t.mul(r,l)),s),n}function jk(t,e){const n=e!==void 0?e:t.toString(2).length,a=Math.ceil(n/8);return{nBitLength:n,nByteLength:a}}function vx(t,e,n=!1,a={}){if(t<=mn)throw new Error(`Expected Field ORDER > 0, got ${t}`);const{nBitLength:s,nByteLength:r}=jk(t,e);if(r>2048)throw new Error("Field lengths over 2048 bytes are not supported");const l=wx(t),g=Object.freeze({ORDER:t,BITS:s,BYTES:r,MASK:sf(s),ZERO:mn,ONE:Qt,create:c=>oa(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error(`Invalid field element: expected bigint, got ${typeof c}`);return mn<=c&&c<t},is0:c=>c===mn,isOdd:c=>(c&Qt)===Qt,neg:c=>oa(-c,t),eql:(c,u)=>c===u,sqr:c=>oa(c*c,t),add:(c,u)=>oa(c+u,t),sub:(c,u)=>oa(c-u,t),mul:(c,u)=>oa(c*u,t),pow:(c,u)=>Rx(g,c,u),div:(c,u)=>oa(c*Eh(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>Eh(c,t),sqrt:a.sqrt||(c=>l(g,c)),invertBatch:c=>Wx(g,c),cmov:(c,u,d)=>d?u:c,toBytes:c=>n?af(c,r):Gg(c,r),fromBytes:c=>{if(c.length!==r)throw new Error(`Fp.fromBytes: expected ${r}, got ${c.length}`);return n?nf(c):cl(c)}});return Object.freeze(g)}function _k(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function $k(t){const e=_k(t);return e+Math.ceil(e/2)}function Ex(t,e,n=!1){const a=t.length,s=_k(e),r=$k(e);if(a<16||a<r||a>1024)throw new Error(`expected ${r}-1024 bytes of input, got ${a}`);const l=n?cl(t):nf(t),g=oa(l,e-Qt)+Qt;return n?af(g,s):Gg(g,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Xx=BigInt(0),x0=BigInt(1);function Jx(t,e){const n=(s,r)=>{const l=r.negate();return s?l:r},a=s=>{const r=Math.ceil(e/s)+1,l=2**(s-1);return{windows:r,windowSize:l}};return{constTimeNegate:n,unsafeLadder(s,r){let l=t.ZERO,g=s;for(;r>Xx;)r&x0&&(l=l.add(g)),g=g.double(),r>>=x0;return l},precomputeWindow(s,r){const{windows:l,windowSize:g}=a(r),c=[];let u=s,d=u;for(let p=0;p<l;p++){d=u,c.push(d);for(let A=1;A<g;A++)d=d.add(u),c.push(d);u=d.double()}return c},wNAF(s,r,l){const{windows:g,windowSize:c}=a(s);let u=t.ZERO,d=t.BASE;const p=BigInt(2**s-1),A=2**s,G=BigInt(s);for(let w=0;w<g;w++){const Z=w*c;let V=Number(l&p);l>>=G,V>c&&(V-=A,l+=x0);const W=Z,D=Z+Math.abs(V)-1,x=w%2!==0,Y=V<0;V===0?d=d.add(n(x,r[W])):u=u.add(n(Y,r[D]))}return{p:u,f:d}},wNAFCached(s,r,l,g){const c=s._WINDOW_SIZE||1;let u=r.get(s);return u||(u=this.precomputeWindow(s,c),c!==1&&r.set(s,g(u))),this.wNAF(c,u,l)}}}function qk(t){return Vx(t.Fp),pu(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...jk(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function xx(t){const e=qk(t);pu(e,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});const{endo:n,Fp:a,a:s}=e;if(n){if(!a.eql(s,a.ZERO))throw new Error("Endomorphism can only be defined for Koblitz curves that have a=0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...e})}const{bytesToNumberBE:Nx,hexToBytes:Hx}=Zx,vo={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(t){const{Err:e}=vo;if(t.length<2||t[0]!==2)throw new e("Invalid signature integer tag");const n=t[1],a=t.subarray(2,n+2);if(!n||a.length!==n)throw new e("Invalid signature integer: wrong length");if(a[0]&128)throw new e("Invalid signature integer: negative");if(a[0]===0&&!(a[1]&128))throw new e("Invalid signature integer: unnecessary leading zero");return{d:Nx(a),l:t.subarray(n+2)}},toSig(t){const{Err:e}=vo,n=typeof t=="string"?Hx(t):t;if(!(n instanceof Uint8Array))throw new Error("ui8a expected");let a=n.length;if(a<2||n[0]!=48)throw new e("Invalid signature tag");if(n[1]!==a-2)throw new e("Invalid signature: incorrect length");const{d:s,l:r}=vo._parseInt(n.subarray(2)),{d:l,l:g}=vo._parseInt(r);if(g.length)throw new e("Invalid signature: left bytes after parsing");return{r:s,s:l}},hexFromSig(t){const e=u=>Number.parseInt(u[0],16)&8?"00"+u:u,n=u=>{const d=u.toString(16);return d.length&1?`0${d}`:d},a=e(n(t.s)),s=e(n(t.r)),r=a.length/2,l=s.length/2,g=n(r),c=n(l);return`30${n(l+r+4)}02${c}${s}02${g}${a}`}},Xi=BigInt(0),ja=BigInt(1);BigInt(2);const lB=BigInt(3);BigInt(4);function Tx(t){const e=xx(t),{Fp:n}=e,a=e.toBytes||((w,Z,V)=>{const W=Z.toAffine();return gI(Uint8Array.from([4]),n.toBytes(W.x),n.toBytes(W.y))}),s=e.fromBytes||(w=>{const Z=w.subarray(1),V=n.fromBytes(Z.subarray(0,n.BYTES)),W=n.fromBytes(Z.subarray(n.BYTES,2*n.BYTES));return{x:V,y:W}});function r(w){const{a:Z,b:V}=e,W=n.sqr(w),D=n.mul(W,w);return n.add(n.add(D,n.mul(w,Z)),V)}if(!n.eql(n.sqr(e.Gy),r(e.Gx)))throw new Error("bad generator point: equation left != right");function l(w){return typeof w=="bigint"&&Xi<w&&w<e.n}function g(w){if(!l(w))throw new Error("Expected valid bigint: 0 < bigint < curve.n")}function c(w){const{allowedPrivateKeyLengths:Z,nByteLength:V,wrapPrivateKey:W,n:D}=e;if(Z&&typeof w!="bigint"){if(w instanceof Uint8Array&&(w=fg(w)),typeof w!="string"||!Z.includes(w.length))throw new Error("Invalid key");w=w.padStart(V*2,"0")}let x;try{x=typeof w=="bigint"?w:cl(us("private key",w,V))}catch{throw new Error(`private key must be ${V} bytes, hex or bigint, not ${typeof w}`)}return W&&(x=oa(x,D)),g(x),x}const u=new Map;function d(w){if(!(w instanceof p))throw new Error("ProjectivePoint expected")}class p{constructor(Z,V,W){if(this.px=Z,this.py=V,this.pz=W,Z==null||!n.isValid(Z))throw new Error("x required");if(V==null||!n.isValid(V))throw new Error("y required");if(W==null||!n.isValid(W))throw new Error("z required")}static fromAffine(Z){const{x:V,y:W}=Z||{};if(!Z||!n.isValid(V)||!n.isValid(W))throw new Error("invalid affine point");if(Z instanceof p)throw new Error("projective point not allowed");const D=x=>n.eql(x,n.ZERO);return D(V)&&D(W)?p.ZERO:new p(V,W,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Z){const V=n.invertBatch(Z.map(W=>W.pz));return Z.map((W,D)=>W.toAffine(V[D])).map(p.fromAffine)}static fromHex(Z){const V=p.fromAffine(s(us("pointHex",Z)));return V.assertValidity(),V}static fromPrivateKey(Z){return p.BASE.multiply(c(Z))}_setWindowSize(Z){this._WINDOW_SIZE=Z,u.delete(this)}assertValidity(){if(this.is0()){if(e.allowInfinityPoint&&!n.is0(this.py))return;throw new Error("bad point: ZERO")}const{x:Z,y:V}=this.toAffine();if(!n.isValid(Z)||!n.isValid(V))throw new Error("bad point: x or y not FE");const W=n.sqr(V),D=r(Z);if(!n.eql(W,D))throw new Error("bad point: equation left != right");if(!this.isTorsionFree())throw new Error("bad point: not in prime-order subgroup")}hasEvenY(){const{y:Z}=this.toAffine();if(n.isOdd)return!n.isOdd(Z);throw new Error("Field doesn't support isOdd")}equals(Z){d(Z);const{px:V,py:W,pz:D}=this,{px:x,py:Y,pz:z}=Z,Q=n.eql(n.mul(V,z),n.mul(x,D)),P=n.eql(n.mul(W,z),n.mul(Y,D));return Q&&P}negate(){return new p(this.px,n.neg(this.py),this.pz)}double(){const{a:Z,b:V}=e,W=n.mul(V,lB),{px:D,py:x,pz:Y}=this;let z=n.ZERO,Q=n.ZERO,P=n.ZERO,_=n.mul(D,D),re=n.mul(x,x),ce=n.mul(Y,Y),ae=n.mul(D,x);return ae=n.add(ae,ae),P=n.mul(D,Y),P=n.add(P,P),z=n.mul(Z,P),Q=n.mul(W,ce),Q=n.add(z,Q),z=n.sub(re,Q),Q=n.add(re,Q),Q=n.mul(z,Q),z=n.mul(ae,z),P=n.mul(W,P),ce=n.mul(Z,ce),ae=n.sub(_,ce),ae=n.mul(Z,ae),ae=n.add(ae,P),P=n.add(_,_),_=n.add(P,_),_=n.add(_,ce),_=n.mul(_,ae),Q=n.add(Q,_),ce=n.mul(x,Y),ce=n.add(ce,ce),_=n.mul(ce,ae),z=n.sub(z,_),P=n.mul(ce,re),P=n.add(P,P),P=n.add(P,P),new p(z,Q,P)}add(Z){d(Z);const{px:V,py:W,pz:D}=this,{px:x,py:Y,pz:z}=Z;let Q=n.ZERO,P=n.ZERO,_=n.ZERO;const re=e.a,ce=n.mul(e.b,lB);let ae=n.mul(V,x),pe=n.mul(W,Y),ue=n.mul(D,z),M=n.add(V,W),S=n.add(x,Y);M=n.mul(M,S),S=n.add(ae,pe),M=n.sub(M,S),S=n.add(V,D);let E=n.add(x,z);return S=n.mul(S,E),E=n.add(ae,ue),S=n.sub(S,E),E=n.add(W,D),Q=n.add(Y,z),E=n.mul(E,Q),Q=n.add(pe,ue),E=n.sub(E,Q),_=n.mul(re,S),Q=n.mul(ce,ue),_=n.add(Q,_),Q=n.sub(pe,_),_=n.add(pe,_),P=n.mul(Q,_),pe=n.add(ae,ae),pe=n.add(pe,ae),ue=n.mul(re,ue),S=n.mul(ce,S),pe=n.add(pe,ue),ue=n.sub(ae,ue),ue=n.mul(re,ue),S=n.add(S,ue),ae=n.mul(pe,S),P=n.add(P,ae),ae=n.mul(E,S),Q=n.mul(M,Q),Q=n.sub(Q,ae),ae=n.mul(M,pe),_=n.mul(E,_),_=n.add(_,ae),new p(Q,P,_)}subtract(Z){return this.add(Z.negate())}is0(){return this.equals(p.ZERO)}wNAF(Z){return G.wNAFCached(this,u,Z,V=>{const W=n.invertBatch(V.map(D=>D.pz));return V.map((D,x)=>D.toAffine(W[x])).map(p.fromAffine)})}multiplyUnsafe(Z){const V=p.ZERO;if(Z===Xi)return V;if(g(Z),Z===ja)return this;const{endo:W}=e;if(!W)return G.unsafeLadder(this,Z);let{k1neg:D,k1:x,k2neg:Y,k2:z}=W.splitScalar(Z),Q=V,P=V,_=this;for(;x>Xi||z>Xi;)x&ja&&(Q=Q.add(_)),z&ja&&(P=P.add(_)),_=_.double(),x>>=ja,z>>=ja;return D&&(Q=Q.negate()),Y&&(P=P.negate()),P=new p(n.mul(P.px,W.beta),P.py,P.pz),Q.add(P)}multiply(Z){g(Z);let V=Z,W,D;const{endo:x}=e;if(x){const{k1neg:Y,k1:z,k2neg:Q,k2:P}=x.splitScalar(V);let{p:_,f:re}=this.wNAF(z),{p:ce,f:ae}=this.wNAF(P);_=G.constTimeNegate(Y,_),ce=G.constTimeNegate(Q,ce),ce=new p(n.mul(ce.px,x.beta),ce.py,ce.pz),W=_.add(ce),D=re.add(ae)}else{const{p:Y,f:z}=this.wNAF(V);W=Y,D=z}return p.normalizeZ([W,D])[0]}multiplyAndAddUnsafe(Z,V,W){const D=p.BASE,x=(z,Q)=>Q===Xi||Q===ja||!z.equals(D)?z.multiplyUnsafe(Q):z.multiply(Q),Y=x(this,V).add(x(Z,W));return Y.is0()?void 0:Y}toAffine(Z){const{px:V,py:W,pz:D}=this,x=this.is0();Z==null&&(Z=x?n.ONE:n.inv(D));const Y=n.mul(V,Z),z=n.mul(W,Z),Q=n.mul(D,Z);if(x)return{x:n.ZERO,y:n.ZERO};if(!n.eql(Q,n.ONE))throw new Error("invZ was invalid");return{x:Y,y:z}}isTorsionFree(){const{h:Z,isTorsionFree:V}=e;if(Z===ja)return!0;if(V)return V(p,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Z,clearCofactor:V}=e;return Z===ja?this:V?V(p,this):this.multiplyUnsafe(e.h)}toRawBytes(Z=!0){return this.assertValidity(),a(p,this,Z)}toHex(Z=!0){return fg(this.toRawBytes(Z))}}p.BASE=new p(e.Gx,e.Gy,n.ONE),p.ZERO=new p(n.ZERO,n.ONE,n.ZERO);const A=e.nBitLength,G=Jx(p,e.endo?Math.ceil(A/2):A);return{CURVE:e,ProjectivePoint:p,normPrivateKeyToScalar:c,weierstrassEquation:r,isWithinCurveOrder:l}}function Yx(t){const e=qk(t);return pu(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Fx(t){const e=Yx(t),{Fp:n,n:a}=e,s=n.BYTES+1,r=2*n.BYTES+1;function l(S){return Xi<S&&S<n.ORDER}function g(S){return oa(S,a)}function c(S){return Eh(S,a)}const{ProjectivePoint:u,normPrivateKeyToScalar:d,weierstrassEquation:p,isWithinCurveOrder:A}=Tx({...e,toBytes(S,E,N){const X=E.toAffine(),R=n.toBytes(X.x),T=gI;return N?T(Uint8Array.from([E.hasEvenY()?2:3]),R):T(Uint8Array.from([4]),R,n.toBytes(X.y))},fromBytes(S){const E=S.length,N=S[0],X=S.subarray(1);if(E===s&&(N===2||N===3)){const R=cl(X);if(!l(R))throw new Error("Point is not on curve");const T=p(R);let J=n.sqrt(T);const K=(J&ja)===ja;return(N&1)===1!==K&&(J=n.neg(J)),{x:R,y:J}}else if(E===r&&N===4){const R=n.fromBytes(X.subarray(0,n.BYTES)),T=n.fromBytes(X.subarray(n.BYTES,2*n.BYTES));return{x:R,y:T}}else throw new Error(`Point of length ${E} was invalid. Expected ${s} compressed bytes or ${r} uncompressed bytes`)}}),G=S=>fg(Gg(S,e.nByteLength));function w(S){const E=a>>ja;return S>E}function Z(S){return w(S)?g(-S):S}const V=(S,E,N)=>cl(S.slice(E,N));class W{constructor(E,N,X){this.r=E,this.s=N,this.recovery=X,this.assertValidity()}static fromCompact(E){const N=e.nByteLength;return E=us("compactSignature",E,N*2),new W(V(E,0,N),V(E,N,2*N))}static fromDER(E){const{r:N,s:X}=vo.toSig(us("DER",E));return new W(N,X)}assertValidity(){if(!A(this.r))throw new Error("r must be 0 < r < CURVE.n");if(!A(this.s))throw new Error("s must be 0 < s < CURVE.n")}addRecoveryBit(E){return new W(this.r,this.s,E)}recoverPublicKey(E){const{r:N,s:X,recovery:R}=this,T=P(us("msgHash",E));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const J=R===2||R===3?N+e.n:N;if(J>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(R&1)===0?"02":"03",se=u.fromHex(K+G(J)),de=c(J),le=g(-T*de),Ze=g(X*de),Ne=u.BASE.multiplyAndAddUnsafe(se,le,Ze);if(!Ne)throw new Error("point at infinify");return Ne.assertValidity(),Ne}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new W(this.r,g(-this.s),this.recovery):this}toDERRawBytes(){return Zg(this.toDERHex())}toDERHex(){return vo.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return Zg(this.toCompactHex())}toCompactHex(){return G(this.r)+G(this.s)}}const D={isValidPrivateKey(S){try{return d(S),!0}catch{return!1}},normPrivateKeyToScalar:d,randomPrivateKey:()=>{const S=$k(e.n);return Ex(e.randomBytes(S),e.n)},precompute(S=8,E=u.BASE){return E._setWindowSize(S),E.multiply(BigInt(3)),E}};function x(S,E=!0){return u.fromPrivateKey(S).toRawBytes(E)}function Y(S){const E=S instanceof Uint8Array,N=typeof S=="string",X=(E||N)&&S.length;return E?X===s||X===r:N?X===2*s||X===2*r:S instanceof u}function z(S,E,N=!0){if(Y(S))throw new Error("first arg must be private key");if(!Y(E))throw new Error("second arg must be public key");return u.fromHex(E).multiply(d(S)).toRawBytes(N)}const Q=e.bits2int||function(S){const E=cl(S),N=S.length*8-e.nBitLength;return N>0?E>>BigInt(N):E},P=e.bits2int_modN||function(S){return g(Q(S))},_=sf(e.nBitLength);function re(S){if(typeof S!="bigint")throw new Error("bigint expected");if(!(Xi<=S&&S<_))throw new Error(`bigint expected < 2^${e.nBitLength}`);return Gg(S,e.nByteLength)}function ce(S,E,N=ae){if(["recovered","canonical"].some(Me=>Me in N))throw new Error("sign() legacy options not supported");const{hash:X,randomBytes:R}=e;let{lowS:T,prehash:J,extraEntropy:K}=N;T==null&&(T=!0),S=us("msgHash",S),J&&(S=us("prehashed msgHash",X(S)));const se=P(S),de=d(E),le=[re(de),re(se)];if(K!=null){const Me=K===!0?R(n.BYTES):K;le.push(us("extraEntropy",Me))}const Ze=gI(...le),Ne=se;function ze(Me){const ot=Q(Me);if(!A(ot))return;const _t=c(ot),Nt=u.BASE.multiply(ot).toAffine(),Ct=g(Nt.x);if(Ct===Xi)return;const $t=g(_t*g(Ne+Ct*de));if($t===Xi)return;let wn=(Nt.x===Ct?0:2)|Number(Nt.y&ja),Ut=$t;return T&&w($t)&&(Ut=Z($t),wn^=1),new W(Ct,Ut,wn)}return{seed:Ze,k2sig:ze}}const ae={lowS:e.lowS,prehash:!1},pe={lowS:e.lowS,prehash:!1};function ue(S,E,N=ae){const{seed:X,k2sig:R}=ce(S,E,N),T=e;return Ok(T.hash.outputLen,T.nByteLength,T.hmac)(X,R)}u.BASE._setWindowSize(8);function M(S,E,N,X=pe){var Nt;const R=S;if(E=us("msgHash",E),N=us("publicKey",N),"strict"in X)throw new Error("options.strict was renamed to lowS");const{lowS:T,prehash:J}=X;let K,se;try{if(typeof R=="string"||R instanceof Uint8Array)try{K=W.fromDER(R)}catch(Ct){if(!(Ct instanceof vo.Err))throw Ct;K=W.fromCompact(R)}else if(typeof R=="object"&&typeof R.r=="bigint"&&typeof R.s=="bigint"){const{r:Ct,s:$t}=R;K=new W(Ct,$t)}else throw new Error("PARSE");se=u.fromHex(N)}catch(Ct){if(Ct.message==="PARSE")throw new Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(T&&K.hasHighS())return!1;J&&(E=e.hash(E));const{r:de,s:le}=K,Ze=P(E),Ne=c(le),ze=g(Ze*Ne),Me=g(de*Ne),ot=(Nt=u.BASE.multiplyAndAddUnsafe(se,ze,Me))==null?void 0:Nt.toAffine();return ot?g(ot.x)===de:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:z,sign:ue,verify:M,ProjectivePoint:u,Signature:W,utils:D}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Kx(t){return{hash:t,hmac:(e,...n)=>Vk(t,e,kJ(...n)),randomBytes:VJ}}function Mx(t,e){const n=a=>Fx({...t,...Kx(a)});return Object.freeze({...n(e),create:n})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const e9=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),cB=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ux=BigInt(1),Xh=BigInt(2),gB=(t,e)=>(t+e/Xh)/e;function Dx(t){const e=e9,n=BigInt(3),a=BigInt(6),s=BigInt(11),r=BigInt(22),l=BigInt(23),g=BigInt(44),c=BigInt(88),u=t*t*t%e,d=u*u*t%e,p=Fa(d,n,e)*d%e,A=Fa(p,n,e)*d%e,G=Fa(A,Xh,e)*u%e,w=Fa(G,s,e)*G%e,Z=Fa(w,r,e)*w%e,V=Fa(Z,g,e)*Z%e,W=Fa(V,c,e)*V%e,D=Fa(W,g,e)*Z%e,x=Fa(D,n,e)*d%e,Y=Fa(x,l,e)*w%e,z=Fa(Y,a,e)*u%e,Q=Fa(z,Xh,e);if(!Jh.eql(Jh.sqr(Q),t))throw new Error("Cannot find square root");return Q}const Jh=vx(e9,void 0,void 0,{sqrt:Dx}),Zr=Mx({a:BigInt(0),b:BigInt(7),Fp:Jh,n:cB,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=cB,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-Ux*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=n,l=BigInt("0x100000000000000000000000000000000"),g=gB(r*t,e),c=gB(-a*t,e);let u=oa(t-g*n-c*s,e),d=oa(-g*a-c*r,e);const p=u>l,A=d>l;if(p&&(u=e-u),A&&(d=e-d),u>l||d>l)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:u,k2neg:A,k2:d}}}},Wk);BigInt(0);Zr.ProjectivePoint;const dI="0x0000000000000000000000000000000000000000",dB="0x0000000000000000000000000000000000000000000000000000000000000000",IB=BigInt(0),uB=BigInt(1),CB=BigInt(2),pB=BigInt(27),mB=BigInt(28),_C=BigInt(35),tc={};function AB(t){return ul(Un(t),32)}var Tc,Yc,Fc,zo;const Is=class Is{constructor(e,n,a,s){q(this,Tc);q(this,Yc);q(this,Fc);q(this,zo);Hm(e,tc,"Signature"),H(this,Tc,n),H(this,Yc,a),H(this,Fc,s),H(this,zo,null)}get r(){return y(this,Tc)}set r(e){$(Zc(e)===32,"invalid r","value",e),H(this,Tc,Ve(e))}get s(){return y(this,Yc)}set s(e){$(Zc(e)===32,"invalid s","value",e);const n=Ve(e);$(parseInt(n.substring(0,3))<8,"non-canonical s","value",n),H(this,Yc,n)}get v(){return y(this,Fc)}set v(e){const n=qe(e,"value");$(n===27||n===28,"invalid v","v",e),H(this,Fc,n)}get networkV(){return y(this,zo)}get legacyChainId(){const e=this.networkV;return e==null?null:Is.getChainId(e)}get yParity(){return this.v===27?0:1}get yParityAndS(){const e=it(this.s);return this.yParity&&(e[0]|=128),Ve(e)}get compactSerialized(){return Ot([this.r,this.yParityAndS])}get serialized(){return Ot([this.r,this.s,this.yParity?"0x1c":"0x1b"])}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){const e=new Is(tc,this.r,this.s,this.v);return this.networkV&&H(e,zo,this.networkV),e}toJSON(){const e=this.networkV;return{_type:"signature",networkV:e!=null?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){const n=ve(e,"v");return n==pB||n==mB?IB:($(n>=_C,"invalid EIP-155 v","v",e),(n-_C)/CB)}static getChainIdV(e,n){return ve(e)*CB+BigInt(35+n-27)}static getNormalizedV(e){const n=ve(e);return n===IB||n===pB?27:n===uB||n===mB?28:($(n>=_C,"invalid v","v",e),n&uB?27:28)}static from(e){function n(u,d){$(u,d,"signature",e)}if(e==null)return new Is(tc,dB,dB,27);if(typeof e=="string"){const u=it(e,"signature");if(u.length===64){const d=Ve(u.slice(0,32)),p=u.slice(32,64),A=p[0]&128?28:27;return p[0]&=127,new Is(tc,d,Ve(p),A)}if(u.length===65){const d=Ve(u.slice(0,32)),p=u.slice(32,64);n((p[0]&128)===0,"non-canonical s");const A=Is.getNormalizedV(u[64]);return new Is(tc,d,Ve(p),A)}n(!1,"invalid raw signature length")}if(e instanceof Is)return e.clone();const a=e.r;n(a!=null,"missing r");const s=AB(a),r=function(u,d){if(u!=null)return AB(u);if(d!=null){n(St(d,32),"invalid yParityAndS");const p=it(d);return p[0]&=127,Ve(p)}n(!1,"missing s")}(e.s,e.yParityAndS);n((it(r)[0]&128)==0,"non-canonical s");const{networkV:l,v:g}=function(u,d,p){if(u!=null){const A=ve(u);return{networkV:A>=_C?A:void 0,v:Is.getNormalizedV(A)}}if(d!=null)return n(St(d,32),"invalid yParityAndS"),{v:it(d)[0]&128?28:27};if(p!=null){switch(qe(p,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}n(!1,"invalid yParity")}n(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),c=new Is(tc,s,r,g);return l&&H(c,zo,l),n(e.yParity==null||qe(e.yParity,"sig.yParity")===c.yParity,"yParity mismatch"),n(e.yParityAndS==null||e.yParityAndS===c.yParityAndS,"yParityAndS mismatch"),c}};Tc=new WeakMap,Yc=new WeakMap,Fc=new WeakMap,zo=new WeakMap;let Zs=Is;var Gi;const Ro=class Ro{constructor(e){q(this,Gi);$(Zc(e)===32,"invalid private key","privateKey","[REDACTED]"),H(this,Gi,Ve(e))}get privateKey(){return y(this,Gi)}get publicKey(){return Ro.computePublicKey(y(this,Gi))}get compressedPublicKey(){return Ro.computePublicKey(y(this,Gi),!0)}sign(e){$(Zc(e)===32,"invalid digest length","digest",e);const n=Zr.sign(Mn(e),Mn(y(this,Gi)),{lowS:!0});return Zs.from({r:Or(n.r,32),s:Or(n.s,32),v:n.recovery?28:27})}computeSharedSecret(e){const n=Ro.computePublicKey(e);return Ve(Zr.getSharedSecret(Mn(y(this,Gi)),it(n),!1))}static computePublicKey(e,n){let a=it(e,"key");if(a.length===32){const r=Zr.getPublicKey(a,!!n);return Ve(r)}if(a.length===64){const r=new Uint8Array(65);r[0]=4,r.set(a,1),a=r}const s=Zr.ProjectivePoint.fromHex(a);return Ve(s.toRawBytes(n))}static recoverPublicKey(e,n){$(Zc(e)===32,"invalid digest length","digest",e);const a=Zs.from(n);let s=Zr.Signature.fromCompact(Mn(Ot([a.r,a.s])));s=s.addRecoveryBit(a.yParity);const r=s.recoverPublicKey(Mn(e));return $(r!=null,"invalid signautre for digest","signature",n),"0x"+r.toHex(!1)}static addPoints(e,n,a){const s=Zr.ProjectivePoint.fromHex(Ro.computePublicKey(e).substring(2)),r=Zr.ProjectivePoint.fromHex(Ro.computePublicKey(n).substring(2));return"0x"+s.add(r).toHex(!!a)}};Gi=new WeakMap;let II=Ro;const Lx=BigInt(0),zx=BigInt(36);function yB(t){t=t.toLowerCase();const e=t.substring(2).split(""),n=new Uint8Array(40);for(let s=0;s<40;s++)n[s]=e[s].charCodeAt(0);const a=it(nn(n));for(let s=0;s<40;s+=2)a[s>>1]>>4>=8&&(e[s]=e[s].toUpperCase()),(a[s>>1]&15)>=8&&(e[s+1]=e[s+1].toUpperCase());return"0x"+e.join("")}const rf={};for(let t=0;t<10;t++)rf[String(t)]=String(t);for(let t=0;t<26;t++)rf[String.fromCharCode(65+t)]=String(10+t);const bB=15;function Qx(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(a=>rf[a]).join("");for(;e.length>=bB;){let a=e.substring(0,bB);e=parseInt(a,10)%97+e.substring(a.length)}let n=String(98-parseInt(e,10)%97);for(;n.length<2;)n="0"+n;return n}const Px=function(){const t={};for(let e=0;e<36;e++){const n="0123456789abcdefghijklmnopqrstuvwxyz"[e];t[n]=BigInt(e)}return t}();function Ox(t){t=t.toLowerCase();let e=Lx;for(let n=0;n<t.length;n++)e=e*zx+Px[t[n]];return e}function bt(t){if($(typeof t=="string","invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/)){t.startsWith("0x")||(t="0x"+t);const e=yB(t);return $(!t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||e===t,"bad address checksum","address",t),e}if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){$(t.substring(2,4)===Qx(t),"bad icap checksum","address",t);let e=Ox(t.substring(4)).toString(16);for(;e.length<40;)e="0"+e;return yB("0x"+e)}$(!1,"invalid address","address",t)}function jx(t){const e=bt(t.from);let a=ve(t.nonce,"tx.nonce").toString(16);return a==="0"?a="0x":a.length%2?a="0x0"+a:a="0x"+a,bt(Yt(nn(Cl([e,a])),12))}function t9(t){return t&&typeof t.getAddress=="function"}async function N0(t,e){const n=await e;return(n==null||n==="0x0000000000000000000000000000000000000000")&&(ye(typeof t!="string","unconfigured name","UNCONFIGURED_NAME",{value:t}),$(!1,"invalid AddressLike value; did not resolve to a value address","target",t)),bt(n)}function Ln(t,e){if(typeof t=="string")return t.match(/^0x[0-9a-f]{40}$/i)?bt(t):(ye(e!=null,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),N0(t,e.resolveName(t)));if(t9(t))return N0(t,t.getAddress());if(t&&typeof t.then=="function")return N0(t,t);$(!1,"unsupported addressable value","target",t)}const pi={};function ke(t,e){let n=!1;return e<0&&(n=!0,e*=-1),new Jn(pi,`${n?"":"u"}int${e}`,t,{signed:n,width:e})}function ct(t,e){return new Jn(pi,`bytes${e||""}`,t,{size:e})}const hB=Symbol.for("_ethers_typed");var Qo;const mi=class mi{constructor(e,n,a,s){te(this,"type");te(this,"value");q(this,Qo);te(this,"_typedSymbol");s==null&&(s=null),Hm(pi,e,"Typed"),Ye(this,{_typedSymbol:hB,type:n,value:a}),H(this,Qo,s),this.format()}format(){if(this.type==="array")throw new Error("");if(this.type==="dynamicArray")throw new Error("");return this.type==="tuple"?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return this.type==="string"}get tupleName(){if(this.type!=="tuple")throw TypeError("not a tuple");return y(this,Qo)}get arrayLength(){if(this.type!=="array")throw TypeError("not an array");return y(this,Qo)===!0?-1:y(this,Qo)===!1?this.value.length:null}static from(e,n){return new mi(pi,e,n)}static uint8(e){return ke(e,8)}static uint16(e){return ke(e,16)}static uint24(e){return ke(e,24)}static uint32(e){return ke(e,32)}static uint40(e){return ke(e,40)}static uint48(e){return ke(e,48)}static uint56(e){return ke(e,56)}static uint64(e){return ke(e,64)}static uint72(e){return ke(e,72)}static uint80(e){return ke(e,80)}static uint88(e){return ke(e,88)}static uint96(e){return ke(e,96)}static uint104(e){return ke(e,104)}static uint112(e){return ke(e,112)}static uint120(e){return ke(e,120)}static uint128(e){return ke(e,128)}static uint136(e){return ke(e,136)}static uint144(e){return ke(e,144)}static uint152(e){return ke(e,152)}static uint160(e){return ke(e,160)}static uint168(e){return ke(e,168)}static uint176(e){return ke(e,176)}static uint184(e){return ke(e,184)}static uint192(e){return ke(e,192)}static uint200(e){return ke(e,200)}static uint208(e){return ke(e,208)}static uint216(e){return ke(e,216)}static uint224(e){return ke(e,224)}static uint232(e){return ke(e,232)}static uint240(e){return ke(e,240)}static uint248(e){return ke(e,248)}static uint256(e){return ke(e,256)}static uint(e){return ke(e,256)}static int8(e){return ke(e,-8)}static int16(e){return ke(e,-16)}static int24(e){return ke(e,-24)}static int32(e){return ke(e,-32)}static int40(e){return ke(e,-40)}static int48(e){return ke(e,-48)}static int56(e){return ke(e,-56)}static int64(e){return ke(e,-64)}static int72(e){return ke(e,-72)}static int80(e){return ke(e,-80)}static int88(e){return ke(e,-88)}static int96(e){return ke(e,-96)}static int104(e){return ke(e,-104)}static int112(e){return ke(e,-112)}static int120(e){return ke(e,-120)}static int128(e){return ke(e,-128)}static int136(e){return ke(e,-136)}static int144(e){return ke(e,-144)}static int152(e){return ke(e,-152)}static int160(e){return ke(e,-160)}static int168(e){return ke(e,-168)}static int176(e){return ke(e,-176)}static int184(e){return ke(e,-184)}static int192(e){return ke(e,-192)}static int200(e){return ke(e,-200)}static int208(e){return ke(e,-208)}static int216(e){return ke(e,-216)}static int224(e){return ke(e,-224)}static int232(e){return ke(e,-232)}static int240(e){return ke(e,-240)}static int248(e){return ke(e,-248)}static int256(e){return ke(e,-256)}static int(e){return ke(e,-256)}static bytes1(e){return ct(e,1)}static bytes2(e){return ct(e,2)}static bytes3(e){return ct(e,3)}static bytes4(e){return ct(e,4)}static bytes5(e){return ct(e,5)}static bytes6(e){return ct(e,6)}static bytes7(e){return ct(e,7)}static bytes8(e){return ct(e,8)}static bytes9(e){return ct(e,9)}static bytes10(e){return ct(e,10)}static bytes11(e){return ct(e,11)}static bytes12(e){return ct(e,12)}static bytes13(e){return ct(e,13)}static bytes14(e){return ct(e,14)}static bytes15(e){return ct(e,15)}static bytes16(e){return ct(e,16)}static bytes17(e){return ct(e,17)}static bytes18(e){return ct(e,18)}static bytes19(e){return ct(e,19)}static bytes20(e){return ct(e,20)}static bytes21(e){return ct(e,21)}static bytes22(e){return ct(e,22)}static bytes23(e){return ct(e,23)}static bytes24(e){return ct(e,24)}static bytes25(e){return ct(e,25)}static bytes26(e){return ct(e,26)}static bytes27(e){return ct(e,27)}static bytes28(e){return ct(e,28)}static bytes29(e){return ct(e,29)}static bytes30(e){return ct(e,30)}static bytes31(e){return ct(e,31)}static bytes32(e){return ct(e,32)}static address(e){return new mi(pi,"address",e)}static bool(e){return new mi(pi,"bool",!!e)}static bytes(e){return new mi(pi,"bytes",e)}static string(e){return new mi(pi,"string",e)}static array(e,n){throw new Error("not implemented yet")}static tuple(e,n){throw new Error("not implemented yet")}static overrides(e){return new mi(pi,"overrides",Object.assign({},e))}static isTyped(e){return e&&typeof e=="object"&&"_typedSymbol"in e&&e._typedSymbol===hB}static dereference(e,n){if(mi.isTyped(e)){if(e.type!==n)throw new Error(`invalid type: expecetd ${n}, got ${e.type}`);return e.value}return e}};Qo=new WeakMap;let Jn=mi;class _x extends Li{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,n){let a=Jn.dereference(n,"string");try{a=bt(a)}catch(s){return this._throwError(s.message,n)}return e.writeValue(a)}decode(e){return bt(Or(e.readValue(),20))}}class $x extends Li{constructor(n){super(n.name,n.type,"_",n.dynamic);te(this,"coder");this.coder=n}defaultValue(){return this.coder.defaultValue()}encode(n,a){return this.coder.encode(n,a)}decode(n){return this.coder.decode(n)}}function n9(t,e,n){let a=[];if(Array.isArray(n))a=n;else if(n&&typeof n=="object"){let c={};a=e.map(u=>{const d=u.localName;return ye(d,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),ye(!c[d],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:u},value:n}),c[d]=!0,n[d]})}else $(!1,"invalid tuple value","tuple",n);$(e.length===a.length,"types/value length mismatch","tuple",n);let s=new Vh,r=new Vh,l=[];e.forEach((c,u)=>{let d=a[u];if(c.dynamic){let p=r.length;c.encode(r,d);let A=s.writeUpdatableValue();l.push(G=>{A(G+p)})}else c.encode(s,d)}),l.forEach(c=>{c(s.length)});let g=t.appendWriter(s);return g+=t.appendWriter(r),g}function a9(t,e){let n=[],a=[],s=t.subReader(0);return e.forEach(r=>{let l=null;if(r.dynamic){let g=t.readIndex(),c=s.subReader(g);try{l=r.decode(c)}catch(u){if(Gn(u,"BUFFER_OVERRUN"))throw u;l=u,l.baseType=r.name,l.name=r.localName,l.type=r.type}}else try{l=r.decode(t)}catch(g){if(Gn(g,"BUFFER_OVERRUN"))throw g;l=g,l.baseType=r.name,l.name=r.localName,l.type=r.type}if(l==null)throw new Error("investigate");n.push(l),a.push(r.localName||null)}),bg.fromItems(n,a)}class qx extends Li{constructor(n,a,s){const r=n.type+"["+(a>=0?a:"")+"]",l=a===-1||n.dynamic;super("array",r,s,l);te(this,"coder");te(this,"length");Ye(this,{coder:n,length:a})}defaultValue(){const n=this.coder.defaultValue(),a=[];for(let s=0;s<this.length;s++)a.push(n);return a}encode(n,a){const s=Jn.dereference(a,"array");Array.isArray(s)||this._throwError("expected array value",s);let r=this.length;r===-1&&(r=s.length,n.writeValue(s.length)),dk(s.length,r,"coder array"+(this.localName?" "+this.localName:""));let l=[];for(let g=0;g<s.length;g++)l.push(this.coder);return n9(n,l,s)}decode(n){let a=this.length;a===-1&&(a=n.readIndex(),ye(a*Dn<=n.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:n.bytes,offset:a*Dn,length:n.dataLength}));let s=[];for(let r=0;r<a;r++)s.push(new $x(this.coder));return a9(n,s)}}class eN extends Li{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,n){const a=Jn.dereference(n,"bool");return e.writeValue(a?1:0)}decode(e){return!!e.readValue()}}class s9 extends Li{constructor(e,n){super(e,e,n,!0)}defaultValue(){return"0x"}encode(e,n){n=Mn(n);let a=e.writeValue(n.length);return a+=e.writeBytes(n),a}decode(e){return e.readBytes(e.readIndex(),!0)}}class tN extends s9{constructor(e){super("bytes",e)}decode(e){return Ve(super.decode(e))}}class nN extends Li{constructor(n,a){let s="bytes"+String(n);super(s,s,a,!1);te(this,"size");Ye(this,{size:n},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(n,a){let s=Mn(Jn.dereference(a,this.type));return s.length!==this.size&&this._throwError("incorrect data length",a),n.writeBytes(s)}decode(n){return Ve(n.readBytes(this.size))}}const aN=new Uint8Array([]);class sN extends Li{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,n){return n!=null&&this._throwError("not null",n),e.writeBytes(aN)}decode(e){return e.readBytes(0),null}}const iN=BigInt(0),rN=BigInt(1),oN=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");class lN extends Li{constructor(n,a,s){const r=(a?"int":"uint")+n*8;super(r,r,s,!1);te(this,"size");te(this,"signed");Ye(this,{size:n,signed:a},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(n,a){let s=ve(Jn.dereference(a,this.type)),r=$d(oN,Dn*8);if(this.signed){let l=$d(r,this.size*8-1);(s>l||s<-(l+rN))&&this._throwError("value out-of-bounds",a),s=Ck(s,8*Dn)}else(s<iN||s>$d(r,this.size*8))&&this._throwError("value out-of-bounds",a);return n.writeValue(s)}decode(n){let a=$d(n.readValue(),this.size*8);return this.signed&&(a=aJ(a,this.size*8)),a}}class cN extends s9{constructor(e){super("string",e)}defaultValue(){return""}encode(e,n){return super.encode(e,Hi(Jn.dereference(n,"string")))}decode(e){return sm(super.decode(e))}}class $C extends Li{constructor(n,a){let s=!1;const r=[];n.forEach(g=>{g.dynamic&&(s=!0),r.push(g.type)});const l="tuple("+r.join(",")+")";super("tuple",l,a,s);te(this,"coders");Ye(this,{coders:Object.freeze(n.slice())})}defaultValue(){const n=[];this.coders.forEach(s=>{n.push(s.defaultValue())});const a=this.coders.reduce((s,r)=>{const l=r.localName;return l&&(s[l]||(s[l]=0),s[l]++),s},{});return this.coders.forEach((s,r)=>{let l=s.localName;!l||a[l]!==1||(l==="length"&&(l="_length"),n[l]==null&&(n[l]=n[r]))}),Object.freeze(n)}encode(n,a){const s=Jn.dereference(a,"tuple");return n9(n,this.coders,s)}decode(n){return a9(n,this.coders)}}function pl(t){return nn(Hi(t))}var gN="AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI";const fB=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]),ZB=4;function dN(t){let e=0;function n(){return t[e++]<<8|t[e++]}let a=n(),s=1,r=[0,1];for(let z=1;z<a;z++)r.push(s+=n());let l=n(),g=e;e+=l;let c=0,u=0;function d(){return c==0&&(u=u<<8|t[e++],c=8),u>>--c&1}const p=31,A=2**p,G=A>>>1,w=G>>1,Z=A-1;let V=0;for(let z=0;z<p;z++)V=V<<1|d();let W=[],D=0,x=A;for(;;){let z=Math.floor(((V-D+1)*s-1)/x),Q=0,P=a;for(;P-Q>1;){let ce=Q+P>>>1;z<r[ce]?P=ce:Q=ce}if(Q==0)break;W.push(Q);let _=D+Math.floor(x*r[Q]/s),re=D+Math.floor(x*r[Q+1]/s)-1;for(;((_^re)&G)==0;)V=V<<1&Z|d(),_=_<<1&Z,re=re<<1&Z|1;for(;_&~re&w;)V=V&G|V<<1&Z>>>1|d(),_=_<<1^G,re=(re^G)<<1|G|1;D=_,x=1+re-_}let Y=a-4;return W.map(z=>{switch(z-Y){case 3:return Y+65792+(t[g++]<<16|t[g++]<<8|t[g++]);case 2:return Y+256+(t[g++]<<8|t[g++]);case 1:return Y+t[g++];default:return z-1}})}function IN(t){let e=0;return()=>t[e++]}function i9(t){return IN(dN(uN(t)))}function uN(t){let e=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((s,r)=>e[s.charCodeAt(0)]=r);let n=t.length,a=new Uint8Array(6*n>>3);for(let s=0,r=0,l=0,g=0;s<n;s++)g=g<<6|e[t.charCodeAt(s)],l+=6,l>=8&&(a[r++]=g>>(l-=8));return a}function CN(t){return t&1?~t>>1:t>>1}function pN(t,e){let n=Array(t);for(let a=0,s=0;a<t;a++)n[a]=s+=CN(e());return n}function uI(t,e=0){let n=[];for(;;){let a=t(),s=t();if(!s)break;e+=a;for(let r=0;r<s;r++)n.push(e+r);e+=s+1}return n}function r9(t){return CI(()=>{let e=uI(t);if(e.length)return e})}function o9(t){let e=[];for(;;){let n=t();if(n==0)break;e.push(mN(n,t))}for(;;){let n=t()-1;if(n<0)break;e.push(AN(n,t))}return e.flat()}function CI(t){let e=[];for(;;){let n=t(e.length);if(!n)break;e.push(n)}return e}function l9(t,e,n){let a=Array(t).fill().map(()=>[]);for(let s=0;s<e;s++)pN(t,n).forEach((r,l)=>a[l].push(r));return a}function mN(t,e){let n=1+e(),a=e(),s=CI(e);return l9(s.length,1+t,e).flatMap((l,g)=>{let[c,...u]=l;return Array(s[g]).fill().map((d,p)=>{let A=p*a;return[c+p*n,u.map(G=>G+A)]})})}function AN(t,e){let n=1+e();return l9(n,1+t,e).map(s=>[s[0],s.slice(1)])}function yN(t){let e=[],n=uI(t);return s(a([]),[]),e;function a(r){let l=t(),g=CI(()=>{let c=uI(t).map(u=>n[u]);if(c.length)return a(c)});return{S:l,B:g,Q:r}}function s({S:r,B:l},g,c){if(!(r&4&&c===g[g.length-1])){r&2&&(c=g[g.length-1]),r&1&&e.push(g);for(let u of l)for(let d of u.Q)s(u,[...g,d],c)}}}function bN(t){return t.toString(16).toUpperCase().padStart(2,"0")}function c9(t){return`{${bN(t)}}`}function hN(t){let e=[];for(let n=0,a=t.length;n<a;){let s=t.codePointAt(n);n+=s<65536?1:2,e.push(s)}return e}function Bg(t){let n=t.length;if(n<4096)return String.fromCodePoint(...t);let a=[];for(let s=0;s<n;)a.push(String.fromCodePoint(...t.slice(s,s+=4096)));return a.join("")}function fN(t,e){let n=t.length,a=n-e.length;for(let s=0;a==0&&s<n;s++)a=t[s]-e[s];return a}var ZN="AEUDTAHBCFQATQDRADAAcgAgADQAFAAsABQAHwAOACQADQARAAoAFwAHABIACAAPAAUACwAFAAwABAAQAAMABwAEAAoABQAIAAIACgABAAQAFAALAAIACwABAAIAAQAHAAMAAwAEAAsADAAMAAwACgANAA0AAwAKAAkABAAdAAYAZwDSAdsDJgC0CkMB8xhZAqfoC190UGcThgBurwf7PT09Pb09AjgJum8OjDllxHYUKXAPxzq6tABAxgK8ysUvWAgMPT09PT09PSs6LT2HcgWXWwFLoSMEEEl5RFVMKvO0XQ8ExDdJMnIgsj26PTQyy8FfEQ8AY8IPAGcEbwRwBHEEcgRzBHQEdQR2BHcEeAR6BHsEfAR+BIAEgfndBQoBYgULAWIFDAFiBNcE2ATZBRAFEQUvBdALFAsVDPcNBw13DYcOMA4xDjMB4BllHI0B2grbAMDpHLkQ7QHVAPRNQQFnGRUEg0yEB2uaJF8AJpIBpob5AERSMAKNoAXqaQLUBMCzEiACnwRZEkkVsS7tANAsBG0RuAQLEPABv9HICTUBXigPZwRBApMDOwAamhtaABqEAY8KvKx3LQ4ArAB8UhwEBAVSagD8AEFZADkBIadVj2UMUgx5Il4ANQC9AxIB1BlbEPMAs30CGxlXAhwZKQIECBc6EbsCoxngzv7UzRQA8M0BawL6ZwkN7wABAD33OQRcsgLJCjMCjqUChtw/km+NAsXPAoP2BT84PwURAK0RAvptb6cApQS/OMMey5HJS84UdxpxTPkCogVFITaTOwERAK5pAvkNBOVyA7q3BKlOJSALAgUIBRcEdASpBXqzABXFSWZOawLCOqw//AolCZdvv3dSBkEQGyelEPcMMwG1ATsN7UvYBPEGOwTJH30ZGQ/NlZwIpS3dDO0m4y6hgFoj9SqDBe1L9DzdC01RaA9ZC2UJ4zpjgU4DIQENIosK3Q05CG0Q8wrJaw3lEUUHOQPVSZoApQcBCxEdNRW1JhBirAsJOXcG+xr2C48mrxMpevwF0xohBk0BKRr/AM8u54WwWjFcHE9fBgMLJSPHFKhQIA0lQLd4SBobBxUlqQKRQ3BKh1E2HpMh9jw9DWYuE1F8B/U8BRlPC4E8nkarRQ4R0j6NPUgiSUwsBDV/LC8niwnPD4UMuXxyAVkJIQmxDHETMREXN8UIOQcZLZckJxUIIUaVYJoE958D8xPRAwsFPwlBBxMDtRwtEy4VKQUNgSTXAvM21S6zAo9WgAEXBcsPJR/fEFBH4A7pCJsCZQODJesALRUhABcimwhDYwBfj9hTBS7LCMdqbCN0A2cU52ERcweRDlcHpxwzFb8c4XDIXguGCCijrwlbAXUJmQFfBOMICTVbjKAgQWdTi1gYmyBhQT9d/AIxDGUVn0S9h3gCiw9rEhsBNQFzBzkNAQJ3Ee0RaxCVCOuGBDW1M/g6JQRPIYMgEQonA09szgsnJvkM+GkBoxJiAww0PXfuZ6tgtiQX/QcZMsVBYCHxC5JPzQycGsEYQlQuGeQHvwPzGvMn6kFXBf8DowMTOk0z7gS9C2kIiwk/AEkOoxcH1xhqCnGM0AExiwG3mQNXkYMCb48GNwcLAGcLhwV55QAdAqcIowAFAM8DVwA5Aq0HnQAZAIVBAT0DJy8BIeUCjwOTCDHLAZUvAfMpBBvDDBUA9zduSgLDsQKAamaiBd1YAo4CSTUBTSUEBU5HUQOvceEA2wBLBhPfRwEVq0rLGuNDAd9vKwDHAPsABTUHBUEBzQHzbQC3AV8LMQmis7UBTekpAIMAFWsB1wKJAN0ANQB/8QFTAE0FWfkF0wJPSQERMRgrV2EBuwMfATMBDQB5BsuNpckHHwRtB9MCEBsV4QLvLge1AQMi3xPNQsUCvd5VoWACZIECYkJbTa9bNyACofcCaJgCZgkCn4Q4GwsCZjsCZiYEbgR/A38TA36SOQY5dxc5gjojIwJsHQIyNjgKAm3HAm2u74ozZ0UrAWcA3gDhAEoFB5gMjQD+C8IADbUCdy8CdqI/AnlLQwJ4uh1c20WuRtcCfD8CesgCfQkCfPAFWQUgSABIfWMkAoFtAoAAAoAFAn+uSVhKWxUXSswC0QEC0MxLJwOITwOH5kTFkTIC8qFdAwMDrkvOTC0lA89NTE2vAos/AorYwRsHHUNnBbcCjjcCjlxAl4ECjtkCjlx4UbRTNQpS1FSFApP7ApMMAOkAHFUeVa9V0AYsGymVhjLheGZFOzkCl58C77JYIagAWSUClo8ClnycAKlZrFoJgU0AOwKWtQKWTlxEXNECmcsCmWRcyl0HGQKcmznCOp0CnBYCn5sCnriKAB0PMSoPAp3xAp6SALU9YTRh7wKe0wKgbgGpAp6fHwKeTqVjyGQnJSsCJ68CJn4CoPsCoEwCot0CocQCpi8Cpc4Cp/8AfQKn8mh8aLEAA0lqHGrRAqzjAqyuAq1nAq0CAlcdAlXcArHh1wMfTmyXArK9DQKy6Bds4G1jbUhfAyXNArZcOz9ukAMpRQK4XgK5RxUCuSp3cDZw4QK9GQK72nCWAzIRAr6IcgIDM3ECvhpzInNPAsPLAsMEc4J0SzVFdOADPKcDPJoDPb8CxXwCxkcCxhCJAshpUQLIRALJTwLJLgJknQLd0nh5YXiueSVL0AMYo2cCAmH0GfOVJHsLXpJeuxECz2sCz2wvS1PS8xOfAMatAs9zASnqA04SfksFAtwnAtuKAtJPA1JcA1NfAQEDVYyAiT8AyxbtYEWCHILTgs6DjQLaxwLZ3oQQhEmnPAOGpQAvA2QOhnFZ+QBVAt9lAt64c3cC4i/tFAHzMCcB9JsB8tKHAuvzAulweQLq+QLq5AD5RwG5Au6JAuuclqqXAwLuPwOF4Jh5cOBxoQLzAwBpA44WmZMC9xMDkW4DkocC95gC+dkC+GaaHJqruzebHgOdgwL++gEbADmfHJ+zAwWNA6ZqA6bZANHFAwZqoYiiBQkDDEkCwAA/AwDhQRdTARHzA2sHl2cFAJMtK7evvdsBiZkUfxEEOQH7KQUhDp0JnwCS/SlXxQL3AZ0AtwW5AG8LbUEuFCaNLgFDAYD8AbUmAHUDDgRtACwCFgyhAAAKAj0CagPdA34EkQEgRQUhfAoABQBEABMANhICdwEABdUDa+8KxQIA9wqfJ7+xt+UBkSFBQgHpFH8RNMCJAAQAGwBaAkUChIsABjpTOpSNbQC4Oo860ACNOME63AClAOgAywE6gTo7Ofw5+Tt2iTpbO56JOm85GAFWATMBbAUvNV01njWtNWY1dTW2NcU1gjWRNdI14TWeNa017jX9NbI1wTYCNhE1xjXVNhY2JzXeNe02LjY9Ni41LSE2OjY9Njw2yTcIBJA8VzY4Nt03IDcPNsogN4k3MAoEsDxnNiQ3GTdsOo03IULUQwdC4EMLHA8PCZsobShRVQYA6X8A6bABFCnXAukBowC9BbcAbwNzBL8MDAMMAQgDAAkKCwsLCQoGBAVVBI/DvwDz9b29kaUCb0QtsRTNLt4eGBcSHAMZFhYZEhYEARAEBUEcQRxBHEEcQRxBHEEaQRxBHEFCSTxBPElISUhBNkM2QTYbNklISVmBVIgBFLWZAu0BhQCjBcEAbykBvwGJAaQcEZ0ePCklMAAhMvAIMAL54gC7Bm8EescjzQMpARQpKgDUABavAj626xQAJP0A3etzuf4NNRA7efy2Z9NQrCnC0OSyANz5BBIbJ5IFDR6miIavYS6tprjjmuKebxm5C74Q225X1pkaYYPb6f1DK4k3xMEBb9S2WMjEibTNWhsRJIA+vwNVEiXTE5iXs/wezV66oFLfp9NZGYW+Gk19J2+bCT6Ye2w6LDYdgzKMUabk595eLBCXANz9HUpWbATq9vqXVx9XDg+Pc9Xp4+bsS005SVM/BJBM4687WUuf+Uj9dEi8aDNaPxtpbDxcG1THTImUMZq4UCaaNYpsVqraNyKLJXDYsFZ/5jl7bLRtO88t7P3xZaAxhb5OdPMXqsSkp1WCieG8jXm1U99+blvLlXzPCS+M93VnJCiK+09LfaSaBAVBomyDgJua8dfUzR7ga34IvR2Nvj+A9heJ6lsl1KG4NkI1032Cnff1m1wof2B9oHJK4bi6JkEdSqeNeiuo6QoZZincoc73/TH9SXF8sCE7XyuYyW8WSgbGFCjPV0ihLKhdPs08Tx82fYAkLLc4I2wdl4apY7GU5lHRFzRWJep7Ww3wbeA3qmd59/86P4xuNaqDpygXt6M85glSBHOCGgJDnt+pN9bK7HApMguX6+06RZNjzVmcZJ+wcUrJ9//bpRNxNuKpNl9uFds+S9tdx7LaM5ZkIrPj6nIU9mnbFtVbs9s/uLgl8MVczAwet+iOEzzBlYW7RCMgE6gyNLeq6+1tIx4dpgZnd0DksJS5f+JNDpwwcPNXaaVspq1fbQajOrJgK0ofKtJ1Ne90L6VO4MOl5S886p7u6xo7OLjG8TGL+HU1JXGJgppg4nNbNJ5nlzSpuPYy21JUEcUA94PoFiZfjZue+QnyQ80ekOuZVkxx4g+cvhJfHgNl4hy1/a6+RKcKlar/J29y//EztlbVPHVUeQ1zX86eQVAjR/M3dA9w4W8LfaXp4EgM85wOWasli837PzVMOnsLzR+k3o75/lRPAJSE1xAKQzEi5v10ke+VBvRt1cwQRMd+U5mLCTGVd6XiZtgBG5cDi0w22GKcVNvHiu5LQbZEDVtz0onn7k5+heuKXVsZtSzilkLRAUmjMXEMB3J9YC50XBxPiz53SC+EhnPl9WsKCv92SM/OFFIMJZYfl0WW8tIO3UxYcwdMAj7FSmgrsZ2aAZO03BOhP1bNNZItyXYQFTpC3SG1VuPDqH9GkiCDmE+JwxyIVSO5siDErAOpEXFgjy6PQtOVDj+s6e1r8heWVvmZnTciuf4EiNZzCAd7SOMhXERIOlsHIMG399i9aLTy3m2hRLZjJVDNLS53iGIK11dPqQt0zBDyg6qc7YqkDm2M5Ve6dCWCaCbTXX2rToaIgz6+zh4lYUi/+6nqcFMAkQJKHYLK0wYk5N9szV6xihDbDDFr45lN1K4aCXBq/FitPSud9gLt5ZVn+ZqGX7cwm2z5EGMgfFpIFyhGGuDPmso6TItTMwny+7uPnLCf4W6goFQFV0oQSsc9VfMmVLcLr6ZetDZbaSFTLqnSO/bIPjA3/zAUoqgGFAEQS4IhuMzEp2I3jJzbzkk/IEmyax+rhZTwd6f+CGtwPixu8IvzACquPWPREu9ZvGkUzpRwvRRuaNN6cr0W1wWits9ICdYJ7ltbgMiSL3sTPeufgNcVqMVWFkCPDH4jG2jA0XcVgQj62Cb29v9f/z/+2KbYvIv/zzjpQAPkliaVDzNrW57TZ/ZOyZD0nlfMmAIBIAGAI0D3k/mdN4xr9v85ZbZbbqfH2jGd5hUqNZWwl5SPfoGmfElmazUIeNL1j/mkF7VNAzTq4jNt8JoQ11NQOcmhprXoxSxfRGJ9LDEOAQ+dmxAQH90iti9e2u/MoeuaGcDTHoC+xsmEeWmxEKefQuIzHbpw5Tc5cEocboAD09oipWQhtTO1wivf/O+DRe2rpl/E9wlrzBorjJsOeG1B/XPW4EaJEFdNlECEZga5ZoGRHXgYouGRuVkm8tDESiEyFNo+3s5M5puSdTyUL2llnINVHEt91XUNW4ewdMgJ4boJfEyt/iY5WXqbA+A2Fkt5Z0lutiWhe9nZIyIUjyXDC3UsaG1t+eNx6z4W/OYoTB7A6x+dNSTOi9AInctbESqm5gvOLww7OWXPrmHwVZasrl4eD113pm+JtT7JVOvnCXqdzzdTRHgJ0PiGTFYW5Gvt9R9LD6Lzfs0v/TZZHSmyVNq7viIHE6DBK7Qp07Iz55EM8SYtQvZf/obBniTWi5C2/ovHfw4VndkE5XYdjOhCMRjDeOEfXeN/CwfGduiUIfsoFeUxXeQXba7c7972XNv8w+dTjjUM0QeNAReW+J014dKAD/McQYXT7c0GQPIkn3Ll6R7gGjuiQoZD0TEeEqQpKoZ15g/0OPQI17QiSv9AUROa/V/TQN3dvLArec3RrsYlvBm1b8LWzltdugsC50lNKYLEp2a+ZZYqPejULRlOJh5zj/LVMyTDvwKhMxxwuDkxJ1QpoNI0OTWLom4Z71SNzI9TV1iXJrIu9Wcnd+MCaAw8o1jSXd94YU/1gnkrC9BUEOtQvEIQ7g0i6h+KL2JKk8Ydl7HruvgWMSAmNe+LshGhV4qnWHhO9/RIPQzY1tHRj2VqOyNsDpK0cww+56AdDC4gsWwY0XxoucIWIqs/GcwnWqlaT0KPr8mbK5U94/301i1WLt4YINTVvCFBrFZbIbY8eycOdeJ2teD5IfPLCRg7jjcFTwlMFNl9zdh/o3E/hHPwj7BWg0MU09pPrBLbrCgm54A6H+I6v27+jL5gkjWg/iYdks9jbfVP5y/n0dlgWEMlKasl7JvFZd56LfybW1eeaVO0gxTfXZwD8G4SI116yx7UKVRgui6Ya1YpixqXeNLc8IxtAwCU5IhwQgn+NqHnRaDv61CxKhOq4pOX7M6pkA+Pmpd4j1vn6ACUALoLLc4vpXci8VidLxzm7qFBe7s+quuJs6ETYmnpgS3LwSZxPIltgBDXz8M1k/W2ySNv2f9/NPhxLGK2D21dkHeSGmenRT3Yqcdl0m/h3OYr8V+lXNYGf8aCCpd4bWjE4QIPj7vUKN4Nrfs7ML6Y2OyS830JCnofg/k7lpFpt4SqZc5HGg1HCOrHvOdC8bP6FGDbE/VV0mX4IakzbdS/op+Kt3G24/8QbBV7y86sGSQ/vZzU8FXs7u6jIvwchsEP2BpIhW3G8uWNwa3HmjfH/ZjhhCWvluAcF+nMf14ClKg5hGgtPLJ98ueNAkc5Hs2WZlk2QHvfreCK1CCGO6nMZVSb99VM/ajr8WHTte9JSmkXq/i/U943HEbdzW6Re/S88dKgg8pGOLlAeNiqrcLkUR3/aClFpMXcOUP3rmETcWSfMXZE3TUOi8i+fqRnTYLflVx/Vb/6GJ7eIRZUA6k3RYR3iFSK9c4iDdNwJuZL2FKz/IK5VimcNWEqdXjSoxSgmF0UPlDoUlNrPcM7ftmA8Y9gKiqKEHuWN+AZRIwtVSxye2Kf8rM3lhJ5XcBXU9n4v0Oy1RU2M+4qM8AQPVwse8ErNSob5oFPWxuqZnVzo1qB/IBxkM3EVUKFUUlO3e51259GgNcJbCmlvrdjtoTW7rChm1wyCKzpCTwozUUEOIcWLneRLgMXh+SjGSFkAllzbGS5HK7LlfCMRNRDSvbQPjcXaenNYxCvu2Qyznz6StuxVj66SgI0T8B6/sfHAJYZaZ78thjOSIFumNWLQbeZixDCCC+v0YBtkxiBB3jefHqZ/dFHU+crbj6OvS1x/JDD7vlm7zOVPwpUC01nhxZuY/63E7g";const pI=44032,rm=4352,om=4449,lm=4519,g9=19,d9=21,Sg=28,cm=d9*Sg,GN=g9*cm,BN=pI+GN,SN=rm+g9,wN=om+d9,kN=lm+Sg;function eI(t){return t>>24&255}function I9(t){return t&16777215}let xh,GB,Nh,zp;function VN(){let t=i9(ZN);xh=new Map(r9(t).flatMap((e,n)=>e.map(a=>[a,n+1<<24]))),GB=new Set(uI(t)),Nh=new Map,zp=new Map;for(let[e,n]of o9(t)){if(!GB.has(e)&&n.length==2){let[a,s]=n,r=zp.get(a);r||(r=new Map,zp.set(a,r)),r.set(s,e)}Nh.set(e,n.reverse())}}function u9(t){return t>=pI&&t<BN}function RN(t,e){if(t>=rm&&t<SN&&e>=om&&e<wN)return pI+(t-rm)*cm+(e-om)*Sg;if(u9(t)&&e>lm&&e<kN&&(t-pI)%Sg==0)return t+(e-lm);{let n=zp.get(t);return n&&(n=n.get(e),n)?n:-1}}function C9(t){xh||VN();let e=[],n=[],a=!1;function s(r){let l=xh.get(r);l&&(a=!0,r|=l),e.push(r)}for(let r of t)for(;;){if(r<128)e.push(r);else if(u9(r)){let l=r-pI,g=l/cm|0,c=l%cm/Sg|0,u=l%Sg;s(rm+g),s(om+c),u>0&&s(lm+u)}else{let l=Nh.get(r);l?n.push(...l):s(r)}if(!n.length)break;r=n.pop()}if(a&&e.length>1){let r=eI(e[0]);for(let l=1;l<e.length;l++){let g=eI(e[l]);if(g==0||r<=g){r=g;continue}let c=l-1;for(;;){let u=e[c+1];if(e[c+1]=e[c],e[c]=u,!c||(r=eI(e[--c]),r<=g))break}r=eI(e[l])}}return e}function WN(t){let e=[],n=[],a=-1,s=0;for(let r of t){let l=eI(r),g=I9(r);if(a==-1)l==0?a=g:e.push(g);else if(s>0&&s>=l)l==0?(e.push(a,...n),n.length=0,a=g):n.push(g),s=l;else{let c=RN(a,g);c>=0?a=c:s==0&&l==0?(e.push(a),a=g):(n.push(g),s=l)}}return a>=0&&e.push(a,...n),e}function p9(t){return C9(t).map(I9)}function vN(t){return WN(C9(t))}const BB=45,m9=".",A9=65039,y9=1,gm=t=>Array.from(t);function mI(t,e){return t.P.has(e)||t.Q.has(e)}class EN extends Array{get is_emoji(){return!0}}let Hh,b9,Eo,Th,h9,Gc,H0,dc,wo,SB,Yh;function of(){if(Hh)return;let t=i9(gN);const e=()=>uI(t),n=()=>new Set(e()),a=(d,p)=>p.forEach(A=>d.add(A));Hh=new Map(o9(t)),b9=n(),Eo=e(),Th=new Set(e().map(d=>Eo[d])),Eo=new Set(Eo),h9=n(),n();let s=r9(t),r=t();const l=()=>{let d=new Set;return e().forEach(p=>a(d,s[p])),a(d,e()),d};Gc=CI(d=>{let p=CI(t).map(A=>A+96);if(p.length){let A=d>=r;p[0]-=32,p=Bg(p),A&&(p=`Restricted[${p}]`);let G=l(),w=l(),Z=!t();return{N:p,P:G,Q:w,M:Z,R:A}}}),H0=n(),dc=new Map;let g=e().concat(gm(H0)).sort((d,p)=>d-p);g.forEach((d,p)=>{let A=t(),G=g[p]=A?g[p-A]:{V:[],M:new Map};G.V.push(d),H0.has(d)||dc.set(d,G)});for(let{V:d,M:p}of new Set(dc.values())){let A=[];for(let w of d){let Z=Gc.filter(W=>mI(W,w)),V=A.find(({G:W})=>Z.some(D=>W.has(D)));V||(V={G:new Set,V:[]},A.push(V)),V.V.push(w),a(V.G,Z)}let G=A.flatMap(w=>gm(w.G));for(let{G:w,V:Z}of A){let V=new Set(G.filter(W=>!w.has(W)));for(let W of Z)p.set(W,V)}}wo=new Set;let c=new Set;const u=d=>wo.has(d)?c.add(d):wo.add(d);for(let d of Gc){for(let p of d.P)u(p);for(let p of d.Q)u(p)}for(let d of wo)!dc.has(d)&&!c.has(d)&&dc.set(d,y9);a(wo,p9(wo)),SB=yN(t).map(d=>EN.from(d)).sort(fN),Yh=new Map;for(let d of SB){let p=[Yh];for(let A of d){let G=p.map(w=>{let Z=w.get(A);return Z||(Z=new Map,w.set(A,Z)),Z});A===A9?p.push(...G):p=G}for(let A of p)A.V=d}}function lf(t){return(f9(t)?"":`${cf(Dm([t]))} `)+c9(t)}function cf(t){return`"${t}"`}function XN(t){if(t.length>=4&&t[2]==BB&&t[3]==BB)throw new Error(`invalid label extension: "${Bg(t.slice(0,4))}"`)}function JN(t){for(let n=t.lastIndexOf(95);n>0;)if(t[--n]!==95)throw new Error("underscore allowed only at start")}function xN(t){let e=t[0],n=fB.get(e);if(n)throw oI(`leading ${n}`);let a=t.length,s=-1;for(let r=1;r<a;r++){e=t[r];let l=fB.get(e);if(l){if(s==r)throw oI(`${n} + ${l}`);s=r+1,n=l}}if(s==a)throw oI(`trailing ${n}`)}function Dm(t,e=1/0,n=c9){let a=[];NN(t[0])&&a.push(""),t.length>e&&(e>>=1,t=[...t.slice(0,e),8230,...t.slice(-e)]);let s=0,r=t.length;for(let l=0;l<r;l++){let g=t[l];f9(g)&&(a.push(Bg(t.slice(s,l))),a.push(n(g)),s=l+1)}return a.push(Bg(t.slice(s,r))),a.join("")}function NN(t){return of(),Eo.has(t)}function f9(t){return of(),h9.has(t)}function HN(t){return KN(TN(t,vN,DN))}function TN(t,e,n){if(!t)return[];of();let a=0;return t.split(m9).map(s=>{let r=hN(s),l={input:r,offset:a};a+=r.length+1;try{let g=l.tokens=UN(r,e,n),c=g.length,u;if(!c)throw new Error("empty label");let d=l.output=g.flat();if(JN(d),!(l.emoji=c>1||g[0].is_emoji)&&d.every(A=>A<128))XN(d),u="ASCII";else{let A=g.flatMap(G=>G.is_emoji?[]:G);if(!A.length)u="Emoji";else{if(Eo.has(d[0]))throw oI("leading combining mark");for(let Z=1;Z<c;Z++){let V=g[Z];if(!V.is_emoji&&Eo.has(V[0]))throw oI(`emoji + combining mark: "${Bg(g[Z-1])} + ${Dm([V[0]])}"`)}xN(d);let G=gm(new Set(A)),[w]=FN(G);MN(w,A),YN(w,G),u=w.N}}l.type=u}catch(g){l.error=g}return l})}function YN(t,e){let n,a=[];for(let s of e){let r=dc.get(s);if(r===y9)return;if(r){let l=r.M.get(s);if(n=n?n.filter(g=>l.has(g)):gm(l),!n.length)return}else a.push(s)}if(n){for(let s of n)if(a.every(r=>mI(s,r)))throw new Error(`whole-script confusable: ${t.N}/${s.N}`)}}function FN(t){let e=Gc;for(let n of t){let a=e.filter(s=>mI(s,n));if(!a.length)throw Gc.some(s=>mI(s,n))?G9(e[0],n):Z9(n);if(e=a,a.length==1)break}return e}function KN(t){return t.map(({input:e,error:n,output:a})=>{if(n){let s=n.message;throw new Error(t.length==1?s:`Invalid label ${cf(Dm(e,63))}: ${s}`)}return Bg(a)}).join(m9)}function Z9(t){return new Error(`disallowed character: ${lf(t)}`)}function G9(t,e){let n=lf(e),a=Gc.find(s=>s.P.has(e));return a&&(n=`${a.N} ${n}`),new Error(`illegal mixture: ${t.N} + ${n}`)}function oI(t){return new Error(`illegal placement: ${t}`)}function MN(t,e){for(let n of e)if(!mI(t,n))throw G9(t,n);if(t.M){let n=p9(e);for(let a=1,s=n.length;a<s;a++)if(Th.has(n[a])){let r=a+1;for(let l;r<s&&Th.has(l=n[r]);r++)for(let g=a;g<r;g++)if(n[g]==l)throw new Error(`duplicate non-spacing marks: ${lf(l)}`);if(r-a>ZB)throw new Error(`excessive non-spacing marks: ${cf(Dm(n.slice(a-1,r)))} (${r-a}/${ZB})`);a=r}}}function UN(t,e,n){let a=[],s=[];for(t=t.slice().reverse();t.length;){let r=LN(t);if(r)s.length&&(a.push(e(s)),s=[]),a.push(n(r));else{let l=t.pop();if(wo.has(l))s.push(l);else{let g=Hh.get(l);if(g)s.push(...g);else if(!b9.has(l))throw Z9(l)}}}return s.length&&a.push(e(s)),a}function DN(t){return t.filter(e=>e!=A9)}function LN(t,e){let n=Yh,a,s=t.length;for(;s&&(n=n.get(t[--s]),!!n);){let{V:r}=n;r&&(a=r,t.length=s)}return a}const B9=new Uint8Array(32);B9.fill(0);function wB(t){return $(t.length!==0,"invalid ENS name; empty component","comp",t),t}function S9(t){const e=Hi(zN(t)),n=[];if(t.length===0)return n;let a=0;for(let s=0;s<e.length;s++)e[s]===46&&(n.push(wB(e.slice(a,s))),a=s+1);return $(a<e.length,"invalid ENS name; empty component","name",t),n.push(wB(e.slice(a))),n}function zN(t){try{if(t.length===0)throw new Error("empty label");return HN(t)}catch(e){$(!1,`invalid ENS name (${e.message})`,"name",t)}}function Fh(t){$(typeof t=="string","invalid ENS name; not a string","name",t),$(t.length,"invalid ENS name (empty label)","name",t);let e=B9;const n=S9(t);for(;n.length;)e=nn(Ot([e,nn(n.pop())]));return Ve(e)}function QN(t,e){const n=e;return $(n<=255,"DNS encoded label cannot exceed 255","length",n),Ve(Ot(S9(t).map(a=>{$(a.length<=n,`label ${JSON.stringify(t)} exceeds ${n} bytes`,"name",t);const s=new Uint8Array(a.length+1);return s.set(a,1),s[0]=s.length-1,s})))+"00"}function T0(t,e){return{address:bt(t),storageKeys:e.map((n,a)=>($(St(n,32),"invalid slot",`storageKeys[${a}]`,n),n.toLowerCase()))}}function kl(t){if(Array.isArray(t))return t.map((n,a)=>Array.isArray(n)?($(n.length===2,"invalid slot set",`value[${a}]`,n),T0(n[0],n[1])):($(n!=null&&typeof n=="object","invalid address-slot set","value",t),T0(n.address,n.storageKeys)));$(t!=null&&typeof t=="object","invalid access list","value",t);const e=Object.keys(t).map(n=>{const a=t[n].reduce((s,r)=>(s[r]=!0,s),{});return T0(n,Object.keys(a).sort())});return e.sort((n,a)=>n.address.localeCompare(a.address)),e}function PN(t){let e;return typeof t=="string"?e=II.computePublicKey(t,!1):e=t.publicKey,bt(nn("0x"+e.substring(4)).substring(26))}function ON(t,e){return PN(II.recoverPublicKey(t,e))}const pn=BigInt(0),jN=BigInt(2),_N=BigInt(27),$N=BigInt(28),qN=BigInt(35),eH=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Y0=4096*32;function kB(t,e){let n=t.toString(16);for(;n.length<2;)n="0"+n;return n+=xg(e).substring(4),"0x"+n}function Lm(t){return t==="0x"?null:bt(t)}function gf(t,e){try{return kl(t)}catch(n){$(!1,n.message,e,t)}}function mu(t,e){return t==="0x"?0:qe(t,e)}function Pt(t,e){if(t==="0x")return pn;const n=ve(t,e);return $(n<=eH,"value exceeds uint size",e,n),n}function Vt(t,e){const n=ve(t,"value"),a=Un(n);return $(a.length<=32,"value too large",`tx.${e}`,n),a}function df(t){return kl(t).map(e=>[e.address,e.storageKeys])}function tH(t,e){$(Array.isArray(t),`invalid ${e}`,"value",t);for(let n=0;n<t.length;n++)$(St(t[n],32),"invalid ${ param } hash",`value[${n}]`,t[n]);return t}function nH(t){const e=Fm(t);$(Array.isArray(e)&&(e.length===9||e.length===6),"invalid field count for legacy transaction","data",t);const n={type:0,nonce:mu(e[0],"nonce"),gasPrice:Pt(e[1],"gasPrice"),gasLimit:Pt(e[2],"gasLimit"),to:Lm(e[3]),value:Pt(e[4],"value"),data:Ve(e[5]),chainId:pn};if(e.length===6)return n;const a=Pt(e[6],"v"),s=Pt(e[7],"r"),r=Pt(e[8],"s");if(s===pn&&r===pn)n.chainId=a;else{let l=(a-qN)/jN;l<pn&&(l=pn),n.chainId=l,$(l!==pn||a===_N||a===$N,"non-canonical legacy v","v",e[6]),n.signature=Zs.from({r:ul(e[7],32),s:ul(e[8],32),v:a})}return n}function aH(t,e){const n=[Vt(t.nonce,"nonce"),Vt(t.gasPrice||0,"gasPrice"),Vt(t.gasLimit,"gasLimit"),t.to||"0x",Vt(t.value,"value"),t.data];let a=pn;if(t.chainId!=pn)a=ve(t.chainId,"tx.chainId"),$(!e||e.networkV==null||e.legacyChainId===a,"tx.chainId/sig.v mismatch","sig",e);else if(t.signature){const r=t.signature.legacyChainId;r!=null&&(a=r)}if(!e)return a!==pn&&(n.push(Un(a)),n.push("0x"),n.push("0x")),Cl(n);let s=BigInt(27+e.yParity);return a!==pn?s=Zs.getChainIdV(a,e.v):BigInt(e.v)!==s&&$(!1,"tx.chainId/sig.v mismatch","sig",e),n.push(Un(s)),n.push(Un(e.r)),n.push(Un(e.s)),Cl(n)}function If(t,e){let n;try{if(n=mu(e[0],"yParity"),n!==0&&n!==1)throw new Error("bad yParity")}catch{$(!1,"invalid yParity","yParity",e[0])}const a=ul(e[1],32),s=ul(e[2],32),r=Zs.from({r:a,s,yParity:n});t.signature=r}function sH(t){const e=Fm(it(t).slice(1));$(Array.isArray(e)&&(e.length===9||e.length===12),"invalid field count for transaction type: 2","data",Ve(t));const n={type:2,chainId:Pt(e[0],"chainId"),nonce:mu(e[1],"nonce"),maxPriorityFeePerGas:Pt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Pt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Pt(e[4],"gasLimit"),to:Lm(e[5]),value:Pt(e[6],"value"),data:Ve(e[7]),accessList:gf(e[8],"accessList")};return e.length===9||If(n,e.slice(9)),n}function iH(t,e){const n=[Vt(t.chainId,"chainId"),Vt(t.nonce,"nonce"),Vt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Vt(t.maxFeePerGas||0,"maxFeePerGas"),Vt(t.gasLimit,"gasLimit"),t.to||"0x",Vt(t.value,"value"),t.data,df(t.accessList||[])];return e&&(n.push(Vt(e.yParity,"yParity")),n.push(Un(e.r)),n.push(Un(e.s))),Ot(["0x02",Cl(n)])}function rH(t){const e=Fm(it(t).slice(1));$(Array.isArray(e)&&(e.length===8||e.length===11),"invalid field count for transaction type: 1","data",Ve(t));const n={type:1,chainId:Pt(e[0],"chainId"),nonce:mu(e[1],"nonce"),gasPrice:Pt(e[2],"gasPrice"),gasLimit:Pt(e[3],"gasLimit"),to:Lm(e[4]),value:Pt(e[5],"value"),data:Ve(e[6]),accessList:gf(e[7],"accessList")};return e.length===8||If(n,e.slice(8)),n}function oH(t,e){const n=[Vt(t.chainId,"chainId"),Vt(t.nonce,"nonce"),Vt(t.gasPrice||0,"gasPrice"),Vt(t.gasLimit,"gasLimit"),t.to||"0x",Vt(t.value,"value"),t.data,df(t.accessList||[])];return e&&(n.push(Vt(e.yParity,"recoveryParam")),n.push(Un(e.r)),n.push(Un(e.s))),Ot(["0x01",Cl(n)])}function lH(t){let e=Fm(it(t).slice(1)),n="3",a=null;if(e.length===4&&Array.isArray(e[0])){n="3 (network format)";const r=e[1],l=e[2],g=e[3];$(Array.isArray(r),"invalid network format: blobs not an array","fields[1]",r),$(Array.isArray(l),"invalid network format: commitments not an array","fields[2]",l),$(Array.isArray(g),"invalid network format: proofs not an array","fields[3]",g),$(r.length===l.length,"invalid network format: blobs/commitments length mismatch","fields",e),$(r.length===g.length,"invalid network format: blobs/proofs length mismatch","fields",e),a=[];for(let c=0;c<e[1].length;c++)a.push({data:r[c],commitment:l[c],proof:g[c]});e=e[0]}$(Array.isArray(e)&&(e.length===11||e.length===14),`invalid field count for transaction type: ${n}`,"data",Ve(t));const s={type:3,chainId:Pt(e[0],"chainId"),nonce:mu(e[1],"nonce"),maxPriorityFeePerGas:Pt(e[2],"maxPriorityFeePerGas"),maxFeePerGas:Pt(e[3],"maxFeePerGas"),gasPrice:null,gasLimit:Pt(e[4],"gasLimit"),to:Lm(e[5]),value:Pt(e[6],"value"),data:Ve(e[7]),accessList:gf(e[8],"accessList"),maxFeePerBlobGas:Pt(e[9],"maxFeePerBlobGas"),blobVersionedHashes:e[10]};a&&(s.blobs=a),$(s.to!=null,`invalid address for transaction type: ${n}`,"data",t),$(Array.isArray(s.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",t);for(let r=0;r<s.blobVersionedHashes.length;r++)$(St(s.blobVersionedHashes[r],32),`invalid blobVersionedHash at index ${r}: must be length 32`,"data",t);return e.length===11||If(s,e.slice(11)),s}function cH(t,e,n){const a=[Vt(t.chainId,"chainId"),Vt(t.nonce,"nonce"),Vt(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Vt(t.maxFeePerGas||0,"maxFeePerGas"),Vt(t.gasLimit,"gasLimit"),t.to||dI,Vt(t.value,"value"),t.data,df(t.accessList||[]),Vt(t.maxFeePerBlobGas||0,"maxFeePerBlobGas"),tH(t.blobVersionedHashes||[],"blobVersionedHashes")];return e&&(a.push(Vt(e.yParity,"yParity")),a.push(Un(e.r)),a.push(Un(e.s)),n)?Ot(["0x03",Cl([a,n.map(s=>s.data),n.map(s=>s.commitment),n.map(s=>s.proof)])]):Ot(["0x03",Cl(a)])}var Hs,Kc,Mc,Uc,Dc,Lc,zc,Qc,Pc,Oc,jc,_c,Po,kr,Bi,Vr,$c,Qp;const Ai=class Ai{constructor(){q(this,$c);q(this,Hs);q(this,Kc);q(this,Mc);q(this,Uc);q(this,Dc);q(this,Lc);q(this,zc);q(this,Qc);q(this,Pc);q(this,Oc);q(this,jc);q(this,_c);q(this,Po);q(this,kr);q(this,Bi);q(this,Vr);H(this,Hs,null),H(this,Kc,null),H(this,Uc,0),H(this,Dc,pn),H(this,Lc,null),H(this,zc,null),H(this,Qc,null),H(this,Mc,"0x"),H(this,Pc,pn),H(this,Oc,pn),H(this,jc,null),H(this,_c,null),H(this,Po,null),H(this,kr,null),H(this,Vr,null),H(this,Bi,null)}get type(){return y(this,Hs)}set type(e){switch(e){case null:H(this,Hs,null);break;case 0:case"legacy":H(this,Hs,0);break;case 1:case"berlin":case"eip-2930":H(this,Hs,1);break;case 2:case"london":case"eip-1559":H(this,Hs,2);break;case 3:case"cancun":case"eip-4844":H(this,Hs,3);break;default:$(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){const e=y(this,Kc);return e==null&&this.type===3?dI:e}set to(e){H(this,Kc,e==null?null:bt(e))}get nonce(){return y(this,Uc)}set nonce(e){H(this,Uc,qe(e,"value"))}get gasLimit(){return y(this,Dc)}set gasLimit(e){H(this,Dc,ve(e))}get gasPrice(){const e=y(this,Lc);return e==null&&(this.type===0||this.type===1)?pn:e}set gasPrice(e){H(this,Lc,e==null?null:ve(e,"gasPrice"))}get maxPriorityFeePerGas(){const e=y(this,zc);return e??(this.type===2||this.type===3?pn:null)}set maxPriorityFeePerGas(e){H(this,zc,e==null?null:ve(e,"maxPriorityFeePerGas"))}get maxFeePerGas(){const e=y(this,Qc);return e??(this.type===2||this.type===3?pn:null)}set maxFeePerGas(e){H(this,Qc,e==null?null:ve(e,"maxFeePerGas"))}get data(){return y(this,Mc)}set data(e){H(this,Mc,Ve(e))}get value(){return y(this,Pc)}set value(e){H(this,Pc,ve(e,"value"))}get chainId(){return y(this,Oc)}set chainId(e){H(this,Oc,ve(e))}get signature(){return y(this,jc)||null}set signature(e){H(this,jc,e==null?null:Zs.from(e))}get accessList(){const e=y(this,_c)||null;return e??(this.type===1||this.type===2||this.type===3?[]:null)}set accessList(e){H(this,_c,e==null?null:kl(e))}get maxFeePerBlobGas(){const e=y(this,Po);return e==null&&this.type===3?pn:e}set maxFeePerBlobGas(e){H(this,Po,e==null?null:ve(e,"maxFeePerBlobGas"))}get blobVersionedHashes(){let e=y(this,kr);return e==null&&this.type===3?[]:e}set blobVersionedHashes(e){if(e!=null){$(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let n=0;n<e.length;n++)$(St(e[n],32),"invalid blobVersionedHash",`value[${n}]`,e[n])}H(this,kr,e)}get blobs(){return y(this,Vr)==null?null:y(this,Vr).map(e=>Object.assign({},e))}set blobs(e){if(e==null){H(this,Vr,null);return}const n=[],a=[];for(let s=0;s<e.length;s++){const r=e[s];if(j1(r)){ye(y(this,Bi),"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let l=it(r);if($(l.length<=Y0,"blob is too large",`blobs[${s}]`,r),l.length!==Y0){const u=new Uint8Array(Y0);u.set(l),l=u}const g=y(this,Bi).blobToKzgCommitment(l),c=Ve(y(this,Bi).computeBlobKzgProof(l,g));n.push({data:Ve(l),commitment:Ve(g),proof:c}),a.push(kB(1,g))}else{const l=Ve(r.commitment);n.push({data:Ve(r.data),commitment:l,proof:Ve(r.proof)}),a.push(kB(1,l))}}H(this,Vr,n),H(this,kr,a)}get kzg(){return y(this,Bi)}set kzg(e){H(this,Bi,e)}get hash(){return this.signature==null?null:nn(ge(this,$c,Qp).call(this,!0,!1))}get unsignedHash(){return nn(this.unsignedSerialized)}get from(){return this.signature==null?null:ON(this.unsignedHash,this.signature)}get fromPublicKey(){return this.signature==null?null:II.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return this.signature!=null}get serialized(){return ge(this,$c,Qp).call(this,!0,!0)}get unsignedSerialized(){return ge(this,$c,Qp).call(this,!1,!1)}inferType(){const e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){const e=this.gasPrice!=null,n=this.maxFeePerGas!=null||this.maxPriorityFeePerGas!=null,a=this.accessList!=null,s=y(this,Po)!=null||y(this,kr);this.maxFeePerGas!=null&&this.maxPriorityFeePerGas!=null&&ye(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),ye(!n||this.type!==0&&this.type!==1,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),ye(this.type!==0||!a,"legacy transaction cannot have accessList","BAD_DATA",{value:this});const r=[];return this.type!=null?r.push(this.type):n?r.push(2):e?(r.push(1),a||r.push(0)):a?(r.push(1),r.push(2)):(s&&this.to||(r.push(0),r.push(1),r.push(2)),r.push(3)),r.sort(),r}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}clone(){return Ai.from(this)}toJSON(){const e=n=>n==null?null:n.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:e(this.gasLimit),gasPrice:e(this.gasPrice),maxPriorityFeePerGas:e(this.maxPriorityFeePerGas),maxFeePerGas:e(this.maxFeePerGas),value:e(this.value),chainId:e(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(e==null)return new Ai;if(typeof e=="string"){const a=it(e);if(a[0]>=127)return Ai.from(nH(a));switch(a[0]){case 1:return Ai.from(rH(a));case 2:return Ai.from(sH(a));case 3:return Ai.from(lH(a))}ye(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}const n=new Ai;return e.type!=null&&(n.type=e.type),e.to!=null&&(n.to=e.to),e.nonce!=null&&(n.nonce=e.nonce),e.gasLimit!=null&&(n.gasLimit=e.gasLimit),e.gasPrice!=null&&(n.gasPrice=e.gasPrice),e.maxPriorityFeePerGas!=null&&(n.maxPriorityFeePerGas=e.maxPriorityFeePerGas),e.maxFeePerGas!=null&&(n.maxFeePerGas=e.maxFeePerGas),e.maxFeePerBlobGas!=null&&(n.maxFeePerBlobGas=e.maxFeePerBlobGas),e.data!=null&&(n.data=e.data),e.value!=null&&(n.value=e.value),e.chainId!=null&&(n.chainId=e.chainId),e.signature!=null&&(n.signature=Zs.from(e.signature)),e.accessList!=null&&(n.accessList=e.accessList),e.blobVersionedHashes!=null&&(n.blobVersionedHashes=e.blobVersionedHashes),e.kzg!=null&&(n.kzg=e.kzg),e.blobs!=null&&(n.blobs=e.blobs),e.hash!=null&&($(n.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),$(n.hash===e.hash,"hash mismatch","tx",e)),e.from!=null&&($(n.isSigned(),"unsigned transaction cannot define '.from'","tx",e),$(n.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),n}};Hs=new WeakMap,Kc=new WeakMap,Mc=new WeakMap,Uc=new WeakMap,Dc=new WeakMap,Lc=new WeakMap,zc=new WeakMap,Qc=new WeakMap,Pc=new WeakMap,Oc=new WeakMap,jc=new WeakMap,_c=new WeakMap,Po=new WeakMap,kr=new WeakMap,Bi=new WeakMap,Vr=new WeakMap,$c=new WeakSet,Qp=function(e,n){ye(!e||this.signature!=null,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});const a=e?this.signature:null;switch(this.inferType()){case 0:return aH(this,a);case 1:return oH(this,a);case 2:return iH(this,a);case 3:return cH(this,a,n?this.blobs:null)}ye(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})};let dm=Ai;const w9=new Uint8Array(32);w9.fill(0);const gH=BigInt(-1),k9=BigInt(0),V9=BigInt(1),dH=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function IH(t){const e=it(t),n=e.length%32;return n?Ot([e,w9.slice(n)]):Ve(e)}const uH=Or(V9,32),CH=Or(k9,32),VB={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},F0=["name","version","chainId","verifyingContract","salt"];function RB(t){return function(e){return $(typeof e=="string",`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const pH={name:RB("name"),version:RB("version"),chainId:function(t){const e=ve(t,"domain.chainId");return $(e>=0,"invalid chain ID","domain.chainId",t),Number.isSafeInteger(e)?Number(e):mc(e)},verifyingContract:function(t){try{return bt(t).toLowerCase()}catch{}$(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){const e=it(t,"domain.salt");return $(e.length===32,'invalid domain value "salt"',"domain.salt",t),Ve(e)}};function K0(t){{const e=t.match(/^(u?)int(\d+)$/);if(e){const n=e[1]==="",a=parseInt(e[2]);$(a%8===0&&a!==0&&a<=256&&e[2]===String(a),"invalid numeric width","type",t);const s=$d(dH,n?a-1:a),r=n?(s+V9)*gH:k9;return function(l){const g=ve(l,"value");return $(g>=r&&g<=s,`value out-of-bounds for ${t}`,"value",g),Or(n?Ck(g,256):g,32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const n=parseInt(e[1]);return $(n!==0&&n<=32&&e[1]===String(n),"invalid bytes width","type",t),function(a){const s=it(a);return $(s.length===n,`invalid length for ${t}`,"value",a),IH(a)}}}switch(t){case"address":return function(e){return ul(bt(e),32)};case"bool":return function(e){return e?uH:CH};case"bytes":return function(e){return nn(e)};case"string":return function(e){return pl(e)}}return null}function WB(t,e){return`${t}(${e.map(({name:n,type:a})=>a+" "+n).join(",")})`}function qC(t){const e=t.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return e?{base:e[1],index:e[2]+e[4],array:{base:e[1],prefix:e[1]+e[2],count:e[5]?parseInt(e[5]):-1}}:{base:t}}var jI,Si,qc,wm,R9;const Ma=class Ma{constructor(e){q(this,wm);te(this,"primaryType");q(this,jI);q(this,Si);q(this,qc);H(this,Si,new Map),H(this,qc,new Map);const n=new Map,a=new Map,s=new Map,r={};Object.keys(e).forEach(c=>{r[c]=e[c].map(({name:u,type:d})=>{let{base:p,index:A}=qC(d);return p==="int"&&!e.int&&(p="int256"),p==="uint"&&!e.uint&&(p="uint256"),{name:u,type:p+(A||"")}}),n.set(c,new Set),a.set(c,[]),s.set(c,new Set)}),H(this,jI,JSON.stringify(r));for(const c in r){const u=new Set;for(const d of r[c]){$(!u.has(d.name),`duplicate variable name ${JSON.stringify(d.name)} in ${JSON.stringify(c)}`,"types",e),u.add(d.name);const p=qC(d.type).base;$(p!==c,`circular type reference to ${JSON.stringify(p)}`,"types",e),!K0(p)&&($(a.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),a.get(p).push(c),n.get(c).add(p))}}const l=Array.from(a.keys()).filter(c=>a.get(c).length===0);$(l.length!==0,"missing primary type","types",e),$(l.length===1,`ambiguous primary types or unused types: ${l.map(c=>JSON.stringify(c)).join(", ")}`,"types",e),Ye(this,{primaryType:l[0]});function g(c,u){$(!u.has(c),`circular type reference to ${JSON.stringify(c)}`,"types",e),u.add(c);for(const d of n.get(c))if(a.has(d)){g(d,u);for(const p of u)s.get(p).add(d)}u.delete(c)}g(this.primaryType,new Set);for(const[c,u]of s){const d=Array.from(u);d.sort(),y(this,Si).set(c,WB(c,r[c])+d.map(p=>WB(p,r[p])).join(""))}}get types(){return JSON.parse(y(this,jI))}getEncoder(e){let n=y(this,qc).get(e);return n||(n=ge(this,wm,R9).call(this,e),y(this,qc).set(e,n)),n}encodeType(e){const n=y(this,Si).get(e);return $(n,`unknown type: ${JSON.stringify(e)}`,"name",e),n}encodeData(e,n){return this.getEncoder(e)(n)}hashStruct(e,n){return nn(this.encodeData(e,n))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,n,a){if(K0(e))return a(e,n);const s=qC(e).array;if(s)return $(s.count===-1||s.count===n.length,`array length mismatch; expected length ${s.count}`,"value",n),n.map(l=>this._visit(s.prefix,l,a));const r=this.types[e];if(r)return r.reduce((l,{name:g,type:c})=>(l[g]=this._visit(c,n[g],a),l),{});$(!1,`unknown type: ${e}`,"type",e)}visit(e,n){return this._visit(this.primaryType,e,n)}static from(e){return new Ma(e)}static getPrimaryType(e){return Ma.from(e).primaryType}static hashStruct(e,n,a){return Ma.from(n).hashStruct(e,a)}static hashDomain(e){const n=[];for(const a in e){if(e[a]==null)continue;const s=VB[a];$(s,`invalid typed-data domain key: ${JSON.stringify(a)}`,"domain",e),n.push({name:a,type:s})}return n.sort((a,s)=>F0.indexOf(a.name)-F0.indexOf(s.name)),Ma.hashStruct("EIP712Domain",{EIP712Domain:n},e)}static encode(e,n,a){return Ot(["0x1901",Ma.hashDomain(e),Ma.from(n).hash(a)])}static hash(e,n,a){return nn(Ma.encode(e,n,a))}static async resolveNames(e,n,a,s){e=Object.assign({},e);for(const g in e)e[g]==null&&delete e[g];const r={};e.verifyingContract&&!St(e.verifyingContract,20)&&(r[e.verifyingContract]="0x");const l=Ma.from(n);l.visit(a,(g,c)=>(g==="address"&&!St(c,20)&&(r[c]="0x"),c));for(const g in r)r[g]=await s(g);return e.verifyingContract&&r[e.verifyingContract]&&(e.verifyingContract=r[e.verifyingContract]),a=l.visit(a,(g,c)=>g==="address"&&r[c]?r[c]:c),{domain:e,value:a}}static getPayload(e,n,a){Ma.hashDomain(e);const s={},r=[];F0.forEach(c=>{const u=e[c];u!=null&&(s[c]=pH[c](u),r.push({name:c,type:VB[c]}))});const l=Ma.from(n);n=l.types;const g=Object.assign({},n);return $(g.EIP712Domain==null,"types must not contain EIP712Domain type","types.EIP712Domain",n),g.EIP712Domain=r,l.encode(a),{types:g,domain:s,primaryType:l.primaryType,message:l.visit(a,(c,u)=>{if(c.match(/^bytes(\d*)/))return Ve(it(u));if(c.match(/^u?int/))return ve(u).toString();switch(c){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return $(typeof u=="string","invalid string","value",u),u}$(!1,"unsupported type","type",c)})}}};jI=new WeakMap,Si=new WeakMap,qc=new WeakMap,wm=new WeakSet,R9=function(e){{const s=K0(e);if(s)return s}const n=qC(e).array;if(n){const s=n.prefix,r=this.getEncoder(s);return l=>{$(n.count===-1||n.count===l.length,`array length mismatch; expected length ${n.count}`,"value",l);let g=l.map(r);return y(this,Si).has(s)&&(g=g.map(nn)),nn(Ot(g))}}const a=this.types[e];if(a){const s=pl(y(this,Si).get(e));return r=>{const l=a.map(({name:g,type:c})=>{const u=this.getEncoder(c)(r[g]);return y(this,Si).has(c)?nn(u):u});return l.unshift(s),Ot(l)}}$(!1,`unknown type: ${e}`,"type",e)};let Im=Ma;function zn(t){const e=new Set;return t.forEach(n=>e.add(n)),Object.freeze(e)}const mH="external public payable override",AH=zn(mH.split(" ")),W9="constant external internal payable private public pure view override",yH=zn(W9.split(" ")),v9="constructor error event fallback function receive struct",E9=zn(v9.split(" ")),X9="calldata memory storage payable indexed",bH=zn(X9.split(" ")),hH="tuple returns",fH=[v9,X9,hH,W9].join(" "),ZH=zn(fH.split(" ")),GH={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},BH=new RegExp("^(\\s*)"),SH=new RegExp("^([0-9]+)"),wH=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),J9=new RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),x9=new RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");var fn,ms,_I,Kh;const km=class km{constructor(e){q(this,_I);q(this,fn);q(this,ms);H(this,fn,0),H(this,ms,e.slice())}get offset(){return y(this,fn)}get length(){return y(this,ms).length-y(this,fn)}clone(){return new km(y(this,ms))}reset(){H(this,fn,0)}popKeyword(e){const n=this.peek();if(n.type!=="KEYWORD"||!e.has(n.text))throw new Error(`expected keyword ${n.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){const n=this.peek();throw new Error(`expected ${e}; got ${n.type} ${JSON.stringify(n.text)}`)}return this.pop().text}popParen(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=ge(this,_I,Kh).call(this,y(this,fn)+1,e.match+1);return H(this,fn,e.match+1),n}popParams(){const e=this.peek();if(e.type!=="OPEN_PAREN")throw new Error("bad start");const n=[];for(;y(this,fn)<e.match-1;){const a=this.peek().linkNext;n.push(ge(this,_I,Kh).call(this,y(this,fn)+1,a)),H(this,fn,a)}return H(this,fn,e.match+1),n}peek(){if(y(this,fn)>=y(this,ms).length)throw new Error("out-of-bounds");return y(this,ms)[y(this,fn)]}peekKeyword(e){const n=this.peekType("KEYWORD");return n!=null&&e.has(n)?n:null}peekType(e){if(this.length===0)return null;const n=this.peek();return n.type===e?n.text:null}pop(){const e=this.peek();return Wd(this,fn)._++,e}toString(){const e=[];for(let n=y(this,fn);n<y(this,ms).length;n++){const a=y(this,ms)[n];e.push(`${a.type}:${a.text}`)}return`<TokenString ${e.join(" ")}>`}};fn=new WeakMap,ms=new WeakMap,_I=new WeakSet,Kh=function(e=0,n=0){return new km(y(this,ms).slice(e,n).map(a=>Object.freeze(Object.assign({},a,{match:a.match-e,linkBack:a.linkBack-e,linkNext:a.linkNext-e}))))};let Gs=km;function qr(t){const e=[],n=l=>{const g=r<t.length?JSON.stringify(t[r]):"$EOI";throw new Error(`invalid token ${g} at ${r}: ${l}`)};let a=[],s=[],r=0;for(;r<t.length;){let l=t.substring(r),g=l.match(BH);g&&(r+=g[1].length,l=t.substring(r));const c={depth:a.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:r,value:-1};e.push(c);let u=GH[l[0]]||"";if(u){if(c.type=u,c.text=l[0],r++,u==="OPEN_PAREN")a.push(e.length-1),s.push(e.length-1);else if(u=="CLOSE_PAREN")a.length===0&&n("no matching open bracket"),c.match=a.pop(),e[c.match].match=e.length-1,c.depth--,c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1;else if(u==="COMMA")c.linkBack=s.pop(),e[c.linkBack].linkNext=e.length-1,s.push(e.length-1);else if(u==="OPEN_BRACKET")c.type="BRACKET";else if(u==="CLOSE_BRACKET"){let d=e.pop().text;if(e.length>0&&e[e.length-1].type==="NUMBER"){const p=e.pop().text;d=p+d,e[e.length-1].value=qe(p)}if(e.length===0||e[e.length-1].type!=="BRACKET")throw new Error("missing opening bracket");e[e.length-1].text+=d}continue}if(g=l.match(wH),g){if(c.text=g[1],r+=c.text.length,ZH.has(c.text)){c.type="KEYWORD";continue}if(c.text.match(x9)){c.type="TYPE";continue}c.type="ID";continue}if(g=l.match(SH),g){c.text=g[1],c.type="NUMBER",r+=c.text.length;continue}throw new Error(`unexpected token ${JSON.stringify(l[0])} at position ${r}`)}return new Gs(e.map(l=>Object.freeze(l)))}function vB(t,e){let n=[];for(const a in e.keys())t.has(a)&&n.push(a);if(n.length>1)throw new Error(`conflicting types: ${n.join(", ")}`)}function zm(t,e){if(e.peekKeyword(E9)){const n=e.pop().text;if(n!==t)throw new Error(`expected ${t}, got ${n}`)}return e.popType("ID")}function Mi(t,e){const n=new Set;for(;;){const a=t.peekType("KEYWORD");if(a==null||e&&!e.has(a))break;if(t.pop(),n.has(a))throw new Error(`duplicate keywords: ${JSON.stringify(a)}`);n.add(a)}return Object.freeze(n)}function N9(t){let e=Mi(t,yH);return vB(e,zn("constant payable nonpayable".split(" "))),vB(e,zn("pure view payable nonpayable".split(" "))),e.has("view")?"view":e.has("pure")?"pure":e.has("payable")?"payable":e.has("nonpayable")?"nonpayable":e.has("constant")?"view":"nonpayable"}function Ti(t,e){return t.popParams().map(n=>Bn.from(n,e))}function H9(t){if(t.peekType("AT")){if(t.pop(),t.peekType("NUMBER"))return ve(t.pop().text);throw new Error("invalid gas")}return null}function ml(t){if(t.length)throw new Error(`unexpected tokens at offset ${t.offset}: ${t.toString()}`)}const kH=new RegExp(/^(.*)\[([0-9]*)\]$/);function EB(t){const e=t.match(x9);if($(e,"invalid type","type",t),t==="uint")return"uint256";if(t==="int")return"int256";if(e[2]){const n=parseInt(e[2]);$(n!==0&&n<=32,"invalid bytes length","type",t)}else if(e[3]){const n=parseInt(e[3]);$(n!==0&&n<=256&&n%8===0,"invalid numeric width","type",t)}return t}const Jt={},Ia=Symbol.for("_ethers_internal"),XB="_ParamTypeInternal",JB="_ErrorInternal",xB="_EventInternal",NB="_ConstructorInternal",HB="_FallbackInternal",TB="_FunctionInternal",YB="_StructInternal";var eg,Pp;const Ua=class Ua{constructor(e,n,a,s,r,l,g,c){q(this,eg);te(this,"name");te(this,"type");te(this,"baseType");te(this,"indexed");te(this,"components");te(this,"arrayLength");te(this,"arrayChildren");if(Hm(e,Jt,"ParamType"),Object.defineProperty(this,Ia,{value:XB}),l&&(l=Object.freeze(l.slice())),s==="array"){if(g==null||c==null)throw new Error("")}else if(g!=null||c!=null)throw new Error("");if(s==="tuple"){if(l==null)throw new Error("")}else if(l!=null)throw new Error("");Ye(this,{name:n,type:a,baseType:s,indexed:r,components:l,arrayLength:g,arrayChildren:c})}format(e){if(e==null&&(e="sighash"),e==="json"){const a=this.name||"";if(this.isArray()){const r=JSON.parse(this.arrayChildren.format("json"));return r.name=a,r.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(r)}const s={type:this.baseType==="tuple"?"tuple":this.type,name:a};return typeof this.indexed=="boolean"&&(s.indexed=this.indexed),this.isTuple()&&(s.components=this.components.map(r=>JSON.parse(r.format(e)))),JSON.stringify(s)}let n="";return this.isArray()?(n+=this.arrayChildren.format(e),n+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`):this.isTuple()?n+="("+this.components.map(a=>a.format(e)).join(e==="full"?", ":",")+")":n+=this.type,e!=="sighash"&&(this.indexed===!0&&(n+=" indexed"),e==="full"&&this.name&&(n+=" "+this.name)),n}isArray(){return this.baseType==="array"}isTuple(){return this.baseType==="tuple"}isIndexable(){return this.indexed!=null}walk(e,n){if(this.isArray()){if(!Array.isArray(e))throw new Error("invalid array value");if(this.arrayLength!==-1&&e.length!==this.arrayLength)throw new Error("array is wrong length");const a=this;return e.map(s=>a.arrayChildren.walk(s,n))}if(this.isTuple()){if(!Array.isArray(e))throw new Error("invalid tuple value");if(e.length!==this.components.length)throw new Error("array is wrong length");const a=this;return e.map((s,r)=>a.components[r].walk(s,n))}return n(this.type,e)}async walkAsync(e,n){const a=[],s=[e];return ge(this,eg,Pp).call(this,a,e,n,r=>{s[0]=r}),a.length&&await Promise.all(a),s[0]}static from(e,n){if(Ua.isParamType(e))return e;if(typeof e=="string")try{return Ua.from(qr(e),n)}catch{$(!1,"invalid param type","obj",e)}else if(e instanceof Gs){let g="",c="",u=null;Mi(e,zn(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(c="tuple",u=e.popParams().map(Z=>Ua.from(Z)),g=`tuple(${u.map(Z=>Z.format()).join(",")})`):(g=EB(e.popType("TYPE")),c=g);let d=null,p=null;for(;e.length&&e.peekType("BRACKET");){const Z=e.pop();d=new Ua(Jt,"",g,c,null,u,p,d),p=Z.value,g+=Z.text,c="array",u=null}let A=null;if(Mi(e,bH).has("indexed")){if(!n)throw new Error("");A=!0}const w=e.peekType("ID")?e.pop().text:"";if(e.length)throw new Error("leftover tokens");return new Ua(Jt,w,g,c,A,u,p,d)}const a=e.name;$(!a||typeof a=="string"&&a.match(J9),"invalid name","obj.name",a);let s=e.indexed;s!=null&&($(n,"parameter cannot be indexed","obj.indexed",e.indexed),s=!!s);let r=e.type,l=r.match(kH);if(l){const g=parseInt(l[2]||"-1"),c=Ua.from({type:l[1],components:e.components});return new Ua(Jt,a||"",r,"array",s,null,g,c)}if(r==="tuple"||r.startsWith("tuple(")||r.startsWith("(")){const g=e.components!=null?e.components.map(u=>Ua.from(u)):null;return new Ua(Jt,a||"",r,"tuple",s,g,null,null)}return r=EB(e.type),new Ua(Jt,a||"",r,r,s,null,null,null)}static isParamType(e){return e&&e[Ia]===XB}};eg=new WeakSet,Pp=function(e,n,a,s){if(this.isArray()){if(!Array.isArray(n))throw new Error("invalid array value");if(this.arrayLength!==-1&&n.length!==this.arrayLength)throw new Error("array is wrong length");const l=this.arrayChildren,g=n.slice();g.forEach((c,u)=>{var d;ge(d=l,eg,Pp).call(d,e,c,a,p=>{g[u]=p})}),s(g);return}if(this.isTuple()){const l=this.components;let g;if(Array.isArray(n))g=n.slice();else{if(n==null||typeof n!="object")throw new Error("invalid tuple value");g=l.map(c=>{if(!c.name)throw new Error("cannot use object value with unnamed components");if(!(c.name in n))throw new Error(`missing value for component ${c.name}`);return n[c.name]})}if(g.length!==this.components.length)throw new Error("array is wrong length");g.forEach((c,u)=>{var d;ge(d=l[u],eg,Pp).call(d,e,c,a,p=>{g[u]=p})}),s(g);return}const r=a(this.type,n);r.then?e.push(async function(){s(await r)}()):s(r)};let Bn=Ua;class Al{constructor(e,n,a){te(this,"type");te(this,"inputs");Hm(e,Jt,"Fragment"),a=Object.freeze(a.slice()),Ye(this,{type:n,inputs:a})}static from(e){if(typeof e=="string"){try{Al.from(JSON.parse(e))}catch{}return Al.from(qr(e))}if(e instanceof Gs)switch(e.peekKeyword(E9)){case"constructor":return xi.from(e);case"error":return ca.from(e);case"event":return Ls.from(e);case"fallback":case"receive":return yi.from(e);case"function":return zs.from(e);case"struct":return gl.from(e)}else if(typeof e=="object"){switch(e.type){case"constructor":return xi.from(e);case"error":return ca.from(e);case"event":return Ls.from(e);case"fallback":case"receive":return yi.from(e);case"function":return zs.from(e);case"struct":return gl.from(e)}ye(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}$(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return xi.isFragment(e)}static isError(e){return ca.isFragment(e)}static isEvent(e){return Ls.isFragment(e)}static isFunction(e){return zs.isFragment(e)}static isStruct(e){return gl.isFragment(e)}}class Qm extends Al{constructor(n,a,s,r){super(n,a,r);te(this,"name");$(typeof s=="string"&&s.match(J9),"invalid identifier","name",s),r=Object.freeze(r.slice()),Ye(this,{name:s})}}function AI(t,e){return"("+e.map(n=>n.format(t)).join(t==="full"?", ":",")+")"}class ca extends Qm{constructor(e,n,a){super(e,"error",n,a),Object.defineProperty(this,Ia,{value:JB})}get selector(){return pl(this.format("sighash")).substring(0,10)}format(e){if(e==null&&(e="sighash"),e==="json")return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});const n=[];return e!=="sighash"&&n.push("error"),n.push(this.name+AI(e,this.inputs)),n.join(" ")}static from(e){if(ca.isFragment(e))return e;if(typeof e=="string")return ca.from(qr(e));if(e instanceof Gs){const n=zm("error",e),a=Ti(e);return ml(e),new ca(Jt,n,a)}return new ca(Jt,e.name,e.inputs?e.inputs.map(Bn.from):[])}static isFragment(e){return e&&e[Ia]===JB}}class Ls extends Qm{constructor(n,a,s,r){super(n,"event",a,s);te(this,"anonymous");Object.defineProperty(this,Ia,{value:xB}),Ye(this,{anonymous:r})}get topicHash(){return pl(this.format("sighash"))}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const a=[];return n!=="sighash"&&a.push("event"),a.push(this.name+AI(n,this.inputs)),n!=="sighash"&&this.anonymous&&a.push("anonymous"),a.join(" ")}static getTopicHash(n,a){return a=(a||[]).map(r=>Bn.from(r)),new Ls(Jt,n,a,!1).topicHash}static from(n){if(Ls.isFragment(n))return n;if(typeof n=="string")try{return Ls.from(qr(n))}catch{$(!1,"invalid event fragment","obj",n)}else if(n instanceof Gs){const a=zm("event",n),s=Ti(n,!0),r=!!Mi(n,zn(["anonymous"])).has("anonymous");return ml(n),new Ls(Jt,a,s,r)}return new Ls(Jt,n.name,n.inputs?n.inputs.map(a=>Bn.from(a,!0)):[],!!n.anonymous)}static isFragment(n){return n&&n[Ia]===xB}}class xi extends Al{constructor(n,a,s,r,l){super(n,a,s);te(this,"payable");te(this,"gas");Object.defineProperty(this,Ia,{value:NB}),Ye(this,{payable:r,gas:l})}format(n){if(ye(n!=null&&n!=="sighash","cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),n==="json")return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n)))});const a=[`constructor${AI(n,this.inputs)}`];return this.payable&&a.push("payable"),this.gas!=null&&a.push(`@${this.gas.toString()}`),a.join(" ")}static from(n){if(xi.isFragment(n))return n;if(typeof n=="string")try{return xi.from(qr(n))}catch{$(!1,"invalid constuctor fragment","obj",n)}else if(n instanceof Gs){Mi(n,zn(["constructor"]));const a=Ti(n),s=!!Mi(n,AH).has("payable"),r=H9(n);return ml(n),new xi(Jt,"constructor",a,s,r)}return new xi(Jt,"constructor",n.inputs?n.inputs.map(Bn.from):[],!!n.payable,n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Ia]===NB}}class yi extends Al{constructor(n,a,s){super(n,"fallback",a);te(this,"payable");Object.defineProperty(this,Ia,{value:HB}),Ye(this,{payable:s})}format(n){const a=this.inputs.length===0?"receive":"fallback";if(n==="json"){const s=this.payable?"payable":"nonpayable";return JSON.stringify({type:a,stateMutability:s})}return`${a}()${this.payable?" payable":""}`}static from(n){if(yi.isFragment(n))return n;if(typeof n=="string")try{return yi.from(qr(n))}catch{$(!1,"invalid fallback fragment","obj",n)}else if(n instanceof Gs){const a=n.toString(),s=n.peekKeyword(zn(["fallback","receive"]));if($(s,"type must be fallback or receive","obj",a),n.popKeyword(zn(["fallback","receive"]))==="receive"){const c=Ti(n);return $(c.length===0,"receive cannot have arguments","obj.inputs",c),Mi(n,zn(["payable"])),ml(n),new yi(Jt,[],!0)}let l=Ti(n);l.length?$(l.length===1&&l[0].type==="bytes","invalid fallback inputs","obj.inputs",l.map(c=>c.format("minimal")).join(", ")):l=[Bn.from("bytes")];const g=N9(n);if($(g==="nonpayable"||g==="payable","fallback cannot be constants","obj.stateMutability",g),Mi(n,zn(["returns"])).has("returns")){const c=Ti(n);$(c.length===1&&c[0].type==="bytes","invalid fallback outputs","obj.outputs",c.map(u=>u.format("minimal")).join(", "))}return ml(n),new yi(Jt,l,g==="payable")}if(n.type==="receive")return new yi(Jt,[],!0);if(n.type==="fallback"){const a=[Bn.from("bytes")],s=n.stateMutability==="payable";return new yi(Jt,a,s)}$(!1,"invalid fallback description","obj",n)}static isFragment(n){return n&&n[Ia]===HB}}class zs extends Qm{constructor(n,a,s,r,l,g){super(n,"function",a,r);te(this,"constant");te(this,"outputs");te(this,"stateMutability");te(this,"payable");te(this,"gas");Object.defineProperty(this,Ia,{value:TB}),l=Object.freeze(l.slice()),Ye(this,{constant:s==="view"||s==="pure",gas:g,outputs:l,payable:s==="payable",stateMutability:s})}get selector(){return pl(this.format("sighash")).substring(0,10)}format(n){if(n==null&&(n="sighash"),n==="json")return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas!=null?this.gas:void 0,inputs:this.inputs.map(s=>JSON.parse(s.format(n))),outputs:this.outputs.map(s=>JSON.parse(s.format(n)))});const a=[];return n!=="sighash"&&a.push("function"),a.push(this.name+AI(n,this.inputs)),n!=="sighash"&&(this.stateMutability!=="nonpayable"&&a.push(this.stateMutability),this.outputs&&this.outputs.length&&(a.push("returns"),a.push(AI(n,this.outputs))),this.gas!=null&&a.push(`@${this.gas.toString()}`)),a.join(" ")}static getSelector(n,a){return a=(a||[]).map(r=>Bn.from(r)),new zs(Jt,n,"view",a,[],null).selector}static from(n){if(zs.isFragment(n))return n;if(typeof n=="string")try{return zs.from(qr(n))}catch{$(!1,"invalid function fragment","obj",n)}else if(n instanceof Gs){const s=zm("function",n),r=Ti(n),l=N9(n);let g=[];Mi(n,zn(["returns"])).has("returns")&&(g=Ti(n));const c=H9(n);return ml(n),new zs(Jt,s,l,r,g,c)}let a=n.stateMutability;return a==null&&(a="payable",typeof n.constant=="boolean"?(a="view",n.constant||(a="payable",typeof n.payable=="boolean"&&!n.payable&&(a="nonpayable"))):typeof n.payable=="boolean"&&!n.payable&&(a="nonpayable")),new zs(Jt,n.name,a,n.inputs?n.inputs.map(Bn.from):[],n.outputs?n.outputs.map(Bn.from):[],n.gas!=null?n.gas:null)}static isFragment(n){return n&&n[Ia]===TB}}class gl extends Qm{constructor(e,n,a){super(e,"struct",n,a),Object.defineProperty(this,Ia,{value:YB})}format(){throw new Error("@TODO")}static from(e){if(typeof e=="string")try{return gl.from(qr(e))}catch{$(!1,"invalid struct fragment","obj",e)}else if(e instanceof Gs){const n=zm("struct",e),a=Ti(e);return ml(e),new gl(Jt,n,a)}return new gl(Jt,e.name,e.inputs?e.inputs.map(Bn.from):[])}static isFragment(e){return e&&e[Ia]===YB}}const ws=new Map;ws.set(0,"GENERIC_PANIC");ws.set(1,"ASSERT_FALSE");ws.set(17,"OVERFLOW");ws.set(18,"DIVIDE_BY_ZERO");ws.set(33,"ENUM_RANGE_ERROR");ws.set(34,"BAD_STORAGE_DATA");ws.set(49,"STACK_UNDERFLOW");ws.set(50,"ARRAY_RANGE_ERROR");ws.set(65,"OUT_OF_MEMORY");ws.set(81,"UNINITIALIZED_FUNCTION_CALL");const VH=new RegExp(/^bytes([0-9]*)$/),RH=new RegExp(/^(u?int)([0-9]*)$/);let M0=null,FB=1024;function WH(t,e,n,a){let s="missing revert data",r=null;const l=null;let g=null;if(n){s="execution reverted";const u=it(n);if(n=Ve(n),u.length===0)s+=" (no data present; likely require(false) occurred",r="require(false)";else if(u.length%32!==4)s+=" (could not decode reason; invalid data length)";else if(Ve(u.slice(0,4))==="0x08c379a0")try{r=a.decode(["string"],u.slice(4))[0],g={signature:"Error(string)",name:"Error",args:[r]},s+=`: ${JSON.stringify(r)}`}catch{s+=" (could not decode reason; invalid string data)"}else if(Ve(u.slice(0,4))==="0x4e487b71")try{const d=Number(a.decode(["uint256"],u.slice(4))[0]);g={signature:"Panic(uint256)",name:"Panic",args:[d]},r=`Panic due to ${ws.get(d)||"UNKNOWN"}(${d})`,s+=`: ${r}`}catch{s+=" (could not decode panic code)"}else s+=" (unknown custom error)"}const c={to:e.to?bt(e.to):null,data:e.data||"0x"};return e.from&&(c.from=bt(e.from)),Tt(s,"CALL_EXCEPTION",{action:t,data:n,reason:r,transaction:c,invocation:l,revert:g})}var Rr,Ic;const Vm=class Vm{constructor(){q(this,Rr)}getDefaultValue(e){const n=e.map(s=>ge(this,Rr,Ic).call(this,Bn.from(s)));return new $C(n,"_").defaultValue()}encode(e,n){dk(n.length,e.length,"types/values length mismatch");const a=e.map(l=>ge(this,Rr,Ic).call(this,Bn.from(l))),s=new $C(a,"_"),r=new Vh;return s.encode(r,n),r.data}decode(e,n,a){const s=e.map(l=>ge(this,Rr,Ic).call(this,Bn.from(l)));return new $C(s,"_").decode(new ZJ(n,a,FB))}static _setDefaultMaxInflation(e){$(typeof e=="number"&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),FB=e}static defaultAbiCoder(){return M0==null&&(M0=new Vm),M0}static getBuiltinCallException(e,n,a){return WH(e,n,a,Vm.defaultAbiCoder())}};Rr=new WeakSet,Ic=function(e){if(e.isArray())return new qx(ge(this,Rr,Ic).call(this,e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new $C(e.components.map(a=>ge(this,Rr,Ic).call(this,a)),e.name);switch(e.baseType){case"address":return new _x(e.name);case"bool":return new eN(e.name);case"string":return new cN(e.name);case"bytes":return new tN(e.name);case"":return new sN(e.name)}let n=e.type.match(RH);if(n){let a=parseInt(n[2]||"256");return $(a!==0&&a<=256&&a%8===0,"invalid "+n[1]+" bit length","param",e),new lN(a/8,n[1]==="int",e.name)}if(n=e.type.match(VH),n){let a=parseInt(n[1]);return $(a!==0&&a<=32,"invalid bytes length","param",e),new nN(a,e.name)}$(!1,"invalid type","type",e.type)};let yI=Vm;class vH{constructor(e,n,a){te(this,"fragment");te(this,"name");te(this,"signature");te(this,"topic");te(this,"args");const s=e.name,r=e.format();Ye(this,{fragment:e,name:s,signature:r,topic:n,args:a})}}class EH{constructor(e,n,a,s){te(this,"fragment");te(this,"name");te(this,"args");te(this,"signature");te(this,"selector");te(this,"value");const r=e.name,l=e.format();Ye(this,{fragment:e,name:r,args:a,signature:l,selector:n,value:s})}}class XH{constructor(e,n,a){te(this,"fragment");te(this,"name");te(this,"args");te(this,"signature");te(this,"selector");const s=e.name,r=e.format();Ye(this,{fragment:e,name:s,args:a,signature:r,selector:n})}}class KB{constructor(e){te(this,"hash");te(this,"_isIndexed");Ye(this,{hash:e,_isIndexed:!0})}static isIndexed(e){return!!(e&&e._isIndexed)}}const MB={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},UB={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:t=>`reverted with reason string ${JSON.stringify(t)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:t=>{let e="unknown panic code";return t>=0&&t<=255&&MB[t.toString()]&&(e=MB[t.toString()]),`reverted with panic code 0x${t.toString(16)} (${e})`}}};var Ts,Ys,Fs,vn,_s,Op,jp;const Wo=class Wo{constructor(e){q(this,_s);te(this,"fragments");te(this,"deploy");te(this,"fallback");te(this,"receive");q(this,Ts);q(this,Ys);q(this,Fs);q(this,vn);let n=[];typeof e=="string"?n=JSON.parse(e):n=e,H(this,Fs,new Map),H(this,Ts,new Map),H(this,Ys,new Map);const a=[];for(const l of n)try{a.push(Al.from(l))}catch(g){console.log(`[Warning] Invalid Fragment ${JSON.stringify(l)}:`,g.message)}Ye(this,{fragments:Object.freeze(a)});let s=null,r=!1;H(this,vn,this.getAbiCoder()),this.fragments.forEach((l,g)=>{let c;switch(l.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}Ye(this,{deploy:l});return;case"fallback":l.inputs.length===0?r=!0:($(!s||l.payable!==s.payable,"conflicting fallback fragments",`fragments[${g}]`,l),s=l,r=s.payable);return;case"function":c=y(this,Fs);break;case"event":c=y(this,Ys);break;case"error":c=y(this,Ts);break;default:return}const u=l.format();c.has(u)||c.set(u,l)}),this.deploy||Ye(this,{deploy:xi.from("constructor()")}),Ye(this,{fallback:s,receive:r})}format(e){const n=e?"minimal":"full";return this.fragments.map(s=>s.format(n))}formatJson(){const e=this.fragments.map(n=>n.format("json"));return JSON.stringify(e.map(n=>JSON.parse(n)))}getAbiCoder(){return yI.defaultAbiCoder()}getFunctionName(e){const n=ge(this,_s,Op).call(this,e,null,!1);return $(n,"no matching function","key",e),n.name}hasFunction(e){return!!ge(this,_s,Op).call(this,e,null,!1)}getFunction(e,n){return ge(this,_s,Op).call(this,e,n||null,!0)}forEachFunction(e){const n=Array.from(y(this,Fs).keys());n.sort((a,s)=>a.localeCompare(s));for(let a=0;a<n.length;a++){const s=n[a];e(y(this,Fs).get(s),a)}}getEventName(e){const n=ge(this,_s,jp).call(this,e,null,!1);return $(n,"no matching event","key",e),n.name}hasEvent(e){return!!ge(this,_s,jp).call(this,e,null,!1)}getEvent(e,n){return ge(this,_s,jp).call(this,e,n||null,!0)}forEachEvent(e){const n=Array.from(y(this,Ys).keys());n.sort((a,s)=>a.localeCompare(s));for(let a=0;a<n.length;a++){const s=n[a];e(y(this,Ys).get(s),a)}}getError(e,n){if(St(e)){const s=e.toLowerCase();if(UB[s])return ca.from(UB[s].signature);for(const r of y(this,Ts).values())if(s===r.selector)return r;return null}if(e.indexOf("(")===-1){const s=[];for(const[r,l]of y(this,Ts))r.split("(")[0]===e&&s.push(l);if(s.length===0)return e==="Error"?ca.from("error Error(string)"):e==="Panic"?ca.from("error Panic(uint256)"):null;if(s.length>1){const r=s.map(l=>JSON.stringify(l.format())).join(", ");$(!1,`ambiguous error description (i.e. ${r})`,"name",e)}return s[0]}if(e=ca.from(e).format(),e==="Error(string)")return ca.from("error Error(string)");if(e==="Panic(uint256)")return ca.from("error Panic(uint256)");const a=y(this,Ts).get(e);return a||null}forEachError(e){const n=Array.from(y(this,Ts).keys());n.sort((a,s)=>a.localeCompare(s));for(let a=0;a<n.length;a++){const s=n[a];e(y(this,Ts).get(s),a)}}_decodeParams(e,n){return y(this,vn).decode(e,n)}_encodeParams(e,n){return y(this,vn).encode(e,n)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,n){if(typeof e=="string"){const a=this.getError(e);$(a,"unknown error","fragment",e),e=a}return $(Yt(n,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",n),this._decodeParams(e.inputs,Yt(n,4))}encodeErrorResult(e,n){if(typeof e=="string"){const a=this.getError(e);$(a,"unknown error","fragment",e),e=a}return Ot([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionData(e,n){if(typeof e=="string"){const a=this.getFunction(e);$(a,"unknown function","fragment",e),e=a}return $(Yt(n,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",n),this._decodeParams(e.inputs,Yt(n,4))}encodeFunctionData(e,n){if(typeof e=="string"){const a=this.getFunction(e);$(a,"unknown function","fragment",e),e=a}return Ot([e.selector,this._encodeParams(e.inputs,n||[])])}decodeFunctionResult(e,n){if(typeof e=="string"){const r=this.getFunction(e);$(r,"unknown function","fragment",e),e=r}let a="invalid length for result data";const s=Mn(n);if(s.length%32===0)try{return y(this,vn).decode(e.outputs,s)}catch{a="could not decode result data"}ye(!1,a,"BAD_DATA",{value:Ve(s),info:{method:e.name,signature:e.format()}})}makeError(e,n){const a=it(e,"data"),s=yI.getBuiltinCallException("call",n,a);if(s.message.startsWith("execution reverted (unknown custom error)")){const g=Ve(a.slice(0,4)),c=this.getError(g);if(c)try{const u=y(this,vn).decode(c.inputs,a.slice(4));s.revert={name:c.name,signature:c.format(),args:u},s.reason=s.revert.signature,s.message=`execution reverted: ${s.reason}`}catch{s.message="execution reverted (coult not decode custom error)"}}const l=this.parseTransaction(n);return l&&(s.invocation={method:l.name,signature:l.signature,args:l.args}),s}encodeFunctionResult(e,n){if(typeof e=="string"){const a=this.getFunction(e);$(a,"unknown function","fragment",e),e=a}return Ve(y(this,vn).encode(e.outputs,n||[]))}encodeFilterTopics(e,n){if(typeof e=="string"){const r=this.getEvent(e);$(r,"unknown event","eventFragment",e),e=r}ye(n.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:n.length,expectedCount:e.inputs.length});const a=[];e.anonymous||a.push(e.topicHash);const s=(r,l)=>r.type==="string"?pl(l):r.type==="bytes"?nn(Ve(l)):(r.type==="bool"&&typeof l=="boolean"?l=l?"0x01":"0x00":r.type.match(/^u?int/)?l=Or(l):r.type.match(/^bytes/)?l=nJ(l,32):r.type==="address"&&y(this,vn).encode(["address"],[l]),ul(Ve(l),32));for(n.forEach((r,l)=>{const g=e.inputs[l];if(!g.indexed){$(r==null,"cannot filter non-indexed parameters; must be null","contract."+g.name,r);return}r==null?a.push(null):g.baseType==="array"||g.baseType==="tuple"?$(!1,"filtering with tuples or arrays not supported","contract."+g.name,r):Array.isArray(r)?a.push(r.map(c=>s(g,c))):a.push(s(g,r))});a.length&&a[a.length-1]===null;)a.pop();return a}encodeEventLog(e,n){if(typeof e=="string"){const l=this.getEvent(e);$(l,"unknown event","eventFragment",e),e=l}const a=[],s=[],r=[];return e.anonymous||a.push(e.topicHash),$(n.length===e.inputs.length,"event arguments/values mismatch","values",n),e.inputs.forEach((l,g)=>{const c=n[g];if(l.indexed)if(l.type==="string")a.push(pl(c));else if(l.type==="bytes")a.push(nn(c));else{if(l.baseType==="tuple"||l.baseType==="array")throw new Error("not implemented");a.push(y(this,vn).encode([l.type],[c]))}else s.push(l),r.push(c)}),{data:y(this,vn).encode(s,r),topics:a}}decodeEventLog(e,n,a){if(typeof e=="string"){const G=this.getEvent(e);$(G,"unknown event","eventFragment",e),e=G}if(a!=null&&!e.anonymous){const G=e.topicHash;$(St(a[0],32)&&a[0].toLowerCase()===G,"fragment/topic mismatch","topics[0]",a[0]),a=a.slice(1)}const s=[],r=[],l=[];e.inputs.forEach((G,w)=>{G.indexed?G.type==="string"||G.type==="bytes"||G.baseType==="tuple"||G.baseType==="array"?(s.push(Bn.from({type:"bytes32",name:G.name})),l.push(!0)):(s.push(G),l.push(!1)):(r.push(G),l.push(!1))});const g=a!=null?y(this,vn).decode(s,Ot(a)):null,c=y(this,vn).decode(r,n,!0),u=[],d=[];let p=0,A=0;return e.inputs.forEach((G,w)=>{let Z=null;if(G.indexed)if(g==null)Z=new KB(null);else if(l[w])Z=new KB(g[A++]);else try{Z=g[A++]}catch(V){Z=V}else try{Z=c[p++]}catch(V){Z=V}u.push(Z),d.push(G.name||null)}),bg.fromItems(u,d)}parseTransaction(e){const n=it(e.data,"tx.data"),a=ve(e.value!=null?e.value:0,"tx.value"),s=this.getFunction(Ve(n.slice(0,4)));if(!s)return null;const r=y(this,vn).decode(s.inputs,n.slice(4));return new EH(s,s.selector,r,a)}parseCallResult(e){throw new Error("@TODO")}parseLog(e){const n=this.getEvent(e.topics[0]);return!n||n.anonymous?null:new vH(n,n.topicHash,this.decodeEventLog(n,e.data,e.topics))}parseError(e){const n=Ve(e),a=this.getError(Yt(n,0,4));if(!a)return null;const s=y(this,vn).decode(a.inputs,Yt(n,4));return new XH(a,a.selector,s)}static from(e){return e instanceof Wo?e:typeof e=="string"?new Wo(JSON.parse(e)):typeof e.formatJson=="function"?new Wo(e.formatJson()):typeof e.format=="function"?new Wo(e.format("json")):new Wo(e)}};Ts=new WeakMap,Ys=new WeakMap,Fs=new WeakMap,vn=new WeakMap,_s=new WeakSet,Op=function(e,n,a){if(St(e)){const r=e.toLowerCase();for(const l of y(this,Fs).values())if(r===l.selector)return l;return null}if(e.indexOf("(")===-1){const r=[];for(const[l,g]of y(this,Fs))l.split("(")[0]===e&&r.push(g);if(n){const l=n.length>0?n[n.length-1]:null;let g=n.length,c=!0;Jn.isTyped(l)&&l.type==="overrides"&&(c=!1,g--);for(let u=r.length-1;u>=0;u--){const d=r[u].inputs.length;d!==g&&(!c||d!==g-1)&&r.splice(u,1)}for(let u=r.length-1;u>=0;u--){const d=r[u].inputs;for(let p=0;p<n.length;p++)if(Jn.isTyped(n[p])){if(p>=d.length){if(n[p].type==="overrides")continue;r.splice(u,1);break}if(n[p].type!==d[p].baseType){r.splice(u,1);break}}}}if(r.length===1&&n&&n.length!==r[0].inputs.length){const l=n[n.length-1];(l==null||Array.isArray(l)||typeof l!="object")&&r.splice(0,1)}if(r.length===0)return null;if(r.length>1&&a){const l=r.map(g=>JSON.stringify(g.format())).join(", ");$(!1,`ambiguous function description (i.e. matches ${l})`,"key",e)}return r[0]}const s=y(this,Fs).get(zs.from(e).format());return s||null},jp=function(e,n,a){if(St(e)){const r=e.toLowerCase();for(const l of y(this,Ys).values())if(r===l.topicHash)return l;return null}if(e.indexOf("(")===-1){const r=[];for(const[l,g]of y(this,Ys))l.split("(")[0]===e&&r.push(g);if(n){for(let l=r.length-1;l>=0;l--)r[l].inputs.length<n.length&&r.splice(l,1);for(let l=r.length-1;l>=0;l--){const g=r[l].inputs;for(let c=0;c<n.length;c++)if(Jn.isTyped(n[c])&&n[c].type!==g[c].baseType){r.splice(l,1);break}}}if(r.length===0)return null;if(r.length>1&&a){const l=r.map(g=>JSON.stringify(g.format())).join(", ");$(!1,`ambiguous event description (i.e. matches ${l})`,"key",e)}return r[0]}const s=y(this,Ys).get(Ls.from(e).format());return s||null};let um=Wo;const T9=BigInt(0);function Bc(t){return t??null}function zt(t){return t==null?null:t.toString()}class DB{constructor(e,n,a){te(this,"gasPrice");te(this,"maxFeePerGas");te(this,"maxPriorityFeePerGas");Ye(this,{gasPrice:Bc(e),maxFeePerGas:Bc(n),maxPriorityFeePerGas:Bc(a)})}toJSON(){const{gasPrice:e,maxFeePerGas:n,maxPriorityFeePerGas:a}=this;return{_type:"FeeData",gasPrice:zt(e),maxFeePerGas:zt(n),maxPriorityFeePerGas:zt(a)}}}function Cm(t){const e={};t.to&&(e.to=t.to),t.from&&(e.from=t.from),t.data&&(e.data=Ve(t.data));const n="chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/);for(const s of n)!(s in t)||t[s]==null||(e[s]=ve(t[s],`request.${s}`));const a="type,nonce".split(/,/);for(const s of a)!(s in t)||t[s]==null||(e[s]=qe(t[s],`request.${s}`));return t.accessList&&(e.accessList=kl(t.accessList)),"blockTag"in t&&(e.blockTag=t.blockTag),"enableCcipRead"in t&&(e.enableCcipRead=!!t.enableCcipRead),"customData"in t&&(e.customData=t.customData),"blobVersionedHashes"in t&&t.blobVersionedHashes&&(e.blobVersionedHashes=t.blobVersionedHashes.slice()),"kzg"in t&&(e.kzg=t.kzg),"blobs"in t&&t.blobs&&(e.blobs=t.blobs.map(s=>j1(s)?Ve(s):Object.assign({},s))),e}var wi;class JH{constructor(e,n){te(this,"provider");te(this,"number");te(this,"hash");te(this,"timestamp");te(this,"parentHash");te(this,"parentBeaconBlockRoot");te(this,"nonce");te(this,"difficulty");te(this,"gasLimit");te(this,"gasUsed");te(this,"stateRoot");te(this,"receiptsRoot");te(this,"blobGasUsed");te(this,"excessBlobGas");te(this,"miner");te(this,"prevRandao");te(this,"extraData");te(this,"baseFeePerGas");q(this,wi);H(this,wi,e.transactions.map(a=>typeof a!="string"?new bI(a,n):a)),Ye(this,{provider:n,hash:Bc(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:Bc(e.prevRandao),extraData:e.extraData,baseFeePerGas:Bc(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return y(this,wi).map(e=>typeof e=="string"?e:e.hash)}get prefetchedTransactions(){const e=y(this,wi).slice();return e.length===0?[]:(ye(typeof e[0]=="object","transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){const{baseFeePerGas:e,difficulty:n,extraData:a,gasLimit:s,gasUsed:r,hash:l,miner:g,prevRandao:c,nonce:u,number:d,parentHash:p,parentBeaconBlockRoot:A,stateRoot:G,receiptsRoot:w,timestamp:Z,transactions:V}=this;return{_type:"Block",baseFeePerGas:zt(e),difficulty:zt(n),extraData:a,gasLimit:zt(s),gasUsed:zt(r),blobGasUsed:zt(this.blobGasUsed),excessBlobGas:zt(this.excessBlobGas),hash:l,miner:g,prevRandao:c,nonce:u,number:d,parentHash:p,timestamp:Z,parentBeaconBlockRoot:A,stateRoot:G,receiptsRoot:w,transactions:V}}[Symbol.iterator](){let e=0;const n=this.transactions;return{next:()=>e<this.length?{value:n[e++],done:!1}:{value:void 0,done:!0}}}get length(){return y(this,wi).length}get date(){return this.timestamp==null?null:new Date(this.timestamp*1e3)}async getTransaction(e){let n;if(typeof e=="number")n=y(this,wi)[e];else{const a=e.toLowerCase();for(const s of y(this,wi))if(typeof s=="string"){if(s!==a)continue;n=s;break}else{if(s.hash!==a)continue;n=s;break}}if(n==null)throw new Error("no such tx");return typeof n=="string"?await this.provider.getTransaction(n):n}getPrefetchedTransaction(e){const n=this.prefetchedTransactions;if(typeof e=="number")return n[e];e=e.toLowerCase();for(const a of n)if(a.hash===e)return a;$(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw new Error("");return xH(this)}}wi=new WeakMap;class Au{constructor(e,n){te(this,"provider");te(this,"transactionHash");te(this,"blockHash");te(this,"blockNumber");te(this,"removed");te(this,"address");te(this,"data");te(this,"topics");te(this,"index");te(this,"transactionIndex");this.provider=n;const a=Object.freeze(e.topics.slice());Ye(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:a,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){const{address:e,blockHash:n,blockNumber:a,data:s,index:r,removed:l,topics:g,transactionHash:c,transactionIndex:u}=this;return{_type:"log",address:e,blockHash:n,blockNumber:a,data:s,index:r,removed:l,topics:g,transactionHash:c,transactionIndex:u}}async getBlock(){const e=await this.provider.getBlock(this.blockHash);return ye(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){const e=await this.provider.getTransaction(this.transactionHash);return ye(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){const e=await this.provider.getTransactionReceipt(this.transactionHash);return ye(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return NH(this)}}var $I;class Y9{constructor(e,n){te(this,"provider");te(this,"to");te(this,"from");te(this,"contractAddress");te(this,"hash");te(this,"index");te(this,"blockHash");te(this,"blockNumber");te(this,"logsBloom");te(this,"gasUsed");te(this,"blobGasUsed");te(this,"cumulativeGasUsed");te(this,"gasPrice");te(this,"blobGasPrice");te(this,"type");te(this,"status");te(this,"root");q(this,$I);H(this,$I,Object.freeze(e.logs.map(s=>new Au(s,n))));let a=T9;e.effectiveGasPrice!=null?a=e.effectiveGasPrice:e.gasPrice!=null&&(a=e.gasPrice),Ye(this,{provider:n,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:a,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return y(this,$I)}toJSON(){const{to:e,from:n,contractAddress:a,hash:s,index:r,blockHash:l,blockNumber:g,logsBloom:c,logs:u,status:d,root:p}=this;return{_type:"TransactionReceipt",blockHash:l,blockNumber:g,contractAddress:a,cumulativeGasUsed:zt(this.cumulativeGasUsed),from:n,gasPrice:zt(this.gasPrice),blobGasUsed:zt(this.blobGasUsed),blobGasPrice:zt(this.blobGasPrice),gasUsed:zt(this.gasUsed),hash:s,index:r,logs:u,logsBloom:c,root:p,status:d,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){const e=await this.provider.getBlock(this.blockHash);if(e==null)throw new Error("TODO");return e}async getTransaction(){const e=await this.provider.getTransaction(this.hash);if(e==null)throw new Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return K9(this)}reorderedEvent(e){return ye(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),F9(this,e)}}$I=new WeakMap;var Wr;const j2=class j2{constructor(e,n){te(this,"provider");te(this,"blockNumber");te(this,"blockHash");te(this,"index");te(this,"hash");te(this,"type");te(this,"to");te(this,"from");te(this,"nonce");te(this,"gasLimit");te(this,"gasPrice");te(this,"maxPriorityFeePerGas");te(this,"maxFeePerGas");te(this,"maxFeePerBlobGas");te(this,"data");te(this,"value");te(this,"chainId");te(this,"signature");te(this,"accessList");te(this,"blobVersionedHashes");q(this,Wr);this.provider=n,this.blockNumber=e.blockNumber!=null?e.blockNumber:null,this.blockHash=e.blockHash!=null?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=e.maxPriorityFeePerGas!=null?e.maxPriorityFeePerGas:null,this.maxFeePerGas=e.maxFeePerGas!=null?e.maxFeePerGas:null,this.maxFeePerBlobGas=e.maxFeePerBlobGas!=null?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=e.accessList!=null?e.accessList:null,this.blobVersionedHashes=e.blobVersionedHashes!=null?e.blobVersionedHashes:null,H(this,Wr,-1)}toJSON(){const{blockNumber:e,blockHash:n,index:a,hash:s,type:r,to:l,from:g,nonce:c,data:u,signature:d,accessList:p,blobVersionedHashes:A}=this;return{_type:"TransactionResponse",accessList:p,blockNumber:e,blockHash:n,blobVersionedHashes:A,chainId:zt(this.chainId),data:u,from:g,gasLimit:zt(this.gasLimit),gasPrice:zt(this.gasPrice),hash:s,maxFeePerGas:zt(this.maxFeePerGas),maxPriorityFeePerGas:zt(this.maxPriorityFeePerGas),maxFeePerBlobGas:zt(this.maxFeePerBlobGas),nonce:c,signature:d,to:l,index:a,type:r,value:zt(this.value)}}async getBlock(){let e=this.blockNumber;if(e==null){const a=await this.getTransaction();a&&(e=a.blockNumber)}if(e==null)return null;const n=this.provider.getBlock(e);if(n==null)throw new Error("TODO");return n}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(this.blockNumber==null){const{tx:n,blockNumber:a}=await Fn({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return n==null||n.blockNumber==null?0:a-n.blockNumber+1}return await this.provider.getBlockNumber()-this.blockNumber+1}async wait(e,n){const a=e??1,s=n??0;let r=y(this,Wr),l=-1,g=r===-1;const c=async()=>{if(g)return null;const{blockNumber:A,nonce:G}=await Fn({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(G<this.nonce){r=A;return}if(g)return null;const w=await this.getTransaction();if(!(w&&w.blockNumber!=null))for(l===-1&&(l=r-3,l<y(this,Wr)&&(l=y(this,Wr)));l<=A;){if(g)return null;const Z=await this.provider.getBlock(l,!0);if(Z==null)return;for(const V of Z)if(V===this.hash)return;for(let V=0;V<Z.length;V++){const W=await Z.getTransaction(V);if(W.from===this.from&&W.nonce===this.nonce){if(g)return null;const D=await this.provider.getTransactionReceipt(W.hash);if(D==null||A-D.blockNumber+1<a)return;let x="replaced";W.data===this.data&&W.to===this.to&&W.value===this.value?x="repriced":W.data==="0x"&&W.from===W.to&&W.value===T9&&(x="cancelled"),ye(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:x==="replaced"||x==="cancelled",reason:x,replacement:W.replaceableTransaction(r),hash:W.hash,receipt:D})}}l++}},u=A=>{if(A==null||A.status!==0)return A;ye(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:A.to,from:A.from,data:""},receipt:A})},d=await this.provider.getTransactionReceipt(this.hash);if(a===0)return u(d);if(d){if(await d.confirmations()>=a)return u(d)}else if(await c(),a===0)return null;return await new Promise((A,G)=>{const w=[],Z=()=>{w.forEach(W=>W())};if(w.push(()=>{g=!0}),s>0){const W=setTimeout(()=>{Z(),G(Tt("wait for transaction timeout","TIMEOUT"))},s);w.push(()=>{clearTimeout(W)})}const V=async W=>{if(await W.confirmations()>=a){Z();try{A(u(W))}catch(D){G(D)}}};if(w.push(()=>{this.provider.off(this.hash,V)}),this.provider.on(this.hash,V),r>=0){const W=async()=>{try{await c()}catch(D){if(Gn(D,"TRANSACTION_REPLACED")){Z(),G(D);return}}g||this.provider.once("block",W)};w.push(()=>{this.provider.off("block",W)}),this.provider.once("block",W)}})}isMined(){return this.blockHash!=null}isLegacy(){return this.type===0}isBerlin(){return this.type===1}isLondon(){return this.type===2}isCancun(){return this.type===3}removedEvent(){return ye(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),K9(this)}reorderedEvent(e){return ye(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),ye(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),F9(this,e)}replaceableTransaction(e){$(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);const n=new j2(this,this.provider);return H(n,Wr,e),n}};Wr=new WeakMap;let bI=j2;function xH(t){return{orphan:"drop-block",hash:t.hash,number:t.number}}function F9(t,e){return{orphan:"reorder-transaction",tx:t,other:e}}function K9(t){return{orphan:"drop-transaction",tx:t}}function NH(t){return{orphan:"drop-log",log:{transactionHash:t.transactionHash,blockHash:t.blockHash,blockNumber:t.blockNumber,address:t.address,data:t.data,topics:Object.freeze(t.topics.slice()),index:t.index}}}class uf extends Au{constructor(n,a,s){super(n,n.provider);te(this,"interface");te(this,"fragment");te(this,"args");const r=a.decodeEventLog(s,n.data,n.topics);Ye(this,{args:r,fragment:s,interface:a})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}class M9 extends Au{constructor(n,a){super(n,n.provider);te(this,"error");Ye(this,{error:a})}}var tg;class HH extends Y9{constructor(n,a,s){super(s,a);q(this,tg);H(this,tg,n)}get logs(){return super.logs.map(n=>{const a=n.topics.length?y(this,tg).getEvent(n.topics[0]):null;if(a)try{return new uf(n,y(this,tg),a)}catch(s){return new M9(n,s)}return n})}}tg=new WeakMap;var qI;class Cf extends bI{constructor(n,a,s){super(s,a);q(this,qI);H(this,qI,n)}async wait(n,a){const s=await super.wait(n,a);return s==null?null:new HH(y(this,qI),this.provider,s)}}qI=new WeakMap;class U9 extends pk{constructor(n,a,s,r){super(n,a,s);te(this,"log");Ye(this,{log:r})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}}class TH extends U9{constructor(e,n,a,s,r){super(e,n,a,new uf(r,e.interface,s));const l=e.interface.decodeEventLog(s,this.log.data,this.log.topics);Ye(this,{args:l,fragment:s})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}}const LB=BigInt(0);function D9(t){return t&&typeof t.call=="function"}function L9(t){return t&&typeof t.estimateGas=="function"}function Pm(t){return t&&typeof t.resolveName=="function"}function z9(t){return t&&typeof t.sendTransaction=="function"}function Q9(t){if(t!=null){if(Pm(t))return t;if(t.provider)return t.provider}}var eu;class YH{constructor(e,n,a){q(this,eu);te(this,"fragment");if(Ye(this,{fragment:n}),n.inputs.length<a.length)throw new Error("too many arguments");const s=yl(e.runner,"resolveName"),r=Pm(s)?s:null;H(this,eu,async function(){const l=await Promise.all(n.inputs.map((g,c)=>a[c]==null?null:g.walkAsync(a[c],(d,p)=>d==="address"?Array.isArray(p)?Promise.all(p.map(A=>Ln(A,r))):Ln(p,r):p)));return e.interface.encodeFilterTopics(n,l)}())}getTopicFilter(){return y(this,eu)}}eu=new WeakMap;function yl(t,e){return t==null?null:typeof t[e]=="function"?t:t.provider&&typeof t.provider[e]=="function"?t.provider:null}function Xo(t){return t==null?null:t.provider||null}async function P9(t,e){const n=Jn.dereference(t,"overrides");$(typeof n=="object","invalid overrides parameter","overrides",t);const a=Cm(n);return $(a.to==null||(e||[]).indexOf("to")>=0,"cannot override to","overrides.to",a.to),$(a.data==null||(e||[]).indexOf("data")>=0,"cannot override data","overrides.data",a.data),a.from&&(a.from=a.from),a}async function FH(t,e,n){const a=yl(t,"resolveName"),s=Pm(a)?a:null;return await Promise.all(e.map((r,l)=>r.walkAsync(n[l],(g,c)=>(c=Jn.dereference(c,g),g==="address"?Ln(c,s):c))))}function KH(t){const e=async function(l){const g=await P9(l,["data"]);g.to=await t.getAddress(),g.from&&(g.from=await Ln(g.from,Q9(t.runner)));const c=t.interface,u=ve(g.value||LB,"overrides.value")===LB,d=(g.data||"0x")==="0x";c.fallback&&!c.fallback.payable&&c.receive&&!d&&!u&&$(!1,"cannot send data to receive or send value to non-payable fallback","overrides",l),$(c.fallback||d,"cannot send data to receive-only contract","overrides.data",g.data);const p=c.receive||c.fallback&&c.fallback.payable;return $(p||u,"cannot send value to non-payable fallback","overrides.value",g.value),$(c.fallback||d,"cannot send data to receive-only contract","overrides.data",g.data),g},n=async function(l){const g=yl(t.runner,"call");ye(D9(g),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const c=await e(l);try{return await g.call(c)}catch(u){throw O1(u)&&u.data?t.interface.makeError(u.data,c):u}},a=async function(l){const g=t.runner;ye(z9(g),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const c=await g.sendTransaction(await e(l)),u=Xo(t.runner);return new Cf(t.interface,u,c)},s=async function(l){const g=yl(t.runner,"estimateGas");return ye(L9(g),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await g.estimateGas(await e(l))},r=async l=>await a(l);return Ye(r,{_contract:t,estimateGas:s,populateTransaction:e,send:a,staticCall:n}),r}function MH(t,e){const n=function(...u){const d=t.interface.getFunction(e,u);return ye(d,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:u}}),d},a=async function(...u){const d=n(...u);let p={};if(d.inputs.length+1===u.length&&(p=await P9(u.pop()),p.from&&(p.from=await Ln(p.from,Q9(t.runner)))),d.inputs.length!==u.length)throw new Error("internal error: fragment inputs doesn't match arguments; should not happen");const A=await FH(t.runner,d.inputs,u);return Object.assign({},p,await Fn({to:t.getAddress(),data:t.interface.encodeFunctionData(d,A)}))},s=async function(...u){const d=await g(...u);return d.length===1?d[0]:d},r=async function(...u){const d=t.runner;ye(z9(d),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});const p=await d.sendTransaction(await a(...u)),A=Xo(t.runner);return new Cf(t.interface,A,p)},l=async function(...u){const d=yl(t.runner,"estimateGas");return ye(L9(d),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await d.estimateGas(await a(...u))},g=async function(...u){const d=yl(t.runner,"call");ye(D9(d),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});const p=await a(...u);let A="0x";try{A=await d.call(p)}catch(w){throw O1(w)&&w.data?t.interface.makeError(w.data,p):w}const G=n(...u);return t.interface.decodeFunctionResult(G,A)},c=async(...u)=>n(...u).constant?await s(...u):await r(...u);return Ye(c,{name:t.interface.getFunctionName(e),_contract:t,_key:e,getFragment:n,estimateGas:l,populateTransaction:a,send:r,staticCall:s,staticCallResult:g}),Object.defineProperty(c,"fragment",{configurable:!1,enumerable:!0,get:()=>{const u=t.interface.getFunction(e);return ye(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),u}}),c}function UH(t,e){const n=function(...s){const r=t.interface.getEvent(e,s);return ye(r,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e,args:s}}),r},a=function(...s){return new YH(t,n(...s),s)};return Ye(a,{name:t.interface.getEventName(e),_contract:t,_key:e,getFragment:n}),Object.defineProperty(a,"fragment",{configurable:!1,enumerable:!0,get:()=>{const s=t.interface.getEvent(e);return ye(s,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:e}}),s}}),a}const pm=Symbol.for("_ethersInternal_contract"),O9=new WeakMap;function DH(t,e){O9.set(t[pm],e)}function Ba(t){return O9.get(t[pm])}function LH(t){return t&&typeof t=="object"&&"getTopicFilter"in t&&typeof t.getTopicFilter=="function"&&t.fragment}async function pf(t,e){let n,a=null;if(Array.isArray(e)){const r=function(l){if(St(l,32))return l;const g=t.interface.getEvent(l);return $(g,"unknown fragment","name",l),g.topicHash};n=e.map(l=>l==null?null:Array.isArray(l)?l.map(r):r(l))}else e==="*"?n=[null]:typeof e=="string"?St(e,32)?n=[e]:(a=t.interface.getEvent(e),$(a,"unknown fragment","event",e),n=[a.topicHash]):LH(e)?n=await e.getTopicFilter():"fragment"in e?(a=e.fragment,n=[a.topicHash]):$(!1,"unknown event name","event",e);n=n.map(r=>{if(r==null)return null;if(Array.isArray(r)){const l=Array.from(new Set(r.map(g=>g.toLowerCase())).values());return l.length===1?l[0]:(l.sort(),l)}return r.toLowerCase()});const s=n.map(r=>r==null?"null":Array.isArray(r)?r.join("|"):r).join("&");return{fragment:a,tag:s,topics:n}}async function tI(t,e){const{subs:n}=Ba(t);return n.get((await pf(t,e)).tag)||null}async function zB(t,e,n){const a=Xo(t.runner);ye(a,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:e});const{fragment:s,tag:r,topics:l}=await pf(t,n),{addr:g,subs:c}=Ba(t);let u=c.get(r);if(!u){const p={address:g||t,topics:l},A=V=>{let W=s;if(W==null)try{W=t.interface.getEvent(V.topics[0])}catch{}if(W){const D=W,x=s?t.interface.decodeEventLog(s,V.data,V.topics):[];Uh(t,n,x,Y=>new TH(t,Y,n,D,V))}else Uh(t,n,[],D=>new U9(t,D,n,V))};let G=[];u={tag:r,listeners:[],start:()=>{G.length||G.push(a.on(p,A))},stop:async()=>{if(G.length==0)return;let V=G;G=[],await Promise.all(V),a.off(p,A)}},c.set(r,u)}return u}let Mh=Promise.resolve();async function zH(t,e,n,a){await Mh;const s=await tI(t,e);if(!s)return!1;const r=s.listeners.length;return s.listeners=s.listeners.filter(({listener:l,once:g})=>{const c=Array.from(n);a&&c.push(a(g?null:l));try{l.call(t,...c)}catch{}return!g}),s.listeners.length===0&&(s.stop(),Ba(t).subs.delete(s.tag)),r>0}async function Uh(t,e,n,a){try{await Mh}catch{}const s=zH(t,e,n,a);return Mh=s,await s}const ep=["then"];var tk,Qr;let QH=(tk=pm,Qr=class{constructor(e,n,a,s){te(this,"target");te(this,"interface");te(this,"runner");te(this,"filters");te(this,tk);te(this,"fallback");$(typeof e=="string"||t9(e),"invalid value for Contract target","target",e),a==null&&(a=null);const r=um.from(n);Ye(this,{target:e,runner:a,interface:r}),Object.defineProperty(this,pm,{value:{}});let l,g=null,c=null;if(s){const p=Xo(a);c=new Cf(this.interface,p,s)}let u=new Map;if(typeof e=="string")if(St(e))g=e,l=Promise.resolve(e);else{const p=yl(a,"resolveName");if(!Pm(p))throw Tt("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});l=p.resolveName(e).then(A=>{if(A==null)throw Tt("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return Ba(this).addr=A,A})}else l=e.getAddress().then(p=>{if(p==null)throw new Error("TODO");return Ba(this).addr=p,p});DH(this,{addrPromise:l,addr:g,deployTx:c,subs:u});const d=new Proxy({},{get:(p,A,G)=>{if(typeof A=="symbol"||ep.indexOf(A)>=0)return Reflect.get(p,A,G);try{return this.getEvent(A)}catch(w){if(!Gn(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(p,A)=>ep.indexOf(A)>=0?Reflect.has(p,A):Reflect.has(p,A)||this.interface.hasEvent(String(A))});return Ye(this,{filters:d}),Ye(this,{fallback:r.receive||r.fallback?KH(this):null}),new Proxy(this,{get:(p,A,G)=>{if(typeof A=="symbol"||A in p||ep.indexOf(A)>=0)return Reflect.get(p,A,G);try{return p.getFunction(A)}catch(w){if(!Gn(w,"INVALID_ARGUMENT")||w.argument!=="key")throw w}},has:(p,A)=>typeof A=="symbol"||A in p||ep.indexOf(A)>=0?Reflect.has(p,A):p.interface.hasFunction(A)})}connect(e){return new Qr(this.target,this.interface,e)}attach(e){return new Qr(e,this.interface,this.runner)}async getAddress(){return await Ba(this).addrPromise}async getDeployedCode(){const e=Xo(this.runner);ye(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});const n=await e.getCode(await this.getAddress());return n==="0x"?null:n}async waitForDeployment(){const e=this.deploymentTransaction();if(e)return await e.wait(),this;if(await this.getDeployedCode()!=null)return this;const a=Xo(this.runner);return ye(a!=null,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((s,r)=>{const l=async()=>{try{if(await this.getDeployedCode()!=null)return s(this);a.once("block",l)}catch(g){r(g)}};l()})}deploymentTransaction(){return Ba(this).deployTx}getFunction(e){return typeof e!="string"&&(e=e.format()),MH(this,e)}getEvent(e){return typeof e!="string"&&(e=e.format()),UH(this,e)}async queryTransaction(e){throw new Error("@TODO")}async queryFilter(e,n,a){n==null&&(n=0),a==null&&(a="latest");const{addr:s,addrPromise:r}=Ba(this),l=s||await r,{fragment:g,topics:c}=await pf(this,e),u={address:l,topics:c,fromBlock:n,toBlock:a},d=Xo(this.runner);return ye(d,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await d.getLogs(u)).map(p=>{let A=g;if(A==null)try{A=this.interface.getEvent(p.topics[0])}catch{}if(A)try{return new uf(p,this.interface,A)}catch(G){return new M9(p,G)}return new Au(p,d)})}async on(e,n){const a=await zB(this,"on",e);return a.listeners.push({listener:n,once:!1}),a.start(),this}async once(e,n){const a=await zB(this,"once",e);return a.listeners.push({listener:n,once:!0}),a.start(),this}async emit(e,...n){return await Uh(this,e,n,null)}async listenerCount(e){if(e){const s=await tI(this,e);return s?s.listeners.length:0}const{subs:n}=Ba(this);let a=0;for(const{listeners:s}of n.values())a+=s.length;return a}async listeners(e){if(e){const s=await tI(this,e);return s?s.listeners.map(({listener:r})=>r):[]}const{subs:n}=Ba(this);let a=[];for(const{listeners:s}of n.values())a=a.concat(s.map(({listener:r})=>r));return a}async off(e,n){const a=await tI(this,e);if(!a)return this;if(n){const s=a.listeners.map(({listener:r})=>r).indexOf(n);s>=0&&a.listeners.splice(s,1)}return(n==null||a.listeners.length===0)&&(a.stop(),Ba(this).subs.delete(a.tag)),this}async removeAllListeners(e){if(e){const n=await tI(this,e);if(!n)return this;n.stop(),Ba(this).subs.delete(n.tag)}else{const{subs:n}=Ba(this);for(const{tag:a,stop:s}of n.values())s(),n.delete(a)}return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return await this.off(e,n)}static buildClass(e){class n extends Qr{constructor(s,r=null){super(s,e,r)}}return n}static from(e,n,a){return a==null&&(a=null),new this(e,n,a)}},Qr);function PH(){return QH}class Ur extends PH(){}function U0(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):$(!1,"unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}class OH{constructor(e){te(this,"name");Ye(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,n){throw new Error("unsupported coin")}async decodeAddress(e,n){throw new Error("unsupported coin")}}const j9=new RegExp("^(ipfs)://(.*)$","i"),QB=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),j9,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];var vr,Oo,Er,uc,Rm,_9;const hc=class hc{constructor(e,n,a){q(this,Er);te(this,"provider");te(this,"address");te(this,"name");q(this,vr);q(this,Oo);Ye(this,{provider:e,address:n,name:a}),H(this,vr,null),H(this,Oo,new Ur(n,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e))}async supportsWildcard(){return y(this,vr)==null&&H(this,vr,(async()=>{try{return await y(this,Oo).supportsInterface("0x9061b923")}catch(e){if(Gn(e,"CALL_EXCEPTION"))return!1;throw H(this,vr,null),e}})()),await y(this,vr)}async getAddress(e){if(e==null&&(e=60),e===60)try{const r=await ge(this,Er,uc).call(this,"addr(bytes32)");return r==null||r===dI?null:r}catch(r){if(Gn(r,"CALL_EXCEPTION"))return null;throw r}if(e>=0&&e<2147483648){let r=e+2147483648;const l=await ge(this,Er,uc).call(this,"addr(bytes32,uint)",[r]);if(St(l,20))return bt(l)}let n=null;for(const r of this.provider.plugins)if(r instanceof OH&&r.supportsCoinType(e)){n=r;break}if(n==null)return null;const a=await ge(this,Er,uc).call(this,"addr(bytes32,uint)",[e]);if(a==null||a==="0x")return null;const s=await n.decodeAddress(e,a);if(s!=null)return s;ye(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:a}})}async getText(e){const n=await ge(this,Er,uc).call(this,"text(bytes32,string)",[e]);return n==null||n==="0x"?null:n}async getContentHash(){const e=await ge(this,Er,uc).call(this,"contenthash(bytes32)");if(e==null||e==="0x")return null;const n=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const s=n[1]==="e3010170"?"ipfs":"ipns",r=parseInt(n[4],16);if(n[5].length===r*2)return`${s}://${iJ("0x"+n[2])}`}const a=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(a&&a[1].length===64)return`bzz://${a[1]}`;ye(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){return(await this._getAvatar()).url}async _getAvatar(){const e=[{type:"name",value:this.name}];try{const n=await this.getText("avatar");if(n==null)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:n});for(let a=0;a<QB.length;a++){const s=n.match(QB[a]);if(s==null)continue;const r=s[1].toLowerCase();switch(r){case"https":case"data":return e.push({type:"url",value:n}),{linkage:e,url:n};case"ipfs":{const l=U0(n);return e.push({type:"ipfs",value:n}),e.push({type:"url",value:l}),{linkage:e,url:l}}case"erc721":case"erc1155":{const l=r==="erc721"?"tokenURI(uint256)":"uri(uint256)";e.push({type:r,value:n});const g=await this.getAddress();if(g==null)return e.push({type:"!owner",value:""}),{url:null,linkage:e};const c=(s[2]||"").split("/");if(c.length!==2)return e.push({type:`!${r}caip`,value:s[2]||""}),{url:null,linkage:e};const u=c[1],d=new Ur(c[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if(r==="erc721"){const Z=await d.ownerOf(u);if(g!==Z)return e.push({type:"!owner",value:Z}),{url:null,linkage:e};e.push({type:"owner",value:Z})}else if(r==="erc1155"){const Z=await d.balanceOf(g,u);if(!Z)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:Z.toString()})}let p=await d[l](u);if(p==null||p==="0x")return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:p}),r==="erc1155"&&(p=p.replace("{id}",Or(u,32).substring(2)),e.push({type:"metadata-url-expanded",value:p})),p.match(/^ipfs:/i)&&(p=U0(p)),e.push({type:"metadata-url",value:p});let A={};const G=await new Ki(p).send();G.assertOk();try{A=G.bodyJson}catch{try{e.push({type:"!metadata",value:G.bodyText})}catch{const W=G.body;return W&&e.push({type:"!metadata",value:Ve(W)}),{url:null,linkage:e}}return{url:null,linkage:e}}if(!A)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(A)});let w=A.image;if(typeof w!="string")return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(!w.match(/^(https:\/\/|data:)/i)){if(w.match(j9)==null)return e.push({type:"!imageUrl-ipfs",value:w}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:w}),w=U0(w)}return e.push({type:"url",value:w}),{linkage:e,url:w}}}}}catch{}return{linkage:e,url:null}}static async getEnsAddress(e){const n=await e.getNetwork(),a=n.getPlugin("org.ethers.plugins.network.Ens");return ye(a,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:n}}),a.address}static async fromName(e,n){var s;let a=n;for(;;){if(a===""||a==="."||n!=="eth"&&a==="eth")return null;const r=await ge(s=hc,Rm,_9).call(s,e,a);if(r!=null){const l=new hc(e,r,n);return a!==n&&!await l.supportsWildcard()?null:l}a=a.split(".").slice(1).join(".")}}};vr=new WeakMap,Oo=new WeakMap,Er=new WeakSet,uc=async function(e,n){n=(n||[]).slice();const a=y(this,Oo).interface;n.unshift(Fh(this.name));let s=null;await this.supportsWildcard()&&(s=a.getFunction(e),ye(s,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),n=[QN(this.name,255),a.encodeFunctionData(s,n)],e="resolve(bytes,bytes)"),n.push({enableCcipRead:!0});try{const r=await y(this,Oo)[e](...n);return s?a.decodeFunctionResult(s,r)[0]:r}catch(r){if(!Gn(r,"CALL_EXCEPTION"))throw r}return null},Rm=new WeakSet,_9=async function(e,n){const a=await hc.getEnsAddress(e);try{const r=await new Ur(a,["function resolver(bytes32) view returns (address)"],e).resolver(Fh(n),{enableCcipRead:!0});return r===dI?null:r}catch(s){throw s}return null},q(hc,Rm);let mm=hc;const PB=BigInt(0);function nt(t,e){return function(n){return n==null?e:t(n)}}function Om(t,e){return n=>{if(e&&n==null)return null;if(!Array.isArray(n))throw new Error("not an array");return n.map(a=>t(a))}}function yu(t,e){return n=>{const a={};for(const s in t){let r=s;if(e&&s in e&&!(r in n)){for(const l of e[s])if(l in n){r=l;break}}try{const l=t[s](n[r]);l!==void 0&&(a[s]=l)}catch(l){const g=l instanceof Error?l.message:"not-an-error";ye(!1,`invalid value for value.${s} (${g})`,"BAD_DATA",{value:n})}}return a}}function jH(t){switch(t){case!0:case"true":return!0;case!1:case"false":return!1}$(!1,`invalid boolean; ${JSON.stringify(t)}`,"value",t)}function wg(t){return $(St(t,!0),"invalid data","value",t),t}function Zn(t){return $(St(t,32),"invalid hash","value",t),t}const _H=yu({address:bt,blockHash:Zn,blockNumber:qe,data:wg,index:qe,removed:nt(jH,!1),topics:Om(Zn),transactionHash:Zn,transactionIndex:qe},{index:["logIndex"]});function $H(t){return _H(t)}const qH=yu({hash:nt(Zn),parentHash:Zn,parentBeaconBlockRoot:nt(Zn,null),number:qe,timestamp:qe,nonce:nt(wg),difficulty:ve,gasLimit:ve,gasUsed:ve,stateRoot:nt(Zn,null),receiptsRoot:nt(Zn,null),blobGasUsed:nt(ve,null),excessBlobGas:nt(ve,null),miner:nt(bt),prevRandao:nt(Zn,null),extraData:wg,baseFeePerGas:nt(ve)},{prevRandao:["mixHash"]});function eT(t){const e=qH(t);return e.transactions=t.transactions.map(n=>typeof n=="string"?n:$9(n)),e}const tT=yu({transactionIndex:qe,blockNumber:qe,transactionHash:Zn,address:bt,topics:Om(Zn),data:wg,index:qe,blockHash:Zn},{index:["logIndex"]});function nT(t){return tT(t)}const aT=yu({to:nt(bt,null),from:nt(bt,null),contractAddress:nt(bt,null),index:qe,root:nt(Ve),gasUsed:ve,blobGasUsed:nt(ve,null),logsBloom:nt(wg),blockHash:Zn,hash:Zn,logs:Om(nT),blockNumber:qe,cumulativeGasUsed:ve,effectiveGasPrice:nt(ve),blobGasPrice:nt(ve,null),status:nt(qe),type:nt(qe,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function sT(t){return aT(t)}function $9(t){t.to&&ve(t.to)===PB&&(t.to="0x0000000000000000000000000000000000000000");const e=yu({hash:Zn,index:nt(qe,void 0),type:n=>n==="0x"||n==null?0:qe(n),accessList:nt(kl,null),blobVersionedHashes:nt(Om(Zn,!0),null),blockHash:nt(Zn,null),blockNumber:nt(qe,null),transactionIndex:nt(qe,null),from:bt,gasPrice:nt(ve),maxPriorityFeePerGas:nt(ve),maxFeePerGas:nt(ve),maxFeePerBlobGas:nt(ve,null),gasLimit:ve,to:nt(bt,null),value:ve,nonce:qe,data:wg,creates:nt(bt,null),chainId:nt(ve,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(t);if(e.to==null&&e.creates==null&&(e.creates=jx(e)),(t.type===1||t.type===2)&&t.accessList==null&&(e.accessList=[]),t.signature?e.signature=Zs.from(t.signature):e.signature=Zs.from(t),e.chainId==null){const n=e.signature.legacyChainId;n!=null&&(e.chainId=n)}return e.blockHash&&ve(e.blockHash)===PB&&(e.blockHash=null),e}const iT="0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e";class bu{constructor(e){te(this,"name");Ye(this,{name:e})}clone(){return new bu(this.name)}}class jm extends bu{constructor(n,a){n==null&&(n=0);super(`org.ethers.network.plugins.GasCost#${n||0}`);te(this,"effectiveBlock");te(this,"txBase");te(this,"txCreate");te(this,"txDataZero");te(this,"txDataNonzero");te(this,"txAccessListStorageKey");te(this,"txAccessListAddress");const s={effectiveBlock:n};function r(l,g){let c=(a||{})[l];c==null&&(c=g),$(typeof c=="number",`invalud value for ${l}`,"costs",a),s[l]=c}r("txBase",21e3),r("txCreate",32e3),r("txDataZero",4),r("txDataNonzero",16),r("txAccessListStorageKey",1900),r("txAccessListAddress",2400),Ye(this,s)}clone(){return new jm(this.effectiveBlock,this)}}class _m extends bu{constructor(n,a){super("org.ethers.plugins.network.Ens");te(this,"address");te(this,"targetNetwork");Ye(this,{address:n||iT,targetNetwork:a??1})}clone(){return new _m(this.address,this.targetNetwork)}}var tu,nu;class rT extends bu{constructor(n,a){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin");q(this,tu);q(this,nu);H(this,tu,n),H(this,nu,a)}get url(){return y(this,tu)}get processFunc(){return y(this,nu)}clone(){return this}}tu=new WeakMap,nu=new WeakMap;const D0=new Map;var ng,ag,Xr;const fc=class fc{constructor(e,n){q(this,ng);q(this,ag);q(this,Xr);H(this,ng,e),H(this,ag,ve(n)),H(this,Xr,new Map)}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return y(this,ng)}set name(e){H(this,ng,e)}get chainId(){return y(this,ag)}set chainId(e){H(this,ag,ve(e,"chainId"))}matches(e){if(e==null)return!1;if(typeof e=="string"){try{return this.chainId===ve(e)}catch{}return this.name===e}if(typeof e=="number"||typeof e=="bigint"){try{return this.chainId===ve(e)}catch{}return!1}if(typeof e=="object"){if(e.chainId!=null){try{return this.chainId===ve(e.chainId)}catch{}return!1}return e.name!=null?this.name===e.name:!1}return!1}get plugins(){return Array.from(y(this,Xr).values())}attachPlugin(e){if(y(this,Xr).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return y(this,Xr).set(e.name,e.clone()),this}getPlugin(e){return y(this,Xr).get(e)||null}getPlugins(e){return this.plugins.filter(n=>n.name.split("#")[0]===e)}clone(){const e=new fc(this.name,this.chainId);return this.plugins.forEach(n=>{e.attachPlugin(n.clone())}),e}computeIntrinsicGas(e){const n=this.getPlugin("org.ethers.plugins.network.GasCost")||new jm;let a=n.txBase;if(e.to==null&&(a+=n.txCreate),e.data)for(let s=2;s<e.data.length;s+=2)e.data.substring(s,s+2)==="00"?a+=n.txDataZero:a+=n.txDataNonzero;if(e.accessList){const s=kl(e.accessList);for(const r in s)a+=n.txAccessListAddress+n.txAccessListStorageKey*s[r].storageKeys.length}return a}static from(e){if(oT(),e==null)return fc.from("mainnet");if(typeof e=="number"&&(e=BigInt(e)),typeof e=="string"||typeof e=="bigint"){const n=D0.get(e);if(n)return n();if(typeof e=="bigint")return new fc("unknown",e);$(!1,"unknown network","network",e)}if(typeof e.clone=="function")return e.clone();if(typeof e=="object"){$(typeof e.name=="string"&&typeof e.chainId=="number","invalid network object name or chainId","network",e);const n=new fc(e.name,e.chainId);return(e.ensAddress||e.ensNetwork!=null)&&n.attachPlugin(new _m(e.ensAddress,e.ensNetwork)),n}$(!1,"invalid network","network",e)}static register(e,n){typeof e=="number"&&(e=BigInt(e));const a=D0.get(e);a&&$(!1,`conflicting network for ${JSON.stringify(a.name)}`,"nameOrChainId",e),D0.set(e,n)}};ng=new WeakMap,ag=new WeakMap,Xr=new WeakMap;let Qs=fc;function OB(t,e){const n=String(t);if(!n.match(/^[0-9.]+$/))throw new Error(`invalid gwei value: ${t}`);const a=n.split(".");if(a.length===1&&a.push(""),a.length!==2)throw new Error(`invalid gwei value: ${t}`);for(;a[1].length<e;)a[1]+="0";if(a[1].length>9){let s=BigInt(a[1].substring(0,9));a[1].substring(9).match(/^0+$/)||s++,a[1]=s.toString()}return BigInt(a[0]+a[1])}function jB(t){return new rT(t,async(e,n,a)=>{a.setHeader("User-Agent","ethers");let s;try{const[r,l]=await Promise.all([a.send(),e()]);s=r;const g=s.bodyJson.standard;return{gasPrice:l.gasPrice,maxFeePerGas:OB(g.maxFee,9),maxPriorityFeePerGas:OB(g.maxPriorityFee,9)}}catch(r){ye(!1,`error encountered with polygon gas station (${JSON.stringify(a.url)})`,"SERVER_ERROR",{request:a,response:s,error:r})}})}let _B=!1;function oT(){if(_B)return;_B=!0;function t(e,n,a){const s=function(){const r=new Qs(e,n);return a.ensNetwork!=null&&r.attachPlugin(new _m(null,a.ensNetwork)),r.attachPlugin(new jm),(a.plugins||[]).forEach(l=>{r.attachPlugin(l)}),r};Qs.register(e,s),Qs.register(n,s),a.altNames&&a.altNames.forEach(r=>{Qs.register(r,s)})}t("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),t("ropsten",3,{ensNetwork:3}),t("rinkeby",4,{ensNetwork:4}),t("goerli",5,{ensNetwork:5}),t("kovan",42,{ensNetwork:42}),t("sepolia",11155111,{ensNetwork:11155111}),t("holesky",17e3,{ensNetwork:17e3}),t("classic",61,{}),t("classicKotti",6,{}),t("arbitrum",42161,{ensNetwork:1}),t("arbitrum-goerli",421613,{}),t("arbitrum-sepolia",421614,{}),t("base",8453,{ensNetwork:1}),t("base-goerli",84531,{}),t("base-sepolia",84532,{}),t("bnb",56,{ensNetwork:1}),t("bnbt",97,{}),t("linea",59144,{ensNetwork:1}),t("linea-goerli",59140,{}),t("linea-sepolia",59141,{}),t("matic",137,{ensNetwork:1,plugins:[jB("https://gasstation.polygon.technology/v2")]}),t("matic-amoy",80002,{}),t("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[jB("https://gasstation-testnet.polygon.technology/v2")]}),t("optimism",10,{ensNetwork:1,plugins:[]}),t("optimism-goerli",420,{}),t("optimism-sepolia",11155420,{}),t("xdai",100,{ensNetwork:1})}function Dh(t){return JSON.parse(JSON.stringify(t))}var ki,za,Jr,Ks,sg,_p;class lT{constructor(e){q(this,sg);q(this,ki);q(this,za);q(this,Jr);q(this,Ks);H(this,ki,e),H(this,za,null),H(this,Jr,4e3),H(this,Ks,-2)}get pollingInterval(){return y(this,Jr)}set pollingInterval(e){H(this,Jr,e)}start(){y(this,za)||(H(this,za,y(this,ki)._setTimeout(ge(this,sg,_p).bind(this),y(this,Jr))),ge(this,sg,_p).call(this))}stop(){y(this,za)&&(y(this,ki)._clearTimeout(y(this,za)),H(this,za,null))}pause(e){this.stop(),e&&H(this,Ks,-2)}resume(){this.start()}}ki=new WeakMap,za=new WeakMap,Jr=new WeakMap,Ks=new WeakMap,sg=new WeakSet,_p=async function(){try{const e=await y(this,ki).getBlockNumber();if(y(this,Ks)===-2){H(this,Ks,e);return}if(e!==y(this,Ks)){for(let n=y(this,Ks)+1;n<=e;n++){if(y(this,za)==null)return;await y(this,ki).emit("block",n)}H(this,Ks,e)}}catch{}y(this,za)!=null&&H(this,za,y(this,ki)._setTimeout(ge(this,sg,_p).bind(this),y(this,Jr)))};var jo,_o,xr;class mf{constructor(e){q(this,jo);q(this,_o);q(this,xr);H(this,jo,e),H(this,xr,!1),H(this,_o,n=>{this._poll(n,y(this,jo))})}async _poll(e,n){throw new Error("sub-classes must override this")}start(){y(this,xr)||(H(this,xr,!0),y(this,_o).call(this,-2),y(this,jo).on("block",y(this,_o)))}stop(){y(this,xr)&&(H(this,xr,!1),y(this,jo).off("block",y(this,_o)))}pause(e){this.stop()}resume(){this.start()}}jo=new WeakMap,_o=new WeakMap,xr=new WeakMap;var ig,Vi;class cT extends mf{constructor(n,a){super(n);q(this,ig);q(this,Vi);H(this,ig,a),H(this,Vi,-2)}pause(n){n&&H(this,Vi,-2),super.pause(n)}async _poll(n,a){const s=await a.getBlock(y(this,ig));s!=null&&(y(this,Vi)===-2?H(this,Vi,s.number):s.number>y(this,Vi)&&(a.emit(y(this,ig),s.number),H(this,Vi,s.number)))}}ig=new WeakMap,Vi=new WeakMap;var Wm;class gT extends mf{constructor(n,a){super(n);q(this,Wm);H(this,Wm,Dh(a))}async _poll(n,a){throw new Error("@TODO")}}Wm=new WeakMap;var rg;class dT extends mf{constructor(n,a){super(n);q(this,rg);H(this,rg,a)}async _poll(n,a){const s=await a.getTransactionReceipt(y(this,rg));s&&a.emit(y(this,rg),s)}}rg=new WeakMap;var Ri,og,lg,Nr,Qa,vm,q9;class Af{constructor(e,n){q(this,vm);q(this,Ri);q(this,og);q(this,lg);q(this,Nr);q(this,Qa);H(this,Ri,e),H(this,og,Dh(n)),H(this,lg,ge(this,vm,q9).bind(this)),H(this,Nr,!1),H(this,Qa,-2)}start(){y(this,Nr)||(H(this,Nr,!0),y(this,Qa)===-2&&y(this,Ri).getBlockNumber().then(e=>{H(this,Qa,e)}),y(this,Ri).on("block",y(this,lg)))}stop(){y(this,Nr)&&(H(this,Nr,!1),y(this,Ri).off("block",y(this,lg)))}pause(e){this.stop(),e&&H(this,Qa,-2)}resume(){this.start()}}Ri=new WeakMap,og=new WeakMap,lg=new WeakMap,Nr=new WeakMap,Qa=new WeakMap,vm=new WeakSet,q9=async function(e){if(y(this,Qa)===-2)return;const n=Dh(y(this,og));n.fromBlock=y(this,Qa)+1,n.toBlock=e;const a=await y(this,Ri).getLogs(n);if(a.length===0){y(this,Qa)<e-60&&H(this,Qa,e-60);return}for(const s of a)y(this,Ri).emit(y(this,og),s),H(this,Qa,s.blockNumber)};const IT=BigInt(2),uT=10;function tp(t){return t&&typeof t.then=="function"}function $p(t,e){return t+":"+JSON.stringify(e,(n,a)=>{if(a==null)return"null";if(typeof a=="bigint")return`bigint:${a.toString()}`;if(typeof a=="string")return a.toLowerCase();if(typeof a=="object"&&!Array.isArray(a)){const s=Object.keys(a);return s.sort(),s.reduce((r,l)=>(r[l]=a[l],r),{})}return a})}class eV{constructor(e){te(this,"name");Ye(this,{name:e})}start(){}stop(){}pause(e){}resume(){}}function CT(t){return JSON.parse(JSON.stringify(t))}function Lh(t){return t=Array.from(new Set(t).values()),t.sort(),t}async function L0(t,e){if(t==null)throw new Error("invalid event");if(Array.isArray(t)&&(t={topics:t}),typeof t=="string")switch(t){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:t,tag:t}}if(St(t,32)){const n=t.toLowerCase();return{type:"transaction",tag:$p("tx",{hash:n}),hash:n}}if(t.orphan){const n=t;return{type:"orphan",tag:$p("orphan",n),filter:CT(n)}}if(t.address||t.topics){const n=t,a={topics:(n.topics||[]).map(s=>s==null?null:Array.isArray(s)?Lh(s.map(r=>r.toLowerCase())):s.toLowerCase())};if(n.address){const s=[],r=[],l=g=>{St(g)?s.push(g):r.push((async()=>{s.push(await Ln(g,e))})())};Array.isArray(n.address)?n.address.forEach(l):l(n.address),r.length&&await Promise.all(r),a.address=Lh(s.map(g=>g.toLowerCase()))}return{filter:a,tag:$p("event",a),type:"event"}}$(!1,"unknown ProviderEvent","event",t)}function z0(){return new Date().getTime()}const pT={cacheTimeout:250,pollingInterval:4e3};var En,Hr,Xn,cg,Va,$o,Tr,Wi,au,Pa,gg,dg,$e,Ga,zh,Qh,nI,Ph,aI,qp;class mT{constructor(e,n){q(this,$e);q(this,En);q(this,Hr);q(this,Xn);q(this,cg);q(this,Va);q(this,$o);q(this,Tr);q(this,Wi);q(this,au);q(this,Pa);q(this,gg);q(this,dg);if(H(this,dg,Object.assign({},pT,n||{})),e==="any")H(this,$o,!0),H(this,Va,null);else if(e){const a=Qs.from(e);H(this,$o,!1),H(this,Va,Promise.resolve(a)),setTimeout(()=>{this.emit("network",a,null)},0)}else H(this,$o,!1),H(this,Va,null);H(this,Wi,-1),H(this,Tr,new Map),H(this,En,new Map),H(this,Hr,new Map),H(this,Xn,null),H(this,cg,!1),H(this,au,1),H(this,Pa,new Map),H(this,gg,!1)}get pollingInterval(){return y(this,dg).pollingInterval}get provider(){return this}get plugins(){return Array.from(y(this,Hr).values())}attachPlugin(e){if(y(this,Hr).get(e.name))throw new Error(`cannot replace existing plugin: ${e.name} `);return y(this,Hr).set(e.name,e.connect(this)),this}getPlugin(e){return y(this,Hr).get(e)||null}get disableCcipRead(){return y(this,gg)}set disableCcipRead(e){H(this,gg,!!e)}async ccipReadFetch(e,n,a){if(this.disableCcipRead||a.length===0||e.to==null)return null;const s=e.to.toLowerCase(),r=n.toLowerCase(),l=[];for(let g=0;g<a.length;g++){const c=a[g],u=c.replace("{sender}",s).replace("{data}",r),d=new Ki(u);c.indexOf("{data}")===-1&&(d.body={data:r,sender:s}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:d,index:g,urls:a});let p="unknown error",A;try{A=await d.send()}catch(G){l.push(G.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:{error:G}});continue}try{const G=A.bodyJson;if(G.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:d,result:G}),G.data;G.message&&(p=G.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:d,result:G})}catch{}ye(A.statusCode<400||A.statusCode>=500,`response not found during CCIP fetch: ${p}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:c,errorMessage:p}}),l.push(p)}ye(!1,`error encountered during CCIP fetch: ${l.map(g=>JSON.stringify(g)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:a,errorMessages:l}})}_wrapBlock(e,n){return new JH(eT(e),this)}_wrapLog(e,n){return new Au($H(e),this)}_wrapTransactionReceipt(e,n){return new Y9(sT(e),this)}_wrapTransactionResponse(e,n){return new bI($9(e),this)}_detectNetwork(){ye(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){ye(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){const e=qe(await ge(this,$e,Ga).call(this,{method:"getBlockNumber"}),"%response");return y(this,Wi)>=0&&H(this,Wi,e),e}_getAddress(e){return Ln(e,this)}_getBlockTag(e){if(e==null)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}if(St(e))return St(e,32)?e:mc(e);if(typeof e=="bigint"&&(e=qe(e,"blockTag")),typeof e=="number")return e>=0?mc(e):y(this,Wi)>=0?mc(y(this,Wi)+e):this.getBlockNumber().then(n=>mc(n+e));$(!1,"invalid blockTag","blockTag",e)}_getFilter(e){const n=(e.topics||[]).map(c=>c==null?null:Array.isArray(c)?Lh(c.map(u=>u.toLowerCase())):c.toLowerCase()),a="blockHash"in e?e.blockHash:void 0,s=(c,u,d)=>{let p;switch(c.length){case 0:break;case 1:p=c[0];break;default:c.sort(),p=c}if(a&&(u!=null||d!=null))throw new Error("invalid filter");const A={};return p&&(A.address=p),n.length&&(A.topics=n),u&&(A.fromBlock=u),d&&(A.toBlock=d),a&&(A.blockHash=a),A};let r=[];if(e.address)if(Array.isArray(e.address))for(const c of e.address)r.push(this._getAddress(c));else r.push(this._getAddress(e.address));let l;"fromBlock"in e&&(l=this._getBlockTag(e.fromBlock));let g;return"toBlock"in e&&(g=this._getBlockTag(e.toBlock)),r.filter(c=>typeof c!="string").length||l!=null&&typeof l!="string"||g!=null&&typeof g!="string"?Promise.all([Promise.all(r),l,g]).then(c=>s(c[0],c[1],c[2])):s(r,l,g)}_getTransactionRequest(e){const n=Cm(e),a=[];if(["to","from"].forEach(s=>{if(n[s]==null)return;const r=Ln(n[s],this);tp(r)?a.push(async function(){n[s]=await r}()):n[s]=r}),n.blockTag!=null){const s=this._getBlockTag(n.blockTag);tp(s)?a.push(async function(){n.blockTag=await s}()):n.blockTag=s}return a.length?async function(){return await Promise.all(a),n}():n}async getNetwork(){if(y(this,Va)==null){const s=(async()=>{try{const r=await this._detectNetwork();return this.emit("network",r,null),r}catch(r){throw y(this,Va)===s&&H(this,Va,null),r}})();return H(this,Va,s),(await s).clone()}const e=y(this,Va),[n,a]=await Promise.all([e,this._detectNetwork()]);return n.chainId!==a.chainId&&(y(this,$o)?(this.emit("network",a,n),y(this,Va)===e&&H(this,Va,Promise.resolve(a))):ye(!1,`network changed: ${n.chainId} => ${a.chainId} `,"NETWORK_ERROR",{event:"changed"})),n.clone()}async getFeeData(){const e=await this.getNetwork(),n=async()=>{const{_block:s,gasPrice:r,priorityFee:l}=await Fn({_block:ge(this,$e,Ph).call(this,"latest",!1),gasPrice:(async()=>{try{const d=await ge(this,$e,Ga).call(this,{method:"getGasPrice"});return ve(d,"%response")}catch{}return null})(),priorityFee:(async()=>{try{const d=await ge(this,$e,Ga).call(this,{method:"getPriorityFee"});return ve(d,"%response")}catch{}return null})()});let g=null,c=null;const u=this._wrapBlock(s,e);return u&&u.baseFeePerGas&&(c=l??BigInt("1000000000"),g=u.baseFeePerGas*IT+c),new DB(r,g,c)},a=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(a){const s=new Ki(a.url),r=await a.processFunc(n,this,s);return new DB(r.gasPrice,r.maxFeePerGas,r.maxPriorityFeePerGas)}return await n()}async estimateGas(e){let n=this._getTransactionRequest(e);return tp(n)&&(n=await n),ve(await ge(this,$e,Ga).call(this,{method:"estimateGas",transaction:n}),"%response")}async call(e){const{tx:n,blockTag:a}=await Fn({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await ge(this,$e,Qh).call(this,ge(this,$e,zh).call(this,n,a,e.enableCcipRead?0:-1))}async getBalance(e,n){return ve(await ge(this,$e,nI).call(this,{method:"getBalance"},e,n),"%response")}async getTransactionCount(e,n){return qe(await ge(this,$e,nI).call(this,{method:"getTransactionCount"},e,n),"%response")}async getCode(e,n){return Ve(await ge(this,$e,nI).call(this,{method:"getCode"},e,n))}async getStorage(e,n,a){const s=ve(n,"position");return Ve(await ge(this,$e,nI).call(this,{method:"getStorage",position:s},e,a))}async broadcastTransaction(e){const{blockNumber:n,hash:a,network:s}=await Fn({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),r=dm.from(e);if(r.hash!==a)throw new Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(r,s).replaceableTransaction(n)}async getBlock(e,n){const{network:a,params:s}=await Fn({network:this.getNetwork(),params:ge(this,$e,Ph).call(this,e,!!n)});return s==null?null:this._wrapBlock(s,a)}async getTransaction(e){const{network:n,params:a}=await Fn({network:this.getNetwork(),params:ge(this,$e,Ga).call(this,{method:"getTransaction",hash:e})});return a==null?null:this._wrapTransactionResponse(a,n)}async getTransactionReceipt(e){const{network:n,params:a}=await Fn({network:this.getNetwork(),params:ge(this,$e,Ga).call(this,{method:"getTransactionReceipt",hash:e})});if(a==null)return null;if(a.gasPrice==null&&a.effectiveGasPrice==null){const s=await ge(this,$e,Ga).call(this,{method:"getTransaction",hash:e});if(s==null)throw new Error("report this; could not find tx or effectiveGasPrice");a.effectiveGasPrice=s.gasPrice}return this._wrapTransactionReceipt(a,n)}async getTransactionResult(e){const{result:n}=await Fn({network:this.getNetwork(),result:ge(this,$e,Ga).call(this,{method:"getTransactionResult",hash:e})});return n==null?null:Ve(n)}async getLogs(e){let n=this._getFilter(e);tp(n)&&(n=await n);const{network:a,params:s}=await Fn({network:this.getNetwork(),params:ge(this,$e,Ga).call(this,{method:"getLogs",filter:n})});return s.map(r=>this._wrapLog(r,a))}_getProvider(e){ye(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await mm.fromName(this,e)}async getAvatar(e){const n=await this.getResolver(e);return n?await n.getAvatar():null}async resolveName(e){const n=await this.getResolver(e);return n?await n.getAddress():null}async lookupAddress(e){e=bt(e);const n=Fh(e.substring(2).toLowerCase()+".addr.reverse");try{const a=await mm.getEnsAddress(this),r=await new Ur(a,["function resolver(bytes32) view returns (address)"],this).resolver(n);if(r==null||r===dI)return null;const g=await new Ur(r,["function name(bytes32) view returns (string)"],this).name(n);return await this.resolveName(g)!==e?null:g}catch(a){if(Gn(a,"BAD_DATA")&&a.value==="0x"||Gn(a,"CALL_EXCEPTION"))return null;throw a}return null}async waitForTransaction(e,n,a){const s=n??1;return s===0?this.getTransactionReceipt(e):new Promise(async(r,l)=>{let g=null;const c=async u=>{try{const d=await this.getTransactionReceipt(e);if(d!=null&&u-d.blockNumber+1>=s){r(d),g&&(clearTimeout(g),g=null);return}}catch(d){console.log("EEE",d)}this.once("block",c)};a!=null&&(g=setTimeout(()=>{g!=null&&(g=null,this.off("block",c),l(Tt("timeout","TIMEOUT",{reason:"timeout"})))},a)),c(await this.getBlockNumber())})}async waitForBlock(e){ye(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){const n=y(this,Pa).get(e);n&&(n.timer&&clearTimeout(n.timer),y(this,Pa).delete(e))}_setTimeout(e,n){n==null&&(n=0);const a=Wd(this,au)._++,s=()=>{y(this,Pa).delete(a),e()};if(this.paused)y(this,Pa).set(a,{timer:null,func:s,time:n});else{const r=setTimeout(s,n);y(this,Pa).set(a,{timer:r,func:s,time:z0()})}return a}_forEachSubscriber(e){for(const n of y(this,En).values())e(n.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new eV(e.type);case"block":{const n=new lT(this);return n.pollingInterval=this.pollingInterval,n}case"safe":case"finalized":return new cT(this,e.type);case"event":return new Af(this,e.filter);case"transaction":return new dT(this,e.hash);case"orphan":return new gT(this,e.filter)}throw new Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,n){for(const a of y(this,En).values())if(a.subscriber===e){a.started&&a.subscriber.stop(),a.subscriber=n,a.started&&n.start(),y(this,Xn)!=null&&n.pause(y(this,Xn));break}}async on(e,n){const a=await ge(this,$e,qp).call(this,e);return a.listeners.push({listener:n,once:!1}),a.started||(a.subscriber.start(),a.started=!0,y(this,Xn)!=null&&a.subscriber.pause(y(this,Xn))),this}async once(e,n){const a=await ge(this,$e,qp).call(this,e);return a.listeners.push({listener:n,once:!0}),a.started||(a.subscriber.start(),a.started=!0,y(this,Xn)!=null&&a.subscriber.pause(y(this,Xn))),this}async emit(e,...n){const a=await ge(this,$e,aI).call(this,e,n);if(!a||a.listeners.length===0)return!1;const s=a.listeners.length;return a.listeners=a.listeners.filter(({listener:r,once:l})=>{const g=new pk(this,l?null:r,e);try{r.call(this,...n,g)}catch{}return!l}),a.listeners.length===0&&(a.started&&a.subscriber.stop(),y(this,En).delete(a.tag)),s>0}async listenerCount(e){if(e){const a=await ge(this,$e,aI).call(this,e);return a?a.listeners.length:0}let n=0;for(const{listeners:a}of y(this,En).values())n+=a.length;return n}async listeners(e){if(e){const a=await ge(this,$e,aI).call(this,e);return a?a.listeners.map(({listener:s})=>s):[]}let n=[];for(const{listeners:a}of y(this,En).values())n=n.concat(a.map(({listener:s})=>s));return n}async off(e,n){const a=await ge(this,$e,aI).call(this,e);if(!a)return this;if(n){const s=a.listeners.map(({listener:r})=>r).indexOf(n);s>=0&&a.listeners.splice(s,1)}return(!n||a.listeners.length===0)&&(a.started&&a.subscriber.stop(),y(this,En).delete(a.tag)),this}async removeAllListeners(e){if(e){const{tag:n,started:a,subscriber:s}=await ge(this,$e,qp).call(this,e);a&&s.stop(),y(this,En).delete(n)}else for(const[n,{started:a,subscriber:s}]of y(this,En))a&&s.stop(),y(this,En).delete(n);return this}async addListener(e,n){return await this.on(e,n)}async removeListener(e,n){return this.off(e,n)}get destroyed(){return y(this,cg)}destroy(){this.removeAllListeners();for(const e of y(this,Pa).keys())this._clearTimeout(e);H(this,cg,!0)}get paused(){return y(this,Xn)!=null}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(H(this,Wi,-1),y(this,Xn)!=null){if(y(this,Xn)==!!e)return;ye(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}this._forEachSubscriber(n=>n.pause(e)),H(this,Xn,!!e);for(const n of y(this,Pa).values())n.timer&&clearTimeout(n.timer),n.time=z0()-n.time}resume(){if(y(this,Xn)!=null){this._forEachSubscriber(e=>e.resume()),H(this,Xn,null);for(const e of y(this,Pa).values()){let n=e.time;n<0&&(n=0),e.time=z0(),setTimeout(e.func,n)}}}}En=new WeakMap,Hr=new WeakMap,Xn=new WeakMap,cg=new WeakMap,Va=new WeakMap,$o=new WeakMap,Tr=new WeakMap,Wi=new WeakMap,au=new WeakMap,Pa=new WeakMap,gg=new WeakMap,dg=new WeakMap,$e=new WeakSet,Ga=async function(e){const n=y(this,dg).cacheTimeout;if(n<0)return await this._perform(e);const a=$p(e.method,e);let s=y(this,Tr).get(a);return s||(s=this._perform(e),y(this,Tr).set(a,s),setTimeout(()=>{y(this,Tr).get(a)===s&&y(this,Tr).delete(a)},n)),await s},zh=async function(e,n,a){ye(a<uT,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:n,enableCcipRead:!0})});const s=Cm(e);try{return Ve(await this._perform({method:"call",transaction:s,blockTag:n}))}catch(r){if(!this.disableCcipRead&&O1(r)&&r.data&&a>=0&&n==="latest"&&s.to!=null&&Yt(r.data,0,4)==="0x556f1830"){const l=r.data,g=await Ln(s.to,this);let c;try{c=fT(Yt(r.data,4))}catch(p){ye(!1,p.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:s,info:{data:l}})}ye(c.sender.toLowerCase()===g.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:l,reason:"OffchainLookup",transaction:s,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:c.errorArgs}});const u=await this.ccipReadFetch(s,c.calldata,c.urls);ye(u!=null,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:s,info:{data:r.data,errorArgs:c.errorArgs}});const d={to:g,data:Ot([c.selector,hT([u,c.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:d});try{const p=await ge(this,$e,zh).call(this,d,n,a+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},d),result:p}),p}catch(p){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},d),error:p}),p}}throw r}},Qh=async function(e){const{value:n}=await Fn({network:this.getNetwork(),value:e});return n},nI=async function(e,n,a){let s=this._getAddress(n),r=this._getBlockTag(a);return(typeof s!="string"||typeof r!="string")&&([s,r]=await Promise.all([s,r])),await ge(this,$e,Qh).call(this,ge(this,$e,Ga).call(this,Object.assign(e,{address:s,blockTag:r})))},Ph=async function(e,n){if(St(e,32))return await ge(this,$e,Ga).call(this,{method:"getBlock",blockHash:e,includeTransactions:n});let a=this._getBlockTag(e);return typeof a!="string"&&(a=await a),await ge(this,$e,Ga).call(this,{method:"getBlock",blockTag:a,includeTransactions:n})},aI=async function(e,n){let a=await L0(e,this);return a.type==="event"&&n&&n.length>0&&n[0].removed===!0&&(a=await L0({orphan:"drop-log",log:n[0]},this)),y(this,En).get(a.tag)||null},qp=async function(e){const n=await L0(e,this),a=n.tag;let s=y(this,En).get(a);return s||(s={subscriber:this._getSubscriber(n),tag:a,addressableMap:new WeakMap,nameMap:new Map,started:!1,listeners:[]},y(this,En).set(a,s)),s};function AT(t,e){try{const n=Oh(t,e);if(n)return sm(n)}catch{}return null}function Oh(t,e){if(t==="0x")return null;try{const n=qe(Yt(t,e,e+32)),a=qe(Yt(t,n,n+32));return Yt(t,n+32,n+32+a)}catch{}return null}function $B(t){const e=Un(t);if(e.length>32)throw new Error("internal; should not happen");const n=new Uint8Array(32);return n.set(e,32-e.length),n}function yT(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}const bT=new Uint8Array([]);function hT(t){const e=[];let n=0;for(let a=0;a<t.length;a++)e.push(bT),n+=32;for(let a=0;a<t.length;a++){const s=it(t[a]);e[a]=$B(n),e.push($B(s.length)),e.push(yT(s)),n+=32+Math.ceil(s.length/32)*32}return Ot(e)}const qB="0x0000000000000000000000000000000000000000000000000000000000000000";function fT(t){const e={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};ye(Zc(t)>=5*32,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});const n=Yt(t,0,32);ye(Yt(n,0,12)===Yt(qB,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),e.sender=Yt(n,12);try{const a=[],s=qe(Yt(t,32,64)),r=qe(Yt(t,s,s+32)),l=Yt(t,s+32);for(let g=0;g<r;g++){const c=AT(l,g*32);if(c==null)throw new Error("abort");a.push(c)}e.urls=a}catch{ye(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{const a=Oh(t,64);if(a==null)throw new Error("abort");e.calldata=a}catch{ye(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}ye(Yt(t,100,128)===Yt(qB,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),e.selector=Yt(t,96,100);try{const a=Oh(t,128);if(a==null)throw new Error("abort");e.extraData=a}catch{ye(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return e.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(a=>e[a]),e}function nc(t,e){if(t.provider)return t.provider;ye(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:e})}async function eS(t,e){let n=Cm(e);if(n.to!=null&&(n.to=Ln(n.to,t)),n.from!=null){const a=n.from;n.from=Promise.all([t.getAddress(),Ln(a,t)]).then(([s,r])=>($(s.toLowerCase()===r.toLowerCase(),"transaction from mismatch","tx.from",r),s))}else n.from=t.getAddress();return await Fn(n)}class ZT{constructor(e){te(this,"provider");Ye(this,{provider:e||null})}async getNonce(e){return nc(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){return await eS(this,e)}async populateTransaction(e){const n=nc(this,"populateTransaction"),a=await eS(this,e);a.nonce==null&&(a.nonce=await this.getNonce("pending")),a.gasLimit==null&&(a.gasLimit=await this.estimateGas(a));const s=await this.provider.getNetwork();if(a.chainId!=null){const l=ve(a.chainId);$(l===s.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else a.chainId=s.chainId;const r=a.maxFeePerGas!=null||a.maxPriorityFeePerGas!=null;if(a.gasPrice!=null&&(a.type===2||r)?$(!1,"eip-1559 transaction do not support gasPrice","tx",e):(a.type===0||a.type===1)&&r&&$(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(a.type===2||a.type==null)&&a.maxFeePerGas!=null&&a.maxPriorityFeePerGas!=null)a.type=2;else if(a.type===0||a.type===1){const l=await n.getFeeData();ye(l.gasPrice!=null,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),a.gasPrice==null&&(a.gasPrice=l.gasPrice)}else{const l=await n.getFeeData();if(a.type==null)if(l.maxFeePerGas!=null&&l.maxPriorityFeePerGas!=null)if(a.type=2,a.gasPrice!=null){const g=a.gasPrice;delete a.gasPrice,a.maxFeePerGas=g,a.maxPriorityFeePerGas=g}else a.maxFeePerGas==null&&(a.maxFeePerGas=l.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=l.maxPriorityFeePerGas);else l.gasPrice!=null?(ye(!r,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),a.gasPrice==null&&(a.gasPrice=l.gasPrice),a.type=0):ye(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"});else(a.type===2||a.type===3)&&(a.maxFeePerGas==null&&(a.maxFeePerGas=l.maxFeePerGas),a.maxPriorityFeePerGas==null&&(a.maxPriorityFeePerGas=l.maxPriorityFeePerGas))}return await Fn(a)}async estimateGas(e){return nc(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return nc(this,"call").call(await this.populateCall(e))}async resolveName(e){return await nc(this,"resolveName").resolveName(e)}async sendTransaction(e){const n=nc(this,"sendTransaction"),a=await this.populateTransaction(e);delete a.from;const s=dm.from(a);return await n.broadcastTransaction(await this.signTransaction(s))}}function GT(t){return JSON.parse(JSON.stringify(t))}var Tn,Ms,qo,Yr,el,Ig,$r,jh,_h;class tV{constructor(e){q(this,$r);q(this,Tn);q(this,Ms);q(this,qo);q(this,Yr);q(this,el);q(this,Ig);H(this,Tn,e),H(this,Ms,null),H(this,qo,ge(this,$r,jh).bind(this)),H(this,Yr,!1),H(this,el,null),H(this,Ig,!1)}_subscribe(e){throw new Error("subclasses must override this")}_emitResults(e,n){throw new Error("subclasses must override this")}_recover(e){throw new Error("subclasses must override this")}start(){y(this,Yr)||(H(this,Yr,!0),ge(this,$r,jh).call(this,-2))}stop(){y(this,Yr)&&(H(this,Yr,!1),H(this,Ig,!0),ge(this,$r,_h).call(this),y(this,Tn).off("block",y(this,qo)))}pause(e){e&&ge(this,$r,_h).call(this),y(this,Tn).off("block",y(this,qo))}resume(){this.start()}}Tn=new WeakMap,Ms=new WeakMap,qo=new WeakMap,Yr=new WeakMap,el=new WeakMap,Ig=new WeakMap,$r=new WeakSet,jh=async function(e){try{y(this,Ms)==null&&H(this,Ms,this._subscribe(y(this,Tn)));let n=null;try{n=await y(this,Ms)}catch(r){if(!Gn(r,"UNSUPPORTED_OPERATION")||r.operation!=="eth_newFilter")throw r}if(n==null){H(this,Ms,null),y(this,Tn)._recoverSubscriber(this,this._recover(y(this,Tn)));return}const a=await y(this,Tn).getNetwork();if(y(this,el)||H(this,el,a),y(this,el).chainId!==a.chainId)throw new Error("chaid changed");if(y(this,Ig))return;const s=await y(this,Tn).send("eth_getFilterChanges",[n]);await this._emitResults(y(this,Tn),s)}catch(n){console.log("@TODO",n)}y(this,Tn).once("block",y(this,qo))},_h=function(){const e=y(this,Ms);e&&(H(this,Ms,null),e.then(n=>{y(this,Tn).destroyed||y(this,Tn).send("eth_uninstallFilter",[n])}))};var tl;class BT extends tV{constructor(n,a){super(n);q(this,tl);H(this,tl,GT(a))}_recover(n){return new Af(n,y(this,tl))}async _subscribe(n){return await n.send("eth_newFilter",[y(this,tl)])}async _emitResults(n,a){for(const s of a)n.emit(y(this,tl),n._wrapLog(s,n._network))}}tl=new WeakMap;class ST extends tV{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,n){for(const a of n)e.emit("pending",a)}}const wT="bigint,boolean,function,number,string,symbol".split(/,/g);function em(t){if(t==null||wT.indexOf(typeof t)>=0||typeof t.getAddress=="function")return t;if(Array.isArray(t))return t.map(em);if(typeof t=="object")return Object.keys(t).reduce((e,n)=>(e[n]=t[n],e),{});throw new Error(`should not happen: ${t} (${typeof t})`)}function kT(t){return new Promise(e=>{setTimeout(e,t)})}function ac(t){return t&&t.toLowerCase()}function tS(t){return t&&typeof t.pollingInterval=="number"}const nV={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1<<20,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};class Q0 extends ZT{constructor(n,a){super(n);te(this,"address");a=bt(a),Ye(this,{address:a})}connect(n){ye(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(n){return await this.populateCall(n)}async sendUncheckedTransaction(n){const a=em(n),s=[];if(a.from){const l=a.from;s.push((async()=>{const g=await Ln(l,this.provider);$(g!=null&&g.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),a.from=g})())}else a.from=this.address;if(a.gasLimit==null&&s.push((async()=>{a.gasLimit=await this.provider.estimateGas({...a,from:this.address})})()),a.to!=null){const l=a.to;s.push((async()=>{a.to=await Ln(l,this.provider)})())}s.length&&await Promise.all(s);const r=this.provider.getRpcTransaction(a);return this.provider.send("eth_sendTransaction",[r])}async sendTransaction(n){const a=await this.provider.getBlockNumber(),s=await this.sendUncheckedTransaction(n);return await new Promise((r,l)=>{const g=[1e3,100];let c=0;const u=async()=>{try{const d=await this.provider.getTransaction(s);if(d!=null){r(d.replaceableTransaction(a));return}}catch(d){if(Gn(d,"CANCELLED")||Gn(d,"BAD_DATA")||Gn(d,"NETWORK_ERROR")||Gn(d,"UNSUPPORTED_OPERATION")){d.info==null&&(d.info={}),d.info.sendTransactionHash=s,l(d);return}if(Gn(d,"INVALID_ARGUMENT")&&(c++,d.info==null&&(d.info={}),d.info.sendTransactionHash=s,c>10)){l(d);return}this.provider.emit("error",Tt("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:d}))}this.provider._setTimeout(()=>{u()},g.pop()||4e3)};u()})}async signTransaction(n){const a=em(n);if(a.from){const r=await Ln(a.from,this.provider);$(r!=null&&r.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",n),a.from=r}else a.from=this.address;const s=this.provider.getRpcTransaction(a);return await this.provider.send("eth_signTransaction",[s])}async signMessage(n){const a=typeof n=="string"?Hi(n):n;return await this.provider.send("personal_sign",[Ve(a),this.address.toLowerCase()])}async signTypedData(n,a,s){const r=em(s),l=await Im.resolveNames(n,a,r,async g=>{const c=await Ln(g);return $(c!=null,"TypedData does not support null address","value",g),c});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(Im.getPayload(l.domain,a,l.value))])}async unlock(n){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),n,null])}async _legacySignMessage(n){const a=typeof n=="string"?Hi(n):n;return await this.provider.send("eth_sign",[this.address.toLowerCase(),Ve(a)])}}var nl,ug,vi,Us,As,Oa,sa,su,$h;class VT extends mT{constructor(n,a){super(n,a);q(this,su);q(this,nl);q(this,ug);q(this,vi);q(this,Us);q(this,As);q(this,Oa);q(this,sa);H(this,ug,1),H(this,nl,Object.assign({},nV,a||{})),H(this,vi,[]),H(this,Us,null),H(this,Oa,null),H(this,sa,null);{let r=null;const l=new Promise(g=>{r=g});H(this,As,{promise:l,resolve:r})}const s=this._getOption("staticNetwork");typeof s=="boolean"?($(!s||n!=="any","staticNetwork cannot be used on special network 'any'","options",a),s&&n!=null&&H(this,Oa,Qs.from(n))):s&&($(n==null||s.matches(n),"staticNetwork MUST match network object","options",a),H(this,Oa,s))}_getOption(n){return y(this,nl)[n]}get _network(){return ye(y(this,Oa),"network is not available yet","NETWORK_ERROR"),y(this,Oa)}async _perform(n){if(n.method==="call"||n.method==="estimateGas"){let s=n.transaction;if(s&&s.type!=null&&ve(s.type)&&s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null){const r=await this.getFeeData();r.maxFeePerGas==null&&r.maxPriorityFeePerGas==null&&(n=Object.assign({},n,{transaction:Object.assign({},s,{type:void 0})}))}}const a=this.getRpcRequest(n);return a!=null?await this.send(a.method,a.args):super._perform(n)}async _detectNetwork(){const n=this._getOption("staticNetwork");if(n)if(n===!0){if(y(this,Oa))return y(this,Oa)}else return n;return y(this,sa)?await y(this,sa):this.ready?(H(this,sa,(async()=>{try{const a=Qs.from(ve(await this.send("eth_chainId",[])));return H(this,sa,null),a}catch(a){throw H(this,sa,null),a}})()),await y(this,sa)):(H(this,sa,(async()=>{const a={id:Wd(this,ug)._++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:a});let s;try{s=(await this._send(a))[0],H(this,sa,null)}catch(r){throw H(this,sa,null),this.emit("debug",{action:"receiveRpcError",error:r}),r}if(this.emit("debug",{action:"receiveRpcResult",result:s}),"result"in s)return Qs.from(ve(s.result));throw this.getRpcError(a,s)})()),await y(this,sa))}_start(){y(this,As)==null||y(this,As).resolve==null||(y(this,As).resolve(),H(this,As,null),(async()=>{for(;y(this,Oa)==null&&!this.destroyed;)try{H(this,Oa,await this._detectNetwork())}catch(n){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",Tt("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:n}})),await kT(1e3)}ge(this,su,$h).call(this)})())}async _waitUntilReady(){if(y(this,As)!=null)return await y(this,As).promise}_getSubscriber(n){return n.type==="pending"?new ST(this):n.type==="event"?this._getOption("polling")?new Af(this,n.filter):new BT(this,n.filter):n.type==="orphan"&&n.filter.orphan==="drop-log"?new eV("orphan"):super._getSubscriber(n)}get ready(){return y(this,As)==null}getRpcTransaction(n){const a={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(s=>{if(n[s]==null)return;let r=s;s==="gasLimit"&&(r="gas"),a[r]=mc(ve(n[s],`tx.${s}`))}),["from","to","data"].forEach(s=>{n[s]!=null&&(a[s]=Ve(n[s]))}),n.accessList&&(a.accessList=kl(n.accessList)),n.blobVersionedHashes&&(a.blobVersionedHashes=n.blobVersionedHashes.map(s=>s.toLowerCase())),a}getRpcRequest(n){switch(n.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[ac(n.address),n.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[ac(n.address),n.blockTag]};case"getCode":return{method:"eth_getCode",args:[ac(n.address),n.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[ac(n.address),"0x"+n.position.toString(16),n.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[n.signedTransaction]};case"getBlock":if("blockTag"in n)return{method:"eth_getBlockByNumber",args:[n.blockTag,!!n.includeTransactions]};if("blockHash"in n)return{method:"eth_getBlockByHash",args:[n.blockHash,!!n.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[n.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[n.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(n.transaction),n.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(n.transaction)]};case"getLogs":return n.filter&&n.filter.address!=null&&(Array.isArray(n.filter.address)?n.filter.address=n.filter.address.map(ac):n.filter.address=ac(n.filter.address)),{method:"eth_getLogs",args:[n.filter]}}return null}getRpcError(n,a){const{method:s}=n,{error:r}=a;if(s==="eth_estimateGas"&&r.message){const c=r.message;if(!c.match(/revert/i)&&c.match(/insufficient funds/i))return Tt("insufficient funds","INSUFFICIENT_FUNDS",{transaction:n.params[0],info:{payload:n,error:r}})}if(s==="eth_call"||s==="eth_estimateGas"){const c=qh(r),u=yI.getBuiltinCallException(s==="eth_call"?"call":"estimateGas",n.params[0],c?c.data:null);return u.info={error:r,payload:n},u}const l=JSON.stringify(RT(r));if(typeof r.message=="string"&&r.message.match(/user denied|ethers-user-denied/i))return Tt("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[s]||"unknown",reason:"rejected",info:{payload:n,error:r}});if(s==="eth_sendRawTransaction"||s==="eth_sendTransaction"){const c=n.params[0];if(l.match(/insufficient funds|base fee exceeds gas limit/i))return Tt("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:c,info:{error:r}});if(l.match(/nonce/i)&&l.match(/too low/i))return Tt("nonce has already been used","NONCE_EXPIRED",{transaction:c,info:{error:r}});if(l.match(/replacement transaction/i)&&l.match(/underpriced/i))return Tt("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:c,info:{error:r}});if(l.match(/only replay-protected/i))return Tt("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:s,info:{transaction:c,info:{error:r}}})}let g=!!l.match(/the method .* does not exist/i);return g||r&&r.details&&r.details.startsWith("Unauthorized method:")&&(g=!0),g?Tt("unsupported operation","UNSUPPORTED_OPERATION",{operation:n.method,info:{error:r,payload:n}}):Tt("could not coalesce error","UNKNOWN_ERROR",{error:r,payload:n})}send(n,a){if(this.destroyed)return Promise.reject(Tt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n}));const s=Wd(this,ug)._++,r=new Promise((l,g)=>{y(this,vi).push({resolve:l,reject:g,payload:{method:n,params:a,id:s,jsonrpc:"2.0"}})});return ge(this,su,$h).call(this),r}async getSigner(n){n==null&&(n=0);const a=this.send("eth_accounts",[]);if(typeof n=="number"){const r=await a;if(n>=r.length)throw new Error("no such account");return new Q0(this,r[n])}const{accounts:s}=await Fn({network:this.getNetwork(),accounts:a});n=bt(n);for(const r of s)if(bt(r)===n)return new Q0(this,n);throw new Error("invalid account")}async listAccounts(){return(await this.send("eth_accounts",[])).map(a=>new Q0(this,a))}destroy(){y(this,Us)&&(clearTimeout(y(this,Us)),H(this,Us,null));for(const{payload:n,reject:a}of y(this,vi))a(Tt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:n.method}));H(this,vi,[]),super.destroy()}}nl=new WeakMap,ug=new WeakMap,vi=new WeakMap,Us=new WeakMap,As=new WeakMap,Oa=new WeakMap,sa=new WeakMap,su=new WeakSet,$h=function(){if(y(this,Us))return;const n=this._getOption("batchMaxCount")===1?0:this._getOption("batchStallTime");H(this,Us,setTimeout(()=>{H(this,Us,null);const a=y(this,vi);for(H(this,vi,[]);a.length;){const s=[a.shift()];for(;a.length&&s.length!==y(this,nl).batchMaxCount;)if(s.push(a.shift()),JSON.stringify(s.map(l=>l.payload)).length>y(this,nl).batchMaxSize){a.unshift(s.pop());break}(async()=>{const r=s.length===1?s[0].payload:s.map(l=>l.payload);this.emit("debug",{action:"sendRpcPayload",payload:r});try{const l=await this._send(r);this.emit("debug",{action:"receiveRpcResult",result:l});for(const{resolve:g,reject:c,payload:u}of s){if(this.destroyed){c(Tt("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:u.method}));continue}const d=l.filter(p=>p.id===u.id)[0];if(d==null){const p=Tt("missing response for request","BAD_DATA",{value:l,info:{payload:u}});this.emit("error",p),c(p);continue}if("error"in d){c(this.getRpcError(u,d));continue}g(d.result)}}catch(l){this.emit("debug",{action:"receiveRpcError",error:l});for(const{reject:g}of s)g(l)}})()}},n))};var Fr;class aV extends VT{constructor(n,a){super(n,a);q(this,Fr);let s=this._getOption("pollingInterval");s==null&&(s=nV.pollingInterval),H(this,Fr,s)}_getSubscriber(n){const a=super._getSubscriber(n);return tS(a)&&(a.pollingInterval=y(this,Fr)),a}get pollingInterval(){return y(this,Fr)}set pollingInterval(n){if(!Number.isInteger(n)||n<0)throw new Error("invalid interval");H(this,Fr,n),this._forEachSubscriber(a=>{tS(a)&&(a.pollingInterval=y(this,Fr))})}}Fr=new WeakMap;var Cg;class nS extends aV{constructor(n,a,s){n==null&&(n="http://localhost:8545");super(a,s);q(this,Cg);typeof n=="string"?H(this,Cg,new Ki(n)):H(this,Cg,n.clone())}_getConnection(){return y(this,Cg).clone()}async send(n,a){return await this._start(),await super.send(n,a)}async _send(n){const a=this._getConnection();a.body=JSON.stringify(n),a.setHeader("content-type","application/json");const s=await a.send();s.assertOk();let r=s.bodyJson;return Array.isArray(r)||(r=[r]),r}}Cg=new WeakMap;function qh(t){if(t==null)return null;if(typeof t.message=="string"&&t.message.match(/revert/i)&&St(t.data))return{message:t.message,data:t.data};if(typeof t=="object"){for(const e in t){const n=qh(t[e]);if(n)return n}return null}if(typeof t=="string")try{return qh(JSON.parse(t))}catch{}return null}function e1(t,e){if(t!=null){if(typeof t.message=="string"&&e.push(t.message),typeof t=="object")for(const n in t)e1(t[n],e);if(typeof t=="string")try{return e1(JSON.parse(t),e)}catch{}}}function RT(t){const e=[];return e1(t,e),e}var pg;class aS extends aV{constructor(n,a,s){const r=Object.assign({},s??{},{batchMaxCount:1});$(n&&n.request,"invalid EIP-1193 provider","ethereum",n);super(a,r);q(this,pg);H(this,pg,async(l,g)=>{const c={method:l,params:g};this.emit("debug",{action:"sendEip1193Request",payload:c});try{const u=await n.request(c);return this.emit("debug",{action:"receiveEip1193Result",result:u}),u}catch(u){const d=new Error(u.message);throw d.code=u.code,d.data=u.data,d.payload=c,this.emit("debug",{action:"receiveEip1193Error",error:d}),d}})}async send(n,a){return await this._start(),await super.send(n,a)}async _send(n){$(!Array.isArray(n),"EIP-1193 does not support batch request","payload",n);try{const a=await y(this,pg).call(this,n.method,n.params||[]);return[{id:n.id,result:a}]}catch(a){return[{id:n.id,error:{code:a.code,data:a.data,message:a.message}}]}}getRpcError(n,a){switch(a=JSON.parse(JSON.stringify(a)),a.error.code||-1){case 4001:a.error.message=`ethers-user-denied: ${a.error.message}`;break;case 4200:a.error.message=`ethers-unsupported: ${a.error.message}`;break}return super.getRpcError(n,a)}async hasSigner(n){n==null&&(n=0);const a=await this.send("eth_accounts",[]);return typeof n=="number"?a.length>n:(n=n.toLowerCase(),a.filter(s=>s.toLowerCase()===n).length!==0)}async getSigner(n){if(n==null&&(n=0),!await this.hasSigner(n))try{await y(this,pg).call(this,"eth_requestAccounts",[])}catch(a){const s=a.payload;throw this.getRpcError(s,{id:s.id,error:a})}return await super.getSigner(n)}}pg=new WeakMap;function t1(){return t1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var a in n)({}).hasOwnProperty.call(n,a)&&(t[a]=n[a])}return t},t1.apply(null,arguments)}function hI(t){"@babel/helpers - typeof";return hI=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},hI(t)}function WT(t,e){if(hI(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var a=n.call(t,e);if(hI(a)!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vT(t){var e=WT(t,"string");return hI(e)=="symbol"?e:e+""}function ET(t,e,n){return(e=vT(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function XT(t){if(Array.isArray(t))return t}function JT(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var a,s,r,l,g=[],c=!0,u=!1;try{if(r=(n=n.call(t)).next,e!==0)for(;!(c=(a=r.call(n)).done)&&(g.push(a.value),g.length!==e);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&n.return!=null&&(l=n.return(),Object(l)!==l))return}finally{if(u)throw s}}return g}}function sS(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,a=Array(e);n<e;n++)a[n]=t[n];return a}function xT(t,e){if(t){if(typeof t=="string")return sS(t,e);var n={}.toString.call(t).slice(8,-1);return n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set"?Array.from(t):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?sS(t,e):void 0}}function NT(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HT(t,e){return XT(t)||JT(t,e)||xT(t,e)||NT()}function TT(t,e){if(t==null)return{};var n={};for(var a in t)if({}.hasOwnProperty.call(t,a)){if(e.indexOf(a)!==-1)continue;n[a]=t[a]}return n}function YT(t,e){if(t==null)return{};var n,a,s=TT(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(a=0;a<r.length;a++)n=r[a],e.indexOf(n)===-1&&{}.propertyIsEnumerable.call(t,n)&&(s[n]=t[n])}return s}var sV={exports:{}},ht={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yn=typeof Symbol=="function"&&Symbol.for,yf=yn?Symbol.for("react.element"):60103,bf=yn?Symbol.for("react.portal"):60106,$m=yn?Symbol.for("react.fragment"):60107,qm=yn?Symbol.for("react.strict_mode"):60108,eA=yn?Symbol.for("react.profiler"):60114,tA=yn?Symbol.for("react.provider"):60109,nA=yn?Symbol.for("react.context"):60110,hf=yn?Symbol.for("react.async_mode"):60111,aA=yn?Symbol.for("react.concurrent_mode"):60111,sA=yn?Symbol.for("react.forward_ref"):60112,iA=yn?Symbol.for("react.suspense"):60113,FT=yn?Symbol.for("react.suspense_list"):60120,rA=yn?Symbol.for("react.memo"):60115,oA=yn?Symbol.for("react.lazy"):60116,KT=yn?Symbol.for("react.block"):60121,MT=yn?Symbol.for("react.fundamental"):60117,UT=yn?Symbol.for("react.responder"):60118,DT=yn?Symbol.for("react.scope"):60119;function va(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case yf:switch(t=t.type,t){case hf:case aA:case $m:case eA:case qm:case iA:return t;default:switch(t=t&&t.$$typeof,t){case nA:case sA:case oA:case rA:case tA:return t;default:return e}}case bf:return e}}}function iV(t){return va(t)===aA}ht.AsyncMode=hf;ht.ConcurrentMode=aA;ht.ContextConsumer=nA;ht.ContextProvider=tA;ht.Element=yf;ht.ForwardRef=sA;ht.Fragment=$m;ht.Lazy=oA;ht.Memo=rA;ht.Portal=bf;ht.Profiler=eA;ht.StrictMode=qm;ht.Suspense=iA;ht.isAsyncMode=function(t){return iV(t)||va(t)===hf};ht.isConcurrentMode=iV;ht.isContextConsumer=function(t){return va(t)===nA};ht.isContextProvider=function(t){return va(t)===tA};ht.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===yf};ht.isForwardRef=function(t){return va(t)===sA};ht.isFragment=function(t){return va(t)===$m};ht.isLazy=function(t){return va(t)===oA};ht.isMemo=function(t){return va(t)===rA};ht.isPortal=function(t){return va(t)===bf};ht.isProfiler=function(t){return va(t)===eA};ht.isStrictMode=function(t){return va(t)===qm};ht.isSuspense=function(t){return va(t)===iA};ht.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===$m||t===aA||t===eA||t===qm||t===iA||t===FT||typeof t=="object"&&t!==null&&(t.$$typeof===oA||t.$$typeof===rA||t.$$typeof===tA||t.$$typeof===nA||t.$$typeof===sA||t.$$typeof===MT||t.$$typeof===UT||t.$$typeof===DT||t.$$typeof===KT)};ht.typeOf=va;/*
object-assign
(c) Sindre Sorhus
@license MIT
*/var iS=Object.getOwnPropertySymbols,LT=Object.prototype.hasOwnProperty,zT=Object.prototype.propertyIsEnumerable;function QT(t){if(t==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}function PT(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de",Object.getOwnPropertyNames(t)[0]==="5")return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;var a=Object.getOwnPropertyNames(e).map(function(r){return e[r]});if(a.join("")!=="0123456789")return!1;var s={};return"abcdefghijklmnopqrst".split("").forEach(function(r){s[r]=r}),Object.keys(Object.assign({},s)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}PT();var OT="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jT=OT;Function.call.bind(Object.prototype.hasOwnProperty);var _T=jT;function rV(){}function oV(){}oV.resetWarningCache=rV;var $T=function(){function t(a,s,r,l,g,c){if(c!==_T){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:oV,resetWarningCache:rV};return n.PropTypes=n,n};sV.exports=$T();var sc=sV.exports;function qT(t,e){var n=atob(t);return n}function eY(t,e,n){var a=qT(t),s=a.indexOf(`
`,10)+1,r=a.substring(s)+"",l=new Blob([r],{type:"application/javascript"});return URL.createObjectURL(l)}function tY(t,e,n){var a;return function(r){return a=a||eY(t),new Worker(a,r)}}var nY=tY("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewoJJ3VzZSBzdHJpY3QnOwoKCXZhciBjb21tb25qc0dsb2JhbCA9IHR5cGVvZiBnbG9iYWxUaGlzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMgOiB0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyA/IHdpbmRvdyA6IHR5cGVvZiBnbG9iYWwgIT09ICd1bmRlZmluZWQnID8gZ2xvYmFsIDogdHlwZW9mIHNlbGYgIT09ICd1bmRlZmluZWQnID8gc2VsZiA6IHt9OwoKCWZ1bmN0aW9uIGdldEF1Z21lbnRlZE5hbWVzcGFjZShuKSB7CgkJaWYgKG4uX19lc01vZHVsZSkgcmV0dXJuIG47CgkJdmFyIGEgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkoe30sICdfX2VzTW9kdWxlJywge3ZhbHVlOiB0cnVlfSk7CgkJT2JqZWN0LmtleXMobikuZm9yRWFjaChmdW5jdGlvbiAoaykgewoJCQl2YXIgZCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iobiwgayk7CgkJCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShhLCBrLCBkLmdldCA/IGQgOiB7CgkJCQllbnVtZXJhYmxlOiB0cnVlLAoJCQkJZ2V0OiBmdW5jdGlvbiAoKSB7CgkJCQkJcmV0dXJuIG5ba107CgkJCQl9CgkJCX0pOwoJCX0pOwoJCXJldHVybiBhOwoJfQoKCXZhciBCaW5hcnlCaXRtYXAkMSA9IHt9OwoKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBFeGNlcHRpb24kMSA9IHt9OwoKCWZ1bmN0aW9uIGZpeFByb3RvKHRhcmdldCwgcHJvdG90eXBlKSB7CgkgIHZhciBzZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZjsKCSAgc2V0UHJvdG90eXBlT2YgPyBzZXRQcm90b3R5cGVPZih0YXJnZXQsIHByb3RvdHlwZSkgOiB0YXJnZXQuX19wcm90b19fID0gcHJvdG90eXBlOwoJfQoJZnVuY3Rpb24gZml4U3RhY2sodGFyZ2V0LCBmbikgewoJICBpZiAoZm4gPT09IHZvaWQgMCkgewoJICAgIGZuID0gdGFyZ2V0LmNvbnN0cnVjdG9yOwoJICB9CgoJICB2YXIgY2FwdHVyZVN0YWNrVHJhY2UgPSBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZTsKCSAgY2FwdHVyZVN0YWNrVHJhY2UgJiYgY2FwdHVyZVN0YWNrVHJhY2UodGFyZ2V0LCBmbik7Cgl9CgoJdmFyIF9fZXh0ZW5kcyRrID0gZnVuY3Rpb24gKCkgewoJICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fCB7CgkgICAgICBfX3Byb3RvX186IFtdCgkgICAgfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICBkLl9fcHJvdG9fXyA9IGI7CgkgICAgfSB8fCBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgZm9yICh2YXIgcCBpbiBiKSB7IGlmIChiLmhhc093blByb3BlcnR5KHApKSB7IGRbcF0gPSBiW3BdOyB9IH0KCSAgICB9OwoKCSAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgfTsKCgkgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgoJICAgIGZ1bmN0aW9uIF9fKCkgewoJICAgICAgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7CgkgICAgfQoKCSAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgIH07Cgl9KCk7CgoJdmFyIEN1c3RvbUVycm9yID0gZnVuY3Rpb24gKF9zdXBlcikgewoJICBfX2V4dGVuZHMkayhDdXN0b21FcnJvciwgX3N1cGVyKTsKCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKG1lc3NhZ2UpIHsKCSAgICB2YXIgX25ld1RhcmdldCA9IHRoaXMuY29uc3RydWN0b3I7CgoJICAgIHZhciBfdGhpcyA9IF9zdXBlci5jYWxsKHRoaXMsIG1lc3NhZ2UpIHx8IHRoaXM7CgoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfdGhpcywgJ25hbWUnLCB7CgkgICAgICB2YWx1ZTogX25ld1RhcmdldC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmaXhQcm90byhfdGhpcywgX25ld1RhcmdldC5wcm90b3R5cGUpOwoJICAgIGZpeFN0YWNrKF90aGlzKTsKCSAgICByZXR1cm4gX3RoaXM7CgkgIH0KCgkgIHJldHVybiBDdXN0b21FcnJvcjsKCX0oRXJyb3IpOwoKCXZhciBfX3NwcmVhZEFycmF5cyA9IGZ1bmN0aW9uICgpIHsKCSAgdmFyIGFyZ3VtZW50cyQxID0gYXJndW1lbnRzOwoKCSAgZm9yICh2YXIgcyA9IDAsIGkgPSAwLCBpbCA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBpbDsgaSsrKSB7IHMgKz0gYXJndW1lbnRzJDFbaV0ubGVuZ3RoOyB9CgoJICBmb3IgKHZhciByID0gQXJyYXkocyksIGsgPSAwLCBpID0gMDsgaSA8IGlsOyBpKyspIHsgZm9yICh2YXIgYSA9IGFyZ3VtZW50c1tpXSwgaiA9IDAsIGpsID0gYS5sZW5ndGg7IGogPCBqbDsgaisrLCBrKyspIHsgcltrXSA9IGFbal07IH0gfQoKCSAgcmV0dXJuIHI7Cgl9OwoJZnVuY3Rpb24gY3VzdG9tRXJyb3JGYWN0b3J5KGZuLCBwYXJlbnQpIHsKCSAgaWYgKHBhcmVudCA9PT0gdm9pZCAwKSB7CgkgICAgcGFyZW50ID0gRXJyb3I7CgkgIH0KCgkgIGZ1bmN0aW9uIEN1c3RvbUVycm9yKCkgewoJICAgIHZhciBhcmd1bWVudHMkMSA9IGFyZ3VtZW50czsKCgkgICAgdmFyIGFyZ3MgPSBbXTsKCgkgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgIGFyZ3NbX2ldID0gYXJndW1lbnRzJDFbX2ldOwoJICAgIH0KCgkgICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIEN1c3RvbUVycm9yKSkgeyByZXR1cm4gbmV3IChDdXN0b21FcnJvci5iaW5kLmFwcGx5KEN1c3RvbUVycm9yLCBfX3NwcmVhZEFycmF5cyhbdm9pZCAwXSwgYXJncykpKSgpOyB9CgkgICAgcGFyZW50LmFwcGx5KHRoaXMsIGFyZ3MpOwoJICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0aGlzLCAnbmFtZScsIHsKCSAgICAgIHZhbHVlOiBmbi5uYW1lIHx8IHBhcmVudC5uYW1lLAoJICAgICAgZW51bWVyYWJsZTogZmFsc2UsCgkgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICB9KTsKCSAgICBmbi5hcHBseSh0aGlzLCBhcmdzKTsKCSAgICBmaXhTdGFjayh0aGlzLCBDdXN0b21FcnJvcik7CgkgIH0KCgkgIHJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhDdXN0b21FcnJvciwgewoJICAgIHByb3RvdHlwZTogewoJICAgICAgdmFsdWU6IE9iamVjdC5jcmVhdGUocGFyZW50LnByb3RvdHlwZSwgewoJICAgICAgICBjb25zdHJ1Y3RvcjogewoJICAgICAgICAgIHZhbHVlOiBDdXN0b21FcnJvciwKCSAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKCSAgICAgICAgICBjb25maWd1cmFibGU6IHRydWUKCSAgICAgICAgfQoJICAgICAgfSkKCSAgICB9CgkgIH0pOwoJfQoKCXZhciBjdXN0b21FcnJvciA9IC8qI19fUFVSRV9fKi9PYmplY3QuZnJlZXplKHsKCQlfX3Byb3RvX186IG51bGwsCgkJQ3VzdG9tRXJyb3I6IEN1c3RvbUVycm9yLAoJCWN1c3RvbUVycm9yRmFjdG9yeTogY3VzdG9tRXJyb3JGYWN0b3J5Cgl9KTsKCgl2YXIgcmVxdWlyZSQkMCA9IC8qQF9fUFVSRV9fKi9nZXRBdWdtZW50ZWROYW1lc3BhY2UoY3VzdG9tRXJyb3IpOwoKCXZhciBfX2V4dGVuZHMkaiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIHRzX2N1c3RvbV9lcnJvcl8xID0gcmVxdWlyZSQkMDsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRqKEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICAvKioKCSAgICAgKiBBbGxvd3MgRXhjZXB0aW9uIHRvIGJlIGNvbnN0cnVjdGVkIGRpcmVjdGx5CgkgICAgICogd2l0aCBzb21lIG1lc3NhZ2UgYW5kIHByb3RvdHlwZSBkZWZpbml0aW9uLgoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEV4Y2VwdGlvbihtZXNzYWdlKSB7CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBFeGNlcHRpb24ucHJvdG90eXBlLmdldEtpbmQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBleCA9IHRoaXMuY29uc3RydWN0b3I7CgkgICAgICAgIHJldHVybiBleC5raW5kOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSXQncyB0eXBlZCBhcyBzdHJpbmcgc28gaXQgY2FuIGJlIGV4dGVuZGVkIGFuZCBvdmVycmlkZW4uCgkgICAgICovCgkgICAgRXhjZXB0aW9uLmtpbmQgPSAnRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRXhjZXB0aW9uOwoJfSh0c19jdXN0b21fZXJyb3JfMS5DdXN0b21FcnJvcikpOwoJRXhjZXB0aW9uJDEuZGVmYXVsdCA9IEV4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSQ5ID0gRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaShJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCkgewoJICAgICAgICByZXR1cm4gX3N1cGVyICE9PSBudWxsICYmIF9zdXBlci5hcHBseSh0aGlzLCBhcmd1bWVudHMpIHx8IHRoaXM7CgkgICAgfQoJICAgIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0lsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbjsKCX0oRXhjZXB0aW9uXzEkOS5kZWZhdWx0KSk7CglJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMS5kZWZhdWx0ID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJ5Qml0bWFwJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgQmluYXJ5Qml0bWFwID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEJpbmFyeUJpdG1hcChiaW5hcml6ZXIpIHsKCSAgICAgICAgdGhpcy5iaW5hcml6ZXIgPSBiaW5hcml6ZXI7CgkgICAgICAgIGlmIChiaW5hcml6ZXIgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSRhLmRlZmF1bHQoJ0JpbmFyaXplciBtdXN0IGJlIG5vbi1udWxsLicpOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gVGhlIHdpZHRoIG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIGJpdG1hcC4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29udmVydHMgb25lIHJvdyBvZiBsdW1pbmFuY2UgZGF0YSB0byAxIGJpdCBkYXRhLiBNYXkgYWN0dWFsbHkgZG8gdGhlIGNvbnZlcnNpb24sIG9yIHJldHVybgoJICAgICAqIGNhY2hlZCBkYXRhLiBDYWxsZXJzIHNob3VsZCBhc3N1bWUgdGhpcyBtZXRob2QgaXMgZXhwZW5zaXZlIGFuZCBjYWxsIGl0IGFzIHNlbGRvbSBhcyBwb3NzaWJsZS4KCSAgICAgKiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMUQgYmFyY29kZXMgYW5kIG1heSBjaG9vc2UgdG8gYXBwbHkgc2hhcnBlbmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB5IFRoZSByb3cgdG8gZmV0Y2gsIHdoaWNoIG11c3QgYmUgaW4gWzAsIGJpdG1hcCBoZWlnaHQpCgkgICAgICogQHBhcmFtIHJvdyBBbiBvcHRpb25hbCBwcmVhbGxvY2F0ZWQgYXJyYXkuIElmIG51bGwgb3IgdG9vIHNtYWxsLCBpdCB3aWxsIGJlIGlnbm9yZWQuCgkgICAgICogICAgICAgICAgICBJZiB1c2VkLCB0aGUgQmluYXJpemVyIHdpbGwgY2FsbCBCaXRBcnJheS5jbGVhcigpLiBBbHdheXMgdXNlIHRoZSByZXR1cm5lZCBvYmplY3QuCgkgICAgICogQHJldHVybiBUaGUgYXJyYXkgb2YgYml0cyBmb3IgdGhpcyByb3cgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgcm93IGNhbid0IGJlIGJpbmFyaXplZAoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUuZ2V0QmxhY2tSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYmluYXJpemVyLmdldEJsYWNrUm93KHksIHJvdyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBhIDJEIGFycmF5IG9mIGx1bWluYW5jZSBkYXRhIHRvIDEgYml0LiBBcyBhYm92ZSwgYXNzdW1lIHRoaXMgbWV0aG9kIGlzIGV4cGVuc2l2ZQoJICAgICAqIGFuZCBkbyBub3QgY2FsbCBpdCByZXBlYXRlZGx5LiBUaGlzIG1ldGhvZCBpcyBpbnRlbmRlZCBmb3IgZGVjb2RpbmcgMkQgYmFyY29kZXMgYW5kIG1heSBvcgoJICAgICAqIG1heSBub3QgYXBwbHkgc2hhcnBlbmluZy4gVGhlcmVmb3JlLCBhIHJvdyBmcm9tIHRoaXMgbWF0cml4IG1heSBub3QgYmUgaWRlbnRpY2FsIHRvIG9uZQoJICAgICAqIGZldGNoZWQgdXNpbmcgZ2V0QmxhY2tSb3coKSwgc28gZG9uJ3QgbWl4IGFuZCBtYXRjaCBiZXR3ZWVuIHRoZW0uCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIFRoZSAyRCBhcnJheSBvZiBiaXRzIGZvciB0aGUgaW1hZ2UgKHRydWUgbWVhbnMgYmxhY2spLgoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgaW1hZ2UgY2FuJ3QgYmUgYmluYXJpemVkIHRvIG1ha2UgYSBtYXRyaXgKCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmdldEJsYWNrTWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBUaGUgbWF0cml4IGlzIGNyZWF0ZWQgb24gZGVtYW5kIHRoZSBmaXJzdCB0aW1lIGl0IGlzIHJlcXVlc3RlZCwgdGhlbiBjYWNoZWQuIFRoZXJlIGFyZSB0d28KCSAgICAgICAgLy8gcmVhc29ucyBmb3IgdGhpczoKCSAgICAgICAgLy8gMS4gVGhpcyB3b3JrIHdpbGwgbmV2ZXIgYmUgZG9uZSBpZiB0aGUgY2FsbGVyIG9ubHkgaW5zdGFsbHMgMUQgUmVhZGVyIG9iamVjdHMsIG9yIGlmIGEKCSAgICAgICAgLy8gICAgMUQgUmVhZGVyIGZpbmRzIGEgYmFyY29kZSBiZWZvcmUgdGhlIDJEIFJlYWRlcnMgcnVuLgoJICAgICAgICAvLyAyLiBUaGlzIHdvcmsgd2lsbCBvbmx5IGJlIGRvbmUgb25jZSBldmVuIGlmIHRoZSBjYWxsZXIgaW5zdGFsbHMgbXVsdGlwbGUgMkQgUmVhZGVycy4KCSAgICAgICAgaWYgKHRoaXMubWF0cml4ID09PSBudWxsIHx8IHRoaXMubWF0cml4ID09PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gdGhpcy5iaW5hcml6ZXIuZ2V0QmxhY2tNYXRyaXgoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5tYXRyaXg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFdoZXRoZXIgdGhpcyBiaXRtYXAgY2FuIGJlIGNyb3BwZWQuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5pc0Nyb3BTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggY3JvcHBlZCBpbWFnZSBkYXRhLiBJbXBsZW1lbnRhdGlvbnMgbWF5IGtlZXAgYSByZWZlcmVuY2UgdG8gdGhlCgkgICAgICogb3JpZ2luYWwgZGF0YSByYXRoZXIgdGhhbiBhIGNvcHkuIE9ubHkgY2FsbGFibGUgaWYgaXNDcm9wU3VwcG9ydGVkKCkgaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBsZWZ0IFRoZSBsZWZ0IGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0V2lkdGgoKSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB0b3AgY29vcmRpbmF0ZSwgd2hpY2ggbXVzdCBiZSBpbiBbMCxnZXRIZWlnaHQoKSkKCSAgICAgKiBAcGFyYW0gd2lkdGggVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcGFyYW0gaGVpZ2h0IFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSB0byBjcm9wLgoJICAgICAqIEByZXR1cm4gQSBjcm9wcGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBuZXdTb3VyY2UgPSB0aGlzLmJpbmFyaXplci5nZXRMdW1pbmFuY2VTb3VyY2UoKS5jcm9wKGxlZnQsIHRvcCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIGJpdG1hcCBzdXBwb3J0cyBjb3VudGVyLWNsb2Nrd2lzZSByb3RhdGlvbi4KCSAgICAgKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLmlzUm90YXRlU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkuaXNSb3RhdGVTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgQmluYXJ5Qml0bWFwLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpOwoJICAgICAgICByZXR1cm4gbmV3IEJpbmFyeUJpdG1hcCh0aGlzLmJpbmFyaXplci5jcmVhdGVCaW5hcml6ZXIobmV3U291cmNlKSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIHJvdGF0ZWQgaW1hZ2UgZGF0YSBieSA0NSBkZWdyZWVzIGNvdW50ZXJjbG9ja3dpc2UuCgkgICAgICogT25seSBjYWxsYWJsZSBpZiB7QGxpbmsgI2lzUm90YXRlU3VwcG9ydGVkKCl9IGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIEEgcm90YXRlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEJpbmFyeUJpdG1hcC5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3U291cmNlID0gdGhpcy5iaW5hcml6ZXIuZ2V0THVtaW5hbmNlU291cmNlKCkucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCk7CgkgICAgICAgIHJldHVybiBuZXcgQmluYXJ5Qml0bWFwKHRoaXMuYmluYXJpemVyLmNyZWF0ZUJpbmFyaXplcihuZXdTb3VyY2UpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaW5hcnlCaXRtYXAucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QmxhY2tNYXRyaXgoKS50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlIC8qOiBOb3RGb3VuZEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICByZXR1cm4gJyc7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaW5hcnlCaXRtYXA7Cgl9KCkpOwoJdmFyIF9kZWZhdWx0JDMgPSBCaW5hcnlCaXRtYXAkMS5kZWZhdWx0ID0gQmluYXJ5Qml0bWFwOwoKCXZhciBIeWJyaWRCaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSA9IHt9OwoKCXZhciBCaW5hcml6ZXIkMSA9IHt9OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmluYXJpemVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogVGhpcyBjbGFzcyBoaWVyYXJjaHkgcHJvdmlkZXMgYSBzZXQgb2YgbWV0aG9kcyB0byBjb252ZXJ0IGx1bWluYW5jZSBkYXRhIHRvIDEgYml0IGRhdGEuCgkgKiBJdCBhbGxvd3MgdGhlIGFsZ29yaXRobSB0byB2YXJ5IHBvbHltb3JwaGljYWxseSwgZm9yIGV4YW1wbGUgYWxsb3dpbmcgYSB2ZXJ5IGV4cGVuc2l2ZQoJICogdGhyZXNob2xkaW5nIHRlY2huaXF1ZSBmb3Igc2VydmVycyBhbmQgYSBmYXN0IG9uZSBmb3IgbW9iaWxlLiBJdCBhbHNvIHBlcm1pdHMgdGhlIGltcGxlbWVudGF0aW9uCgkgKiB0byB2YXJ5LCBlLmcuIGEgSk5JIHZlcnNpb24gZm9yIEFuZHJvaWQgYW5kIGEgSmF2YSBmYWxsYmFjayB2ZXJzaW9uIGZvciBvdGhlciBwbGF0Zm9ybXMuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpbmFyaXplciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBCaW5hcml6ZXIoc291cmNlKSB7CgkgICAgICAgIHRoaXMuc291cmNlID0gc291cmNlOwoJICAgIH0KCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEx1bWluYW5jZVNvdXJjZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlOwoJICAgIH07CgkgICAgQmluYXJpemVyLnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldFdpZHRoKCk7CgkgICAgfTsKCSAgICBCaW5hcml6ZXIucHJvdG90eXBlLmdldEhlaWdodCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc291cmNlLmdldEhlaWdodCgpOwoJICAgIH07CgkgICAgcmV0dXJuIEJpbmFyaXplcjsKCX0oKSk7CglCaW5hcml6ZXIkMS5kZWZhdWx0ID0gQmluYXJpemVyOwoKCXZhciBCaXRBcnJheSQxID0ge307CgoJdmFyIEFycmF5cyQxID0ge307CgoJdmFyIFN5c3RlbSQxID0ge307CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN5c3RlbSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIFN5c3RlbSgpIHsKCSAgICB9CgkgICAgLy8gcHVibGljIHN0YXRpYyB2b2lkIGFycmF5Y29weShPYmplY3Qgc3JjLCBpbnQgc3JjUG9zLCBPYmplY3QgZGVzdCwgaW50IGRlc3RQb3MsIGludCBsZW5ndGgpCgkgICAgLyoqCgkgICAgICogTWFrZXMgYSBjb3B5IG9mIGEgYXJyYXkuCgkgICAgICovCgkgICAgU3lzdGVtLmFycmF5Y29weSA9IGZ1bmN0aW9uIChzcmMsIHNyY1BvcywgZGVzdCwgZGVzdFBvcywgbGVuZ3RoKSB7CgkgICAgICAgIC8vIFRPRE86IGJldHRlciB1c2Ugc3BsaXQgb3Igc2V0PwoJICAgICAgICB3aGlsZSAobGVuZ3RoLS0pIHsKCSAgICAgICAgICAgIGRlc3RbZGVzdFBvcysrXSA9IHNyY1tzcmNQb3MrK107CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIGN1cnJlbnQgdGltZSBpbiBtaWxsaXNlY29uZHMuCgkgICAgICovCgkgICAgU3lzdGVtLmN1cnJlbnRUaW1lTWlsbGlzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gRGF0ZS5ub3coKTsKCSAgICB9OwoJICAgIHJldHVybiBTeXN0ZW07Cgl9KCkpOwoJU3lzdGVtJDEuZGVmYXVsdCA9IFN5c3RlbTsKCgl2YXIgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyRoID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDggPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkaChJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbi5raW5kID0gJ0luZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ4LmRlZmF1bHQpKTsKCUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gSW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbjsKCgl2YXIgX19leHRlbmRzJGcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uXzEgPSBJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uJDE7CgkvKioKCSAqIEN1c3RvbSBFcnJvciBjbGFzcyBvZiB0eXBlIEV4Y2VwdGlvbi4KCSAqLwoJdmFyIEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZyhBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uKGluZGV4LCBtZXNzYWdlKSB7CgkgICAgICAgIGlmIChpbmRleCA9PT0gdm9pZCAwKSB7IGluZGV4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIGlmIChtZXNzYWdlID09PSB2b2lkIDApIHsgbWVzc2FnZSA9IHVuZGVmaW5lZDsgfQoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCBtZXNzYWdlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5pbmRleCA9IGluZGV4OwoJICAgICAgICBfdGhpcy5tZXNzYWdlID0gbWVzc2FnZTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24ua2luZCA9ICdBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24nOwoJICAgIHJldHVybiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb247Cgl9KEluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KSk7CglBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24kMS5kZWZhdWx0ID0gQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uOwoKCXZhciBfX3ZhbHVlcyQ3ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFycmF5cyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3lzdGVtXzEkNSA9IFN5c3RlbSQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDkgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMSA9IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbiQxOwoJdmFyIEFycmF5cyA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBcnJheXMoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQgYXJyYXkKCSAgICAgKiBvZiBpbnRzLgoJICAgICAqCgkgICAgICogQHBhcmFtIGEgdGhlIGFycmF5IHRvIGJlIGZpbGxlZAoJICAgICAqIEBwYXJhbSB2YWwgdGhlIHZhbHVlIHRvIGJlIHN0b3JlZCBpbiBhbGwgZWxlbWVudHMgb2YgdGhlIGFycmF5CgkgICAgICovCgkgICAgQXJyYXlzLmZpbGwgPSBmdW5jdGlvbiAoYSwgdmFsKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKQoJICAgICAgICAgICAgYVtpXSA9IHZhbDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFzc2lnbnMgdGhlIHNwZWNpZmllZCBpbnQgdmFsdWUgdG8gZWFjaCBlbGVtZW50IG9mIHRoZSBzcGVjaWZpZWQKCSAgICAgKiByYW5nZSBvZiB0aGUgc3BlY2lmaWVkIGFycmF5IG9mIGludHMuICBUaGUgcmFuZ2UgdG8gYmUgZmlsbGVkCgkgICAgICogZXh0ZW5kcyBmcm9tIGluZGV4IHtAY29kZSBmcm9tSW5kZXh9LCBpbmNsdXNpdmUsIHRvIGluZGV4CgkgICAgICoge0Bjb2RlIHRvSW5kZXh9LCBleGNsdXNpdmUuICAoSWYge0Bjb2RlIGZyb21JbmRleD09dG9JbmRleH0sIHRoZQoJICAgICAqIHJhbmdlIHRvIGJlIGZpbGxlZCBpcyBlbXB0eS4pCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYSB0aGUgYXJyYXkgdG8gYmUgZmlsbGVkCgkgICAgICogQHBhcmFtIGZyb21JbmRleCB0aGUgaW5kZXggb2YgdGhlIGZpcnN0IGVsZW1lbnQgKGluY2x1c2l2ZSkgdG8gYmUKCSAgICAgKiAgICAgICAgZmlsbGVkIHdpdGggdGhlIHNwZWNpZmllZCB2YWx1ZQoJICAgICAqIEBwYXJhbSB0b0luZGV4IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBlbGVtZW50IChleGNsdXNpdmUpIHRvIGJlCgkgICAgICogICAgICAgIGZpbGxlZCB3aXRoIHRoZSBzcGVjaWZpZWQgdmFsdWUKCSAgICAgKiBAcGFyYW0gdmFsIHRoZSB2YWx1ZSB0byBiZSBzdG9yZWQgaW4gYWxsIGVsZW1lbnRzIG9mIHRoZSBhcnJheQoJICAgICAqIEB0aHJvd3MgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPiB0b0luZGV4fQoJICAgICAqIEB0aHJvd3MgQXJyYXlJbmRleE91dE9mQm91bmRzRXhjZXB0aW9uIGlmIHtAY29kZSBmcm9tSW5kZXggPCAwfSBvcgoJICAgICAqICAgICAgICAge0Bjb2RlIHRvSW5kZXggPiBhLmxlbmd0aH0KCSAgICAgKi8KCSAgICBBcnJheXMuZmlsbFdpdGhpbiA9IGZ1bmN0aW9uIChhLCBmcm9tSW5kZXgsIHRvSW5kZXgsIHZhbCkgewoJICAgICAgICBBcnJheXMucmFuZ2VDaGVjayhhLmxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZyb21JbmRleDsgaSA8IHRvSW5kZXg7IGkrKykKCSAgICAgICAgICAgIGFbaV0gPSB2YWw7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDaGVja3MgdGhhdCB7QGNvZGUgZnJvbUluZGV4fSBhbmQge0Bjb2RlIHRvSW5kZXh9IGFyZSBpbgoJICAgICAqIHRoZSByYW5nZSBhbmQgdGhyb3dzIGFuIGV4Y2VwdGlvbiBpZiB0aGV5IGFyZW4ndC4KCSAgICAgKi8KCSAgICBBcnJheXMucmFuZ2VDaGVjayA9IGZ1bmN0aW9uIChhcnJheUxlbmd0aCwgZnJvbUluZGV4LCB0b0luZGV4KSB7CgkgICAgICAgIGlmIChmcm9tSW5kZXggPiB0b0luZGV4KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOS5kZWZhdWx0KCdmcm9tSW5kZXgoJyArIGZyb21JbmRleCArICcpID4gdG9JbmRleCgnICsgdG9JbmRleCArICcpJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGZyb21JbmRleCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb25fMS5kZWZhdWx0KGZyb21JbmRleCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvSW5kZXggPiBhcnJheUxlbmd0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEFycmF5SW5kZXhPdXRPZkJvdW5kc0V4Y2VwdGlvbl8xLmRlZmF1bHQodG9JbmRleCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEFycmF5cy5hc0xpc3QgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBhcmdzID0gW107CgkgICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBhcmd1bWVudHMubGVuZ3RoOyBfaSsrKSB7CgkgICAgICAgICAgICBhcmdzW19pXSA9IGFyZ3VtZW50c1tfaV07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGFyZ3M7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlID0gZnVuY3Rpb24gKHJvd3MsIGNvbHMsIHZhbHVlKSB7CgkgICAgICAgIHZhciBhcnIgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiByb3dzIH0pOwoJICAgICAgICByZXR1cm4gYXJyLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4gQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuY3JlYXRlSW50MzJBcnJheSA9IGZ1bmN0aW9uIChyb3dzLCBjb2xzLCB2YWx1ZSkgewoJICAgICAgICB2YXIgYXJyID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogcm93cyB9KTsKCSAgICAgICAgcmV0dXJuIGFyci5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIEludDMyQXJyYXkuZnJvbSh7IGxlbmd0aDogY29scyB9KS5maWxsKHZhbHVlKTsgfSk7CgkgICAgfTsKCSAgICBBcnJheXMuZXF1YWxzID0gZnVuY3Rpb24gKGZpcnN0LCBzZWNvbmQpIHsKCSAgICAgICAgaWYgKCFmaXJzdCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIGlmICghc2Vjb25kKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKCFmaXJzdC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoIXNlY29uZC5sZW5ndGgpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZmlyc3QubGVuZ3RoICE9PSBzZWNvbmQubGVuZ3RoKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gZmlyc3QubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgaWYgKGZpcnN0W2ldICE9PSBzZWNvbmRbaV0pIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICBBcnJheXMuaGFzaENvZGUgPSBmdW5jdGlvbiAoYSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgaWYgKGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSAxOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgYV8xID0gX192YWx1ZXMkNyhhKSwgYV8xXzEgPSBhXzEubmV4dCgpOyAhYV8xXzEuZG9uZTsgYV8xXzEgPSBhXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVsZW1lbnQgPSBhXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAzMSAqIHJlc3VsdCArIGVsZW1lbnQ7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChhXzFfMSAmJiAhYV8xXzEuZG9uZSAmJiAoX2EgPSBhXzEucmV0dXJuKSkgX2EuY2FsbChhXzEpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzEpIHRocm93IGVfMS5lcnJvcjsgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBBcnJheXMuZmlsbFVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAoYSwgdmFsdWUpIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgIT09IGEubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIGFbaV0gPSB2YWx1ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZiA9IGZ1bmN0aW9uIChvcmlnaW5hbCwgbmV3TGVuZ3RoKSB7CgkgICAgICAgIHJldHVybiBvcmlnaW5hbC5zbGljZSgwLCBuZXdMZW5ndGgpOwoJICAgIH07CgkgICAgQXJyYXlzLmNvcHlPZlVpbnQ4QXJyYXkgPSBmdW5jdGlvbiAob3JpZ2luYWwsIG5ld0xlbmd0aCkgewoJICAgICAgICBpZiAob3JpZ2luYWwubGVuZ3RoIDw9IG5ld0xlbmd0aCkgewoJICAgICAgICAgICAgdmFyIG5ld0FycmF5ID0gbmV3IFVpbnQ4QXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgICAgIG5ld0FycmF5LnNldChvcmlnaW5hbCk7CgkgICAgICAgICAgICByZXR1cm4gbmV3QXJyYXk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG9yaWdpbmFsLnNsaWNlKDAsIG5ld0xlbmd0aCk7CgkgICAgfTsKCSAgICBBcnJheXMuY29weU9mUmFuZ2UgPSBmdW5jdGlvbiAob3JpZ2luYWwsIGZyb20sIHRvKSB7CgkgICAgICAgIHZhciBuZXdMZW5ndGggPSB0byAtIGZyb207CgkgICAgICAgIHZhciBjb3B5ID0gbmV3IEludDMyQXJyYXkobmV3TGVuZ3RoKTsKCSAgICAgICAgU3lzdGVtXzEkNS5kZWZhdWx0LmFycmF5Y29weShvcmlnaW5hbCwgZnJvbSwgY29weSwgMCwgbmV3TGVuZ3RoKTsKCSAgICAgICAgcmV0dXJuIGNvcHk7CgkgICAgfTsKCSAgICAvKgoJICAgICogUmV0dXJucyB0aGUgaW5kZXggb2Ygb2YgdGhlIGVsZW1lbnQgaW4gYSBzb3J0ZWQgYXJyYXkgb3IgKC1uLTEpIHdoZXJlIG4gaXMgdGhlIGluc2VydGlvbiBwb2ludAoJICAgICogZm9yIHRoZSBuZXcgZWxlbWVudC4KCSAgICAqIFBhcmFtZXRlcnM6CgkgICAgKiAgICAgYXIgLSBBIHNvcnRlZCBhcnJheQoJICAgICogICAgIGVsIC0gQW4gZWxlbWVudCB0byBzZWFyY2ggZm9yCgkgICAgKiAgICAgY29tcGFyYXRvciAtIEEgY29tcGFyYXRvciBmdW5jdGlvbi4gVGhlIGZ1bmN0aW9uIHRha2VzIHR3byBhcmd1bWVudHM6IChhLCBiKSBhbmQgcmV0dXJuczoKCSAgICAqICAgICAgICBhIG5lZ2F0aXZlIG51bWJlciAgaWYgYSBpcyBsZXNzIHRoYW4gYjsKCSAgICAqICAgICAgICAwIGlmIGEgaXMgZXF1YWwgdG8gYjsKCSAgICAqICAgICAgICBhIHBvc2l0aXZlIG51bWJlciBvZiBhIGlzIGdyZWF0ZXIgdGhhbiBiLgoJICAgICogVGhlIGFycmF5IG1heSBjb250YWluIGR1cGxpY2F0ZSBlbGVtZW50cy4gSWYgdGhlcmUgYXJlIG1vcmUgdGhhbiBvbmUgZXF1YWwgZWxlbWVudHMgaW4gdGhlIGFycmF5LAoJICAgICogdGhlIHJldHVybmVkIHZhbHVlIGNhbiBiZSB0aGUgaW5kZXggb2YgYW55IG9uZSBvZiB0aGUgZXF1YWwgZWxlbWVudHMuCgkgICAgKgoJICAgICogaHR0cDovL2pzZmlkZGxlLm5ldC9hcnl6aG92L3BrZnN0NTUwLwoJICAgICovCgkgICAgQXJyYXlzLmJpbmFyeVNlYXJjaCA9IGZ1bmN0aW9uIChhciwgZWwsIGNvbXBhcmF0b3IpIHsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY29tcGFyYXRvcikgewoJICAgICAgICAgICAgY29tcGFyYXRvciA9IEFycmF5cy5udW1iZXJDb21wYXJhdG9yOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtID0gMDsKCSAgICAgICAgdmFyIG4gPSBhci5sZW5ndGggLSAxOwoJICAgICAgICB3aGlsZSAobSA8PSBuKSB7CgkgICAgICAgICAgICB2YXIgayA9IChuICsgbSkgPj4gMTsKCSAgICAgICAgICAgIHZhciBjbXAgPSBjb21wYXJhdG9yKGVsLCBhcltrXSk7CgkgICAgICAgICAgICBpZiAoY21wID4gMCkgewoJICAgICAgICAgICAgICAgIG0gPSBrICsgMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKGNtcCA8IDApIHsKCSAgICAgICAgICAgICAgICBuID0gayAtIDE7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gLW0gLSAxOwoJICAgIH07CgkgICAgQXJyYXlzLm51bWJlckNvbXBhcmF0b3IgPSBmdW5jdGlvbiAoYSwgYikgewoJICAgICAgICByZXR1cm4gYSAtIGI7CgkgICAgfTsKCSAgICByZXR1cm4gQXJyYXlzOwoJfSgpKTsKCUFycmF5cyQxLmRlZmF1bHQgPSBBcnJheXM7CgoJdmFyIEludGVnZXIkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnRlZ2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogUG9ueWZpbGwgZm9yIEphdmEncyBJbnRlZ2VyIGNsYXNzLgoJICovCgl2YXIgSW50ZWdlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBJbnRlZ2VyKCkgewoJICAgIH0KCSAgICBJbnRlZ2VyLm51bWJlck9mVHJhaWxpbmdaZXJvcyA9IGZ1bmN0aW9uIChpKSB7CgkgICAgICAgIHZhciB5OwoJICAgICAgICBpZiAoaSA9PT0gMCkKCSAgICAgICAgICAgIHJldHVybiAzMjsKCSAgICAgICAgdmFyIG4gPSAzMTsKCSAgICAgICAgeSA9IGkgPDwgMTY7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDE2OwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgeSA9IGkgPDwgODsKCSAgICAgICAgaWYgKHkgIT09IDApIHsKCSAgICAgICAgICAgIG4gLT0gODsKCSAgICAgICAgICAgIGkgPSB5OwoJICAgICAgICB9CgkgICAgICAgIHkgPSBpIDw8IDQ7CgkgICAgICAgIGlmICh5ICE9PSAwKSB7CgkgICAgICAgICAgICBuIC09IDQ7CgkgICAgICAgICAgICBpID0geTsKCSAgICAgICAgfQoJICAgICAgICB5ID0gaSA8PCAyOwoJICAgICAgICBpZiAoeSAhPT0gMCkgewoJICAgICAgICAgICAgbiAtPSAyOwoJICAgICAgICAgICAgaSA9IHk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG4gLSAoKGkgPDwgMSkgPj4+IDMxKTsKCSAgICB9OwoJICAgIEludGVnZXIubnVtYmVyT2ZMZWFkaW5nWmVyb3MgPSBmdW5jdGlvbiAoaSkgewoJICAgICAgICAvLyBIRCwgRmlndXJlIDUtNgoJICAgICAgICBpZiAoaSA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDMyOwoJICAgICAgICB9CgkgICAgICAgIHZhciBuID0gMTsKCSAgICAgICAgaWYgKGkgPj4+IDE2ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDE2OwoJICAgICAgICAgICAgaSA8PD0gMTY7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGkgPj4+IDI0ID09PSAwKSB7CgkgICAgICAgICAgICBuICs9IDg7CgkgICAgICAgICAgICBpIDw8PSA4OwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID4+PiAyOCA9PT0gMCkgewoJICAgICAgICAgICAgbiArPSA0OwoJICAgICAgICAgICAgaSA8PD0gNDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaSA+Pj4gMzAgPT09IDApIHsKCSAgICAgICAgICAgIG4gKz0gMjsKCSAgICAgICAgICAgIGkgPDw9IDI7CgkgICAgICAgIH0KCSAgICAgICAgbiAtPSBpID4+PiAzMTsKCSAgICAgICAgcmV0dXJuIG47CgkgICAgfTsKCSAgICBJbnRlZ2VyLnRvSGV4U3RyaW5nID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgcmV0dXJuIGkudG9TdHJpbmcoMTYpOwoJICAgIH07CgkgICAgSW50ZWdlci50b0JpbmFyeVN0cmluZyA9IGZ1bmN0aW9uIChpbnROdW1iZXIpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZyhwYXJzZUludChTdHJpbmcoaW50TnVtYmVyKSwgMikpOwoJICAgIH07CgkgICAgLy8gUmV0dXJucyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4gVGhpcyBmdW5jdGlvbiBpcyBzb21ldGltZXMgcmVmZXJyZWQgdG8gYXMgdGhlIHBvcHVsYXRpb24gY291bnQuCgkgICAgLy8gUmV0dXJuczoKCSAgICAvLyB0aGUgbnVtYmVyIG9mIG9uZS1iaXRzIGluIHRoZSB0d28ncyBjb21wbGVtZW50IGJpbmFyeSByZXByZXNlbnRhdGlvbiBvZiB0aGUgc3BlY2lmaWVkIGludCB2YWx1ZS4KCSAgICBJbnRlZ2VyLmJpdENvdW50ID0gZnVuY3Rpb24gKGkpIHsKCSAgICAgICAgLy8gSEQsIEZpZ3VyZSA1LTIKCSAgICAgICAgaSA9IGkgLSAoKGkgPj4+IDEpICYgMHg1NTU1NTU1NSk7CgkgICAgICAgIGkgPSAoaSAmIDB4MzMzMzMzMzMpICsgKChpID4+PiAyKSAmIDB4MzMzMzMzMzMpOwoJICAgICAgICBpID0gKGkgKyAoaSA+Pj4gNCkpICYgMHgwZjBmMGYwZjsKCSAgICAgICAgaSA9IGkgKyAoaSA+Pj4gOCk7CgkgICAgICAgIGkgPSBpICsgKGkgPj4+IDE2KTsKCSAgICAgICAgcmV0dXJuIGkgJiAweDNmOwoJICAgIH07CgkgICAgSW50ZWdlci50cnVuY0RpdmlzaW9uID0gZnVuY3Rpb24gKGRpdmlkZW5kLCBkaXZpc29yKSB7CgkgICAgICAgIHJldHVybiBNYXRoLnRydW5jKGRpdmlkZW5kIC8gZGl2aXNvcik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDb252ZXJ0cyBBIHN0cmluZyB0byBhbiBpbnRlZ2VyLgoJICAgICAqIEBwYXJhbSBzIEEgc3RyaW5nIHRvIGNvbnZlcnQgaW50byBhIG51bWJlci4KCSAgICAgKiBAcGFyYW0gcmFkaXggQSB2YWx1ZSBiZXR3ZWVuIDIgYW5kIDM2IHRoYXQgc3BlY2lmaWVzIHRoZSBiYXNlIG9mIHRoZSBudW1iZXIgaW4gbnVtU3RyaW5nLiBJZiB0aGlzIGFyZ3VtZW50IGlzIG5vdCBzdXBwbGllZCwgc3RyaW5ncyB3aXRoIGEgcHJlZml4IG9mICcweCcgYXJlIGNvbnNpZGVyZWQgaGV4YWRlY2ltYWwuIEFsbCBvdGhlciBzdHJpbmdzIGFyZSBjb25zaWRlcmVkIGRlY2ltYWwuCgkgICAgICovCgkgICAgSW50ZWdlci5wYXJzZUludCA9IGZ1bmN0aW9uIChudW0sIHJhZGl4KSB7CgkgICAgICAgIGlmIChyYWRpeCA9PT0gdm9pZCAwKSB7IHJhZGl4ID0gdW5kZWZpbmVkOyB9CgkgICAgICAgIHJldHVybiBwYXJzZUludChudW0sIHJhZGl4KTsKCSAgICB9OwoJICAgIEludGVnZXIuTUlOX1ZBTFVFXzMyX0JJVFMgPSAtMjE0NzQ4MzY0ODsKCSAgICBJbnRlZ2VyLk1BWF9WQUxVRSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgIHJldHVybiBJbnRlZ2VyOwoJfSgpKTsKCUludGVnZXIkMS5kZWZhdWx0ID0gSW50ZWdlcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdEFycmF5JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDggPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcnJheXNfMSQxID0gQXJyYXlzJDE7Cgl2YXIgSW50ZWdlcl8xJDIgPSBJbnRlZ2VyJDE7Cgl2YXIgU3lzdGVtXzEkNCA9IFN5c3RlbSQxOwoJLyoqCgkgKiA8cD5BIHNpbXBsZSwgZmFzdCBhcnJheSBvZiBiaXRzLCByZXByZXNlbnRlZCBjb21wYWN0bHkgYnkgYW4gYXJyYXkgb2YgaW50cyBpbnRlcm5hbGx5LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgQml0QXJyYXkgLyppbXBsZW1lbnRzIENsb25lYWJsZSovID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHsKCSAgICAvLyAgIHRoaXMuc2l6ZSA9IDAKCSAgICAvLyAgIHRoaXMuYml0cyA9IG5ldyBJbnQzMkFycmF5KDEpCgkgICAgLy8gfQoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3RvcihzaXplPzogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh1bmRlZmluZWQgPT09IHNpemUpIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gMAoJICAgIC8vICAgfSBlbHNlIHsKCSAgICAvLyAgICAgdGhpcy5zaXplID0gc2l6ZQoJICAgIC8vICAgfQoJICAgIC8vICAgdGhpcy5iaXRzID0gdGhpcy5tYWtlQXJyYXkoc2l6ZSkKCSAgICAvLyB9CgkgICAgLy8gRm9yIHRlc3Rpbmcgb25seQoJICAgIGZ1bmN0aW9uIEJpdEFycmF5KHNpemUgLyppbnQqLywgYml0cykgewoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBzaXplKSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSAwOwoJICAgICAgICAgICAgdGhpcy5iaXRzID0gbmV3IEludDMyQXJyYXkoMSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnNpemUgPSBzaXplOwoJICAgICAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gQml0QXJyYXkubWFrZUFycmF5KHNpemUpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH0KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0U2l6ZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZTsKCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXRTaXplSW5CeXRlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoKHRoaXMuc2l6ZSArIDcpIC8gOCk7CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZW5zdXJlQ2FwYWNpdHkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmIChzaXplID4gdGhpcy5iaXRzLmxlbmd0aCAqIDMyKSB7CgkgICAgICAgICAgICB2YXIgbmV3Qml0cyA9IEJpdEFycmF5Lm1ha2VBcnJheShzaXplKTsKCSAgICAgICAgICAgIFN5c3RlbV8xJDQuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5iaXRzLCAwLCBuZXdCaXRzLCAwLCB0aGlzLmJpdHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBpIGJpdCB0byBnZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGJpdCBpIGlzIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiAodGhpcy5iaXRzW01hdGguZmxvb3IoaSAvIDMyKV0gJiAoMSA8PCAoaSAmIDB4MUYpKSkgIT09IDA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoaSAvKmludCovKSB7CgkgICAgICAgIHRoaXMuYml0c1tNYXRoLmZsb29yKGkgLyAzMildIHw9IDEgPDwgKGkgJiAweDFGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEZsaXBzIGJpdCBpLgoJICAgICAqCgkgICAgICogQHBhcmFtIGkgYml0IHRvIHNldAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5mbGlwID0gZnVuY3Rpb24gKGkgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSBePSAxIDw8IChpICYgMHgxRik7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBmaXJzdCBiaXQgdG8gY2hlY2sKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIGZpcnN0IGJpdCB0aGF0IGlzIHNldCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gaW5kZXgsIG9yIHNpemUgaWYgbm9uZSBhcmUgc2V0CgkgICAgICogIGF0IG9yIGJleW9uZCB0aGlzIGdpdmVuIGluZGV4CgkgICAgICogQHNlZSAjZ2V0TmV4dFVuc2V0KGludCkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZ2V0TmV4dFNldCA9IGZ1bmN0aW9uIChmcm9tIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLnNpemU7CgkgICAgICAgIGlmIChmcm9tID49IHNpemUpIHsKCSAgICAgICAgICAgIHJldHVybiBzaXplOwoJICAgICAgICB9CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IE1hdGguZmxvb3IoZnJvbSAvIDMyKTsKCSAgICAgICAgdmFyIGN1cnJlbnRCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgLy8gbWFzayBvZmYgbGVzc2VyIGJpdHMgZmlyc3QKCSAgICAgICAgY3VycmVudEJpdHMgJj0gfigoMSA8PCAoZnJvbSAmIDB4MUYpKSAtIDEpOwoJICAgICAgICB2YXIgbGVuZ3RoID0gYml0cy5sZW5ndGg7CgkgICAgICAgIHdoaWxlIChjdXJyZW50Qml0cyA9PT0gMCkgewoJICAgICAgICAgICAgaWYgKCsrYml0c09mZnNldCA9PT0gbGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIHNpemU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjdXJyZW50Qml0cyA9IGJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gZnJvbSBpbmRleCB0byBzdGFydCBsb29raW5nIGZvciB1bnNldCBiaXQKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgdW5zZXQgYml0LCBvciB7QGNvZGUgc2l6ZX0gaWYgbm9uZSBhcmUgdW5zZXQgdW50aWwgdGhlIGVuZAoJICAgICAqIEBzZWUgI2dldE5leHRTZXQoaW50KQoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5nZXROZXh0VW5zZXQgPSBmdW5jdGlvbiAoZnJvbSAvKmludCovKSB7CgkgICAgICAgIHZhciBzaXplID0gdGhpcy5zaXplOwoJICAgICAgICBpZiAoZnJvbSA+PSBzaXplKSB7CgkgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIGJpdHNPZmZzZXQgPSBNYXRoLmZsb29yKGZyb20gLyAzMik7CgkgICAgICAgIHZhciBjdXJyZW50Qml0cyA9IH5iaXRzW2JpdHNPZmZzZXRdOwoJICAgICAgICAvLyBtYXNrIG9mZiBsZXNzZXIgYml0cyBmaXJzdAoJICAgICAgICBjdXJyZW50Qml0cyAmPSB+KCgxIDw8IChmcm9tICYgMHgxRikpIC0gMSk7CgkgICAgICAgIHZhciBsZW5ndGggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgd2hpbGUgKGN1cnJlbnRCaXRzID09PSAwKSB7CgkgICAgICAgICAgICBpZiAoKytiaXRzT2Zmc2V0ID09PSBsZW5ndGgpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gc2l6ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGN1cnJlbnRCaXRzID0gfmJpdHNbYml0c09mZnNldF07CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdCA9IChiaXRzT2Zmc2V0ICogMzIpICsgSW50ZWdlcl8xJDIuZGVmYXVsdC5udW1iZXJPZlRyYWlsaW5nWmVyb3MoY3VycmVudEJpdHMpOwoJICAgICAgICByZXR1cm4gcmVzdWx0ID4gc2l6ZSA/IHNpemUgOiByZXN1bHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgYmxvY2sgb2YgMzIgYml0cywgc3RhcnRpbmcgYXQgYml0IGkuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gaSBmaXJzdCBiaXQgdG8gc2V0CgkgICAgICogQHBhcmFtIG5ld0JpdHMgdGhlIG5ldyB2YWx1ZSBvZiB0aGUgbmV4dCAzMiBiaXRzLiBOb3RlIGFnYWluIHRoYXQgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdAoJICAgICAqIGNvcnJlc3BvbmRzIHRvIGJpdCBpLCB0aGUgbmV4dC1sZWFzdC1zaWduaWZpY2FudCB0byBpKzEsIGFuZCBzbyBvbi4KCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0QnVsayA9IGZ1bmN0aW9uIChpIC8qaW50Ki8sIG5ld0JpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLmJpdHNbTWF0aC5mbG9vcihpIC8gMzIpXSA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZXRzIGEgcmFuZ2Ugb2YgYml0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydCBzdGFydCBvZiByYW5nZSwgaW5jbHVzaXZlLgoJICAgICAqIEBwYXJhbSBlbmQgZW5kIG9mIHJhbmdlLCBleGNsdXNpdmUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuc2V0UmFuZ2UgPSBmdW5jdGlvbiAoc3RhcnQgLyppbnQqLywgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIGVuZC0tOyAvLyB3aWxsIGJlIGVhc2llciB0byB0cmVhdCB0aGlzIGFzIHRoZSBsYXN0IGFjdHVhbGx5IHNldCBiaXQgLS0gaW5jbHVzaXZlCgkgICAgICAgIHZhciBmaXJzdEludCA9IE1hdGguZmxvb3Ioc3RhcnQgLyAzMik7CgkgICAgICAgIHZhciBsYXN0SW50ID0gTWF0aC5mbG9vcihlbmQgLyAzMik7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICBmb3IgKHZhciBpID0gZmlyc3RJbnQ7IGkgPD0gbGFzdEludDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgZmlyc3RCaXQgPSBpID4gZmlyc3RJbnQgPyAwIDogc3RhcnQgJiAweDFGOwoJICAgICAgICAgICAgdmFyIGxhc3RCaXQgPSBpIDwgbGFzdEludCA/IDMxIDogZW5kICYgMHgxRjsKCSAgICAgICAgICAgIC8vIE9uZXMgZnJvbSBmaXJzdEJpdCB0byBsYXN0Qml0LCBpbmNsdXNpdmUKCSAgICAgICAgICAgIHZhciBtYXNrID0gKDIgPDwgbGFzdEJpdCkgLSAoMSA8PCBmaXJzdEJpdCk7CgkgICAgICAgICAgICBiaXRzW2ldIHw9IG1hc2s7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbWF4ID0gdGhpcy5iaXRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGJpdHNbaV0gPSAwOwoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBFZmZpY2llbnQgbWV0aG9kIHRvIGNoZWNrIGlmIGEgcmFuZ2Ugb2YgYml0cyBpcyBzZXQsIG9yIG5vdCBzZXQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnQgc3RhcnQgb2YgcmFuZ2UsIGluY2x1c2l2ZS4KCSAgICAgKiBAcGFyYW0gZW5kIGVuZCBvZiByYW5nZSwgZXhjbHVzaXZlCgkgICAgICogQHBhcmFtIHZhbHVlIGlmIHRydWUsIGNoZWNrcyB0aGF0IGJpdHMgaW4gcmFuZ2UgYXJlIHNldCwgb3RoZXJ3aXNlIGNoZWNrcyB0aGF0IHRoZXkgYXJlIG5vdCBzZXQKCSAgICAgKiBAcmV0dXJuIHRydWUgaWZmIGFsbCBiaXRzIGFyZSBzZXQgb3Igbm90IHNldCBpbiByYW5nZSwgYWNjb3JkaW5nIHRvIHZhbHVlIGFyZ3VtZW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgZW5kIGlzIGxlc3MgdGhhbiBzdGFydCBvciB0aGUgcmFuZ2UgaXMgbm90IGNvbnRhaW5lZCBpbiB0aGUgYXJyYXkKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuaXNSYW5nZSA9IGZ1bmN0aW9uIChzdGFydCAvKmludCovLCBlbmQgLyppbnQqLywgdmFsdWUpIHsKCSAgICAgICAgaWYgKGVuZCA8IHN0YXJ0IHx8IHN0YXJ0IDwgMCB8fCBlbmQgPiB0aGlzLnNpemUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ4LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoZW5kID09PSBzdGFydCkgewoJICAgICAgICAgICAgcmV0dXJuIHRydWU7IC8vIGVtcHR5IHJhbmdlIG1hdGNoZXMKCSAgICAgICAgfQoJICAgICAgICBlbmQtLTsgLy8gd2lsbCBiZSBlYXNpZXIgdG8gdHJlYXQgdGhpcyBhcyB0aGUgbGFzdCBhY3R1YWxseSBzZXQgYml0IC0tIGluY2x1c2l2ZQoJICAgICAgICB2YXIgZmlyc3RJbnQgPSBNYXRoLmZsb29yKHN0YXJ0IC8gMzIpOwoJICAgICAgICB2YXIgbGFzdEludCA9IE1hdGguZmxvb3IoZW5kIC8gMzIpOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgaSA9IGZpcnN0SW50OyBpIDw9IGxhc3RJbnQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGZpcnN0Qml0ID0gaSA+IGZpcnN0SW50ID8gMCA6IHN0YXJ0ICYgMHgxRjsKCSAgICAgICAgICAgIHZhciBsYXN0Qml0ID0gaSA8IGxhc3RJbnQgPyAzMSA6IGVuZCAmIDB4MUY7CgkgICAgICAgICAgICAvLyBPbmVzIGZyb20gZmlyc3RCaXQgdG8gbGFzdEJpdCwgaW5jbHVzaXZlCgkgICAgICAgICAgICB2YXIgbWFzayA9ICgyIDw8IGxhc3RCaXQpIC0gKDEgPDwgZmlyc3RCaXQpICYgMHhGRkZGRkZGRjsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiAmIDB4RkZGRkZGRkYgYWRkZWQgdG8gZGlzY2FyZCBhbnl0aGluZyBhZnRlciAzMiBiaXRzLCBhcyBFUyBoYXMgNTMgYml0cwoJICAgICAgICAgICAgLy8gUmV0dXJuIGZhbHNlIGlmIHdlJ3JlIGxvb2tpbmcgZm9yIDFzIGFuZCB0aGUgbWFza2VkIGJpdHNbaV0gaXNuJ3QgYWxsIDFzIChpczogdGhhdCwKCSAgICAgICAgICAgIC8vIGVxdWFscyB0aGUgbWFzaywgb3Igd2UncmUgbG9va2luZyBmb3IgMHMgYW5kIHRoZSBtYXNrZWQgcG9ydGlvbiBpcyBub3QgYWxsIDBzCgkgICAgICAgICAgICBpZiAoKGJpdHNbaV0gJiBtYXNrKSAhPT0gKHZhbHVlID8gbWFzayA6IDApKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0cnVlOwoJICAgIH07CgkgICAgQml0QXJyYXkucHJvdG90eXBlLmFwcGVuZEJpdCA9IGZ1bmN0aW9uIChiaXQpIHsKCSAgICAgICAgdGhpcy5lbnN1cmVDYXBhY2l0eSh0aGlzLnNpemUgKyAxKTsKCSAgICAgICAgaWYgKGJpdCkgewoJICAgICAgICAgICAgdGhpcy5iaXRzW01hdGguZmxvb3IodGhpcy5zaXplIC8gMzIpXSB8PSAxIDw8ICh0aGlzLnNpemUgJiAweDFGKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLnNpemUrKzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEFwcGVuZHMgdGhlIGxlYXN0LXNpZ25pZmljYW50IGJpdHMsIGZyb20gdmFsdWUsIGluIG9yZGVyIGZyb20gbW9zdC1zaWduaWZpY2FudCB0bwoJICAgICAqIGxlYXN0LXNpZ25pZmljYW50LiBGb3IgZXhhbXBsZSwgYXBwZW5kaW5nIDYgYml0cyBmcm9tIDB4MDAwMDAxRSB3aWxsIGFwcGVuZCB0aGUgYml0cwoJICAgICAqIDAsIDEsIDEsIDEsIDEsIDAgaW4gdGhhdCBvcmRlci4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB2YWx1ZSB7QGNvZGUgaW50fSBjb250YWluaW5nIGJpdHMgdG8gYXBwZW5kCgkgICAgICogQHBhcmFtIG51bUJpdHMgYml0cyBmcm9tIHZhbHVlIHRvIGFwcGVuZAoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5hcHBlbmRCaXRzID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICBpZiAobnVtQml0cyA8IDAgfHwgbnVtQml0cyA+IDMyKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkOC5kZWZhdWx0KCdOdW0gYml0cyBtdXN0IGJlIGJldHdlZW4gMCBhbmQgMzInKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmVuc3VyZUNhcGFjaXR5KHRoaXMuc2l6ZSArIG51bUJpdHMpOwoJICAgICAgICAvLyBjb25zdCBhcHBlbmRCaXQgPSB0aGlzLmFwcGVuZEJpdDsKCSAgICAgICAgZm9yICh2YXIgbnVtQml0c0xlZnQgPSBudW1CaXRzOyBudW1CaXRzTGVmdCA+IDA7IG51bUJpdHNMZWZ0LS0pIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KCgodmFsdWUgPj4gKG51bUJpdHNMZWZ0IC0gMSkpICYgMHgwMSkgPT09IDEpOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBCaXRBcnJheS5wcm90b3R5cGUuYXBwZW5kQml0QXJyYXkgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdmFyIG90aGVyU2l6ZSA9IG90aGVyLnNpemU7CgkgICAgICAgIHRoaXMuZW5zdXJlQ2FwYWNpdHkodGhpcy5zaXplICsgb3RoZXJTaXplKTsKCSAgICAgICAgLy8gY29uc3QgYXBwZW5kQml0ID0gdGhpcy5hcHBlbmRCaXQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb3RoZXJTaXplOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kQml0KG90aGVyLmdldChpKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKHRoaXMuc2l6ZSAhPT0gb3RoZXIuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDguZGVmYXVsdCgnU2l6ZXMgZG9uXCd0IG1hdGNoJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGJpdHMubGVuZ3RoOyBpIDwgbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgLy8gVGhlIGxhc3QgaW50IGNvdWxkIGJlIGluY29tcGxldGUgKGkuZS4gbm90IGhhdmUgMzIgYml0cyBpbgoJICAgICAgICAgICAgLy8gaXQpIGJ1dCB0aGVyZSBpcyBubyBwcm9ibGVtIHNpbmNlIDAgWE9SIDAgPT0gMC4KCSAgICAgICAgICAgIGJpdHNbaV0gXj0gb3RoZXIuYml0c1tpXTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0T2Zmc2V0IGZpcnN0IGJpdCB0byBzdGFydCB3cml0aW5nCgkgICAgICogQHBhcmFtIGFycmF5IGFycmF5IHRvIHdyaXRlIGludG8uIEJ5dGVzIGFyZSB3cml0dGVuIG1vc3Qtc2lnbmlmaWNhbnQgYnl0ZSBmaXJzdC4gVGhpcyBpcyB0aGUgb3Bwb3NpdGUKCSAgICAgKiAgb2YgdGhlIGludGVybmFsIHJlcHJlc2VudGF0aW9uLCB3aGljaCBpcyBleHBvc2VkIGJ5IHtAbGluayAjZ2V0Qml0QXJyYXkoKX0KCSAgICAgKiBAcGFyYW0gb2Zmc2V0IHBvc2l0aW9uIGluIGFycmF5IHRvIHN0YXJ0IHdyaXRpbmcKCSAgICAgKiBAcGFyYW0gbnVtQnl0ZXMgaG93IG1hbnkgYnl0ZXMgdG8gd3JpdGUKCSAgICAgKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUudG9CeXRlcyA9IGZ1bmN0aW9uIChiaXRPZmZzZXQgLyppbnQqLywgYXJyYXksIG9mZnNldCAvKmludCovLCBudW1CeXRlcyAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQnl0ZXM7IGkrKykgewoJICAgICAgICAgICAgdmFyIHRoZUJ5dGUgPSAwOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCA4OyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5nZXQoYml0T2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICB0aGVCeXRlIHw9IDEgPDwgKDcgLSBqKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhcnJheVtvZmZzZXQgKyBpXSA9IC8qKGJ5dGUpKi8gdGhlQnl0ZTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB1bmRlcmx5aW5nIGFycmF5IG9mIGludHMuIFRoZSBmaXJzdCBlbGVtZW50IGhvbGRzIHRoZSBmaXJzdCAzMiBiaXRzLCBhbmQgdGhlIGxlYXN0CgkgICAgICogICAgICAgICBzaWduaWZpY2FudCBiaXQgaXMgYml0IDAuCgkgICAgICovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLmdldEJpdEFycmF5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV2ZXJzZXMgYWxsIGJpdHMgaW4gdGhlIGFycmF5LgoJICAgICAqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5yZXZlcnNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgbmV3Qml0cyA9IG5ldyBJbnQzMkFycmF5KHRoaXMuYml0cy5sZW5ndGgpOwoJICAgICAgICAvLyByZXZlcnNlIGFsbCBpbnQncyBmaXJzdAoJICAgICAgICB2YXIgbGVuID0gTWF0aC5mbG9vcigodGhpcy5zaXplIC0gMSkgLyAzMik7CgkgICAgICAgIHZhciBvbGRCaXRzTGVuID0gbGVuICsgMTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgb2xkQml0c0xlbjsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeCA9IGJpdHNbaV07CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDEpICYgMHg1NTU1NTU1NSkgfCAoKHggJiAweDU1NTU1NTU1KSA8PCAxKTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMikgJiAweDMzMzMzMzMzKSB8ICgoeCAmIDB4MzMzMzMzMzMpIDw8IDIpOwoJICAgICAgICAgICAgeCA9ICgoeCA+PiA0KSAmIDB4MGYwZjBmMGYpIHwgKCh4ICYgMHgwZjBmMGYwZikgPDwgNCk7CgkgICAgICAgICAgICB4ID0gKCh4ID4+IDgpICYgMHgwMGZmMDBmZikgfCAoKHggJiAweDAwZmYwMGZmKSA8PCA4KTsKCSAgICAgICAgICAgIHggPSAoKHggPj4gMTYpICYgMHgwMDAwZmZmZikgfCAoKHggJiAweDAwMDBmZmZmKSA8PCAxNik7CgkgICAgICAgICAgICBuZXdCaXRzW2xlbiAtIGldID0gLyooaW50KSovIHg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm93IGNvcnJlY3QgdGhlIGludCdzIGlmIHRoZSBiaXQgc2l6ZSBpc24ndCBhIG11bHRpcGxlIG9mIDMyCgkgICAgICAgIGlmICh0aGlzLnNpemUgIT09IG9sZEJpdHNMZW4gKiAzMikgewoJICAgICAgICAgICAgdmFyIGxlZnRPZmZzZXQgPSBvbGRCaXRzTGVuICogMzIgLSB0aGlzLnNpemU7CgkgICAgICAgICAgICB2YXIgY3VycmVudEludCA9IG5ld0JpdHNbMF0gPj4+IGxlZnRPZmZzZXQ7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IG9sZEJpdHNMZW47IGkrKykgewoJICAgICAgICAgICAgICAgIHZhciBuZXh0SW50ID0gbmV3Qml0c1tpXTsKCSAgICAgICAgICAgICAgICBjdXJyZW50SW50IHw9IG5leHRJbnQgPDwgKDMyIC0gbGVmdE9mZnNldCk7CgkgICAgICAgICAgICAgICAgbmV3Qml0c1tpIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICAgICAgICAgIGN1cnJlbnRJbnQgPSBuZXh0SW50ID4+PiBsZWZ0T2Zmc2V0OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgbmV3Qml0c1tvbGRCaXRzTGVuIC0gMV0gPSBjdXJyZW50SW50OwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0cyA9IG5ld0JpdHM7CgkgICAgfTsKCSAgICBCaXRBcnJheS5tYWtlQXJyYXkgPSBmdW5jdGlvbiAoc2l6ZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW50MzJBcnJheShNYXRoLmZsb29yKChzaXplICsgMzEpIC8gMzIpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdEFycmF5KSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnNpemUgPT09IG90aGVyLnNpemUgJiYgQXJyYXlzXzEkMS5kZWZhdWx0LmVxdWFscyh0aGlzLmJpdHMsIG90aGVyLmJpdHMpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdEFycmF5LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogdGhpcy5zaXplICsgQXJyYXlzXzEkMS5kZWZhdWx0Lmhhc2hDb2RlKHRoaXMuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0QXJyYXkucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcmVzdWx0ID0gJyc7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBzaXplID0gdGhpcy5zaXplOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICBpZiAoKGkgJiAweDA3KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnICc7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQgKz0gdGhpcy5nZXQoaSkgPyAnWCcgOiAnLic7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBCaXRBcnJheS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0QXJyYXkodGhpcy5zaXplLCB0aGlzLmJpdHMuc2xpY2UoKSk7CgkgICAgfTsKCSAgICByZXR1cm4gQml0QXJyYXk7Cgl9KCkpOwoJQml0QXJyYXkkMS5kZWZhdWx0ID0gQml0QXJyYXk7CgoJdmFyIEJpdE1hdHJpeCQxID0ge307CgoJdmFyIFN0cmluZ0J1aWxkZXIkMSA9IHt9OwoKCXZhciBTdHJpbmdVdGlscyQxID0ge307CgoJdmFyIERlY29kZUhpbnRUeXBlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERlY29kZUhpbnRUeXBlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIHR5cGUgb2YgaGludCB0aGF0IGEgY2FsbGVyIG1heSBwYXNzIHRvIGEgYmFyY29kZSByZWFkZXIgdG8gaGVscCBpdAoJICogbW9yZSBxdWlja2x5IG9yIGFjY3VyYXRlbHkgZGVjb2RlIGl0LiBJdCBpcyB1cCB0byBpbXBsZW1lbnRhdGlvbnMgdG8gZGVjaWRlIHdoYXQsCgkgKiBpZiBhbnl0aGluZywgdG8gZG8gd2l0aCB0aGUgaW5mb3JtYXRpb24gdGhhdCBpcyBzdXBwbGllZC4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBzZWUgUmVhZGVyI2RlY29kZShCaW5hcnlCaXRtYXAsamF2YS51dGlsLk1hcCkKCSAqLwoJdmFyIERlY29kZUhpbnRUeXBlOwoJKGZ1bmN0aW9uIChEZWNvZGVIaW50VHlwZSkgewoJICAgIC8qKgoJICAgICAqIFVuc3BlY2lmaWVkLCBhcHBsaWNhdGlvbi1zcGVjaWZpYyBoaW50LiBNYXBzIHRvIGFuIHVuc3BlY2lmaWVkIHtAbGluayBPYmplY3R9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJPVEhFUiJdID0gMF0gPSAiT1RIRVIiOyAvKihPYmplY3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJbWFnZSBpcyBhIHB1cmUgbW9ub2Nocm9tZSBpbWFnZSBvZiBhIGJhcmNvZGUuIERvZXNuJ3QgbWF0dGVyIHdoYXQgaXQgbWFwcyB0bzsKCSAgICAgKiB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlBVUkVfQkFSQ09ERSJdID0gMV0gPSAiUFVSRV9CQVJDT0RFIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEltYWdlIGlzIGtub3duIHRvIGJlIG9mIG9uZSBvZiBhIGZldyBwb3NzaWJsZSBmb3JtYXRzLgoJICAgICAqIE1hcHMgdG8gYSB7QGxpbmsgTGlzdH0gb2Yge0BsaW5rIEJhcmNvZGVGb3JtYXR9cy4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiUE9TU0lCTEVfRk9STUFUUyJdID0gMl0gPSAiUE9TU0lCTEVfRk9STUFUUyI7IC8qKExpc3QuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVuZCBtb3JlIHRpbWUgdG8gdHJ5IHRvIGZpbmQgYSBiYXJjb2RlOyBvcHRpbWl6ZSBmb3IgYWNjdXJhY3ksIG5vdCBzcGVlZC4KCSAgICAgKiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87IHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiVFJZX0hBUkRFUiJdID0gM10gPSAiVFJZX0hBUkRFUiI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBTcGVjaWZpZXMgd2hhdCBjaGFyYWN0ZXIgZW5jb2RpbmcgdG8gdXNlIHdoZW4gZGVjb2RpbmcsIHdoZXJlIGFwcGxpY2FibGUgKHR5cGUgU3RyaW5nKQoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJDSEFSQUNURVJfU0VUIl0gPSA0XSA9ICJDSEFSQUNURVJfU0VUIjsgLyooU3RyaW5nLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQWxsb3dlZCBsZW5ndGhzIG9mIGVuY29kZWQgZGF0YSAtLSByZWplY3QgYW55dGhpbmcgZWxzZS4gTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfTEVOR1RIUyJdID0gNV0gPSAiQUxMT1dFRF9MRU5HVEhTIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIEFzc3VtZSBDb2RlIDM5IGNvZGVzIGVtcGxveSBhIGNoZWNrIGRpZ2l0LiBEb2Vzbid0IG1hdHRlciB3aGF0IGl0IG1hcHMgdG87CgkgICAgICogdXNlIHtAbGluayBCb29sZWFuI1RSVUV9LgoJICAgICAqLwoJICAgIERlY29kZUhpbnRUeXBlW0RlY29kZUhpbnRUeXBlWyJBU1NVTUVfQ09ERV8zOV9DSEVDS19ESUdJVCJdID0gNl0gPSAiQVNTVU1FX0NPREVfMzlfQ0hFQ0tfRElHSVQiOyAvKihWb2lkLmNsYXNzKSovCgkgICAgLyoqCgkgICAgICogQXNzdW1lIHRoZSBiYXJjb2RlIGlzIGJlaW5nIHByb2Nlc3NlZCBhcyBhIEdTMSBiYXJjb2RlLCBhbmQgbW9kaWZ5IGJlaGF2aW9yIGFzIG5lZWRlZC4KCSAgICAgKiBGb3IgZXhhbXBsZSB0aGlzIGFmZmVjdHMgRk5DMSBoYW5kbGluZyBmb3IgQ29kZSAxMjggKGFrYSBHUzEtMTI4KS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOwoJICAgICAqIHVzZSB7QGxpbmsgQm9vbGVhbiNUUlVFfS4KCSAgICAgKi8KCSAgICBEZWNvZGVIaW50VHlwZVtEZWNvZGVIaW50VHlwZVsiQVNTVU1FX0dTMSJdID0gN10gPSAiQVNTVU1FX0dTMSI7IC8qKFZvaWQuY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBJZiB0cnVlLCByZXR1cm4gdGhlIHN0YXJ0IGFuZCBlbmQgZGlnaXRzIGluIGEgQ29kYWJhciBiYXJjb2RlIGluc3RlYWQgb2Ygc3RyaXBwaW5nIHRoZW0uIFRoZXkKCSAgICAgKiBhcmUgYWxwaGEsIHdoZXJlYXMgdGhlIHJlc3QgYXJlIG51bWVyaWMuIEJ5IGRlZmF1bHQsIHRoZXkgYXJlIHN0cmlwcGVkLCBidXQgdGhpcyBjYXVzZXMgdGhlbQoJICAgICAqIHRvIG5vdCBiZS4gRG9lc24ndCBtYXR0ZXIgd2hhdCBpdCBtYXBzIHRvOyB1c2Uge0BsaW5rIEJvb2xlYW4jVFJVRX0uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIlJFVFVSTl9DT0RBQkFSX1NUQVJUX0VORCJdID0gOF0gPSAiUkVUVVJOX0NPREFCQVJfU1RBUlRfRU5EIjsgLyooVm9pZC5jbGFzcykqLwoJICAgIC8qKgoJICAgICAqIFRoZSBjYWxsZXIgbmVlZHMgdG8gYmUgbm90aWZpZWQgdmlhIGNhbGxiYWNrIHdoZW4gYSBwb3NzaWJsZSB7QGxpbmsgUmVzdWx0UG9pbnR9CgkgICAgICogaXMgZm91bmQuIE1hcHMgdG8gYSB7QGxpbmsgUmVzdWx0UG9pbnRDYWxsYmFja30uCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIk5FRURfUkVTVUxUX1BPSU5UX0NBTExCQUNLIl0gPSA5XSA9ICJORUVEX1JFU1VMVF9QT0lOVF9DQUxMQkFDSyI7IC8qKFJlc3VsdFBvaW50Q2FsbGJhY2suY2xhc3MpKi8KCSAgICAvKioKCSAgICAgKiBBbGxvd2VkIGV4dGVuc2lvbiBsZW5ndGhzIGZvciBFQU4gb3IgVVBDIGJhcmNvZGVzLiBPdGhlciBmb3JtYXRzIHdpbGwgaWdub3JlIHRoaXMuCgkgICAgICogTWFwcyB0byBhbiB7QGNvZGUgSW50MzJBcnJheX0gb2YgdGhlIGFsbG93ZWQgZXh0ZW5zaW9uIGxlbmd0aHMsIGZvciBleGFtcGxlIFsyXSwgWzVdLCBvciBbMiwgNV0uCgkgICAgICogSWYgaXQgaXMgb3B0aW9uYWwgdG8gaGF2ZSBhbiBleHRlbnNpb24sIGRvIG5vdCBzZXQgdGhpcyBoaW50LiBJZiB0aGlzIGlzIHNldCwKCSAgICAgKiBhbmQgYSBVUEMgb3IgRUFOIGJhcmNvZGUgaXMgZm91bmQgYnV0IGFuIGV4dGVuc2lvbiBpcyBub3QsIHRoZW4gbm8gcmVzdWx0IHdpbGwgYmUgcmV0dXJuZWQKCSAgICAgKiBhdCBhbGwuCgkgICAgICovCgkgICAgRGVjb2RlSGludFR5cGVbRGVjb2RlSGludFR5cGVbIkFMTE9XRURfRUFOX0VYVEVOU0lPTlMiXSA9IDEwXSA9ICJBTExPV0VEX0VBTl9FWFRFTlNJT05TIjsgLyooSW50MzJBcnJheS5jbGFzcykqLwoJICAgIC8vIEVuZCBvZiBlbnVtZXJhdGlvbiB2YWx1ZXMuCgkgICAgLyoqCgkgICAgICogRGF0YSB0eXBlIHRoZSBoaW50IGlzIGV4cGVjdGluZy4KCSAgICAgKiBBbW9uZyB0aGUgcG9zc2libGUgdmFsdWVzIHRoZSB7QGxpbmsgVm9pZH0gc3RhbmRzIG91dCBhcyBiZWluZyB1c2VkIGZvcgoJICAgICAqIGhpbnRzIHRoYXQgZG8gbm90IGV4cGVjdCBhIHZhbHVlIHRvIGJlIHN1cHBsaWVkIChmbGFnIGhpbnRzKS4gU3VjaCBoaW50cwoJICAgICAqIHdpbGwgcG9zc2libHkgaGF2ZSB0aGVpciB2YWx1ZSBpZ25vcmVkLCBvciByZXBsYWNlZCBieSBhCgkgICAgICoge0BsaW5rIEJvb2xlYW4jVFJVRX0uIEhpbnQgc3VwcGxpZXJzIHNob3VsZCBwcm9iYWJseSB1c2UKCSAgICAgKiB7QGxpbmsgQm9vbGVhbiNUUlVFfSBhcyBkaXJlY3RlZCBieSB0aGUgYWN0dWFsIGhpbnQgZG9jdW1lbnRhdGlvbi4KCSAgICAgKi8KCSAgICAvLyBwcml2YXRlIHZhbHVlVHlwZTogQ2xhc3M8Pz4KCSAgICAvLyBEZWNvZGVIaW50VHlwZSh2YWx1ZVR5cGU6IENsYXNzPD8+KSB7CgkgICAgLy8gICB0aGlzLnZhbHVlVHlwZSA9IHZhbHVlVHlwZQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgZ2V0VmFsdWVUeXBlKCk6IENsYXNzPD8+IHsKCSAgICAvLyAgIHJldHVybiB2YWx1ZVR5cGUKCSAgICAvLyB9Cgl9KShEZWNvZGVIaW50VHlwZSB8fCAoRGVjb2RlSGludFR5cGUgPSB7fSkpOwoJRGVjb2RlSGludFR5cGUkMS5kZWZhdWx0ID0gRGVjb2RlSGludFR5cGU7CgoJdmFyIENoYXJhY3RlclNldEVDSSA9IHt9OwoKCXZhciBGb3JtYXRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZiA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGb3JtYXRFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDcgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgRm9ybWF0RXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyRmKEZvcm1hdEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBGb3JtYXRFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgRm9ybWF0RXhjZXB0aW9uLmdldEZvcm1hdEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEV4Y2VwdGlvbigpOwoJICAgIH07CgkgICAgRm9ybWF0RXhjZXB0aW9uLmtpbmQgPSAnRm9ybWF0RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gRm9ybWF0RXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQ3LmRlZmF1bHQpKTsKCUZvcm1hdEV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBGb3JtYXRFeGNlcHRpb247CgoJKGZ1bmN0aW9uIChleHBvcnRzKSB7CgkvKgoJICogQ29weXJpZ2h0IDIwMDggWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCWV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHZvaWQgMDsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xID0gRm9ybWF0RXhjZXB0aW9uJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuSGFzaE1hcDsqLwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJdmFyIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnM7CgkoZnVuY3Rpb24gKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMpIHsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwNDM3Il0gPSAwXSA9ICJDcDQzNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEiXSA9IDFdID0gIklTTzg4NTlfMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzIiXSA9IDJdID0gIklTTzg4NTlfMiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzMiXSA9IDNdID0gIklTTzg4NTlfMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzQiXSA9IDRdID0gIklTTzg4NTlfNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzUiXSA9IDVdID0gIklTTzg4NTlfNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzYiXSA9IDZdID0gIklTTzg4NTlfNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzciXSA9IDddID0gIklTTzg4NTlfNyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzgiXSA9IDhdID0gIklTTzg4NTlfOCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzkiXSA9IDldID0gIklTTzg4NTlfOSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEwIl0gPSAxMF0gPSAiSVNPODg1OV8xMCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzExIl0gPSAxMV0gPSAiSVNPODg1OV8xMSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzEzIl0gPSAxMl0gPSAiSVNPODg1OV8xMyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE0Il0gPSAxM10gPSAiSVNPODg1OV8xNCI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE1Il0gPSAxNF0gPSAiSVNPODg1OV8xNSI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJJU084ODU5XzE2Il0gPSAxNV0gPSAiSVNPODg1OV8xNiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJTSklTIl0gPSAxNl0gPSAiU0pJUyI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTAiXSA9IDE3XSA9ICJDcDEyNTAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQ3AxMjUxIl0gPSAxOF0gPSAiQ3AxMjUxIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkNwMTI1MiJdID0gMTldID0gIkNwMTI1MiI7CgkgICAgQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1tDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzWyJDcDEyNTYiXSA9IDIwXSA9ICJDcDEyNTYiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siVW5pY29kZUJpZ1VubWFya2VkIl0gPSAyMV0gPSAiVW5pY29kZUJpZ1VubWFya2VkIjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIlVURjgiXSA9IDIyXSA9ICJVVEY4IjsKCSAgICBDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzW0NoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbIkFTQ0lJIl0gPSAyM10gPSAiQVNDSUkiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siQmlnNSJdID0gMjRdID0gIkJpZzUiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siR0IxODAzMCJdID0gMjVdID0gIkdCMTgwMzAiOwoJICAgIENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnNbQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVyc1siRVVDX0tSIl0gPSAyNl0gPSAiRVVDX0tSIjsKCX0pKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgPSBleHBvcnRzLkNoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMgfHwgKGV4cG9ydHMuQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycyA9IHt9KSk7CgkvKioKCSAqIEVuY2Fwc3VsYXRlcyBhIENoYXJhY3RlciBTZXQgRUNJLCBhY2NvcmRpbmcgdG8gIkV4dGVuZGVkIENoYW5uZWwgSW50ZXJwcmV0YXRpb25zIiA1LjMuMS4xCgkgKiBvZiBJU08gMTgwMDQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIENoYXJhY3RlclNldEVDSSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBDaGFyYWN0ZXJTZXRFQ0kodmFsdWVJZGVudGlmaWVyLCB2YWx1ZXNQYXJhbSwgbmFtZSkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG90aGVyRW5jb2RpbmdOYW1lcyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDM7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgb3RoZXJFbmNvZGluZ05hbWVzW19pIC0gM10gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmFsdWVJZGVudGlmaWVyID0gdmFsdWVJZGVudGlmaWVyOwoJICAgICAgICB0aGlzLm5hbWUgPSBuYW1lOwoJICAgICAgICBpZiAodHlwZW9mIHZhbHVlc1BhcmFtID09PSAnbnVtYmVyJykgewoJICAgICAgICAgICAgdGhpcy52YWx1ZXMgPSBJbnQzMkFycmF5LmZyb20oW3ZhbHVlc1BhcmFtXSk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICB0aGlzLnZhbHVlcyA9IHZhbHVlc1BhcmFtOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzOwoJICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVfSURFTlRJRklFUl9UT19FQ0kuc2V0KHZhbHVlSWRlbnRpZmllciwgdGhpcyk7CgkgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQobmFtZSwgdGhpcyk7CgkgICAgICAgIHZhciB2YWx1ZXMgPSB0aGlzLnZhbHVlczsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gdmFsdWVzLmxlbmd0aDsgaSAhPT0gbGVuZ3RoXzE7IGkrKykgewoJICAgICAgICAgICAgdmFyIHYgPSB2YWx1ZXNbaV07CgkgICAgICAgICAgICBDaGFyYWN0ZXJTZXRFQ0kuVkFMVUVTX1RPX0VDSS5zZXQodiwgdGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIG90aGVyRW5jb2RpbmdOYW1lc18xID0gX192YWx1ZXMob3RoZXJFbmNvZGluZ05hbWVzKSwgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKTsgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZTsgb3RoZXJFbmNvZGluZ05hbWVzXzFfMSA9IG90aGVyRW5jb2RpbmdOYW1lc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBvdGhlck5hbWUgPSBvdGhlckVuY29kaW5nTmFtZXNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSS5zZXQob3RoZXJOYW1lLCB0aGlzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKG90aGVyRW5jb2RpbmdOYW1lc18xXzEgJiYgIW90aGVyRW5jb2RpbmdOYW1lc18xXzEuZG9uZSAmJiAoX2EgPSBvdGhlckVuY29kaW5nTmFtZXNfMS5yZXR1cm4pKSBfYS5jYWxsKG90aGVyRW5jb2RpbmdOYW1lc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgIH0KCSAgICAvLyBDaGFyYWN0ZXJTZXRFQ0kodmFsdWU6IG51bWJlciAvKmludCovKSB7CgkgICAgLy8gICB0aGlzKG5ldyBJbnQzMkFycmF5IHt2YWx1ZX0pCgkgICAgLy8gfQoJICAgIC8vIENoYXJhY3RlclNldEVDSSh2YWx1ZTogbnVtYmVyIC8qaW50Ki8sIFN0cmluZy4uLiBvdGhlckVuY29kaW5nTmFtZXMpIHsKCSAgICAvLyAgIHRoaXMudmFsdWVzID0gbmV3IEludDMyQXJyYXkge3ZhbHVlfQoJICAgIC8vICAgdGhpcy5vdGhlckVuY29kaW5nTmFtZXMgPSBvdGhlckVuY29kaW5nTmFtZXMKCSAgICAvLyB9CgkgICAgLy8gQ2hhcmFjdGVyU2V0RUNJKHZhbHVlczogSW50MzJBcnJheSwgU3RyaW5nLi4uIG90aGVyRW5jb2RpbmdOYW1lcykgewoJICAgIC8vICAgdGhpcy52YWx1ZXMgPSB2YWx1ZXMKCSAgICAvLyAgIHRoaXMub3RoZXJFbmNvZGluZ05hbWVzID0gb3RoZXJFbmNvZGluZ05hbWVzCgkgICAgLy8gfQoJICAgIENoYXJhY3RlclNldEVDSS5wcm90b3R5cGUuZ2V0VmFsdWVJZGVudGlmaWVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZUlkZW50aWZpZXI7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldE5hbWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm5hbWU7CgkgICAgfTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZXNbMF07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmFsdWUgY2hhcmFjdGVyIHNldCBFQ0kgdmFsdWUKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBDaGFyYWN0ZXJTZXRFQ0l9IHJlcHJlc2VudGluZyBFQ0kgb2YgZ2l2ZW4gdmFsdWUsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwgYnV0CgkgICAgICogICB1bnN1cHBvcnRlZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIEVDSSB2YWx1ZSBpcyBpbnZhbGlkCgkgICAgICovCgkgICAgQ2hhcmFjdGVyU2V0RUNJLmdldENoYXJhY3RlclNldEVDSUJ5VmFsdWUgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IDkwMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGNoYXJhY3RlclNldCA9IENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJLmdldCh2YWx1ZSk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNoYXJhY3RlclNldCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoJ2luY29yZWN0IHZhbHVlJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGNoYXJhY3RlclNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBuYW1lIGNoYXJhY3RlciBzZXQgRUNJIGVuY29kaW5nIG5hbWUKCSAgICAgKiBAcmV0dXJuIENoYXJhY3RlclNldEVDSSByZXByZXNlbnRpbmcgRUNJIGZvciBjaGFyYWN0ZXIgZW5jb2RpbmcsIG9yIG51bGwgaWYgaXQgaXMgbGVnYWwKCSAgICAgKiAgIGJ1dCB1bnN1cHBvcnRlZAoJICAgICAqLwoJICAgIENoYXJhY3RlclNldEVDSS5nZXRDaGFyYWN0ZXJTZXRFQ0lCeU5hbWUgPSBmdW5jdGlvbiAobmFtZSkgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gQ2hhcmFjdGVyU2V0RUNJLk5BTUVfVE9fRUNJLmdldChuYW1lKTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgnaW5jb3JlY3QgdmFsdWUnKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY2hhcmFjdGVyU2V0OwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgQ2hhcmFjdGVyU2V0RUNJKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLmdldE5hbWUoKSA9PT0gb3RoZXIuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlZBTFVFX0lERU5USUZJRVJfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5WQUxVRVNfVE9fRUNJID0gbmV3IE1hcCgpOwoJICAgIENoYXJhY3RlclNldEVDSS5OQU1FX1RPX0VDSSA9IG5ldyBNYXAoKTsKCSAgICAvLyBFbnVtIG5hbWUgaXMgYSBKYXZhIGVuY29kaW5nIHZhbGlkIGZvciBqYXZhLmxhbmcgYW5kIGphdmEuaW8KCSAgICAvLyBUWVBFU0NSSVBUUE9SVDogY2hhbmdlZCB0aGUgbWFpbiBsYWJlbCBmb3IgSVNPIGFzIHRoZSBUZXh0RW5jb2RlciBkaWQgbm90IHJlY29nbml6ZWQgdGhlbSBpbiB0aGUgZm9ybSBmcm9tIGphdmEKCSAgICAvLyAoZWcgSVNPODg1OV8xIG11c3QgYmUgSVNPODg1OTEgb3IgSVNPODg1OS0xIG9yIElTTy04ODU5LTEpCgkgICAgLy8gbGF0ZXIgb246IHdlbGwsIGV4Y2VwdCAxNiB3aWNoIGRvZXMgbm90IHdvcmsgd2l0aCBJU084ODU5MTYgc28gdXNlZCBJU08tODg1OS0xIGZvcm0gZm9yIGRlZmF1bHQKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3A0MzcgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3A0MzcsIEludDMyQXJyYXkuZnJvbShbMCwgMl0pLCAnQ3A0MzcnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMSwgSW50MzJBcnJheS5mcm9tKFsxLCAzXSksICdJU08tODg1OS0xJywgJ0lTTzg4NTkxJywgJ0lTTzg4NTlfMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzIgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8yLCA0LCAnSVNPLTg4NTktMicsICdJU084ODU5MicsICdJU084ODU5XzInKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8zID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMywgNSwgJ0lTTy04ODU5LTMnLCAnSVNPODg1OTMnLCAnSVNPODg1OV8zJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzQsIDYsICdJU08tODg1OS00JywgJ0lTTzg4NTk0JywgJ0lTTzg4NTlfNCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV81LCA3LCAnSVNPLTg4NTktNScsICdJU084ODU5NScsICdJU084ODU5XzUnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV82ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfNiwgOCwgJ0lTTy04ODU5LTYnLCAnSVNPODg1OTYnLCAnSVNPODg1OV82Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfNyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzcsIDksICdJU08tODg1OS03JywgJ0lTTzg4NTk3JywgJ0lTTzg4NTlfNycpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV84LCAxMCwgJ0lTTy04ODU5LTgnLCAnSVNPODg1OTgnLCAnSVNPODg1OV84Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfOSA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzksIDExLCAnSVNPLTg4NTktOScsICdJU084ODU5OScsICdJU084ODU5XzknKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xMCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzEwLCAxMiwgJ0lTTy04ODU5LTEwJywgJ0lTTzg4NTkxMCcsICdJU084ODU5XzEwJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xMSwgMTMsICdJU08tODg1OS0xMScsICdJU084ODU5MTEnLCAnSVNPODg1OV8xMScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzEzID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTMsIDE1LCAnSVNPLTg4NTktMTMnLCAnSVNPODg1OTEzJywgJ0lTTzg4NTlfMTMnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuSVNPODg1OV8xNCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5JU084ODU5XzE0LCAxNiwgJ0lTTy04ODU5LTE0JywgJ0lTTzg4NTkxNCcsICdJU084ODU5XzE0Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLklTTzg4NTlfMTUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuSVNPODg1OV8xNSwgMTcsICdJU08tODg1OS0xNScsICdJU084ODU5MTUnLCAnSVNPODg1OV8xNScpOwoJICAgIENoYXJhY3RlclNldEVDSS5JU084ODU5XzE2ID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLklTTzg4NTlfMTYsIDE4LCAnSVNPLTg4NTktMTYnLCAnSVNPODg1OTE2JywgJ0lTTzg4NTlfMTYnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuU0pJUyA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5TSklTLCAyMCwgJ1NKSVMnLCAnU2hpZnRfSklTJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1MCA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTAsIDIxLCAnQ3AxMjUwJywgJ3dpbmRvd3MtMTI1MCcpOwoJICAgIENoYXJhY3RlclNldEVDSS5DcDEyNTEgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQ3AxMjUxLCAyMiwgJ0NwMTI1MScsICd3aW5kb3dzLTEyNTEnKTsKCSAgICBDaGFyYWN0ZXJTZXRFQ0kuQ3AxMjUyID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkNwMTI1MiwgMjMsICdDcDEyNTInLCAnd2luZG93cy0xMjUyJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkNwMTI1NiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5DcDEyNTYsIDI0LCAnQ3AxMjU2JywgJ3dpbmRvd3MtMTI1NicpOwoJICAgIENoYXJhY3RlclNldEVDSS5Vbmljb2RlQmlnVW5tYXJrZWQgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVW5pY29kZUJpZ1VubWFya2VkLCAyNSwgJ1VuaWNvZGVCaWdVbm1hcmtlZCcsICdVVEYtMTZCRScsICdVbmljb2RlQmlnJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLlVURjggPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuVVRGOCwgMjYsICdVVEY4JywgJ1VURi04Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkFTQ0lJID0gbmV3IENoYXJhY3RlclNldEVDSShDaGFyYWN0ZXJTZXRWYWx1ZUlkZW50aWZpZXJzLkFTQ0lJLCBJbnQzMkFycmF5LmZyb20oWzI3LCAxNzBdKSwgJ0FTQ0lJJywgJ1VTLUFTQ0lJJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkJpZzUgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuQmlnNSwgMjgsICdCaWc1Jyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkdCMTgwMzAgPSBuZXcgQ2hhcmFjdGVyU2V0RUNJKENoYXJhY3RlclNldFZhbHVlSWRlbnRpZmllcnMuR0IxODAzMCwgMjksICdHQjE4MDMwJywgJ0dCMjMxMicsICdFVUNfQ04nLCAnR0JLJyk7CgkgICAgQ2hhcmFjdGVyU2V0RUNJLkVVQ19LUiA9IG5ldyBDaGFyYWN0ZXJTZXRFQ0koQ2hhcmFjdGVyU2V0VmFsdWVJZGVudGlmaWVycy5FVUNfS1IsIDMwLCAnRVVDX0tSJywgJ0VVQy1LUicpOwoJICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0k7Cgl9KCkpOwoJZXhwb3J0cy5kZWZhdWx0ID0gQ2hhcmFjdGVyU2V0RUNJOwoKCX0oQ2hhcmFjdGVyU2V0RUNJKSk7CgoJdmFyIFN0cmluZ0VuY29kaW5nJDEgPSB7fTsKCgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNiA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZShVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbi5raW5kID0gJ1Vuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCkpOwoJVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb24kMS5kZWZhdWx0ID0gVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb247CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ0VuY29kaW5nJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEgPSBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbiQxOwoJdmFyIENoYXJhY3RlclNldEVDSV8xJDIgPSBDaGFyYWN0ZXJTZXRFQ0k7CgkvKioKCSAqIFJlc3BvbnNpYmxlIGZvciBlbi9kZWNvZGluZyBzdHJpbmdzLgoJICovCgl2YXIgU3RyaW5nRW5jb2RpbmcgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nRW5jb2RpbmcoKSB7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIERlY29kZXMgc29tZSBVaW50OEFycmF5IHRvIGEgc3RyaW5nIGZvcm1hdC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5kZWNvZGUgPSBmdW5jdGlvbiAoYnl0ZXMsIGVuY29kaW5nKSB7CgkgICAgICAgIHZhciBlbmNvZGluZ05hbWUgPSB0aGlzLmVuY29kaW5nTmFtZShlbmNvZGluZyk7CgkgICAgICAgIGlmICh0aGlzLmN1c3RvbURlY29kZXIpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmN1c3RvbURlY29kZXIoYnl0ZXMsIGVuY29kaW5nTmFtZSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSW5jcmVhc2VzIGJyb3dzZXIgc3VwcG9ydC4KCSAgICAgICAgaWYgKHR5cGVvZiBUZXh0RGVjb2RlciA9PT0gJ3VuZGVmaW5lZCcgfHwgdGhpcy5zaG91bGREZWNvZGVPbkZhbGxiYWNrKGVuY29kaW5nTmFtZSkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUZhbGxiYWNrKGJ5dGVzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoZW5jb2RpbmdOYW1lKS5kZWNvZGUoYnl0ZXMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ2hlY2tzIGlmIHRoZSBkZWNvZGluZyBtZXRob2Qgc2hvdWxkIHVzZSB0aGUgZmFsbGJhY2sgZm9yIGRlY29kaW5nCgkgICAgICogb25jZSBOb2RlIFRleHREZWNvZGVyIGRvZXNuJ3Qgc3VwcG9ydCBhbGwgZW5jb2RpbmcgZm9ybWF0cy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBlbmNvZGluZ05hbWUKCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5zaG91bGREZWNvZGVPbkZhbGxiYWNrID0gZnVuY3Rpb24gKGVuY29kaW5nTmFtZSkgewoJICAgICAgICByZXR1cm4gIVN0cmluZ0VuY29kaW5nLmlzQnJvd3NlcigpICYmIGVuY29kaW5nTmFtZSA9PT0gJ0lTTy04ODU5LTEnOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRW5jb2RlcyBzb21lIHN0cmluZyBpbnRvIGEgVWludDhBcnJheS4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGUgPSBmdW5jdGlvbiAocywgZW5jb2RpbmcpIHsKCSAgICAgICAgdmFyIGVuY29kaW5nTmFtZSA9IHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKTsKCSAgICAgICAgaWYgKHRoaXMuY3VzdG9tRW5jb2RlcikgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRW5jb2RlcihzLCBlbmNvZGluZ05hbWUpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEluY3JlYXNlcyBicm93c2VyIHN1cHBvcnQuCgkgICAgICAgIGlmICh0eXBlb2YgVGV4dEVuY29kZXIgPT09ICd1bmRlZmluZWQnKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5lbmNvZGVGYWxsYmFjayhzKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBUZXh0RW5jb2RlciBvbmx5IGVuY29kZXMgdG8gVVRGOCBieSBkZWZhdWx0IGFzIHNwZWNpZmllZCBieSBlbmNvZGluZy5zcGVjLndoYXR3Zy5vcmcKCSAgICAgICAgcmV0dXJuIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzQnJvd3NlciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB7fS50b1N0cmluZy5jYWxsKHdpbmRvdykgPT09ICdbb2JqZWN0IFdpbmRvd10nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHN0cmluZyB2YWx1ZSBmcm9tIHNvbWUgZW5jb2RpbmcgY2hhcmFjdGVyIHNldC4KCSAgICAgKi8KCSAgICBTdHJpbmdFbmNvZGluZy5lbmNvZGluZ05hbWUgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgcmV0dXJuIHR5cGVvZiBlbmNvZGluZyA9PT0gJ3N0cmluZycKCSAgICAgICAgICAgID8gZW5jb2RpbmcKCSAgICAgICAgICAgIDogZW5jb2RpbmcuZ2V0TmFtZSgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBjaGFyYWN0ZXIgc2V0IGZyb20gc29tZSBlbmNvZGluZyBjaGFyYWN0ZXIgc2V0LgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmVuY29kaW5nQ2hhcmFjdGVyU2V0ID0gZnVuY3Rpb24gKGVuY29kaW5nKSB7CgkgICAgICAgIGlmIChlbmNvZGluZyBpbnN0YW5jZW9mIENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdCkgewoJICAgICAgICAgICAgcmV0dXJuIGVuY29kaW5nOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlOYW1lKGVuY29kaW5nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJ1bnMgYSBmYWxsYmFjayBmb3IgdGhlIG5hdGl2ZSBkZWNvZGluZyBmdW5jaW9uLgoJICAgICAqLwoJICAgIFN0cmluZ0VuY29kaW5nLmRlY29kZUZhbGxiYWNrID0gZnVuY3Rpb24gKGJ5dGVzLCBlbmNvZGluZykgewoJICAgICAgICB2YXIgY2hhcmFjdGVyU2V0ID0gdGhpcy5lbmNvZGluZ0NoYXJhY3RlclNldChlbmNvZGluZyk7CgkgICAgICAgIGlmIChTdHJpbmdFbmNvZGluZy5pc0RlY29kZUZhbGxiYWNrU3VwcG9ydGVkKGNoYXJhY3RlclNldCkpIHsKCSAgICAgICAgICAgIHZhciBzID0gJyc7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoXzEgPSBieXRlcy5sZW5ndGg7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGggPSBieXRlc1tpXS50b1N0cmluZygxNik7CgkgICAgICAgICAgICAgICAgaWYgKGgubGVuZ3RoIDwgMikgewoJICAgICAgICAgICAgICAgICAgICBoID0gJzAnICsgaDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcyArPSAnJScgKyBoOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChzKTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuVW5pY29kZUJpZ1VubWFya2VkKSkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQxNkFycmF5KGJ5dGVzLmJ1ZmZlcikpOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE9wZXJhdGlvbkV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgiRW5jb2RpbmcgIiArIHRoaXMuZW5jb2RpbmdOYW1lKGVuY29kaW5nKSArICIgbm90IHN1cHBvcnRlZCBieSBmYWxsYmFjay4iKTsKCSAgICB9OwoJICAgIFN0cmluZ0VuY29kaW5nLmlzRGVjb2RlRmFsbGJhY2tTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoY2hhcmFjdGVyU2V0KSB7CgkgICAgICAgIHJldHVybiBjaGFyYWN0ZXJTZXQuZXF1YWxzKENoYXJhY3RlclNldEVDSV8xJDIuZGVmYXVsdC5VVEY4KSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuSVNPODg1OV8xKSB8fAoJICAgICAgICAgICAgY2hhcmFjdGVyU2V0LmVxdWFscyhDaGFyYWN0ZXJTZXRFQ0lfMSQyLmRlZmF1bHQuQVNDSUkpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUnVucyBhIGZhbGxiYWNrIGZvciB0aGUgbmF0aXZlIGVuY29kaW5nIGZ1bmNpb24uCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNzE5Mjg0NS80MzY3NjgzCgkgICAgICovCgkgICAgU3RyaW5nRW5jb2RpbmcuZW5jb2RlRmFsbGJhY2sgPSBmdW5jdGlvbiAocykgewoJICAgICAgICB2YXIgZW5jb2RlZFVSSXN0cmluZyA9IGJ0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHMpKSk7CgkgICAgICAgIHZhciBjaGFyTGlzdCA9IGVuY29kZWRVUklzdHJpbmcuc3BsaXQoJycpOwoJICAgICAgICB2YXIgdWludEFycmF5ID0gW107CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY2hhckxpc3QubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHVpbnRBcnJheS5wdXNoKGNoYXJMaXN0W2ldLmNoYXJDb2RlQXQoMCkpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgVWludDhBcnJheSh1aW50QXJyYXkpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0VuY29kaW5nOwoJfSgpKTsKCVN0cmluZ0VuY29kaW5nJDEuZGVmYXVsdCA9IFN0cmluZ0VuY29kaW5nOwoKCS8qCgkgKiBDb3B5cmlnaHQgKEMpIDIwMTAgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFN0cmluZ1V0aWxzJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS5uaW8uY2hhcnNldC5DaGFyc2V0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQzID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSQxID0gQ2hhcmFjdGVyU2V0RUNJOwoJdmFyIFN0cmluZ0VuY29kaW5nXzEkMSA9IFN0cmluZ0VuY29kaW5nJDE7CgkvKioKCSAqIENvbW1vbiBzdHJpbmctcmVsYXRlZCBmdW5jdGlvbnMuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgQWxleCBEdXByZQoJICovCgl2YXIgU3RyaW5nVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nVXRpbHMoKSB7CgkgICAgfQoJICAgIC8vIFNISUZUX0pJUy5lcXVhbHNJZ25vcmVDYXNlKFBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcpIHx8CgkgICAgLy8gRVVDX0pQLmVxdWFsc0lnbm9yZUNhc2UoUExBVEZPUk1fREVGQVVMVF9FTkNPRElORyk7CgkgICAgU3RyaW5nVXRpbHMuY2FzdEFzTm9uVXRmOENoYXIgPSBmdW5jdGlvbiAoY29kZSwgZW5jb2RpbmcpIHsKCSAgICAgICAgaWYgKGVuY29kaW5nID09PSB2b2lkIDApIHsgZW5jb2RpbmcgPSBudWxsOyB9CgkgICAgICAgIC8vIElTTyA4ODU5LTEgaXMgdGhlIEphdmEgZGVmYXVsdCBhcyBVVEYtOCBpcyBKYXZhU2NyaXB0cwoJICAgICAgICAvLyB5b3UgY2FuIHNlZSB0aGlzIG1ldGhvZCBhcyBhIEphdmEgdmVyc2lvbiBvZiBTdHJpbmcuZnJvbUNoYXJDb2RlCgkgICAgICAgIHZhciBlID0gZW5jb2RpbmcgPyBlbmNvZGluZy5nZXROYW1lKCkgOiB0aGlzLklTTzg4NTkxOwoJICAgICAgICAvLyB1c2UgcGFzc2VkIGZvcm1hdCAoZnJvbUNoYXJDb2RlIHdpbGwgcmV0dXJuIFVURjggZW5jb2RpbmcpCgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5kZWNvZGUobmV3IFVpbnQ4QXJyYXkoW2NvZGVdKSwgZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYnl0ZXMgYnl0ZXMgZW5jb2RpbmcgYSBzdHJpbmcsIHdob3NlIGVuY29kaW5nIHNob3VsZCBiZSBndWVzc2VkCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kZSBoaW50cyBpZiBhcHBsaWNhYmxlCgkgICAgICogQHJldHVybiBuYW1lIG9mIGd1ZXNzZWQgZW5jb2Rpbmc7IGF0IHRoZSBtb21lbnQgd2lsbCBvbmx5IGd1ZXNzIG9uZSBvZjoKCSAgICAgKiAge0BsaW5rICNTSElGVF9KSVN9LCB7QGxpbmsgI1VURjh9LCB7QGxpbmsgI0lTTzg4NTkxfSwgb3IgdGhlIHBsYXRmb3JtCgkgICAgICogIGRlZmF1bHQgZW5jb2RpbmcgaWYgbm9uZSBvZiB0aGVzZSBjYW4gcG9zc2libHkgYmUgY29ycmVjdAoJICAgICAqLwoJICAgIFN0cmluZ1V0aWxzLmd1ZXNzRW5jb2RpbmcgPSBmdW5jdGlvbiAoYnl0ZXMsIGhpbnRzKSB7CgkgICAgICAgIGlmIChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpKSB7CgkgICAgICAgICAgICByZXR1cm4gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEkMy5kZWZhdWx0LkNIQVJBQ1RFUl9TRVQpLnRvU3RyaW5nKCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRm9yIG5vdywgbWVyZWx5IHRyaWVzIHRvIGRpc3Rpbmd1aXNoIElTTy04ODU5LTEsIFVURi04IGFuZCBTaGlmdF9KSVMsCgkgICAgICAgIC8vIHdoaWNoIHNob3VsZCBiZSBieSBmYXIgdGhlIG1vc3QgY29tbW9uIGVuY29kaW5ncy4KCSAgICAgICAgdmFyIGxlbmd0aCA9IGJ5dGVzLmxlbmd0aDsKCSAgICAgICAgdmFyIGNhbkJlSVNPODg1OTEgPSB0cnVlOwoJICAgICAgICB2YXIgY2FuQmVTaGlmdEpJUyA9IHRydWU7CgkgICAgICAgIHZhciBjYW5CZVVURjggPSB0cnVlOwoJICAgICAgICB2YXIgdXRmOEJ5dGVzTGVmdCA9IDA7CgkgICAgICAgIC8vIGludCB1dGY4TG93Q2hhcnMgPSAwCgkgICAgICAgIHZhciB1dGYyQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGYzQnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciB1dGY0Qnl0ZXNDaGFycyA9IDA7CgkgICAgICAgIHZhciBzamlzQnl0ZXNMZWZ0ID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNMb3dDaGFycyA9IDAKCSAgICAgICAgdmFyIHNqaXNLYXRha2FuYUNoYXJzID0gMDsKCSAgICAgICAgLy8gaW50IHNqaXNEb3VibGVCeXRlc0NoYXJzID0gMAoJICAgICAgICB2YXIgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgIHZhciBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgdmFyIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSAwOwoJICAgICAgICB2YXIgc2ppc01heERvdWJsZUJ5dGVzV29yZExlbmd0aCA9IDA7CgkgICAgICAgIC8vIGludCBpc29Mb3dDaGFycyA9IDAKCSAgICAgICAgLy8gaW50IGlzb0hpZ2hDaGFycyA9IDAKCSAgICAgICAgdmFyIGlzb0hpZ2hPdGhlciA9IDA7CgkgICAgICAgIHZhciB1dGY4Ym9tID0gYnl0ZXMubGVuZ3RoID4gMyAmJgoJICAgICAgICAgICAgYnl0ZXNbMF0gPT09IC8qKGJ5dGUpICovIDB4RUYgJiYKCSAgICAgICAgICAgIGJ5dGVzWzFdID09PSAvKihieXRlKSAqLyAweEJCICYmCgkgICAgICAgICAgICBieXRlc1syXSA9PT0gLyooYnl0ZSkgKi8gMHhCRjsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGggJiYgKGNhbkJlSVNPODg1OTEgfHwgY2FuQmVTaGlmdEpJUyB8fCBjYW5CZVVURjgpOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB2YWx1ZSA9IGJ5dGVzW2ldICYgMHhGRjsKCSAgICAgICAgICAgIC8vIFVURi04IHN0dWZmCgkgICAgICAgICAgICBpZiAoY2FuQmVVVEY4KSB7CgkgICAgICAgICAgICAgICAgaWYgKHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDgwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgY2FuQmVVVEY4ID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAoKHZhbHVlICYgMHg4MCkgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4NDApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjhCeXRlc0xlZnQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDIwKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjJCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh2YWx1ZSAmIDB4MTApID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHV0ZjNCeXRlc0NoYXJzKys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1dGY4Qnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICgodmFsdWUgJiAweDA4KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXRmNEJ5dGVzQ2hhcnMrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbkJlVVRGOCA9IGZhbHNlOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfSAvLyBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyB1dGY4TG93Q2hhcnMrKwoJICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIElTTy04ODU5LTEgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICAgICAgaWYgKHZhbHVlID4gMHg3RiAmJiB2YWx1ZSA8IDB4QTApIHsKCSAgICAgICAgICAgICAgICAgICAgY2FuQmVJU084ODU5MSA9IGZhbHNlOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmICh2YWx1ZSA+IDB4OUYpIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlIDwgMHhDMCB8fCB2YWx1ZSA9PT0gMHhENyB8fCB2YWx1ZSA9PT0gMHhGNykgewoJICAgICAgICAgICAgICAgICAgICAgICAgaXNvSGlnaE90aGVyKys7CgkgICAgICAgICAgICAgICAgICAgIH0gLy8gZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIGlzb0hpZ2hDaGFycysrCgkgICAgICAgICAgICAgICAgICAgIC8vIH0KCSAgICAgICAgICAgICAgICB9IC8vIGVsc2UgewoJICAgICAgICAgICAgICAgIC8vIGlzb0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAvLyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBTaGlmdF9KSVMgc3R1ZmYKCSAgICAgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTKSB7CgkgICAgICAgICAgICAgICAgaWYgKHNqaXNCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA8IDB4NDAgfHwgdmFsdWUgPT09IDB4N0YgfHwgdmFsdWUgPiAweEZDKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBjYW5CZVNoaWZ0SklTID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0LS07CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPT09IDB4ODAgfHwgdmFsdWUgPT09IDB4QTAgfHwgdmFsdWUgPiAweEVGKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhbkJlU2hpZnRKSVMgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAodmFsdWUgPiAweEEwICYmIHZhbHVlIDwgMHhFMCkgewoJICAgICAgICAgICAgICAgICAgICBzamlzS2F0YWthbmFDaGFycysrOwoJICAgICAgICAgICAgICAgICAgICBzamlzQ3VyRG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gMDsKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCsrOwoJICAgICAgICAgICAgICAgICAgICBpZiAoc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA+IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPSBzamlzQ3VyS2F0YWthbmFXb3JkTGVuZ3RoOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgaWYgKHZhbHVlID4gMHg3RikgewoJICAgICAgICAgICAgICAgICAgICBzamlzQnl0ZXNMZWZ0Kys7CgkgICAgICAgICAgICAgICAgICAgIC8vIHNqaXNEb3VibGVCeXRlc0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGgrKzsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPiBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID0gc2ppc0N1ckRvdWJsZUJ5dGVzV29yZExlbmd0aDsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gc2ppc0xvd0NoYXJzKysKCSAgICAgICAgICAgICAgICAgICAgc2ppc0N1ckthdGFrYW5hV29yZExlbmd0aCA9IDA7CgkgICAgICAgICAgICAgICAgICAgIHNqaXNDdXJEb3VibGVCeXRlc1dvcmRMZW5ndGggPSAwOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmIHV0ZjhCeXRlc0xlZnQgPiAwKSB7CgkgICAgICAgICAgICBjYW5CZVVURjggPSBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY2FuQmVTaGlmdEpJUyAmJiBzamlzQnl0ZXNMZWZ0ID4gMCkgewoJICAgICAgICAgICAgY2FuQmVTaGlmdEpJUyA9IGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhc3kgLS0gaWYgdGhlcmUgaXMgQk9NIG9yIGF0IGxlYXN0IDEgdmFsaWQgbm90LXNpbmdsZSBieXRlIGNoYXJhY3RlciAoYW5kIG5vIGV2aWRlbmNlIGl0IGNhbid0IGJlIFVURi04KSwgZG9uZQoJICAgICAgICBpZiAoY2FuQmVVVEY4ICYmICh1dGY4Ym9tIHx8IHV0ZjJCeXRlc0NoYXJzICsgdXRmM0J5dGVzQ2hhcnMgKyB1dGY0Qnl0ZXNDaGFycyA+IDApKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuVVRGODsKCSAgICAgICAgfQoJICAgICAgICAvLyBFYXN5IC0tIGlmIGFzc3VtaW5nIFNoaWZ0X0pJUyBvciBhdCBsZWFzdCAzIHZhbGlkIGNvbnNlY3V0aXZlIG5vdC1hc2NpaSBjaGFyYWN0ZXJzIChhbmQgbm8gZXZpZGVuY2UgaXQgY2FuJ3QgYmUpLCBkb25lCgkgICAgICAgIGlmIChjYW5CZVNoaWZ0SklTICYmIChTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTIHx8IHNqaXNNYXhLYXRha2FuYVdvcmRMZW5ndGggPj0gMyB8fCBzamlzTWF4RG91YmxlQnl0ZXNXb3JkTGVuZ3RoID49IDMpKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuU0hJRlRfSklTOwoJICAgICAgICB9CgkgICAgICAgIC8vIERpc3Rpbmd1aXNoaW5nIFNoaWZ0X0pJUyBhbmQgSVNPLTg4NTktMSBjYW4gYmUgYSBsaXR0bGUgdG91Z2ggZm9yIHNob3J0IHdvcmRzLiBUaGUgY3J1ZGUgaGV1cmlzdGljIGlzOgoJICAgICAgICAvLyAtIElmIHdlIHNhdwoJICAgICAgICAvLyAgIC0gb25seSB0d28gY29uc2VjdXRpdmUga2F0YWthbmEgY2hhcnMgaW4gdGhlIHdob2xlIHRleHQsIG9yCgkgICAgICAgIC8vICAgLSBhdCBsZWFzdCAxMCUgb2YgYnl0ZXMgdGhhdCBjb3VsZCBiZSAidXBwZXIiIG5vdC1hbHBoYW51bWVyaWMgTGF0aW4xLAoJICAgICAgICAvLyAtIHRoZW4gd2UgY29uY2x1ZGUgU2hpZnRfSklTLCBlbHNlIElTTy04ODU5LTEKCSAgICAgICAgaWYgKGNhbkJlSVNPODg1OTEgJiYgY2FuQmVTaGlmdEpJUykgewoJICAgICAgICAgICAgcmV0dXJuIChzamlzTWF4S2F0YWthbmFXb3JkTGVuZ3RoID09PSAyICYmIHNqaXNLYXRha2FuYUNoYXJzID09PSAyKSB8fCBpc29IaWdoT3RoZXIgKiAxMCA+PSBsZW5ndGgKCSAgICAgICAgICAgICAgICA/IFN0cmluZ1V0aWxzLlNISUZUX0pJUyA6IFN0cmluZ1V0aWxzLklTTzg4NTkxOwoJICAgICAgICB9CgkgICAgICAgIC8vIE90aGVyd2lzZSwgdHJ5IGluIG9yZGVyIElTTy04ODU5LTEsIFNoaWZ0IEpJUywgVVRGLTggYW5kIGZhbGwgYmFjayB0byBkZWZhdWx0IHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIGlmIChjYW5CZUlTTzg4NTkxKSB7CgkgICAgICAgICAgICByZXR1cm4gU3RyaW5nVXRpbHMuSVNPODg1OTE7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlU2hpZnRKSVMpIHsKCSAgICAgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5TSElGVF9KSVM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNhbkJlVVRGOCkgewoJICAgICAgICAgICAgcmV0dXJuIFN0cmluZ1V0aWxzLlVURjg7CgkgICAgICAgIH0KCSAgICAgICAgLy8gT3RoZXJ3aXNlLCB3ZSB0YWtlIGEgd2lsZCBndWVzcyB3aXRoIHBsYXRmb3JtIGVuY29kaW5nCgkgICAgICAgIHJldHVybiBTdHJpbmdVdGlscy5QTEFURk9STV9ERUZBVUxUX0VOQ09ESU5HOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKiBAc2VlIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xMzQzOTcxMS80MzY3NjgzCgkgICAgICoKCSAgICAgKiBAcGFyYW0gYXBwZW5kIFRoZSBuZXcgc3RyaW5nIHRvIGFwcGVuZC4KCSAgICAgKiBAcGFyYW0gYXJncyBBcmd1bWV0cyB2YWx1ZXMgdG8gYmUgZm9ybWF0ZWQuCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZm9ybWF0ID0gZnVuY3Rpb24gKGFwcGVuZCkgewoJICAgICAgICB2YXIgYXJncyA9IFtdOwoJICAgICAgICBmb3IgKHZhciBfaSA9IDE7IF9pIDwgYXJndW1lbnRzLmxlbmd0aDsgX2krKykgewoJICAgICAgICAgICAgYXJnc1tfaSAtIDFdID0gYXJndW1lbnRzW19pXTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaSA9IC0xOwoJICAgICAgICBmdW5jdGlvbiBjYWxsYmFjayhleHAsIHAwLCBwMSwgcDIsIHAzLCBwNCkgewoJICAgICAgICAgICAgaWYgKGV4cCA9PT0gJyUlJykKCSAgICAgICAgICAgICAgICByZXR1cm4gJyUnOwoJICAgICAgICAgICAgaWYgKGFyZ3NbKytpXSA9PT0gdW5kZWZpbmVkKQoJICAgICAgICAgICAgICAgIHJldHVybiB1bmRlZmluZWQ7CgkgICAgICAgICAgICBleHAgPSBwMiA/IHBhcnNlSW50KHAyLnN1YnN0cigxKSkgOiB1bmRlZmluZWQ7CgkgICAgICAgICAgICB2YXIgYmFzZSA9IHAzID8gcGFyc2VJbnQocDMuc3Vic3RyKDEpKSA6IHVuZGVmaW5lZDsKCSAgICAgICAgICAgIHZhciB2YWw7CgkgICAgICAgICAgICBzd2l0Y2ggKHA0KSB7CgkgICAgICAgICAgICAgICAgY2FzZSAncyc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IGFyZ3NbaV07CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2MnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBhcmdzW2ldWzBdOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdmJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChhcmdzW2ldKS50b0ZpeGVkKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ3AnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvUHJlY2lzaW9uKGV4cCk7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIGNhc2UgJ2UnOgoJICAgICAgICAgICAgICAgICAgICB2YWwgPSBwYXJzZUZsb2F0KGFyZ3NbaV0pLnRvRXhwb25lbnRpYWwoZXhwKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgY2FzZSAneCc6CgkgICAgICAgICAgICAgICAgICAgIHZhbCA9IHBhcnNlSW50KGFyZ3NbaV0pLnRvU3RyaW5nKGJhc2UgPyBiYXNlIDogMTYpOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICBjYXNlICdkJzoKCSAgICAgICAgICAgICAgICAgICAgdmFsID0gcGFyc2VGbG9hdChwYXJzZUludChhcmdzW2ldLCBiYXNlID8gYmFzZSA6IDEwKS50b1ByZWNpc2lvbihleHApKS50b0ZpeGVkKDApOwoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhbCA9IHR5cGVvZiB2YWwgPT09ICdvYmplY3QnID8gSlNPTi5zdHJpbmdpZnkodmFsKSA6ICgrdmFsKS50b1N0cmluZyhiYXNlKTsKCSAgICAgICAgICAgIHZhciBzaXplID0gcGFyc2VJbnQocDEpOyAvKiBwYWRkaW5nIHNpemUgKi8KCSAgICAgICAgICAgIHZhciBjaCA9IHAxICYmIChwMVswXSArICcnKSA9PT0gJzAnID8gJzAnIDogJyAnOyAvKiBpc251bGw/ICovCgkgICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCA8IHNpemUpCgkgICAgICAgICAgICAgICAgdmFsID0gcDAgIT09IHVuZGVmaW5lZCA/IHZhbCArIGNoIDogY2ggKyB2YWw7IC8qIGlzbWludXM/ICovCgkgICAgICAgICAgICByZXR1cm4gdmFsOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZWdleCA9IC8lKC0pPygwP1swLTldKyk/KFsuXVswLTldKyk/KFsjXVswLTldKyk/KFtzY2ZwZXhkJV0pL2c7CgkgICAgICAgIHJldHVybiBhcHBlbmQucmVwbGFjZShyZWdleCwgY2FsbGJhY2spOwoJICAgIH07CgkgICAgLyoqCgkgICAgICoKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRCeXRlcyA9IGZ1bmN0aW9uIChzdHIsIGVuY29kaW5nKSB7CgkgICAgICAgIHJldHVybiBTdHJpbmdFbmNvZGluZ18xJDEuZGVmYXVsdC5lbmNvZGUoc3RyLCBlbmNvZGluZyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIHRoZSBjaGFyY29kZSBhdCB0aGUgc3BlY2lmaWVkIGluZGV4IG9yIGF0IGluZGV4IHplcm8uCgkgICAgICovCgkgICAgU3RyaW5nVXRpbHMuZ2V0Q2hhckNvZGUgPSBmdW5jdGlvbiAoc3RyLCBpbmRleCkgewoJICAgICAgICBpZiAoaW5kZXggPT09IHZvaWQgMCkgeyBpbmRleCA9IDA7IH0KCSAgICAgICAgcmV0dXJuIHN0ci5jaGFyQ29kZUF0KGluZGV4KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgY2hhciBmb3IgZ2l2ZW4gY2hhcmNvZGUKCSAgICAgKi8KCSAgICBTdHJpbmdVdGlscy5nZXRDaGFyQXQgPSBmdW5jdGlvbiAoY2hhckNvZGUpIHsKCSAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUoY2hhckNvZGUpOwoJICAgIH07CgkgICAgU3RyaW5nVXRpbHMuU0hJRlRfSklTID0gQ2hhcmFjdGVyU2V0RUNJXzEkMS5kZWZhdWx0LlNKSVMuZ2V0TmFtZSgpOyAvLyAiU0pJUyIKCSAgICBTdHJpbmdVdGlscy5HQjIzMTIgPSAnR0IyMzEyJzsKCSAgICBTdHJpbmdVdGlscy5JU084ODU5MSA9IENoYXJhY3RlclNldEVDSV8xJDEuZGVmYXVsdC5JU084ODU5XzEuZ2V0TmFtZSgpOyAvLyAiSVNPODg1OV8xIgoJICAgIFN0cmluZ1V0aWxzLkVVQ19KUCA9ICdFVUNfSlAnOwoJICAgIFN0cmluZ1V0aWxzLlVURjggPSBDaGFyYWN0ZXJTZXRFQ0lfMSQxLmRlZmF1bHQuVVRGOC5nZXROYW1lKCk7IC8vICJVVEY4IgoJICAgIFN0cmluZ1V0aWxzLlBMQVRGT1JNX0RFRkFVTFRfRU5DT0RJTkcgPSBTdHJpbmdVdGlscy5VVEY4OyAvLyAiVVRGOCIvL0NoYXJzZXQuZGVmYXVsdENoYXJzZXQoKS5uYW1lKCkKCSAgICBTdHJpbmdVdGlscy5BU1NVTUVfU0hJRlRfSklTID0gZmFsc2U7CgkgICAgcmV0dXJuIFN0cmluZ1V0aWxzOwoJfSgpKTsKCVN0cmluZ1V0aWxzJDEuZGVmYXVsdCA9IFN0cmluZ1V0aWxzOwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShTdHJpbmdCdWlsZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBTdHJpbmdVdGlsc18xJDEgPSBTdHJpbmdVdGlscyQxOwoJdmFyIFN0cmluZ0J1aWxkZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gU3RyaW5nQnVpbGRlcih2YWx1ZSkgewoJICAgICAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkgeyB2YWx1ZSA9ICcnOyB9CgkgICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTsKCSAgICB9CgkgICAgU3RyaW5nQnVpbGRlci5wcm90b3R5cGUuZW5hYmxlRGVjb2RpbmcgPSBmdW5jdGlvbiAoZW5jb2RpbmcpIHsKCSAgICAgICAgdGhpcy5lbmNvZGluZyA9IGVuY29kaW5nOwoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIGlmICh0eXBlb2YgcyA9PT0gJ3N0cmluZycpIHsKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gcy50b1N0cmluZygpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHRoaXMuZW5jb2RpbmcpIHsKCSAgICAgICAgICAgIC8vIHVzZSBwYXNzZWQgZm9ybWF0IChmcm9tQ2hhckNvZGUgd2lsbCByZXR1cm4gVVRGOCBlbmNvZGluZykKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nVXRpbHNfMSQxLmRlZmF1bHQuY2FzdEFzTm9uVXRmOENoYXIocywgdGhpcy5lbmNvZGluZyk7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBjb3JyZWN0bHkgY29udmVydHMgZnJvbSBVVEYtOCwgYnV0IG5vdCBvdGhlciBlbmNvZGluZ3MKCSAgICAgICAgICAgIHRoaXMudmFsdWUgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShzKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpczsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmFwcGVuZENoYXJzID0gZnVuY3Rpb24gKHN0ciwgb2Zmc2V0LCBsZW4pIHsKCSAgICAgICAgZm9yICh2YXIgaSA9IG9mZnNldDsgb2Zmc2V0IDwgb2Zmc2V0ICsgbGVuOyBpKyspIHsKCSAgICAgICAgICAgIHRoaXMuYXBwZW5kKHN0cltpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5sZW5ndGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmxlbmd0aDsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlLmNoYXJBdChuKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmRlbGV0ZUNoYXJBdCA9IGZ1bmN0aW9uIChuKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIHRoaXMudmFsdWUuc3Vic3RyaW5nKG4gKyAxKTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnNldENoYXJBdCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgMSk7CgkgICAgfTsKCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zdWJzdHJpbmcgPSBmdW5jdGlvbiAoc3RhcnQsIGVuZCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZS5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAbm90ZSBoZWxwZXIgbWV0aG9kIGZvciBSU1MgRXhwYW5kZWQKCSAgICAgKi8KCSAgICBTdHJpbmdCdWlsZGVyLnByb3RvdHlwZS5zZXRMZW5ndGhUb1plcm8gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSAnJzsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIFN0cmluZ0J1aWxkZXIucHJvdG90eXBlLmluc2VydCA9IGZ1bmN0aW9uIChuLCBjKSB7CgkgICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnN1YnN0cigwLCBuKSArIGMgKyB0aGlzLnZhbHVlLnN1YnN0cihuICsgYy5sZW5ndGgpOwoJICAgIH07CgkgICAgcmV0dXJuIFN0cmluZ0J1aWxkZXI7Cgl9KCkpOwoJU3RyaW5nQnVpbGRlciQxLmRlZmF1bHQgPSBTdHJpbmdCdWlsZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQml0TWF0cml4JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5czsqLwoJdmFyIEJpdEFycmF5XzEkMSA9IEJpdEFycmF5JDE7Cgl2YXIgU3lzdGVtXzEkMyA9IFN5c3RlbSQxOwoJdmFyIEFycmF5c18xID0gQXJyYXlzJDE7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDIgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNyA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgMkQgbWF0cml4IG9mIGJpdHMuIEluIGZ1bmN0aW9uIGFyZ3VtZW50cyBiZWxvdywgYW5kIHRocm91Z2hvdXQgdGhlIGNvbW1vbgoJICogbW9kdWxlLCB4IGlzIHRoZSBjb2x1bW4gcG9zaXRpb24sIGFuZCB5IGlzIHRoZSByb3cgcG9zaXRpb24uIFRoZSBvcmRlcmluZyBpcyBhbHdheXMgeCwgeS4KCSAqIFRoZSBvcmlnaW4gaXMgYXQgdGhlIHRvcC1sZWZ0LjwvcD4KCSAqCgkgKiA8cD5JbnRlcm5hbGx5IHRoZSBiaXRzIGFyZSByZXByZXNlbnRlZCBpbiBhIDEtRCBhcnJheSBvZiAzMi1iaXQgaW50cy4gSG93ZXZlciwgZWFjaCByb3cgYmVnaW5zCgkgKiB3aXRoIGEgbmV3IGludC4gVGhpcyBpcyBkb25lIGludGVudGlvbmFsbHkgc28gdGhhdCB3ZSBjYW4gY29weSBvdXQgYSByb3cgaW50byBhIEJpdEFycmF5IHZlcnkKCSAqIGVmZmljaWVudGx5LjwvcD4KCSAqCgkgKiA8cD5UaGUgb3JkZXJpbmcgb2YgYml0cyBpcyByb3ctbWFqb3IuIFdpdGhpbiBlYWNoIGludCwgdGhlIGxlYXN0IHNpZ25pZmljYW50IGJpdHMgYXJlIHVzZWQgZmlyc3QsCgkgKiBtZWFuaW5nIHRoZXkgcmVwcmVzZW50IGxvd2VyIHggdmFsdWVzLiBUaGlzIGlzIGNvbXBhdGlibGUgd2l0aCBCaXRBcnJheSdzIGltcGxlbWVudGF0aW9uLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqLwoJdmFyIEJpdE1hdHJpeCAvKmltcGxlbWVudHMgQ2xvbmVhYmxlKi8gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSBzcXVhcmUge0BsaW5rIEJpdE1hdHJpeH0uCgkgICAgICoKCSAgICAgKiBAcGFyYW0gZGltZW5zaW9uIGhlaWdodCBhbmQgd2lkdGgKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoZGltZW5zaW9uOiBudW1iZXIgLyppbnQqLykgewoJICAgIC8vICAgdGhpcyhkaW1lbnNpb24sIGRpbWVuc2lvbikKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogQ3JlYXRlcyBhbiBlbXB0eSB7QGxpbmsgQml0TWF0cml4fS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB3aWR0aCBiaXQgbWF0cml4IHdpZHRoCgkgICAgICogQHBhcmFtIGhlaWdodCBiaXQgbWF0cml4IGhlaWdodAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBjb25zdHJ1Y3Rvcih3aWR0aDogbnVtYmVyIC8qaW50Ki8sIGhlaWdodDogbnVtYmVyIC8qaW50Ki8pIHsKCSAgICAvLyAgIGlmICh3aWR0aCA8IDEgfHwgaGVpZ2h0IDwgMSkgewoJICAgIC8vICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKCJCb3RoIGRpbWVuc2lvbnMgbXVzdCBiZSBncmVhdGVyIHRoYW4gMCIpCgkgICAgLy8gICB9CgkgICAgLy8gICB0aGlzLndpZHRoID0gd2lkdGgKCSAgICAvLyAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0CgkgICAgLy8gICB0aGlzLnJvd1NpemUgPSAod2lkdGggKyAzMSkgLyAzMgoJICAgIC8vICAgYml0cyA9IG5ldyBpbnRbcm93U2l6ZSAqIGhlaWdodF07CgkgICAgLy8gfQoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeCh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgcm93U2l6ZSAvKmludCovLCBiaXRzKSB7CgkgICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDsKCSAgICAgICAgdGhpcy5oZWlnaHQgPSBoZWlnaHQ7CgkgICAgICAgIHRoaXMucm93U2l6ZSA9IHJvd1NpemU7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGhlaWdodCB8fCBudWxsID09PSBoZWlnaHQpIHsKCSAgICAgICAgICAgIGhlaWdodCA9IHdpZHRoOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgICAgICBpZiAod2lkdGggPCAxIHx8IGhlaWdodCA8IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0JvdGggZGltZW5zaW9ucyBtdXN0IGJlIGdyZWF0ZXIgdGhhbiAwJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gcm93U2l6ZSB8fCBudWxsID09PSByb3dTaXplKSB7CgkgICAgICAgICAgICByb3dTaXplID0gTWF0aC5mbG9vcigod2lkdGggKyAzMSkgLyAzMik7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yb3dTaXplID0gcm93U2l6ZTsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gYml0cyB8fCBudWxsID09PSBiaXRzKSB7CgkgICAgICAgICAgICB0aGlzLmJpdHMgPSBuZXcgSW50MzJBcnJheSh0aGlzLnJvd1NpemUgKiB0aGlzLmhlaWdodCk7CgkgICAgICAgIH0KCSAgICB9CgkgICAgLyoqCgkgICAgICogSW50ZXJwcmV0cyBhIDJEIGFycmF5IG9mIGJvb2xlYW5zIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0sIHdoZXJlICJ0cnVlIiBtZWFucyBhbiAib24iIGJpdC4KCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBpbWFnZSBiaXRzIG9mIHRoZSBpbWFnZSwgYXMgYSByb3ctbWFqb3IgMkQgYXJyYXkuIEVsZW1lbnRzIGFyZSBhcnJheXMgcmVwcmVzZW50aW5nIHJvd3MKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCaXRNYXRyaXh9IHJlcHJlc2VudGF0aW9uIG9mIGltYWdlCgkgICAgICovCgkgICAgQml0TWF0cml4LnBhcnNlRnJvbUJvb2xlYW5BcnJheSA9IGZ1bmN0aW9uIChpbWFnZSkgewoJICAgICAgICB2YXIgaGVpZ2h0ID0gaW1hZ2UubGVuZ3RoOwoJICAgICAgICB2YXIgd2lkdGggPSBpbWFnZVswXS5sZW5ndGg7CgkgICAgICAgIHZhciBiaXRzID0gbmV3IEJpdE1hdHJpeCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBoZWlnaHQ7IGkrKykgewoJICAgICAgICAgICAgdmFyIGltYWdlSSA9IGltYWdlW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB3aWR0aDsgaisrKSB7CgkgICAgICAgICAgICAgICAgaWYgKGltYWdlSVtqXSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldChqLCBpKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKgoJICAgICAqIEBmdW5jdGlvbiBwYXJzZQoJICAgICAqIEBwYXJhbSBzdHJpbmdSZXByZXNlbnRhdGlvbgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcKCSAgICAgKiBAcGFyYW0gdW5zZXRTdHJpbmcKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucGFyc2VGcm9tU3RyaW5nID0gZnVuY3Rpb24gKHN0cmluZ1JlcHJlc2VudGF0aW9uLCBzZXRTdHJpbmcsIHVuc2V0U3RyaW5nKSB7CgkgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnc3RyaW5nUmVwcmVzZW50YXRpb24gY2Fubm90IGJlIG51bGwnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBBcnJheShzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpOwoJICAgICAgICB2YXIgYml0c1BvcyA9IDA7CgkgICAgICAgIHZhciByb3dTdGFydFBvcyA9IDA7CgkgICAgICAgIHZhciByb3dMZW5ndGggPSAtMTsKCSAgICAgICAgdmFyIG5Sb3dzID0gMDsKCSAgICAgICAgdmFyIHBvcyA9IDA7CgkgICAgICAgIHdoaWxlIChwb3MgPCBzdHJpbmdSZXByZXNlbnRhdGlvbi5sZW5ndGgpIHsKCSAgICAgICAgICAgIGlmIChzdHJpbmdSZXByZXNlbnRhdGlvbi5jaGFyQXQocG9zKSA9PT0gJ1xuJyB8fAoJICAgICAgICAgICAgICAgIHN0cmluZ1JlcHJlc2VudGF0aW9uLmNoYXJBdChwb3MpID09PSAnXHInKSB7CgkgICAgICAgICAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgICAgICAgICBpZiAocm93TGVuZ3RoID09PSAtMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcm93TGVuZ3RoID0gYml0c1BvcyAtIHJvd1N0YXJ0UG9zOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGJpdHNQb3MgLSByb3dTdGFydFBvcyAhPT0gcm93TGVuZ3RoKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdyb3cgbGVuZ3RocyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICByb3dTdGFydFBvcyA9IGJpdHNQb3M7CgkgICAgICAgICAgICAgICAgICAgIG5Sb3dzKys7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHBvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoc3RyaW5nUmVwcmVzZW50YXRpb24uc3Vic3RyaW5nKHBvcywgcG9zICsgc2V0U3RyaW5nLmxlbmd0aCkgPT09IHNldFN0cmluZykgewoJICAgICAgICAgICAgICAgIHBvcyArPSBzZXRTdHJpbmcubGVuZ3RoOwoJICAgICAgICAgICAgICAgIGJpdHNbYml0c1Bvc10gPSB0cnVlOwoJICAgICAgICAgICAgICAgIGJpdHNQb3MrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHN0cmluZ1JlcHJlc2VudGF0aW9uLnN1YnN0cmluZyhwb3MsIHBvcyArIHVuc2V0U3RyaW5nLmxlbmd0aCkgPT09IHVuc2V0U3RyaW5nKSB7CgkgICAgICAgICAgICAgICAgcG9zICs9IHVuc2V0U3RyaW5nLmxlbmd0aDsKCSAgICAgICAgICAgICAgICBiaXRzW2JpdHNQb3NdID0gZmFsc2U7CgkgICAgICAgICAgICAgICAgYml0c1BvcysrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnaWxsZWdhbCBjaGFyYWN0ZXIgZW5jb3VudGVyZWQ6ICcgKyBzdHJpbmdSZXByZXNlbnRhdGlvbi5zdWJzdHJpbmcocG9zKSk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gbm8gRU9MIGF0IGVuZD8KCSAgICAgICAgaWYgKGJpdHNQb3MgPiByb3dTdGFydFBvcykgewoJICAgICAgICAgICAgaWYgKHJvd0xlbmd0aCA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICByb3dMZW5ndGggPSBiaXRzUG9zIC0gcm93U3RhcnRQb3M7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmIChiaXRzUG9zIC0gcm93U3RhcnRQb3MgIT09IHJvd0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ3JvdyBsZW5ndGhzIGRvIG5vdCBtYXRjaCcpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgblJvd3MrKzsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbWF0cml4ID0gbmV3IEJpdE1hdHJpeChyb3dMZW5ndGgsIG5Sb3dzKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBiaXRzUG9zOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChiaXRzW2ldKSB7CgkgICAgICAgICAgICAgICAgbWF0cml4LnNldChNYXRoLmZsb29yKGkgJSByb3dMZW5ndGgpLCBNYXRoLmZsb29yKGkgLyByb3dMZW5ndGgpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbWF0cml4OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+R2V0cyB0aGUgcmVxdWVzdGVkIGJpdCwgd2hlcmUgdHJ1ZSBtZWFucyBibGFjay48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0geCBUaGUgaG9yaXpvbnRhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggY29sdW1uKQoJICAgICAqIEBwYXJhbSB5IFRoZSB2ZXJ0aWNhbCBjb21wb25lbnQgKGkuZS4gd2hpY2ggcm93KQoJICAgICAqIEByZXR1cm4gdmFsdWUgb2YgZ2l2ZW4gYml0IGluIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKHggLyppbnQqLywgeSAvKmludCovKSB7CgkgICAgICAgIHZhciBvZmZzZXQgPSB5ICogdGhpcy5yb3dTaXplICsgTWF0aC5mbG9vcih4IC8gMzIpOwoJICAgICAgICByZXR1cm4gKCh0aGlzLmJpdHNbb2Zmc2V0XSA+Pj4gKHggJiAweDFmKSkgJiAxKSAhPT0gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgdGhlIGdpdmVuIGJpdCB0byB0cnVlLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB4IFRoZSBob3Jpem9udGFsIGNvbXBvbmVudCAoaS5lLiB3aGljaCBjb2x1bW4pCgkgICAgICogQHBhcmFtIHkgVGhlIHZlcnRpY2FsIGNvbXBvbmVudCAoaS5lLiB3aGljaCByb3cpCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIHw9ICgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRjsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUudW5zZXQgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdICY9IH4oKDEgPDwgKHggJiAweDFmKSkgJiAweEZGRkZGRkZGKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkZsaXBzIHRoZSBnaXZlbiBiaXQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHggVGhlIGhvcml6b250YWwgY29tcG9uZW50IChpLmUuIHdoaWNoIGNvbHVtbikKCSAgICAgKiBAcGFyYW0geSBUaGUgdmVydGljYWwgY29tcG9uZW50IChpLmUuIHdoaWNoIHJvdykKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmZsaXAgPSBmdW5jdGlvbiAoeCAvKmludCovLCB5IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiB0aGlzLnJvd1NpemUgKyBNYXRoLmZsb29yKHggLyAzMik7CgkgICAgICAgIHRoaXMuYml0c1tvZmZzZXRdIF49ICgoMSA8PCAoeCAmIDB4MWYpKSAmIDB4RkZGRkZGRkYpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRXhjbHVzaXZlLW9yIChYT1IpOiBGbGlwIHRoZSBiaXQgaW4gdGhpcyB7QGNvZGUgQml0TWF0cml4fSBpZiB0aGUgY29ycmVzcG9uZGluZwoJICAgICAqIG1hc2sgYml0IGlzIHNldC4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBtYXNrIFhPUiBtYXNrCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS54b3IgPSBmdW5jdGlvbiAobWFzaykgewoJICAgICAgICBpZiAodGhpcy53aWR0aCAhPT0gbWFzay5nZXRXaWR0aCgpIHx8IHRoaXMuaGVpZ2h0ICE9PSBtYXNrLmdldEhlaWdodCgpCgkgICAgICAgICAgICB8fCB0aGlzLnJvd1NpemUgIT09IG1hc2suZ2V0Um93U2l6ZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdpbnB1dCBtYXRyaXggZGltZW5zaW9ucyBkbyBub3QgbWF0Y2gnKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcm93QXJyYXkgPSBuZXcgQml0QXJyYXlfMSQxLmRlZmF1bHQoTWF0aC5mbG9vcih0aGlzLndpZHRoIC8gMzIpICsgMSk7CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIHZhciBvZmZzZXQgPSB5ICogcm93U2l6ZTsKCSAgICAgICAgICAgIHZhciByb3cgPSBtYXNrLmdldFJvdyh5LCByb3dBcnJheSkuZ2V0Qml0QXJyYXkoKTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgcm93U2l6ZTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgYml0c1tvZmZzZXQgKyB4XSBePSByb3dbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIENsZWFycyBhbGwgYml0cyAoc2V0cyB0byBmYWxzZSkuCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5jbGVhciA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBtYXggPSBiaXRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkrKykgewoJICAgICAgICAgICAgYml0c1tpXSA9IDA7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlNldHMgYSBzcXVhcmUgcmVnaW9uIG9mIHRoZSBiaXQgbWF0cml4IHRvIHRydWUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGxlZnQgVGhlIGhvcml6b250YWwgcG9zaXRpb24gdG8gYmVnaW4gYXQgKGluY2x1c2l2ZSkKCSAgICAgKiBAcGFyYW0gdG9wIFRoZSB2ZXJ0aWNhbCBwb3NpdGlvbiB0byBiZWdpbiBhdCAoaW5jbHVzaXZlKQoJICAgICAqIEBwYXJhbSB3aWR0aCBUaGUgd2lkdGggb2YgdGhlIHJlZ2lvbgoJICAgICAqIEBwYXJhbSBoZWlnaHQgVGhlIGhlaWdodCBvZiB0aGUgcmVnaW9uCgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5zZXRSZWdpb24gPSBmdW5jdGlvbiAobGVmdCAvKmludCovLCB0b3AgLyppbnQqLywgd2lkdGggLyppbnQqLywgaGVpZ2h0IC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHRvcCA8IDAgfHwgbGVmdCA8IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ3LmRlZmF1bHQoJ0xlZnQgYW5kIHRvcCBtdXN0IGJlIG5vbm5lZ2F0aXZlJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGhlaWdodCA8IDEgfHwgd2lkdGggPCAxKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNy5kZWZhdWx0KCdIZWlnaHQgYW5kIHdpZHRoIG11c3QgYmUgYXQgbGVhc3QgMScpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByaWdodCA9IGxlZnQgKyB3aWR0aDsKCSAgICAgICAgdmFyIGJvdHRvbSA9IHRvcCArIGhlaWdodDsKCSAgICAgICAgaWYgKGJvdHRvbSA+IHRoaXMuaGVpZ2h0IHx8IHJpZ2h0ID4gdGhpcy53aWR0aCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDcuZGVmYXVsdCgnVGhlIHJlZ2lvbiBtdXN0IGZpdCBpbnNpZGUgdGhlIG1hdHJpeCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgZm9yICh2YXIgeSA9IHRvcDsgeSA8IGJvdHRvbTsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHJvd1NpemU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gbGVmdDsgeCA8IHJpZ2h0OyB4KyspIHsKCSAgICAgICAgICAgICAgICBiaXRzW29mZnNldCArIE1hdGguZmxvb3IoeCAvIDMyKV0gfD0gKCgxIDw8ICh4ICYgMHgxZikpICYgMHhGRkZGRkZGRik7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEEgZmFzdCBtZXRob2QgdG8gcmV0cmlldmUgb25lIHJvdyBvZiBkYXRhIGZyb20gdGhlIG1hdHJpeCBhcyBhIEJpdEFycmF5LgoJICAgICAqCgkgICAgICogQHBhcmFtIHkgVGhlIHJvdyB0byByZXRyaWV2ZQoJICAgICAqIEBwYXJhbSByb3cgQW4gb3B0aW9uYWwgY2FsbGVyLWFsbG9jYXRlZCBCaXRBcnJheSwgd2lsbCBiZSBhbGxvY2F0ZWQgaWYgbnVsbCBvciB0b28gc21hbGwKCSAgICAgKiBAcmV0dXJuIFRoZSByZXN1bHRpbmcgQml0QXJyYXkgLSB0aGlzIHJlZmVyZW5jZSBzaG91bGQgYWx3YXlzIGJlIHVzZWQgZXZlbiB3aGVuIHBhc3NpbmcKCSAgICAgKiAgICAgICAgIHlvdXIgb3duIHJvdwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Um93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIGlmIChyb3cgPT09IG51bGwgfHwgcm93ID09PSB1bmRlZmluZWQgfHwgcm93LmdldFNpemUoKSA8IHRoaXMud2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh0aGlzLndpZHRoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHJvdy5jbGVhcigpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByb3dTaXplID0gdGhpcy5yb3dTaXplOwoJICAgICAgICB2YXIgYml0cyA9IHRoaXMuYml0czsKCSAgICAgICAgdmFyIG9mZnNldCA9IHkgKiByb3dTaXplOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHJvd1NpemU7IHgrKykgewoJICAgICAgICAgICAgcm93LnNldEJ1bGsoeCAqIDMyLCBiaXRzW29mZnNldCArIHhdKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIHkgcm93IHRvIHNldAoJICAgICAqIEBwYXJhbSByb3cge0BsaW5rIEJpdEFycmF5fSB0byBjb3B5IGZyb20KCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLnNldFJvdyA9IGZ1bmN0aW9uICh5IC8qaW50Ki8sIHJvdykgewoJICAgICAgICBTeXN0ZW1fMSQzLmRlZmF1bHQuYXJyYXljb3B5KHJvdy5nZXRCaXRBcnJheSgpLCAwLCB0aGlzLmJpdHMsIHkgKiB0aGlzLnJvd1NpemUsIHRoaXMucm93U2l6ZSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBNb2RpZmllcyB0aGlzIHtAY29kZSBCaXRNYXRyaXh9IHRvIHJlcHJlc2VudCB0aGUgc2FtZSBidXQgcm90YXRlZCAxODAgZGVncmVlcwoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUucm90YXRlMTgwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgdG9wUm93ID0gbmV3IEJpdEFycmF5XzEkMS5kZWZhdWx0KHdpZHRoKTsKCSAgICAgICAgdmFyIGJvdHRvbVJvdyA9IG5ldyBCaXRBcnJheV8xJDEuZGVmYXVsdCh3aWR0aCk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IE1hdGguZmxvb3IoKGhlaWdodCArIDEpIC8gMik7IGkgPCBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB0b3BSb3cgPSB0aGlzLmdldFJvdyhpLCB0b3BSb3cpOwoJICAgICAgICAgICAgYm90dG9tUm93ID0gdGhpcy5nZXRSb3coaGVpZ2h0IC0gMSAtIGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0b3BSb3cucmV2ZXJzZSgpOwoJICAgICAgICAgICAgYm90dG9tUm93LnJldmVyc2UoKTsKCSAgICAgICAgICAgIHRoaXMuc2V0Um93KGksIGJvdHRvbVJvdyk7CgkgICAgICAgICAgICB0aGlzLnNldFJvdyhoZWlnaHQgLSAxIC0gaSwgdG9wUm93KTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIHRoZSBlbmNsb3NpbmcgcmVjdGFuZ2xlIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSBsZWZ0LHRvcCx3aWR0aCxoZWlnaHR9IGVuY2xvc2luZyByZWN0YW5nbGUgb2YgYWxsIDEgYml0cywgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldEVuY2xvc2luZ1JlY3RhbmdsZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIGhlaWdodCA9IHRoaXMuaGVpZ2h0OwoJICAgICAgICB2YXIgcm93U2l6ZSA9IHRoaXMucm93U2l6ZTsKCSAgICAgICAgdmFyIGJpdHMgPSB0aGlzLmJpdHM7CgkgICAgICAgIHZhciBsZWZ0ID0gd2lkdGg7CgkgICAgICAgIHZhciB0b3AgPSBoZWlnaHQ7CgkgICAgICAgIHZhciByaWdodCA9IC0xOwoJICAgICAgICB2YXIgYm90dG9tID0gLTE7CgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHgzMiA9IDA7IHgzMiA8IHJvd1NpemU7IHgzMisrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHRoZUJpdHMgPSBiaXRzW3kgKiByb3dTaXplICsgeDMyXTsKCSAgICAgICAgICAgICAgICBpZiAodGhlQml0cyAhPT0gMCkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA8IHRvcCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdG9wID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeSA+IGJvdHRvbSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tID0geTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBpZiAoeDMyICogMzIgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYml0ID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdCsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPCBsZWZ0KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA9IHgzMiAqIDMyICsgYml0OwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGlmICh4MzIgKiAzMiArIDMxID4gcmlnaHQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBiaXQgPSAzMTsKCSAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgodGhlQml0cyA+Pj4gYml0KSA9PT0gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCh4MzIgKiAzMiArIGJpdCkgPiByaWdodCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0ID0geDMyICogMzIgKyBiaXQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJpZ2h0IDwgbGVmdCB8fCBib3R0b20gPCB0b3ApIHsKCSAgICAgICAgICAgIHJldHVybiBudWxsOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2xlZnQsIHRvcCwgcmlnaHQgLSBsZWZ0ICsgMSwgYm90dG9tIC0gdG9wICsgMV0pOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogVGhpcyBpcyB1c2VmdWwgaW4gZGV0ZWN0aW5nIGEgY29ybmVyIG9mIGEgJ3B1cmUnIGJhcmNvZGUuCgkgICAgICoKCSAgICAgKiBAcmV0dXJuIHtAY29kZSB4LHl9IGNvb3JkaW5hdGUgb2YgdG9wLWxlZnQtbW9zdCAxIGJpdCwgb3IgbnVsbCBpZiBpdCBpcyBhbGwgd2hpdGUKCSAgICAgKi8KCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmdldFRvcExlZnRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IDA7CgkgICAgICAgIHdoaWxlIChiaXRzT2Zmc2V0IDwgYml0cy5sZW5ndGggJiYgYml0c1tiaXRzT2Zmc2V0XSA9PT0gMCkgewoJICAgICAgICAgICAgYml0c09mZnNldCsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChiaXRzT2Zmc2V0ID09PSBiaXRzLmxlbmd0aCkgewoJICAgICAgICAgICAgcmV0dXJuIG51bGw7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHkgPSBiaXRzT2Zmc2V0IC8gcm93U2l6ZTsKCSAgICAgICAgdmFyIHggPSAoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDA7CgkgICAgICAgIHdoaWxlICgoKHRoZUJpdHMgPDwgKDMxIC0gYml0KSkgJiAweEZGRkZGRkZGKSA9PT0gMCkgewoJICAgICAgICAgICAgYml0Kys7CgkgICAgICAgIH0KCSAgICAgICAgeCArPSBiaXQ7CgkgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW3gsIHldKTsKCSAgICB9OwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0Qm90dG9tUmlnaHRPbkJpdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJvd1NpemUgPSB0aGlzLnJvd1NpemU7CgkgICAgICAgIHZhciBiaXRzID0gdGhpcy5iaXRzOwoJICAgICAgICB2YXIgYml0c09mZnNldCA9IGJpdHMubGVuZ3RoIC0gMTsKCSAgICAgICAgd2hpbGUgKGJpdHNPZmZzZXQgPj0gMCAmJiBiaXRzW2JpdHNPZmZzZXRdID09PSAwKSB7CgkgICAgICAgICAgICBiaXRzT2Zmc2V0LS07CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJpdHNPZmZzZXQgPCAwKSB7CgkgICAgICAgICAgICByZXR1cm4gbnVsbDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IoYml0c09mZnNldCAvIHJvd1NpemUpOwoJICAgICAgICB2YXIgeCA9IE1hdGguZmxvb3IoYml0c09mZnNldCAlIHJvd1NpemUpICogMzI7CgkgICAgICAgIHZhciB0aGVCaXRzID0gYml0c1tiaXRzT2Zmc2V0XTsKCSAgICAgICAgdmFyIGJpdCA9IDMxOwoJICAgICAgICB3aGlsZSAoKHRoZUJpdHMgPj4+IGJpdCkgPT09IDApIHsKCSAgICAgICAgICAgIGJpdC0tOwoJICAgICAgICB9CgkgICAgICAgIHggKz0gYml0OwoJICAgICAgICByZXR1cm4gSW50MzJBcnJheS5mcm9tKFt4LCB5XSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRXaWR0aCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMud2lkdGg7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSBoZWlnaHQgb2YgdGhlIG1hdHJpeAoJICAgICAqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZ2V0SGVpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5oZWlnaHQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSByb3cgc2l6ZSBvZiB0aGUgbWF0cml4CgkgICAgICovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5nZXRSb3dTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yb3dTaXplOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuZXF1YWxzID0gZnVuY3Rpb24gKG8pIHsKCSAgICAgICAgaWYgKCEobyBpbnN0YW5jZW9mIEJpdE1hdHJpeCkpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy53aWR0aCA9PT0gb3RoZXIud2lkdGggJiYgdGhpcy5oZWlnaHQgPT09IG90aGVyLmhlaWdodCAmJiB0aGlzLnJvd1NpemUgPT09IG90aGVyLnJvd1NpemUgJiYKCSAgICAgICAgICAgIEFycmF5c18xLmRlZmF1bHQuZXF1YWxzKHRoaXMuYml0cywgb3RoZXIuYml0cyk7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGhhc2ggPSB0aGlzLndpZHRoOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy53aWR0aDsKCSAgICAgICAgaGFzaCA9IDMxICogaGFzaCArIHRoaXMuaGVpZ2h0OwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgdGhpcy5yb3dTaXplOwoJICAgICAgICBoYXNoID0gMzEgKiBoYXNoICsgQXJyYXlzXzEuZGVmYXVsdC5oYXNoQ29kZSh0aGlzLmJpdHMpOwoJICAgICAgICByZXR1cm4gaGFzaDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIHVzaW5nICJYIiBmb3Igc2V0IGFuZCAiICIgZm9yIHVuc2V0IGJpdHMKCSAgICAgKi8KCSAgICAvKkBPdmVycmlkZSovCgkgICAgLy8gcHVibGljIHRvU3RyaW5nKCk6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdG9TdHJpbmcoIjogIlgsICIgICIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgdG9TdHJpbmcoc2V0U3RyaW5nOiBzdHJpbmcgPSAiWCAiLCB1bnNldFN0cmluZzogc3RyaW5nID0gIiAgIik6IHN0cmluZyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5idWlsZFRvU3RyaW5nKHNldFN0cmluZywgdW5zZXRTdHJpbmcsICJcbiIpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBzZXRTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgYSBzZXQgYml0CgkgICAgICogQHBhcmFtIHVuc2V0U3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGFuIHVuc2V0IGJpdAoJICAgICAqIEBwYXJhbSBsaW5lU2VwYXJhdG9yIG5ld2xpbmUgY2hhcmFjdGVyIGluIHN0cmluZyByZXByZXNlbnRhdGlvbgoJICAgICAqIEByZXR1cm4gc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIGVudGlyZSBtYXRyaXggdXRpbGl6aW5nIGdpdmVuIHN0cmluZ3MgYW5kIGxpbmUgc2VwYXJhdG9yCgkgICAgICogQGRlcHJlY2F0ZWQgY2FsbCB7QGxpbmsgI3RvU3RyaW5nKFN0cmluZyxTdHJpbmcpfSBvbmx5LCB3aGljaCB1c2VzIFxuIGxpbmUgc2VwYXJhdG9yIGFsd2F5cwoJICAgICAqLwoJICAgIC8vIEBEZXByZWNhdGVkCgkgICAgQml0TWF0cml4LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uIChzZXRTdHJpbmcsIHVuc2V0U3RyaW5nLCBsaW5lU2VwYXJhdG9yKSB7CgkgICAgICAgIGlmIChzZXRTdHJpbmcgPT09IHZvaWQgMCkgeyBzZXRTdHJpbmcgPSAnWCAnOyB9CgkgICAgICAgIGlmICh1bnNldFN0cmluZyA9PT0gdm9pZCAwKSB7IHVuc2V0U3RyaW5nID0gJyAgJzsgfQoJICAgICAgICBpZiAobGluZVNlcGFyYXRvciA9PT0gdm9pZCAwKSB7IGxpbmVTZXBhcmF0b3IgPSAnXG4nOyB9CgkgICAgICAgIHJldHVybiB0aGlzLmJ1aWxkVG9TdHJpbmcoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcik7CgkgICAgfTsKCSAgICBCaXRNYXRyaXgucHJvdG90eXBlLmJ1aWxkVG9TdHJpbmcgPSBmdW5jdGlvbiAoc2V0U3RyaW5nLCB1bnNldFN0cmluZywgbGluZVNlcGFyYXRvcikgewoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgLy8gcmVzdWx0LmFwcGVuZChsaW5lU2VwYXJhdG9yKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDAsIGhlaWdodCA9IHRoaXMuaGVpZ2h0OyB5IDwgaGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IHRoaXMud2lkdGg7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCh0aGlzLmdldCh4LCB5KSA/IHNldFN0cmluZyA6IHVuc2V0U3RyaW5nKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQobGluZVNlcGFyYXRvcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdC50b1N0cmluZygpOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEJpdE1hdHJpeC5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgQml0TWF0cml4KHRoaXMud2lkdGgsIHRoaXMuaGVpZ2h0LCB0aGlzLnJvd1NpemUsIHRoaXMuYml0cy5zbGljZSgpKTsKCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXg7Cgl9KCkpOwoJQml0TWF0cml4JDEuZGVmYXVsdCA9IEJpdE1hdHJpeDsKCgl2YXIgTm90Rm91bmRFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkZCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShOb3RGb3VuZEV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBOb3RGb3VuZEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkZChOb3RGb3VuZEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBOb3RGb3VuZEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5nZXROb3RGb3VuZEluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBOb3RGb3VuZEV4Y2VwdGlvbi5raW5kID0gJ05vdEZvdW5kRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gTm90Rm91bmRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCkpOwoJTm90Rm91bmRFeGNlcHRpb24kMS5kZWZhdWx0ID0gTm90Rm91bmRFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYyA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24geyovCgl2YXIgQmluYXJpemVyXzEgPSBCaW5hcml6ZXIkMTsKCXZhciBCaXRBcnJheV8xID0gQml0QXJyYXkkMTsKCXZhciBCaXRNYXRyaXhfMSQ1ID0gQml0TWF0cml4JDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQ2ID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qKgoJICogVGhpcyBCaW5hcml6ZXIgaW1wbGVtZW50YXRpb24gdXNlcyB0aGUgb2xkIFpYaW5nIGdsb2JhbCBoaXN0b2dyYW0gYXBwcm9hY2guIEl0IGlzIHN1aXRhYmxlCgkgKiBmb3IgbG93LWVuZCBtb2JpbGUgZGV2aWNlcyB3aGljaCBkb24ndCBoYXZlIGVub3VnaCBDUFUgb3IgbWVtb3J5IHRvIHVzZSBhIGxvY2FsIHRocmVzaG9sZGluZwoJICogYWxnb3JpdGhtLiBIb3dldmVyLCBiZWNhdXNlIGl0IHBpY2tzIGEgZ2xvYmFsIGJsYWNrIHBvaW50LCBpdCBjYW5ub3QgaGFuZGxlIGRpZmZpY3VsdCBzaGFkb3dzCgkgKiBhbmQgZ3JhZGllbnRzLgoJICoKCSAqIEZhc3RlciBtb2JpbGUgZGV2aWNlcyBhbmQgYWxsIGRlc2t0b3AgYXBwbGljYXRpb25zIHNob3VsZCBwcm9iYWJseSB1c2UgSHlicmlkQmluYXJpemVyIGluc3RlYWQuCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGMoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5sdW1pbmFuY2VzID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkVNUFRZOwoJICAgICAgICBfdGhpcy5idWNrZXRzID0gbmV3IEludDMyQXJyYXkoR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CVUNLRVRTKTsKCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvLyBBcHBsaWVzIHNpbXBsZSBzaGFycGVuaW5nIHRvIHRoZSByb3cgZGF0YSB0byBpbXByb3ZlIHBlcmZvcm1hbmNlIG9mIHRoZSAxRCBSZWFkZXJzLgoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmdldEJsYWNrUm93ID0gZnVuY3Rpb24gKHkgLyppbnQqLywgcm93KSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gdW5kZWZpbmVkIHx8IHJvdyA9PT0gbnVsbCB8fCByb3cuZ2V0U2l6ZSgpIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBCaXRBcnJheV8xLmRlZmF1bHQod2lkdGgpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgcm93LmNsZWFyKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5pbml0QXJyYXlzKHdpZHRoKTsKCSAgICAgICAgdmFyIGxvY2FsTHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRSb3coeSwgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgdmFyIGxvY2FsQnVja2V0cyA9IHRoaXMuYnVja2V0czsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICBsb2NhbEJ1Y2tldHNbKGxvY2FsTHVtaW5hbmNlc1t4XSAmIDB4ZmYpID4+IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfU0hJRlRdKys7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGJsYWNrUG9pbnQgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuZXN0aW1hdGVCbGFja1BvaW50KGxvY2FsQnVja2V0cyk7CgkgICAgICAgIGlmICh3aWR0aCA8IDMpIHsKCSAgICAgICAgICAgIC8vIFNwZWNpYWwgY2FzZSBmb3IgdmVyeSBzbWFsbCBpbWFnZXMKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgICAgIGlmICgobG9jYWxMdW1pbmFuY2VzW3hdICYgMHhmZikgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIHJvdy5zZXQoeCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGxlZnQgPSBsb2NhbEx1bWluYW5jZXNbMF0gJiAweGZmOwoJICAgICAgICAgICAgdmFyIGNlbnRlciA9IGxvY2FsTHVtaW5hbmNlc1sxXSAmIDB4ZmY7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMTsgeCA8IHdpZHRoIC0gMTsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHJpZ2h0ID0gbG9jYWxMdW1pbmFuY2VzW3ggKyAxXSAmIDB4ZmY7CgkgICAgICAgICAgICAgICAgLy8gQSBzaW1wbGUgLTEgNCAtMSBib3ggZmlsdGVyIHdpdGggYSB3ZWlnaHQgb2YgMi4KCSAgICAgICAgICAgICAgICBpZiAoKChjZW50ZXIgKiA0KSAtIGxlZnQgLSByaWdodCkgLyAyIDwgYmxhY2tQb2ludCkgewoJICAgICAgICAgICAgICAgICAgICByb3cuc2V0KHgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBsZWZ0ID0gY2VudGVyOwoJICAgICAgICAgICAgICAgIGNlbnRlciA9IHJpZ2h0OwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByb3c7CgkgICAgfTsKCSAgICAvLyBEb2VzIG5vdCBzaGFycGVuIHRoZSBkYXRhLCBhcyB0aGlzIGNhbGwgaXMgaW50ZW5kZWQgdG8gb25seSBiZSB1c2VkIGJ5IDJEIFJlYWRlcnMuCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIG1hdHJpeCA9IG5ldyBCaXRNYXRyaXhfMSQ1LmRlZmF1bHQod2lkdGgsIGhlaWdodCk7CgkgICAgICAgIC8vIFF1aWNrbHkgY2FsY3VsYXRlcyB0aGUgaGlzdG9ncmFtIGJ5IHNhbXBsaW5nIGZvdXIgcm93cyBmcm9tIHRoZSBpbWFnZS4gVGhpcyBwcm92ZWQgdG8gYmUKCSAgICAgICAgLy8gbW9yZSByb2J1c3Qgb24gdGhlIGJsYWNrYm94IHRlc3RzIHRoYW4gc2FtcGxpbmcgYSBkaWFnb25hbCBhcyB3ZSB1c2VkIHRvIGRvLgoJICAgICAgICB0aGlzLmluaXRBcnJheXMod2lkdGgpOwoJICAgICAgICB2YXIgbG9jYWxCdWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB5ID0gMTsgeSA8IDU7IHkrKykgewoJICAgICAgICAgICAgdmFyIHJvdyA9IE1hdGguZmxvb3IoKGhlaWdodCAqIHkpIC8gNSk7CgkgICAgICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzXzEgPSBzb3VyY2UuZ2V0Um93KHJvdywgdGhpcy5sdW1pbmFuY2VzKTsKCSAgICAgICAgICAgIHZhciByaWdodCA9IE1hdGguZmxvb3IoKHdpZHRoICogNCkgLyA1KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSBNYXRoLmZsb29yKHdpZHRoIC8gNSk7IHggPCByaWdodDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzXzFbeF0gJiAweGZmOwoJICAgICAgICAgICAgICAgIGxvY2FsQnVja2V0c1twaXhlbCA+PiBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUXSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBibGFja1BvaW50ID0gR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludChsb2NhbEJ1Y2tldHMpOwoJICAgICAgICAvLyBXZSBkZWxheSByZWFkaW5nIHRoZSBlbnRpcmUgaW1hZ2UgbHVtaW5hbmNlIHVudGlsIHRoZSBibGFjayBwb2ludCBlc3RpbWF0aW9uIHN1Y2NlZWRzLgoJICAgICAgICAvLyBBbHRob3VnaCB3ZSBlbmQgdXAgcmVhZGluZyBmb3VyIHJvd3MgdHdpY2UsIGl0IGlzIGNvbnNpc3RlbnQgd2l0aCBvdXIgbW90dG8gb2YKCSAgICAgICAgLy8gImZhaWwgcXVpY2tseSIgd2hpY2ggaXMgbmVjZXNzYXJ5IGZvciBjb250aW51b3VzIHNjYW5uaW5nLgoJICAgICAgICB2YXIgbG9jYWxMdW1pbmFuY2VzID0gc291cmNlLmdldE1hdHJpeCgpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCB3aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBpeGVsID0gbG9jYWxMdW1pbmFuY2VzW29mZnNldCArIHhdICYgMHhmZjsKCSAgICAgICAgICAgICAgICBpZiAocGl4ZWwgPCBibGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgIG1hdHJpeC5zZXQoeCwgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBtYXRyaXg7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLnByb3RvdHlwZS5jcmVhdGVCaW5hcml6ZXIgPSBmdW5jdGlvbiAoc291cmNlKSB7CgkgICAgICAgIHJldHVybiBuZXcgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyKHNvdXJjZSk7CgkgICAgfTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIucHJvdG90eXBlLmluaXRBcnJheXMgPSBmdW5jdGlvbiAobHVtaW5hbmNlU2l6ZSAvKmludCovKSB7CgkgICAgICAgIGlmICh0aGlzLmx1bWluYW5jZXMubGVuZ3RoIDwgbHVtaW5hbmNlU2l6ZSkgewoJICAgICAgICAgICAgdGhpcy5sdW1pbmFuY2VzID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KGx1bWluYW5jZVNpemUpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBidWNrZXRzID0gdGhpcy5idWNrZXRzOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQlVDS0VUUzsgeCsrKSB7CgkgICAgICAgICAgICBidWNrZXRzW3hdID0gMDsKCSAgICAgICAgfQoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLmVzdGltYXRlQmxhY2tQb2ludCA9IGZ1bmN0aW9uIChidWNrZXRzKSB7CgkgICAgICAgIC8vIEZpbmQgdGhlIHRhbGxlc3QgcGVhayBpbiB0aGUgaGlzdG9ncmFtLgoJICAgICAgICB2YXIgbnVtQnVja2V0cyA9IGJ1Y2tldHMubGVuZ3RoOwoJICAgICAgICB2YXIgbWF4QnVja2V0Q291bnQgPSAwOwoJICAgICAgICB2YXIgZmlyc3RQZWFrID0gMDsKCSAgICAgICAgdmFyIGZpcnN0UGVha1NpemUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgaWYgKGJ1Y2tldHNbeF0gPiBmaXJzdFBlYWtTaXplKSB7CgkgICAgICAgICAgICAgICAgZmlyc3RQZWFrID0geDsKCSAgICAgICAgICAgICAgICBmaXJzdFBlYWtTaXplID0gYnVja2V0c1t4XTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChidWNrZXRzW3hdID4gbWF4QnVja2V0Q291bnQpIHsKCSAgICAgICAgICAgICAgICBtYXhCdWNrZXRDb3VudCA9IGJ1Y2tldHNbeF07CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCB0aGUgc2Vjb25kLXRhbGxlc3QgcGVhayB3aGljaCBpcyBzb21ld2hhdCBmYXIgZnJvbSB0aGUgdGFsbGVzdCBwZWFrLgoJICAgICAgICB2YXIgc2Vjb25kUGVhayA9IDA7CgkgICAgICAgIHZhciBzZWNvbmRQZWFrU2NvcmUgPSAwOwoJICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG51bUJ1Y2tldHM7IHgrKykgewoJICAgICAgICAgICAgdmFyIGRpc3RhbmNlVG9CaWdnZXN0ID0geCAtIGZpcnN0UGVhazsKCSAgICAgICAgICAgIC8vIEVuY291cmFnZSBtb3JlIGRpc3RhbnQgc2Vjb25kIHBlYWtzIGJ5IG11bHRpcGx5aW5nIGJ5IHNxdWFyZSBvZiBkaXN0YW5jZS4KCSAgICAgICAgICAgIHZhciBzY29yZSA9IGJ1Y2tldHNbeF0gKiBkaXN0YW5jZVRvQmlnZ2VzdCAqIGRpc3RhbmNlVG9CaWdnZXN0OwoJICAgICAgICAgICAgaWYgKHNjb3JlID4gc2Vjb25kUGVha1Njb3JlKSB7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVhayA9IHg7CgkgICAgICAgICAgICAgICAgc2Vjb25kUGVha1Njb3JlID0gc2NvcmU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTWFrZSBzdXJlIGZpcnN0UGVhayBjb3JyZXNwb25kcyB0byB0aGUgYmxhY2sgcGVhay4KCSAgICAgICAgaWYgKGZpcnN0UGVhayA+IHNlY29uZFBlYWspIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZmlyc3RQZWFrOwoJICAgICAgICAgICAgZmlyc3RQZWFrID0gc2Vjb25kUGVhazsKCSAgICAgICAgICAgIHNlY29uZFBlYWsgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHRoZXJlIGlzIHRvbyBsaXR0bGUgY29udHJhc3QgaW4gdGhlIGltYWdlIHRvIHBpY2sgYSBtZWFuaW5nZnVsIGJsYWNrIHBvaW50LCB0aHJvdyByYXRoZXIKCSAgICAgICAgLy8gdGhhbiB3YXN0ZSB0aW1lIHRyeWluZyB0byBkZWNvZGUgdGhlIGltYWdlLCBhbmQgcmlzayBmYWxzZSBwb3NpdGl2ZXMuCgkgICAgICAgIGlmIChzZWNvbmRQZWFrIC0gZmlyc3RQZWFrIDw9IG51bUJ1Y2tldHMgLyAxNikgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRmluZCBhIHZhbGxleSBiZXR3ZWVuIHRoZW0gdGhhdCBpcyBsb3cgYW5kIGNsb3NlciB0byB0aGUgd2hpdGUgcGVhay4KCSAgICAgICAgdmFyIGJlc3RWYWxsZXkgPSBzZWNvbmRQZWFrIC0gMTsKCSAgICAgICAgdmFyIGJlc3RWYWxsZXlTY29yZSA9IC0xOwoJICAgICAgICBmb3IgKHZhciB4ID0gc2Vjb25kUGVhayAtIDE7IHggPiBmaXJzdFBlYWs7IHgtLSkgewoJICAgICAgICAgICAgdmFyIGZyb21GaXJzdCA9IHggLSBmaXJzdFBlYWs7CgkgICAgICAgICAgICB2YXIgc2NvcmUgPSBmcm9tRmlyc3QgKiBmcm9tRmlyc3QgKiAoc2Vjb25kUGVhayAtIHgpICogKG1heEJ1Y2tldENvdW50IC0gYnVja2V0c1t4XSk7CgkgICAgICAgICAgICBpZiAoc2NvcmUgPiBiZXN0VmFsbGV5U2NvcmUpIHsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5ID0geDsKCSAgICAgICAgICAgICAgICBiZXN0VmFsbGV5U2NvcmUgPSBzY29yZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gYmVzdFZhbGxleSA8PCBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUOwoJICAgIH07CgkgICAgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLkxVTUlOQU5DRV9CSVRTID0gNTsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX1NISUZUID0gOCAtIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuTFVNSU5BTkNFX0JVQ0tFVFMgPSAxIDw8IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplci5MVU1JTkFOQ0VfQklUUzsKCSAgICBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIuRU1QVFkgPSBVaW50OENsYW1wZWRBcnJheS5mcm9tKFswXSk7CgkgICAgcmV0dXJuIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCX0oQmluYXJpemVyXzEuZGVmYXVsdCkpOwoJR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyJDEuZGVmYXVsdCA9IEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplcjsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyRiID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEh5YnJpZEJpbmFyaXplciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyXzEgPSBHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXIkMTsKCXZhciBCaXRNYXRyaXhfMSQ0ID0gQml0TWF0cml4JDE7CgkvKioKCSAqIFRoaXMgY2xhc3MgaW1wbGVtZW50cyBhIGxvY2FsIHRocmVzaG9sZGluZyBhbGdvcml0aG0sIHdoaWNoIHdoaWxlIHNsb3dlciB0aGFuIHRoZQoJICogR2xvYmFsSGlzdG9ncmFtQmluYXJpemVyLCBpcyBmYWlybHkgZWZmaWNpZW50IGZvciB3aGF0IGl0IGRvZXMuIEl0IGlzIGRlc2lnbmVkIGZvcgoJICogaGlnaCBmcmVxdWVuY3kgaW1hZ2VzIG9mIGJhcmNvZGVzIHdpdGggYmxhY2sgZGF0YSBvbiB3aGl0ZSBiYWNrZ3JvdW5kcy4gRm9yIHRoaXMgYXBwbGljYXRpb24sCgkgKiBpdCBkb2VzIGEgbXVjaCBiZXR0ZXIgam9iIHRoYW4gYSBnbG9iYWwgYmxhY2twb2ludCB3aXRoIHNldmVyZSBzaGFkb3dzIGFuZCBncmFkaWVudHMuCgkgKiBIb3dldmVyIGl0IHRlbmRzIHRvIHByb2R1Y2UgYXJ0aWZhY3RzIG9uIGxvd2VyIGZyZXF1ZW5jeSBpbWFnZXMgYW5kIGlzIHRoZXJlZm9yZSBub3QKCSAqIGEgZ29vZCBnZW5lcmFsIHB1cnBvc2UgYmluYXJpemVyIGZvciB1c2VzIG91dHNpZGUgWlhpbmcuCgkgKgoJICogVGhpcyBjbGFzcyBleHRlbmRzIEdsb2JhbEhpc3RvZ3JhbUJpbmFyaXplciwgdXNpbmcgdGhlIG9sZGVyIGhpc3RvZ3JhbSBhcHByb2FjaCBmb3IgMUQgcmVhZGVycywKCSAqIGFuZCB0aGUgbmV3ZXIgbG9jYWwgYXBwcm9hY2ggZm9yIDJEIHJlYWRlcnMuIDFEIGRlY29kaW5nIHVzaW5nIGEgcGVyLXJvdyBoaXN0b2dyYW0gaXMgYWxyZWFkeQoJICogaW5oZXJlbnRseSBsb2NhbCwgYW5kIG9ubHkgZmFpbHMgZm9yIGhvcml6b250YWwgZ3JhZGllbnRzLiBXZSBjYW4gcmV2aXNpdCB0aGF0IHByb2JsZW0gbGF0ZXIsCgkgKiBidXQgZm9yIG5vdyBpdCB3YXMgbm90IGEgd2luIHRvIHVzZSBsb2NhbCBibG9ja3MgZm9yIDFELgoJICoKCSAqIFRoaXMgQmluYXJpemVyIGlzIHRoZSBkZWZhdWx0IGZvciB0aGUgdW5pdCB0ZXN0cyBhbmQgdGhlIHJlY29tbWVuZGVkIGNsYXNzIGZvciBsaWJyYXJ5IHVzZXJzLgoJICoKCSAqIEBhdXRob3IgZHN3aXRraW5AZ29vZ2xlLmNvbSAoRGFuaWVsIFN3aXRraW4pCgkgKi8KCXZhciBIeWJyaWRCaW5hcml6ZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGIoSHlicmlkQmluYXJpemVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIEh5YnJpZEJpbmFyaXplcihzb3VyY2UpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgc291cmNlKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5tYXRyaXggPSBudWxsOwoJICAgICAgICByZXR1cm4gX3RoaXM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIENhbGN1bGF0ZXMgdGhlIGZpbmFsIEJpdE1hdHJpeCBvbmNlIGZvciBhbGwgcmVxdWVzdHMuIFRoaXMgY291bGQgYmUgY2FsbGVkIG9uY2UgZnJvbSB0aGUKCSAgICAgKiBjb25zdHJ1Y3RvciBpbnN0ZWFkLCBidXQgdGhlcmUgYXJlIHNvbWUgYWR2YW50YWdlcyB0byBkb2luZyBpdCBsYXppbHksIHN1Y2ggYXMgbWFraW5nCgkgICAgICogcHJvZmlsaW5nIGVhc2llciwgYW5kIG5vdCBkb2luZyBoZWF2eSBsaWZ0aW5nIHdoZW4gY2FsbGVycyBkb24ndCBleHBlY3QgaXQuCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuZ2V0QmxhY2tNYXRyaXggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLm1hdHJpeCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIHZhciBzb3VyY2UgPSB0aGlzLmdldEx1bWluYW5jZVNvdXJjZSgpOwoJICAgICAgICB2YXIgd2lkdGggPSBzb3VyY2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IHNvdXJjZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKHdpZHRoID49IEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiAmJiBoZWlnaHQgPj0gSHlicmlkQmluYXJpemVyLk1JTklNVU1fRElNRU5TSU9OKSB7CgkgICAgICAgICAgICB2YXIgbHVtaW5hbmNlcyA9IHNvdXJjZS5nZXRNYXRyaXgoKTsKCSAgICAgICAgICAgIHZhciBzdWJXaWR0aCA9IHdpZHRoID4+IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKCh3aWR0aCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViV2lkdGgrKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciBzdWJIZWlnaHQgPSBoZWlnaHQgPj4gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICBpZiAoKGhlaWdodCAmIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0spICE9PSAwKSB7CgkgICAgICAgICAgICAgICAgc3ViSGVpZ2h0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgYmxhY2tQb2ludHMgPSBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMobHVtaW5hbmNlcywgc3ViV2lkdGgsIHN1YkhlaWdodCwgd2lkdGgsIGhlaWdodCk7CgkgICAgICAgICAgICB2YXIgbmV3TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDQuZGVmYXVsdCh3aWR0aCwgaGVpZ2h0KTsKCSAgICAgICAgICAgIEh5YnJpZEJpbmFyaXplci5jYWxjdWxhdGVUaHJlc2hvbGRGb3JCbG9jayhsdW1pbmFuY2VzLCBzdWJXaWR0aCwgc3ViSGVpZ2h0LCB3aWR0aCwgaGVpZ2h0LCBibGFja1BvaW50cywgbmV3TWF0cml4KTsKCSAgICAgICAgICAgIHRoaXMubWF0cml4ID0gbmV3TWF0cml4OwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgLy8gSWYgdGhlIGltYWdlIGlzIHRvbyBzbWFsbCwgZmFsbCBiYWNrIHRvIHRoZSBnbG9iYWwgaGlzdG9ncmFtIGFwcHJvYWNoLgoJICAgICAgICAgICAgdGhpcy5tYXRyaXggPSBfc3VwZXIucHJvdG90eXBlLmdldEJsYWNrTWF0cml4LmNhbGwodGhpcyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMubWF0cml4OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEh5YnJpZEJpbmFyaXplci5wcm90b3R5cGUuY3JlYXRlQmluYXJpemVyID0gZnVuY3Rpb24gKHNvdXJjZSkgewoJICAgICAgICByZXR1cm4gbmV3IEh5YnJpZEJpbmFyaXplcihzb3VyY2UpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogRm9yIGVhY2ggYmxvY2sgaW4gdGhlIGltYWdlLCBjYWxjdWxhdGUgdGhlIGF2ZXJhZ2UgYmxhY2sgcG9pbnQgdXNpbmcgYSA1eDUgZ3JpZAoJICAgICAqIG9mIHRoZSBibG9ja3MgYXJvdW5kIGl0LiBBbHNvIGhhbmRsZXMgdGhlIGNvcm5lciBjYXNlcyAoZnJhY3Rpb25hbCBibG9ja3MgYXJlIGNvbXB1dGVkIGJhc2VkCgkgICAgICogb24gdGhlIGxhc3QgcGl4ZWxzIGluIHRoZSByb3cvY29sdW1uIHdoaWNoIGFyZSBhbHNvIHVzZWQgaW4gdGhlIHByZXZpb3VzIGJsb2NrKS4KCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlVGhyZXNob2xkRm9yQmxvY2sgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBibGFja1BvaW50cywgbWF0cml4KSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBzdWJIZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgdG9wXzEgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHksIDIsIHN1YkhlaWdodCAtIDMpOwoJICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBzdWJXaWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHhvZmZzZXQgPSB4IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgICAgIGlmICh4b2Zmc2V0ID4gbWF4WE9mZnNldCkgewoJICAgICAgICAgICAgICAgICAgICB4b2Zmc2V0ID0gbWF4WE9mZnNldDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgdmFyIGxlZnQgPSBIeWJyaWRCaW5hcml6ZXIuY2FwKHgsIDIsIHN1YldpZHRoIC0gMyk7CgkgICAgICAgICAgICAgICAgdmFyIHN1bSA9IDA7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeiA9IC0yOyB6IDw9IDI7IHorKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgYmxhY2tSb3cgPSBibGFja1BvaW50c1t0b3BfMSArIHpdOwoJICAgICAgICAgICAgICAgICAgICBzdW0gKz0gYmxhY2tSb3dbbGVmdCAtIDJdICsgYmxhY2tSb3dbbGVmdCAtIDFdICsgYmxhY2tSb3dbbGVmdF0gKyBibGFja1Jvd1tsZWZ0ICsgMV0gKyBibGFja1Jvd1tsZWZ0ICsgMl07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlID0gc3VtIC8gMjU7CgkgICAgICAgICAgICAgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrKGx1bWluYW5jZXMsIHhvZmZzZXQsIHlvZmZzZXQsIGF2ZXJhZ2UsIHdpZHRoLCBtYXRyaXgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FwID0gZnVuY3Rpb24gKHZhbHVlIC8qaW50Ki8sIG1pbiAvKmludCovLCBtYXggLyppbnQqLykgewoJICAgICAgICByZXR1cm4gdmFsdWUgPCBtaW4gPyBtaW4gOiB2YWx1ZSA+IG1heCA/IG1heCA6IHZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbGllcyBhIHNpbmdsZSB0aHJlc2hvbGQgdG8gYSBibG9jayBvZiBwaXhlbHMuCgkgICAgICovCgkgICAgSHlicmlkQmluYXJpemVyLnRocmVzaG9sZEJsb2NrID0gZnVuY3Rpb24gKGx1bWluYW5jZXMsIHhvZmZzZXQgLyppbnQqLywgeW9mZnNldCAvKmludCovLCB0aHJlc2hvbGQgLyppbnQqLywgc3RyaWRlIC8qaW50Ki8sIG1hdHJpeCkgewoJICAgICAgICBmb3IgKHZhciB5ID0gMCwgb2Zmc2V0ID0geW9mZnNldCAqIHN0cmlkZSArIHhvZmZzZXQ7IHkgPCBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsgeSsrLCBvZmZzZXQgKz0gc3RyaWRlKSB7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB4KyspIHsKCSAgICAgICAgICAgICAgICAvLyBDb21wYXJpc29uIG5lZWRzIHRvIGJlIDw9IHNvIHRoYXQgYmxhY2sgPT0gMCBwaXhlbHMgYXJlIGJsYWNrIGV2ZW4gaWYgdGhlIHRocmVzaG9sZCBpcyAwLgoJICAgICAgICAgICAgICAgIGlmICgobHVtaW5hbmNlc1tvZmZzZXQgKyB4XSAmIDB4RkYpIDw9IHRocmVzaG9sZCkgewoJICAgICAgICAgICAgICAgICAgICBtYXRyaXguc2V0KHhvZmZzZXQgKyB4LCB5b2Zmc2V0ICsgeSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBDYWxjdWxhdGVzIGEgc2luZ2xlIGJsYWNrIHBvaW50IGZvciBlYWNoIGJsb2NrIG9mIHBpeGVscyBhbmQgc2F2ZXMgaXQgYXdheS4KCSAgICAgKiBTZWUgdGhlIGZvbGxvd2luZyB0aHJlYWQgZm9yIGEgZGlzY3Vzc2lvbiBvZiB0aGlzIGFsZ29yaXRobToKCSAgICAgKiAgaHR0cDovL2dyb3Vwcy5nb29nbGUuY29tL2dyb3VwL3p4aW5nL2Jyb3dzZV90aHJlYWQvdGhyZWFkL2QwNmVmYTJjMzVhN2RkYzAKCSAgICAgKi8KCSAgICBIeWJyaWRCaW5hcml6ZXIuY2FsY3VsYXRlQmxhY2tQb2ludHMgPSBmdW5jdGlvbiAobHVtaW5hbmNlcywgc3ViV2lkdGggLyppbnQqLywgc3ViSGVpZ2h0IC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHZhciBtYXhZT2Zmc2V0ID0gaGVpZ2h0IC0gSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7CgkgICAgICAgIHZhciBtYXhYT2Zmc2V0ID0gd2lkdGggLSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRTsKCSAgICAgICAgLy8gdHNsaW50OmRpc2FibGUtbmV4dC1saW5lOndoaXRlc3BhY2UKCSAgICAgICAgdmFyIGJsYWNrUG9pbnRzID0gbmV3IEFycmF5KHN1YkhlaWdodCk7IC8vIHN1YldpZHRoCgkgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgc3ViSGVpZ2h0OyB5KyspIHsKCSAgICAgICAgICAgIGJsYWNrUG9pbnRzW3ldID0gbmV3IEludDMyQXJyYXkoc3ViV2lkdGgpOwoJICAgICAgICAgICAgdmFyIHlvZmZzZXQgPSB5IDw8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSOwoJICAgICAgICAgICAgaWYgKHlvZmZzZXQgPiBtYXhZT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgeW9mZnNldCA9IG1heFlPZmZzZXQ7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IHN1YldpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgeG9mZnNldCA9IHggPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7CgkgICAgICAgICAgICAgICAgaWYgKHhvZmZzZXQgPiBtYXhYT2Zmc2V0KSB7CgkgICAgICAgICAgICAgICAgICAgIHhvZmZzZXQgPSBtYXhYT2Zmc2V0OwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB2YXIgc3VtID0gMDsKCSAgICAgICAgICAgICAgICB2YXIgbWluID0gMHhGRjsKCSAgICAgICAgICAgICAgICB2YXIgbWF4ID0gMDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciB5eSA9IDAsIG9mZnNldCA9IHlvZmZzZXQgKiB3aWR0aCArIHhvZmZzZXQ7IHl5IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHl5KyssIG9mZnNldCArPSB3aWR0aCkgewoJICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwaXhlbCA9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgIHN1bSArPSBwaXhlbDsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0aWxsIGxvb2tpbmcgZm9yIGdvb2QgY29udHJhc3QKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChwaXhlbCA8IG1pbikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1pbiA9IHBpeGVsOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHBpeGVsID4gbWF4KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWF4ID0gcGl4ZWw7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgLy8gc2hvcnQtY2lyY3VpdCBtaW4vbWF4IHRlc3RzIG9uY2UgZHluYW1pYyByYW5nZSBpcyBtZXQKCSAgICAgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA+IEh5YnJpZEJpbmFyaXplci5NSU5fRFlOQU1JQ19SQU5HRSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gZmluaXNoIHRoZSByZXN0IG9mIHRoZSByb3dzIHF1aWNrbHkKCSAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoeXkrKywgb2Zmc2V0ICs9IHdpZHRoOyB5eSA8IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFOyB5eSsrLCBvZmZzZXQgKz0gd2lkdGgpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciB4eCA9IDA7IHh4IDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkU7IHh4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3VtICs9IGx1bWluYW5jZXNbb2Zmc2V0ICsgeHhdICYgMHhGRjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgLy8gVGhlIGRlZmF1bHQgZXN0aW1hdGUgaXMgdGhlIGF2ZXJhZ2Ugb2YgdGhlIHZhbHVlcyBpbiB0aGUgYmxvY2suCgkgICAgICAgICAgICAgICAgdmFyIGF2ZXJhZ2UgPSBzdW0gPj4gKEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSICogMik7CgkgICAgICAgICAgICAgICAgaWYgKG1heCAtIG1pbiA8PSBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gSWYgdmFyaWF0aW9uIHdpdGhpbiB0aGUgYmxvY2sgaXMgbG93LCBhc3N1bWUgdGhpcyBpcyBhIGJsb2NrIHdpdGggb25seSBsaWdodCBvciBvbmx5CgkgICAgICAgICAgICAgICAgICAgIC8vIGRhcmsgcGl4ZWxzLiBJbiB0aGF0IGNhc2Ugd2UgZG8gbm90IHdhbnQgdG8gdXNlIHRoZSBhdmVyYWdlLCBhcyBpdCB3b3VsZCBkaXZpZGUgdGhpcwoJICAgICAgICAgICAgICAgICAgICAvLyBsb3cgY29udHJhc3QgYXJlYSBpbnRvIGJsYWNrIGFuZCB3aGl0ZSBwaXhlbHMsIGVzc2VudGlhbGx5IGNyZWF0aW5nIGRhdGEgb3V0IG9mIG5vaXNlLgoJICAgICAgICAgICAgICAgICAgICAvLwoJICAgICAgICAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBhc3N1bXB0aW9uIGlzIHRoYXQgdGhlIGJsb2NrIGlzIGxpZ2h0L2JhY2tncm91bmQuIFNpbmNlIG5vIGVzdGltYXRlIGZvcgoJICAgICAgICAgICAgICAgICAgICAvLyB0aGUgbGV2ZWwgb2YgZGFyayBwaXhlbHMgZXhpc3RzIGxvY2FsbHksIHVzZSBoYWxmIHRoZSBtaW4gZm9yIHRoZSBibG9jay4KCSAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IG1pbiAvIDI7CgkgICAgICAgICAgICAgICAgICAgIGlmICh5ID4gMCAmJiB4ID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ29ycmVjdCB0aGUgIndoaXRlIGJhY2tncm91bmQiIGFzc3VtcHRpb24gZm9yIGJsb2NrcyB0aGF0IGhhdmUgbmVpZ2hib3JzIGJ5IGNvbXBhcmluZwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIHBpeGVscyBpbiB0aGlzIGJsb2NrIHRvIHRoZSBwcmV2aW91c2x5IGNhbGN1bGF0ZWQgYmxhY2sgcG9pbnRzLiBUaGlzIGlzIGJhc2VkIG9uCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGUgZmFjdCB0aGF0IGRhcmsgYmFyY29kZSBzeW1ib2xvZ3kgaXMgYWx3YXlzIHN1cnJvdW5kZWQgYnkgc29tZSBhbW91bnQgb2YgbGlnaHQKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJhY2tncm91bmQgZm9yIHdoaWNoIHJlYXNvbmFibGUgYmxhY2sgcG9pbnQgZXN0aW1hdGVzIHdlcmUgbWFkZS4gVGhlIGJwIGVzdGltYXRlZCBhdAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlIGJvdW5kYXJpZXMgaXMgdXNlZCBmb3IgdGhlIGludGVyaW9yLgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIChtaW4gPCBicCkgaXMgYXJiaXRyYXJ5IGJ1dCB3b3JrcyBiZXR0ZXIgdGhhbiBvdGhlciBoZXVyaXN0aWNzIHRoYXQgd2VyZSB0cmllZC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50ID0gKGJsYWNrUG9pbnRzW3kgLSAxXVt4XSArICgyICogYmxhY2tQb2ludHNbeV1beCAtIDFdKSArIGJsYWNrUG9pbnRzW3kgLSAxXVt4IC0gMV0pIC8gNDsKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW4gPCBhdmVyYWdlTmVpZ2hib3JCbGFja1BvaW50KSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXZlcmFnZSA9IGF2ZXJhZ2VOZWlnaGJvckJsYWNrUG9pbnQ7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgYmxhY2tQb2ludHNbeV1beF0gPSBhdmVyYWdlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBibGFja1BvaW50czsKCSAgICB9OwoJICAgIC8vIFRoaXMgY2xhc3MgdXNlcyA1eDUgYmxvY2tzIHRvIGNvbXB1dGUgbG9jYWwgbHVtaW5hbmNlLCB3aGVyZSBlYWNoIGJsb2NrIGlzIDh4OCBwaXhlbHMuCgkgICAgLy8gU28gdGhpcyBpcyB0aGUgc21hbGxlc3QgZGltZW5zaW9uIGluIGVhY2ggYXhpcyB3ZSBjYW4gYWNjZXB0LgoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX1BPV0VSID0gMzsKCSAgICBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSA9IDEgPDwgSHlicmlkQmluYXJpemVyLkJMT0NLX1NJWkVfUE9XRVI7IC8vIC4uLjAxMDAuLi4wMAoJICAgIEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFX01BU0sgPSBIeWJyaWRCaW5hcml6ZXIuQkxPQ0tfU0laRSAtIDE7IC8vIC4uLjAwMTEuLi4xMQoJICAgIEh5YnJpZEJpbmFyaXplci5NSU5JTVVNX0RJTUVOU0lPTiA9IEh5YnJpZEJpbmFyaXplci5CTE9DS19TSVpFICogNTsKCSAgICBIeWJyaWRCaW5hcml6ZXIuTUlOX0RZTkFNSUNfUkFOR0UgPSAyNDsKCSAgICByZXR1cm4gSHlicmlkQmluYXJpemVyOwoJfShHbG9iYWxIaXN0b2dyYW1CaW5hcml6ZXJfMS5kZWZhdWx0KSk7Cgl2YXIgX2RlZmF1bHQkMiA9IEh5YnJpZEJpbmFyaXplciQxLmRlZmF1bHQgPSBIeWJyaWRCaW5hcml6ZXI7CgoJdmFyIFJHQkx1bWluYW5jZVNvdXJjZSQxID0ge307CgoJdmFyIEludmVydGVkTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgl2YXIgTHVtaW5hbmNlU291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgU3RyaW5nQnVpbGRlcl8xJDEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMSA9IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uJDE7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nIHsqLwoJLyoqCgkgKiBUaGUgcHVycG9zZSBvZiB0aGlzIGNsYXNzIGhpZXJhcmNoeSBpcyB0byBhYnN0cmFjdCBkaWZmZXJlbnQgYml0bWFwIGltcGxlbWVudGF0aW9ucyBhY3Jvc3MKCSAqIHBsYXRmb3JtcyBpbnRvIGEgc3RhbmRhcmQgaW50ZXJmYWNlIGZvciByZXF1ZXN0aW5nIGdyZXlzY2FsZSBsdW1pbmFuY2UgdmFsdWVzLiBUaGUgaW50ZXJmYWNlCgkgKiBvbmx5IHByb3ZpZGVzIGltbXV0YWJsZSBtZXRob2RzOyB0aGVyZWZvcmUgY3JvcCBhbmQgcm90YXRpb24gY3JlYXRlIGNvcGllcy4gVGhpcyBpcyB0byBlbnN1cmUKCSAqIHRoYXQgb25lIFJlYWRlciBkb2VzIG5vdCBtb2RpZnkgdGhlIG9yaWdpbmFsIGx1bWluYW5jZSBzb3VyY2UgYW5kIGxlYXZlIGl0IGluIGFuIHVua25vd24gc3RhdGUKCSAqIGZvciBvdGhlciBSZWFkZXJzIGluIHRoZSBjaGFpbi4KCSAqCgkgKiBAYXV0aG9yIGRzd2l0a2luQGdvb2dsZS5jb20gKERhbmllbCBTd2l0a2luKQoJICovCgl2YXIgTHVtaW5hbmNlU291cmNlID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEx1bWluYW5jZVNvdXJjZSh3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aGlzLndpZHRoID0gd2lkdGg7CgkgICAgICAgIHRoaXMuaGVpZ2h0ID0gaGVpZ2h0OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIFRoZSB3aWR0aCBvZiB0aGUgYml0bWFwLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLndpZHRoOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBUaGUgaGVpZ2h0IG9mIHRoZSBiaXRtYXAuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRIZWlnaHQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmhlaWdodDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNyb3BwaW5nLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBSZXR1cm5zIGEgbmV3IG9iamVjdCB3aXRoIGNyb3BwZWQgaW1hZ2UgZGF0YS4gSW1wbGVtZW50YXRpb25zIG1heSBrZWVwIGEgcmVmZXJlbmNlIHRvIHRoZQoJICAgICAqIG9yaWdpbmFsIGRhdGEgcmF0aGVyIHRoYW4gYSBjb3B5LiBPbmx5IGNhbGxhYmxlIGlmIGlzQ3JvcFN1cHBvcnRlZCgpIGlzIHRydWUuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gbGVmdCBUaGUgbGVmdCBjb29yZGluYXRlLCB3aGljaCBtdXN0IGJlIGluIFswLGdldFdpZHRoKCkpCgkgICAgICogQHBhcmFtIHRvcCBUaGUgdG9wIGNvb3JkaW5hdGUsIHdoaWNoIG11c3QgYmUgaW4gWzAsZ2V0SGVpZ2h0KCkpCgkgICAgICogQHBhcmFtIHdpZHRoIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIHRvIGNyb3AuCgkgICAgICogQHBhcmFtIGhlaWdodCBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgdG8gY3JvcC4KCSAgICAgKiBAcmV0dXJuIEEgY3JvcHBlZCB2ZXJzaW9uIG9mIHRoaXMgb2JqZWN0LgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCBjcm9wcGluZy4nKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gV2hldGhlciB0aGlzIHN1YmNsYXNzIHN1cHBvcnRzIGNvdW50ZXItY2xvY2t3aXNlIHJvdGF0aW9uLgoJICAgICAqLwoJICAgIEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgYSBuZXcgb2JqZWN0IHdpdGggcm90YXRlZCBpbWFnZSBkYXRhIGJ5IDkwIGRlZ3JlZXMgY291bnRlcmNsb2Nrd2lzZS4KCSAgICAgKiBPbmx5IGNhbGxhYmxlIGlmIHtAbGluayAjaXNSb3RhdGVTdXBwb3J0ZWQoKX0gaXMgdHJ1ZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gQSByb3RhdGVkIHZlcnNpb24gb2YgdGhpcyBvYmplY3QuCgkgICAgICovCgkgICAgTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRPcGVyYXRpb25FeGNlcHRpb25fMS5kZWZhdWx0KCdUaGlzIGx1bWluYW5jZSBzb3VyY2UgZG9lcyBub3Qgc3VwcG9ydCByb3RhdGlvbiBieSA5MCBkZWdyZWVzLicpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogUmV0dXJucyBhIG5ldyBvYmplY3Qgd2l0aCByb3RhdGVkIGltYWdlIGRhdGEgYnkgNDUgZGVncmVlcyBjb3VudGVyY2xvY2t3aXNlLgoJICAgICAqIE9ubHkgY2FsbGFibGUgaWYge0BsaW5rICNpc1JvdGF0ZVN1cHBvcnRlZCgpfSBpcyB0cnVlLgoJICAgICAqCgkgICAgICogQHJldHVybiBBIHJvdGF0ZWQgdmVyc2lvbiBvZiB0aGlzIG9iamVjdC4KCSAgICAgKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnJvdGF0ZUNvdW50ZXJDbG9ja3dpc2U0NSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkT3BlcmF0aW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnVGhpcyBsdW1pbmFuY2Ugc291cmNlIGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24gYnkgNDUgZGVncmVlcy4nKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgcm93ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHRoaXMud2lkdGgpOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFN0cmluZ0J1aWxkZXJfMSQxLmRlZmF1bHQoKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCB0aGlzLmhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgc291cmNlUm93ID0gdGhpcy5nZXRSb3coeSwgcm93KTsKCSAgICAgICAgICAgIGZvciAodmFyIHggPSAwOyB4IDwgdGhpcy53aWR0aDsgeCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGx1bWluYW5jZSA9IHNvdXJjZVJvd1t4XSAmIDB4RkY7CgkgICAgICAgICAgICAgICAgdmFyIGMgPSB2b2lkIDA7CgkgICAgICAgICAgICAgICAgaWYgKGx1bWluYW5jZSA8IDB4NDApIHsKCSAgICAgICAgICAgICAgICAgICAgYyA9ICcjJzsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSBpZiAobHVtaW5hbmNlIDwgMHg4MCkgewoJICAgICAgICAgICAgICAgICAgICBjID0gJysnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIGlmIChsdW1pbmFuY2UgPCAweEMwKSB7CgkgICAgICAgICAgICAgICAgICAgIGMgPSAnLic7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICBjID0gJyAnOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICByZXN1bHQuYXBwZW5kKGMpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZCgnXG4nKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0LnRvU3RyaW5nKCk7CgkgICAgfTsKCSAgICByZXR1cm4gTHVtaW5hbmNlU291cmNlOwoJfSgpKTsKCUx1bWluYW5jZVNvdXJjZSQxLmRlZmF1bHQgPSBMdW1pbmFuY2VTb3VyY2U7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA5IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMkYSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbnZlcnRlZEx1bWluYW5jZVNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEkMSA9IEx1bWluYW5jZVNvdXJjZSQxOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogQSB3cmFwcGVyIGltcGxlbWVudGF0aW9uIG9mIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHdoaWNoIGludmVydHMgdGhlIGx1bWluYW5jZXMgaXQgcmV0dXJucyAtLSBibGFjayBiZWNvbWVzCgkgKiB3aGl0ZSBhbmQgdmljZSB2ZXJzYSwgYW5kIGVhY2ggdmFsdWUgYmVjb21lcyAoMjU1LXZhbHVlKS4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJGEoSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UsIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UoZGVsZWdhdGUpIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgZGVsZWdhdGUuZ2V0V2lkdGgoKSwgZGVsZWdhdGUuZ2V0SGVpZ2h0KCkpIHx8IHRoaXM7CgkgICAgICAgIF90aGlzLmRlbGVnYXRlID0gZGVsZWdhdGU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgdmFyIHNvdXJjZVJvdyA9IHRoaXMuZGVsZWdhdGUuZ2V0Um93KHksIHJvdyk7CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB3aWR0aDsgaSsrKSB7CgkgICAgICAgICAgICBzb3VyY2VSb3dbaV0gPSAvKihieXRlKSovICgyNTUgLSAoc291cmNlUm93W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBzb3VyY2VSb3c7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmdldE1hdHJpeCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIG1hdHJpeCA9IHRoaXMuZGVsZWdhdGUuZ2V0TWF0cml4KCk7CgkgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldFdpZHRoKCkgKiB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgaW52ZXJ0ZWRNYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkobGVuZ3RoKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewoJICAgICAgICAgICAgaW52ZXJ0ZWRNYXRyaXhbaV0gPSAvKihieXRlKSovICgyNTUgLSAobWF0cml4W2ldICYgMHhGRikpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBpbnZlcnRlZE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNDcm9wU3VwcG9ydGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5kZWxlZ2F0ZS5pc0Nyb3BTdXBwb3J0ZWQoKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuY3JvcCA9IGZ1bmN0aW9uIChsZWZ0IC8qaW50Ki8sIHRvcCAvKmludCovLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUuY3JvcChsZWZ0LCB0b3AsIHdpZHRoLCBoZWlnaHQpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuaXNSb3RhdGVTdXBwb3J0ZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlLmlzUm90YXRlU3VwcG9ydGVkKCk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG9yaWdpbmFsIGRlbGVnYXRlIHtAbGluayBMdW1pbmFuY2VTb3VyY2V9IHNpbmNlIGludmVydCB1bmRvZXMgaXRzZWxmCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlbGVnYXRlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEludmVydGVkTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5yb3RhdGVDb3VudGVyQ2xvY2t3aXNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZSgpKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBJbnZlcnRlZEx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IEludmVydGVkTHVtaW5hbmNlU291cmNlKHRoaXMuZGVsZWdhdGUucm90YXRlQ291bnRlckNsb2Nrd2lzZTQ1KCkpOwoJICAgIH07CgkgICAgcmV0dXJuIEludmVydGVkTHVtaW5hbmNlU291cmNlOwoJfShMdW1pbmFuY2VTb3VyY2VfMSQxLmRlZmF1bHQpKTsKCUludmVydGVkTHVtaW5hbmNlU291cmNlJDEuZGVmYXVsdCA9IEludmVydGVkTHVtaW5hbmNlU291cmNlOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwOSBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDkgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUkdCTHVtaW5hbmNlU291cmNlJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcgeyovCgkgLy8gcmVxdWlyZWQgYmVjYXVzZSBvZiBjaXJjdWxhciBkZXBlbmRlbmNpZXMgYmV0d2VlbiBMdW1pbmFuY2VTb3VyY2UgYW5kIEludmVydGVkTHVtaW5hbmNlU291cmNlCgl2YXIgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMSA9IEludmVydGVkTHVtaW5hbmNlU291cmNlJDE7Cgl2YXIgTHVtaW5hbmNlU291cmNlXzEgPSBMdW1pbmFuY2VTb3VyY2UkMTsKCXZhciBTeXN0ZW1fMSQyID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNiA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBUaGlzIGNsYXNzIGlzIHVzZWQgdG8gaGVscCBkZWNvZGUgaW1hZ2VzIGZyb20gZmlsZXMgd2hpY2ggYXJyaXZlIGFzIFJHQiBkYXRhIGZyb20KCSAqIGFuIEFSR0IgcGl4ZWwgYXJyYXkuIEl0IGRvZXMgbm90IHN1cHBvcnQgcm90YXRpb24uCgkgKgoJICogQGF1dGhvciBkc3dpdGtpbkBnb29nbGUuY29tIChEYW5pZWwgU3dpdGtpbikKCSAqIEBhdXRob3IgQmV0YW1pbm9zCgkgKi8KCXZhciBSR0JMdW1pbmFuY2VTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDkoUkdCTHVtaW5hbmNlU291cmNlLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIFJHQkx1bWluYW5jZVNvdXJjZShsdW1pbmFuY2VzLCB3aWR0aCAvKmludCovLCBoZWlnaHQgLyppbnQqLywgZGF0YVdpZHRoIC8qaW50Ki8sIGRhdGFIZWlnaHQgLyppbnQqLywgbGVmdCAvKmludCovLCB0b3AgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzLCB3aWR0aCwgaGVpZ2h0KSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5kYXRhV2lkdGggPSBkYXRhV2lkdGg7CgkgICAgICAgIF90aGlzLmRhdGFIZWlnaHQgPSBkYXRhSGVpZ2h0OwoJICAgICAgICBfdGhpcy5sZWZ0ID0gbGVmdDsKCSAgICAgICAgX3RoaXMudG9wID0gdG9wOwoJICAgICAgICBpZiAobHVtaW5hbmNlcy5CWVRFU19QRVJfRUxFTUVOVCA9PT0gNCkgeyAvLyBJbnQzMkFycmF5CgkgICAgICAgICAgICB2YXIgc2l6ZSA9IHdpZHRoICogaGVpZ2h0OwoJICAgICAgICAgICAgdmFyIGx1bWluYW5jZXNVaW50OEFycmF5ID0gbmV3IFVpbnQ4Q2xhbXBlZEFycmF5KHNpemUpOwoJICAgICAgICAgICAgZm9yICh2YXIgb2Zmc2V0ID0gMDsgb2Zmc2V0IDwgc2l6ZTsgb2Zmc2V0KyspIHsKCSAgICAgICAgICAgICAgICB2YXIgcGl4ZWwgPSBsdW1pbmFuY2VzW29mZnNldF07CgkgICAgICAgICAgICAgICAgdmFyIHIgPSAocGl4ZWwgPj4gMTYpICYgMHhmZjsgLy8gcmVkCgkgICAgICAgICAgICAgICAgdmFyIGcyID0gKHBpeGVsID4+IDcpICYgMHgxZmU7IC8vIDIgKiBncmVlbgoJICAgICAgICAgICAgICAgIHZhciBiID0gcGl4ZWwgJiAweGZmOyAvLyBibHVlCgkgICAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGdyZWVuLWZhdm91cmluZyBhdmVyYWdlIGNoZWFwbHkKCSAgICAgICAgICAgICAgICBsdW1pbmFuY2VzVWludDhBcnJheVtvZmZzZXRdID0gLyooYnl0ZSkgKi8gKChyICsgZzIgKyBiKSAvIDQpICYgMHhGRjsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzVWludDhBcnJheTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIF90aGlzLmx1bWluYW5jZXMgPSBsdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGRhdGFXaWR0aCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YVdpZHRoID0gd2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gZGF0YUhlaWdodCkgewoJICAgICAgICAgICAgX3RoaXMuZGF0YUhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSBsZWZ0KSB7CgkgICAgICAgICAgICBfdGhpcy5sZWZ0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAodW5kZWZpbmVkID09PSB0b3ApIHsKCSAgICAgICAgICAgIF90aGlzLnRvcCA9IDA7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKF90aGlzLmxlZnQgKyB3aWR0aCA+IF90aGlzLmRhdGFXaWR0aCB8fCBfdGhpcy50b3AgKyBoZWlnaHQgPiBfdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNi5kZWZhdWx0KCdDcm9wIHJlY3RhbmdsZSBkb2VzIG5vdCBmaXQgd2l0aGluIGltYWdlIGRhdGEuJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5nZXRSb3cgPSBmdW5jdGlvbiAoeSAvKmludCovLCByb3cpIHsKCSAgICAgICAgaWYgKHkgPCAwIHx8IHkgPj0gdGhpcy5nZXRIZWlnaHQoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDYuZGVmYXVsdCgnUmVxdWVzdGVkIHJvdyBpcyBvdXRzaWRlIHRoZSBpbWFnZTogJyArIHkpOwoJICAgICAgICB9CgkgICAgICAgIHZhciB3aWR0aCA9IHRoaXMuZ2V0V2lkdGgoKTsKCSAgICAgICAgaWYgKHJvdyA9PT0gbnVsbCB8fCByb3cgPT09IHVuZGVmaW5lZCB8fCByb3cubGVuZ3RoIDwgd2lkdGgpIHsKCSAgICAgICAgICAgIHJvdyA9IG5ldyBVaW50OENsYW1wZWRBcnJheSh3aWR0aCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG9mZnNldCA9ICh5ICsgdGhpcy50b3ApICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIFN5c3RlbV8xJDIuZGVmYXVsdC5hcnJheWNvcHkodGhpcy5sdW1pbmFuY2VzLCBvZmZzZXQsIHJvdywgMCwgd2lkdGgpOwoJICAgICAgICByZXR1cm4gcm93OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJHQkx1bWluYW5jZVNvdXJjZS5wcm90b3R5cGUuZ2V0TWF0cml4ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgd2lkdGggPSB0aGlzLmdldFdpZHRoKCk7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBJZiB0aGUgY2FsbGVyIGFza3MgZm9yIHRoZSBlbnRpcmUgdW5kZXJseWluZyBpbWFnZSwgc2F2ZSB0aGUgY29weSBhbmQgZ2l2ZSB0aGVtIHRoZQoJICAgICAgICAvLyBvcmlnaW5hbCBkYXRhLiBUaGUgZG9jcyBzcGVjaWZpY2FsbHkgd2FybiB0aGF0IHJlc3VsdC5sZW5ndGggbXVzdCBiZSBpZ25vcmVkLgoJICAgICAgICBpZiAod2lkdGggPT09IHRoaXMuZGF0YVdpZHRoICYmIGhlaWdodCA9PT0gdGhpcy5kYXRhSGVpZ2h0KSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5sdW1pbmFuY2VzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhcmVhID0gd2lkdGggKiBoZWlnaHQ7CgkgICAgICAgIHZhciBtYXRyaXggPSBuZXcgVWludDhDbGFtcGVkQXJyYXkoYXJlYSk7CgkgICAgICAgIHZhciBpbnB1dE9mZnNldCA9IHRoaXMudG9wICogdGhpcy5kYXRhV2lkdGggKyB0aGlzLmxlZnQ7CgkgICAgICAgIC8vIElmIHRoZSB3aWR0aCBtYXRjaGVzIHRoZSBmdWxsIHdpZHRoIG9mIHRoZSB1bmRlcmx5aW5nIGRhdGEsIHBlcmZvcm0gYSBzaW5nbGUgY29weS4KCSAgICAgICAgaWYgKHdpZHRoID09PSB0aGlzLmRhdGFXaWR0aCkgewoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIDAsIGFyZWEpOwoJICAgICAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICAgICAgfQoJICAgICAgICAvLyBPdGhlcndpc2UgY29weSBvbmUgY3JvcHBlZCByb3cgYXQgYSB0aW1lLgoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IGhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgb3V0cHV0T2Zmc2V0ID0geSAqIHdpZHRoOwoJICAgICAgICAgICAgU3lzdGVtXzEkMi5kZWZhdWx0LmFycmF5Y29weSh0aGlzLmx1bWluYW5jZXMsIGlucHV0T2Zmc2V0LCBtYXRyaXgsIG91dHB1dE9mZnNldCwgd2lkdGgpOwoJICAgICAgICAgICAgaW5wdXRPZmZzZXQgKz0gdGhpcy5kYXRhV2lkdGg7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSR0JMdW1pbmFuY2VTb3VyY2UucHJvdG90eXBlLmlzQ3JvcFN1cHBvcnRlZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5jcm9wID0gZnVuY3Rpb24gKGxlZnQgLyppbnQqLywgdG9wIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovKSB7CgkgICAgICAgIHJldHVybiBuZXcgUkdCTHVtaW5hbmNlU291cmNlKHRoaXMubHVtaW5hbmNlcywgd2lkdGgsIGhlaWdodCwgdGhpcy5kYXRhV2lkdGgsIHRoaXMuZGF0YUhlaWdodCwgdGhpcy5sZWZ0ICsgbGVmdCwgdGhpcy50b3AgKyB0b3ApOwoJICAgIH07CgkgICAgUkdCTHVtaW5hbmNlU291cmNlLnByb3RvdHlwZS5pbnZlcnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiBuZXcgSW52ZXJ0ZWRMdW1pbmFuY2VTb3VyY2VfMS5kZWZhdWx0KHRoaXMpOwoJICAgIH07CgkgICAgcmV0dXJuIFJHQkx1bWluYW5jZVNvdXJjZTsKCX0oTHVtaW5hbmNlU291cmNlXzEuZGVmYXVsdCkpOwoJdmFyIF9kZWZhdWx0JDEgPSBSR0JMdW1pbmFuY2VTb3VyY2UkMS5kZWZhdWx0ID0gUkdCTHVtaW5hbmNlU291cmNlOwoKCXZhciBRUkNvZGVSZWFkZXIkMSA9IHt9OwoKCXZhciBCYXJjb2RlRm9ybWF0JDEgPSB7fTsKCgkvKgoJICogRGlyZWN0IHBvcnQgdG8gVHlwZVNjcmlwdCBvZiBaWGluZyBieSBBZHJpYW4gVG/ImWPEgwoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoQmFyY29kZUZvcm1hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKgoJICogQ29weXJpZ2h0IDIwMDkgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogRW51bWVyYXRlcyBiYXJjb2RlIGZvcm1hdHMga25vd24gdG8gdGhpcyBwYWNrYWdlLiBQbGVhc2Uga2VlcCBhbHBoYWJldGl6ZWQuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJhcmNvZGVGb3JtYXQ7CgkoZnVuY3Rpb24gKEJhcmNvZGVGb3JtYXQpIHsKCSAgICAvKiogQXp0ZWMgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJBWlRFQyJdID0gMF0gPSAiQVpURUMiOwoJICAgIC8qKiBDT0RBQkFSIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREFCQVIiXSA9IDFdID0gIkNPREFCQVIiOwoJICAgIC8qKiBDb2RlIDM5IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfMzkiXSA9IDJdID0gIkNPREVfMzkiOwoJICAgIC8qKiBDb2RlIDkzIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkNPREVfOTMiXSA9IDNdID0gIkNPREVfOTMiOwoJICAgIC8qKiBDb2RlIDEyOCAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJDT0RFXzEyOCJdID0gNF0gPSAiQ09ERV8xMjgiOwoJICAgIC8qKiBEYXRhIE1hdHJpeCAyRCBiYXJjb2RlIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkRBVEFfTUFUUklYIl0gPSA1XSA9ICJEQVRBX01BVFJJWCI7CgkgICAgLyoqIEVBTi04IDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIkVBTl84Il0gPSA2XSA9ICJFQU5fOCI7CgkgICAgLyoqIEVBTi0xMyAxRCBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJFQU5fMTMiXSA9IDddID0gIkVBTl8xMyI7CgkgICAgLyoqIElURiAoSW50ZXJsZWF2ZWQgVHdvIG9mIEZpdmUpIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIklURiJdID0gOF0gPSAiSVRGIjsKCSAgICAvKiogTWF4aUNvZGUgMkQgYmFyY29kZSBmb3JtYXQuICovCgkgICAgQmFyY29kZUZvcm1hdFtCYXJjb2RlRm9ybWF0WyJNQVhJQ09ERSJdID0gOV0gPSAiTUFYSUNPREUiOwoJICAgIC8qKiBQREY0MTcgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUERGXzQxNyJdID0gMTBdID0gIlBERl80MTciOwoJICAgIC8qKiBRUiBDb2RlIDJEIGJhcmNvZGUgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUVJfQ09ERSJdID0gMTFdID0gIlFSX0NPREUiOwoJICAgIC8qKiBSU1MgMTQgKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlJTU18xNCJdID0gMTJdID0gIlJTU18xNCI7CgkgICAgLyoqIFJTUyBFWFBBTkRFRCAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiUlNTX0VYUEFOREVEIl0gPSAxM10gPSAiUlNTX0VYUEFOREVEIjsKCSAgICAvKiogVVBDLUEgMUQgZm9ybWF0LiAqLwoJICAgIEJhcmNvZGVGb3JtYXRbQmFyY29kZUZvcm1hdFsiVVBDX0EiXSA9IDE0XSA9ICJVUENfQSI7CgkgICAgLyoqIFVQQy1FIDFEIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FIl0gPSAxNV0gPSAiVVBDX0UiOwoJICAgIC8qKiBVUEMvRUFOIGV4dGVuc2lvbiBmb3JtYXQuIE5vdCBhIHN0YW5kLWFsb25lIGZvcm1hdC4gKi8KCSAgICBCYXJjb2RlRm9ybWF0W0JhcmNvZGVGb3JtYXRbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSAxNl0gPSAiVVBDX0VBTl9FWFRFTlNJT04iOwoJfSkoQmFyY29kZUZvcm1hdCB8fCAoQmFyY29kZUZvcm1hdCA9IHt9KSk7CglCYXJjb2RlRm9ybWF0JDEuZGVmYXVsdCA9IEJhcmNvZGVGb3JtYXQ7CgoJdmFyIFJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIFN5c3RlbV8xJDEgPSBTeXN0ZW0kMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBiYXJjb2RlIHdpdGhpbiBhbiBpbWFnZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocHJpdmF0ZSB0ZXh0OiBzdHJpbmcsCgkgICAgLy8gICAgICAgICAgICAgICBVaW50OEFycmF5IHJhd0J5dGVzLAoJICAgIC8vICAgICAgICAgICAgICAgUmVzdWx0UG9jb25zdCByZXN1bHRQb2ludHM6IEludDMyQXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICBCYXJjb2RlRm9ybWF0IGZvcm1hdCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmVzdWx0UG9pbnRzLCBmb3JtYXQsIFN5c3RlbS5jdXJyZW50VGltZU1pbGxpcygpKQoJICAgIC8vIH0KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IodGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgVWludDhBcnJheSByYXdCeXRlcywKCSAgICAvLyAgICAgICAgICAgICAgIFJlc3VsdFBvY29uc3QgcmVzdWx0UG9pbnRzOiBJbnQzMkFycmF5LAoJICAgIC8vICAgICAgICAgICAgICAgQmFyY29kZUZvcm1hdCBmb3JtYXQsCgkgICAgLy8gICAgICAgICAgICAgICBsb25nIHRpbWVzdGFtcCkgewoJICAgIC8vICAgdGhpcyh0ZXh0LCByYXdCeXRlcywgcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoLAoJICAgIC8vICAgICAgICByZXN1bHRQb2ludHMsIGZvcm1hdCwgdGltZXN0YW1wKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBSZXN1bHQodGV4dCwgcmF3Qnl0ZXMsIG51bUJpdHMsIHJlc3VsdFBvaW50cywgZm9ybWF0LCB0aW1lc3RhbXApIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPT09IHZvaWQgMCkgeyBudW1CaXRzID0gcmF3Qnl0ZXMgPT0gbnVsbCA/IDAgOiA4ICogcmF3Qnl0ZXMubGVuZ3RoOyB9CgkgICAgICAgIGlmICh0aW1lc3RhbXAgPT09IHZvaWQgMCkgeyB0aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsgfQoJICAgICAgICB0aGlzLnRleHQgPSB0ZXh0OwoJICAgICAgICB0aGlzLnJhd0J5dGVzID0gcmF3Qnl0ZXM7CgkgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gcmVzdWx0UG9pbnRzOwoJICAgICAgICB0aGlzLmZvcm1hdCA9IGZvcm1hdDsKCSAgICAgICAgdGhpcy50aW1lc3RhbXAgPSB0aW1lc3RhbXA7CgkgICAgICAgIHRoaXMudGV4dCA9IHRleHQ7CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gbnVtQml0cyB8fCBudWxsID09PSBudW1CaXRzKSB7CgkgICAgICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IG51bGwgfHwgcmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMubnVtQml0cyA9IG51bUJpdHM7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludHMgPSByZXN1bHRQb2ludHM7CgkgICAgICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0OwoJICAgICAgICB0aGlzLnJlc3VsdE1ldGFkYXRhID0gbnVsbDsKCSAgICAgICAgaWYgKHVuZGVmaW5lZCA9PT0gdGltZXN0YW1wIHx8IG51bGwgPT09IHRpbWVzdGFtcCkgewoJICAgICAgICAgICAgdGhpcy50aW1lc3RhbXAgPSBTeXN0ZW1fMSQxLmRlZmF1bHQuY3VycmVudFRpbWVNaWxsaXMoKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHRoaXMudGltZXN0YW1wID0gdGltZXN0YW1wOwoJICAgICAgICB9CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IHRleHQgZW5jb2RlZCBieSB0aGUgYmFyY29kZQoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGV4dDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcmF3IGJ5dGVzIGVuY29kZWQgYnkgdGhlIGJhcmNvZGUsIGlmIGFwcGxpY2FibGUsIG90aGVyd2lzZSB7QGNvZGUgbnVsbH0KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0TnVtQml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMubnVtQml0czsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gcG9pbnRzIHJlbGF0ZWQgdG8gdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGVzZSBhcmUgdHlwaWNhbGx5IHBvaW50cwoJICAgICAqICAgICAgICAgaWRlbnRpZnlpbmcgZmluZGVyIHBhdHRlcm5zIG9yIHRoZSBjb3JuZXJzIG9mIHRoZSBiYXJjb2RlLiBUaGUgZXhhY3QgbWVhbmluZyBpcwoJICAgICAqICAgICAgICAgc3BlY2lmaWMgdG8gdGhlIHR5cGUgb2YgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkLgoJICAgICAqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUuZ2V0UmVzdWx0UG9pbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBCYXJjb2RlRm9ybWF0fSByZXByZXNlbnRpbmcgdGhlIGZvcm1hdCBvZiB0aGUgYmFyY29kZSB0aGF0IHdhcyBkZWNvZGVkCgkgICAgICovCgkgICAgUmVzdWx0LnByb3RvdHlwZS5nZXRCYXJjb2RlRm9ybWF0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5mb3JtYXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHtAbGluayBNYXB9IG1hcHBpbmcge0BsaW5rIFJlc3VsdE1ldGFkYXRhVHlwZX0ga2V5cyB0byB2YWx1ZXMuIE1heSBiZQoJICAgICAqICAge0Bjb2RlIG51bGx9LiBUaGlzIGNvbnRhaW5zIG9wdGlvbmFsIG1ldGFkYXRhIGFib3V0IHdoYXQgd2FzIGRldGVjdGVkIGFib3V0IHRoZSBiYXJjb2RlLAoJICAgICAqICAgbGlrZSBvcmllbnRhdGlvbi4KCSAgICAgKi8KCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFJlc3VsdE1ldGFkYXRhID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRNZXRhZGF0YTsKCSAgICB9OwoJICAgIFJlc3VsdC5wcm90b3R5cGUucHV0TWV0YWRhdGEgPSBmdW5jdGlvbiAodHlwZSwgdmFsdWUpIHsKCSAgICAgICAgaWYgKHRoaXMucmVzdWx0TWV0YWRhdGEgPT09IG51bGwpIHsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0TWV0YWRhdGEgPSBuZXcgTWFwKCk7CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YS5zZXQodHlwZSwgdmFsdWUpOwoJICAgIH07CgkgICAgUmVzdWx0LnByb3RvdHlwZS5wdXRBbGxNZXRhZGF0YSA9IGZ1bmN0aW9uIChtZXRhZGF0YSkgewoJICAgICAgICBpZiAobWV0YWRhdGEgIT09IG51bGwpIHsKCSAgICAgICAgICAgIGlmICh0aGlzLnJlc3VsdE1ldGFkYXRhID09PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG1ldGFkYXRhOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRNZXRhZGF0YSA9IG5ldyBNYXAobWV0YWRhdGEpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmFkZFJlc3VsdFBvaW50cyA9IGZ1bmN0aW9uIChuZXdQb2ludHMpIHsKCSAgICAgICAgdmFyIG9sZFBvaW50cyA9IHRoaXMucmVzdWx0UG9pbnRzOwoJICAgICAgICBpZiAob2xkUG9pbnRzID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aGlzLnJlc3VsdFBvaW50cyA9IG5ld1BvaW50czsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChuZXdQb2ludHMgIT09IG51bGwgJiYgbmV3UG9pbnRzLmxlbmd0aCA+IDApIHsKCSAgICAgICAgICAgIHZhciBhbGxQb2ludHMgPSBuZXcgQXJyYXkob2xkUG9pbnRzLmxlbmd0aCArIG5ld1BvaW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgU3lzdGVtXzEkMS5kZWZhdWx0LmFycmF5Y29weShvbGRQb2ludHMsIDAsIGFsbFBvaW50cywgMCwgb2xkUG9pbnRzLmxlbmd0aCk7CgkgICAgICAgICAgICBTeXN0ZW1fMSQxLmRlZmF1bHQuYXJyYXljb3B5KG5ld1BvaW50cywgMCwgYWxsUG9pbnRzLCBvbGRQb2ludHMubGVuZ3RoLCBuZXdQb2ludHMubGVuZ3RoKTsKCSAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRzID0gYWxsUG9pbnRzOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZXN1bHQucHJvdG90eXBlLmdldFRpbWVzdGFtcCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMudGltZXN0YW1wOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRleHQ7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0OwoJfSgpKTsKCVJlc3VsdCQxLmRlZmF1bHQgPSBSZXN1bHQ7CgoJdmFyIFJlc3VsdE1ldGFkYXRhVHlwZSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA4IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZXN1bHRNZXRhZGF0YVR5cGUkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCS8qKgoJICogUmVwcmVzZW50cyBzb21lIHR5cGUgb2YgbWV0YWRhdGEgYWJvdXQgdGhlIHJlc3VsdCBvZiB0aGUgZGVjb2RpbmcgdGhhdCB0aGUgZGVjb2RlcgoJICogd2lzaGVzIHRvIGNvbW11bmljYXRlIGJhY2sgdG8gdGhlIGNhbGxlci4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlOwoJKGZ1bmN0aW9uIChSZXN1bHRNZXRhZGF0YVR5cGUpIHsKCSAgICAvKioKCSAgICAgKiBVbnNwZWNpZmllZCwgYXBwbGljYXRpb24tc3BlY2lmaWMgbWV0YWRhdGEuIE1hcHMgdG8gYW4gdW5zcGVjaWZpZWQge0BsaW5rIE9iamVjdH0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiT1RIRVIiXSA9IDBdID0gIk9USEVSIjsKCSAgICAvKioKCSAgICAgKiBEZW5vdGVzIHRoZSBsaWtlbHkgYXBwcm94aW1hdGUgb3JpZW50YXRpb24gb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLiBUaGlzIHZhbHVlCgkgICAgICogaXMgZ2l2ZW4gYXMgZGVncmVlcyByb3RhdGVkIGNsb2Nrd2lzZSBmcm9tIHRoZSBub3JtYWwsIHVwcmlnaHQgb3JpZW50YXRpb24uCgkgICAgICogRm9yIGV4YW1wbGUgYSAxRCBiYXJjb2RlIHdoaWNoIHdhcyBmb3VuZCBieSByZWFkaW5nIHRvcC10by1ib3R0b20gd291bGQgYmUKCSAgICAgKiBzYWlkIHRvIGhhdmUgb3JpZW50YXRpb24gIjkwIi4gVGhpcyBrZXkgbWFwcyB0byBhbiB7QGxpbmsgSW50ZWdlcn0gd2hvc2UKCSAgICAgKiB2YWx1ZSBpcyBpbiB0aGUgcmFuZ2UgWzAsMzYwKS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJPUklFTlRBVElPTiJdID0gMV0gPSAiT1JJRU5UQVRJT04iOwoJICAgIC8qKgoJICAgICAqIDxwPjJEIGJhcmNvZGUgZm9ybWF0cyB0eXBpY2FsbHkgZW5jb2RlIHRleHQsIGJ1dCBhbGxvdyBmb3IgYSBzb3J0IG9mICdieXRlIG1vZGUnCgkgICAgICogd2hpY2ggaXMgc29tZXRpbWVzIHVzZWQgdG8gZW5jb2RlIGJpbmFyeSBkYXRhLiBXaGlsZSB7QGxpbmsgUmVzdWx0fSBtYWtlcyBhdmFpbGFibGUKCSAgICAgKiB0aGUgY29tcGxldGUgcmF3IGJ5dGVzIGluIHRoZSBiYXJjb2RlIGZvciB0aGVzZSBmb3JtYXRzLCBpdCBkb2VzIG5vdCBvZmZlciB0aGUgYnl0ZXMKCSAgICAgKiBmcm9tIHRoZSBieXRlIHNlZ21lbnRzIGFsb25lLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWFwcyB0byBhIHtAbGluayBqYXZhLnV0aWwuTGlzdH0gb2YgYnl0ZSBhcnJheXMgY29ycmVzcG9uZGluZyB0byB0aGUKCSAgICAgKiByYXcgYnl0ZXMgaW4gdGhlIGJ5dGUgc2VnbWVudHMgaW4gdGhlIGJhcmNvZGUsIGluIG9yZGVyLjwvcD4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJCWVRFX1NFR01FTlRTIl0gPSAyXSA9ICJCWVRFX1NFR01FTlRTIjsKCSAgICAvKioKCSAgICAgKiBFcnJvciBjb3JyZWN0aW9uIGxldmVsIHVzZWQsIGlmIGFwcGxpY2FibGUuIFRoZSB2YWx1ZSB0eXBlIGRlcGVuZHMgb24gdGhlCgkgICAgICogZm9ybWF0LCBidXQgaXMgdHlwaWNhbGx5IGEgU3RyaW5nLgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiXSA9IDNdID0gIkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHBlcmlvZGljYWxzLCBpbmRpY2F0ZXMgdGhlIGlzc3VlIG51bWJlciBhcyBhbiB7QGxpbmsgSW50ZWdlcn0uCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiSVNTVUVfTlVNQkVSIl0gPSA0XSA9ICJJU1NVRV9OVU1CRVIiOwoJICAgIC8qKgoJICAgICAqIEZvciBzb21lIHByb2R1Y3RzLCBpbmRpY2F0ZXMgdGhlIHN1Z2dlc3RlZCByZXRhaWwgcHJpY2UgaW4gdGhlIGJhcmNvZGUgYXMgYQoJICAgICAqIGZvcm1hdHRlZCB7QGxpbmsgU3RyaW5nfS4KCSAgICAgKi8KCSAgICBSZXN1bHRNZXRhZGF0YVR5cGVbUmVzdWx0TWV0YWRhdGFUeXBlWyJTVUdHRVNURURfUFJJQ0UiXSA9IDVdID0gIlNVR0dFU1RFRF9QUklDRSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBwb3NzaWJsZSBjb3VudHJ5IG9mIG1hbnVmYWN0dXJlIGFzIGEge0BsaW5rIFN0cmluZ30gZGVub3RpbmcgdGhlCgkgICAgICogSVNPIGNvdW50cnkgY29kZS4gU29tZSBtYXAgdG8gbXVsdGlwbGUgcG9zc2libGUgY291bnRyaWVzLCBsaWtlICJVUy9DQSIuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUE9TU0lCTEVfQ09VTlRSWSJdID0gNl0gPSAiUE9TU0lCTEVfQ09VTlRSWSI7CgkgICAgLyoqCgkgICAgICogRm9yIHNvbWUgcHJvZHVjdHMsIHRoZSBleHRlbnNpb24gdGV4dAoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlVQQ19FQU5fRVhURU5TSU9OIl0gPSA3XSA9ICJVUENfRUFOX0VYVEVOU0lPTiI7CgkgICAgLyoqCgkgICAgICogUERGNDE3LXNwZWNpZmljIG1ldGFkYXRhCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiUERGNDE3X0VYVFJBX01FVEFEQVRBIl0gPSA4XSA9ICJQREY0MTdfRVhUUkFfTUVUQURBVEEiOwoJICAgIC8qKgoJICAgICAqIElmIHRoZSBjb2RlIGZvcm1hdCBzdXBwb3J0cyBzdHJ1Y3R1cmVkIGFwcGVuZCBhbmQgdGhlIGN1cnJlbnQgc2Nhbm5lZCBjb2RlIGlzIHBhcnQgb2Ygb25lIHRoZW4gdGhlCgkgICAgICogc2VxdWVuY2UgbnVtYmVyIGlzIGdpdmVuIHdpdGggaXQuCgkgICAgICovCgkgICAgUmVzdWx0TWV0YWRhdGFUeXBlW1Jlc3VsdE1ldGFkYXRhVHlwZVsiU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UiXSA9IDldID0gIlNUUlVDVFVSRURfQVBQRU5EX1NFUVVFTkNFIjsKCSAgICAvKioKCSAgICAgKiBJZiB0aGUgY29kZSBmb3JtYXQgc3VwcG9ydHMgc3RydWN0dXJlZCBhcHBlbmQgYW5kIHRoZSBjdXJyZW50IHNjYW5uZWQgY29kZSBpcyBwYXJ0IG9mIG9uZSB0aGVuIHRoZQoJICAgICAqIHBhcml0eSBpcyBnaXZlbiB3aXRoIGl0LgoJICAgICAqLwoJICAgIFJlc3VsdE1ldGFkYXRhVHlwZVtSZXN1bHRNZXRhZGF0YVR5cGVbIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSJdID0gMTBdID0gIlNUUlVDVFVSRURfQVBQRU5EX1BBUklUWSI7Cgl9KShSZXN1bHRNZXRhZGF0YVR5cGUgfHwgKFJlc3VsdE1ldGFkYXRhVHlwZSA9IHt9KSk7CglSZXN1bHRNZXRhZGF0YVR5cGUkMS5kZWZhdWx0ID0gUmVzdWx0TWV0YWRhdGFUeXBlOwoKCXZhciBEZWNvZGVyJDEgPSB7fTsKCgl2YXIgQ2hlY2tzdW1FeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkOCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShDaGVja3N1bUV4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkNCA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBDaGVja3N1bUV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkOChDaGVja3N1bUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBDaGVja3N1bUV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5nZXRDaGVja3N1bUluc3RhbmNlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gbmV3IENoZWNrc3VtRXhjZXB0aW9uKCk7CgkgICAgfTsKCSAgICBDaGVja3N1bUV4Y2VwdGlvbi5raW5kID0gJ0NoZWNrc3VtRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQ2hlY2tzdW1FeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCkpOwoJQ2hlY2tzdW1FeGNlcHRpb24kMS5kZWZhdWx0ID0gQ2hlY2tzdW1FeGNlcHRpb247CgoJdmFyIEdlbmVyaWNHRiQxID0ge307CgoJdmFyIEdlbmVyaWNHRlBvbHkkMSA9IHt9OwoKCXZhciBBYnN0cmFjdEdlbmVyaWNHRiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBYnN0cmFjdEdlbmVyaWNHRiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGNvbnRhaW5zIHV0aWxpdHkgbWV0aG9kcyBmb3IgcGVyZm9ybWluZyBtYXRoZW1hdGljYWwgb3BlcmF0aW9ucyBvdmVyCgkgKiB0aGUgR2Fsb2lzIEZpZWxkcy4gT3BlcmF0aW9ucyB1c2UgYSBnaXZlbiBwcmltaXRpdmUgcG9seW5vbWlhbCBpbiBjYWxjdWxhdGlvbnMuPC9wPgoJICoKCSAqIDxwPlRocm91Z2hvdXQgdGhpcyBwYWNrYWdlLCBlbGVtZW50cyBvZiB0aGUgR0YgYXJlIHJlcHJlc2VudGVkIGFzIGFuIHtAY29kZSBpbnR9CgkgKiBmb3IgY29udmVuaWVuY2UgYW5kIHNwZWVkIChidXQgYXQgdGhlIGNvc3Qgb2YgbWVtb3J5KS4KCSAqIDwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICogQGF1dGhvciBEYXZpZCBPbGl2aWVyCgkgKi8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBBYnN0cmFjdEdlbmVyaWNHRigpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiAyIHRvIHRoZSBwb3dlciBvZiBhIGluIEdGKHNpemUpCgkgICAgICovCgkgICAgQWJzdHJhY3RHZW5lcmljR0YucHJvdG90eXBlLmV4cCA9IGZ1bmN0aW9uIChhKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmV4cFRhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBiYXNlIDIgbG9nIG9mIGEgaW4gR0Yoc2l6ZSkKCSAgICAgKi8KCSAgICBBYnN0cmFjdEdlbmVyaWNHRi5wcm90b3R5cGUubG9nID0gZnVuY3Rpb24gKGEgLyppbnQqLykgewoJICAgICAgICBpZiAoYSA9PT0gMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDUuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiB0aGlzLmxvZ1RhYmxlW2FdOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogSW1wbGVtZW50cyBib3RoIGFkZGl0aW9uIGFuZCBzdWJ0cmFjdGlvbiAtLSB0aGV5IGFyZSB0aGUgc2FtZSBpbiBHRihzaXplKS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gc3VtL2RpZmZlcmVuY2Ugb2YgYSBhbmQgYgoJICAgICAqLwoJICAgIEFic3RyYWN0R2VuZXJpY0dGLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIGEgXiBiOwoJICAgIH07CgkgICAgcmV0dXJuIEFic3RyYWN0R2VuZXJpY0dGOwoJfSgpKTsKCUFic3RyYWN0R2VuZXJpY0dGJDEuZGVmYXVsdCA9IEFic3RyYWN0R2VuZXJpY0dGOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGUG9seSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5yZWVkc29sb21vbiB7Ki8KCXZhciBBYnN0cmFjdEdlbmVyaWNHRl8xJDEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIFN5c3RlbV8xID0gU3lzdGVtJDE7Cgl2YXIgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNCA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5SZXByZXNlbnRzIGEgcG9seW5vbWlhbCB3aG9zZSBjb2VmZmljaWVudHMgYXJlIGVsZW1lbnRzIG9mIGEgR0YuCgkgKiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBhcmUgaW1tdXRhYmxlLjwvcD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdlbmVyaWNHRlBvbHkgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGZpZWxkIHRoZSB7QGxpbmsgR2VuZXJpY0dGfSBpbnN0YW5jZSByZXByZXNlbnRpbmcgdGhlIGZpZWxkIHRvIHVzZQoJICAgICAqIHRvIHBlcmZvcm0gY29tcHV0YXRpb25zCgkgICAgICogQHBhcmFtIGNvZWZmaWNpZW50cyBjb2VmZmljaWVudHMgYXMgaW50cyByZXByZXNlbnRpbmcgZWxlbWVudHMgb2YgR0Yoc2l6ZSksIGFycmFuZ2VkCgkgICAgICogZnJvbSBtb3N0IHNpZ25pZmljYW50IChoaWdoZXN0LXBvd2VyIHRlcm0pIGNvZWZmaWNpZW50IHRvIGxlYXN0IHNpZ25pZmljYW50CgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYXJndW1lbnQgaXMgbnVsbCBvciBlbXB0eSwKCSAgICAgKiBvciBpZiBsZWFkaW5nIGNvZWZmaWNpZW50IGlzIDAgYW5kIHRoaXMgaXMgbm90IGEKCSAgICAgKiBjb25zdGFudCBwb2x5bm9taWFsICh0aGF0IGlzLCBpdCBpcyBub3QgdGhlIG1vbm9taWFsICIwIikKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBHZW5lcmljR0ZQb2x5KGZpZWxkLCBjb2VmZmljaWVudHMpIHsKCSAgICAgICAgaWYgKGNvZWZmaWNpZW50cy5sZW5ndGggPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0aGlzLmZpZWxkID0gZmllbGQ7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHNMZW5ndGggPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICBpZiAoY29lZmZpY2llbnRzTGVuZ3RoID4gMSAmJiBjb2VmZmljaWVudHNbMF0gPT09IDApIHsKCSAgICAgICAgICAgIC8vIExlYWRpbmcgdGVybSBtdXN0IGJlIG5vbi16ZXJvIGZvciBhbnl0aGluZyBleGNlcHQgdGhlIGNvbnN0YW50IHBvbHlub21pYWwgIjAiCgkgICAgICAgICAgICB2YXIgZmlyc3ROb25aZXJvID0gMTsKCSAgICAgICAgICAgIHdoaWxlIChmaXJzdE5vblplcm8gPCBjb2VmZmljaWVudHNMZW5ndGggJiYgY29lZmZpY2llbnRzW2ZpcnN0Tm9uWmVyb10gPT09IDApIHsKCSAgICAgICAgICAgICAgICBmaXJzdE5vblplcm8rKzsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmIChmaXJzdE5vblplcm8gPT09IGNvZWZmaWNpZW50c0xlbmd0aCkgewoJICAgICAgICAgICAgICAgIHRoaXMuY29lZmZpY2llbnRzID0gSW50MzJBcnJheS5mcm9tKFswXSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICB0aGlzLmNvZWZmaWNpZW50cyA9IG5ldyBJbnQzMkFycmF5KGNvZWZmaWNpZW50c0xlbmd0aCAtIGZpcnN0Tm9uWmVybyk7CgkgICAgICAgICAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkoY29lZmZpY2llbnRzLCBmaXJzdE5vblplcm8sIHRoaXMuY29lZmZpY2llbnRzLCAwLCB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGgpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdGhpcy5jb2VmZmljaWVudHMgPSBjb2VmZmljaWVudHM7CgkgICAgICAgIH0KCSAgICB9CgkgICAgR2VuZXJpY0dGUG9seS5wcm90b3R5cGUuZ2V0Q29lZmZpY2llbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGRlZ3JlZSBvZiB0aGlzIHBvbHlub21pYWwKCSAgICAgKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5nZXREZWdyZWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGlzIHBvbHlub21pYWwgaXMgdGhlIG1vbm9taWFsICIwIgoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmlzWmVybyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29lZmZpY2llbnRzWzBdID09PSAwOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBjb2VmZmljaWVudCBvZiB4XmRlZ3JlZSB0ZXJtIGluIHRoaXMgcG9seW5vbWlhbAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmdldENvZWZmaWNpZW50ID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvZWZmaWNpZW50c1t0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGggLSAxIC0gZGVncmVlXTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gZXZhbHVhdGlvbiBvZiB0aGlzIHBvbHlub21pYWwgYXQgYSBnaXZlbiBwb2ludAoJICAgICAqLwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmV2YWx1YXRlQXQgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHJldHVybiB0aGUgeF4wIGNvZWZmaWNpZW50CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgY29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciByZXN1bHQ7CgkgICAgICAgIGlmIChhID09PSAxKSB7CgkgICAgICAgICAgICAvLyBKdXN0IHRoZSBzdW0gb2YgdGhlIGNvZWZmaWNpZW50cwoJICAgICAgICAgICAgcmVzdWx0ID0gMDsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGhfMSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7IGkgIT09IGxlbmd0aF8xOyBpKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgY29lZmZpY2llbnQgPSBjb2VmZmljaWVudHNbaV07CgkgICAgICAgICAgICAgICAgcmVzdWx0ID0gQWJzdHJhY3RHZW5lcmljR0ZfMSQxLmRlZmF1bHQuYWRkT3JTdWJ0cmFjdChyZXN1bHQsIGNvZWZmaWNpZW50KTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgICAgIH0KCSAgICAgICAgcmVzdWx0ID0gY29lZmZpY2llbnRzWzBdOwoJICAgICAgICB2YXIgc2l6ZSA9IGNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgc2l6ZTsgaSsrKSB7CgkgICAgICAgICAgICByZXN1bHQgPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KGZpZWxkLm11bHRpcGx5KGEsIHJlc3VsdCksIGNvZWZmaWNpZW50c1tpXSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLmFkZE9yU3VidHJhY3QgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRoaXMuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiBvdGhlcjsKCSAgICAgICAgfQoJICAgICAgICBpZiAob3RoZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzbWFsbGVyQ29lZmZpY2llbnRzID0gdGhpcy5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBsYXJnZXJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIGlmIChzbWFsbGVyQ29lZmZpY2llbnRzLmxlbmd0aCA+IGxhcmdlckNvZWZmaWNpZW50cy5sZW5ndGgpIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gc21hbGxlckNvZWZmaWNpZW50czsKCSAgICAgICAgICAgIHNtYWxsZXJDb2VmZmljaWVudHMgPSBsYXJnZXJDb2VmZmljaWVudHM7CgkgICAgICAgICAgICBsYXJnZXJDb2VmZmljaWVudHMgPSB0ZW1wOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzdW1EaWZmID0gbmV3IEludDMyQXJyYXkobGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCk7CgkgICAgICAgIHZhciBsZW5ndGhEaWZmID0gbGFyZ2VyQ29lZmZpY2llbnRzLmxlbmd0aCAtIHNtYWxsZXJDb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICAvLyBDb3B5IGhpZ2gtb3JkZXIgdGVybXMgb25seSBmb3VuZCBpbiBoaWdoZXItZGVncmVlIHBvbHlub21pYWwncyBjb2VmZmljaWVudHMKCSAgICAgICAgU3lzdGVtXzEuZGVmYXVsdC5hcnJheWNvcHkobGFyZ2VyQ29lZmZpY2llbnRzLCAwLCBzdW1EaWZmLCAwLCBsZW5ndGhEaWZmKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IGxlbmd0aERpZmY7IGkgPCBsYXJnZXJDb2VmZmljaWVudHMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHN1bURpZmZbaV0gPSBBYnN0cmFjdEdlbmVyaWNHRl8xJDEuZGVmYXVsdC5hZGRPclN1YnRyYWN0KHNtYWxsZXJDb2VmZmljaWVudHNbaSAtIGxlbmd0aERpZmZdLCBsYXJnZXJDb2VmZmljaWVudHNbaV0pOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seSh0aGlzLmZpZWxkLCBzdW1EaWZmKTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5ID0gZnVuY3Rpb24gKG90aGVyKSB7CgkgICAgICAgIGlmICghdGhpcy5maWVsZC5lcXVhbHMob3RoZXIuZmllbGQpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdHZW5lcmljR0ZQb2x5cyBkbyBub3QgaGF2ZSBzYW1lIEdlbmVyaWNHRiBmaWVsZCcpOwoJICAgICAgICB9CgkgICAgICAgIGlmICh0aGlzLmlzWmVybygpIHx8IG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGFDb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIGFMZW5ndGggPSBhQ29lZmZpY2llbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGJDb2VmZmljaWVudHMgPSBvdGhlci5jb2VmZmljaWVudHM7CgkgICAgICAgIHZhciBiTGVuZ3RoID0gYkNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoYUxlbmd0aCArIGJMZW5ndGggLSAxKTsKCSAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5maWVsZDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhTGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBhQ29lZmYgPSBhQ29lZmZpY2llbnRzW2ldOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBiTGVuZ3RoOyBqKyspIHsKCSAgICAgICAgICAgICAgICBwcm9kdWN0W2kgKyBqXSA9IEFic3RyYWN0R2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocHJvZHVjdFtpICsgal0sIGZpZWxkLm11bHRpcGx5KGFDb2VmZiwgYkNvZWZmaWNpZW50c1tqXSkpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5tdWx0aXBseVNjYWxhciA9IGZ1bmN0aW9uIChzY2FsYXIgLyppbnQqLykgewoJICAgICAgICBpZiAoc2NhbGFyID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy5maWVsZC5nZXRaZXJvKCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHNjYWxhciA9PT0gMSkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXM7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHNpemUgPSB0aGlzLmNvZWZmaWNpZW50cy5sZW5ndGg7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBwcm9kdWN0ID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIHByb2R1Y3RbaV0gPSBmaWVsZC5tdWx0aXBseShjb2VmZmljaWVudHNbaV0sIHNjYWxhcik7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBHZW5lcmljR0ZQb2x5KGZpZWxkLCBwcm9kdWN0KTsKCSAgICB9OwoJICAgIEdlbmVyaWNHRlBvbHkucHJvdG90eXBlLm11bHRpcGx5QnlNb25vbWlhbCA9IGZ1bmN0aW9uIChkZWdyZWUgLyppbnQqLywgY29lZmZpY2llbnQgLyppbnQqLykgewoJICAgICAgICBpZiAoZGVncmVlIDwgMCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDQuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChjb2VmZmljaWVudCA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZmllbGQuZ2V0WmVybygpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSB0aGlzLmNvZWZmaWNpZW50czsKCSAgICAgICAgdmFyIHNpemUgPSBjb2VmZmljaWVudHMubGVuZ3RoOwoJICAgICAgICB2YXIgcHJvZHVjdCA9IG5ldyBJbnQzMkFycmF5KHNpemUgKyBkZWdyZWUpOwoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHNpemU7IGkrKykgewoJICAgICAgICAgICAgcHJvZHVjdFtpXSA9IGZpZWxkLm11bHRpcGx5KGNvZWZmaWNpZW50c1tpXSwgY29lZmZpY2llbnQpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seShmaWVsZCwgcHJvZHVjdCk7CgkgICAgfTsKCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS5kaXZpZGUgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKCF0aGlzLmZpZWxkLmVxdWFscyhvdGhlci5maWVsZCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoJ0dlbmVyaWNHRlBvbHlzIGRvIG5vdCBoYXZlIHNhbWUgR2VuZXJpY0dGIGZpZWxkJyk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG90aGVyLmlzWmVybygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkNC5kZWZhdWx0KCdEaXZpZGUgYnkgMCcpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIHZhciBxdW90aWVudCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHJlbWFpbmRlciA9IHRoaXM7CgkgICAgICAgIHZhciBkZW5vbWluYXRvckxlYWRpbmdUZXJtID0gb3RoZXIuZ2V0Q29lZmZpY2llbnQob3RoZXIuZ2V0RGVncmVlKCkpOwoJICAgICAgICB2YXIgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0gPSBmaWVsZC5pbnZlcnNlKGRlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICB3aGlsZSAocmVtYWluZGVyLmdldERlZ3JlZSgpID49IG90aGVyLmdldERlZ3JlZSgpICYmICFyZW1haW5kZXIuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgIHZhciBkZWdyZWVEaWZmZXJlbmNlID0gcmVtYWluZGVyLmdldERlZ3JlZSgpIC0gb3RoZXIuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICB2YXIgc2NhbGUgPSBmaWVsZC5tdWx0aXBseShyZW1haW5kZXIuZ2V0Q29lZmZpY2llbnQocmVtYWluZGVyLmdldERlZ3JlZSgpKSwgaW52ZXJzZURlbm9taW5hdG9yTGVhZGluZ1Rlcm0pOwoJICAgICAgICAgICAgdmFyIHRlcm0gPSBvdGhlci5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZmVyZW5jZSwgc2NhbGUpOwoJICAgICAgICAgICAgdmFyIGl0ZXJhdGlvblF1b3RpZW50ID0gZmllbGQuYnVpbGRNb25vbWlhbChkZWdyZWVEaWZmZXJlbmNlLCBzY2FsZSk7CgkgICAgICAgICAgICBxdW90aWVudCA9IHF1b3RpZW50LmFkZE9yU3VidHJhY3QoaXRlcmF0aW9uUXVvdGllbnQpOwoJICAgICAgICAgICAgcmVtYWluZGVyID0gcmVtYWluZGVyLmFkZE9yU3VidHJhY3QodGVybSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFtxdW90aWVudCwgcmVtYWluZGVyXTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBHZW5lcmljR0ZQb2x5LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIHJlc3VsdCA9ICcnOwoJICAgICAgICBmb3IgKHZhciBkZWdyZWUgPSB0aGlzLmdldERlZ3JlZSgpOyBkZWdyZWUgPj0gMDsgZGVncmVlLS0pIHsKCSAgICAgICAgICAgIHZhciBjb2VmZmljaWVudCA9IHRoaXMuZ2V0Q29lZmZpY2llbnQoZGVncmVlKTsKCSAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIGlmIChjb2VmZmljaWVudCA8IDApIHsKCSAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgLSAnOwoJICAgICAgICAgICAgICAgICAgICBjb2VmZmljaWVudCA9IC1jb2VmZmljaWVudDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICcgKyAnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgPT09IDAgfHwgY29lZmZpY2llbnQgIT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGFscGhhUG93ZXIgPSB0aGlzLmZpZWxkLmxvZyhjb2VmZmljaWVudCk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChhbHBoYVBvd2VyID09PSAwKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJzEnOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGFscGhhUG93ZXIgPT09IDEpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAnYSc7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgKz0gJ2FeJzsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSBhbHBoYVBvd2VyOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGlmIChkZWdyZWUgIT09IDApIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKGRlZ3JlZSA9PT0gMSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9ICd4JzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCArPSAneF4nOwoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ICs9IGRlZ3JlZTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIEdlbmVyaWNHRlBvbHk7Cgl9KCkpOwoJR2VuZXJpY0dGUG9seSQxLmRlZmF1bHQgPSBHZW5lcmljR0ZQb2x5OwoKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDcgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgRXhjZXB0aW9uXzEkMyA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcml0aG1ldGljRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ3KEFyaXRobWV0aWNFeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gQXJpdGhtZXRpY0V4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcml0aG1ldGljRXhjZXB0aW9uLmtpbmQgPSAnQXJpdGhtZXRpY0V4Y2VwdGlvbic7CgkgICAgcmV0dXJuIEFyaXRobWV0aWNFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCkpOwoJQXJpdGhtZXRpY0V4Y2VwdGlvbiQxLmRlZmF1bHQgPSBBcml0aG1ldGljRXhjZXB0aW9uOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoR2VuZXJpY0dGJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uLnJlZWRzb2xvbW9uIHsqLwoJdmFyIEdlbmVyaWNHRlBvbHlfMSQxID0gR2VuZXJpY0dGUG9seSQxOwoJdmFyIEFic3RyYWN0R2VuZXJpY0dGXzEgPSBBYnN0cmFjdEdlbmVyaWNHRiQxOwoJdmFyIEludGVnZXJfMSQxID0gSW50ZWdlciQxOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDMgPSBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBBcml0aG1ldGljRXhjZXB0aW9uXzEgPSBBcml0aG1ldGljRXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgY29udGFpbnMgdXRpbGl0eSBtZXRob2RzIGZvciBwZXJmb3JtaW5nIG1hdGhlbWF0aWNhbCBvcGVyYXRpb25zIG92ZXIKCSAqIHRoZSBHYWxvaXMgRmllbGRzLiBPcGVyYXRpb25zIHVzZSBhIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsIGluIGNhbGN1bGF0aW9ucy48L3A+CgkgKgoJICogPHA+VGhyb3VnaG91dCB0aGlzIHBhY2thZ2UsIGVsZW1lbnRzIG9mIHRoZSBHRiBhcmUgcmVwcmVzZW50ZWQgYXMgYW4ge0Bjb2RlIGludH0KCSAqIGZvciBjb252ZW5pZW5jZSBhbmQgc3BlZWQgKGJ1dCBhdCB0aGUgY29zdCBvZiBtZW1vcnkpLgoJICogPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKiBAYXV0aG9yIERhdmlkIE9saXZpZXIKCSAqLwoJdmFyIEdlbmVyaWNHRiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkNihHZW5lcmljR0YsIF9zdXBlcik7CgkgICAgLyoqCgkgICAgICogQ3JlYXRlIGEgcmVwcmVzZW50YXRpb24gb2YgR0Yoc2l6ZSkgdXNpbmcgdGhlIGdpdmVuIHByaW1pdGl2ZSBwb2x5bm9taWFsLgoJICAgICAqCgkgICAgICogQHBhcmFtIHByaW1pdGl2ZSBpcnJlZHVjaWJsZSBwb2x5bm9taWFsIHdob3NlIGNvZWZmaWNpZW50cyBhcmUgcmVwcmVzZW50ZWQgYnkKCSAgICAgKiAgdGhlIGJpdHMgb2YgYW4gaW50LCB3aGVyZSB0aGUgbGVhc3Qtc2lnbmlmaWNhbnQgYml0IHJlcHJlc2VudHMgdGhlIGNvbnN0YW50CgkgICAgICogIGNvZWZmaWNpZW50CgkgICAgICogQHBhcmFtIHNpemUgdGhlIHNpemUgb2YgdGhlIGZpZWxkCgkgICAgICogQHBhcmFtIGIgdGhlIGZhY3RvciBiIGluIHRoZSBnZW5lcmF0b3IgcG9seW5vbWlhbCBjYW4gYmUgMC0gb3IgMS1iYXNlZAoJICAgICAqICAoZyh4KSA9ICh4K2FeYikoeCthXihiKzEpKS4uLih4K2FeKGIrMnQtMSkpKS4KCSAgICAgKiAgSW4gbW9zdCBjYXNlcyBpdCBzaG91bGQgYmUgMSwgYnV0IGZvciBRUiBjb2RlIGl0IGlzIDAuCgkgICAgICovCgkgICAgZnVuY3Rpb24gR2VuZXJpY0dGKHByaW1pdGl2ZSAvKmludCovLCBzaXplIC8qaW50Ki8sIGdlbmVyYXRvckJhc2UgLyppbnQqLykgewoJICAgICAgICB2YXIgX3RoaXMgPSBfc3VwZXIuY2FsbCh0aGlzKSB8fCB0aGlzOwoJICAgICAgICBfdGhpcy5wcmltaXRpdmUgPSBwcmltaXRpdmU7CgkgICAgICAgIF90aGlzLnNpemUgPSBzaXplOwoJICAgICAgICBfdGhpcy5nZW5lcmF0b3JCYXNlID0gZ2VuZXJhdG9yQmFzZTsKCSAgICAgICAgdmFyIGV4cFRhYmxlID0gbmV3IEludDMyQXJyYXkoc2l6ZSk7CgkgICAgICAgIHZhciB4ID0gMTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplOyBpKyspIHsKCSAgICAgICAgICAgIGV4cFRhYmxlW2ldID0geDsKCSAgICAgICAgICAgIHggKj0gMjsgLy8gd2UncmUgYXNzdW1pbmcgdGhlIGdlbmVyYXRvciBhbHBoYSBpcyAyCgkgICAgICAgICAgICBpZiAoeCA+PSBzaXplKSB7CgkgICAgICAgICAgICAgICAgeCBePSBwcmltaXRpdmU7CgkgICAgICAgICAgICAgICAgeCAmPSBzaXplIC0gMTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBfdGhpcy5leHBUYWJsZSA9IGV4cFRhYmxlOwoJICAgICAgICB2YXIgbG9nVGFibGUgPSBuZXcgSW50MzJBcnJheShzaXplKTsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBzaXplIC0gMTsgaSsrKSB7CgkgICAgICAgICAgICBsb2dUYWJsZVtleHBUYWJsZVtpXV0gPSBpOwoJICAgICAgICB9CgkgICAgICAgIF90aGlzLmxvZ1RhYmxlID0gbG9nVGFibGU7CgkgICAgICAgIC8vIGxvZ1RhYmxlWzBdID09IDAgYnV0IHRoaXMgc2hvdWxkIG5ldmVyIGJlIHVzZWQKCSAgICAgICAgX3RoaXMuemVybyA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzBdKSk7CgkgICAgICAgIF90aGlzLm9uZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEkMS5kZWZhdWx0KF90aGlzLCBJbnQzMkFycmF5LmZyb20oWzFdKSk7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRaZXJvID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5nZXRPbmUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm9uZTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdGhlIG1vbm9taWFsIHJlcHJlc2VudGluZyBjb2VmZmljaWVudCAqIHheZGVncmVlCgkgICAgICovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5idWlsZE1vbm9taWFsID0gZnVuY3Rpb24gKGRlZ3JlZSAvKmludCovLCBjb2VmZmljaWVudCAvKmludCovKSB7CgkgICAgICAgIGlmIChkZWdyZWUgPCAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uXzEkMy5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvZWZmaWNpZW50ID09PSAwKSB7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy56ZXJvOwoJICAgICAgICB9CgkgICAgICAgIHZhciBjb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheShkZWdyZWUgKyAxKTsKCSAgICAgICAgY29lZmZpY2llbnRzWzBdID0gY29lZmZpY2llbnQ7CgkgICAgICAgIHJldHVybiBuZXcgR2VuZXJpY0dGUG9seV8xJDEuZGVmYXVsdCh0aGlzLCBjb2VmZmljaWVudHMpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBtdWx0aXBsaWNhdGl2ZSBpbnZlcnNlIG9mIGEKCSAgICAgKi8KCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmludmVyc2UgPSBmdW5jdGlvbiAoYSAvKmludCovKSB7CgkgICAgICAgIGlmIChhID09PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQXJpdGhtZXRpY0V4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5leHBUYWJsZVt0aGlzLnNpemUgLSB0aGlzLmxvZ1RhYmxlW2FdIC0gMV07CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHByb2R1Y3Qgb2YgYSBhbmQgYiBpbiBHRihzaXplKQoJICAgICAqLwoJICAgIEdlbmVyaWNHRi5wcm90b3R5cGUubXVsdGlwbHkgPSBmdW5jdGlvbiAoYSAvKmludCovLCBiIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGEgPT09IDAgfHwgYiA9PT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIDA7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZXhwVGFibGVbKHRoaXMubG9nVGFibGVbYV0gKyB0aGlzLmxvZ1RhYmxlW2JdKSAlICh0aGlzLnNpemUgLSAxKV07CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldFNpemUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnNpemU7CgkgICAgfTsKCSAgICBHZW5lcmljR0YucHJvdG90eXBlLmdldEdlbmVyYXRvckJhc2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmdlbmVyYXRvckJhc2U7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICgnR0YoMHgnICsgSW50ZWdlcl8xJDEuZGVmYXVsdC50b0hleFN0cmluZyh0aGlzLnByaW1pdGl2ZSkgKyAnLCcgKyB0aGlzLnNpemUgKyAnKScpOwoJICAgIH07CgkgICAgR2VuZXJpY0dGLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICByZXR1cm4gbyA9PT0gdGhpczsKCSAgICB9OwoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEyID0gbmV3IEdlbmVyaWNHRigweDEwNjksIDQwOTYsIDEpOyAvLyB4XjEyICsgeF42ICsgeF41ICsgeF4zICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19EQVRBXzEwID0gbmV3IEdlbmVyaWNHRigweDQwOSwgMTAyNCwgMSk7IC8vIHheMTAgKyB4XjMgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfNiA9IG5ldyBHZW5lcmljR0YoMHg0MywgNjQsIDEpOyAvLyB4XjYgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5BWlRFQ19QQVJBTSA9IG5ldyBHZW5lcmljR0YoMHgxMywgMTYsIDEpOyAvLyB4XjQgKyB4ICsgMQoJICAgIEdlbmVyaWNHRi5RUl9DT0RFX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTFkLCAyNTYsIDApOyAvLyB4XjggKyB4XjQgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkRBVEFfTUFUUklYX0ZJRUxEXzI1NiA9IG5ldyBHZW5lcmljR0YoMHgwMTJkLCAyNTYsIDEpOyAvLyB4XjggKyB4XjUgKyB4XjMgKyB4XjIgKyAxCgkgICAgR2VuZXJpY0dGLkFaVEVDX0RBVEFfOCA9IEdlbmVyaWNHRi5EQVRBX01BVFJJWF9GSUVMRF8yNTY7CgkgICAgR2VuZXJpY0dGLk1BWElDT0RFX0ZJRUxEXzY0ID0gR2VuZXJpY0dGLkFaVEVDX0RBVEFfNjsKCSAgICByZXR1cm4gR2VuZXJpY0dGOwoJfShBYnN0cmFjdEdlbmVyaWNHRl8xLmRlZmF1bHQpKTsKCUdlbmVyaWNHRiQxLmRlZmF1bHQgPSBHZW5lcmljR0Y7CgoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciQxID0ge307CgoJdmFyIFJlZWRTb2xvbW9uRXhjZXB0aW9uJDEgPSB7fTsKCgl2YXIgX19leHRlbmRzJDUgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVlZFNvbG9tb25FeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDIgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgUmVlZFNvbG9tb25FeGNlcHRpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDUoUmVlZFNvbG9tb25FeGNlcHRpb24sIF9zdXBlcik7CgkgICAgZnVuY3Rpb24gUmVlZFNvbG9tb25FeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgUmVlZFNvbG9tb25FeGNlcHRpb24ua2luZCA9ICdSZWVkU29sb21vbkV4Y2VwdGlvbic7CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQyLmRlZmF1bHQpKTsKCVJlZWRTb2xvbW9uRXhjZXB0aW9uJDEuZGVmYXVsdCA9IFJlZWRTb2xvbW9uRXhjZXB0aW9uOwoKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSA9IHt9OwoKCXZhciBfX2V4dGVuZHMkNCA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX2V4dGVuZHMpIHx8IChmdW5jdGlvbiAoKSB7CgkgICAgdmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8CgkgICAgICAgICAgICAoeyBfX3Byb3RvX186IFtdIH0gaW5zdGFuY2VvZiBBcnJheSAmJiBmdW5jdGlvbiAoZCwgYikgeyBkLl9fcHJvdG9fXyA9IGI7IH0pIHx8CgkgICAgICAgICAgICBmdW5jdGlvbiAoZCwgYikgeyBmb3IgKHZhciBwIGluIGIpIGlmIChiLmhhc093blByb3BlcnR5KHApKSBkW3BdID0gYltwXTsgfTsKCSAgICAgICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgfTsKCSAgICByZXR1cm4gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICAgICAgZnVuY3Rpb24gX18oKSB7IHRoaXMuY29uc3RydWN0b3IgPSBkOyB9CgkgICAgICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTsKCSAgICB9OwoJfSkoKTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShJbGxlZ2FsU3RhdGVFeGNlcHRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIEV4Y2VwdGlvbl8xJDEgPSBFeGNlcHRpb24kMTsKCS8qKgoJICogQ3VzdG9tIEVycm9yIGNsYXNzIG9mIHR5cGUgRXhjZXB0aW9uLgoJICovCgl2YXIgSWxsZWdhbFN0YXRlRXhjZXB0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyQ0KElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBJbGxlZ2FsU3RhdGVFeGNlcHRpb24oKSB7CgkgICAgICAgIHJldHVybiBfc3VwZXIgIT09IG51bGwgJiYgX3N1cGVyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cykgfHwgdGhpczsKCSAgICB9CgkgICAgSWxsZWdhbFN0YXRlRXhjZXB0aW9uLmtpbmQgPSAnSWxsZWdhbFN0YXRlRXhjZXB0aW9uJzsKCSAgICByZXR1cm4gSWxsZWdhbFN0YXRlRXhjZXB0aW9uOwoJfShFeGNlcHRpb25fMSQxLmRlZmF1bHQpKTsKCUlsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxLmRlZmF1bHQgPSBJbGxlZ2FsU3RhdGVFeGNlcHRpb247CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShSZWVkU29sb21vbkRlY29kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5jb21tb24ucmVlZHNvbG9tb24geyovCgl2YXIgR2VuZXJpY0dGXzEkMSA9IEdlbmVyaWNHRiQxOwoJdmFyIEdlbmVyaWNHRlBvbHlfMSA9IEdlbmVyaWNHRlBvbHkkMTsKCXZhciBSZWVkU29sb21vbkV4Y2VwdGlvbl8xID0gUmVlZFNvbG9tb25FeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMSA9IElsbGVnYWxTdGF0ZUV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5JbXBsZW1lbnRzIFJlZWQtU29sb21vbiBkZWNvZGluZywgYXMgdGhlIG5hbWUgaW1wbGllcy48L3A+CgkgKgoJICogPHA+VGhlIGFsZ29yaXRobSB3aWxsIG5vdCBiZSBleHBsYWluZWQgaGVyZSwgYnV0IHRoZSBmb2xsb3dpbmcgcmVmZXJlbmNlcyB3ZXJlIGhlbHBmdWwKCSAqIGluIGNyZWF0aW5nIHRoaXMgaW1wbGVtZW50YXRpb246PC9wPgoJICoKCSAqIDx1bD4KCSAqIDxsaT5CcnVjZSBNYWdncy4KCSAqIDxhIGhyZWY9Imh0dHA6Ly93d3cuY3MuY211LmVkdS9hZnMvY3MuY211LmVkdS9wcm9qZWN0L3BzY2ljby1ndXliL3JlYWx3b3JsZC93d3cvcnNfZGVjb2RlLnBzIj4KCSAqICJEZWNvZGluZyBSZWVkLVNvbG9tb24gQ29kZXMiPC9hPiAoc2VlIGRpc2N1c3Npb24gb2YgRm9ybmV5J3MgRm9ybXVsYSk8L2xpPgoJICogPGxpPkouSS4gSGFsbC4gPGEgaHJlZj0id3d3Lm10aC5tc3UuZWR1L35qaGFsbC9jbGFzc2VzL2NvZGVub3Rlcy9HUlMucGRmIj4KCSAqICJDaGFwdGVyIDUuIEdlbmVyYWxpemVkIFJlZWQtU29sb21vbiBDb2RlcyI8L2E+CgkgKiAoc2VlIGRpc2N1c3Npb24gb2YgRXVjbGlkZWFuIGFsZ29yaXRobSk8L2xpPgoJICogPC91bD4KCSAqCgkgKiA8cD5NdWNoIGNyZWRpdCBpcyBkdWUgdG8gV2lsbGlhbSBSdWNrbGlkZ2Ugc2luY2UgcG9ydGlvbnMgb2YgdGhpcyBjb2RlIGFyZSBhbiBpbmRpcmVjdAoJICogcG9ydCBvZiBoaXMgQysrIFJlZWQtU29sb21vbiBpbXBsZW1lbnRhdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBhdXRob3IgV2lsbGlhbSBSdWNrbGlkZ2UKCSAqIEBhdXRob3Igc2FuZm9yZHNxdWlyZXMKCSAqLwoJdmFyIFJlZWRTb2xvbW9uRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBSZWVkU29sb21vbkRlY29kZXIoZmllbGQpIHsKCSAgICAgICAgdGhpcy5maWVsZCA9IGZpZWxkOwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5EZWNvZGVzIGdpdmVuIHNldCBvZiByZWNlaXZlZCBjb2Rld29yZHMsIHdoaWNoIGluY2x1ZGUgYm90aCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uCgkgICAgICogY29kZXdvcmRzLiBSZWFsbHksIHRoaXMgbWVhbnMgaXQgdXNlcyBSZWVkLVNvbG9tb24gdG8gZGV0ZWN0IGFuZCBjb3JyZWN0IGVycm9ycywgaW4tcGxhY2UsCgkgICAgICogaW4gdGhlIGlucHV0LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByZWNlaXZlZCBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcwoJICAgICAqIEBwYXJhbSB0d29TIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBhdmFpbGFibGUKCSAgICAgKiBAdGhyb3dzIFJlZWRTb2xvbW9uRXhjZXB0aW9uIGlmIGRlY29kaW5nIGZhaWxzIGZvciBhbnkgcmVhc29uCgkgICAgICovCgkgICAgUmVlZFNvbG9tb25EZWNvZGVyLnByb3RvdHlwZS5kZWNvZGUgPSBmdW5jdGlvbiAocmVjZWl2ZWQsIHR3b1MgLyppbnQqLykgewoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgcG9seSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgcmVjZWl2ZWQpOwoJICAgICAgICB2YXIgc3luZHJvbWVDb2VmZmljaWVudHMgPSBuZXcgSW50MzJBcnJheSh0d29TKTsKCSAgICAgICAgdmFyIG5vRXJyb3IgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHR3b1M7IGkrKykgewoJICAgICAgICAgICAgdmFyIGV2YWxSZXN1bHQgPSBwb2x5LmV2YWx1YXRlQXQoZmllbGQuZXhwKGkgKyBmaWVsZC5nZXRHZW5lcmF0b3JCYXNlKCkpKTsKCSAgICAgICAgICAgIHN5bmRyb21lQ29lZmZpY2llbnRzW3N5bmRyb21lQ29lZmZpY2llbnRzLmxlbmd0aCAtIDEgLSBpXSA9IGV2YWxSZXN1bHQ7CgkgICAgICAgICAgICBpZiAoZXZhbFJlc3VsdCAhPT0gMCkgewoJICAgICAgICAgICAgICAgIG5vRXJyb3IgPSBmYWxzZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBpZiAobm9FcnJvcikgewoJICAgICAgICAgICAgcmV0dXJuOwoJICAgICAgICB9CgkgICAgICAgIHZhciBzeW5kcm9tZSA9IG5ldyBHZW5lcmljR0ZQb2x5XzEuZGVmYXVsdChmaWVsZCwgc3luZHJvbWVDb2VmZmljaWVudHMpOwoJICAgICAgICB2YXIgc2lnbWFPbWVnYSA9IHRoaXMucnVuRXVjbGlkZWFuQWxnb3JpdGhtKGZpZWxkLmJ1aWxkTW9ub21pYWwodHdvUywgMSksIHN5bmRyb21lLCB0d29TKTsKCSAgICAgICAgdmFyIHNpZ21hID0gc2lnbWFPbWVnYVswXTsKCSAgICAgICAgdmFyIG9tZWdhID0gc2lnbWFPbWVnYVsxXTsKCSAgICAgICAgdmFyIGVycm9yTG9jYXRpb25zID0gdGhpcy5maW5kRXJyb3JMb2NhdGlvbnMoc2lnbWEpOwoJICAgICAgICB2YXIgZXJyb3JNYWduaXR1ZGVzID0gdGhpcy5maW5kRXJyb3JNYWduaXR1ZGVzKG9tZWdhLCBlcnJvckxvY2F0aW9ucyk7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZXJyb3JMb2NhdGlvbnMubGVuZ3RoOyBpKyspIHsKCSAgICAgICAgICAgIHZhciBwb3NpdGlvbiA9IHJlY2VpdmVkLmxlbmd0aCAtIDEgLSBmaWVsZC5sb2coZXJyb3JMb2NhdGlvbnNbaV0pOwoJICAgICAgICAgICAgaWYgKHBvc2l0aW9uIDwgMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ0JhZCBlcnJvciBsb2NhdGlvbicpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVjZWl2ZWRbcG9zaXRpb25dID0gR2VuZXJpY0dGXzEkMS5kZWZhdWx0LmFkZE9yU3VidHJhY3QocmVjZWl2ZWRbcG9zaXRpb25dLCBlcnJvck1hZ25pdHVkZXNbaV0pOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBSZWVkU29sb21vbkRlY29kZXIucHJvdG90eXBlLnJ1bkV1Y2xpZGVhbkFsZ29yaXRobSA9IGZ1bmN0aW9uIChhLCBiLCBSIC8qaW50Ki8pIHsKCSAgICAgICAgLy8gQXNzdW1lIGEncyBkZWdyZWUgaXMgPj0gYidzCgkgICAgICAgIGlmIChhLmdldERlZ3JlZSgpIDwgYi5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgdmFyIHRlbXAgPSBhOwoJICAgICAgICAgICAgYSA9IGI7CgkgICAgICAgICAgICBiID0gdGVtcDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmllbGQgPSB0aGlzLmZpZWxkOwoJICAgICAgICB2YXIgckxhc3QgPSBhOwoJICAgICAgICB2YXIgciA9IGI7CgkgICAgICAgIHZhciB0TGFzdCA9IGZpZWxkLmdldFplcm8oKTsKCSAgICAgICAgdmFyIHQgPSBmaWVsZC5nZXRPbmUoKTsKCSAgICAgICAgLy8gUnVuIEV1Y2xpZGVhbiBhbGdvcml0aG0gdW50aWwgcidzIGRlZ3JlZSBpcyBsZXNzIHRoYW4gUi8yCgkgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IChSIC8gMiB8IDApKSB7CgkgICAgICAgICAgICB2YXIgckxhc3RMYXN0ID0gckxhc3Q7CgkgICAgICAgICAgICB2YXIgdExhc3RMYXN0ID0gdExhc3Q7CgkgICAgICAgICAgICByTGFzdCA9IHI7CgkgICAgICAgICAgICB0TGFzdCA9IHQ7CgkgICAgICAgICAgICAvLyBEaXZpZGUgckxhc3RMYXN0IGJ5IHJMYXN0LCB3aXRoIHF1b3RpZW50IGluIHEgYW5kIHJlbWFpbmRlciBpbiByCgkgICAgICAgICAgICBpZiAockxhc3QuaXNaZXJvKCkpIHsKCSAgICAgICAgICAgICAgICAvLyBPb3BzLCBFdWNsaWRlYW4gYWxnb3JpdGhtIGFscmVhZHkgdGVybWluYXRlZD8KCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmVlZFNvbG9tb25FeGNlcHRpb25fMS5kZWZhdWx0KCdyX3tpLTF9IHdhcyB6ZXJvJyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByID0gckxhc3RMYXN0OwoJICAgICAgICAgICAgdmFyIHEgPSBmaWVsZC5nZXRaZXJvKCk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3JMZWFkaW5nVGVybSA9IHJMYXN0LmdldENvZWZmaWNpZW50KHJMYXN0LmdldERlZ3JlZSgpKTsKCSAgICAgICAgICAgIHZhciBkbHRJbnZlcnNlID0gZmllbGQuaW52ZXJzZShkZW5vbWluYXRvckxlYWRpbmdUZXJtKTsKCSAgICAgICAgICAgIHdoaWxlIChyLmdldERlZ3JlZSgpID49IHJMYXN0LmdldERlZ3JlZSgpICYmICFyLmlzWmVybygpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlZ3JlZURpZmYgPSByLmdldERlZ3JlZSgpIC0gckxhc3QuZ2V0RGVncmVlKCk7CgkgICAgICAgICAgICAgICAgdmFyIHNjYWxlID0gZmllbGQubXVsdGlwbHkoci5nZXRDb2VmZmljaWVudChyLmdldERlZ3JlZSgpKSwgZGx0SW52ZXJzZSk7CgkgICAgICAgICAgICAgICAgcSA9IHEuYWRkT3JTdWJ0cmFjdChmaWVsZC5idWlsZE1vbm9taWFsKGRlZ3JlZURpZmYsIHNjYWxlKSk7CgkgICAgICAgICAgICAgICAgciA9IHIuYWRkT3JTdWJ0cmFjdChyTGFzdC5tdWx0aXBseUJ5TW9ub21pYWwoZGVncmVlRGlmZiwgc2NhbGUpKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHQgPSBxLm11bHRpcGx5KHRMYXN0KS5hZGRPclN1YnRyYWN0KHRMYXN0TGFzdCk7CgkgICAgICAgICAgICBpZiAoci5nZXREZWdyZWUoKSA+PSByTGFzdC5nZXREZWdyZWUoKSkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsU3RhdGVFeGNlcHRpb25fMS5kZWZhdWx0KCdEaXZpc2lvbiBhbGdvcml0aG0gZmFpbGVkIHRvIHJlZHVjZSBwb2x5bm9taWFsPycpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciBzaWdtYVRpbGRlQXRaZXJvID0gdC5nZXRDb2VmZmljaWVudCgwKTsKCSAgICAgICAgaWYgKHNpZ21hVGlsZGVBdFplcm8gPT09IDApIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBSZWVkU29sb21vbkV4Y2VwdGlvbl8xLmRlZmF1bHQoJ3NpZ21hVGlsZGUoMCkgd2FzIHplcm8nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgaW52ZXJzZSA9IGZpZWxkLmludmVyc2Uoc2lnbWFUaWxkZUF0WmVybyk7CgkgICAgICAgIHZhciBzaWdtYSA9IHQubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHZhciBvbWVnYSA9IHIubXVsdGlwbHlTY2FsYXIoaW52ZXJzZSk7CgkgICAgICAgIHJldHVybiBbc2lnbWEsIG9tZWdhXTsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTG9jYXRpb25zID0gZnVuY3Rpb24gKGVycm9yTG9jYXRvcikgewoJICAgICAgICAvLyBUaGlzIGlzIGEgZGlyZWN0IGFwcGxpY2F0aW9uIG9mIENoaWVuJ3Mgc2VhcmNoCgkgICAgICAgIHZhciBudW1FcnJvcnMgPSBlcnJvckxvY2F0b3IuZ2V0RGVncmVlKCk7CgkgICAgICAgIGlmIChudW1FcnJvcnMgPT09IDEpIHsgLy8gc2hvcnRjdXQKCSAgICAgICAgICAgIHJldHVybiBJbnQzMkFycmF5LmZyb20oW2Vycm9yTG9jYXRvci5nZXRDb2VmZmljaWVudCgxKV0pOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgSW50MzJBcnJheShudW1FcnJvcnMpOwoJICAgICAgICB2YXIgZSA9IDA7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgZmllbGQuZ2V0U2l6ZSgpICYmIGUgPCBudW1FcnJvcnM7IGkrKykgewoJICAgICAgICAgICAgaWYgKGVycm9yTG9jYXRvci5ldmFsdWF0ZUF0KGkpID09PSAwKSB7CgkgICAgICAgICAgICAgICAgcmVzdWx0W2VdID0gZmllbGQuaW52ZXJzZShpKTsKCSAgICAgICAgICAgICAgICBlKys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGUgIT09IG51bUVycm9ycykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IFJlZWRTb2xvbW9uRXhjZXB0aW9uXzEuZGVmYXVsdCgnRXJyb3IgbG9jYXRvciBkZWdyZWUgZG9lcyBub3QgbWF0Y2ggbnVtYmVyIG9mIHJvb3RzJyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIFJlZWRTb2xvbW9uRGVjb2Rlci5wcm90b3R5cGUuZmluZEVycm9yTWFnbml0dWRlcyA9IGZ1bmN0aW9uIChlcnJvckV2YWx1YXRvciwgZXJyb3JMb2NhdGlvbnMpIHsKCSAgICAgICAgLy8gVGhpcyBpcyBkaXJlY3RseSBhcHBseWluZyBGb3JuZXkncyBGb3JtdWxhCgkgICAgICAgIHZhciBzID0gZXJyb3JMb2NhdGlvbnMubGVuZ3RoOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IEludDMyQXJyYXkocyk7CgkgICAgICAgIHZhciBmaWVsZCA9IHRoaXMuZmllbGQ7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgczsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgeGlJbnZlcnNlID0gZmllbGQuaW52ZXJzZShlcnJvckxvY2F0aW9uc1tpXSk7CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSAxOwoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBzOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaSAhPT0gaikgewoJICAgICAgICAgICAgICAgICAgICAvLyBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLAoJICAgICAgICAgICAgICAgICAgICAvLyAgICBHZW5lcmljR0YuYWRkT3JTdWJ0cmFjdCgxLCBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKSkpCgkgICAgICAgICAgICAgICAgICAgIC8vIEFib3ZlIHNob3VsZCB3b3JrIGJ1dCBmYWlscyBvbiBzb21lIEFwcGxlIGFuZCBMaW51eCBKREtzIGR1ZSB0byBhIEhvdHNwb3QgYnVnLgoJICAgICAgICAgICAgICAgICAgICAvLyBCZWxvdyBpcyBhIGZ1bm55LWxvb2tpbmcgd29ya2Fyb3VuZCBmcm9tIFN0ZXZlbiBQYXJrZXMKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm0gPSBmaWVsZC5tdWx0aXBseShlcnJvckxvY2F0aW9uc1tqXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIHRlcm1QbHVzMSA9ICh0ZXJtICYgMHgxKSA9PT0gMCA/IHRlcm0gfCAxIDogdGVybSAmIH4xOwoJICAgICAgICAgICAgICAgICAgICBkZW5vbWluYXRvciA9IGZpZWxkLm11bHRpcGx5KGRlbm9taW5hdG9yLCB0ZXJtUGx1czEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KGVycm9yRXZhbHVhdG9yLmV2YWx1YXRlQXQoeGlJbnZlcnNlKSwgZmllbGQuaW52ZXJzZShkZW5vbWluYXRvcikpOwoJICAgICAgICAgICAgaWYgKGZpZWxkLmdldEdlbmVyYXRvckJhc2UoKSAhPT0gMCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtpXSA9IGZpZWxkLm11bHRpcGx5KHJlc3VsdFtpXSwgeGlJbnZlcnNlKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgcmV0dXJuIFJlZWRTb2xvbW9uRGVjb2RlcjsKCX0oKSk7CglSZWVkU29sb21vbkRlY29kZXIkMS5kZWZhdWx0ID0gUmVlZFNvbG9tb25EZWNvZGVyOwoKCXZhciBCaXRNYXRyaXhQYXJzZXIkMSA9IHt9OwoKCXZhciBWZXJzaW9uJDEgPSB7fTsKCgl2YXIgRm9ybWF0SW5mb3JtYXRpb24kMSA9IHt9OwoKCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IHt9OwoKCXZhciBBcmd1bWVudEV4Y2VwdGlvbiQxID0ge307CgoJdmFyIF9fZXh0ZW5kcyQzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFyZ3VtZW50RXhjZXB0aW9uJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBFeGNlcHRpb25fMSA9IEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBDdXN0b20gRXJyb3IgY2xhc3Mgb2YgdHlwZSBFeGNlcHRpb24uCgkgKi8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uIChfc3VwZXIpIHsKCSAgICBfX2V4dGVuZHMkMyhBcmd1bWVudEV4Y2VwdGlvbiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBcmd1bWVudEV4Y2VwdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICBBcmd1bWVudEV4Y2VwdGlvbi5raW5kID0gJ0FyZ3VtZW50RXhjZXB0aW9uJzsKCSAgICByZXR1cm4gQXJndW1lbnRFeGNlcHRpb247Cgl9KEV4Y2VwdGlvbl8xLmRlZmF1bHQpKTsKCUFyZ3VtZW50RXhjZXB0aW9uJDEuZGVmYXVsdCA9IEFyZ3VtZW50RXhjZXB0aW9uOwoKCShmdW5jdGlvbiAoZXhwb3J0cykgewoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CglleHBvcnRzLkVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gdm9pZCAwOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBBcmd1bWVudEV4Y2VwdGlvbl8xID0gQXJndW1lbnRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJdmFyIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzOwoJKGZ1bmN0aW9uIChFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcykgewoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJMIl0gPSAwXSA9ICJMIjsKCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1tFcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlc1siTSJdID0gMV0gPSAiTSI7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXNbIlEiXSA9IDJdID0gIlEiOwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzW0Vycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzWyJIIl0gPSAzXSA9ICJIIjsKCX0pKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzID0gZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyB8fCAoZXhwb3J0cy5FcnJvckNvcnJlY3Rpb25MZXZlbFZhbHVlcyA9IHt9KSk7CgkvKioKCSAqIDxwPlNlZSBJU08gMTgwMDQ6MjAwNiwgNi41LjEuIFRoaXMgZW51bSBlbmNhcHN1bGF0ZXMgdGhlIGZvdXIgZXJyb3IgY29ycmVjdGlvbiBsZXZlbHMKCSAqIGRlZmluZWQgYnkgdGhlIFFSIGNvZGUgc3RhbmRhcmQuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFcnJvckNvcnJlY3Rpb25MZXZlbCh2YWx1ZSwgc3RyaW5nVmFsdWUsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5iaXRzID0gYml0czsKCSAgICAgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2V0KGJpdHMsIHRoaXMpOwoJICAgICAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLmdldFZhbHVlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52YWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5nZXRCaXRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRzOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZnJvbVN0cmluZyA9IGZ1bmN0aW9uIChzKSB7CgkgICAgICAgIHN3aXRjaCAocykgewoJICAgICAgICAgICAgY2FzZSAnTCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5MOwoJICAgICAgICAgICAgY2FzZSAnTSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5NOwoJICAgICAgICAgICAgY2FzZSAnUSc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5ROwoJICAgICAgICAgICAgY2FzZSAnSCc6IHJldHVybiBFcnJvckNvcnJlY3Rpb25MZXZlbC5IOwoJICAgICAgICAgICAgZGVmYXVsdDogdGhyb3cgbmV3IEFyZ3VtZW50RXhjZXB0aW9uXzEuZGVmYXVsdChzICsgJ25vdCBhdmFpbGFibGUnKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIEVycm9yQ29ycmVjdGlvbkxldmVsLnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAobykgewoJICAgICAgICBpZiAoIShvIGluc3RhbmNlb2YgRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG90aGVyID0gbzsKCSAgICAgICAgcmV0dXJuIHRoaXMudmFsdWUgPT09IG90aGVyLnZhbHVlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgaW50IGNvbnRhaW5pbmcgdGhlIHR3byBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSdzIGVycm9yIGNvcnJlY3Rpb24gbGV2ZWwKCSAgICAgKiBAcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsIHJlcHJlc2VudGluZyB0aGUgZW5jb2RlZCBlcnJvciBjb3JyZWN0aW9uIGxldmVsCgkgICAgICovCgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuZm9yQml0cyA9IGZ1bmN0aW9uIChiaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGJpdHMgPCAwIHx8IGJpdHMgPj0gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuc2l6ZSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMuZ2V0KGJpdHMpOwoJICAgIH07CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgRXJyb3JDb3JyZWN0aW9uTGV2ZWwuRk9SX1ZBTFVFID0gbmV3IE1hcCgpOwoJICAgIC8qKiBMID0gfjclIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5MID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkwsICdMJywgMHgwMSk7CgkgICAgLyoqIE0gPSB+MTUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5NID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLk0sICdNJywgMHgwMCk7CgkgICAgLyoqIFEgPSB+MjUlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5RID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLlEsICdRJywgMHgwMyk7CgkgICAgLyoqIEggPSB+MzAlIGNvcnJlY3Rpb24gKi8KCSAgICBFcnJvckNvcnJlY3Rpb25MZXZlbC5IID0gbmV3IEVycm9yQ29ycmVjdGlvbkxldmVsKEVycm9yQ29ycmVjdGlvbkxldmVsVmFsdWVzLkgsICdIJywgMHgwMik7CgkgICAgcmV0dXJuIEVycm9yQ29ycmVjdGlvbkxldmVsOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IEVycm9yQ29ycmVjdGlvbkxldmVsOwoKCX0oRXJyb3JDb3JyZWN0aW9uTGV2ZWwpKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDYgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRm9ybWF0SW5mb3JtYXRpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBFcnJvckNvcnJlY3Rpb25MZXZlbF8xID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWw7Cgl2YXIgSW50ZWdlcl8xID0gSW50ZWdlciQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBRUiBDb2RlJ3MgZm9ybWF0IGluZm9ybWF0aW9uLCBpbmNsdWRpbmcgdGhlIGRhdGEgbWFzayB1c2VkIGFuZAoJICogZXJyb3IgY29ycmVjdGlvbiBsZXZlbC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqIEBzZWUgRGF0YU1hc2sKCSAqIEBzZWUgRXJyb3JDb3JyZWN0aW9uTGV2ZWwKCSAqLwoJdmFyIEZvcm1hdEluZm9ybWF0aW9uID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZvcm1hdEluZm9ybWF0aW9uKGZvcm1hdEluZm8gLyppbnQqLykgewoJICAgICAgICAvLyBCaXRzIDMsNAoJICAgICAgICB0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsID0gRXJyb3JDb3JyZWN0aW9uTGV2ZWxfMS5kZWZhdWx0LmZvckJpdHMoKGZvcm1hdEluZm8gPj4gMykgJiAweDAzKTsKCSAgICAgICAgLy8gQm90dG9tIDMgYml0cwoJICAgICAgICB0aGlzLmRhdGFNYXNrID0gLyooYnl0ZSkgKi8gKGZvcm1hdEluZm8gJiAweDA3KTsKCSAgICB9CgkgICAgRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyA9IGZ1bmN0aW9uIChhIC8qaW50Ki8sIGIgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gSW50ZWdlcl8xLmRlZmF1bHQuYml0Q291bnQoYSBeIGIpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHBhcmFtIG1hc2tlZEZvcm1hdEluZm8xIGZvcm1hdCBpbmZvIGluZGljYXRvciwgd2l0aCBtYXNrIHN0aWxsIGFwcGxpZWQKCSAgICAgKiBAcGFyYW0gbWFza2VkRm9ybWF0SW5mbzIgc2Vjb25kIGNvcHkgb2Ygc2FtZSBpbmZvOyBib3RoIGFyZSBjaGVja2VkIGF0IHRoZSBzYW1lIHRpbWUKCSAgICAgKiAgdG8gZXN0YWJsaXNoIGJlc3QgbWF0Y2gKCSAgICAgKiBAcmV0dXJuIGluZm9ybWF0aW9uIGFib3V0IHRoZSBmb3JtYXQgaXQgc3BlY2lmaWVzLCBvciB7QGNvZGUgbnVsbH0KCSAgICAgKiAgaWYgZG9lc24ndCBzZWVtIHRvIG1hdGNoIGFueSBrbm93biBwYXR0ZXJuCgkgICAgICovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24uZGVjb2RlRm9ybWF0SW5mb3JtYXRpb24gPSBmdW5jdGlvbiAobWFza2VkRm9ybWF0SW5mbzEgLyppbnQqLywgbWFza2VkRm9ybWF0SW5mbzIgLyppbnQqLykgewoJICAgICAgICB2YXIgZm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uLmRvRGVjb2RlRm9ybWF0SW5mb3JtYXRpb24obWFza2VkRm9ybWF0SW5mbzEsIG1hc2tlZEZvcm1hdEluZm8yKTsKCSAgICAgICAgaWYgKGZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiBmb3JtYXRJbmZvOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNob3VsZCByZXR1cm4gbnVsbCwgYnV0LCBzb21lIFFSIGNvZGVzIGFwcGFyZW50bHkKCSAgICAgICAgLy8gZG8gbm90IG1hc2sgdGhpcyBpbmZvLiBUcnkgYWdhaW4gYnkgYWN0dWFsbHkgbWFza2luZyB0aGUgcGF0dGVybgoJICAgICAgICAvLyBmaXJzdAoJICAgICAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb24uZG9EZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihtYXNrZWRGb3JtYXRJbmZvMSBeIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX01BU0tfUVIsIG1hc2tlZEZvcm1hdEluZm8yIF4gRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUik7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5kb0RlY29kZUZvcm1hdEluZm9ybWF0aW9uID0gZnVuY3Rpb24gKG1hc2tlZEZvcm1hdEluZm8xIC8qaW50Ki8sIG1hc2tlZEZvcm1hdEluZm8yIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGVfMSwgX2E7CgkgICAgICAgIC8vIEZpbmQgdGhlIGludCBpbiBGT1JNQVRfSU5GT19ERUNPREVfTE9PS1VQIHdpdGggZmV3ZXN0IGJpdHMgZGlmZmVyaW5nCgkgICAgICAgIHZhciBiZXN0RGlmZmVyZW5jZSA9IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSOwoJICAgICAgICB2YXIgYmVzdEZvcm1hdEluZm8gPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyQ2KEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVApLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRlY29kZUluZm8gPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0SW5mbyA9IGRlY29kZUluZm9bMF07CgkgICAgICAgICAgICAgICAgaWYgKHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8xIHx8IHRhcmdldEluZm8gPT09IG1hc2tlZEZvcm1hdEluZm8yKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGFuIGV4YWN0IG1hdGNoCgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgRm9ybWF0SW5mb3JtYXRpb24oZGVjb2RlSW5mb1sxXSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIHZhciBiaXRzRGlmZmVyZW5jZSA9IEZvcm1hdEluZm9ybWF0aW9uLm51bUJpdHNEaWZmZXJpbmcobWFza2VkRm9ybWF0SW5mbzEsIHRhcmdldEluZm8pOwoJICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgIGJlc3RGb3JtYXRJbmZvID0gZGVjb2RlSW5mb1sxXTsKCSAgICAgICAgICAgICAgICAgICAgYmVzdERpZmZlcmVuY2UgPSBiaXRzRGlmZmVyZW5jZTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKG1hc2tlZEZvcm1hdEluZm8xICE9PSBtYXNrZWRGb3JtYXRJbmZvMikgewoJICAgICAgICAgICAgICAgICAgICAvLyBhbHNvIHRyeSB0aGUgb3RoZXIgb3B0aW9uCgkgICAgICAgICAgICAgICAgICAgIGJpdHNEaWZmZXJlbmNlID0gRm9ybWF0SW5mb3JtYXRpb24ubnVtQml0c0RpZmZlcmluZyhtYXNrZWRGb3JtYXRJbmZvMiwgdGFyZ2V0SW5mbyk7CgkgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0Rm9ybWF0SW5mbyA9IGRlY29kZUluZm9bMV07CgkgICAgICAgICAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2MgJiYgIV9jLmRvbmUgJiYgKF9hID0gX2IucmV0dXJuKSkgX2EuY2FsbChfYik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSGFtbWluZyBkaXN0YW5jZSBvZiB0aGUgMzIgbWFza2VkIGNvZGVzIGlzIDcsIGJ5IGNvbnN0cnVjdGlvbiwgc28gPD0gMyBiaXRzCgkgICAgICAgIC8vIGRpZmZlcmluZyBtZWFucyB3ZSBmb3VuZCBhIG1hdGNoCgkgICAgICAgIGlmIChiZXN0RGlmZmVyZW5jZSA8PSAzKSB7CgkgICAgICAgICAgICByZXR1cm4gbmV3IEZvcm1hdEluZm9ybWF0aW9uKGJlc3RGb3JtYXRJbmZvKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbnVsbDsKCSAgICB9OwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5nZXRFcnJvckNvcnJlY3Rpb25MZXZlbCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb3JyZWN0aW9uTGV2ZWw7CgkgICAgfTsKCSAgICBGb3JtYXRJbmZvcm1hdGlvbi5wcm90b3R5cGUuZ2V0RGF0YU1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFNYXNrOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICh0aGlzLmVycm9yQ29ycmVjdGlvbkxldmVsLmdldEJpdHMoKSA8PCAzKSB8IHRoaXMuZGF0YU1hc2s7CgkgICAgfTsKCSAgICAvKkBPdmVycmlkZSovCgkgICAgRm9ybWF0SW5mb3JtYXRpb24ucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBGb3JtYXRJbmZvcm1hdGlvbikpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgb3RoZXIgPSBvOwoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvckNvcnJlY3Rpb25MZXZlbCA9PT0gb3RoZXIuZXJyb3JDb3JyZWN0aW9uTGV2ZWwgJiYKCSAgICAgICAgICAgIHRoaXMuZGF0YU1hc2sgPT09IG90aGVyLmRhdGFNYXNrOwoJICAgIH07CgkgICAgRm9ybWF0SW5mb3JtYXRpb24uRk9STUFUX0lORk9fTUFTS19RUiA9IDB4NTQxMjsKCSAgICAvKioKCSAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYsIEFubmV4IEMsIFRhYmxlIEMuMQoJICAgICAqLwoJICAgIEZvcm1hdEluZm9ybWF0aW9uLkZPUk1BVF9JTkZPX0RFQ09ERV9MT09LVVAgPSBbCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1NDEyLCAweDAwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1MTI1LCAweDAxXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1RTdDLCAweDAyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg1QjRCLCAweDAzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0NUY5LCAweDA0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0MENFLCAweDA1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0Rjk3LCAweDA2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg0QUEwLCAweDA3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3N0M0LCAweDA4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3MkYzLCAweDA5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3REFBLCAweDBBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg3ODlELCAweDBCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2NjJGLCAweDBDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2MzE4LCAweDBEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2QzQxLCAweDBFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHg2OTc2LCAweDBGXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxNjg5LCAweDEwXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxM0JFLCAweDExXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxQ0U3LCAweDEyXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgxOUQwLCAweDEzXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwNzYyLCAweDE0XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwMjU1LCAweDE1XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwRDBDLCAweDE2XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgwODNCLCAweDE3XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzNTVGLCAweDE4XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzMDY4LCAweDE5XSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzRjMxLCAweDFBXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgzQTA2LCAweDFCXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyNEI0LCAweDFDXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyMTgzLCAweDFEXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyRURBLCAweDFFXSksCgkgICAgICAgIEludDMyQXJyYXkuZnJvbShbMHgyQkVELCAweDFGXSksCgkgICAgXTsKCSAgICByZXR1cm4gRm9ybWF0SW5mb3JtYXRpb247Cgl9KCkpOwoJRm9ybWF0SW5mb3JtYXRpb24kMS5kZWZhdWx0ID0gRm9ybWF0SW5mb3JtYXRpb247CgoJdmFyIEVDQmxvY2tzJDEgPSB7fTsKCgl2YXIgX192YWx1ZXMkNSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0Jsb2NrcyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHNldCBvZiBlcnJvci1jb3JyZWN0aW9uIGJsb2NrcyBpbiBvbmUgc3ltYm9sIHZlcnNpb24uIE1vc3QgdmVyc2lvbnMgd2lsbAoJICogdXNlIGJsb2NrcyBvZiBkaWZmZXJpbmcgc2l6ZXMgd2l0aGluIG9uZSB2ZXJzaW9uLCBzbywgdGhpcyBlbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yCgkgKiBlYWNoIHNldCBvZiBibG9ja3MuIEl0IGFsc28gaG9sZHMgdGhlIG51bWJlciBvZiBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyBwZXIgYmxvY2sgc2luY2UgaXQKCSAqIHdpbGwgYmUgdGhlIHNhbWUgYWNyb3NzIGFsbCBibG9ja3Mgd2l0aGluIG9uZSB2ZXJzaW9uLjwvcD4KCSAqLwoJdmFyIEVDQmxvY2tzID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEVDQmxvY2tzKGVjQ29kZXdvcmRzUGVyQmxvY2sgLyppbnQqLykgewoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAxOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMV0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayA9IGVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgICAgIHRoaXMuZWNCbG9ja3MgPSBlY0Jsb2NrczsKCSAgICB9CgkgICAgRUNCbG9ja3MucHJvdG90eXBlLmdldEVDQ29kZXdvcmRzUGVyQmxvY2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQ29kZXdvcmRzUGVyQmxvY2s7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0TnVtQmxvY2tzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIHRvdGFsID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tzID0gdGhpcy5lY0Jsb2NrczsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIGVjQmxvY2tzXzEgPSBfX3ZhbHVlcyQ1KGVjQmxvY2tzKSwgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCk7ICFlY0Jsb2Nrc18xXzEuZG9uZTsgZWNCbG9ja3NfMV8xID0gZWNCbG9ja3NfMS5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tzXzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbCArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2Nrc18xXzEgJiYgIWVjQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGVjQmxvY2tzXzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2Nrc18xKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdG90YWw7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0VG90YWxFQ0NvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZWNDb2Rld29yZHNQZXJCbG9jayAqIHRoaXMuZ2V0TnVtQmxvY2tzKCk7CgkgICAgfTsKCSAgICBFQ0Jsb2Nrcy5wcm90b3R5cGUuZ2V0RUNCbG9ja3MgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmVjQmxvY2tzOwoJICAgIH07CgkgICAgcmV0dXJuIEVDQmxvY2tzOwoJfSgpKTsKCUVDQmxvY2tzJDEuZGVmYXVsdCA9IEVDQmxvY2tzOwoKCXZhciBFQ0IkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFQ0IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgdGhlIHBhcmFtZXRlcnMgZm9yIG9uZSBlcnJvci1jb3JyZWN0aW9uIGJsb2NrIGluIG9uZSBzeW1ib2wgdmVyc2lvbi4KCSAqIFRoaXMgaW5jbHVkZXMgdGhlIG51bWJlciBvZiBkYXRhIGNvZGV3b3JkcywgYW5kIHRoZSBudW1iZXIgb2YgdGltZXMgYSBibG9jayB3aXRoIHRoZXNlCgkgKiBwYXJhbWV0ZXJzIGlzIHVzZWQgY29uc2VjdXRpdmVseSBpbiB0aGUgUVIgY29kZSB2ZXJzaW9uJ3MgZm9ybWF0LjwvcD4KCSAqLwoJdmFyIEVDQiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBFQ0IoY291bnQgLyppbnQqLywgZGF0YUNvZGV3b3JkcyAvKmludCovKSB7CgkgICAgICAgIHRoaXMuY291bnQgPSBjb3VudDsKCSAgICAgICAgdGhpcy5kYXRhQ29kZXdvcmRzID0gZGF0YUNvZGV3b3JkczsKCSAgICB9CgkgICAgRUNCLnByb3RvdHlwZS5nZXRDb3VudCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY291bnQ7CgkgICAgfTsKCSAgICBFQ0IucHJvdG90eXBlLmdldERhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICByZXR1cm4gRUNCOwoJfSgpKTsKCUVDQiQxLmRlZmF1bHQgPSBFQ0I7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX3ZhbHVlcyQ0ID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFZlcnNpb24kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGVjb2RlciB7Ki8KCXZhciBCaXRNYXRyaXhfMSQzID0gQml0TWF0cml4JDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSQxID0gRm9ybWF0SW5mb3JtYXRpb24kMTsKCXZhciBFQ0Jsb2Nrc18xID0gRUNCbG9ja3MkMTsKCXZhciBFQ0JfMSA9IEVDQiQxOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDIgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQyID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIFNlZSBJU08gMTgwMDQ6MjAwNiBBbm5leCBECgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFZlcnNpb24gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gVmVyc2lvbih2ZXJzaW9uTnVtYmVyIC8qaW50Ki8sIGFsaWdubWVudFBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgZWNCbG9ja3MgPSBbXTsKCSAgICAgICAgZm9yICh2YXIgX2kgPSAyOyBfaSA8IGFyZ3VtZW50cy5sZW5ndGg7IF9pKyspIHsKCSAgICAgICAgICAgIGVjQmxvY2tzW19pIC0gMl0gPSBhcmd1bWVudHNbX2ldOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMudmVyc2lvbk51bWJlciA9IHZlcnNpb25OdW1iZXI7CgkgICAgICAgIHRoaXMuYWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBhbGlnbm1lbnRQYXR0ZXJuQ2VudGVyczsKCSAgICAgICAgdGhpcy5lY0Jsb2NrcyA9IGVjQmxvY2tzOwoJICAgICAgICB2YXIgdG90YWwgPSAwOwoJICAgICAgICB2YXIgZWNDb2Rld29yZHMgPSBlY0Jsb2Nrc1swXS5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIHZhciBlY2JBcnJheSA9IGVjQmxvY2tzWzBdLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY2JBcnJheV8xID0gX192YWx1ZXMkNChlY2JBcnJheSksIGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpOyAhZWNiQXJyYXlfMV8xLmRvbmU7IGVjYkFycmF5XzFfMSA9IGVjYkFycmF5XzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGVjQmxvY2sgPSBlY2JBcnJheV8xXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdG90YWwgKz0gZWNCbG9jay5nZXRDb3VudCgpICogKGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpICsgZWNDb2Rld29yZHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzFfMSkgeyBlXzEgPSB7IGVycm9yOiBlXzFfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoZWNiQXJyYXlfMV8xICYmICFlY2JBcnJheV8xXzEuZG9uZSAmJiAoX2EgPSBlY2JBcnJheV8xLnJldHVybikpIF9hLmNhbGwoZWNiQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdGhpcy50b3RhbENvZGV3b3JkcyA9IHRvdGFsOwoJICAgIH0KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5nZXRWZXJzaW9uTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0VG90YWxDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnRvdGFsQ29kZXdvcmRzOwoJICAgIH07CgkgICAgVmVyc2lvbi5wcm90b3R5cGUuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDE3ICsgNCAqIHRoaXMudmVyc2lvbk51bWJlcjsKCSAgICB9OwoJICAgIFZlcnNpb24ucHJvdG90eXBlLmdldEVDQmxvY2tzRm9yTGV2ZWwgPSBmdW5jdGlvbiAoZWNMZXZlbCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0Jsb2Nrc1tlY0xldmVsLmdldFZhbHVlKCldOwoJICAgICAgICAvLyBUWVBFU0NSSVBUUE9SVDogb3JpZ2luYWwgd2FzIHVzaW5nIG9yZGluYWwsIGFuZCB1c2luZyB0aGUgb3JkZXIgb2YgbGV2ZWxzIGFzIGRlZmluZWQgaW4gRXJyb3JDb3JyZWN0aW9uTGV2ZWwgZW51bSAoTE1RSCkKCSAgICAgICAgLy8gSSB3aWxsIHVzZSB0aGUgZGlyZWN0IHZhbHVlIGZyb20gRXJyb3JDb3JyZWN0aW9uTGV2ZWxWYWx1ZXMgZW51bSB3aGljaCBpbiB0eXBlc2NyaXB0IGdvZXMgdG8gYSBudW1iZXIKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkRlZHVjZXMgdmVyc2lvbiBpbmZvcm1hdGlvbiBwdXJlbHkgZnJvbSBRUiBDb2RlIGRpbWVuc2lvbnMuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gaW4gbW9kdWxlcwoJICAgICAqIEByZXR1cm4gVmVyc2lvbiBmb3IgYSBRUiBDb2RlIG9mIHRoYXQgZGltZW5zaW9uCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCAxIG1vZCA0CgkgICAgICovCgkgICAgVmVyc2lvbi5nZXRQcm92aXNpb25hbFZlcnNpb25Gb3JEaW1lbnNpb24gPSBmdW5jdGlvbiAoZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiAlIDQgIT09IDEpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMSQyLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2V0VmVyc2lvbkZvck51bWJlcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlciA9IGZ1bmN0aW9uICh2ZXJzaW9uTnVtYmVyIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPCAxIHx8IHZlcnNpb25OdW1iZXIgPiA0MCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDIuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBWZXJzaW9uLlZFUlNJT05TW3ZlcnNpb25OdW1iZXIgLSAxXTsKCSAgICB9OwoJICAgIFZlcnNpb24uZGVjb2RlVmVyc2lvbkluZm9ybWF0aW9uID0gZnVuY3Rpb24gKHZlcnNpb25CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGJlc3REaWZmZXJlbmNlID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHZhciBiZXN0VmVyc2lvbiA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgVmVyc2lvbi5WRVJTSU9OX0RFQ09ERV9JTkZPLmxlbmd0aDsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgdGFyZ2V0VmVyc2lvbiA9IFZlcnNpb24uVkVSU0lPTl9ERUNPREVfSU5GT1tpXTsKCSAgICAgICAgICAgIC8vIERvIHRoZSB2ZXJzaW9uIGluZm8gYml0cyBtYXRjaCBleGFjdGx5PyBkb25lLgoJICAgICAgICAgICAgaWYgKHRhcmdldFZlcnNpb24gPT09IHZlcnNpb25CaXRzKSB7CgkgICAgICAgICAgICAgICAgcmV0dXJuIFZlcnNpb24uZ2V0VmVyc2lvbkZvck51bWJlcihpICsgNyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBPdGhlcndpc2Ugc2VlIGlmIHRoaXMgaXMgdGhlIGNsb3Nlc3QgdG8gYSByZWFsIHZlcnNpb24gaW5mbyBiaXQgc3RyaW5nCgkgICAgICAgICAgICAvLyB3ZSBoYXZlIHNlZW4gc28gZmFyCgkgICAgICAgICAgICB2YXIgYml0c0RpZmZlcmVuY2UgPSBGb3JtYXRJbmZvcm1hdGlvbl8xJDEuZGVmYXVsdC5udW1CaXRzRGlmZmVyaW5nKHZlcnNpb25CaXRzLCB0YXJnZXRWZXJzaW9uKTsKCSAgICAgICAgICAgIGlmIChiaXRzRGlmZmVyZW5jZSA8IGJlc3REaWZmZXJlbmNlKSB7CgkgICAgICAgICAgICAgICAgYmVzdFZlcnNpb24gPSBpICsgNzsKCSAgICAgICAgICAgICAgICBiZXN0RGlmZmVyZW5jZSA9IGJpdHNEaWZmZXJlbmNlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFdlIGNhbiB0b2xlcmF0ZSB1cCB0byAzIGJpdHMgb2YgZXJyb3Igc2luY2Ugbm8gdHdvIHZlcnNpb24gaW5mbyBjb2Rld29yZHMgd2lsbAoJICAgICAgICAvLyBkaWZmZXIgaW4gbGVzcyB0aGFuIDggYml0cy4KCSAgICAgICAgaWYgKGJlc3REaWZmZXJlbmNlIDw9IDMpIHsKCSAgICAgICAgICAgIHJldHVybiBWZXJzaW9uLmdldFZlcnNpb25Gb3JOdW1iZXIoYmVzdFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGRpZG4ndCBmaW5kIGEgY2xvc2UgZW5vdWdoIG1hdGNoLCBmYWlsCgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIElTTyAxODAwNDoyMDA2IEFubmV4IEUKCSAgICAgKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS5idWlsZEZ1bmN0aW9uUGF0dGVybiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpOwoJICAgICAgICB2YXIgYml0TWF0cml4ID0gbmV3IEJpdE1hdHJpeF8xJDMuZGVmYXVsdChkaW1lbnNpb24pOwoJICAgICAgICAvLyBUb3AgbGVmdCBmaW5kZXIgcGF0dGVybiArIHNlcGFyYXRvciArIGZvcm1hdAoJICAgICAgICBiaXRNYXRyaXguc2V0UmVnaW9uKDAsIDAsIDksIDkpOwoJICAgICAgICAvLyBUb3AgcmlnaHQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbihkaW1lbnNpb24gLSA4LCAwLCA4LCA5KTsKCSAgICAgICAgLy8gQm90dG9tIGxlZnQgZmluZGVyIHBhdHRlcm4gKyBzZXBhcmF0b3IgKyBmb3JtYXQKCSAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSA4LCA5LCA4KTsKCSAgICAgICAgLy8gQWxpZ25tZW50IHBhdHRlcm5zCgkgICAgICAgIHZhciBtYXggPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHgrKykgewoJICAgICAgICAgICAgdmFyIGkgPSB0aGlzLmFsaWdubWVudFBhdHRlcm5DZW50ZXJzW3hdIC0gMjsKCSAgICAgICAgICAgIGZvciAodmFyIHkgPSAwOyB5IDwgbWF4OyB5KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoKHggPT09IDAgJiYgKHkgPT09IDAgfHwgeSA9PT0gbWF4IC0gMSkpIHx8ICh4ID09PSBtYXggLSAxICYmIHkgPT09IDApKSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE5vIGFsaWdubWVudCBwYXR0ZXJucyBuZWFyIHRoZSB0aHJlZSBmaW5kZXIgcGF0dGVybnMKCSAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24odGhpcy5hbGlnbm1lbnRQYXR0ZXJuQ2VudGVyc1t5XSAtIDIsIGksIDUsIDUpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIFZlcnRpY2FsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oNiwgOSwgMSwgZGltZW5zaW9uIC0gMTcpOwoJICAgICAgICAvLyBIb3Jpem9udGFsIHRpbWluZyBwYXR0ZXJuCgkgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oOSwgNiwgZGltZW5zaW9uIC0gMTcsIDEpOwoJICAgICAgICBpZiAodGhpcy52ZXJzaW9uTnVtYmVyID4gNikgewoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCB0b3AgcmlnaHQKCSAgICAgICAgICAgIGJpdE1hdHJpeC5zZXRSZWdpb24oZGltZW5zaW9uIC0gMTEsIDAsIDMsIDYpOwoJICAgICAgICAgICAgLy8gVmVyc2lvbiBpbmZvLCBib3R0b20gbGVmdAoJICAgICAgICAgICAgYml0TWF0cml4LnNldFJlZ2lvbigwLCBkaW1lbnNpb24gLSAxMSwgNiwgMyk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdE1hdHJpeDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBWZXJzaW9uLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuICcnICsgdGhpcy52ZXJzaW9uTnVtYmVyOwoJICAgIH07CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgQW5uZXggRC4KCSAgICAgICAqIEVsZW1lbnQgaSByZXByZXNlbnRzIHRoZSByYXcgdmVyc2lvbiBiaXRzIHRoYXQgc3BlY2lmeSB2ZXJzaW9uIGkgKyA3CgkgICAgICAgKi8KCSAgICBWZXJzaW9uLlZFUlNJT05fREVDT0RFX0lORk8gPSBJbnQzMkFycmF5LmZyb20oWwoJICAgICAgICAweDA3Qzk0LCAweDA4NUJDLCAweDA5QTk5LCAweDBBNEQzLCAweDBCQkY2LAoJICAgICAgICAweDBDNzYyLCAweDBEODQ3LCAweDBFNjBELCAweDBGOTI4LCAweDEwQjc4LAoJICAgICAgICAweDExNDVELCAweDEyQTE3LCAweDEzNTMyLCAweDE0OUE2LCAweDE1NjgzLAoJICAgICAgICAweDE2OEM5LCAweDE3N0VDLCAweDE4RUM0LCAweDE5MUUxLCAweDFBRkFCLAoJICAgICAgICAweDFCMDhFLCAweDFDQzFBLCAweDFEMzNGLCAweDFFRDc1LCAweDFGMjUwLAoJICAgICAgICAweDIwOUQ1LCAweDIxNkYwLCAweDIyOEJBLCAweDIzNzlGLCAweDI0QjBCLAoJICAgICAgICAweDI1NDJFLCAweDI2QTY0LCAweDI3NTQxLCAweDI4QzY5CgkgICAgXSk7CgkgICAgLyoqCgkgICAgICAgKiBTZWUgSVNPIDE4MDA0OjIwMDYgNi41LjEgVGFibGUgOQoJICAgICAgICovCgkgICAgVmVyc2lvbi5WRVJTSU9OUyA9IFsKCSAgICAgICAgbmV3IFZlcnNpb24oMSwgbmV3IEludDMyQXJyYXkoMCksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxMywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNywgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOSkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMiwgSW50MzJBcnJheS5mcm9tKFs2LCAxOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDEwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMywgSW50MzJBcnJheS5mcm9tKFs2LCAyMl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE1LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1NSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA4MCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyNCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA5KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCA0MykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDE4LCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTIpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDYsIEludDMyQXJyYXkuZnJvbShbNiwgMzRdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgxNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDcsIEludDMyQXJyYXkuZnJvbShbNiwgMjIsIDM4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDc4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDMxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxNCkpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNCwgNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMzgpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzOSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxOCksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE5KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDksIEludDMyQXJyYXkuZnJvbShbNiwgMjYsIDQ2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIyLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAzNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDM3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTAsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDUwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMTgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDY4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgNjkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDMpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA0NCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxOSksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDIwKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDExLCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDIwLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA4MSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCA1MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDUxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTIpLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMykpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTIsIEludDMyQXJyYXkuZnJvbShbNiwgMzIsIDU4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDkyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgOTMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMzYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAzNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDE0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDEzLCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2Ml0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyMiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMzcpLCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAzOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAyMCksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDEyLCAxMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDYsIDY2XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCg0LCA0MCksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDQxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDE3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNSwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNDgsIDcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjIsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDg3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgODgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgNDEpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigxNiwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjQsIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDk4KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgOTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0NikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI0LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTkpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAyMCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMTcsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU0LCA3OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxLCAxMDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE4LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NiwgODJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIwKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTIxKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDQzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMiwgMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxOSwgMTUpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDE5LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1OCwgODZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTE0KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDQ0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDQ1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDE3LCAyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjYsIG5ldyBFQ0JfMS5kZWZhdWx0KDksIDEzKSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDE0KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMCwgSW50MzJBcnJheS5mcm9tKFs2LCAzNCwgNjIsIDkwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDEwNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDUsIDEwOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgzLCA0MSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCA0MikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIxLCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1MCwgNzIsIDk0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExNykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI2LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDIpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDIyLCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1MCwgNzQsIDk4XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDExMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDExMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNCwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDEzKSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyMywgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIxKSwgbmV3IEVDQl8xLmRlZmF1bHQoNSwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI0LCBJbnQzMkFycmF5LmZyb20oWzYsIDI4LCA1NCwgODAsIDEwNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTcpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTYsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMwLCAxNiksIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDE3KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyNSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyNiwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMTA2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTA3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEzLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMjYsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0XSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxMTUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNiwgMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzMsIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDI3LCBJbnQzMkFycmF5LmZyb20oWzYsIDM0LCA2MiwgOTAsIDExOF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg4LCAxMjIpLCBuZXcgRUNCXzEuZGVmYXVsdCg0LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjIsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoOCwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjgsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTAsIDc0LCA5OCwgMTIyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDMsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAxMTgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMywgNDUpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTEsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigyOSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTQsIDc4LCAxMDIsIDEyNl0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTYpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCAxMTcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMjEsIDQ1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgNDYpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMjMpLCBuZXcgRUNCXzEuZGVmYXVsdCgzNywgMjQpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMCwgSW50MzJBcnJheS5mcm9tKFs2LCAyNiwgNTIsIDc4LCAxMDQsIDEzMF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg1LCAxMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCA0NyksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNSwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjMsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjUsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzMSwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTYsIDgyLCAxMDgsIDEzNF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxMywgMTE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoMywgMTE2KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDIsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQyLCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIzLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDI4LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzIsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYwLCA4NiwgMTEyLCAxMzhdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzUsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDM1LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzMsIEludDMyQXJyYXkuZnJvbShbNiwgMzAsIDU4LCA4NiwgMTE0LCAxNDJdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTcsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDEsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMSwgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTksIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDExLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzQsIEludDMyQXJyYXkuZnJvbShbNiwgMzQsIDYyLCA5MCwgMTE4LCAxNDZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDExNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDExNikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgNDYpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMywgNDcpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNDQsIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoNywgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoNTksIDE2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMSwgMTcpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM1LCBJbnQzMkFycmF5LmZyb20oWzYsIDMwLCA1NCwgNzgsIDEwMiwgMTI2LCAxNTBdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTIsIDEyMSksIG5ldyBFQ0JfMS5kZWZhdWx0KDcsIDEyMikpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCgxMiwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCgyNiwgNDgpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMzksIDI0KSwgbmV3IEVDQl8xLmRlZmF1bHQoMTQsIDI1KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDIyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDQxLCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzYsIEludDMyQXJyYXkuZnJvbShbNiwgMjQsIDUwLCA3NiwgMTAyLCAxMjgsIDE1NF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMjEpLCBuZXcgRUNCXzEuZGVmYXVsdCgxNCwgMTIyKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDYsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzQsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ2LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDEwLCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyLCAxNSksIG5ldyBFQ0JfMS5kZWZhdWx0KDY0LCAxNikpKSwKCSAgICAgICAgbmV3IFZlcnNpb24oMzcsIEludDMyQXJyYXkuZnJvbShbNiwgMjgsIDU0LCA4MCwgMTA2LCAxMzIsIDE1OF0pLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgxNywgMTIyKSwgbmV3IEVDQl8xLmRlZmF1bHQoNCwgMTIzKSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMjgsIG5ldyBFQ0JfMS5kZWZhdWx0KDI5LCA0NiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCA0NykpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0OSwgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgxMCwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjQsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNDYsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbigzOCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMiwgNTgsIDg0LCAxMTAsIDEzNiwgMTYyXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDEyMiksIG5ldyBFQ0JfMS5kZWZhdWx0KDE4LCAxMjMpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTMsIDQ2KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzIsIDQ3KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDQ4LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDE0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MiwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCgzMiwgMTYpKSksCgkgICAgICAgIG5ldyBWZXJzaW9uKDM5LCBJbnQzMkFycmF5LmZyb20oWzYsIDI2LCA1NCwgODIsIDExMCwgMTM4LCAxNjZdKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMjAsIDExNyksIG5ldyBFQ0JfMS5kZWZhdWx0KDQsIDExOCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDI4LCBuZXcgRUNCXzEuZGVmYXVsdCg0MCwgNDcpLCBuZXcgRUNCXzEuZGVmYXVsdCg3LCA0OCkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCg0MywgMjQpLCBuZXcgRUNCXzEuZGVmYXVsdCgyMiwgMjUpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgzMCwgbmV3IEVDQl8xLmRlZmF1bHQoMTAsIDE1KSwgbmV3IEVDQl8xLmRlZmF1bHQoNjcsIDE2KSkpLAoJICAgICAgICBuZXcgVmVyc2lvbig0MCwgSW50MzJBcnJheS5mcm9tKFs2LCAzMCwgNTgsIDg2LCAxMTQsIDE0MiwgMTcwXSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDE5LCAxMTgpLCBuZXcgRUNCXzEuZGVmYXVsdCg2LCAxMTkpKSwgbmV3IEVDQmxvY2tzXzEuZGVmYXVsdCgyOCwgbmV3IEVDQl8xLmRlZmF1bHQoMTgsIDQ3KSwgbmV3IEVDQl8xLmRlZmF1bHQoMzEsIDQ4KSksIG5ldyBFQ0Jsb2Nrc18xLmRlZmF1bHQoMzAsIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNCksIG5ldyBFQ0JfMS5kZWZhdWx0KDM0LCAyNSkpLCBuZXcgRUNCbG9ja3NfMS5kZWZhdWx0KDMwLCBuZXcgRUNCXzEuZGVmYXVsdCgyMCwgMTUpLCBuZXcgRUNCXzEuZGVmYXVsdCg2MSwgMTYpKSkKCSAgICBdOwoJICAgIHJldHVybiBWZXJzaW9uOwoJfSgpKTsKCVZlcnNpb24kMS5kZWZhdWx0ID0gVmVyc2lvbjsKCgl2YXIgRGF0YU1hc2sgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5EYXRhTWFza1ZhbHVlcyA9IHZvaWQgMDsKCXZhciBEYXRhTWFza1ZhbHVlczsKCShmdW5jdGlvbiAoRGF0YU1hc2tWYWx1ZXMpIHsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAwMCJdID0gMF0gPSAiREFUQV9NQVNLXzAwMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18wMDEiXSA9IDFdID0gIkRBVEFfTUFTS18wMDEiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMDEwIl0gPSAyXSA9ICJEQVRBX01BU0tfMDEwIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzAxMSJdID0gM10gPSAiREFUQV9NQVNLXzAxMSI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMDAiXSA9IDRdID0gIkRBVEFfTUFTS18xMDAiOwoJICAgIERhdGFNYXNrVmFsdWVzW0RhdGFNYXNrVmFsdWVzWyJEQVRBX01BU0tfMTAxIl0gPSA1XSA9ICJEQVRBX01BU0tfMTAxIjsKCSAgICBEYXRhTWFza1ZhbHVlc1tEYXRhTWFza1ZhbHVlc1siREFUQV9NQVNLXzExMCJdID0gNl0gPSAiREFUQV9NQVNLXzExMCI7CgkgICAgRGF0YU1hc2tWYWx1ZXNbRGF0YU1hc2tWYWx1ZXNbIkRBVEFfTUFTS18xMTEiXSA9IDddID0gIkRBVEFfTUFTS18xMTEiOwoJfSkoRGF0YU1hc2tWYWx1ZXMgPSBleHBvcnRzLkRhdGFNYXNrVmFsdWVzIHx8IChleHBvcnRzLkRhdGFNYXNrVmFsdWVzID0ge30pKTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGRhdGEgbWFza3MgZm9yIHRoZSBkYXRhIGJpdHMgaW4gYSBRUiBjb2RlLCBwZXIgSVNPIDE4MDA0OjIwMDYgNi44LiBJbXBsZW1lbnRhdGlvbnMKCSAqIG9mIHRoaXMgY2xhc3MgY2FuIHVuLW1hc2sgYSByYXcgQml0TWF0cml4LiBGb3Igc2ltcGxpY2l0eSwgdGhleSB3aWxsIHVubWFzayB0aGUgZW50aXJlIEJpdE1hdHJpeCwKCSAqIGluY2x1ZGluZyBhcmVhcyB1c2VkIGZvciBmaW5kZXIgcGF0dGVybnMsIHRpbWluZyBwYXR0ZXJucywgZXRjLiBUaGVzZSBhcmVhcyBzaG91bGQgYmUgdW51c2VkCgkgKiBhZnRlciB0aGUgcG9pbnQgdGhleSBhcmUgdW5tYXNrZWQgYW55d2F5LjwvcD4KCSAqCgkgKiA8cD5Ob3RlIHRoYXQgdGhlIGRpYWdyYW0gaW4gc2VjdGlvbiA2LjguMSBpcyBtaXNsZWFkaW5nIHNpbmNlIGl0IGluZGljYXRlcyB0aGF0IGkgaXMgY29sdW1uIHBvc2l0aW9uCgkgKiBhbmQgaiBpcyByb3cgcG9zaXRpb24uIEluIGZhY3QsIGFzIHRoZSB0ZXh0IHNheXMsIGkgaXMgcm93IHBvc2l0aW9uIGFuZCBqIGlzIGNvbHVtbiBwb3NpdGlvbi48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFNYXNrID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8vIFNlZSBJU08gMTgwMDQ6MjAwNiA2LjguMQoJICAgIGZ1bmN0aW9uIERhdGFNYXNrKHZhbHVlLCBpc01hc2tlZCkgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuaXNNYXNrZWQgPSBpc01hc2tlZDsKCSAgICB9CgkgICAgLy8gRW5kIG9mIGVudW0gY29uc3RhbnRzLgoJICAgIC8qKgoJICAgICAqIDxwPkltcGxlbWVudGF0aW9ucyBvZiB0aGlzIG1ldGhvZCByZXZlcnNlIHRoZSBkYXRhIG1hc2tpbmcgcHJvY2VzcyBhcHBsaWVkIHRvIGEgUVIgQ29kZSBhbmQKCSAgICAgKiBtYWtlIGl0cyBiaXRzIHJlYWR5IHRvIHJlYWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGJpdHMgcmVwcmVzZW50YXRpb24gb2YgUVIgQ29kZSBiaXRzCgkgICAgICogQHBhcmFtIGRpbWVuc2lvbiBkaW1lbnNpb24gb2YgUVIgQ29kZSwgcmVwcmVzZW50ZWQgYnkgYml0cywgYmVpbmcgdW5tYXNrZWQKCSAgICAgKi8KCSAgICBEYXRhTWFzay5wcm90b3R5cGUudW5tYXNrQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGRpbWVuc2lvbiAvKmludCovKSB7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgZGltZW5zaW9uOyBqKyspIHsKCSAgICAgICAgICAgICAgICBpZiAodGhpcy5pc01hc2tlZChpLCBqKSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLmZsaXAoaiwgaSk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICBEYXRhTWFzay52YWx1ZXMgPSBuZXcgTWFwKFsKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDAwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeCArIHkpIG1vZCAyID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDAwLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMCwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoKGkgKyBqKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeCBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAwMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMDEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgJiAweDAxKSA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMDEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoIHkgbW9kIDMgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMDEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuIGogJSAzID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAwMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKHggKyB5KSBtb2QgMyA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzAxMSwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18wMTEsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKGkgKyBqKSAlIDMgPT09IDA7IH0pXSwKCSAgICAgICAgLyoqCgkgICAgICAgICAqIDEwMDogbWFzayBiaXRzIGZvciB3aGljaCAoeC8yICsgeS8zKSBtb2QgMiA9PSAwCgkgICAgICAgICAqLwoJICAgICAgICBbRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMCwgbmV3IERhdGFNYXNrKERhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMDAsIGZ1bmN0aW9uIChpIC8qaW50Ki8sIGogLyppbnQqLykgeyByZXR1cm4gKChNYXRoLmZsb29yKGkgLyAyKSArIE1hdGguZmxvb3IoaiAvIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMDE6IG1hc2sgYml0cyBmb3Igd2hpY2ggeHkgbW9kIDIgKyB4eSBtb2QgMyA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2ID09IDAKCSAgICAgICAgICovCgkgICAgICAgIFtEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTAxLCBuZXcgRGF0YU1hc2soRGF0YU1hc2tWYWx1ZXMuREFUQV9NQVNLXzEwMSwgZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovKSB7IHJldHVybiAoaSAqIGopICUgNiA9PT0gMDsgfSldLAoJICAgICAgICAvKioKCSAgICAgICAgICogMTEwOiBtYXNrIGJpdHMgZm9yIHdoaWNoICh4eSBtb2QgMiArIHh5IG1vZCAzKSBtb2QgMiA9PSAwCgkgICAgICAgICAqIGVxdWl2YWxlbnRseSwgc3VjaCB0aGF0IHh5IG1vZCA2IDwgMwoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTAsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTEwLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSAqIGopICUgNikgPCAzOyB9KV0sCgkgICAgICAgIC8qKgoJICAgICAgICAgKiAxMTE6IG1hc2sgYml0cyBmb3Igd2hpY2ggKCh4K3kpbW9kIDIgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKiBlcXVpdmFsZW50bHksIHN1Y2ggdGhhdCAoeCArIHkgKyB4eSBtb2QgMykgbW9kIDIgPT0gMAoJICAgICAgICAgKi8KCSAgICAgICAgW0RhdGFNYXNrVmFsdWVzLkRBVEFfTUFTS18xMTEsIG5ldyBEYXRhTWFzayhEYXRhTWFza1ZhbHVlcy5EQVRBX01BU0tfMTExLCBmdW5jdGlvbiAoaSAvKmludCovLCBqIC8qaW50Ki8pIHsgcmV0dXJuICgoaSArIGogKyAoKGkgKiBqKSAlIDMpKSAmIDB4MDEpID09PSAwOyB9KV0sCgkgICAgXSk7CgkgICAgcmV0dXJuIERhdGFNYXNrOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IERhdGFNYXNrOwoKCX0oRGF0YU1hc2spKTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdE1hdHJpeFBhcnNlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7Cgl2YXIgVmVyc2lvbl8xJDEgPSBWZXJzaW9uJDE7Cgl2YXIgRm9ybWF0SW5mb3JtYXRpb25fMSA9IEZvcm1hdEluZm9ybWF0aW9uJDE7Cgl2YXIgRGF0YU1hc2tfMSA9IERhdGFNYXNrOwoJdmFyIEZvcm1hdEV4Y2VwdGlvbl8xJDEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCS8qKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEJpdE1hdHJpeFBhcnNlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYml0TWF0cml4IHtAbGluayBCaXRNYXRyaXh9IHRvIHBhcnNlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgZGltZW5zaW9uIGlzIG5vdCA+PSAyMSBhbmQgMSBtb2QgNAoJICAgICAqLwoJICAgIGZ1bmN0aW9uIEJpdE1hdHJpeFBhcnNlcihiaXRNYXRyaXgpIHsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IGJpdE1hdHJpeC5nZXRIZWlnaHQoKTsKCSAgICAgICAgaWYgKGRpbWVuc2lvbiA8IDIxIHx8IChkaW1lbnNpb24gJiAweDAzKSAhPT0gMSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0TWF0cml4ID0gYml0TWF0cml4OwoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5SZWFkcyBmb3JtYXQgaW5mb3JtYXRpb24gZnJvbSBvbmUgb2YgaXRzIHR3byBsb2NhdGlvbnMgd2l0aGluIHRoZSBRUiBDb2RlLjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEZvcm1hdEluZm9ybWF0aW9ufSBlbmNhcHN1bGF0aW5nIHRoZSBRUiBDb2RlJ3MgZm9ybWF0IGluZm8KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIGZvcm1hdCBpbmZvcm1hdGlvbiBsb2NhdGlvbnMgY2Fubm90IGJlIHBhcnNlZCBhcwoJICAgICAqIHRoZSB2YWxpZCBlbmNvZGluZyBvZiBmb3JtYXQgaW5mb3JtYXRpb24KCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRGb3JtYXRJbmZvcm1hdGlvbiA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgaWYgKHRoaXMucGFyc2VkRm9ybWF0SW5mbyAhPT0gbnVsbCAmJiB0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucGFyc2VkRm9ybWF0SW5mbzsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRvcC1sZWZ0IGZvcm1hdCBpbmZvIGJpdHMKCSAgICAgICAgdmFyIGZvcm1hdEluZm9CaXRzMSA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgNjsgaSsrKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoaSwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyAuLiBhbmQgc2tpcCBhIGJpdCBpbiB0aGUgdGltaW5nIHBhdHRlcm4gLi4uCgkgICAgICAgIGZvcm1hdEluZm9CaXRzMSA9IHRoaXMuY29weUJpdCg3LCA4LCBmb3JtYXRJbmZvQml0czEpOwoJICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgOCwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgZm9ybWF0SW5mb0JpdHMxID0gdGhpcy5jb3B5Qml0KDgsIDcsIGZvcm1hdEluZm9CaXRzMSk7CgkgICAgICAgIC8vIC4uIGFuZCBza2lwIGEgYml0IGluIHRoZSB0aW1pbmcgcGF0dGVybiAuLi4KCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3JtYXRJbmZvQml0czEgPSB0aGlzLmNvcHlCaXQoOCwgaiwgZm9ybWF0SW5mb0JpdHMxKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBSZWFkIHRoZSB0b3AtcmlnaHQvYm90dG9tLWxlZnQgcGF0dGVybiB0b28KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgZm9ybWF0SW5mb0JpdHMyID0gMDsKCSAgICAgICAgdmFyIGpNaW4gPSBkaW1lbnNpb24gLSA3OwoJICAgICAgICBmb3IgKHZhciBqID0gZGltZW5zaW9uIC0gMTsgaiA+PSBqTWluOyBqLS0pIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdCg4LCBqLCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIGZvciAodmFyIGkgPSBkaW1lbnNpb24gLSA4OyBpIDwgZGltZW5zaW9uOyBpKyspIHsKCSAgICAgICAgICAgIGZvcm1hdEluZm9CaXRzMiA9IHRoaXMuY29weUJpdChpLCA4LCBmb3JtYXRJbmZvQml0czIpOwoJICAgICAgICB9CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IEZvcm1hdEluZm9ybWF0aW9uXzEuZGVmYXVsdC5kZWNvZGVGb3JtYXRJbmZvcm1hdGlvbihmb3JtYXRJbmZvQml0czEsIGZvcm1hdEluZm9CaXRzMik7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZEZvcm1hdEluZm87CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+UmVhZHMgdmVyc2lvbiBpbmZvcm1hdGlvbiBmcm9tIG9uZSBvZiBpdHMgdHdvIGxvY2F0aW9ucyB3aXRoaW4gdGhlIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgVmVyc2lvbn0gZW5jYXBzdWxhdGluZyB0aGUgUVIgQ29kZSdzIHZlcnNpb24KCSAgICAgKiBAdGhyb3dzIEZvcm1hdEV4Y2VwdGlvbiBpZiBib3RoIHZlcnNpb24gaW5mb3JtYXRpb24gbG9jYXRpb25zIGNhbm5vdCBiZSBwYXJzZWQgYXMKCSAgICAgKiB0aGUgdmFsaWQgZW5jb2Rpbmcgb2YgdmVyc2lvbiBpbmZvcm1hdGlvbgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUucmVhZFZlcnNpb24gPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZFZlcnNpb24gIT09IG51bGwgJiYgdGhpcy5wYXJzZWRWZXJzaW9uICE9PSB1bmRlZmluZWQpIHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLnBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgcHJvdmlzaW9uYWxWZXJzaW9uID0gTWF0aC5mbG9vcigoZGltZW5zaW9uIC0gMTcpIC8gNCk7CgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24gPD0gNikgewoJICAgICAgICAgICAgcmV0dXJuIFZlcnNpb25fMSQxLmRlZmF1bHQuZ2V0VmVyc2lvbkZvck51bWJlcihwcm92aXNpb25hbFZlcnNpb24pOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJlYWQgdG9wLXJpZ2h0IHZlcnNpb24gaW5mbzogMyB3aWRlIGJ5IDYgdGFsbAoJICAgICAgICB2YXIgdmVyc2lvbkJpdHMgPSAwOwoJICAgICAgICB2YXIgaWpNaW4gPSBkaW1lbnNpb24gLSAxMTsKCSAgICAgICAgZm9yICh2YXIgaiA9IDU7IGogPj0gMDsgai0tKSB7CgkgICAgICAgICAgICBmb3IgKHZhciBpID0gZGltZW5zaW9uIC0gOTsgaSA+PSBpak1pbjsgaS0tKSB7CgkgICAgICAgICAgICAgICAgdmVyc2lvbkJpdHMgPSB0aGlzLmNvcHlCaXQoaSwgaiwgdmVyc2lvbkJpdHMpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHZhciB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBmYWlsZWQuIFRyeSBib3R0b20gbGVmdDogNiB3aWRlIGJ5IDMgdGFsbAoJICAgICAgICB2ZXJzaW9uQml0cyA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSA1OyBpID49IDA7IGktLSkgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IGRpbWVuc2lvbiAtIDk7IGogPj0gaWpNaW47IGotLSkgewoJICAgICAgICAgICAgICAgIHZlcnNpb25CaXRzID0gdGhpcy5jb3B5Qml0KGksIGosIHZlcnNpb25CaXRzKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICB0aGVQYXJzZWRWZXJzaW9uID0gVmVyc2lvbl8xJDEuZGVmYXVsdC5kZWNvZGVWZXJzaW9uSW5mb3JtYXRpb24odmVyc2lvbkJpdHMpOwoJICAgICAgICBpZiAodGhlUGFyc2VkVmVyc2lvbiAhPT0gbnVsbCAmJiB0aGVQYXJzZWRWZXJzaW9uLmdldERpbWVuc2lvbkZvclZlcnNpb24oKSA9PT0gZGltZW5zaW9uKSB7CgkgICAgICAgICAgICB0aGlzLnBhcnNlZFZlcnNpb24gPSB0aGVQYXJzZWRWZXJzaW9uOwoJICAgICAgICAgICAgcmV0dXJuIHRoZVBhcnNlZFZlcnNpb247CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5jb3B5Qml0ID0gZnVuY3Rpb24gKGkgLyppbnQqLywgaiAvKmludCovLCB2ZXJzaW9uQml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBiaXQgPSB0aGlzLmlzTWlycm9yID8gdGhpcy5iaXRNYXRyaXguZ2V0KGosIGkpIDogdGhpcy5iaXRNYXRyaXguZ2V0KGksIGopOwoJICAgICAgICByZXR1cm4gYml0ID8gKHZlcnNpb25CaXRzIDw8IDEpIHwgMHgxIDogdmVyc2lvbkJpdHMgPDwgMTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlJlYWRzIHRoZSBiaXRzIGluIHRoZSB7QGxpbmsgQml0TWF0cml4fSByZXByZXNlbnRpbmcgdGhlIGZpbmRlciBwYXR0ZXJuIGluIHRoZQoJICAgICAqIGNvcnJlY3Qgb3JkZXIgaW4gb3JkZXIgdG8gcmVjb25zdHJ1Y3QgdGhlIGNvZGV3b3JkcyBieXRlcyBjb250YWluZWQgd2l0aGluIHRoZQoJICAgICAqIFFSIENvZGUuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBleGFjdCBudW1iZXIgb2YgYnl0ZXMgZXhwZWN0ZWQgaXMgbm90IHJlYWQKCSAgICAgKi8KCSAgICBCaXRNYXRyaXhQYXJzZXIucHJvdG90eXBlLnJlYWRDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHZhciBmb3JtYXRJbmZvID0gdGhpcy5yZWFkRm9ybWF0SW5mb3JtYXRpb24oKTsKCSAgICAgICAgdmFyIHZlcnNpb24gPSB0aGlzLnJlYWRWZXJzaW9uKCk7CgkgICAgICAgIC8vIEdldCB0aGUgZGF0YSBtYXNrIGZvciB0aGUgZm9ybWF0IHVzZWQgaW4gdGhpcyBRUiBDb2RlLiBUaGlzIHdpbGwgZXhjbHVkZQoJICAgICAgICAvLyBzb21lIGJpdHMgZnJvbSByZWFkaW5nIGFzIHdlIHdpbmQgdGhyb3VnaCB0aGUgYml0IG1hdHJpeC4KCSAgICAgICAgdmFyIGRhdGFNYXNrID0gRGF0YU1hc2tfMS5kZWZhdWx0LnZhbHVlcy5nZXQoZm9ybWF0SW5mby5nZXREYXRhTWFzaygpKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IHRoaXMuYml0TWF0cml4LmdldEhlaWdodCgpOwoJICAgICAgICBkYXRhTWFzay51bm1hc2tCaXRNYXRyaXgodGhpcy5iaXRNYXRyaXgsIGRpbWVuc2lvbik7CgkgICAgICAgIHZhciBmdW5jdGlvblBhdHRlcm4gPSB2ZXJzaW9uLmJ1aWxkRnVuY3Rpb25QYXR0ZXJuKCk7CgkgICAgICAgIHZhciByZWFkaW5nVXAgPSB0cnVlOwoJICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkodmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKTsKCSAgICAgICAgdmFyIHJlc3VsdE9mZnNldCA9IDA7CgkgICAgICAgIHZhciBjdXJyZW50Qnl0ZSA9IDA7CgkgICAgICAgIHZhciBiaXRzUmVhZCA9IDA7CgkgICAgICAgIC8vIFJlYWQgY29sdW1ucyBpbiBwYWlycywgZnJvbSByaWdodCB0byBsZWZ0CgkgICAgICAgIGZvciAodmFyIGogPSBkaW1lbnNpb24gLSAxOyBqID4gMDsgaiAtPSAyKSB7CgkgICAgICAgICAgICBpZiAoaiA9PT0gNikgewoJICAgICAgICAgICAgICAgIC8vIFNraXAgd2hvbGUgY29sdW1uIHdpdGggdmVydGljYWwgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgICAgICAgICAgICAvLyBzYXZlcyB0aW1lIGFuZCBtYWtlcyB0aGUgb3RoZXIgY29kZSBwcm9jZWVkIG1vcmUgY2xlYW5seQoJICAgICAgICAgICAgICAgIGotLTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIC8vIFJlYWQgYWx0ZXJuYXRpbmdseSBmcm9tIGJvdHRvbSB0byB0b3AgdGhlbiB0b3AgdG8gYm90dG9tCgkgICAgICAgICAgICBmb3IgKHZhciBjb3VudCA9IDA7IGNvdW50IDwgZGltZW5zaW9uOyBjb3VudCsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIGkgPSByZWFkaW5nVXAgPyBkaW1lbnNpb24gLSAxIC0gY291bnQgOiBjb3VudDsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBjb2wgPSAwOyBjb2wgPCAyOyBjb2wrKykgewoJICAgICAgICAgICAgICAgICAgICAvLyBJZ25vcmUgYml0cyBjb3ZlcmVkIGJ5IHRoZSBmdW5jdGlvbiBwYXR0ZXJuCgkgICAgICAgICAgICAgICAgICAgIGlmICghZnVuY3Rpb25QYXR0ZXJuLmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmVhZCBhIGJpdAoJICAgICAgICAgICAgICAgICAgICAgICAgYml0c1JlYWQrKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIDw8PSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuYml0TWF0cml4LmdldChqIC0gY29sLCBpKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRCeXRlIHw9IDE7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJZiB3ZSd2ZSBtYWRlIGEgd2hvbGUgYnl0ZSwgc2F2ZSBpdCBvZmYKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChiaXRzUmVhZCA9PT0gOCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFtyZXN1bHRPZmZzZXQrK10gPSAvKihieXRlKSAqLyBjdXJyZW50Qnl0ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBiaXRzUmVhZCA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudEJ5dGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVhZGluZ1VwID0gIXJlYWRpbmdVcDsgLy8gcmVhZGluZ1VwIF49IHRydWU7IC8vIHJlYWRpbmdVcCA9ICFyZWFkaW5nVXA7IC8vIHN3aXRjaCBkaXJlY3Rpb25zCgkgICAgICAgIH0KCSAgICAgICAgaWYgKHJlc3VsdE9mZnNldCAhPT0gdmVyc2lvbi5nZXRUb3RhbENvZGV3b3JkcygpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEkMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldmVydCB0aGUgbWFzayByZW1vdmFsIGRvbmUgd2hpbGUgcmVhZGluZyB0aGUgY29kZSB3b3Jkcy4gVGhlIGJpdCBtYXRyaXggc2hvdWxkIHJldmVydCB0byBpdHMgb3JpZ2luYWwgc3RhdGUuCgkgICAgICovCgkgICAgQml0TWF0cml4UGFyc2VyLnByb3RvdHlwZS5yZW1hc2sgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIGlmICh0aGlzLnBhcnNlZEZvcm1hdEluZm8gPT09IG51bGwpIHsKCSAgICAgICAgICAgIHJldHVybjsgLy8gV2UgaGF2ZSBubyBmb3JtYXQgaW5mb3JtYXRpb24sIGFuZCBoYXZlIG5vIGRhdGEgbWFzawoJICAgICAgICB9CgkgICAgICAgIHZhciBkYXRhTWFzayA9IERhdGFNYXNrXzEuZGVmYXVsdC52YWx1ZXNbdGhpcy5wYXJzZWRGb3JtYXRJbmZvLmdldERhdGFNYXNrKCldOwoJICAgICAgICB2YXIgZGltZW5zaW9uID0gdGhpcy5iaXRNYXRyaXguZ2V0SGVpZ2h0KCk7CgkgICAgICAgIGRhdGFNYXNrLnVubWFza0JpdE1hdHJpeCh0aGlzLmJpdE1hdHJpeCwgZGltZW5zaW9uKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFByZXBhcmUgdGhlIHBhcnNlciBmb3IgYSBtaXJyb3JlZCBvcGVyYXRpb24uCgkgICAgICogVGhpcyBmbGFnIGhhcyBlZmZlY3Qgb25seSBvbiB0aGUge0BsaW5rICNyZWFkRm9ybWF0SW5mb3JtYXRpb24oKX0gYW5kIHRoZQoJICAgICAqIHtAbGluayAjcmVhZFZlcnNpb24oKX0uIEJlZm9yZSBwcm9jZWVkaW5nIHdpdGgge0BsaW5rICNyZWFkQ29kZXdvcmRzKCl9IHRoZQoJICAgICAqIHtAbGluayAjbWlycm9yKCl9IG1ldGhvZCBzaG91bGQgYmUgY2FsbGVkLgoJICAgICAqCgkgICAgICogQHBhcmFtIG1pcnJvciBXaGV0aGVyIHRvIHJlYWQgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm9ybWF0aW9uIG1pcnJvcmVkLgoJICAgICAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUuc2V0TWlycm9yID0gZnVuY3Rpb24gKGlzTWlycm9yKSB7CgkgICAgICAgIHRoaXMucGFyc2VkVmVyc2lvbiA9IG51bGw7CgkgICAgICAgIHRoaXMucGFyc2VkRm9ybWF0SW5mbyA9IG51bGw7CgkgICAgICAgIHRoaXMuaXNNaXJyb3IgPSBpc01pcnJvcjsKCSAgICB9OwoJICAgIC8qKiBNaXJyb3IgdGhlIGJpdCBtYXRyaXggaW4gb3JkZXIgdG8gYXR0ZW1wdCBhIHNlY29uZCByZWFkaW5nLiAqLwoJICAgIEJpdE1hdHJpeFBhcnNlci5wcm90b3R5cGUubWlycm9yID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgYml0TWF0cml4ID0gdGhpcy5iaXRNYXRyaXg7CgkgICAgICAgIGZvciAodmFyIHggPSAwLCB3aWR0aCA9IGJpdE1hdHJpeC5nZXRXaWR0aCgpOyB4IDwgd2lkdGg7IHgrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgeSA9IHggKyAxLCBoZWlnaHQgPSBiaXRNYXRyaXguZ2V0SGVpZ2h0KCk7IHkgPCBoZWlnaHQ7IHkrKykgewoJICAgICAgICAgICAgICAgIGlmIChiaXRNYXRyaXguZ2V0KHgsIHkpICE9PSBiaXRNYXRyaXguZ2V0KHksIHgpKSB7CgkgICAgICAgICAgICAgICAgICAgIGJpdE1hdHJpeC5mbGlwKHksIHgpOwoJICAgICAgICAgICAgICAgICAgICBiaXRNYXRyaXguZmxpcCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHJldHVybiBCaXRNYXRyaXhQYXJzZXI7Cgl9KCkpOwoJQml0TWF0cml4UGFyc2VyJDEuZGVmYXVsdCA9IEJpdE1hdHJpeFBhcnNlcjsKCgl2YXIgRGF0YUJsb2NrJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGF0YUJsb2NrJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSQxID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIGJsb2NrIG9mIGRhdGEgd2l0aGluIGEgUVIgQ29kZS4gUVIgQ29kZXMgbWF5IHNwbGl0IHRoZWlyIGRhdGEgaW50bwoJICogbXVsdGlwbGUgYmxvY2tzLCBlYWNoIG9mIHdoaWNoIGlzIGEgdW5pdCBvZiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3Jkcy4gRWFjaAoJICogaXMgcmVwcmVzZW50ZWQgYnkgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERhdGFCbG9jayA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEYXRhQmxvY2sobnVtRGF0YUNvZGV3b3JkcyAvKmludCovLCBjb2Rld29yZHMpIHsKCSAgICAgICAgdGhpcy5udW1EYXRhQ29kZXdvcmRzID0gbnVtRGF0YUNvZGV3b3JkczsKCSAgICAgICAgdGhpcy5jb2Rld29yZHMgPSBjb2Rld29yZHM7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIDxwPldoZW4gUVIgQ29kZXMgdXNlIG11bHRpcGxlIGRhdGEgYmxvY2tzLCB0aGV5IGFyZSBhY3R1YWxseSBpbnRlcmxlYXZlZC4KCSAgICAgKiBUaGF0IGlzLCB0aGUgZmlyc3QgYnl0ZSBvZiBkYXRhIGJsb2NrIDEgdG8gbiBpcyB3cml0dGVuLCB0aGVuIHRoZSBzZWNvbmQgYnl0ZXMsIGFuZCBzbyBvbi4gVGhpcwoJICAgICAqIG1ldGhvZCB3aWxsIHNlcGFyYXRlIHRoZSBkYXRhIGludG8gb3JpZ2luYWwgYmxvY2tzLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSByYXdDb2Rld29yZHMgYnl0ZXMgYXMgcmVhZCBkaXJlY3RseSBmcm9tIHRoZSBRUiBDb2RlCgkgICAgICogQHBhcmFtIHZlcnNpb24gdmVyc2lvbiBvZiB0aGUgUVIgQ29kZQoJICAgICAqIEBwYXJhbSBlY0xldmVsIGVycm9yLWNvcnJlY3Rpb24gbGV2ZWwgb2YgdGhlIFFSIENvZGUKCSAgICAgKiBAcmV0dXJuIERhdGFCbG9ja3MgY29udGFpbmluZyBvcmlnaW5hbCBieXRlcywgImRlLWludGVybGVhdmVkIiBmcm9tIHJlcHJlc2VudGF0aW9uIGluIHRoZQoJICAgICAqICAgICAgICAgUVIgQ29kZQoJICAgICAqLwoJICAgIERhdGFCbG9jay5nZXREYXRhQmxvY2tzID0gZnVuY3Rpb24gKHJhd0NvZGV3b3JkcywgdmVyc2lvbiwgZWNMZXZlbCkgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgaWYgKHJhd0NvZGV3b3Jkcy5sZW5ndGggIT09IHZlcnNpb24uZ2V0VG90YWxDb2Rld29yZHMoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEZpZ3VyZSBvdXQgdGhlIG51bWJlciBhbmQgc2l6ZSBvZiBkYXRhIGJsb2NrcyB1c2VkIGJ5IHRoaXMgdmVyc2lvbiBhbmQKCSAgICAgICAgLy8gZXJyb3IgY29ycmVjdGlvbiBsZXZlbAoJICAgICAgICB2YXIgZWNCbG9ja3MgPSB2ZXJzaW9uLmdldEVDQmxvY2tzRm9yTGV2ZWwoZWNMZXZlbCk7CgkgICAgICAgIC8vIEZpcnN0IGNvdW50IHRoZSB0b3RhbCBudW1iZXIgb2YgZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIHRvdGFsQmxvY2tzID0gMDsKCSAgICAgICAgdmFyIGVjQmxvY2tBcnJheSA9IGVjQmxvY2tzLmdldEVDQmxvY2tzKCk7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICBmb3IgKHZhciBlY0Jsb2NrQXJyYXlfMSA9IF9fdmFsdWVzJDMoZWNCbG9ja0FycmF5KSwgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKTsgIWVjQmxvY2tBcnJheV8xXzEuZG9uZTsgZWNCbG9ja0FycmF5XzFfMSA9IGVjQmxvY2tBcnJheV8xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgIHZhciBlY0Jsb2NrID0gZWNCbG9ja0FycmF5XzFfMS52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbEJsb2NrcyArPSBlY0Jsb2NrLmdldENvdW50KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChlY0Jsb2NrQXJyYXlfMV8xICYmICFlY0Jsb2NrQXJyYXlfMV8xLmRvbmUgJiYgKF9hID0gZWNCbG9ja0FycmF5XzEucmV0dXJuKSkgX2EuY2FsbChlY0Jsb2NrQXJyYXlfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGVzdGFibGlzaCBEYXRhQmxvY2tzIG9mIHRoZSBhcHByb3ByaWF0ZSBzaXplIGFuZCBudW1iZXIgb2YgZGF0YSBjb2Rld29yZHMKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0b3RhbEJsb2Nrcyk7CgkgICAgICAgIHZhciBudW1SZXN1bHRCbG9ja3MgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZWNCbG9ja0FycmF5XzIgPSBfX3ZhbHVlcyQzKGVjQmxvY2tBcnJheSksIGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCk7ICFlY0Jsb2NrQXJyYXlfMl8xLmRvbmU7IGVjQmxvY2tBcnJheV8yXzEgPSBlY0Jsb2NrQXJyYXlfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZWNCbG9jayA9IGVjQmxvY2tBcnJheV8yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBlY0Jsb2NrLmdldENvdW50KCk7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtRGF0YUNvZGV3b3JkcyA9IGVjQmxvY2suZ2V0RGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgICAgICB2YXIgbnVtQmxvY2tDb2Rld29yZHMgPSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCkgKyBudW1EYXRhQ29kZXdvcmRzOwoJICAgICAgICAgICAgICAgICAgICByZXN1bHRbbnVtUmVzdWx0QmxvY2tzKytdID0gbmV3IERhdGFCbG9jayhudW1EYXRhQ29kZXdvcmRzLCBuZXcgVWludDhBcnJheShudW1CbG9ja0NvZGV3b3JkcykpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGVjQmxvY2tBcnJheV8yXzEgJiYgIWVjQmxvY2tBcnJheV8yXzEuZG9uZSAmJiAoX2IgPSBlY0Jsb2NrQXJyYXlfMi5yZXR1cm4pKSBfYi5jYWxsKGVjQmxvY2tBcnJheV8yKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8yKSB0aHJvdyBlXzIuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICAvLyBBbGwgYmxvY2tzIGhhdmUgdGhlIHNhbWUgYW1vdW50IG9mIGRhdGEsIGV4Y2VwdCB0aGF0IHRoZSBsYXN0IG4KCSAgICAgICAgLy8gKHdoZXJlIG4gbWF5IGJlIDApIGhhdmUgMSBtb3JlIGJ5dGUuIEZpZ3VyZSBvdXQgd2hlcmUgdGhlc2Ugc3RhcnQuCgkgICAgICAgIHZhciBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGxvbmdlckJsb2Nrc1N0YXJ0QXQgPSByZXN1bHQubGVuZ3RoIC0gMTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IGNoZWNrIGxlbmd0aCBpcyBjb3JyZWN0IGhlcmUKCSAgICAgICAgd2hpbGUgKGxvbmdlckJsb2Nrc1N0YXJ0QXQgPj0gMCkgewoJICAgICAgICAgICAgdmFyIG51bUNvZGV3b3JkcyA9IHJlc3VsdFtsb25nZXJCbG9ja3NTdGFydEF0XS5jb2Rld29yZHMubGVuZ3RoOwoJICAgICAgICAgICAgaWYgKG51bUNvZGV3b3JkcyA9PT0gc2hvcnRlckJsb2Nrc1RvdGFsQ29kZXdvcmRzKSB7CgkgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsb25nZXJCbG9ja3NTdGFydEF0LS07CgkgICAgICAgIH0KCSAgICAgICAgbG9uZ2VyQmxvY2tzU3RhcnRBdCsrOwoJICAgICAgICB2YXIgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHMgPSBzaG9ydGVyQmxvY2tzVG90YWxDb2Rld29yZHMgLSBlY0Jsb2Nrcy5nZXRFQ0NvZGV3b3Jkc1BlckJsb2NrKCk7CgkgICAgICAgIC8vIFRoZSBsYXN0IGVsZW1lbnRzIG9mIHJlc3VsdCBtYXkgYmUgMSBlbGVtZW50IGxvbmdlcgoJICAgICAgICAvLyBmaXJzdCBmaWxsIG91dCBhcyBtYW55IGVsZW1lbnRzIGFzIGFsbCBvZiB0aGVtIGhhdmUKCSAgICAgICAgdmFyIHJhd0NvZGV3b3Jkc09mZnNldCA9IDA7CgkgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBudW1SZXN1bHRCbG9ja3M7IGorKykgewoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaV0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIC8vIEZpbGwgb3V0IHRoZSBsYXN0IGRhdGEgYmxvY2sgaW4gdGhlIGxvbmdlciBvbmVzCgkgICAgICAgIGZvciAodmFyIGogPSBsb25nZXJCbG9ja3NTdGFydEF0OyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbc2hvcnRlckJsb2Nrc051bURhdGFDb2Rld29yZHNdID0gcmF3Q29kZXdvcmRzW3Jhd0NvZGV3b3Jkc09mZnNldCsrXTsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cgYWRkIGluIGVycm9yIGNvcnJlY3Rpb24gYmxvY2tzCgkgICAgICAgIHZhciBtYXggPSByZXN1bHRbMF0uY29kZXdvcmRzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IHNob3J0ZXJCbG9ja3NOdW1EYXRhQ29kZXdvcmRzOyBpIDwgbWF4OyBpKyspIHsKCSAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgbnVtUmVzdWx0QmxvY2tzOyBqKyspIHsKCSAgICAgICAgICAgICAgICB2YXIgaU9mZnNldCA9IGogPCBsb25nZXJCbG9ja3NTdGFydEF0ID8gaSA6IGkgKyAxOwoJICAgICAgICAgICAgICAgIHJlc3VsdFtqXS5jb2Rld29yZHNbaU9mZnNldF0gPSByYXdDb2Rld29yZHNbcmF3Q29kZXdvcmRzT2Zmc2V0KytdOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiByZXN1bHQ7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldE51bURhdGFDb2Rld29yZHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bURhdGFDb2Rld29yZHM7CgkgICAgfTsKCSAgICBEYXRhQmxvY2sucHJvdG90eXBlLmdldENvZGV3b3JkcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuY29kZXdvcmRzOwoJICAgIH07CgkgICAgcmV0dXJuIERhdGFCbG9jazsKCX0oKSk7CglEYXRhQmxvY2skMS5kZWZhdWx0ID0gRGF0YUJsb2NrOwoKCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEgPSB7fTsKCgl2YXIgQml0U291cmNlJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEJpdFNvdXJjZSQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbiB7Ki8KCXZhciBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMSA9IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiA8cD5UaGlzIHByb3ZpZGVzIGFuIGVhc3kgYWJzdHJhY3Rpb24gdG8gcmVhZCBiaXRzIGF0IGEgdGltZSBmcm9tIGEgc2VxdWVuY2Ugb2YgYnl0ZXMsIHdoZXJlIHRoZQoJICogbnVtYmVyIG9mIGJpdHMgcmVhZCBpcyBub3Qgb2Z0ZW4gYSBtdWx0aXBsZSBvZiA4LjwvcD4KCSAqCgkgKiA8cD5UaGlzIGNsYXNzIGlzIHRocmVhZC1zYWZlIGJ1dCBub3QgcmVlbnRyYW50IC0tIHVubGVzcyB0aGUgY2FsbGVyIG1vZGlmaWVzIHRoZSBieXRlcyBhcnJheQoJICogaXQgcGFzc2VkIGluLCBpbiB3aGljaCBjYXNlIGFsbCBiZXRzIGFyZSBvZmYuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBCaXRTb3VyY2UgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJ5dGVzIGJ5dGVzIGZyb20gd2hpY2ggdGhpcyB3aWxsIHJlYWQgYml0cy4gQml0cyB3aWxsIGJlIHJlYWQgZnJvbSB0aGUgZmlyc3QgYnl0ZSBmaXJzdC4KCSAgICAgKiBCaXRzIGFyZSByZWFkIHdpdGhpbiBhIGJ5dGUgZnJvbSBtb3N0LXNpZ25pZmljYW50IHRvIGxlYXN0LXNpZ25pZmljYW50IGJpdC4KCSAgICAgKi8KCSAgICBmdW5jdGlvbiBCaXRTb3VyY2UoYnl0ZXMpIHsKCSAgICAgICAgdGhpcy5ieXRlcyA9IGJ5dGVzOwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSAwOwoJICAgICAgICB0aGlzLmJpdE9mZnNldCA9IDA7CgkgICAgfQoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaW5kZXggb2YgbmV4dCBiaXQgaW4gY3VycmVudCBieXRlIHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qml0T2Zmc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5iaXRPZmZzZXQ7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGluZGV4IG9mIG5leHQgYnl0ZSBpbiBpbnB1dCBieXRlIGFycmF5IHdoaWNoIHdvdWxkIGJlIHJlYWQgYnkgdGhlIG5leHQgY2FsbCB0byB7QGxpbmsgI3JlYWRCaXRzKGludCl9LgoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuZ2V0Qnl0ZU9mZnNldCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYnl0ZU9mZnNldDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBudW1CaXRzIG51bWJlciBvZiBiaXRzIHRvIHJlYWQKCSAgICAgKiBAcmV0dXJuIGludCByZXByZXNlbnRpbmcgdGhlIGJpdHMgcmVhZC4gVGhlIGJpdHMgd2lsbCBhcHBlYXIgYXMgdGhlIGxlYXN0LXNpZ25pZmljYW50CgkgICAgICogICAgICAgICBiaXRzIG9mIHRoZSBpbnQKCSAgICAgKiBAdGhyb3dzIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbiBpZiBudW1CaXRzIGlzbid0IGluIFsxLDMyXSBvciBtb3JlIHRoYW4gaXMgYXZhaWxhYmxlCgkgICAgICovCgkgICAgQml0U291cmNlLnByb3RvdHlwZS5yZWFkQml0cyA9IGZ1bmN0aW9uIChudW1CaXRzIC8qaW50Ki8pIHsKCSAgICAgICAgaWYgKG51bUJpdHMgPCAxIHx8IG51bUJpdHMgPiAzMiB8fCBudW1CaXRzID4gdGhpcy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xLmRlZmF1bHQoJycgKyBudW1CaXRzKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVzdWx0ID0gMDsKCSAgICAgICAgdmFyIGJpdE9mZnNldCA9IHRoaXMuYml0T2Zmc2V0OwoJICAgICAgICB2YXIgYnl0ZU9mZnNldCA9IHRoaXMuYnl0ZU9mZnNldDsKCSAgICAgICAgdmFyIGJ5dGVzID0gdGhpcy5ieXRlczsKCSAgICAgICAgLy8gRmlyc3QsIHJlYWQgcmVtYWluZGVyIGZyb20gY3VycmVudCBieXRlCgkgICAgICAgIGlmIChiaXRPZmZzZXQgPiAwKSB7CgkgICAgICAgICAgICB2YXIgYml0c0xlZnQgPSA4IC0gYml0T2Zmc2V0OwoJICAgICAgICAgICAgdmFyIHRvUmVhZCA9IG51bUJpdHMgPCBiaXRzTGVmdCA/IG51bUJpdHMgOiBiaXRzTGVmdDsKCSAgICAgICAgICAgIHZhciBiaXRzVG9Ob3RSZWFkID0gYml0c0xlZnQgLSB0b1JlYWQ7CgkgICAgICAgICAgICB2YXIgbWFzayA9ICgweEZGID4+ICg4IC0gdG9SZWFkKSkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgIHJlc3VsdCA9IChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQ7CgkgICAgICAgICAgICBudW1CaXRzIC09IHRvUmVhZDsKCSAgICAgICAgICAgIGJpdE9mZnNldCArPSB0b1JlYWQ7CgkgICAgICAgICAgICBpZiAoYml0T2Zmc2V0ID09PSA4KSB7CgkgICAgICAgICAgICAgICAgYml0T2Zmc2V0ID0gMDsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gTmV4dCByZWFkIHdob2xlIGJ5dGVzCgkgICAgICAgIGlmIChudW1CaXRzID4gMCkgewoJICAgICAgICAgICAgd2hpbGUgKG51bUJpdHMgPj0gOCkgewoJICAgICAgICAgICAgICAgIHJlc3VsdCA9IChyZXN1bHQgPDwgOCkgfCAoYnl0ZXNbYnl0ZU9mZnNldF0gJiAweEZGKTsKCSAgICAgICAgICAgICAgICBieXRlT2Zmc2V0Kys7CgkgICAgICAgICAgICAgICAgbnVtQml0cyAtPSA4OwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gRmluYWxseSByZWFkIGEgcGFydGlhbCBieXRlCgkgICAgICAgICAgICBpZiAobnVtQml0cyA+IDApIHsKCSAgICAgICAgICAgICAgICB2YXIgYml0c1RvTm90UmVhZCA9IDggLSBudW1CaXRzOwoJICAgICAgICAgICAgICAgIHZhciBtYXNrID0gKDB4RkYgPj4gYml0c1RvTm90UmVhZCkgPDwgYml0c1RvTm90UmVhZDsKCSAgICAgICAgICAgICAgICByZXN1bHQgPSAocmVzdWx0IDw8IG51bUJpdHMpIHwgKChieXRlc1tieXRlT2Zmc2V0XSAmIG1hc2spID4+IGJpdHNUb05vdFJlYWQpOwoJICAgICAgICAgICAgICAgIGJpdE9mZnNldCArPSBudW1CaXRzOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHRoaXMuYml0T2Zmc2V0ID0gYml0T2Zmc2V0OwoJICAgICAgICB0aGlzLmJ5dGVPZmZzZXQgPSBieXRlT2Zmc2V0OwoJICAgICAgICByZXR1cm4gcmVzdWx0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB0aGF0IGNhbiBiZSByZWFkIHN1Y2Nlc3NmdWxseQoJICAgICAqLwoJICAgIEJpdFNvdXJjZS5wcm90b3R5cGUuYXZhaWxhYmxlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gOCAqICh0aGlzLmJ5dGVzLmxlbmd0aCAtIHRoaXMuYnl0ZU9mZnNldCkgLSB0aGlzLmJpdE9mZnNldDsKCSAgICB9OwoJICAgIHJldHVybiBCaXRTb3VyY2U7Cgl9KCkpOwoJQml0U291cmNlJDEuZGVmYXVsdCA9IEJpdFNvdXJjZTsKCgl2YXIgRGVjb2RlclJlc3VsdCQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVyUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGVjb2RpbmcgYSBtYXRyaXggb2YgYml0cy4gVGhpcyB0eXBpY2FsbHkKCSAqIGFwcGxpZXMgdG8gMkQgYmFyY29kZSBmb3JtYXRzLiBGb3Igbm93IGl0IGNvbnRhaW5zIHRoZSByYXcgYnl0ZXMgb2J0YWluZWQsCgkgKiBhcyB3ZWxsIGFzIGEgU3RyaW5nIGludGVycHJldGF0aW9uIG9mIHRob3NlIGJ5dGVzLCBpZiBhcHBsaWNhYmxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlclJlc3VsdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IocmF3Qnl0ZXM6IFVpbnQ4QXJyYXksCgkgICAgLy8gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIExpc3Q8VWludDhBcnJheT4gYnl0ZVNlZ21lbnRzLAoJICAgIC8vICAgICAgICAgICAgICAgICAgICAgIFN0cmluZyBlY0xldmVsKSB7CgkgICAgLy8gICB0aGlzKHJhd0J5dGVzLCB0ZXh0LCBieXRlU2VnbWVudHMsIGVjTGV2ZWwsIC0xLCAtMSkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRGVjb2RlclJlc3VsdChyYXdCeXRlcywgdGV4dCwgYnl0ZVNlZ21lbnRzLCBlY0xldmVsLCBzdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXIsIHN0cnVjdHVyZWRBcHBlbmRQYXJpdHkpIHsKCSAgICAgICAgaWYgKHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9PT0gdm9pZCAwKSB7IHN0cnVjdHVyZWRBcHBlbmRTZXF1ZW5jZU51bWJlciA9IC0xOyB9CgkgICAgICAgIGlmIChzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID09PSB2b2lkIDApIHsgc3RydWN0dXJlZEFwcGVuZFBhcml0eSA9IC0xOyB9CgkgICAgICAgIHRoaXMucmF3Qnl0ZXMgPSByYXdCeXRlczsKCSAgICAgICAgdGhpcy50ZXh0ID0gdGV4dDsKCSAgICAgICAgdGhpcy5ieXRlU2VnbWVudHMgPSBieXRlU2VnbWVudHM7CgkgICAgICAgIHRoaXMuZWNMZXZlbCA9IGVjTGV2ZWw7CgkgICAgICAgIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyOwoJICAgICAgICB0aGlzLnN0cnVjdHVyZWRBcHBlbmRQYXJpdHkgPSBzdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgICAgICB0aGlzLm51bUJpdHMgPSAocmF3Qnl0ZXMgPT09IHVuZGVmaW5lZCB8fCByYXdCeXRlcyA9PT0gbnVsbCkgPyAwIDogOCAqIHJhd0J5dGVzLmxlbmd0aDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiByYXcgYnl0ZXMgcmVwcmVzZW50aW5nIHRoZSByZXN1bHQsIG9yIHtAY29kZSBudWxsfSBpZiBub3QgYXBwbGljYWJsZQoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldFJhd0J5dGVzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yYXdCeXRlczsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gaG93IG1hbnkgYml0cyBvZiB7QGxpbmsgI2dldFJhd0J5dGVzKCl9IGFyZSB2YWxpZDsgdHlwaWNhbGx5IDggdGltZXMgaXRzIGxlbmd0aAoJICAgICAqIEBzaW5jZSAzLjMuMAoJICAgICAqLwoJICAgIERlY29kZXJSZXN1bHQucHJvdG90eXBlLmdldE51bUJpdHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm51bUJpdHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gbnVtQml0cyBvdmVycmlkZXMgdGhlIG51bWJlciBvZiBiaXRzIHRoYXQgYXJlIHZhbGlkIGluIHtAbGluayAjZ2V0UmF3Qnl0ZXMoKX0KCSAgICAgKiBAc2luY2UgMy4zLjAKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXROdW1CaXRzID0gZnVuY3Rpb24gKG51bUJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLm51bUJpdHMgPSBudW1CaXRzOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0ZXh0IHJlcHJlc2VudGF0aW9uIG9mIHRoZSByZXN1bHQKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50ZXh0OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBsaXN0IG9mIGJ5dGUgc2VnbWVudHMgaW4gdGhlIHJlc3VsdCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0Qnl0ZVNlZ21lbnRzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5ieXRlU2VnbWVudHM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIG5hbWUgb2YgZXJyb3IgY29ycmVjdGlvbiBsZXZlbCB1c2VkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFQ0xldmVsID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lY0xldmVsOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJyb3JzIGNvcnJlY3RlZCwgb3Ige0Bjb2RlIG51bGx9IGlmIG5vdCBhcHBsaWNhYmxlCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0RXJyb3JzQ29ycmVjdGVkID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lcnJvcnNDb3JyZWN0ZWQ7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcnJvcnNDb3JyZWN0ZWQgPSBmdW5jdGlvbiAoZXJyb3JzQ29ycmVjdGVkIC8qSW50ZWdlciovKSB7CgkgICAgICAgIHRoaXMuZXJyb3JzQ29ycmVjdGVkID0gZXJyb3JzQ29ycmVjdGVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgZXJhc3VyZXMgY29ycmVjdGVkLCBvciB7QGNvZGUgbnVsbH0gaWYgbm90IGFwcGxpY2FibGUKCSAgICAgKi8KCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRFcmFzdXJlcyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuZXJhc3VyZXM7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5zZXRFcmFzdXJlcyA9IGZ1bmN0aW9uIChlcmFzdXJlcyAvKkludGVnZXIqLykgewoJICAgICAgICB0aGlzLmVyYXN1cmVzID0gZXJhc3VyZXM7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIGFyYml0cmFyeSBhZGRpdGlvbmFsIG1ldGFkYXRhCgkgICAgICovCgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0T3RoZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuc2V0T3RoZXIgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgdGhpcy5vdGhlciA9IG90aGVyOwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuaGFzU3RydWN0dXJlZEFwcGVuZCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuc3RydWN0dXJlZEFwcGVuZFBhcml0eSA+PSAwICYmIHRoaXMuc3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID49IDA7CgkgICAgfTsKCSAgICBEZWNvZGVyUmVzdWx0LnByb3RvdHlwZS5nZXRTdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kUGFyaXR5OwoJICAgIH07CgkgICAgRGVjb2RlclJlc3VsdC5wcm90b3R5cGUuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJ1Y3R1cmVkQXBwZW5kU2VxdWVuY2VOdW1iZXI7CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlclJlc3VsdDsKCX0oKSk7CglEZWNvZGVyUmVzdWx0JDEuZGVmYXVsdCA9IERlY29kZXJSZXN1bHQ7CgoJdmFyIE1vZGUgPSB7fTsKCgkoZnVuY3Rpb24gKGV4cG9ydHMpIHsKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJZXhwb3J0cy5Nb2RlVmFsdWVzID0gdm9pZCAwOwoJdmFyIElsbGVnYWxBcmd1bWVudEV4Y2VwdGlvbl8xID0gSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uJDE7Cgl2YXIgTW9kZVZhbHVlczsKCShmdW5jdGlvbiAoTW9kZVZhbHVlcykgewoJICAgIE1vZGVWYWx1ZXNbTW9kZVZhbHVlc1siVEVSTUlOQVRPUiJdID0gMF0gPSAiVEVSTUlOQVRPUiI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJOVU1FUklDIl0gPSAxXSA9ICJOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkFMUEhBTlVNRVJJQyJdID0gMl0gPSAiQUxQSEFOVU1FUklDIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIlNUUlVDVFVSRURfQVBQRU5EIl0gPSAzXSA9ICJTVFJVQ1RVUkVEX0FQUEVORCI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJCWVRFIl0gPSA0XSA9ICJCWVRFIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkVDSSJdID0gNV0gPSAiRUNJIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIktBTkpJIl0gPSA2XSA9ICJLQU5KSSI7CgkgICAgTW9kZVZhbHVlc1tNb2RlVmFsdWVzWyJGTkMxX0ZJUlNUX1BPU0lUSU9OIl0gPSA3XSA9ICJGTkMxX0ZJUlNUX1BPU0lUSU9OIjsKCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkZOQzFfU0VDT05EX1BPU0lUSU9OIl0gPSA4XSA9ICJGTkMxX1NFQ09ORF9QT1NJVElPTiI7CgkgICAgLyoqIFNlZSBHQlQgMTgyODQtMjAwMDsgIkhhbnppIiBpcyBhIHRyYW5zbGl0ZXJhdGlvbiBvZiB0aGlzIG1vZGUgbmFtZS4gKi8KCSAgICBNb2RlVmFsdWVzW01vZGVWYWx1ZXNbIkhBTlpJIl0gPSA5XSA9ICJIQU5aSSI7Cgl9KShNb2RlVmFsdWVzID0gZXhwb3J0cy5Nb2RlVmFsdWVzIHx8IChleHBvcnRzLk1vZGVWYWx1ZXMgPSB7fSkpOwoJLyoqCgkgKiA8cD5TZWUgSVNPIDE4MDA0OjIwMDYsIDYuNC4xLCBUYWJsZXMgMiBhbmQgMy4gVGhpcyBlbnVtIGVuY2Fwc3VsYXRlcyB0aGUgdmFyaW91cyBtb2RlcyBpbiB3aGljaAoJICogZGF0YSBjYW4gYmUgZW5jb2RlZCB0byBiaXRzIGluIHRoZSBRUiBjb2RlIHN0YW5kYXJkLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgTW9kZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBNb2RlKHZhbHVlLCBzdHJpbmdWYWx1ZSwgY2hhcmFjdGVyQ291bnRCaXRzRm9yVmVyc2lvbnMsIGJpdHMgLyppbnQqLykgewoJICAgICAgICB0aGlzLnZhbHVlID0gdmFsdWU7CgkgICAgICAgIHRoaXMuc3RyaW5nVmFsdWUgPSBzdHJpbmdWYWx1ZTsKCSAgICAgICAgdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9ucyA9IGNoYXJhY3RlckNvdW50Qml0c0ZvclZlcnNpb25zOwoJICAgICAgICB0aGlzLmJpdHMgPSBiaXRzOwoJICAgICAgICBNb2RlLkZPUl9CSVRTLnNldChiaXRzLCB0aGlzKTsKCSAgICAgICAgTW9kZS5GT1JfVkFMVUUuc2V0KHZhbHVlLCB0aGlzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHBhcmFtIGJpdHMgZm91ciBiaXRzIGVuY29kaW5nIGEgUVIgQ29kZSBkYXRhIG1vZGUKCSAgICAgKiBAcmV0dXJuIE1vZGUgZW5jb2RlZCBieSB0aGVzZSBiaXRzCgkgICAgICogQHRocm93cyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb24gaWYgYml0cyBkbyBub3QgY29ycmVzcG9uZCB0byBhIGtub3duIG1vZGUKCSAgICAgKi8KCSAgICBNb2RlLmZvckJpdHMgPSBmdW5jdGlvbiAoYml0cyAvKmludCovKSB7CgkgICAgICAgIHZhciBtb2RlID0gTW9kZS5GT1JfQklUUy5nZXQoYml0cyk7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IG1vZGUpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBJbGxlZ2FsQXJndW1lbnRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG1vZGU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gdmVyc2lvbiB2ZXJzaW9uIGluIHF1ZXN0aW9uCgkgICAgICogQHJldHVybiBudW1iZXIgb2YgYml0cyB1c2VkLCBpbiB0aGlzIFFSIENvZGUgc3ltYm9sIHtAbGluayBWZXJzaW9ufSwgdG8gZW5jb2RlIHRoZQoJICAgICAqICAgICAgICAgY291bnQgb2YgY2hhcmFjdGVycyB0aGF0IHdpbGwgZm9sbG93IGVuY29kZWQgaW4gdGhpcyBNb2RlCgkgICAgICovCgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Q2hhcmFjdGVyQ291bnRCaXRzID0gZnVuY3Rpb24gKHZlcnNpb24pIHsKCSAgICAgICAgdmFyIHZlcnNpb25OdW1iZXIgPSB2ZXJzaW9uLmdldFZlcnNpb25OdW1iZXIoKTsKCSAgICAgICAgdmFyIG9mZnNldDsKCSAgICAgICAgaWYgKHZlcnNpb25OdW1iZXIgPD0gOSkgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmICh2ZXJzaW9uTnVtYmVyIDw9IDI2KSB7CgkgICAgICAgICAgICBvZmZzZXQgPSAxOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgb2Zmc2V0ID0gMjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gdGhpcy5jaGFyYWN0ZXJDb3VudEJpdHNGb3JWZXJzaW9uc1tvZmZzZXRdOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0VmFsdWUgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlOwoJICAgIH07CgkgICAgTW9kZS5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLmVxdWFscyA9IGZ1bmN0aW9uIChvKSB7CgkgICAgICAgIGlmICghKG8gaW5zdGFuY2VvZiBNb2RlKSkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlciA9IG87CgkgICAgICAgIHJldHVybiB0aGlzLnZhbHVlID09PSBvdGhlci52YWx1ZTsKCSAgICB9OwoJICAgIE1vZGUucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5zdHJpbmdWYWx1ZTsKCSAgICB9OwoJICAgIE1vZGUuRk9SX0JJVFMgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5GT1JfVkFMVUUgPSBuZXcgTWFwKCk7CgkgICAgTW9kZS5URVJNSU5BVE9SID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5URVJNSU5BVE9SLCAnVEVSTUlOQVRPUicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDAwKTsgLy8gTm90IHJlYWxseSBhIG1vZGUuLi4KCSAgICBNb2RlLk5VTUVSSUMgPSBuZXcgTW9kZShNb2RlVmFsdWVzLk5VTUVSSUMsICdOVU1FUklDJywgSW50MzJBcnJheS5mcm9tKFsxMCwgMTIsIDE0XSksIDB4MDEpOwoJICAgIE1vZGUuQUxQSEFOVU1FUklDID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5BTFBIQU5VTUVSSUMsICdBTFBIQU5VTUVSSUMnLCBJbnQzMkFycmF5LmZyb20oWzksIDExLCAxM10pLCAweDAyKTsKCSAgICBNb2RlLlNUUlVDVFVSRURfQVBQRU5EID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5TVFJVQ1RVUkVEX0FQUEVORCwgJ1NUUlVDVFVSRURfQVBQRU5EJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDMpOyAvLyBOb3Qgc3VwcG9ydGVkCgkgICAgTW9kZS5CWVRFID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5CWVRFLCAnQllURScsIEludDMyQXJyYXkuZnJvbShbOCwgMTYsIDE2XSksIDB4MDQpOwoJICAgIE1vZGUuRUNJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5FQ0ksICdFQ0knLCBJbnQzMkFycmF5LmZyb20oWzAsIDAsIDBdKSwgMHgwNyk7IC8vIGNoYXJhY3RlciBjb3VudHMgZG9uJ3QgYXBwbHkKCSAgICBNb2RlLktBTkpJID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5LQU5KSSwgJ0tBTkpJJywgSW50MzJBcnJheS5mcm9tKFs4LCAxMCwgMTJdKSwgMHgwOCk7CgkgICAgTW9kZS5GTkMxX0ZJUlNUX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX0ZJUlNUX1BPU0lUSU9OLCAnRk5DMV9GSVJTVF9QT1NJVElPTicsIEludDMyQXJyYXkuZnJvbShbMCwgMCwgMF0pLCAweDA1KTsKCSAgICBNb2RlLkZOQzFfU0VDT05EX1BPU0lUSU9OID0gbmV3IE1vZGUoTW9kZVZhbHVlcy5GTkMxX1NFQ09ORF9QT1NJVElPTiwgJ0ZOQzFfU0VDT05EX1BPU0lUSU9OJywgSW50MzJBcnJheS5mcm9tKFswLCAwLCAwXSksIDB4MDkpOwoJICAgIC8qKiBTZWUgR0JUIDE4Mjg0LTIwMDA7ICJIYW56aSIgaXMgYSB0cmFuc2xpdGVyYXRpb24gb2YgdGhpcyBtb2RlIG5hbWUuICovCgkgICAgTW9kZS5IQU5aSSA9IG5ldyBNb2RlKE1vZGVWYWx1ZXMuSEFOWkksICdIQU5aSScsIEludDMyQXJyYXkuZnJvbShbOCwgMTAsIDEyXSksIDB4MEQpOwoJICAgIHJldHVybiBNb2RlOwoJfSgpKTsKCWV4cG9ydHMuZGVmYXVsdCA9IE1vZGU7CgoJfShNb2RlKSk7CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlLmRlY29kZXIgeyovCgl2YXIgQml0U291cmNlXzEgPSBCaXRTb3VyY2UkMTsKCXZhciBDaGFyYWN0ZXJTZXRFQ0lfMSA9IENoYXJhY3RlclNldEVDSTsKCXZhciBEZWNvZGVyUmVzdWx0XzEgPSBEZWNvZGVyUmVzdWx0JDE7Cgl2YXIgU3RyaW5nVXRpbHNfMSA9IFN0cmluZ1V0aWxzJDE7Cgl2YXIgRm9ybWF0RXhjZXB0aW9uXzEgPSBGb3JtYXRFeGNlcHRpb24kMTsKCXZhciBTdHJpbmdCdWlsZGVyXzEgPSBTdHJpbmdCdWlsZGVyJDE7Cgl2YXIgU3RyaW5nRW5jb2RpbmdfMSA9IFN0cmluZ0VuY29kaW5nJDE7Cgl2YXIgTW9kZV8xID0gTW9kZTsKCS8qaW1wb3J0IGphdmEuaW8uVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbjsqLwoJLyppbXBvcnQgamF2YS51dGlsLkFycmF5TGlzdDsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbGxlY3Rpb247Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlFSIENvZGVzIGNhbiBlbmNvZGUgdGV4dCBhcyBiaXRzIGluIG9uZSBvZiBzZXZlcmFsIG1vZGVzLCBhbmQgY2FuIHVzZSBtdWx0aXBsZSBtb2RlcwoJICogaW4gb25lIFFSIENvZGUuIFRoaXMgY2xhc3MgZGVjb2RlcyB0aGUgYml0cyBiYWNrIGludG8gdGV4dC48L3A+CgkgKgoJICogPHA+U2VlIElTTyAxODAwNDoyMDA2LCA2LjQuMyAtIDYuNC43PC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWNvZGVkQml0U3RyZWFtUGFyc2VyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERlY29kZWRCaXRTdHJlYW1QYXJzZXIoKSB7CgkgICAgfQoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlID0gZnVuY3Rpb24gKGJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cykgewoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRTb3VyY2VfMS5kZWZhdWx0KGJ5dGVzKTsKCSAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBTdHJpbmdCdWlsZGVyXzEuZGVmYXVsdCgpOwoJICAgICAgICB2YXIgYnl0ZVNlZ21lbnRzID0gbmV3IEFycmF5KCk7IC8vIDEKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IEkgZG8gbm90IHVzZSBjb25zdHJ1Y3RvciB3aXRoIHNpemUgMSBhcyBpbiBvcmlnaW5hbCBKYXZhIG1lYW5zIGNhcGFjaXR5IGFuZCB0aGUgYXJyYXkgbGVuZ3RoIGlzIGNoZWNrZWQgYmVsb3cKCSAgICAgICAgdmFyIHN5bWJvbFNlcXVlbmNlID0gLTE7CgkgICAgICAgIHZhciBwYXJpdHlEYXRhID0gLTE7CgkgICAgICAgIHRyeSB7CgkgICAgICAgICAgICB2YXIgY3VycmVudENoYXJhY3RlclNldEVDSSA9IG51bGw7CgkgICAgICAgICAgICB2YXIgZmMxSW5FZmZlY3QgPSBmYWxzZTsKCSAgICAgICAgICAgIHZhciBtb2RlID0gdm9pZCAwOwoJICAgICAgICAgICAgZG8gewoJICAgICAgICAgICAgICAgIC8vIFdoaWxlIHN0aWxsIGFub3RoZXIgc2VnbWVudCB0byByZWFkLi4uCgkgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA0KSB7CgkgICAgICAgICAgICAgICAgICAgIC8vIE9LLCBhc3N1bWUgd2UncmUgZG9uZS4gUmVhbGx5LCBhIFRFUk1JTkFUT1IgbW9kZSBzaG91bGQgaGF2ZSBiZWVuIHJlY29yZGVkIGhlcmUKCSAgICAgICAgICAgICAgICAgICAgbW9kZSA9IE1vZGVfMS5kZWZhdWx0LlRFUk1JTkFUT1I7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgICAgICAgICB2YXIgbW9kZUJpdHMgPSBiaXRzLnJlYWRCaXRzKDQpOwoJICAgICAgICAgICAgICAgICAgICBtb2RlID0gTW9kZV8xLmRlZmF1bHQuZm9yQml0cyhtb2RlQml0cyk7IC8vIG1vZGUgaXMgZW5jb2RlZCBieSA0IGJpdHMKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgc3dpdGNoIChtb2RlKSB7CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUjoKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkZOQzFfRklSU1RfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuRk5DMV9TRUNPTkRfUE9TSVRJT046CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBkbyBsaXR0bGUgd2l0aCBGTkMxIGV4Y2VwdCBhbHRlciB0aGUgcGFyc2VkIHJlc3VsdCBhIGJpdCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMKCSAgICAgICAgICAgICAgICAgICAgICAgIGZjMUluRWZmZWN0ID0gdHJ1ZTsKCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LlNUUlVDVFVSRURfQVBQRU5EOgoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCAxNikgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXF1ZW5jZSBudW1iZXIgYW5kIHBhcml0eSBpcyBhZGRlZCBsYXRlciB0byB0aGUgcmVzdWx0IG1ldGFkYXRhCgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBSZWFkIG5leHQgOCBiaXRzIChzeW1ib2wgc2VxdWVuY2UgIykgYW5kIDggYml0cyAoZGF0YTogcGFyaXR5KSwgdGhlbiBjb250aW51ZQoJICAgICAgICAgICAgICAgICAgICAgICAgc3ltYm9sU2VxdWVuY2UgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgcGFyaXR5RGF0YSA9IGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5FQ0k6CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDb3VudCBkb2Vzbid0IGFwcGx5IHRvIEVDSQoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5wYXJzZUVDSVZhbHVlKGJpdHMpOwoJICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudENoYXJhY3RlclNldEVDSSA9IENoYXJhY3RlclNldEVDSV8xLmRlZmF1bHQuZ2V0Q2hhcmFjdGVyU2V0RUNJQnlWYWx1ZSh2YWx1ZSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgY2FzZSBNb2RlXzEuZGVmYXVsdC5IQU5aSToKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZpcnN0IGhhbmRsZSBIYW56aSBtb2RlIHdoaWNoIGRvZXMgbm90IHN0YXJ0IHdpdGggY2hhcmFjdGVyIGNvdW50CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBDaGluZXNlIG1vZGUgY29udGFpbnMgYSBzdWIgc2V0IGluZGljYXRvciByaWdodCBhZnRlciBtb2RlIGluZGljYXRvcgoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN1YnNldCA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRIYW56aSA9IGJpdHMucmVhZEJpdHMobW9kZS5nZXRDaGFyYWN0ZXJDb3VudEJpdHModmVyc2lvbikpOwoJICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHN1YnNldCA9PT0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUKSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVIYW56aVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudEhhbnppKTsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gIk5vcm1hbCIgUVIgY29kZSBtb2RlczoKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvdyBtYW55IGNoYXJhY3RlcnMgd2lsbCBmb2xsb3csIGVuY29kZWQgaW4gdGhpcyBtb2RlPwoJICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50ID0gYml0cy5yZWFkQml0cyhtb2RlLmdldENoYXJhY3RlckNvdW50Qml0cyh2ZXJzaW9uKSk7CgkgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKG1vZGUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0Lk5VTUVSSUM6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlTnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuQUxQSEFOVU1FUklDOgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgZmMxSW5FZmZlY3QpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIE1vZGVfMS5kZWZhdWx0LkJZVEU6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQoYml0cywgcmVzdWx0LCBjb3VudCwgY3VycmVudENoYXJhY3RlclNldEVDSSwgYnl0ZVNlZ21lbnRzLCBoaW50cyk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgTW9kZV8xLmRlZmF1bHQuS0FOSkk6CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlS2FuamlTZWdtZW50KGJpdHMsIHJlc3VsdCwgY291bnQpOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSB3aGlsZSAobW9kZSAhPT0gTW9kZV8xLmRlZmF1bHQuVEVSTUlOQVRPUik7CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlhZSAvKjogSWxsZWdhbEFyZ3VtZW50RXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIGZyb20gcmVhZEJpdHMoKSBjYWxscwoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gbmV3IERlY29kZXJSZXN1bHRfMS5kZWZhdWx0KGJ5dGVzLCByZXN1bHQudG9TdHJpbmcoKSwgYnl0ZVNlZ21lbnRzLmxlbmd0aCA9PT0gMCA/IG51bGwgOiBieXRlU2VnbWVudHMsIGVjTGV2ZWwgPT09IG51bGwgPyBudWxsIDogZWNMZXZlbC50b1N0cmluZygpLCBzeW1ib2xTZXF1ZW5jZSwgcGFyaXR5RGF0YSk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBTZWUgc3BlY2lmaWNhdGlvbiBHQlQgMTgyODQtMjAwMAoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlSGFuemlTZWdtZW50ID0gZnVuY3Rpb24gKGJpdHMsIHJlc3VsdCwgY291bnQgLyppbnQqLykgewoJICAgICAgICAvLyBEb24ndCBjcmFzaCB0cnlpbmcgdG8gcmVhZCBtb3JlIGJpdHMgdGhhbiB3ZSBoYXZlIGF2YWlsYWJsZS4KCSAgICAgICAgaWYgKGNvdW50ICogMTMgPiBiaXRzLmF2YWlsYWJsZSgpKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIC8vIEVhY2ggY2hhcmFjdGVyIHdpbGwgcmVxdWlyZSAyIGJ5dGVzLiBSZWFkIHRoZSBjaGFyYWN0ZXJzIGFzIDItYnl0ZSBwYWlycwoJICAgICAgICAvLyBhbmQgZGVjb2RlIGFzIEdCMjMxMiBhZnRlcndhcmRzCgkgICAgICAgIHZhciBidWZmZXIgPSBuZXcgVWludDhBcnJheSgyICogY291bnQpOwoJICAgICAgICB2YXIgb2Zmc2V0ID0gMDsKCSAgICAgICAgd2hpbGUgKGNvdW50ID4gMCkgewoJICAgICAgICAgICAgLy8gRWFjaCAxMyBiaXRzIGVuY29kZXMgYSAyLWJ5dGUgY2hhcmFjdGVyCgkgICAgICAgICAgICB2YXIgdHdvQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDEzKTsKCSAgICAgICAgICAgIHZhciBhc3NlbWJsZWRUd29CeXRlcyA9ICgoKHR3b0J5dGVzIC8gMHgwNjApIDw8IDgpICYgMHhGRkZGRkZGRikgfCAodHdvQnl0ZXMgJSAweDA2MCk7CgkgICAgICAgICAgICBpZiAoYXNzZW1ibGVkVHdvQnl0ZXMgPCAweDAwM0JGKSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QTFBMSB0byAweEFBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBMUExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgLy8gSW4gdGhlIDB4QjBBMSB0byAweEZBRkUgcmFuZ2UKCSAgICAgICAgICAgICAgICBhc3NlbWJsZWRUd29CeXRlcyArPSAweDBBNkExOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYnVmZmVyW29mZnNldF0gPSAvKihieXRlKSAqLyAoKGFzc2VtYmxlZFR3b0J5dGVzID4+IDgpICYgMHhGRik7CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0ICsgMV0gPSAvKihieXRlKSAqLyAoYXNzZW1ibGVkVHdvQnl0ZXMgJiAweEZGKTsKCSAgICAgICAgICAgIG9mZnNldCArPSAyOwoJICAgICAgICAgICAgY291bnQtLTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKGJ1ZmZlciwgU3RyaW5nVXRpbHNfMS5kZWZhdWx0LkdCMjMxMikpOwoJICAgICAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IFRPRE86IGltcGxlbWVudCBHQjIzMTIgZGVjb2RlLiBTdHJpbmdWaWV3IGZyb20gTUROIGNvdWxkIGJlIGEgc3RhcnRpbmcgcG9pbnQKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVLYW5qaVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoY291bnQgKiAxMyA+IGJpdHMuYXZhaWxhYmxlKCkpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gRWFjaCBjaGFyYWN0ZXIgd2lsbCByZXF1aXJlIDIgYnl0ZXMuIFJlYWQgdGhlIGNoYXJhY3RlcnMgYXMgMi1ieXRlIHBhaXJzCgkgICAgICAgIC8vIGFuZCBkZWNvZGUgYXMgU2hpZnRfSklTIGFmdGVyd2FyZHMKCSAgICAgICAgdmFyIGJ1ZmZlciA9IG5ldyBVaW50OEFycmF5KDIgKiBjb3VudCk7CgkgICAgICAgIHZhciBvZmZzZXQgPSAwOwoJICAgICAgICB3aGlsZSAoY291bnQgPiAwKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEzIGJpdHMgZW5jb2RlcyBhIDItYnl0ZSBjaGFyYWN0ZXIKCSAgICAgICAgICAgIHZhciB0d29CeXRlcyA9IGJpdHMucmVhZEJpdHMoMTMpOwoJICAgICAgICAgICAgdmFyIGFzc2VtYmxlZFR3b0J5dGVzID0gKCgodHdvQnl0ZXMgLyAweDBDMCkgPDwgOCkgJiAweEZGRkZGRkZGKSB8ICh0d29CeXRlcyAlIDB4MEMwKTsKCSAgICAgICAgICAgIGlmIChhc3NlbWJsZWRUd29CeXRlcyA8IDB4MDFGMDApIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHg4MTQwIHRvIDB4OUZGQyByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MDgxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAvLyBJbiB0aGUgMHhFMDQwIHRvIDB4RUJCRiByYW5nZQoJICAgICAgICAgICAgICAgIGFzc2VtYmxlZFR3b0J5dGVzICs9IDB4MEMxNDA7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBidWZmZXJbb2Zmc2V0XSA9IC8qKGJ5dGUpICovIChhc3NlbWJsZWRUd29CeXRlcyA+PiA4KTsKCSAgICAgICAgICAgIGJ1ZmZlcltvZmZzZXQgKyAxXSA9IC8qKGJ5dGUpICovIGFzc2VtYmxlZFR3b0J5dGVzOwoJICAgICAgICAgICAgb2Zmc2V0ICs9IDI7CgkgICAgICAgICAgICBjb3VudC0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIFNoaWZ0X0pJUyBtYXkgbm90IGJlIHN1cHBvcnRlZCBpbiBzb21lIGVudmlyb25tZW50czoKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoU3RyaW5nRW5jb2RpbmdfMS5kZWZhdWx0LmRlY29kZShidWZmZXIsIFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5TSElGVF9KSVMpKTsKCSAgICAgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBUT0RPOiBpbXBsZW1lbnQgU0hJRlRfSklTIGRlY29kZS4gU3RyaW5nVmlldyBmcm9tIE1ETiBjb3VsZCBiZSBhIHN0YXJ0aW5nIHBvaW50CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGlnbm9yZWQgLyo6IFVuc3VwcG9ydGVkRW5jb2RpbmdFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoaWdub3JlZCk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuZGVjb2RlQnl0ZVNlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLCBieXRlU2VnbWVudHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIERvbid0IGNyYXNoIHRyeWluZyB0byByZWFkIG1vcmUgYml0cyB0aGFuIHdlIGhhdmUgYXZhaWxhYmxlLgoJICAgICAgICBpZiAoOCAqIGNvdW50ID4gYml0cy5hdmFpbGFibGUoKSkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgcmVhZEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoY291bnQpOwoJICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50OyBpKyspIHsKCSAgICAgICAgICAgIHJlYWRCeXRlc1tpXSA9IC8qKGJ5dGUpICovIGJpdHMucmVhZEJpdHMoOCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVuY29kaW5nOwoJICAgICAgICBpZiAoY3VycmVudENoYXJhY3RlclNldEVDSSA9PT0gbnVsbCkgewoJICAgICAgICAgICAgLy8gVGhlIHNwZWMgaXNuJ3QgY2xlYXIgb24gdGhpcyBtb2RlOyBzZWUKCSAgICAgICAgICAgIC8vIHNlY3Rpb24gNi40LjU6IHQgZG9lcyBub3Qgc2F5IHdoaWNoIGVuY29kaW5nIHRvIGFzc3VtaW5nCgkgICAgICAgICAgICAvLyB1cG9uIGRlY29kaW5nLiBJIGhhdmUgc2VlbiBJU08tODg1OS0xIHVzZWQgYXMgd2VsbCBhcwoJICAgICAgICAgICAgLy8gU2hpZnRfSklTIC0tIHdpdGhvdXQgYW55dGhpbmcgbGlrZSBhbiBFQ0kgZGVzaWduYXRvciB0bwoJICAgICAgICAgICAgLy8gZ2l2ZSBhIGhpbnQuCgkgICAgICAgICAgICBlbmNvZGluZyA9IFN0cmluZ1V0aWxzXzEuZGVmYXVsdC5ndWVzc0VuY29kaW5nKHJlYWRCeXRlcywgaGludHMpOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgZW5jb2RpbmcgPSBjdXJyZW50Q2hhcmFjdGVyU2V0RUNJLmdldE5hbWUoKTsKCSAgICAgICAgfQoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChTdHJpbmdFbmNvZGluZ18xLmRlZmF1bHQuZGVjb2RlKHJlYWRCeXRlcywgZW5jb2RpbmcpKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoaWdub3JlZCAvKjogVW5zdXBwb3J0ZWRFbmNvZGluZ0V4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdChpZ25vcmVkKTsKCSAgICAgICAgfQoJICAgICAgICBieXRlU2VnbWVudHMucHVzaChyZWFkQnl0ZXMpOwoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIgPSBmdW5jdGlvbiAodmFsdWUgLyppbnQqLykgewoJICAgICAgICBpZiAodmFsdWUgPj0gRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5BTFBIQU5VTUVSSUNfQ0hBUlMubGVuZ3RoKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLkFMUEhBTlVNRVJJQ19DSEFSU1t2YWx1ZV07CgkgICAgfTsKCSAgICBEZWNvZGVkQml0U3RyZWFtUGFyc2VyLmRlY29kZUFscGhhbnVtZXJpY1NlZ21lbnQgPSBmdW5jdGlvbiAoYml0cywgcmVzdWx0LCBjb3VudCAvKmludCovLCBmYzFJbkVmZmVjdCkgewoJICAgICAgICAvLyBSZWFkIHR3byBjaGFyYWN0ZXJzIGF0IGEgdGltZQoJICAgICAgICB2YXIgc3RhcnQgPSByZXN1bHQubGVuZ3RoKCk7CgkgICAgICAgIHdoaWxlIChjb3VudCA+IDEpIHsKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTEpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIG5leHRUd29DaGFyc0JpdHMgPSBiaXRzLnJlYWRCaXRzKDExKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcihuZXh0VHdvQ2hhcnNCaXRzIC8gNDUpKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKG5leHRUd29DaGFyc0JpdHMgJSA0NSkpOwoJICAgICAgICAgICAgY291bnQgLT0gMjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoY291bnQgPT09IDEpIHsKCSAgICAgICAgICAgIC8vIHNwZWNpYWwgY2FzZTogb25lIGNoYXJhY3RlciBsZWZ0CgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDYpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcihiaXRzLnJlYWRCaXRzKDYpKSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gU2VlIHNlY3Rpb24gNi40LjguMSwgNi40LjguMgoJICAgICAgICBpZiAoZmMxSW5FZmZlY3QpIHsKCSAgICAgICAgICAgIC8vIFdlIG5lZWQgdG8gbWFzc2FnZSB0aGUgcmVzdWx0IGEgYml0IGlmIGluIGFuIEZOQzEgbW9kZToKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSBzdGFydDsgaSA8IHJlc3VsdC5sZW5ndGgoKTsgaSsrKSB7CgkgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5jaGFyQXQoaSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaSA8IHJlc3VsdC5sZW5ndGgoKSAtIDEgJiYgcmVzdWx0LmNoYXJBdChpICsgMSkgPT09ICclJykgewoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gJSUgaXMgcmVuZGVyZWQgYXMgJQoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LmRlbGV0ZUNoYXJBdChpICsgMSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBJbiBhbHBoYSBtb2RlLCAlIHNob3VsZCBiZSBjb252ZXJ0ZWQgdG8gRk5DMSBzZXBhcmF0b3IgMHgxRAoJICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnNldENoYXJBdChpLCBTdHJpbmcuZnJvbUNoYXJDb2RlKDB4MUQpKTsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgIH07CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5kZWNvZGVOdW1lcmljU2VnbWVudCA9IGZ1bmN0aW9uIChiaXRzLCByZXN1bHQsIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgLy8gUmVhZCB0aHJlZSBkaWdpdHMgYXQgYSB0aW1lCgkgICAgICAgIHdoaWxlIChjb3VudCA+PSAzKSB7CgkgICAgICAgICAgICAvLyBFYWNoIDEwIGJpdHMgZW5jb2RlcyB0aHJlZSBkaWdpdHMKCSAgICAgICAgICAgIGlmIChiaXRzLmF2YWlsYWJsZSgpIDwgMTApIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIHRocmVlRGlnaXRzQml0cyA9IGJpdHMucmVhZEJpdHMoMTApOwoJICAgICAgICAgICAgaWYgKHRocmVlRGlnaXRzQml0cyA+PSAxMDAwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoTWF0aC5mbG9vcih0aHJlZURpZ2l0c0JpdHMgLyAxMDApKSk7CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodGhyZWVEaWdpdHNCaXRzIC8gMTApICUgMTApKTsKCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIodGhyZWVEaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgICAgIGNvdW50IC09IDM7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvdW50ID09PSAyKSB7CgkgICAgICAgICAgICAvLyBUd28gZGlnaXRzIGxlZnQgb3ZlciB0byByZWFkLCBlbmNvZGVkIGluIDcgYml0cwoJICAgICAgICAgICAgaWYgKGJpdHMuYXZhaWxhYmxlKCkgPCA3KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHZhciB0d29EaWdpdHNCaXRzID0gYml0cy5yZWFkQml0cyg3KTsKCSAgICAgICAgICAgIGlmICh0d29EaWdpdHNCaXRzID49IDEwMCkgewoJICAgICAgICAgICAgICAgIHRocm93IG5ldyBGb3JtYXRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICByZXN1bHQuYXBwZW5kKERlY29kZWRCaXRTdHJlYW1QYXJzZXIudG9BbHBoYU51bWVyaWNDaGFyKE1hdGguZmxvb3IodHdvRGlnaXRzQml0cyAvIDEwKSkpOwoJICAgICAgICAgICAgcmVzdWx0LmFwcGVuZChEZWNvZGVkQml0U3RyZWFtUGFyc2VyLnRvQWxwaGFOdW1lcmljQ2hhcih0d29EaWdpdHNCaXRzICUgMTApKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkgewoJICAgICAgICAgICAgLy8gT25lIGRpZ2l0IGxlZnQgb3ZlciB0byByZWFkCgkgICAgICAgICAgICBpZiAoYml0cy5hdmFpbGFibGUoKSA8IDQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRm9ybWF0RXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdmFyIGRpZ2l0Qml0cyA9IGJpdHMucmVhZEJpdHMoNCk7CgkgICAgICAgICAgICBpZiAoZGlnaXRCaXRzID49IDEwKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIHJlc3VsdC5hcHBlbmQoRGVjb2RlZEJpdFN0cmVhbVBhcnNlci50b0FscGhhTnVtZXJpY0NoYXIoZGlnaXRCaXRzKSk7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIucGFyc2VFQ0lWYWx1ZSA9IGZ1bmN0aW9uIChiaXRzKSB7CgkgICAgICAgIHZhciBmaXJzdEJ5dGUgPSBiaXRzLnJlYWRCaXRzKDgpOwoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4ODApID09PSAwKSB7CgkgICAgICAgICAgICAvLyBqdXN0IG9uZSBieXRlCgkgICAgICAgICAgICByZXR1cm4gZmlyc3RCeXRlICYgMHg3RjsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4QzApID09PSAweDgwKSB7CgkgICAgICAgICAgICAvLyB0d28gYnl0ZXMKCSAgICAgICAgICAgIHZhciBzZWNvbmRCeXRlID0gYml0cy5yZWFkQml0cyg4KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDNGKSA8PCA4KSAmIDB4RkZGRkZGRkYpIHwgc2Vjb25kQnl0ZTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoKGZpcnN0Qnl0ZSAmIDB4RTApID09PSAweEMwKSB7CgkgICAgICAgICAgICAvLyB0aHJlZSBieXRlcwoJICAgICAgICAgICAgdmFyIHNlY29uZFRoaXJkQnl0ZXMgPSBiaXRzLnJlYWRCaXRzKDE2KTsKCSAgICAgICAgICAgIHJldHVybiAoKChmaXJzdEJ5dGUgJiAweDFGKSA8PCAxNikgJiAweEZGRkZGRkZGKSB8IHNlY29uZFRoaXJkQnl0ZXM7CgkgICAgICAgIH0KCSAgICAgICAgdGhyb3cgbmV3IEZvcm1hdEV4Y2VwdGlvbl8xLmRlZmF1bHQoKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFNlZSBJU08gMTgwMDQ6MjAwNiwgNi40LjQgVGFibGUgNQoJICAgICAqLwoJICAgIERlY29kZWRCaXRTdHJlYW1QYXJzZXIuQUxQSEFOVU1FUklDX0NIQVJTID0gJzAxMjM0NTY3ODlBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWiAkJSorLS4vOic7CgkgICAgRGVjb2RlZEJpdFN0cmVhbVBhcnNlci5HQjIzMTJfU1VCU0VUID0gMTsKCSAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcjsKCX0oKSk7CglEZWNvZGVkQml0U3RyZWFtUGFyc2VyJDEuZGVmYXVsdCA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXI7CgoJdmFyIFFSQ29kZURlY29kZXJNZXRhRGF0YSQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDEzIFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShRUkNvZGVEZWNvZGVyTWV0YURhdGEkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLyoqCgkgKiBNZXRhLWRhdGEgY29udGFpbmVyIGZvciBRUiBDb2RlIGRlY29kaW5nLiBJbnN0YW5jZXMgb2YgdGhpcyBjbGFzcyBtYXkgYmUgdXNlZCB0byBjb252ZXkgaW5mb3JtYXRpb24gYmFjayB0byB0aGUKCSAqIGRlY29kaW5nIGNhbGxlci4gQ2FsbGVycyBhcmUgZXhwZWN0ZWQgdG8gcHJvY2VzcyB0aGlzLgoJICoKCSAqIEBzZWUgY29tLmdvb2dsZS56eGluZy5jb21tb24uRGVjb2RlclJlc3VsdCNnZXRPdGhlcigpCgkgKi8KCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGEgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUVJDb2RlRGVjb2Rlck1ldGFEYXRhKG1pcnJvcmVkKSB7CgkgICAgICAgIHRoaXMubWlycm9yZWQgPSBtaXJyb3JlZDsKCSAgICB9CgkgICAgLyoqCgkgICAgICogQHJldHVybiB0cnVlIGlmIHRoZSBRUiBDb2RlIHdhcyBtaXJyb3JlZC4KCSAgICAgKi8KCSAgICBRUkNvZGVEZWNvZGVyTWV0YURhdGEucHJvdG90eXBlLmlzTWlycm9yZWQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLm1pcnJvcmVkOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQXBwbHkgdGhlIHJlc3VsdCBwb2ludHMnIG9yZGVyIGNvcnJlY3Rpb24gZHVlIHRvIG1pcnJvcmluZy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBwb2ludHMgQXJyYXkgb2YgcG9pbnRzIHRvIGFwcGx5IG1pcnJvciBjb3JyZWN0aW9uIHRvLgoJICAgICAqLwoJICAgIFFSQ29kZURlY29kZXJNZXRhRGF0YS5wcm90b3R5cGUuYXBwbHlNaXJyb3JlZENvcnJlY3Rpb24gPSBmdW5jdGlvbiAocG9pbnRzKSB7CgkgICAgICAgIGlmICghdGhpcy5taXJyb3JlZCB8fCBwb2ludHMgPT09IG51bGwgfHwgcG9pbnRzLmxlbmd0aCA8IDMpIHsKCSAgICAgICAgICAgIHJldHVybjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IHBvaW50c1swXTsKCSAgICAgICAgcG9pbnRzWzBdID0gcG9pbnRzWzJdOwoJICAgICAgICBwb2ludHNbMl0gPSBib3R0b21MZWZ0OwoJICAgICAgICAvLyBObyBuZWVkIHRvICdmaXgnIHRvcC1sZWZ0IGFuZCBhbGlnbm1lbnQgcGF0dGVybi4KCSAgICB9OwoJICAgIHJldHVybiBRUkNvZGVEZWNvZGVyTWV0YURhdGE7Cgl9KCkpOwoJUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDEuZGVmYXVsdCA9IFFSQ29kZURlY29kZXJNZXRhRGF0YTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX192YWx1ZXMpIHx8IGZ1bmN0aW9uKG8pIHsKCSAgICB2YXIgcyA9IHR5cGVvZiBTeW1ib2wgPT09ICJmdW5jdGlvbiIgJiYgU3ltYm9sLml0ZXJhdG9yLCBtID0gcyAmJiBvW3NdLCBpID0gMDsKCSAgICBpZiAobSkgcmV0dXJuIG0uY2FsbChvKTsKCSAgICBpZiAobyAmJiB0eXBlb2Ygby5sZW5ndGggPT09ICJudW1iZXIiKSByZXR1cm4gewoJICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7CgkgICAgICAgICAgICBpZiAobyAmJiBpID49IG8ubGVuZ3RoKSBvID0gdm9pZCAwOwoJICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IG8gJiYgb1tpKytdLCBkb25lOiAhbyB9OwoJICAgICAgICB9CgkgICAgfTsKCSAgICB0aHJvdyBuZXcgVHlwZUVycm9yKHMgPyAiT2JqZWN0IGlzIG5vdCBpdGVyYWJsZS4iIDogIlN5bWJvbC5pdGVyYXRvciBpcyBub3QgZGVmaW5lZC4iKTsKCX07CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVjb2RlciQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZWNvZGVyIHsqLwoJdmFyIENoZWNrc3VtRXhjZXB0aW9uXzEgPSBDaGVja3N1bUV4Y2VwdGlvbiQxOwoJdmFyIEJpdE1hdHJpeF8xJDIgPSBCaXRNYXRyaXgkMTsKCXZhciBHZW5lcmljR0ZfMSA9IEdlbmVyaWNHRiQxOwoJdmFyIFJlZWRTb2xvbW9uRGVjb2Rlcl8xID0gUmVlZFNvbG9tb25EZWNvZGVyJDE7Cgl2YXIgQml0TWF0cml4UGFyc2VyXzEgPSBCaXRNYXRyaXhQYXJzZXIkMTsKCXZhciBEYXRhQmxvY2tfMSA9IERhdGFCbG9jayQxOwoJdmFyIERlY29kZWRCaXRTdHJlYW1QYXJzZXJfMSA9IERlY29kZWRCaXRTdHJlYW1QYXJzZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxID0gUVJDb2RlRGVjb2Rlck1ldGFEYXRhJDE7CgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoZSBtYWluIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgUVIgQ29kZSBkZWNvZGluZyAtLSBhcyBvcHBvc2VkIHRvIGxvY2F0aW5nIGFuZCBleHRyYWN0aW5nCgkgKiB0aGUgUVIgQ29kZSBmcm9tIGFuIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGVjb2RlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBEZWNvZGVyKCkgewoJICAgICAgICB0aGlzLnJzRGVjb2RlciA9IG5ldyBSZWVkU29sb21vbkRlY29kZXJfMS5kZWZhdWx0KEdlbmVyaWNHRl8xLmRlZmF1bHQuUVJfQ09ERV9GSUVMRF8yNTYpOwoJICAgIH0KCSAgICAvLyBwdWJsaWMgZGVjb2RlKGltYWdlOiBib29sZWFuW11bXSk6IERlY29kZXJSZXN1bHQgLyp0aHJvd3MgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkNvbnZlbmllbmNlIG1ldGhvZCB0aGF0IGNhbiBkZWNvZGUgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEgMkQgYXJyYXkgb2YgYm9vbGVhbnMuCgkgICAgICogInRydWUiIGlzIHRha2VuIHRvIG1lYW4gYSBibGFjayBtb2R1bGUuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGJvb2xlYW5zIHJlcHJlc2VudGluZyB3aGl0ZS9ibGFjayBRUiBDb2RlIG1vZHVsZXMKCSAgICAgKiBAcGFyYW0gaGludHMgZGVjb2RpbmcgaGludHMgdGhhdCBzaG91bGQgYmUgdXNlZCB0byBpbmZsdWVuY2UgZGVjb2RpbmcKCSAgICAgKiBAcmV0dXJuIHRleHQgYW5kIGJ5dGVzIGVuY29kZWQgd2l0aGluIHRoZSBRUiBDb2RlCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgdGhlIFFSIENvZGUgY2Fubm90IGJlIGRlY29kZWQKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCb29sZWFuQXJyYXkgPSBmdW5jdGlvbiAoaW1hZ2UsIGhpbnRzKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeChCaXRNYXRyaXhfMSQyLmRlZmF1bHQucGFyc2VGcm9tQm9vbGVhbkFycmF5KGltYWdlKSwgaGludHMpOwoJICAgIH07CgkgICAgLy8gcHVibGljIGRlY29kZUJpdE1hdHJpeChiaXRzOiBCaXRNYXRyaXgpOiBEZWNvZGVyUmVzdWx0IC8qdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uLCBGb3JtYXRFeGNlcHRpb24qLyB7CgkgICAgLy8gICByZXR1cm4gZGVjb2RlKGJpdHMsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qKgoJICAgICAqIDxwPkRlY29kZXMgYSBRUiBDb2RlIHJlcHJlc2VudGVkIGFzIGEge0BsaW5rIEJpdE1hdHJpeH0uIEEgMSBvciAidHJ1ZSIgaXMgdGFrZW4gdG8gbWVhbiBhIGJsYWNrIG1vZHVsZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gYml0cyBib29sZWFucyByZXByZXNlbnRpbmcgd2hpdGUvYmxhY2sgUVIgQ29kZSBtb2R1bGVzCgkgICAgICogQHBhcmFtIGhpbnRzIGRlY29kaW5nIGhpbnRzIHRoYXQgc2hvdWxkIGJlIHVzZWQgdG8gaW5mbHVlbmNlIGRlY29kaW5nCgkgICAgICogQHJldHVybiB0ZXh0IGFuZCBieXRlcyBlbmNvZGVkIHdpdGhpbiB0aGUgUVIgQ29kZQoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIHRoZSBRUiBDb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgRGVjb2Rlci5wcm90b3R5cGUuZGVjb2RlQml0TWF0cml4ID0gZnVuY3Rpb24gKGJpdHMsIGhpbnRzKSB7CgkgICAgICAgIC8vIENvbnN0cnVjdCBhIHBhcnNlciBhbmQgcmVhZCB2ZXJzaW9uLCBlcnJvci1jb3JyZWN0aW9uIGxldmVsCgkgICAgICAgIHZhciBwYXJzZXIgPSBuZXcgQml0TWF0cml4UGFyc2VyXzEuZGVmYXVsdChiaXRzKTsKCSAgICAgICAgdmFyIGV4ID0gbnVsbDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHJldHVybiB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKjogRm9ybWF0RXhjZXB0aW9uLCBDaGVja3N1bUV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICBleCA9IGU7CgkgICAgICAgIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIC8vIFJldmVydCB0aGUgYml0IG1hdHJpeAoJICAgICAgICAgICAgcGFyc2VyLnJlbWFzaygpOwoJICAgICAgICAgICAgLy8gV2lsbCBiZSBhdHRlbXB0aW5nIGEgbWlycm9yZWQgcmVhZGluZyBvZiB0aGUgdmVyc2lvbiBhbmQgZm9ybWF0IGluZm8uCgkgICAgICAgICAgICBwYXJzZXIuc2V0TWlycm9yKHRydWUpOwoJICAgICAgICAgICAgLy8gUHJlZW1wdGl2ZWx5IHJlYWQgdGhlIHZlcnNpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgICAgIC8vIFByZWVtcHRpdmVseSByZWFkIHRoZSBmb3JtYXQgaW5mb3JtYXRpb24uCgkgICAgICAgICAgICBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCk7CgkgICAgICAgICAgICAvKgoJICAgICAgICAgICAgICogU2luY2Ugd2UncmUgaGVyZSwgdGhpcyBtZWFucyB3ZSBoYXZlIHN1Y2Nlc3NmdWxseSBkZXRlY3RlZCBzb21lIGtpbmQKCSAgICAgICAgICAgICAqIG9mIHZlcnNpb24gYW5kIGZvcm1hdCBpbmZvcm1hdGlvbiB3aGVuIG1pcnJvcmVkLiBUaGlzIGlzIGEgZ29vZCBzaWduLAoJICAgICAgICAgICAgICogdGhhdCB0aGUgUVIgY29kZSBtYXkgYmUgbWlycm9yZWQsIGFuZCB3ZSBzaG91bGQgdHJ5IG9uY2UgbW9yZSB3aXRoIGEKCSAgICAgICAgICAgICAqIG1pcnJvcmVkIGNvbnRlbnQuCgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIFByZXBhcmUgZm9yIGEgbWlycm9yZWQgcmVhZGluZy4KCSAgICAgICAgICAgIHBhcnNlci5taXJyb3IoKTsKCSAgICAgICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmRlY29kZUJpdE1hdHJpeFBhcnNlcihwYXJzZXIsIGhpbnRzKTsKCSAgICAgICAgICAgIC8vIFN1Y2Nlc3MhIE5vdGlmeSB0aGUgY2FsbGVyIHRoYXQgdGhlIGNvZGUgd2FzIG1pcnJvcmVkLgoJICAgICAgICAgICAgcmVzdWx0LnNldE90aGVyKG5ldyBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSQxLmRlZmF1bHQodHJ1ZSkpOwoJICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZSAvKkZvcm1hdEV4Y2VwdGlvbiB8IENoZWNrc3VtRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgIC8vIFRocm93IHRoZSBleGNlcHRpb24gZnJvbSB0aGUgb3JpZ2luYWwgcmVhZGluZwoJICAgICAgICAgICAgaWYgKGV4ICE9PSBudWxsKSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgZXg7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0aHJvdyBlOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBEZWNvZGVyLnByb3RvdHlwZS5kZWNvZGVCaXRNYXRyaXhQYXJzZXIgPSBmdW5jdGlvbiAocGFyc2VyLCBoaW50cykgewoJICAgICAgICB2YXIgZV8xLCBfYSwgZV8yLCBfYjsKCSAgICAgICAgdmFyIHZlcnNpb24gPSBwYXJzZXIucmVhZFZlcnNpb24oKTsKCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBwYXJzZXIucmVhZEZvcm1hdEluZm9ybWF0aW9uKCkuZ2V0RXJyb3JDb3JyZWN0aW9uTGV2ZWwoKTsKCSAgICAgICAgLy8gUmVhZCBjb2Rld29yZHMKCSAgICAgICAgdmFyIGNvZGV3b3JkcyA9IHBhcnNlci5yZWFkQ29kZXdvcmRzKCk7CgkgICAgICAgIC8vIFNlcGFyYXRlIGludG8gZGF0YSBibG9ja3MKCSAgICAgICAgdmFyIGRhdGFCbG9ja3MgPSBEYXRhQmxvY2tfMS5kZWZhdWx0LmdldERhdGFCbG9ja3MoY29kZXdvcmRzLCB2ZXJzaW9uLCBlY0xldmVsKTsKCSAgICAgICAgLy8gQ291bnQgdG90YWwgbnVtYmVyIG9mIGRhdGEgYnl0ZXMKCSAgICAgICAgdmFyIHRvdGFsQnl0ZXMgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgZGF0YUJsb2Nrc18xID0gX192YWx1ZXMkMihkYXRhQmxvY2tzKSwgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpOyAhZGF0YUJsb2Nrc18xXzEuZG9uZTsgZGF0YUJsb2Nrc18xXzEgPSBkYXRhQmxvY2tzXzEubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIGRhdGFCbG9jayA9IGRhdGFCbG9ja3NfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgIHRvdGFsQnl0ZXMgKz0gZGF0YUJsb2NrLmdldE51bURhdGFDb2Rld29yZHMoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMV8xICYmICFkYXRhQmxvY2tzXzFfMS5kb25lICYmIChfYSA9IGRhdGFCbG9ja3NfMS5yZXR1cm4pKSBfYS5jYWxsKGRhdGFCbG9ja3NfMSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHJlc3VsdEJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxCeXRlcyk7CgkgICAgICAgIHZhciByZXN1bHRPZmZzZXQgPSAwOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgLy8gRXJyb3ItY29ycmVjdCBhbmQgY29weSBkYXRhIGJsb2NrcyB0b2dldGhlciBpbnRvIGEgc3RyZWFtIG9mIGJ5dGVzCgkgICAgICAgICAgICBmb3IgKHZhciBkYXRhQmxvY2tzXzIgPSBfX3ZhbHVlcyQyKGRhdGFCbG9ja3MpLCBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCk7ICFkYXRhQmxvY2tzXzJfMS5kb25lOyBkYXRhQmxvY2tzXzJfMSA9IGRhdGFCbG9ja3NfMi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZGF0YUJsb2NrID0gZGF0YUJsb2Nrc18yXzEudmFsdWU7CgkgICAgICAgICAgICAgICAgdmFyIGNvZGV3b3JkQnl0ZXMgPSBkYXRhQmxvY2suZ2V0Q29kZXdvcmRzKCk7CgkgICAgICAgICAgICAgICAgdmFyIG51bURhdGFDb2Rld29yZHMgPSBkYXRhQmxvY2suZ2V0TnVtRGF0YUNvZGV3b3JkcygpOwoJICAgICAgICAgICAgICAgIHRoaXMuY29ycmVjdEVycm9ycyhjb2Rld29yZEJ5dGVzLCBudW1EYXRhQ29kZXdvcmRzKTsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bURhdGFDb2Rld29yZHM7IGkrKykgewoJICAgICAgICAgICAgICAgICAgICByZXN1bHRCeXRlc1tyZXN1bHRPZmZzZXQrK10gPSBjb2Rld29yZEJ5dGVzW2ldOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICBjYXRjaCAoZV8yXzEpIHsgZV8yID0geyBlcnJvcjogZV8yXzEgfTsgfQoJICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgaWYgKGRhdGFCbG9ja3NfMl8xICYmICFkYXRhQmxvY2tzXzJfMS5kb25lICYmIChfYiA9IGRhdGFCbG9ja3NfMi5yZXR1cm4pKSBfYi5jYWxsKGRhdGFCbG9ja3NfMik7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gRGVjb2RlIHRoZSBjb250ZW50cyBvZiB0aGF0IHN0cmVhbSBvZiBieXRlcwoJICAgICAgICByZXR1cm4gRGVjb2RlZEJpdFN0cmVhbVBhcnNlcl8xLmRlZmF1bHQuZGVjb2RlKHJlc3VsdEJ5dGVzLCB2ZXJzaW9uLCBlY0xldmVsLCBoaW50cyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5HaXZlbiBkYXRhIGFuZCBlcnJvci1jb3JyZWN0aW9uIGNvZGV3b3JkcyByZWNlaXZlZCwgcG9zc2libHkgY29ycnVwdGVkIGJ5IGVycm9ycywgYXR0ZW1wdHMgdG8KCSAgICAgKiBjb3JyZWN0IHRoZSBlcnJvcnMgaW4tcGxhY2UgdXNpbmcgUmVlZC1Tb2xvbW9uIGVycm9yIGNvcnJlY3Rpb24uPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGNvZGV3b3JkQnl0ZXMgZGF0YSBhbmQgZXJyb3IgY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgKiBAcGFyYW0gbnVtRGF0YUNvZGV3b3JkcyBudW1iZXIgb2YgY29kZXdvcmRzIHRoYXQgYXJlIGRhdGEgYnl0ZXMKCSAgICAgKiBAdGhyb3dzIENoZWNrc3VtRXhjZXB0aW9uIGlmIGVycm9yIGNvcnJlY3Rpb24gZmFpbHMKCSAgICAgKi8KCSAgICBEZWNvZGVyLnByb3RvdHlwZS5jb3JyZWN0RXJyb3JzID0gZnVuY3Rpb24gKGNvZGV3b3JkQnl0ZXMsIG51bURhdGFDb2Rld29yZHMgLyppbnQqLykgewoJICAgICAgICAvLyBjb25zdCBudW1Db2Rld29yZHMgPSBjb2Rld29yZEJ5dGVzLmxlbmd0aDsKCSAgICAgICAgLy8gRmlyc3QgcmVhZCBpbnRvIGFuIGFycmF5IG9mIGludHMKCSAgICAgICAgdmFyIGNvZGV3b3Jkc0ludHMgPSBuZXcgSW50MzJBcnJheShjb2Rld29yZEJ5dGVzKTsKCSAgICAgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG5vdCByZWFseSBuZWNlc3NhcnkgdG8gdHJhbnNmb3JtIHRvIGludHM/IGNvdWxkIHJlZGVzaWduIGV2ZXJ5dGhpbmcgdG8gd29yayB3aXRoIHVuc2lnbmVkIGJ5dGVzPwoJICAgICAgICAvLyBjb25zdCBjb2Rld29yZHNJbnRzID0gbmV3IEludDMyQXJyYXkobnVtQ29kZXdvcmRzKQoJICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IG51bUNvZGV3b3JkczsgaSsrKSB7CgkgICAgICAgIC8vICAgY29kZXdvcmRzSW50c1tpXSA9IGNvZGV3b3JkQnl0ZXNbaV0gJiAweEZGCgkgICAgICAgIC8vIH0KCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIHRoaXMucnNEZWNvZGVyLmRlY29kZShjb2Rld29yZHNJbnRzLCBjb2Rld29yZEJ5dGVzLmxlbmd0aCAtIG51bURhdGFDb2Rld29yZHMpOwoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChpZ25vcmVkIC8qOiBSZWVkU29sb21vbkV4Y2VwdGlvbiovKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgQ2hlY2tzdW1FeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29weSBiYWNrIGludG8gYXJyYXkgb2YgYnl0ZXMgLS0gb25seSBuZWVkIHRvIHdvcnJ5IGFib3V0IHRoZSBieXRlcyB0aGF0IHdlcmUgZGF0YQoJICAgICAgICAvLyBXZSBkb24ndCBjYXJlIGFib3V0IGVycm9ycyBpbiB0aGUgZXJyb3ItY29ycmVjdGlvbiBjb2Rld29yZHMKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1EYXRhQ29kZXdvcmRzOyBpKyspIHsKCSAgICAgICAgICAgIGNvZGV3b3JkQnl0ZXNbaV0gPSAvKihieXRlKSAqLyBjb2Rld29yZHNJbnRzW2ldOwoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gRGVjb2RlcjsKCX0oKSk7CglEZWNvZGVyJDEuZGVmYXVsdCA9IERlY29kZXI7CgoJdmFyIERldGVjdG9yJDEgPSB7fTsKCgl2YXIgTWF0aFV0aWxzJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMTIgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hdGhVdGlscyQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLmNvbW1vbi5kZXRlY3RvciB7Ki8KCS8qKgoJICogR2VuZXJhbCBtYXRoLXJlbGF0ZWQgYW5kIG51bWVyaWMgdXRpbGl0eSBmdW5jdGlvbnMuCgkgKi8KCXZhciBNYXRoVXRpbHMgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gTWF0aFV0aWxzKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBFbmRzIHVwIGJlaW5nIGEgYml0IGZhc3RlciB0aGFuIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0uIFRoaXMgbWVyZWx5IHJvdW5kcyBpdHMKCSAgICAgKiBhcmd1bWVudCB0byB0aGUgbmVhcmVzdCBpbnQsIHdoZXJlIHguNSByb3VuZHMgdXAgdG8geCsxLiBTZW1hbnRpY3Mgb2YgdGhpcyBzaG9ydGN1dAoJICAgICAqIGRpZmZlciBzbGlnaHRseSBmcm9tIHtAbGluayBNYXRoI3JvdW5kKGZsb2F0KX0gaW4gdGhhdCBoYWxmIHJvdW5kcyBkb3duIGZvciBuZWdhdGl2ZQoJICAgICAqIHZhbHVlcy4gLTIuNSByb3VuZHMgdG8gLTMsIG5vdCAtMi4gRm9yIHB1cnBvc2VzIGhlcmUgaXQgbWFrZXMgbm8gZGlmZmVyZW5jZS4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBkIHJlYWwgdmFsdWUgdG8gcm91bmQKCSAgICAgKiBAcmV0dXJuIG5lYXJlc3Qge0Bjb2RlIGludH0KCSAgICAgKi8KCSAgICBNYXRoVXRpbHMucm91bmQgPSBmdW5jdGlvbiAoZCAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE5hTiA9PT0gZCkKCSAgICAgICAgICAgIHJldHVybiAwOwoJICAgICAgICBpZiAoZCA8PSBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUikKCSAgICAgICAgICAgIHJldHVybiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUjsKCSAgICAgICAgaWYgKGQgPj0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpCgkgICAgICAgICAgICByZXR1cm4gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgICAgIHJldHVybiAvKihpbnQpICovIChkICsgKGQgPCAwLjAgPyAtMC41IDogMC41KSkgfCAwOwoJICAgIH07CgkgICAgLy8gVFlQRVNDUklQVFBPUlQ6IG1heWJlIHJlbW92ZSByb3VuZCBtZXRob2QgYW5kIGNhbGwgZGlyZWN0bHkgTWF0aC5yb3VuZCwgaXQgbG9va3MgbGlrZSBpdCBkb2Vzbid0IG1ha2Ugc2Vuc2UgZm9yIGpzCgkgICAgLyoqCgkgICAgICogQHBhcmFtIGFYIHBvaW50IEEgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGFZIHBvaW50IEEgeSBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJYIHBvaW50IEIgeCBjb29yZGluYXRlCgkgICAgICogQHBhcmFtIGJZIHBvaW50IEIgeSBjb29yZGluYXRlCgkgICAgICogQHJldHVybiBFdWNsaWRlYW4gZGlzdGFuY2UgYmV0d2VlbiBwb2ludHMgQSBhbmQgQgoJICAgICAqLwoJICAgIE1hdGhVdGlscy5kaXN0YW5jZSA9IGZ1bmN0aW9uIChhWCAvKmZsb2F0fGludCovLCBhWSAvKmZsb2F0fGludCovLCBiWCAvKmZsb2F0fGludCovLCBiWSAvKmZsb2F0fGludCovKSB7CgkgICAgICAgIHZhciB4RGlmZiA9IGFYIC0gYlg7CgkgICAgICAgIHZhciB5RGlmZiA9IGFZIC0gYlk7CgkgICAgICAgIHJldHVybiAvKihmbG9hdCkgKi8gTWF0aC5zcXJ0KHhEaWZmICogeERpZmYgKyB5RGlmZiAqIHlEaWZmKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBhWCBwb2ludCBBIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBhWSBwb2ludCBBIHkgY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWCBwb2ludCBCIHggY29vcmRpbmF0ZQoJICAgICAqIEBwYXJhbSBiWSBwb2ludCBCIHkgY29vcmRpbmF0ZQoJICAgICAqIEByZXR1cm4gRXVjbGlkZWFuIGRpc3RhbmNlIGJldHdlZW4gcG9pbnRzIEEgYW5kIEIKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgc3RhdGljIGRpc3RhbmNlKGFYOiBudW1iZXIgLyppbnQqLywgYVk6IG51bWJlciAvKmludCovLCBiWDogbnVtYmVyIC8qaW50Ki8sIGJZOiBudW1iZXIgLyppbnQqLyk6IGZsb2F0IHsKCSAgICAvLyAgIGNvbnN0IHhEaWZmID0gYVggLSBiWAoJICAgIC8vICAgY29uc3QgeURpZmYgPSBhWSAtIGJZCgkgICAgLy8gICByZXR1cm4gKGZsb2F0KSBNYXRoLnNxcnQoeERpZmYgKiB4RGlmZiArIHlEaWZmICogeURpZmYpOwoJICAgIC8vIH0KCSAgICAvKioKCSAgICAgKiBAcGFyYW0gYXJyYXkgdmFsdWVzIHRvIHN1bQoJICAgICAqIEByZXR1cm4gc3VtIG9mIHZhbHVlcyBpbiBhcnJheQoJICAgICAqLwoJICAgIE1hdGhVdGlscy5zdW0gPSBmdW5jdGlvbiAoYXJyYXkpIHsKCSAgICAgICAgdmFyIGNvdW50ID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aF8xID0gYXJyYXkubGVuZ3RoOyBpICE9PSBsZW5ndGhfMTsgaSsrKSB7CgkgICAgICAgICAgICB2YXIgYSA9IGFycmF5W2ldOwoJICAgICAgICAgICAgY291bnQgKz0gYTsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gY291bnQ7CgkgICAgfTsKCSAgICByZXR1cm4gTWF0aFV0aWxzOwoJfSgpKTsKCU1hdGhVdGlscyQxLmRlZmF1bHQgPSBNYXRoVXRpbHM7CgoJdmFyIERldGVjdG9yUmVzdWx0JDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KERldGVjdG9yUmVzdWx0JDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIHRoZSByZXN1bHQgb2YgZGV0ZWN0aW5nIGEgYmFyY29kZSBpbiBhbiBpbWFnZS4gVGhpcyBpbmNsdWRlcyB0aGUgcmF3CgkgKiBtYXRyaXggb2YgYmxhY2svd2hpdGUgcGl4ZWxzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIGJhcmNvZGUsIGFuZCBwb3NzaWJseSBwb2ludHMgb2YgaW50ZXJlc3QKCSAqIGluIHRoZSBpbWFnZSwgbGlrZSB0aGUgbG9jYXRpb24gb2YgZmluZGVyIHBhdHRlcm5zIG9yIGNvcm5lcnMgb2YgdGhlIGJhcmNvZGUgaW4gdGhlIGltYWdlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgRGV0ZWN0b3JSZXN1bHQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gRGV0ZWN0b3JSZXN1bHQoYml0cywgcG9pbnRzKSB7CgkgICAgICAgIHRoaXMuYml0cyA9IGJpdHM7CgkgICAgICAgIHRoaXMucG9pbnRzID0gcG9pbnRzOwoJICAgIH0KCSAgICBEZXRlY3RvclJlc3VsdC5wcm90b3R5cGUuZ2V0Qml0cyA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYml0czsKCSAgICB9OwoJICAgIERldGVjdG9yUmVzdWx0LnByb3RvdHlwZS5nZXRQb2ludHMgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLnBvaW50czsKCSAgICB9OwoJICAgIHJldHVybiBEZXRlY3RvclJlc3VsdDsKCX0oKSk7CglEZXRlY3RvclJlc3VsdCQxLmRlZmF1bHQgPSBEZXRlY3RvclJlc3VsdDsKCgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSQxID0ge307CgoJdmFyIERlZmF1bHRHcmlkU2FtcGxlciQxID0ge307CgoJdmFyIEdyaWRTYW1wbGVyJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDUgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyoqCgkgKiBJbXBsZW1lbnRhdGlvbnMgb2YgdGhpcyBjbGFzcyBjYW4sIGdpdmVuIGxvY2F0aW9ucyBvZiBmaW5kZXIgcGF0dGVybnMgZm9yIGEgUVIgY29kZSBpbiBhbgoJICogaW1hZ2UsIHNhbXBsZSB0aGUgcmlnaHQgcG9pbnRzIGluIHRoZSBpbWFnZSB0byByZWNvbnN0cnVjdCB0aGUgUVIgY29kZSwgYWNjb3VudGluZyBmb3IKCSAqIHBlcnNwZWN0aXZlIGRpc3RvcnRpb24uIEl0IGlzIGFic3RyYWN0ZWQgc2luY2UgaXQgaXMgcmVsYXRpdmVseSBleHBlbnNpdmUgYW5kIHNob3VsZCBiZSBhbGxvd2VkCgkgKiB0byB0YWtlIGFkdmFudGFnZSBvZiBwbGF0Zm9ybS1zcGVjaWZpYyBvcHRpbWl6ZWQgaW1wbGVtZW50YXRpb25zLCBsaWtlIFN1bidzIEphdmEgQWR2YW5jZWQKCSAqIEltYWdpbmcgbGlicmFyeSwgYnV0IHdoaWNoIG1heSBub3QgYmUgYXZhaWxhYmxlIGluIG90aGVyIGVudmlyb25tZW50cyBzdWNoIGFzIEoyTUUsIGFuZCB2aWNlCgkgKiB2ZXJzYS4KCSAqCgkgKiBUaGUgaW1wbGVtZW50YXRpb24gdXNlZCBjYW4gYmUgY29udHJvbGxlZCBieSBjYWxsaW5nIHtAbGluayAjc2V0R3JpZFNhbXBsZXIoR3JpZFNhbXBsZXIpfQoJICogd2l0aCBhbiBpbnN0YW5jZSBvZiBhIGNsYXNzIHdoaWNoIGltcGxlbWVudHMgdGhpcyBpbnRlcmZhY2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEdyaWRTYW1wbGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEdyaWRTYW1wbGVyKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiA8cD5DaGVja3MgYSBzZXQgb2YgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIHRyYW5zZm9ybWVkIHRvIHNhbXBsZSBwb2ludHMgb24gYW4gaW1hZ2UgYWdhaW5zdAoJICAgICAqIHRoZSBpbWFnZSdzIGRpbWVuc2lvbnMgdG8gc2VlIGlmIHRoZSBwb2ludCBhcmUgZXZlbiB3aXRoaW4gdGhlIGltYWdlLjwvcD4KCSAgICAgKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHdpbGwgYWN0dWFsbHkgIm51ZGdlIiB0aGUgZW5kcG9pbnRzIGJhY2sgb250byB0aGUgaW1hZ2UgaWYgdGhleSBhcmUgZm91bmQgdG8gYmUKCSAgICAgKiBiYXJlbHkgKGxlc3MgdGhhbiAxIHBpeGVsKSBvZmYgdGhlIGltYWdlLiBUaGlzIGFjY291bnRzIGZvciBpbXBlcmZlY3QgZGV0ZWN0aW9uIG9mIGZpbmRlcgoJICAgICAqIHBhdHRlcm5zIGluIGFuIGltYWdlIHdoZXJlIHRoZSBRUiBDb2RlIHJ1bnMgYWxsIHRoZSB3YXkgdG8gdGhlIGltYWdlIGJvcmRlci48L3A+CgkgICAgICoKCSAgICAgKiA8cD5Gb3IgZWZmaWNpZW5jeSwgdGhlIG1ldGhvZCB3aWxsIGNoZWNrIHBvaW50cyBmcm9tIGVpdGhlciBlbmQgb2YgdGhlIGxpbmUgdW50aWwgb25lIGlzIGZvdW5kCgkgICAgICogdG8gYmUgd2l0aGluIHRoZSBpbWFnZS4gQmVjYXVzZSB0aGUgc2V0IG9mIHBvaW50cyBhcmUgYXNzdW1lZCB0byBiZSBsaW5lYXIsIHRoaXMgaXMgdmFsaWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGltYWdlIGltYWdlIGludG8gd2hpY2ggdGhlIHBvaW50cyBzaG91bGQgbWFwCgkgICAgICogQHBhcmFtIHBvaW50cyBhY3R1YWwgcG9pbnRzIGluIHgxLHkxLC4uLix4bix5biBmb3JtCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhbiBlbmRwb2ludCBpcyBsaWVzIG91dHNpZGUgdGhlIGltYWdlIGJvdW5kYXJpZXMKCSAgICAgKi8KCSAgICBHcmlkU2FtcGxlci5jaGVja0FuZE51ZGdlUG9pbnRzID0gZnVuY3Rpb24gKGltYWdlLCBwb2ludHMpIHsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIGhlaWdodCA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gc3RhcnQgdW50aWwgd2Ugc2VlIHNvbWUgdGhhdCBhcmUgT0s6CgkgICAgICAgIHZhciBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSAwOyBvZmZzZXQgPCBwb2ludHMubGVuZ3RoICYmIG51ZGdlZDsgb2Zmc2V0ICs9IDIpIHsKCSAgICAgICAgICAgIHZhciB4ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0XSk7CgkgICAgICAgICAgICB2YXIgeSA9IE1hdGguZmxvb3IocG9pbnRzW29mZnNldCArIDFdKTsKCSAgICAgICAgICAgIGlmICh4IDwgLTEgfHwgeCA+IHdpZHRoIHx8IHkgPCAtMSB8fCB5ID4gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBudWRnZWQgPSBmYWxzZTsKCSAgICAgICAgICAgIGlmICh4ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gMC4wOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBlbHNlIGlmICh4ID09PSB3aWR0aCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXRdID0gd2lkdGggLSAxOwoJICAgICAgICAgICAgICAgIG51ZGdlZCA9IHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAoeSA9PT0gLTEpIHsKCSAgICAgICAgICAgICAgICBwb2ludHNbb2Zmc2V0ICsgMV0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IGhlaWdodCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBDaGVjayBhbmQgbnVkZ2UgcG9pbnRzIGZyb20gZW5kOgoJICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICBmb3IgKHZhciBvZmZzZXQgPSBwb2ludHMubGVuZ3RoIC0gMjsgb2Zmc2V0ID49IDAgJiYgbnVkZ2VkOyBvZmZzZXQgLT0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBNYXRoLmZsb29yKHBvaW50c1tvZmZzZXRdKTsKCSAgICAgICAgICAgIHZhciB5ID0gTWF0aC5mbG9vcihwb2ludHNbb2Zmc2V0ICsgMV0pOwoJICAgICAgICAgICAgaWYgKHggPCAtMSB8fCB4ID4gd2lkdGggfHwgeSA8IC0xIHx8IHkgPiBoZWlnaHQpIHsKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ1LmRlZmF1bHQoKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIG51ZGdlZCA9IGZhbHNlOwoJICAgICAgICAgICAgaWYgKHggPT09IC0xKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSAwLjA7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGVsc2UgaWYgKHggPT09IHdpZHRoKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldF0gPSB3aWR0aCAtIDE7CgkgICAgICAgICAgICAgICAgbnVkZ2VkID0gdHJ1ZTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGlmICh5ID09PSAtMSkgewoJICAgICAgICAgICAgICAgIHBvaW50c1tvZmZzZXQgKyAxXSA9IDAuMDsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZWxzZSBpZiAoeSA9PT0gaGVpZ2h0KSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW29mZnNldCArIDFdID0gaGVpZ2h0IC0gMTsKCSAgICAgICAgICAgICAgICBudWRnZWQgPSB0cnVlOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgfTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXI7Cgl9KCkpOwoJR3JpZFNhbXBsZXIkMS5kZWZhdWx0ID0gR3JpZFNhbXBsZXI7CgoJdmFyIFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KFBlcnNwZWN0aXZlVHJhbnNmb3JtJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJLyoqCgkgKiA8cD5UaGlzIGNsYXNzIGltcGxlbWVudHMgYSBwZXJzcGVjdGl2ZSB0cmFuc2Zvcm0gaW4gdHdvIGRpbWVuc2lvbnMuIEdpdmVuIGZvdXIgc291cmNlIGFuZCBmb3VyCgkgKiBkZXN0aW5hdGlvbiBwb2ludHMsIGl0IHdpbGwgY29tcHV0ZSB0aGUgdHJhbnNmb3JtYXRpb24gaW1wbGllZCBiZXR3ZWVuIHRoZW0uIFRoZSBjb2RlIGlzIGJhc2VkCgkgKiBkaXJlY3RseSB1cG9uIHNlY3Rpb24gMy40LjIgb2YgR2VvcmdlIFdvbGJlcmcncyAiRGlnaXRhbCBJbWFnZSBXYXJwaW5nIjsgc2VlIHBhZ2VzIDU0LTU2LjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm0gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUGVyc3BlY3RpdmVUcmFuc2Zvcm0oYTExIC8qZmxvYXQqLywgYTIxIC8qZmxvYXQqLywgYTMxIC8qZmxvYXQqLywgYTEyIC8qZmxvYXQqLywgYTIyIC8qZmxvYXQqLywgYTMyIC8qZmxvYXQqLywgYTEzIC8qZmxvYXQqLywgYTIzIC8qZmxvYXQqLywgYTMzIC8qZmxvYXQqLykgewoJICAgICAgICB0aGlzLmExMSA9IGExMTsKCSAgICAgICAgdGhpcy5hMjEgPSBhMjE7CgkgICAgICAgIHRoaXMuYTMxID0gYTMxOwoJICAgICAgICB0aGlzLmExMiA9IGExMjsKCSAgICAgICAgdGhpcy5hMjIgPSBhMjI7CgkgICAgICAgIHRoaXMuYTMyID0gYTMyOwoJICAgICAgICB0aGlzLmExMyA9IGExMzsKCSAgICAgICAgdGhpcy5hMjMgPSBhMjM7CgkgICAgICAgIHRoaXMuYTMzID0gYTMzOwoJICAgIH0KCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsID0gZnVuY3Rpb24gKHgwIC8qZmxvYXQqLywgeTAgLypmbG9hdCovLCB4MSAvKmZsb2F0Ki8sIHkxIC8qZmxvYXQqLywgeDIgLypmbG9hdCovLCB5MiAvKmZsb2F0Ki8sIHgzIC8qZmxvYXQqLywgeTMgLypmbG9hdCovLCB4MHAgLypmbG9hdCovLCB5MHAgLypmbG9hdCovLCB4MXAgLypmbG9hdCovLCB5MXAgLypmbG9hdCovLCB4MnAgLypmbG9hdCovLCB5MnAgLypmbG9hdCovLCB4M3AgLypmbG9hdCovLCB5M3AgLypmbG9hdCovKSB7CgkgICAgICAgIHZhciBxVG9TID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0ucXVhZHJpbGF0ZXJhbFRvU3F1YXJlKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5Myk7CgkgICAgICAgIHZhciBzVG9RID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwcCwgeTBwLCB4MXAsIHkxcCwgeDJwLCB5MnAsIHgzcCwgeTNwKTsKCSAgICAgICAgcmV0dXJuIHNUb1EudGltZXMocVRvUyk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUudHJhbnNmb3JtUG9pbnRzID0gZnVuY3Rpb24gKHBvaW50cykgewoJICAgICAgICB2YXIgbWF4ID0gcG9pbnRzLmxlbmd0aDsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtYXg7IGkgKz0gMikgewoJICAgICAgICAgICAgdmFyIHggPSBwb2ludHNbaV07CgkgICAgICAgICAgICB2YXIgeSA9IHBvaW50c1tpICsgMV07CgkgICAgICAgICAgICB2YXIgZGVub21pbmF0b3IgPSBhMTMgKiB4ICsgYTIzICogeSArIGEzMzsKCSAgICAgICAgICAgIHBvaW50c1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHBvaW50c1tpICsgMV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50cmFuc2Zvcm1Qb2ludHNXaXRoVmFsdWVzID0gZnVuY3Rpb24gKHhWYWx1ZXMsIHlWYWx1ZXMpIHsKCSAgICAgICAgdmFyIGExMSA9IHRoaXMuYTExOwoJICAgICAgICB2YXIgYTEyID0gdGhpcy5hMTI7CgkgICAgICAgIHZhciBhMTMgPSB0aGlzLmExMzsKCSAgICAgICAgdmFyIGEyMSA9IHRoaXMuYTIxOwoJICAgICAgICB2YXIgYTIyID0gdGhpcy5hMjI7CgkgICAgICAgIHZhciBhMjMgPSB0aGlzLmEyMzsKCSAgICAgICAgdmFyIGEzMSA9IHRoaXMuYTMxOwoJICAgICAgICB2YXIgYTMyID0gdGhpcy5hMzI7CgkgICAgICAgIHZhciBhMzMgPSB0aGlzLmEzMzsKCSAgICAgICAgdmFyIG4gPSB4VmFsdWVzLmxlbmd0aDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyBpKyspIHsKCSAgICAgICAgICAgIHZhciB4ID0geFZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciB5ID0geVZhbHVlc1tpXTsKCSAgICAgICAgICAgIHZhciBkZW5vbWluYXRvciA9IGExMyAqIHggKyBhMjMgKiB5ICsgYTMzOwoJICAgICAgICAgICAgeFZhbHVlc1tpXSA9IChhMTEgKiB4ICsgYTIxICogeSArIGEzMSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHlWYWx1ZXNbaV0gPSAoYTEyICogeCArIGEyMiAqIHkgKyBhMzIpIC8gZGVub21pbmF0b3I7CgkgICAgICAgIH0KCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnNxdWFyZVRvUXVhZHJpbGF0ZXJhbCA9IGZ1bmN0aW9uICh4MCAvKmZsb2F0Ki8sIHkwIC8qZmxvYXQqLywgeDEgLypmbG9hdCovLCB5MSAvKmZsb2F0Ki8sIHgyIC8qZmxvYXQqLywgeTIgLypmbG9hdCovLCB4MyAvKmZsb2F0Ki8sIHkzIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgZHgzID0geDAgLSB4MSArIHgyIC0geDM7CgkgICAgICAgIHZhciBkeTMgPSB5MCAtIHkxICsgeTIgLSB5MzsKCSAgICAgICAgaWYgKGR4MyA9PT0gMC4wICYmIGR5MyA9PT0gMC4wKSB7CgkgICAgICAgICAgICAvLyBBZmZpbmUKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCwgeDIgLSB4MSwgeDAsIHkxIC0geTAsIHkyIC0geTEsIHkwLCAwLjAsIDAuMCwgMS4wKTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHZhciBkeDEgPSB4MSAtIHgyOwoJICAgICAgICAgICAgdmFyIGR4MiA9IHgzIC0geDI7CgkgICAgICAgICAgICB2YXIgZHkxID0geTEgLSB5MjsKCSAgICAgICAgICAgIHZhciBkeTIgPSB5MyAtIHkyOwoJICAgICAgICAgICAgdmFyIGRlbm9taW5hdG9yID0gZHgxICogZHkyIC0gZHgyICogZHkxOwoJICAgICAgICAgICAgdmFyIGExMyA9IChkeDMgKiBkeTIgLSBkeDIgKiBkeTMpIC8gZGVub21pbmF0b3I7CgkgICAgICAgICAgICB2YXIgYTIzID0gKGR4MSAqIGR5MyAtIGR4MyAqIGR5MSkgLyBkZW5vbWluYXRvcjsKCSAgICAgICAgICAgIHJldHVybiBuZXcgUGVyc3BlY3RpdmVUcmFuc2Zvcm0oeDEgLSB4MCArIGExMyAqIHgxLCB4MyAtIHgwICsgYTIzICogeDMsIHgwLCB5MSAtIHkwICsgYTEzICogeTEsIHkzIC0geTAgKyBhMjMgKiB5MywgeTAsIGExMywgYTIzLCAxLjApOwoJICAgICAgICB9CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5xdWFkcmlsYXRlcmFsVG9TcXVhcmUgPSBmdW5jdGlvbiAoeDAgLypmbG9hdCovLCB5MCAvKmZsb2F0Ki8sIHgxIC8qZmxvYXQqLywgeTEgLypmbG9hdCovLCB4MiAvKmZsb2F0Ki8sIHkyIC8qZmxvYXQqLywgeDMgLypmbG9hdCovLCB5MyAvKmZsb2F0Ki8pIHsKCSAgICAgICAgLy8gSGVyZSwgdGhlIGFkam9pbnQgc2VydmVzIGFzIHRoZSBpbnZlcnNlOgoJICAgICAgICByZXR1cm4gUGVyc3BlY3RpdmVUcmFuc2Zvcm0uc3F1YXJlVG9RdWFkcmlsYXRlcmFsKHgwLCB5MCwgeDEsIHkxLCB4MiwgeTIsIHgzLCB5MykuYnVpbGRBZGpvaW50KCk7CgkgICAgfTsKCSAgICBQZXJzcGVjdGl2ZVRyYW5zZm9ybS5wcm90b3R5cGUuYnVpbGRBZGpvaW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBBZGpvaW50IGlzIHRoZSB0cmFuc3Bvc2Ugb2YgdGhlIGNvZmFjdG9yIG1hdHJpeDoKCSAgICAgICAgcmV0dXJuIG5ldyBQZXJzcGVjdGl2ZVRyYW5zZm9ybSh0aGlzLmEyMiAqIHRoaXMuYTMzIC0gdGhpcy5hMjMgKiB0aGlzLmEzMiwgdGhpcy5hMjMgKiB0aGlzLmEzMSAtIHRoaXMuYTIxICogdGhpcy5hMzMsIHRoaXMuYTIxICogdGhpcy5hMzIgLSB0aGlzLmEyMiAqIHRoaXMuYTMxLCB0aGlzLmExMyAqIHRoaXMuYTMyIC0gdGhpcy5hMTIgKiB0aGlzLmEzMywgdGhpcy5hMTEgKiB0aGlzLmEzMyAtIHRoaXMuYTEzICogdGhpcy5hMzEsIHRoaXMuYTEyICogdGhpcy5hMzEgLSB0aGlzLmExMSAqIHRoaXMuYTMyLCB0aGlzLmExMiAqIHRoaXMuYTIzIC0gdGhpcy5hMTMgKiB0aGlzLmEyMiwgdGhpcy5hMTMgKiB0aGlzLmEyMSAtIHRoaXMuYTExICogdGhpcy5hMjMsIHRoaXMuYTExICogdGhpcy5hMjIgLSB0aGlzLmExMiAqIHRoaXMuYTIxKTsKCSAgICB9OwoJICAgIFBlcnNwZWN0aXZlVHJhbnNmb3JtLnByb3RvdHlwZS50aW1lcyA9IGZ1bmN0aW9uIChvdGhlcikgewoJICAgICAgICByZXR1cm4gbmV3IFBlcnNwZWN0aXZlVHJhbnNmb3JtKHRoaXMuYTExICogb3RoZXIuYTExICsgdGhpcy5hMjEgKiBvdGhlci5hMTIgKyB0aGlzLmEzMSAqIG90aGVyLmExMywgdGhpcy5hMTEgKiBvdGhlci5hMjEgKyB0aGlzLmEyMSAqIG90aGVyLmEyMiArIHRoaXMuYTMxICogb3RoZXIuYTIzLCB0aGlzLmExMSAqIG90aGVyLmEzMSArIHRoaXMuYTIxICogb3RoZXIuYTMyICsgdGhpcy5hMzEgKiBvdGhlci5hMzMsIHRoaXMuYTEyICogb3RoZXIuYTExICsgdGhpcy5hMjIgKiBvdGhlci5hMTIgKyB0aGlzLmEzMiAqIG90aGVyLmExMywgdGhpcy5hMTIgKiBvdGhlci5hMjEgKyB0aGlzLmEyMiAqIG90aGVyLmEyMiArIHRoaXMuYTMyICogb3RoZXIuYTIzLCB0aGlzLmExMiAqIG90aGVyLmEzMSArIHRoaXMuYTIyICogb3RoZXIuYTMyICsgdGhpcy5hMzIgKiBvdGhlci5hMzMsIHRoaXMuYTEzICogb3RoZXIuYTExICsgdGhpcy5hMjMgKiBvdGhlci5hMTIgKyB0aGlzLmEzMyAqIG90aGVyLmExMywgdGhpcy5hMTMgKiBvdGhlci5hMjEgKyB0aGlzLmEyMyAqIG90aGVyLmEyMiArIHRoaXMuYTMzICogb3RoZXIuYTIzLCB0aGlzLmExMyAqIG90aGVyLmEzMSArIHRoaXMuYTIzICogb3RoZXIuYTMyICsgdGhpcy5hMzMgKiBvdGhlci5hMzMpOwoJICAgIH07CgkgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoJfSgpKTsKCVBlcnNwZWN0aXZlVHJhbnNmb3JtJDEuZGVmYXVsdCA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX19leHRlbmRzJDIgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGVmYXVsdEdyaWRTYW1wbGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcuY29tbW9uIHsqLwoJdmFyIEdyaWRTYW1wbGVyXzEgPSBHcmlkU2FtcGxlciQxOwoJdmFyIEJpdE1hdHJpeF8xJDEgPSBCaXRNYXRyaXgkMTsKCXZhciBQZXJzcGVjdGl2ZVRyYW5zZm9ybV8xJDEgPSBQZXJzcGVjdGl2ZVRyYW5zZm9ybSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEkNCA9IE5vdEZvdW5kRXhjZXB0aW9uJDE7CgkvKioKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBEZWZhdWx0R3JpZFNhbXBsZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDIoRGVmYXVsdEdyaWRTYW1wbGVyLCBfc3VwZXIpOwoJICAgIGZ1bmN0aW9uIERlZmF1bHRHcmlkU2FtcGxlcigpIHsKCSAgICAgICAgcmV0dXJuIF9zdXBlciAhPT0gbnVsbCAmJiBfc3VwZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKSB8fCB0aGlzOwoJICAgIH0KCSAgICAvKkBPdmVycmlkZSovCgkgICAgRGVmYXVsdEdyaWRTYW1wbGVyLnByb3RvdHlwZS5zYW1wbGVHcmlkID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgcDFUb1ggLypmbG9hdCovLCBwMVRvWSAvKmZsb2F0Ki8sIHAyVG9YIC8qZmxvYXQqLywgcDJUb1kgLypmbG9hdCovLCBwM1RvWCAvKmZsb2F0Ki8sIHAzVG9ZIC8qZmxvYXQqLywgcDRUb1ggLypmbG9hdCovLCBwNFRvWSAvKmZsb2F0Ki8sIHAxRnJvbVggLypmbG9hdCovLCBwMUZyb21ZIC8qZmxvYXQqLywgcDJGcm9tWCAvKmZsb2F0Ki8sIHAyRnJvbVkgLypmbG9hdCovLCBwM0Zyb21YIC8qZmxvYXQqLywgcDNGcm9tWSAvKmZsb2F0Ki8sIHA0RnJvbVggLypmbG9hdCovLCBwNEZyb21ZIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSQxLmRlZmF1bHQucXVhZHJpbGF0ZXJhbFRvUXVhZHJpbGF0ZXJhbChwMVRvWCwgcDFUb1ksIHAyVG9YLCBwMlRvWSwgcDNUb1gsIHAzVG9ZLCBwNFRvWCwgcDRUb1ksIHAxRnJvbVgsIHAxRnJvbVksIHAyRnJvbVgsIHAyRnJvbVksIHAzRnJvbVgsIHAzRnJvbVksIHA0RnJvbVgsIHA0RnJvbVkpOwoJICAgICAgICByZXR1cm4gdGhpcy5zYW1wbGVHcmlkV2l0aFRyYW5zZm9ybShpbWFnZSwgZGltZW5zaW9uWCwgZGltZW5zaW9uWSwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBEZWZhdWx0R3JpZFNhbXBsZXIucHJvdG90eXBlLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtID0gZnVuY3Rpb24gKGltYWdlLCBkaW1lbnNpb25YIC8qaW50Ki8sIGRpbWVuc2lvblkgLyppbnQqLywgdHJhbnNmb3JtKSB7CgkgICAgICAgIGlmIChkaW1lbnNpb25YIDw9IDAgfHwgZGltZW5zaW9uWSA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQ0LmRlZmF1bHQoKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMSQxLmRlZmF1bHQoZGltZW5zaW9uWCwgZGltZW5zaW9uWSk7CgkgICAgICAgIHZhciBwb2ludHMgPSBuZXcgRmxvYXQzMkFycmF5KDIgKiBkaW1lbnNpb25YKTsKCSAgICAgICAgZm9yICh2YXIgeSA9IDA7IHkgPCBkaW1lbnNpb25ZOyB5KyspIHsKCSAgICAgICAgICAgIHZhciBtYXggPSBwb2ludHMubGVuZ3RoOwoJICAgICAgICAgICAgdmFyIGlWYWx1ZSA9IHkgKyAwLjU7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1heDsgeCArPSAyKSB7CgkgICAgICAgICAgICAgICAgcG9pbnRzW3hdID0gKHggLyAyKSArIDAuNTsKCSAgICAgICAgICAgICAgICBwb2ludHNbeCArIDFdID0gaVZhbHVlOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgdHJhbnNmb3JtLnRyYW5zZm9ybVBvaW50cyhwb2ludHMpOwoJICAgICAgICAgICAgLy8gUXVpY2sgY2hlY2sgdG8gc2VlIGlmIHBvaW50cyB0cmFuc2Zvcm1lZCB0byBzb21ldGhpbmcgaW5zaWRlIHRoZSBpbWFnZQoJICAgICAgICAgICAgLy8gc3VmZmljaWVudCB0byBjaGVjayB0aGUgZW5kcG9pbnRzCgkgICAgICAgICAgICBHcmlkU2FtcGxlcl8xLmRlZmF1bHQuY2hlY2tBbmROdWRnZVBvaW50cyhpbWFnZSwgcG9pbnRzKTsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgeCA9IDA7IHggPCBtYXg7IHggKz0gMikgewoJICAgICAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KE1hdGguZmxvb3IocG9pbnRzW3hdKSwgTWF0aC5mbG9vcihwb2ludHNbeCArIDFdKSkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEJsYWNrKC1pc2gpIHBpeGVsCgkgICAgICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4IC8gMiwgeSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoYWlvb2JlIC8qOiBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24qLykgewoJICAgICAgICAgICAgICAgIC8vIFRoaXMgZmVlbHMgd3JvbmcsIGJ1dCwgc29tZXRpbWVzIGlmIHRoZSBmaW5kZXIgcGF0dGVybnMgYXJlIG1pc2lkZW50aWZpZWQsIHRoZSByZXN1bHRpbmcKCSAgICAgICAgICAgICAgICAvLyB0cmFuc2Zvcm0gZ2V0cyAidHdpc3RlZCIgc3VjaCB0aGF0IGl0IG1hcHMgYSBzdHJhaWdodCBsaW5lIG9mIHBvaW50cyB0byBhIHNldCBvZiBwb2ludHMKCSAgICAgICAgICAgICAgICAvLyB3aG9zZSBlbmRwb2ludHMgYXJlIGluIGJvdW5kcywgYnV0IG90aGVycyBhcmUgbm90LiBUaGVyZSBpcyBwcm9iYWJseSBzb21lIG1hdGhlbWF0aWNhbAoJICAgICAgICAgICAgICAgIC8vIHdheSB0byBkZXRlY3QgdGhpcyBhYm91dCB0aGUgdHJhbnNmb3JtYXRpb24gdGhhdCBJIGRvbid0IGtub3cgeWV0LgoJICAgICAgICAgICAgICAgIC8vIFRoaXMgcmVzdWx0cyBpbiBhbiB1Z2x5IHJ1bnRpbWUgZXhjZXB0aW9uIGRlc3BpdGUgb3VyIGNsZXZlciBjaGVja3MgYWJvdmUgLS0gY2FuJ3QgaGF2ZQoJICAgICAgICAgICAgICAgIC8vIHRoYXQuIFdlIGNvdWxkIGNoZWNrIGVhY2ggcG9pbnQncyBjb29yZGluYXRlcyBidXQgdGhhdCBmZWVscyBkdXBsaWNhdGl2ZS4gV2Ugc2V0dGxlIGZvcgoJICAgICAgICAgICAgICAgIC8vIGNhdGNoaW5nIGFuZCB3cmFwcGluZyBBcnJheUluZGV4T3V0T2ZCb3VuZHNFeGNlcHRpb24uCgkgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkNC5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICByZXR1cm4gRGVmYXVsdEdyaWRTYW1wbGVyOwoJfShHcmlkU2FtcGxlcl8xLmRlZmF1bHQpKTsKCURlZmF1bHRHcmlkU2FtcGxlciQxLmRlZmF1bHQgPSBEZWZhdWx0R3JpZFNhbXBsZXI7CgoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEdyaWRTYW1wbGVySW5zdGFuY2UkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIERlZmF1bHRHcmlkU2FtcGxlcl8xID0gRGVmYXVsdEdyaWRTYW1wbGVyJDE7Cgl2YXIgR3JpZFNhbXBsZXJJbnN0YW5jZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBHcmlkU2FtcGxlckluc3RhbmNlKCkgewoJICAgIH0KCSAgICAvKioKCSAgICAgKiBTZXRzIHRoZSBpbXBsZW1lbnRhdGlvbiBvZiBHcmlkU2FtcGxlciB1c2VkIGJ5IHRoZSBsaWJyYXJ5LiBPbmUgZ2xvYmFsCgkgICAgICogaW5zdGFuY2UgaXMgc3RvcmVkLCB3aGljaCBtYXkgc291bmQgcHJvYmxlbWF0aWMuIEJ1dCwgdGhlIGltcGxlbWVudGF0aW9uIHByb3ZpZGVkCgkgICAgICogb3VnaHQgdG8gYmUgYXBwcm9wcmlhdGUgZm9yIHRoZSBlbnRpcmUgcGxhdGZvcm0sIGFuZCBhbGwgdXNlcyBvZiB0aGlzIGxpYnJhcnkKCSAgICAgKiBpbiB0aGUgd2hvbGUgbGlmZXRpbWUgb2YgdGhlIEpWTS4gRm9yIGluc3RhbmNlLCBhbiBBbmRyb2lkIGFjdGl2aXR5IGNhbiBzd2FwIGluCgkgICAgICogYW4gaW1wbGVtZW50YXRpb24gdGhhdCB0YWtlcyBhZHZhbnRhZ2Ugb2YgbmF0aXZlIHBsYXRmb3JtIGxpYnJhcmllcy4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBuZXdHcmlkU2FtcGxlciBUaGUgcGxhdGZvcm0tc3BlY2lmaWMgb2JqZWN0IHRvIGluc3RhbGwuCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5zZXRHcmlkU2FtcGxlciA9IGZ1bmN0aW9uIChuZXdHcmlkU2FtcGxlcikgewoJICAgICAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3R3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSBjdXJyZW50IGltcGxlbWVudGF0aW9uIG9mIEdyaWRTYW1wbGVyCgkgICAgICovCgkgICAgR3JpZFNhbXBsZXJJbnN0YW5jZS5nZXRJbnN0YW5jZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIEdyaWRTYW1wbGVySW5zdGFuY2UuZ3JpZFNhbXBsZXI7CgkgICAgfTsKCSAgICBHcmlkU2FtcGxlckluc3RhbmNlLmdyaWRTYW1wbGVyID0gbmV3IERlZmF1bHRHcmlkU2FtcGxlcl8xLmRlZmF1bHQoKTsKCSAgICByZXR1cm4gR3JpZFNhbXBsZXJJbnN0YW5jZTsKCX0oKSk7CglHcmlkU2FtcGxlckluc3RhbmNlJDEuZGVmYXVsdCA9IEdyaWRTYW1wbGVySW5zdGFuY2U7CgoJdmFyIFJlc3VsdFBvaW50JDEgPSB7fTsKCgl2YXIgRmxvYXQkMSA9IHt9OwoKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShGbG9hdCQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKioKCSAqIFBvbnlmaWxsIGZvciBKYXZhJ3MgRmxvYXQgY2xhc3MuCgkgKi8KCXZhciBGbG9hdCA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBGbG9hdCgpIHsKCSAgICB9CgkgICAgLyoqCgkgICAgICogU2luY1RTIGhhcyBubyBkaWZmZXJlbmNlIGJldHdlZW4gaW50IGFuZCBmbG9hdCwgdGhlcmUncyBhbGwgbnVtYmVycywKCSAgICAgKiB0aGlzIGlzIHVzZWQgb25seSB0byBwb2x5ZmlsbCBKYXZhIGNvZGUuCgkgICAgICovCgkgICAgRmxvYXQuZmxvYXRUb0ludEJpdHMgPSBmdW5jdGlvbiAoZikgewoJICAgICAgICByZXR1cm4gZjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFRoZSBmbG9hdCBtYXggdmFsdWUgaW4gSlMgaXMgdGhlIG51bWJlciBtYXggdmFsdWUuCgkgICAgICovCgkgICAgRmxvYXQuTUFYX1ZBTFVFID0gTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVI7CgkgICAgcmV0dXJuIEZsb2F0OwoJfSgpKTsKCUZsb2F0JDEuZGVmYXVsdCA9IEZsb2F0OwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVzdWx0UG9pbnQkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZyB7Ki8KCXZhciBNYXRoVXRpbHNfMSQxID0gTWF0aFV0aWxzJDE7Cgl2YXIgRmxvYXRfMSA9IEZsb2F0JDE7CgkvKioKCSAqIDxwPkVuY2Fwc3VsYXRlcyBhIHBvaW50IG9mIGludGVyZXN0IGluIGFuIGltYWdlIGNvbnRhaW5pbmcgYSBiYXJjb2RlLiBUeXBpY2FsbHksIHRoaXMKCSAqIHdvdWxkIGJlIHRoZSBsb2NhdGlvbiBvZiBhIGZpbmRlciBwYXR0ZXJuIG9yIHRoZSBjb3JuZXIgb2YgdGhlIGJhcmNvZGUsIGZvciBleGFtcGxlLjwvcD4KCSAqCgkgKiBAYXV0aG9yIFNlYW4gT3dlbgoJICovCgl2YXIgUmVzdWx0UG9pbnQgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgZnVuY3Rpb24gUmVzdWx0UG9pbnQoeCwgeSkgewoJICAgICAgICB0aGlzLnggPSB4OwoJICAgICAgICB0aGlzLnkgPSB5OwoJICAgIH0KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUuZ2V0WCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMueDsKCSAgICB9OwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5nZXRZID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy55OwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5lcXVhbHMgPSBmdW5jdGlvbiAob3RoZXIpIHsKCSAgICAgICAgaWYgKG90aGVyIGluc3RhbmNlb2YgUmVzdWx0UG9pbnQpIHsKCSAgICAgICAgICAgIHZhciBvdGhlclBvaW50ID0gb3RoZXI7CgkgICAgICAgICAgICByZXR1cm4gdGhpcy54ID09PSBvdGhlclBvaW50LnggJiYgdGhpcy55ID09PSBvdGhlclBvaW50Lnk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIFJlc3VsdFBvaW50LnByb3RvdHlwZS5oYXNoQ29kZSA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIDMxICogRmxvYXRfMS5kZWZhdWx0LmZsb2F0VG9JbnRCaXRzKHRoaXMueCkgKyBGbG9hdF8xLmRlZmF1bHQuZmxvYXRUb0ludEJpdHModGhpcy55KTsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBSZXN1bHRQb2ludC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiAnKCcgKyB0aGlzLnggKyAnLCcgKyB0aGlzLnkgKyAnKSc7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBPcmRlcnMgYW4gYXJyYXkgb2YgdGhyZWUgUmVzdWx0UG9pbnRzIGluIGFuIG9yZGVyIFtBLEIsQ10gc3VjaCB0aGF0IEFCIGlzIGxlc3MgdGhhbiBBQwoJICAgICAqIGFuZCBCQyBpcyBsZXNzIHRoYW4gQUMsIGFuZCB0aGUgYW5nbGUgYmV0d2VlbiBCQyBhbmQgQkEgaXMgbGVzcyB0aGFuIDE4MCBkZWdyZWVzLgoJICAgICAqCgkgICAgICogQHBhcmFtIHBhdHRlcm5zIGFycmF5IG9mIHRocmVlIHtAY29kZSBSZXN1bHRQb2ludH0gdG8gb3JkZXIKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5vcmRlckJlc3RQYXR0ZXJucyA9IGZ1bmN0aW9uIChwYXR0ZXJucykgewoJICAgICAgICAvLyBGaW5kIGRpc3RhbmNlcyBiZXR3ZWVuIHBhdHRlcm4gY2VudGVycwoJICAgICAgICB2YXIgemVyb09uZURpc3RhbmNlID0gdGhpcy5kaXN0YW5jZShwYXR0ZXJuc1swXSwgcGF0dGVybnNbMV0pOwoJICAgICAgICB2YXIgb25lVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzFdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciB6ZXJvVHdvRGlzdGFuY2UgPSB0aGlzLmRpc3RhbmNlKHBhdHRlcm5zWzBdLCBwYXR0ZXJuc1syXSk7CgkgICAgICAgIHZhciBwb2ludEE7CgkgICAgICAgIHZhciBwb2ludEI7CgkgICAgICAgIHZhciBwb2ludEM7CgkgICAgICAgIC8vIEFzc3VtZSBvbmUgY2xvc2VzdCB0byBvdGhlciB0d28gaXMgQjsgQSBhbmQgQyB3aWxsIGp1c3QgYmUgZ3Vlc3NlcyBhdCBmaXJzdAoJICAgICAgICBpZiAob25lVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlICYmIG9uZVR3b0Rpc3RhbmNlID49IHplcm9Ud29EaXN0YW5jZSkgewoJICAgICAgICAgICAgcG9pbnRCID0gcGF0dGVybnNbMF07CgkgICAgICAgICAgICBwb2ludEEgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QyA9IHBhdHRlcm5zWzJdOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgaWYgKHplcm9Ud29EaXN0YW5jZSA+PSBvbmVUd29EaXN0YW5jZSAmJiB6ZXJvVHdvRGlzdGFuY2UgPj0gemVyb09uZURpc3RhbmNlKSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1sxXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMl07CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICBwb2ludEIgPSBwYXR0ZXJuc1syXTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBhdHRlcm5zWzBdOwoJICAgICAgICAgICAgcG9pbnRDID0gcGF0dGVybnNbMV07CgkgICAgICAgIH0KCSAgICAgICAgLy8gVXNlIGNyb3NzIHByb2R1Y3QgdG8gZmlndXJlIG91dCB3aGV0aGVyIEEgYW5kIEMgYXJlIGNvcnJlY3Qgb3IgZmxpcHBlZC4KCSAgICAgICAgLy8gVGhpcyBhc2tzIHdoZXRoZXIgQkMgeCBCQSBoYXMgYSBwb3NpdGl2ZSB6IGNvbXBvbmVudCwgd2hpY2ggaXMgdGhlIGFycmFuZ2VtZW50CgkgICAgICAgIC8vIHdlIHdhbnQgZm9yIEEsIEIsIEMuIElmIGl0J3MgbmVnYXRpdmUsIHRoZW4gd2UndmUgZ290IGl0IGZsaXBwZWQgYXJvdW5kIGFuZAoJICAgICAgICAvLyBzaG91bGQgc3dhcCBBIGFuZCBDLgoJICAgICAgICBpZiAodGhpcy5jcm9zc1Byb2R1Y3RaKHBvaW50QSwgcG9pbnRCLCBwb2ludEMpIDwgMC4wKSB7CgkgICAgICAgICAgICB2YXIgdGVtcCA9IHBvaW50QTsKCSAgICAgICAgICAgIHBvaW50QSA9IHBvaW50QzsKCSAgICAgICAgICAgIHBvaW50QyA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgcGF0dGVybnNbMF0gPSBwb2ludEE7CgkgICAgICAgIHBhdHRlcm5zWzFdID0gcG9pbnRCOwoJICAgICAgICBwYXR0ZXJuc1syXSA9IHBvaW50QzsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEBwYXJhbSBwYXR0ZXJuMSBmaXJzdCBwYXR0ZXJuCgkgICAgICogQHBhcmFtIHBhdHRlcm4yIHNlY29uZCBwYXR0ZXJuCgkgICAgICogQHJldHVybiBkaXN0YW5jZSBiZXR3ZWVuIHR3byBwb2ludHMKCSAgICAgKi8KCSAgICBSZXN1bHRQb2ludC5kaXN0YW5jZSA9IGZ1bmN0aW9uIChwYXR0ZXJuMSwgcGF0dGVybjIpIHsKCSAgICAgICAgcmV0dXJuIE1hdGhVdGlsc18xJDEuZGVmYXVsdC5kaXN0YW5jZShwYXR0ZXJuMS54LCBwYXR0ZXJuMS55LCBwYXR0ZXJuMi54LCBwYXR0ZXJuMi55KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIFJldHVybnMgdGhlIHogY29tcG9uZW50IG9mIHRoZSBjcm9zcyBwcm9kdWN0IGJldHdlZW4gdmVjdG9ycyBCQyBhbmQgQkEuCgkgICAgICovCgkgICAgUmVzdWx0UG9pbnQuY3Jvc3NQcm9kdWN0WiA9IGZ1bmN0aW9uIChwb2ludEEsIHBvaW50QiwgcG9pbnRDKSB7CgkgICAgICAgIHZhciBiWCA9IHBvaW50Qi54OwoJICAgICAgICB2YXIgYlkgPSBwb2ludEIueTsKCSAgICAgICAgcmV0dXJuICgocG9pbnRDLnggLSBiWCkgKiAocG9pbnRBLnkgLSBiWSkpIC0gKChwb2ludEMueSAtIGJZKSAqIChwb2ludEEueCAtIGJYKSk7CgkgICAgfTsKCSAgICByZXR1cm4gUmVzdWx0UG9pbnQ7Cgl9KCkpOwoJUmVzdWx0UG9pbnQkMS5kZWZhdWx0ID0gUmVzdWx0UG9pbnQ7CgoJdmFyIEFsaWdubWVudFBhdHRlcm5GaW5kZXIkMSA9IHt9OwoKCXZhciBBbGlnbm1lbnRQYXR0ZXJuJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fZXh0ZW5kcyQxID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fZXh0ZW5kcykgfHwgKGZ1bmN0aW9uICgpIHsKCSAgICB2YXIgZXh0ZW5kU3RhdGljcyA9IGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwKCSAgICAgICAgICAgICh7IF9fcHJvdG9fXzogW10gfSBpbnN0YW5jZW9mIEFycmF5ICYmIGZ1bmN0aW9uIChkLCBiKSB7IGQuX19wcm90b19fID0gYjsgfSkgfHwKCSAgICAgICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9OwoJICAgICAgICByZXR1cm4gZXh0ZW5kU3RhdGljcyhkLCBiKTsKCSAgICB9OwoJICAgIHJldHVybiBmdW5jdGlvbiAoZCwgYikgewoJICAgICAgICBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgICAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH0KCSAgICAgICAgZC5wcm90b3R5cGUgPSBiID09PSBudWxsID8gT2JqZWN0LmNyZWF0ZShiKSA6IChfXy5wcm90b3R5cGUgPSBiLnByb3RvdHlwZSwgbmV3IF9fKCkpOwoJICAgIH07Cgl9KSgpOwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEFsaWdubWVudFBhdHRlcm4kMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgUmVzdWx0UG9pbnRfMSQzID0gUmVzdWx0UG9pbnQkMTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGFuIGFsaWdubWVudCBwYXR0ZXJuLCB3aGljaCBhcmUgdGhlIHNtYWxsZXIgc3F1YXJlIHBhdHRlcm5zIGZvdW5kIGluCgkgKiBhbGwgYnV0IHRoZSBzaW1wbGVzdCBRUiBDb2Rlcy48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEFsaWdubWVudFBhdHRlcm4gPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoX3N1cGVyKSB7CgkgICAgX19leHRlbmRzJDEoQWxpZ25tZW50UGF0dGVybiwgX3N1cGVyKTsKCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIHJldHVybiBfdGhpczsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZXJtaW5lcyBpZiB0aGlzIGFsaWdubWVudCBwYXR0ZXJuICJhYm91dCBlcXVhbHMiIGFuIGFsaWdubWVudCBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhbiBhdmVyYWdlIG9mIHRoZSB0d28uCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybi5wcm90b3R5cGUuY29tYmluZUVzdGltYXRlID0gZnVuY3Rpb24gKGkgLypmbG9hdCovLCBqIC8qZmxvYXQqLywgbmV3TW9kdWxlU2l6ZSAvKmZsb2F0Ki8pIHsKCSAgICAgICAgdmFyIGNvbWJpbmVkWCA9ICh0aGlzLmdldFgoKSArIGopIC8gMi4wOwoJICAgICAgICB2YXIgY29tYmluZWRZID0gKHRoaXMuZ2V0WSgpICsgaSkgLyAyLjA7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplICsgbmV3TW9kdWxlU2l6ZSkgLyAyLjA7CgkgICAgICAgIHJldHVybiBuZXcgQWxpZ25tZW50UGF0dGVybihjb21iaW5lZFgsIGNvbWJpbmVkWSwgY29tYmluZWRNb2R1bGVTaXplKTsKCSAgICB9OwoJICAgIHJldHVybiBBbGlnbm1lbnRQYXR0ZXJuOwoJfShSZXN1bHRQb2ludF8xJDMuZGVmYXVsdCkpOwoJQWxpZ25tZW50UGF0dGVybiQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCgl2YXIgX192YWx1ZXMkMSA9IChjb21tb25qc0dsb2JhbCAmJiBjb21tb25qc0dsb2JhbC5fX3ZhbHVlcykgfHwgZnVuY3Rpb24obykgewoJICAgIHZhciBzID0gdHlwZW9mIFN5bWJvbCA9PT0gImZ1bmN0aW9uIiAmJiBTeW1ib2wuaXRlcmF0b3IsIG0gPSBzICYmIG9bc10sIGkgPSAwOwoJICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pOwoJICAgIGlmIChvICYmIHR5cGVvZiBvLmxlbmd0aCA9PT0gIm51bWJlciIpIHJldHVybiB7CgkgICAgICAgIG5leHQ6IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7CgkgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogbyAmJiBvW2krK10sIGRvbmU6ICFvIH07CgkgICAgICAgIH0KCSAgICB9OwoJICAgIHRocm93IG5ldyBUeXBlRXJyb3IocyA/ICJPYmplY3QgaXMgbm90IGl0ZXJhYmxlLiIgOiAiU3ltYm9sLml0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLiIpOwoJfTsKCU9iamVjdC5kZWZpbmVQcm9wZXJ0eShBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuXzEgPSBBbGlnbm1lbnRQYXR0ZXJuJDE7Cgl2YXIgTm90Rm91bmRFeGNlcHRpb25fMSQzID0gTm90Rm91bmRFeGNlcHRpb24kMTsKCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBhbGlnbm1lbnQgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBBbGlnbm1lbnQgcGF0dGVybnMgbG9vayBsaWtlIGZpbmRlcgoJICogcGF0dGVybnMgYnV0IGFyZSBzbWFsbGVyIGFuZCBhcHBlYXIgYXQgcmVndWxhciBpbnRlcnZhbHMgdGhyb3VnaG91dCB0aGUgaW1hZ2UuPC9wPgoJICoKCSAqIDxwPkF0IHRoZSBtb21lbnQgdGhpcyBvbmx5IGxvb2tzIGZvciB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAqCgkgKiA8cD5UaGlzIGlzIG1vc3RseSBhIHNpbXBsaWZpZWQgY29weSBvZiB7QGxpbmsgRmluZGVyUGF0dGVybkZpbmRlcn0uIEl0IGlzIGNvcGllZCwKCSAqIHBhc3RlZCBhbmQgc3RyaXBwZWQgZG93biBoZXJlIGZvciBtYXhpbXVtIHBlcmZvcm1hbmNlIGJ1dCBkb2VzIHVuZm9ydHVuYXRlbHkgZHVwbGljYXRlCgkgKiBzb21lIGNvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIC8qKgoJICAgICAqIDxwPkNyZWF0ZXMgYSBmaW5kZXIgdGhhdCB3aWxsIGxvb2sgaW4gYSBwb3J0aW9uIG9mIHRoZSB3aG9sZSBpbWFnZS48L3A+CgkgICAgICoKCSAgICAgKiBAcGFyYW0gaW1hZ2UgaW1hZ2UgdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIHN0YXJ0WCBsZWZ0IGNvbHVtbiBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSBzdGFydFkgdG9wIHJvdyBmcm9tIHdoaWNoIHRvIHN0YXJ0IHNlYXJjaGluZwoJICAgICAqIEBwYXJhbSB3aWR0aCB3aWR0aCBvZiByZWdpb24gdG8gc2VhcmNoCgkgICAgICogQHBhcmFtIGhlaWdodCBoZWlnaHQgb2YgcmVnaW9uIHRvIHNlYXJjaAoJICAgICAqIEBwYXJhbSBtb2R1bGVTaXplIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBzbyBmYXIKCSAgICAgKi8KCSAgICBmdW5jdGlvbiBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyKGltYWdlLCBzdGFydFggLyppbnQqLywgc3RhcnRZIC8qaW50Ki8sIHdpZHRoIC8qaW50Ki8sIGhlaWdodCAvKmludCovLCBtb2R1bGVTaXplIC8qZmxvYXQqLywgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMuc3RhcnRYID0gc3RhcnRYOwoJICAgICAgICB0aGlzLnN0YXJ0WSA9IHN0YXJ0WTsKCSAgICAgICAgdGhpcy53aWR0aCA9IHdpZHRoOwoJICAgICAgICB0aGlzLmhlaWdodCA9IGhlaWdodDsKCSAgICAgICAgdGhpcy5tb2R1bGVTaXplID0gbW9kdWxlU2l6ZTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICAgICAgdGhpcy5wb3NzaWJsZUNlbnRlcnMgPSBbXTsgLy8gbmV3IEFycmF5PGFueT4oNSkpCgkgICAgICAgIC8vIFRZUEVTQ1JJUFRQT1JUOiBhcnJheSBpbml0aWFsaXphdGlvbiB3aXRob3V0IHNpemUgYXMgdGhlIGxlbmd0aCBpcyBjaGVja2VkIGJlbG93CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSgzKTsKCSAgICB9CgkgICAgLyoqCgkgICAgICogPHA+VGhpcyBtZXRob2QgYXR0ZW1wdHMgdG8gZmluZCB0aGUgYm90dG9tLXJpZ2h0IGFsaWdubWVudCBwYXR0ZXJuIGluIHRoZSBpbWFnZS4gSXQgaXMgYSBiaXQgbWVzc3kgc2luY2UKCSAgICAgKiBpdCdzIHByZXR0eSBwZXJmb3JtYW5jZS1jcml0aWNhbCBhbmQgc28gaXMgd3JpdHRlbiB0byBiZSBmYXN0IGZvcmVtb3N0LjwvcD4KCSAgICAgKgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBub3QgZm91bmQKCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgc3RhcnRYID0gdGhpcy5zdGFydFg7CgkgICAgICAgIHZhciBoZWlnaHQgPSB0aGlzLmhlaWdodDsKCSAgICAgICAgdmFyIHdpZHRoID0gdGhpcy53aWR0aDsKCSAgICAgICAgdmFyIG1heEogPSBzdGFydFggKyB3aWR0aDsKCSAgICAgICAgdmFyIG1pZGRsZUkgPSB0aGlzLnN0YXJ0WSArIChoZWlnaHQgLyAyKTsKCSAgICAgICAgLy8gV2UgYXJlIGxvb2tpbmcgZm9yIGJsYWNrL3doaXRlL2JsYWNrIG1vZHVsZXMgaW4gMToxOjEgcmF0aW8KCSAgICAgICAgLy8gdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIHNlZW4gc28gZmFyCgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoMyk7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIGZvciAodmFyIGlHZW4gPSAwOyBpR2VuIDwgaGVpZ2h0OyBpR2VuKyspIHsKCSAgICAgICAgICAgIC8vIFNlYXJjaCBmcm9tIG1pZGRsZSBvdXR3YXJkcwoJICAgICAgICAgICAgdmFyIGkgPSBtaWRkbGVJICsgKChpR2VuICYgMHgwMSkgPT09IDAgPyBNYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSA6IC1NYXRoLmZsb29yKChpR2VuICsgMSkgLyAyKSk7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICB2YXIgaiA9IHN0YXJ0WDsKCSAgICAgICAgICAgIC8vIEJ1cm4gb2ZmIGxlYWRpbmcgd2hpdGUgcGl4ZWxzIGJlZm9yZSBhbnl0aGluZyBlbHNlOyBpZiB3ZSBzdGFydCBpbiB0aGUgbWlkZGxlIG9mCgkgICAgICAgICAgICAvLyBhIHdoaXRlIHJ1biwgaXQgZG9lc24ndCBtYWtlIHNlbnNlIHRvIGNvdW50IGl0cyBsZW5ndGgsIHNpbmNlIHdlIGRvbid0IGtub3cgaWYgdGhlCgkgICAgICAgICAgICAvLyB3aGl0ZSBydW4gY29udGludWVkIHRvIHRoZSBsZWZ0IG9mIHRoZSBzdGFydCBwb2ludAoJICAgICAgICAgICAgd2hpbGUgKGogPCBtYXhKICYmICFpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB2YXIgY3VycmVudFN0YXRlID0gMDsKCSAgICAgICAgICAgIHdoaWxlIChqIDwgbWF4SikgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMV0rKzsKCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICBlbHNlIHsgLy8gQ291bnRpbmcgd2hpdGUgcGl4ZWxzCgkgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY3VycmVudFN0YXRlID09PSAyKSB7IC8vIEEgd2lubmVyPwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmZvdW5kUGF0dGVybkNyb3NzKHN0YXRlQ291bnQpKSB7IC8vIFllcwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBqKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCAhPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gc3RhdGVDb3VudFsyXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gMTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsrK2N1cnJlbnRTdGF0ZV0rKzsKCSAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGF0ZSA9PT0gMSkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBqKys7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBpZiAodGhpcy5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSkgewoJICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIG1heEopOwoJICAgICAgICAgICAgICAgIGlmIChjb25maXJtZWQgIT09IG51bGwpIHsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbmZpcm1lZDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgLy8gSG1tLCBub3RoaW5nIHdlIHNhdyB3YXMgb2JzZXJ2ZWQgYW5kIGNvbmZpcm1lZCB0d2ljZS4gSWYgd2UgaGFkCgkgICAgICAgIC8vIGFueSBndWVzcyBhdCBhbGwsIHJldHVybiBpdC4KCSAgICAgICAgaWYgKHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aCAhPT0gMCkgewoJICAgICAgICAgICAgcmV0dXJuIHRoaXMucG9zc2libGVDZW50ZXJzWzBdOwoJICAgICAgICB9CgkgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDMuZGVmYXVsdCgpOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogR2l2ZW4gYSBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCBzZWVuIGFuZCBhbiBlbmQgcG9zaXRpb24sCgkgICAgICogZmlndXJlcyB0aGUgbG9jYXRpb24gb2YgdGhlIGNlbnRlciBvZiB0aGlzIGJsYWNrL3doaXRlL2JsYWNrIHJ1bi4KCSAgICAgKi8KCSAgICBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCwgZW5kIC8qaW50Ki8pIHsKCSAgICAgICAgcmV0dXJuIChlbmQgLSBzdGF0ZUNvdW50WzJdKSAtIHN0YXRlQ291bnRbMV0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8xIHJhdGlvcwoJICAgICAqICAgICAgICAgdXNlZCBieSBhbGlnbm1lbnQgcGF0dGVybnMgdG8gYmUgY29uc2lkZXJlZCBhIG1hdGNoCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMubW9kdWxlU2l6ZTsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAzOyBpKyspIHsKCSAgICAgICAgICAgIGlmIChNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFtpXSkgPj0gbWF4VmFyaWFuY2UpIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5BZnRlciBhIGhvcml6b250YWwgc2NhbiBmaW5kcyBhIHBvdGVudGlhbCBhbGlnbm1lbnQgcGF0dGVybiwgdGhpcyBtZXRob2QKCSAgICAgKiAiY3Jvc3MtY2hlY2tzIiBieSBzY2FubmluZyBkb3duIHZlcnRpY2FsbHkgdGhyb3VnaCB0aGUgY2VudGVyIG9mIHRoZSBwb3NzaWJsZQoJICAgICAqIGFsaWdubWVudCBwYXR0ZXJuIHRvIHNlZSBpZiB0aGUgc2FtZSBwcm9wb3J0aW9uIGlzIGRldGVjdGVkLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGFydEkgcm93IHdoZXJlIGFuIGFsaWdubWVudCBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYW4gYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBhbGlnbm1lbnQgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgQWxpZ25tZW50UGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAvLyBTdGFydCBjb3VudGluZyB1cCBmcm9tIGNlbnRlcgoJICAgICAgICB2YXIgaSA9IHN0YXJ0STsKCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbMF0gPD0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMF0rKzsKCSAgICAgICAgICAgIGktLTsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFswXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIC8vIE5vdyBhbHNvIGNvdW50IGRvd24gZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IHN0YXJ0SSArIDE7CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbMV0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA8IG1heEkgJiYgIWltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzJdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzJdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMl0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSAyICogb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRoaXMuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkgPyBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaSkgOiBOYU47CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5UaGlzIGlzIGNhbGxlZCB3aGVuIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4uIEl0IHdpbGwKCSAgICAgKiBjcm9zcyBjaGVjayB3aXRoIGEgdmVydGljYWwgc2NhbiwgYW5kIGlmIHN1Y2Nlc3NmdWwsIHdpbGwgc2VlIGlmIHRoaXMgcGF0dGVybiBoYWQgYmVlbgoJICAgICAqIGZvdW5kIG9uIGEgcHJldmlvdXMgaG9yaXpvbnRhbCBzY2FuLiBJZiBzbywgd2UgY29uc2lkZXIgaXQgY29uZmlybWVkIGFuZCBjb25jbHVkZSB3ZSBoYXZlCgkgICAgICogZm91bmQgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBzdGF0ZUNvdW50IHJlYWRpbmcgc3RhdGUgbW9kdWxlIGNvdW50cyBmcm9tIGhvcml6b250YWwgc2NhbgoJICAgICAqIEBwYXJhbSBpIHJvdyB3aGVyZSBhbGlnbm1lbnQgcGF0dGVybiBtYXkgYmUgZm91bmQKCSAgICAgKiBAcGFyYW0gaiBlbmQgb2YgcG9zc2libGUgYWxpZ25tZW50IHBhdHRlcm4gaW4gcm93CgkgICAgICogQHJldHVybiB7QGxpbmsgQWxpZ25tZW50UGF0dGVybn0gaWYgd2UgaGF2ZSBmb3VuZCB0aGUgc2FtZSBwYXR0ZXJuIHR3aWNlLCBvciBudWxsIGlmIG5vdAoJICAgICAqLwoJICAgIEFsaWdubWVudFBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmhhbmRsZVBvc3NpYmxlQ2VudGVyID0gZnVuY3Rpb24gKHN0YXRlQ291bnQsIGkgLyppbnQqLywgaiAvKmludCovKSB7CgkgICAgICAgIHZhciBlXzEsIF9hOwoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdOwoJICAgICAgICB2YXIgY2VudGVySiA9IEFsaWdubWVudFBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKTsKCSAgICAgICAgdmFyIGNlbnRlckkgPSB0aGlzLmNyb3NzQ2hlY2tWZXJ0aWNhbChpLCAvKihpbnQpICovIGNlbnRlckosIDIgKiBzdGF0ZUNvdW50WzFdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IChzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0pIC8gMy4wOwoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBmb3IgKHZhciBfYiA9IF9fdmFsdWVzJDEodGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfYyA9IF9iLm5leHQoKTsgIV9jLmRvbmU7IF9jID0gX2IubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgICAgIHZhciBjZW50ZXIgPSBfYy52YWx1ZTsKCSAgICAgICAgICAgICAgICAgICAgLy8gTG9vayBmb3IgYWJvdXQgdGhlIHNhbWUgY2VudGVyIGFuZCBtb2R1bGUgc2l6ZToKCSAgICAgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5hYm91dEVxdWFscyhlc3RpbWF0ZWRNb2R1bGVTaXplLCBjZW50ZXJJLCBjZW50ZXJKKSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNlbnRlci5jb21iaW5lRXN0aW1hdGUoY2VudGVySSwgY2VudGVySiwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBjYXRjaCAoZV8xXzEpIHsgZV8xID0geyBlcnJvcjogZV8xXzEgfTsgfQoJICAgICAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKF9jICYmICFfYy5kb25lICYmIChfYSA9IF9iLnJldHVybikpIF9hLmNhbGwoX2IpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMSkgdGhyb3cgZV8xLmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICAvLyBIYWRuJ3QgZm91bmQgdGhpcyBiZWZvcmU7IHNhdmUgaXQKCSAgICAgICAgICAgIHZhciBwb2ludCA9IG5ldyBBbGlnbm1lbnRQYXR0ZXJuXzEuZGVmYXVsdChjZW50ZXJKLCBjZW50ZXJJLCBlc3RpbWF0ZWRNb2R1bGVTaXplKTsKCSAgICAgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzLnB1c2gocG9pbnQpOwoJICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjay5mb3VuZFBvc3NpYmxlUmVzdWx0UG9pbnQocG9pbnQpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBudWxsOwoJICAgIH07CgkgICAgcmV0dXJuIEFsaWdubWVudFBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJQWxpZ25tZW50UGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyOwoKCXZhciBGaW5kZXJQYXR0ZXJuRmluZGVyJDEgPSB7fTsKCgl2YXIgRmluZGVyUGF0dGVybiQxID0ge307CgoJLyoKCSAqIENvcHlyaWdodCAyMDA3IFpYaW5nIGF1dGhvcnMKCSAqCgkgKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgIkxpY2Vuc2UiKTsKCSAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4KCSAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdAoJICoKCSAqICAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgkgKgoJICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQoJICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKCSAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgoJICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAoJICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCgkgKi8KCXZhciBfX2V4dGVuZHMgPSAoY29tbW9uanNHbG9iYWwgJiYgY29tbW9uanNHbG9iYWwuX19leHRlbmRzKSB8fCAoZnVuY3Rpb24gKCkgewoJICAgIHZhciBleHRlbmRTdGF0aWNzID0gZnVuY3Rpb24gKGQsIGIpIHsKCSAgICAgICAgZXh0ZW5kU3RhdGljcyA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiB8fAoJICAgICAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fAoJICAgICAgICAgICAgZnVuY3Rpb24gKGQsIGIpIHsgZm9yICh2YXIgcCBpbiBiKSBpZiAoYi5oYXNPd25Qcm9wZXJ0eShwKSkgZFtwXSA9IGJbcF07IH07CgkgICAgICAgIHJldHVybiBleHRlbmRTdGF0aWNzKGQsIGIpOwoJICAgIH07CgkgICAgcmV0dXJuIGZ1bmN0aW9uIChkLCBiKSB7CgkgICAgICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7CgkgICAgICAgIGZ1bmN0aW9uIF9fKCkgeyB0aGlzLmNvbnN0cnVjdG9yID0gZDsgfQoJICAgICAgICBkLnByb3RvdHlwZSA9IGIgPT09IG51bGwgPyBPYmplY3QuY3JlYXRlKGIpIDogKF9fLnByb3RvdHlwZSA9IGIucHJvdG90eXBlLCBuZXcgX18oKSk7CgkgICAgfTsKCX0pKCk7CglPYmplY3QuZGVmaW5lUHJvcGVydHkoRmluZGVyUGF0dGVybiQxLCAiX19lc01vZHVsZSIsIHsgdmFsdWU6IHRydWUgfSk7CgkvKm5hbWVzcGFjZSBjb20uZ29vZ2xlLnp4aW5nLnFyY29kZS5kZXRlY3RvciB7Ki8KCXZhciBSZXN1bHRQb2ludF8xJDIgPSBSZXN1bHRQb2ludCQxOwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgYSBmaW5kZXIgcGF0dGVybiwgd2hpY2ggYXJlIHRoZSB0aHJlZSBzcXVhcmUgcGF0dGVybnMgZm91bmQgaW4KCSAqIHRoZSBjb3JuZXJzIG9mIFFSIENvZGVzLiBJdCBhbHNvIGVuY2Fwc3VsYXRlcyBhIGNvdW50IG9mIHNpbWlsYXIgZmluZGVyIHBhdHRlcm5zLAoJICogYXMgYSBjb252ZW5pZW5jZSB0byB0aGUgZmluZGVyJ3MgYm9va2tlZXBpbmcuPC9wPgoJICoKCSAqIEBhdXRob3IgU2VhbiBPd2VuCgkgKi8KCXZhciBGaW5kZXJQYXR0ZXJuID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKF9zdXBlcikgewoJICAgIF9fZXh0ZW5kcyhGaW5kZXJQYXR0ZXJuLCBfc3VwZXIpOwoJICAgIC8vIEZpbmRlclBhdHRlcm4ocG9zWDogbnVtYmVyLypmbG9hdCovLCBwb3NZOiBudW1iZXIvKmZsb2F0Ki8sIGVzdGltYXRlZE1vZHVsZVNpemU6IG51bWJlci8qZmxvYXQqLykgewoJICAgIC8vICAgdGhpcyhwb3NYLCBwb3NZLCBlc3RpbWF0ZWRNb2R1bGVTaXplLCAxKQoJICAgIC8vIH0KCSAgICBmdW5jdGlvbiBGaW5kZXJQYXR0ZXJuKHBvc1ggLypmbG9hdCovLCBwb3NZIC8qZmxvYXQqLywgZXN0aW1hdGVkTW9kdWxlU2l6ZSAvKmZsb2F0Ki8sIGNvdW50IC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIF90aGlzID0gX3N1cGVyLmNhbGwodGhpcywgcG9zWCwgcG9zWSkgfHwgdGhpczsKCSAgICAgICAgX3RoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IGVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIF90aGlzLmNvdW50ID0gY291bnQ7CgkgICAgICAgIGlmICh1bmRlZmluZWQgPT09IGNvdW50KSB7CgkgICAgICAgICAgICBfdGhpcy5jb3VudCA9IDE7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIF90aGlzOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5lc3RpbWF0ZWRNb2R1bGVTaXplOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybi5wcm90b3R5cGUuZ2V0Q291bnQgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmNvdW50OwoJICAgIH07CgkgICAgLyoKCSAgICB2b2lkIGluY3JlbWVudENvdW50KCkgewoJICAgICAgdGhpcy5jb3VudCsrCgkgICAgfQoJICAgICAqLwoJICAgIC8qKgoJICAgICAqIDxwPkRldGVybWluZXMgaWYgdGhpcyBmaW5kZXIgcGF0dGVybiAiYWJvdXQgZXF1YWxzIiBhIGZpbmRlciBwYXR0ZXJuIGF0IHRoZSBzdGF0ZWQKCSAgICAgKiBwb3NpdGlvbiBhbmQgc2l6ZSAtLSBtZWFuaW5nLCBpdCBpcyBhdCBuZWFybHkgdGhlIHNhbWUgY2VudGVyIHdpdGggbmVhcmx5IHRoZSBzYW1lIHNpemUuPC9wPgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm4ucHJvdG90eXBlLmFib3V0RXF1YWxzID0gZnVuY3Rpb24gKG1vZHVsZVNpemUgLypmbG9hdCovLCBpIC8qZmxvYXQqLywgaiAvKmZsb2F0Ki8pIHsKCSAgICAgICAgaWYgKE1hdGguYWJzKGkgLSB0aGlzLmdldFkoKSkgPD0gbW9kdWxlU2l6ZSAmJiBNYXRoLmFicyhqIC0gdGhpcy5nZXRYKCkpIDw9IG1vZHVsZVNpemUpIHsKCSAgICAgICAgICAgIHZhciBtb2R1bGVTaXplRGlmZiA9IE1hdGguYWJzKG1vZHVsZVNpemUgLSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgcmV0dXJuIG1vZHVsZVNpemVEaWZmIDw9IDEuMCB8fCBtb2R1bGVTaXplRGlmZiA8PSB0aGlzLmVzdGltYXRlZE1vZHVsZVNpemU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQ29tYmluZXMgdGhpcyBvYmplY3QncyBjdXJyZW50IGVzdGltYXRlIG9mIGEgZmluZGVyIHBhdHRlcm4gcG9zaXRpb24gYW5kIG1vZHVsZSBzaXplCgkgICAgICogd2l0aCBhIG5ldyBlc3RpbWF0ZS4gSXQgcmV0dXJucyBhIG5ldyB7QGNvZGUgRmluZGVyUGF0dGVybn0gY29udGFpbmluZyBhIHdlaWdodGVkIGF2ZXJhZ2UKCSAgICAgKiBiYXNlZCBvbiBjb3VudC4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuLnByb3RvdHlwZS5jb21iaW5lRXN0aW1hdGUgPSBmdW5jdGlvbiAoaSAvKmZsb2F0Ki8sIGogLypmbG9hdCovLCBuZXdNb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgY29tYmluZWRDb3VudCA9IHRoaXMuY291bnQgKyAxOwoJICAgICAgICB2YXIgY29tYmluZWRYID0gKHRoaXMuY291bnQgKiB0aGlzLmdldFgoKSArIGopIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgdmFyIGNvbWJpbmVkWSA9ICh0aGlzLmNvdW50ICogdGhpcy5nZXRZKCkgKyBpKSAvIGNvbWJpbmVkQ291bnQ7CgkgICAgICAgIHZhciBjb21iaW5lZE1vZHVsZVNpemUgPSAodGhpcy5jb3VudCAqIHRoaXMuZXN0aW1hdGVkTW9kdWxlU2l6ZSArIG5ld01vZHVsZVNpemUpIC8gY29tYmluZWRDb3VudDsKCSAgICAgICAgcmV0dXJuIG5ldyBGaW5kZXJQYXR0ZXJuKGNvbWJpbmVkWCwgY29tYmluZWRZLCBjb21iaW5lZE1vZHVsZVNpemUsIGNvbWJpbmVkQ291bnQpOwoJICAgIH07CgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm47Cgl9KFJlc3VsdFBvaW50XzEkMi5kZWZhdWx0KSk7CglGaW5kZXJQYXR0ZXJuJDEuZGVmYXVsdCA9IEZpbmRlclBhdHRlcm47CgoJdmFyIEZpbmRlclBhdHRlcm5JbmZvJDEgPSB7fTsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5JbmZvJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qKgoJICogPHA+RW5jYXBzdWxhdGVzIGluZm9ybWF0aW9uIGFib3V0IGZpbmRlciBwYXR0ZXJucyBpbiBhbiBpbWFnZSwgaW5jbHVkaW5nIHRoZSBsb2NhdGlvbiBvZgoJICogdGhlIHRocmVlIGZpbmRlciBwYXR0ZXJucywgYW5kIHRoZWlyIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5JbmZvID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIEZpbmRlclBhdHRlcm5JbmZvKHBhdHRlcm5DZW50ZXJzKSB7CgkgICAgICAgIHRoaXMuYm90dG9tTGVmdCA9IHBhdHRlcm5DZW50ZXJzWzBdOwoJICAgICAgICB0aGlzLnRvcExlZnQgPSBwYXR0ZXJuQ2VudGVyc1sxXTsKCSAgICAgICAgdGhpcy50b3BSaWdodCA9IHBhdHRlcm5DZW50ZXJzWzJdOwoJICAgIH0KCSAgICBGaW5kZXJQYXR0ZXJuSW5mby5wcm90b3R5cGUuZ2V0Qm90dG9tTGVmdCA9IGZ1bmN0aW9uICgpIHsKCSAgICAgICAgcmV0dXJuIHRoaXMuYm90dG9tTGVmdDsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5JbmZvLnByb3RvdHlwZS5nZXRUb3BMZWZ0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BMZWZ0OwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkluZm8ucHJvdG90eXBlLmdldFRvcFJpZ2h0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy50b3BSaWdodDsKCSAgICB9OwoJICAgIHJldHVybiBGaW5kZXJQYXR0ZXJuSW5mbzsKCX0oKSk7CglGaW5kZXJQYXR0ZXJuSW5mbyQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuSW5mbzsKCgkvKgoJICogQ29weXJpZ2h0IDIwMDcgWlhpbmcgYXV0aG9ycwoJICoKCSAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwoJICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgoJICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgkgKgoJICogICAgICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjAKCSAqCgkgKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlCgkgKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiAiQVMgSVMiIEJBU0lTLAoJICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuCgkgKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kCgkgKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS4KCSAqLwoJdmFyIF9fdmFsdWVzID0gKGNvbW1vbmpzR2xvYmFsICYmIGNvbW1vbmpzR2xvYmFsLl9fdmFsdWVzKSB8fCBmdW5jdGlvbihvKSB7CgkgICAgdmFyIHMgPSB0eXBlb2YgU3ltYm9sID09PSAiZnVuY3Rpb24iICYmIFN5bWJvbC5pdGVyYXRvciwgbSA9IHMgJiYgb1tzXSwgaSA9IDA7CgkgICAgaWYgKG0pIHJldHVybiBtLmNhbGwobyk7CgkgICAgaWYgKG8gJiYgdHlwZW9mIG8ubGVuZ3RoID09PSAibnVtYmVyIikgcmV0dXJuIHsKCSAgICAgICAgbmV4dDogZnVuY3Rpb24gKCkgewoJICAgICAgICAgICAgaWYgKG8gJiYgaSA+PSBvLmxlbmd0aCkgbyA9IHZvaWQgMDsKCSAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTsKCSAgICAgICAgfQoJICAgIH07CgkgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihzID8gIk9iamVjdCBpcyBub3QgaXRlcmFibGUuIiA6ICJTeW1ib2wuaXRlcmF0b3IgaXMgbm90IGRlZmluZWQuIik7Cgl9OwoJT2JqZWN0LmRlZmluZVByb3BlcnR5KEZpbmRlclBhdHRlcm5GaW5kZXIkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJLypuYW1lc3BhY2UgY29tLmdvb2dsZS56eGluZy5xcmNvZGUuZGV0ZWN0b3IgeyovCgl2YXIgRGVjb2RlSGludFR5cGVfMSQyID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBSZXN1bHRQb2ludF8xJDEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIEZpbmRlclBhdHRlcm5fMSA9IEZpbmRlclBhdHRlcm4kMTsKCXZhciBGaW5kZXJQYXR0ZXJuSW5mb18xID0gRmluZGVyUGF0dGVybkluZm8kMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDIgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJLyppbXBvcnQgamF2YS5pby5TZXJpYWxpemFibGU7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5BcnJheUxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5Db2xsZWN0aW9uczsqLwoJLyppbXBvcnQgamF2YS51dGlsLkNvbXBhcmF0b3I7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5MaXN0OyovCgkvKmltcG9ydCBqYXZhLnV0aWwuTWFwOyovCgkvKioKCSAqIDxwPlRoaXMgY2xhc3MgYXR0ZW1wdHMgdG8gZmluZCBmaW5kZXIgcGF0dGVybnMgaW4gYSBRUiBDb2RlLiBGaW5kZXIgcGF0dGVybnMgYXJlIHRoZSBzcXVhcmUKCSAqIG1hcmtlcnMgYXQgdGhyZWUgY29ybmVycyBvZiBhIFFSIENvZGUuPC9wPgoJICoKCSAqIDxwPlRoaXMgY2xhc3MgaXMgdGhyZWFkLXNhZmUgYnV0IG5vdCByZWVudHJhbnQuIEVhY2ggdGhyZWFkIG11c3QgYWxsb2NhdGUgaXRzIG93biBvYmplY3QuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIEZpbmRlclBhdHRlcm5GaW5kZXIgPSAvKiogQGNsYXNzICovIChmdW5jdGlvbiAoKSB7CgkgICAgLyoqCgkgICAgICogPHA+Q3JlYXRlcyBhIGZpbmRlciB0aGF0IHdpbGwgc2VhcmNoIHRoZSBpbWFnZSBmb3IgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBpbWFnZSBpbWFnZSB0byBzZWFyY2gKCSAgICAgKi8KCSAgICAvLyBwdWJsaWMgY29uc3RydWN0b3IoaW1hZ2U6IEJpdE1hdHJpeCkgewoJICAgIC8vICAgdGhpcyhpbWFnZSwgbnVsbCkKCSAgICAvLyB9CgkgICAgZnVuY3Rpb24gRmluZGVyUGF0dGVybkZpbmRlcihpbWFnZSwgcmVzdWx0UG9pbnRDYWxsYmFjaykgewoJICAgICAgICB0aGlzLmltYWdlID0gaW1hZ2U7CgkgICAgICAgIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayA9IHJlc3VsdFBvaW50Q2FsbGJhY2s7CgkgICAgICAgIHRoaXMucG9zc2libGVDZW50ZXJzID0gW107CgkgICAgICAgIHRoaXMuY3Jvc3NDaGVja1N0YXRlQ291bnQgPSBuZXcgSW50MzJBcnJheSg1KTsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gcmVzdWx0UG9pbnRDYWxsYmFjazsKCSAgICB9CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0SW1hZ2UgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmltYWdlOwoJICAgIH07CgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuZ2V0UG9zc2libGVDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24gKGhpbnRzKSB7CgkgICAgICAgIHZhciB0cnlIYXJkZXIgPSAoaGludHMgIT09IG51bGwgJiYgaGludHMgIT09IHVuZGVmaW5lZCkgJiYgdW5kZWZpbmVkICE9PSBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQyLmRlZmF1bHQuVFJZX0hBUkRFUik7CgkgICAgICAgIHZhciBwdXJlQmFyY29kZSA9IChoaW50cyAhPT0gbnVsbCAmJiBoaW50cyAhPT0gdW5kZWZpbmVkKSAmJiB1bmRlZmluZWQgIT09IGhpbnRzLmdldChEZWNvZGVIaW50VHlwZV8xJDIuZGVmYXVsdC5QVVJFX0JBUkNPREUpOwoJICAgICAgICB2YXIgaW1hZ2UgPSB0aGlzLmltYWdlOwoJICAgICAgICB2YXIgbWF4SSA9IGltYWdlLmdldEhlaWdodCgpOwoJICAgICAgICB2YXIgbWF4SiA9IGltYWdlLmdldFdpZHRoKCk7CgkgICAgICAgIC8vIFdlIGFyZSBsb29raW5nIGZvciBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBtb2R1bGVzIGluCgkgICAgICAgIC8vIDE6MTozOjE6MSByYXRpbzsgdGhpcyB0cmFja3MgdGhlIG51bWJlciBvZiBzdWNoIG1vZHVsZXMgc2VlbiBzbyBmYXIKCSAgICAgICAgLy8gTGV0J3MgYXNzdW1lIHRoYXQgdGhlIG1heGltdW0gdmVyc2lvbiBRUiBDb2RlIHdlIHN1cHBvcnQgdGFrZXMgdXAgMS80IHRoZSBoZWlnaHQgb2YgdGhlCgkgICAgICAgIC8vIGltYWdlLCBhbmQgdGhlbiBhY2NvdW50IGZvciB0aGUgY2VudGVyIGJlaW5nIDMgbW9kdWxlcyBpbiBzaXplLiBUaGlzIGdpdmVzIHRoZSBzbWFsbGVzdAoJICAgICAgICAvLyBudW1iZXIgb2YgcGl4ZWxzIHRoZSBjZW50ZXIgY291bGQgYmUsIHNvIHNraXAgdGhpcyBvZnRlbi4gV2hlbiB0cnlpbmcgaGFyZGVyLCBsb29rIGZvciBhbGwKCSAgICAgICAgLy8gUVIgdmVyc2lvbnMgcmVnYXJkbGVzcyBvZiBob3cgZGVuc2UgdGhleSBhcmUuCgkgICAgICAgIHZhciBpU2tpcCA9IE1hdGguZmxvb3IoKDMgKiBtYXhJKSAvICg0ICogRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUykpOwoJICAgICAgICBpZiAoaVNraXAgPCBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQIHx8IHRyeUhhcmRlcikgewoJICAgICAgICAgICAgaVNraXAgPSBGaW5kZXJQYXR0ZXJuRmluZGVyLk1JTl9TS0lQOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkb25lID0gZmFsc2U7CgkgICAgICAgIHZhciBzdGF0ZUNvdW50ID0gbmV3IEludDMyQXJyYXkoNSk7CgkgICAgICAgIGZvciAodmFyIGkgPSBpU2tpcCAtIDE7IGkgPCBtYXhJICYmICFkb25lOyBpICs9IGlTa2lwKSB7CgkgICAgICAgICAgICAvLyBHZXQgYSByb3cgb2YgYmxhY2svd2hpdGUgdmFsdWVzCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMV0gPSAwOwoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IDA7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0gPSAwOwoJICAgICAgICAgICAgdmFyIGN1cnJlbnRTdGF0ZSA9IDA7CgkgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IG1heEo7IGorKykgewoJICAgICAgICAgICAgICAgIGlmIChpbWFnZS5nZXQoaiwgaSkpIHsKCSAgICAgICAgICAgICAgICAgICAgLy8gQmxhY2sgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMSkgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJlbnRTdGF0ZSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBlbHNlIHsgLy8gV2hpdGUgcGl4ZWwKCSAgICAgICAgICAgICAgICAgICAgaWYgKChjdXJyZW50U3RhdGUgJiAxKSA9PT0gMCkgeyAvLyBDb3VudGluZyBibGFjayBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3RhdGUgPT09IDQpIHsgLy8gQSB3aW5uZXI/CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsgLy8gWWVzCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjb25maXJtZWQgPSB0aGlzLmhhbmRsZVBvc3NpYmxlQ2VudGVyKHN0YXRlQ291bnQsIGksIGosIHB1cmVCYXJjb2RlKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgZXhhbWluaW5nIGV2ZXJ5IG90aGVyIGxpbmUuIENoZWNraW5nIGVhY2ggbGluZSB0dXJuZWQgb3V0IHRvIGJlIHRvbwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gZXhwZW5zaXZlIGFuZCBkaWRuJ3QgaW1wcm92ZSBwZXJmb3JtYW5jZS4KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlTa2lwID0gMjsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQgPT09IHRydWUpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm93U2tpcCA9IHRoaXMuZmluZFJvd1NraXAoKTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocm93U2tpcCA+IHN0YXRlQ291bnRbMl0pIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2tpcCByb3dzIGJldHdlZW4gcm93IG9mIGxvd2VyIGNvbmZpcm1lZCBjZW50ZXIKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYW5kIHRvcCBvZiBwcmVzdW1lZCB0aGlyZCBjb25maXJtZWQgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGJ1dCBiYWNrIHVwIGEgYml0IHRvIGdldCBhIGZ1bGwgY2hhbmNlIG9mIGRldGVjdGluZwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpdCwgZW50aXJlIHdpZHRoIG9mIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBTa2lwIGJ5IHJvd1NraXAsIGJ1dCBiYWNrIG9mZiBieSBzdGF0ZUNvdW50WzJdIChzaXplIG9mIGxhc3QgY2VudGVyCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9mIHBhdHRlcm4gd2Ugc2F3KSB0byBiZSBjb25zZXJ2YXRpdmUsIGFuZCBhbHNvIGJhY2sgb2ZmIGJ5IGlTa2lwIHdoaWNoCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlzIGFib3V0IHRvIGJlIHJlLWFkZGVkCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgKz0gcm93U2tpcCAtIHN0YXRlQ291bnRbMl0gLSBpU2tpcDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaiA9IG1heEogLSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IHN0YXRlQ291bnRbM107CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzJdID0gc3RhdGVDb3VudFs0XTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAzOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2xlYXIgc3RhdGUgdG8gc3RhcnQgbG9va2luZyBhZ2FpbgoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RhdGUgPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzBdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsxXSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzNdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFs0XSA9IDA7CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBObywgc2hpZnQgY291bnRzIGJhY2sgYnkgdHdvCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbMF0gPSBzdGF0ZUNvdW50WzJdOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzFdID0gc3RhdGVDb3VudFszXTsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGVDb3VudFsyXSA9IHN0YXRlQ291bnRbNF07CgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPSAxOwoJICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudFN0YXRlID0gMzsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZUNvdW50WysrY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIGVsc2UgeyAvLyBDb3VudGluZyB3aGl0ZSBwaXhlbHMKCSAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlQ291bnRbY3VycmVudFN0YXRlXSsrOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgaWYgKEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3Moc3RhdGVDb3VudCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY29uZmlybWVkID0gdGhpcy5oYW5kbGVQb3NzaWJsZUNlbnRlcihzdGF0ZUNvdW50LCBpLCBtYXhKLCBwdXJlQmFyY29kZSk7CgkgICAgICAgICAgICAgICAgaWYgKGNvbmZpcm1lZCA9PT0gdHJ1ZSkgewoJICAgICAgICAgICAgICAgICAgICBpU2tpcCA9IHN0YXRlQ291bnRbMF07CgkgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmhhc1NraXBwZWQpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIEZvdW5kIGEgdGhpcmQgb25lCgkgICAgICAgICAgICAgICAgICAgICAgICBkb25lID0gdGhpcy5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzKCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBhdHRlcm5JbmZvID0gdGhpcy5zZWxlY3RCZXN0UGF0dGVybnMoKTsKCSAgICAgICAgUmVzdWx0UG9pbnRfMSQxLmRlZmF1bHQub3JkZXJCZXN0UGF0dGVybnMocGF0dGVybkluZm8pOwoJICAgICAgICByZXR1cm4gbmV3IEZpbmRlclBhdHRlcm5JbmZvXzEuZGVmYXVsdChwYXR0ZXJuSW5mbyk7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBHaXZlbiBhIGNvdW50IG9mIGJsYWNrL3doaXRlL2JsYWNrL3doaXRlL2JsYWNrIHBpeGVscyBqdXN0IHNlZW4gYW5kIGFuIGVuZCBwb3NpdGlvbiwKCSAgICAgKiBmaWd1cmVzIHRoZSBsb2NhdGlvbiBvZiB0aGUgY2VudGVyIG9mIHRoaXMgcnVuLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZCA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBlbmQgLyppbnQqLykgewoJICAgICAgICByZXR1cm4gKGVuZCAtIHN0YXRlQ291bnRbNF0gLSBzdGF0ZUNvdW50WzNdKSAtIHN0YXRlQ291bnRbMl0gLyAyLjA7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcGFyYW0gc3RhdGVDb3VudCBjb3VudCBvZiBibGFjay93aGl0ZS9ibGFjay93aGl0ZS9ibGFjayBwaXhlbHMganVzdCByZWFkCgkgICAgICogQHJldHVybiB0cnVlIGlmZiB0aGUgcHJvcG9ydGlvbnMgb2YgdGhlIGNvdW50cyBpcyBjbG9zZSBlbm91Z2ggdG8gdGhlIDEvMS8zLzEvMSByYXRpb3MKCSAgICAgKiAgICAgICAgIHVzZWQgYnkgZmluZGVyIHBhdHRlcm5zIHRvIGJlIGNvbnNpZGVyZWQgYSBtYXRjaAoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuZm91bmRQYXR0ZXJuQ3Jvc3MgPSBmdW5jdGlvbiAoc3RhdGVDb3VudCkgewoJICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMDsKCSAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCA1OyBpKyspIHsKCSAgICAgICAgICAgIHZhciBjb3VudCA9IHN0YXRlQ291bnRbaV07CgkgICAgICAgICAgICBpZiAoY291bnQgPT09IDApIHsKCSAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gY291bnQ7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHRvdGFsTW9kdWxlU2l6ZSA8IDcpIHsKCSAgICAgICAgICAgIHJldHVybiBmYWxzZTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIDcuMDsKCSAgICAgICAgdmFyIG1heFZhcmlhbmNlID0gbW9kdWxlU2l6ZSAvIDIuMDsKCSAgICAgICAgLy8gQWxsb3cgbGVzcyB0aGFuIDUwJSB2YXJpYW5jZSBmcm9tIDEtMS0zLTEtMSBwcm9wb3J0aW9ucwoJICAgICAgICByZXR1cm4gTWF0aC5hYnMobW9kdWxlU2l6ZSAtIHN0YXRlQ291bnRbMF0pIDwgbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzFdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicygzLjAgKiBtb2R1bGVTaXplIC0gc3RhdGVDb3VudFsyXSkgPCAzICogbWF4VmFyaWFuY2UgJiYKCSAgICAgICAgICAgIE1hdGguYWJzKG1vZHVsZVNpemUgLSBzdGF0ZUNvdW50WzNdKSA8IG1heFZhcmlhbmNlICYmCgkgICAgICAgICAgICBNYXRoLmFicyhtb2R1bGVTaXplIC0gc3RhdGVDb3VudFs0XSkgPCBtYXhWYXJpYW5jZTsKCSAgICB9OwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgY3Jvc3NDaGVja1N0YXRlQ291bnQgPSB0aGlzLmNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFswXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzFdID0gMDsKCSAgICAgICAgY3Jvc3NDaGVja1N0YXRlQ291bnRbMl0gPSAwOwoJICAgICAgICBjcm9zc0NoZWNrU3RhdGVDb3VudFszXSA9IDA7CgkgICAgICAgIGNyb3NzQ2hlY2tTdGF0ZUNvdW50WzRdID0gMDsKCSAgICAgICAgcmV0dXJuIGNyb3NzQ2hlY2tTdGF0ZUNvdW50OwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQWZ0ZXIgYSB2ZXJ0aWNhbCBhbmQgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jcm9zcy1jcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gZGlhZ29uYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuCgkgICAgICoKCSAgICAgKiBAcGFyYW0gc3RhcnRJIHJvdyB3aGVyZSBhIGZpbmRlciBwYXR0ZXJuIHdhcyBkZXRlY3RlZAoJICAgICAqIEBwYXJhbSBjZW50ZXJKIGNlbnRlciBvZiB0aGUgc2VjdGlvbiB0aGF0IGFwcGVhcnMgdG8gY3Jvc3MgYSBmaW5kZXIgcGF0dGVybgoJICAgICAqIEBwYXJhbSBtYXhDb3VudCBtYXhpbXVtIHJlYXNvbmFibGUgbnVtYmVyIG9mIG1vZHVsZXMgdGhhdCBzaG91bGQgYmUKCSAgICAgKiAgb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcGFyYW0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgVGhlIG9yaWdpbmFsIHN0YXRlIGNvdW50IHRvdGFsLgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZiBwcm9wb3J0aW9ucyBhcmUgd2l0aGluZyBleHBlY3RlZCBsaW1pdHMKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrRGlhZ29uYWwgPSBmdW5jdGlvbiAoc3RhcnRJIC8qaW50Ki8sIGNlbnRlckogLyppbnQqLywgbWF4Q291bnQgLyppbnQqLywgb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwgLyppbnQqLykgewoJICAgICAgICB2YXIgc3RhdGVDb3VudCA9IHRoaXMuZ2V0Q3Jvc3NDaGVja1N0YXRlQ291bnQoKTsKCSAgICAgICAgLy8gU3RhcnQgY291bnRpbmcgdXAsIGxlZnQgZnJvbSBjZW50ZXIgZmluZGluZyBibGFjayBjZW50ZXIgbWFzcwoJICAgICAgICB2YXIgaSA9IDA7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHdoaWxlIChzdGFydEkgPj0gaSAmJiBjZW50ZXJKID49IGkgJiYgaW1hZ2UuZ2V0KGNlbnRlckogLSBpLCBzdGFydEkgLSBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgPCBpIHx8IGNlbnRlckogPCBpKSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyB3aGl0ZSBzcGFjZQoJICAgICAgICB3aGlsZSAoc3RhcnRJID49IGkgJiYgY2VudGVySiA+PSBpICYmICFpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzFdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgYWxyZWFkeSB0b28gbWFueSBtb2R1bGVzIGluIHRoaXMgc3RhdGUgb3IgcmFuIG9mZiB0aGUgZWRnZToKCSAgICAgICAgaWYgKHN0YXJ0SSA8IGkgfHwgY2VudGVySiA8IGkgfHwgc3RhdGVDb3VudFsxXSA+IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQ29udGludWUgdXAsIGxlZnQgZmluZGluZyBibGFjayBib3JkZXIKCSAgICAgICAgd2hpbGUgKHN0YXJ0SSA+PSBpICYmIGNlbnRlckogPj0gaSAmJiBpbWFnZS5nZXQoY2VudGVySiAtIGksIHN0YXJ0SSAtIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdIDw9IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzBdKys7CgkgICAgICAgICAgICBpKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbMF0gPiBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHZhciBtYXhJID0gaW1hZ2UuZ2V0SGVpZ2h0KCk7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biwgcmlnaHQgZnJvbSBjZW50ZXIKCSAgICAgICAgaSA9IDE7CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgaW1hZ2UuZ2V0KGNlbnRlckogKyBpLCBzdGFydEkgKyBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIC8vIFJhbiBvZmYgdGhlIGVkZ2U/CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChzdGFydEkgKyBpIDwgbWF4SSAmJiBjZW50ZXJKICsgaSA8IG1heEogJiYgIWltYWdlLmdldChjZW50ZXJKICsgaSwgc3RhcnRJICsgaSkgJiYKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGFydEkgKyBpID49IG1heEkgfHwgY2VudGVySiArIGkgPj0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gZmFsc2U7CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKHN0YXJ0SSArIGkgPCBtYXhJICYmIGNlbnRlckogKyBpIDwgbWF4SiAmJiBpbWFnZS5nZXQoY2VudGVySiArIGksIHN0YXJ0SSArIGkpICYmCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZmluZGVyLXBhdHRlcm4tbGlrZSBzZWN0aW9uLCBidXQgaXRzIHNpemUgaXMgbW9yZSB0aGFuIDEwMCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgcmV0dXJuIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA8IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAmJgoJICAgICAgICAgICAgRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkFmdGVyIGEgaG9yaXpvbnRhbCBzY2FuIGZpbmRzIGEgcG90ZW50aWFsIGZpbmRlciBwYXR0ZXJuLCB0aGlzIG1ldGhvZAoJICAgICAqICJjcm9zcy1jaGVja3MiIGJ5IHNjYW5uaW5nIGRvd24gdmVydGljYWxseSB0aHJvdWdoIHRoZSBjZW50ZXIgb2YgdGhlIHBvc3NpYmxlCgkgICAgICogZmluZGVyIHBhdHRlcm4gdG8gc2VlIGlmIHRoZSBzYW1lIHByb3BvcnRpb24gaXMgZGV0ZWN0ZWQuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXJ0SSByb3cgd2hlcmUgYSBmaW5kZXIgcGF0dGVybiB3YXMgZGV0ZWN0ZWQKCSAgICAgKiBAcGFyYW0gY2VudGVySiBjZW50ZXIgb2YgdGhlIHNlY3Rpb24gdGhhdCBhcHBlYXJzIHRvIGNyb3NzIGEgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gbWF4Q291bnQgbWF4aW11bSByZWFzb25hYmxlIG51bWJlciBvZiBtb2R1bGVzIHRoYXQgc2hvdWxkIGJlCgkgICAgICogb2JzZXJ2ZWQgaW4gYW55IHJlYWRpbmcgc3RhdGUsIGJhc2VkIG9uIHRoZSByZXN1bHRzIG9mIHRoZSBob3Jpem9udGFsIHNjYW4KCSAgICAgKiBAcmV0dXJuIHZlcnRpY2FsIGNlbnRlciBvZiBmaW5kZXIgcGF0dGVybiwgb3Ige0BsaW5rIEZsb2F0I05hTn0gaWYgbm90IGZvdW5kCgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuY3Jvc3NDaGVja1ZlcnRpY2FsID0gZnVuY3Rpb24gKHN0YXJ0SSAvKmludCovLCBjZW50ZXJKIC8qaW50Ki8sIG1heENvdW50IC8qaW50Ki8sIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGltYWdlID0gdGhpcy5pbWFnZTsKCSAgICAgICAgdmFyIG1heEkgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIC8vIFN0YXJ0IGNvdW50aW5nIHVwIGZyb20gY2VudGVyCgkgICAgICAgIHZhciBpID0gc3RhcnRJOwoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaSA+PSAwICYmICFpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIC8vIElmIGFscmVhZHkgdG9vIG1hbnkgbW9kdWxlcyBpbiB0aGlzIHN0YXRlIG9yIHJhbiBvZmYgdGhlIGVkZ2U6CgkgICAgICAgIGlmIChpIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPj0gMCAmJiBpbWFnZS5nZXQoY2VudGVySiwgaSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgaS0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gTm93IGFsc28gY291bnQgZG93biBmcm9tIGNlbnRlcgoJICAgICAgICBpID0gc3RhcnRJICsgMTsKCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJKSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChpIDwgbWF4SSAmJiAhaW1hZ2UuZ2V0KGNlbnRlckosIGkpICYmIHN0YXRlQ291bnRbM10gPCBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFszXSsrOwoJICAgICAgICAgICAgaSsrOwoJICAgICAgICB9CgkgICAgICAgIGlmIChpID09PSBtYXhJIHx8IHN0YXRlQ291bnRbM10gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGkgPCBtYXhJICYmIGltYWdlLmdldChjZW50ZXJKLCBpKSAmJiBzdGF0ZUNvdW50WzRdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF0rKzsKCSAgICAgICAgICAgIGkrKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoc3RhdGVDb3VudFs0XSA+PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGZpbmRlci1wYXR0ZXJuLWxpa2Ugc2VjdGlvbiwgYnV0IGl0cyBzaXplIGlzIG1vcmUgdGhhbiA0MCUgZGlmZmVyZW50IHRoYW4KCSAgICAgICAgLy8gdGhlIG9yaWdpbmFsLCBhc3N1bWUgaXQncyBhIGZhbHNlIHBvc2l0aXZlCgkgICAgICAgIHZhciBzdGF0ZUNvdW50VG90YWwgPSBzdGF0ZUNvdW50WzBdICsgc3RhdGVDb3VudFsxXSArIHN0YXRlQ291bnRbMl0gKyBzdGF0ZUNvdW50WzNdICsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbNF07CgkgICAgICAgIGlmICg1ICogTWF0aC5hYnMoc3RhdGVDb3VudFRvdGFsIC0gb3JpZ2luYWxTdGF0ZUNvdW50VG90YWwpID49IDIgKiBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBpKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkxpa2Uge0BsaW5rICNjcm9zc0NoZWNrVmVydGljYWwoaW50LCBpbnQsIGludCwgaW50KX0sIGFuZCBpbiBmYWN0IGlzIGJhc2ljYWxseSBpZGVudGljYWwsCgkgICAgICogZXhjZXB0IGl0IHJlYWRzIGhvcml6b250YWxseSBpbnN0ZWFkIG9mIHZlcnRpY2FsbHkuIFRoaXMgaXMgdXNlZCB0byBjcm9zcy1jcm9zcwoJICAgICAqIGNoZWNrIGEgdmVydGljYWwgY3Jvc3MgY2hlY2sgYW5kIGxvY2F0ZSB0aGUgcmVhbCBjZW50ZXIgb2YgdGhlIGFsaWdubWVudCBwYXR0ZXJuLjwvcD4KCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5jcm9zc0NoZWNrSG9yaXpvbnRhbCA9IGZ1bmN0aW9uIChzdGFydEogLyppbnQqLywgY2VudGVySSAvKmludCovLCBtYXhDb3VudCAvKmludCovLCBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCAvKmludCovKSB7CgkgICAgICAgIHZhciBpbWFnZSA9IHRoaXMuaW1hZ2U7CgkgICAgICAgIHZhciBtYXhKID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHN0YXRlQ291bnQgPSB0aGlzLmdldENyb3NzQ2hlY2tTdGF0ZUNvdW50KCk7CgkgICAgICAgIHZhciBqID0gc3RhcnRKOwoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmIGltYWdlLmdldChqLCBjZW50ZXJJKSkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsyXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA+PSAwICYmICFpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFsxXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFsxXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChqIDwgMCB8fCBzdGF0ZUNvdW50WzFdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgd2hpbGUgKGogPj0gMCAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFswXSA8PSBtYXhDb3VudCkgewoJICAgICAgICAgICAgc3RhdGVDb3VudFswXSsrOwoJICAgICAgICAgICAgai0tOwoJICAgICAgICB9CgkgICAgICAgIGlmIChzdGF0ZUNvdW50WzBdID4gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgaiA9IHN0YXJ0SiArIDE7CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbMl0rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SikgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICB3aGlsZSAoaiA8IG1heEogJiYgIWltYWdlLmdldChqLCBjZW50ZXJJKSAmJiBzdGF0ZUNvdW50WzNdIDwgbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHN0YXRlQ291bnRbM10rKzsKCSAgICAgICAgICAgIGorKzsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaiA9PT0gbWF4SiB8fCBzdGF0ZUNvdW50WzNdID49IG1heENvdW50KSB7CgkgICAgICAgICAgICByZXR1cm4gTmFOOwoJICAgICAgICB9CgkgICAgICAgIHdoaWxlIChqIDwgbWF4SiAmJiBpbWFnZS5nZXQoaiwgY2VudGVySSkgJiYgc3RhdGVDb3VudFs0XSA8IG1heENvdW50KSB7CgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdKys7CgkgICAgICAgICAgICBqKys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHN0YXRlQ291bnRbNF0gPj0gbWF4Q291bnQpIHsKCSAgICAgICAgICAgIHJldHVybiBOYU47CgkgICAgICAgIH0KCSAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBmaW5kZXItcGF0dGVybi1saWtlIHNlY3Rpb24sIGJ1dCBpdHMgc2l6ZSBpcyBzaWduaWZpY2FudGx5IGRpZmZlcmVudCB0aGFuCgkgICAgICAgIC8vIHRoZSBvcmlnaW5hbCwgYXNzdW1lIGl0J3MgYSBmYWxzZSBwb3NpdGl2ZQoJICAgICAgICB2YXIgc3RhdGVDb3VudFRvdGFsID0gc3RhdGVDb3VudFswXSArIHN0YXRlQ291bnRbMV0gKyBzdGF0ZUNvdW50WzJdICsgc3RhdGVDb3VudFszXSArCgkgICAgICAgICAgICBzdGF0ZUNvdW50WzRdOwoJICAgICAgICBpZiAoNSAqIE1hdGguYWJzKHN0YXRlQ291bnRUb3RhbCAtIG9yaWdpbmFsU3RhdGVDb3VudFRvdGFsKSA+PSBvcmlnaW5hbFN0YXRlQ291bnRUb3RhbCkgewoJICAgICAgICAgICAgcmV0dXJuIE5hTjsKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gRmluZGVyUGF0dGVybkZpbmRlci5mb3VuZFBhdHRlcm5Dcm9zcyhzdGF0ZUNvdW50KSA/IEZpbmRlclBhdHRlcm5GaW5kZXIuY2VudGVyRnJvbUVuZChzdGF0ZUNvdW50LCBqKSA6IE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgaXMgY2FsbGVkIHdoZW4gYSBob3Jpem9udGFsIHNjYW4gZmluZHMgYSBwb3NzaWJsZSBhbGlnbm1lbnQgcGF0dGVybi4gSXQgd2lsbAoJICAgICAqIGNyb3NzIGNoZWNrIHdpdGggYSB2ZXJ0aWNhbCBzY2FuLCBhbmQgaWYgc3VjY2Vzc2Z1bCwgd2lsbCwgYWgsIGNyb3NzLWNyb3NzLWNoZWNrCgkgICAgICogd2l0aCBhbm90aGVyIGhvcml6b250YWwgc2Nhbi4gVGhpcyBpcyBuZWVkZWQgcHJpbWFyaWx5IHRvIGxvY2F0ZSB0aGUgcmVhbCBob3Jpem9udGFsCgkgICAgICogY2VudGVyIG9mIHRoZSBwYXR0ZXJuIGluIGNhc2VzIG9mIGV4dHJlbWUgc2tldy4KCSAgICAgKiBBbmQgdGhlbiB3ZSBjcm9zcy1jcm9zcy1jcm9zcyBjaGVjayB3aXRoIGFub3RoZXIgZGlhZ29uYWwgc2Nhbi48L3A+CgkgICAgICoKCSAgICAgKiA8cD5JZiB0aGF0IHN1Y2NlZWRzIHRoZSBmaW5kZXIgcGF0dGVybiBsb2NhdGlvbiBpcyBhZGRlZCB0byBhIGxpc3QgdGhhdCB0cmFja3MKCSAgICAgKiB0aGUgbnVtYmVyIG9mIHRpbWVzIGVhY2ggbG9jYXRpb24gaGFzIGJlZW4gbmVhcmx5LW1hdGNoZWQgYXMgYSBmaW5kZXIgcGF0dGVybi4KCSAgICAgKiBFYWNoIGFkZGl0aW9uYWwgZmluZCBpcyBtb3JlIGV2aWRlbmNlIHRoYXQgdGhlIGxvY2F0aW9uIGlzIGluIGZhY3QgYSBmaW5kZXIKCSAgICAgKiBwYXR0ZXJuIGNlbnRlcgoJICAgICAqCgkgICAgICogQHBhcmFtIHN0YXRlQ291bnQgcmVhZGluZyBzdGF0ZSBtb2R1bGUgY291bnRzIGZyb20gaG9yaXpvbnRhbCBzY2FuCgkgICAgICogQHBhcmFtIGkgcm93IHdoZXJlIGZpbmRlciBwYXR0ZXJuIG1heSBiZSBmb3VuZAoJICAgICAqIEBwYXJhbSBqIGVuZCBvZiBwb3NzaWJsZSBmaW5kZXIgcGF0dGVybiBpbiByb3cKCSAgICAgKiBAcGFyYW0gcHVyZUJhcmNvZGUgdHJ1ZSBpZiBpbiAicHVyZSBiYXJjb2RlIiBtb2RlCgkgICAgICogQHJldHVybiB0cnVlIGlmIGEgZmluZGVyIHBhdHRlcm4gY2FuZGlkYXRlIHdhcyBmb3VuZCB0aGlzIHRpbWUKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYW5kbGVQb3NzaWJsZUNlbnRlciA9IGZ1bmN0aW9uIChzdGF0ZUNvdW50LCBpIC8qaW50Ki8sIGogLyppbnQqLywgcHVyZUJhcmNvZGUpIHsKCSAgICAgICAgdmFyIHN0YXRlQ291bnRUb3RhbCA9IHN0YXRlQ291bnRbMF0gKyBzdGF0ZUNvdW50WzFdICsgc3RhdGVDb3VudFsyXSArIHN0YXRlQ291bnRbM10gKwoJICAgICAgICAgICAgc3RhdGVDb3VudFs0XTsKCSAgICAgICAgdmFyIGNlbnRlckogPSBGaW5kZXJQYXR0ZXJuRmluZGVyLmNlbnRlckZyb21FbmQoc3RhdGVDb3VudCwgaik7CgkgICAgICAgIHZhciBjZW50ZXJJID0gdGhpcy5jcm9zc0NoZWNrVmVydGljYWwoaSwgLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCBzdGF0ZUNvdW50WzJdLCBzdGF0ZUNvdW50VG90YWwpOwoJICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckkpKSB7CgkgICAgICAgICAgICAvLyBSZS1jcm9zcyBjaGVjawoJICAgICAgICAgICAgY2VudGVySiA9IHRoaXMuY3Jvc3NDaGVja0hvcml6b250YWwoLyooaW50KSAqLyBNYXRoLmZsb29yKGNlbnRlckopLCAvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIHN0YXRlQ291bnRbMl0sIHN0YXRlQ291bnRUb3RhbCk7CgkgICAgICAgICAgICBpZiAoIWlzTmFOKGNlbnRlckopICYmCgkgICAgICAgICAgICAgICAgKCFwdXJlQmFyY29kZSB8fCB0aGlzLmNyb3NzQ2hlY2tEaWFnb25hbCgvKihpbnQpICovIE1hdGguZmxvb3IoY2VudGVySSksIC8qKGludCkgKi8gTWF0aC5mbG9vcihjZW50ZXJKKSwgc3RhdGVDb3VudFsyXSwgc3RhdGVDb3VudFRvdGFsKSkpIHsKCSAgICAgICAgICAgICAgICB2YXIgZXN0aW1hdGVkTW9kdWxlU2l6ZSA9IHN0YXRlQ291bnRUb3RhbCAvIDcuMDsKCSAgICAgICAgICAgICAgICB2YXIgZm91bmQgPSBmYWxzZTsKCSAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXJzID0gdGhpcy5wb3NzaWJsZUNlbnRlcnM7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgaW5kZXggPSAwLCBsZW5ndGhfMSA9IHBvc3NpYmxlQ2VudGVycy5sZW5ndGg7IGluZGV4IDwgbGVuZ3RoXzE7IGluZGV4KyspIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IHBvc3NpYmxlQ2VudGVyc1tpbmRleF07CgkgICAgICAgICAgICAgICAgICAgIC8vIExvb2sgZm9yIGFib3V0IHRoZSBzYW1lIGNlbnRlciBhbmQgbW9kdWxlIHNpemU6CgkgICAgICAgICAgICAgICAgICAgIGlmIChjZW50ZXIuYWJvdXRFcXVhbHMoZXN0aW1hdGVkTW9kdWxlU2l6ZSwgY2VudGVySSwgY2VudGVySikpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVyc1tpbmRleF0gPSBjZW50ZXIuY29tYmluZUVzdGltYXRlKGNlbnRlckksIGNlbnRlckosIGVzdGltYXRlZE1vZHVsZVNpemUpOwoJICAgICAgICAgICAgICAgICAgICAgICAgZm91bmQgPSB0cnVlOwoJICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgaWYgKCFmb3VuZCkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9pbnQgPSBuZXcgRmluZGVyUGF0dGVybl8xLmRlZmF1bHQoY2VudGVySiwgY2VudGVySSwgZXN0aW1hdGVkTW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5wdXNoKHBvaW50KTsKCSAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayAhPT0gbnVsbCAmJiB0aGlzLnJlc3VsdFBvaW50Q2FsbGJhY2sgIT09IHVuZGVmaW5lZCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrLmZvdW5kUG9zc2libGVSZXN1bHRQb2ludChwb2ludCk7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogQHJldHVybiBudW1iZXIgb2Ygcm93cyB3ZSBjb3VsZCBzYWZlbHkgc2tpcCBkdXJpbmcgc2Nhbm5pbmcsIGJhc2VkIG9uIHRoZSBmaXJzdAoJICAgICAqICAgICAgICAgdHdvIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBsb2NhdGVkLiBJbiBzb21lIGNhc2VzIHRoZWlyIHBvc2l0aW9uIHdpbGwKCSAgICAgKiAgICAgICAgIGFsbG93IHVzIHRvIGluZmVyIHRoYXQgdGhlIHRoaXJkIHBhdHRlcm4gbXVzdCBsaWUgYmVsb3cgYSBjZXJ0YWluIHBvaW50IGZhcnRoZXIKCSAgICAgKiAgICAgICAgIGRvd24gaW4gdGhlIGltYWdlLgoJICAgICAqLwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIucHJvdG90eXBlLmZpbmRSb3dTa2lwID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8xLCBfYTsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKG1heCA8PSAxKSB7CgkgICAgICAgICAgICByZXR1cm4gMDsKCSAgICAgICAgfQoJICAgICAgICB2YXIgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBudWxsOwoJICAgICAgICB0cnkgewoJICAgICAgICAgICAgZm9yICh2YXIgX2IgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9jID0gX2IubmV4dCgpOyAhX2MuZG9uZTsgX2MgPSBfYi5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICB2YXIgY2VudGVyID0gX2MudmFsdWU7CgkgICAgICAgICAgICAgICAgaWYgKGNlbnRlci5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBpZiAoZmlyc3RDb25maXJtZWRDZW50ZXIgPT0gbnVsbCkgewoJICAgICAgICAgICAgICAgICAgICAgICAgZmlyc3RDb25maXJtZWRDZW50ZXIgPSBjZW50ZXI7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBoYXZlIHR3byBjb25maXJtZWQgY2VudGVycwoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gSG93IGZhciBkb3duIGNhbiB3ZSBza2lwIGJlZm9yZSByZXN1bWluZyBsb29raW5nIGZvciB0aGUgbmV4dAoJICAgICAgICAgICAgICAgICAgICAgICAgLy8gcGF0dGVybj8gSW4gdGhlIHdvcnN0IGNhc2UsIG9ubHkgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiB0aGUKCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpZmZlcmVuY2UgaW4gdGhlIHggLyB5IGNvb3JkaW5hdGVzIG9mIHRoZSB0d28gY2VudGVycy4KCSAgICAgICAgICAgICAgICAgICAgICAgIC8vIFRoaXMgaXMgdGhlIGNhc2Ugd2hlcmUgeW91IGZpbmQgdG9wIGxlZnQgbGFzdC4KCSAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGFzU2tpcHBlZCA9IHRydWU7CgkgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gLyooaW50KSAqLyBNYXRoLmZsb29yKChNYXRoLmFicyhmaXJzdENvbmZpcm1lZENlbnRlci5nZXRYKCkgLSBjZW50ZXIuZ2V0WCgpKSAtCgkgICAgICAgICAgICAgICAgICAgICAgICAgICAgTWF0aC5hYnMoZmlyc3RDb25maXJtZWRDZW50ZXIuZ2V0WSgpIC0gY2VudGVyLmdldFkoKSkpIC8gMik7CgkgICAgICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgY2F0Y2ggKGVfMV8xKSB7IGVfMSA9IHsgZXJyb3I6IGVfMV8xIH07IH0KCSAgICAgICAgZmluYWxseSB7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGlmIChfYyAmJiAhX2MuZG9uZSAmJiAoX2EgPSBfYi5yZXR1cm4pKSBfYS5jYWxsKF9iKTsKCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGZpbmFsbHkgeyBpZiAoZV8xKSB0aHJvdyBlXzEuZXJyb3I7IH0KCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIEByZXR1cm4gdHJ1ZSBpZmYgd2UgaGF2ZSBmb3VuZCBhdCBsZWFzdCAzIGZpbmRlciBwYXR0ZXJucyB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZAoJICAgICAqICAgICAgICAgYXQgbGVhc3Qge0BsaW5rICNDRU5URVJfUVVPUlVNfSB0aW1lcyBlYWNoLCBhbmQsIHRoZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgb2YgdGhlCgkgICAgICogICAgICAgICBjYW5kaWRhdGVzIGlzICJwcmV0dHkgc2ltaWxhciIKCSAgICAgKi8KCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLnByb3RvdHlwZS5oYXZlTXVsdGlwbHlDb25maXJtZWRDZW50ZXJzID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV8yLCBfYSwgZV8zLCBfYjsKCSAgICAgICAgdmFyIGNvbmZpcm1lZENvdW50ID0gMDsKCSAgICAgICAgdmFyIHRvdGFsTW9kdWxlU2l6ZSA9IDAuMDsKCSAgICAgICAgdmFyIG1heCA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9jID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZCA9IF9jLm5leHQoKTsgIV9kLmRvbmU7IF9kID0gX2MubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZC52YWx1ZTsKCSAgICAgICAgICAgICAgICBpZiAocGF0dGVybi5nZXRDb3VudCgpID49IEZpbmRlclBhdHRlcm5GaW5kZXIuQ0VOVEVSX1FVT1JVTSkgewoJICAgICAgICAgICAgICAgICAgICBjb25maXJtZWRDb3VudCsrOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcGF0dGVybi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzJfMSkgeyBlXzIgPSB7IGVycm9yOiBlXzJfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2QgJiYgIV9kLmRvbmUgJiYgKF9hID0gX2MucmV0dXJuKSkgX2EuY2FsbChfYyk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMikgdGhyb3cgZV8yLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGNvbmZpcm1lZENvdW50IDwgMykgewoJICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwoJICAgICAgICB9CgkgICAgICAgIC8vIE9LLCB3ZSBoYXZlIGF0IGxlYXN0IDMgY29uZmlybWVkIGNlbnRlcnMsIGJ1dCwgaXQncyBwb3NzaWJsZSB0aGF0IG9uZSBpcyBhICJmYWxzZSBwb3NpdGl2ZSIKCSAgICAgICAgLy8gYW5kIHRoYXQgd2UgbmVlZCB0byBrZWVwIGxvb2tpbmcuIFdlIGRldGVjdCB0aGlzIGJ5IGFza2luZyBpZiB0aGUgZXN0aW1hdGVkIG1vZHVsZSBzaXplcwoJICAgICAgICAvLyB2YXJ5IHRvbyBtdWNoLiBXZSBhcmJpdHJhcmlseSBzYXkgdGhhdCB3aGVuIHRoZSB0b3RhbCBkZXZpYXRpb24gZnJvbSBhdmVyYWdlIGV4Y2VlZHMKCSAgICAgICAgLy8gNSUgb2YgdGhlIHRvdGFsIG1vZHVsZSBzaXplIGVzdGltYXRlcywgaXQncyB0b28gbXVjaC4KCSAgICAgICAgdmFyIGF2ZXJhZ2UgPSB0b3RhbE1vZHVsZVNpemUgLyBtYXg7CgkgICAgICAgIHZhciB0b3RhbERldmlhdGlvbiA9IDAuMDsKCSAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgIGZvciAodmFyIF9lID0gX192YWx1ZXModGhpcy5wb3NzaWJsZUNlbnRlcnMpLCBfZiA9IF9lLm5leHQoKTsgIV9mLmRvbmU7IF9mID0gX2UubmV4dCgpKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBfZi52YWx1ZTsKCSAgICAgICAgICAgICAgICB0b3RhbERldmlhdGlvbiArPSBNYXRoLmFicyhwYXR0ZXJuLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGNhdGNoIChlXzNfMSkgeyBlXzMgPSB7IGVycm9yOiBlXzNfMSB9OyB9CgkgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgdHJ5IHsKCSAgICAgICAgICAgICAgICBpZiAoX2YgJiYgIV9mLmRvbmUgJiYgKF9iID0gX2UucmV0dXJuKSkgX2IuY2FsbChfZSk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfMykgdGhyb3cgZV8zLmVycm9yOyB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHRvdGFsRGV2aWF0aW9uIDw9IDAuMDUgKiB0b3RhbE1vZHVsZVNpemU7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBAcmV0dXJuIHRoZSAzIGJlc3Qge0BsaW5rIEZpbmRlclBhdHRlcm59cyBmcm9tIG91ciBsaXN0IG9mIGNhbmRpZGF0ZXMuIFRoZSAiYmVzdCIgYXJlCgkgICAgICogICAgICAgICB0aG9zZSB0aGF0IGhhdmUgYmVlbiBkZXRlY3RlZCBhdCBsZWFzdCB7QGxpbmsgI0NFTlRFUl9RVU9SVU19IHRpbWVzLCBhbmQgd2hvc2UgbW9kdWxlCgkgICAgICogICAgICAgICBzaXplIGRpZmZlcnMgZnJvbSB0aGUgYXZlcmFnZSBhbW9uZyB0aG9zZSBwYXR0ZXJucyB0aGUgbGVhc3QKCSAgICAgKiBAdGhyb3dzIE5vdEZvdW5kRXhjZXB0aW9uIGlmIDMgc3VjaCBmaW5kZXIgcGF0dGVybnMgZG8gbm90IGV4aXN0CgkgICAgICovCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5wcm90b3R5cGUuc2VsZWN0QmVzdFBhdHRlcm5zID0gZnVuY3Rpb24gKCkgewoJICAgICAgICB2YXIgZV80LCBfYSwgZV81LCBfYjsKCSAgICAgICAgdmFyIHN0YXJ0U2l6ZSA9IHRoaXMucG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgaWYgKHN0YXJ0U2l6ZSA8IDMpIHsKCSAgICAgICAgICAgIC8vIENvdWxkbid0IGZpbmQgZW5vdWdoIGZpbmRlciBwYXR0ZXJucwoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMi5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIHBvc3NpYmxlQ2VudGVycyA9IHRoaXMucG9zc2libGVDZW50ZXJzOwoJICAgICAgICB2YXIgYXZlcmFnZTsKCSAgICAgICAgLy8gRmlsdGVyIG91dGxpZXIgcG9zc2liaWxpdGllcyB3aG9zZSBtb2R1bGUgc2l6ZSBpcyB0b28gZGlmZmVyZW50CgkgICAgICAgIGlmIChzdGFydFNpemUgPiAzKSB7CgkgICAgICAgICAgICAvLyBCdXQgd2UgY2FuIG9ubHkgYWZmb3JkIHRvIGRvIHNvIGlmIHdlIGhhdmUgYXQgbGVhc3QgNCBwb3NzaWJpbGl0aWVzIHRvIGNob29zZSBmcm9tCgkgICAgICAgICAgICB2YXIgdG90YWxNb2R1bGVTaXplID0gMC4wOwoJICAgICAgICAgICAgdmFyIHNxdWFyZSA9IDAuMDsKCSAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgZm9yICh2YXIgX2MgPSBfX3ZhbHVlcyh0aGlzLnBvc3NpYmxlQ2VudGVycyksIF9kID0gX2MubmV4dCgpOyAhX2QuZG9uZTsgX2QgPSBfYy5uZXh0KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGNlbnRlciA9IF9kLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB2YXIgc2l6ZSA9IGNlbnRlci5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCk7CgkgICAgICAgICAgICAgICAgICAgIHRvdGFsTW9kdWxlU2l6ZSArPSBzaXplOwoJICAgICAgICAgICAgICAgICAgICBzcXVhcmUgKz0gc2l6ZSAqIHNpemU7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgY2F0Y2ggKGVfNF8xKSB7IGVfNCA9IHsgZXJyb3I6IGVfNF8xIH07IH0KCSAgICAgICAgICAgIGZpbmFsbHkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGlmIChfZCAmJiAhX2QuZG9uZSAmJiAoX2EgPSBfYy5yZXR1cm4pKSBfYS5jYWxsKF9jKTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZmluYWxseSB7IGlmIChlXzQpIHRocm93IGVfNC5lcnJvcjsgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgYXZlcmFnZSA9IHRvdGFsTW9kdWxlU2l6ZSAvIHN0YXJ0U2l6ZTsKCSAgICAgICAgICAgIHZhciBzdGREZXYgPSBNYXRoLnNxcnQoc3F1YXJlIC8gc3RhcnRTaXplIC0gYXZlcmFnZSAqIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzLnNvcnQoCgkgICAgICAgICAgICAvKioKCSAgICAgICAgICAgICAqIDxwPk9yZGVycyBieSBmdXJ0aGVzdCBmcm9tIGF2ZXJhZ2U8L3A+CgkgICAgICAgICAgICAgKi8KCSAgICAgICAgICAgIC8vIEZ1cnRoZXN0RnJvbUF2ZXJhZ2VDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICB2YXIgZEEgPSBNYXRoLmFicyhjZW50ZXIyLmdldEVzdGltYXRlZE1vZHVsZVNpemUoKSAtIGF2ZXJhZ2UpOwoJICAgICAgICAgICAgICAgIHZhciBkQiA9IE1hdGguYWJzKGNlbnRlcjEuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSk7CgkgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAtMSA6IGRBID4gZEIgPyAxIDogMDsKCSAgICAgICAgICAgIH0pOwoJICAgICAgICAgICAgdmFyIGxpbWl0ID0gTWF0aC5tYXgoMC4yICogYXZlcmFnZSwgc3RkRGV2KTsKCSAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcG9zc2libGVDZW50ZXJzLmxlbmd0aCAmJiBwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMzsgaSsrKSB7CgkgICAgICAgICAgICAgICAgdmFyIHBhdHRlcm4gPSBwb3NzaWJsZUNlbnRlcnNbaV07CgkgICAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKHBhdHRlcm4uZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpIC0gYXZlcmFnZSkgPiBsaW1pdCkgewoJICAgICAgICAgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKGksIDEpOwoJICAgICAgICAgICAgICAgICAgICBpLS07CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICB9CgkgICAgICAgIGlmIChwb3NzaWJsZUNlbnRlcnMubGVuZ3RoID4gMykgewoJICAgICAgICAgICAgLy8gVGhyb3cgYXdheSBhbGwgYnV0IHRob3NlIGZpcnN0IHNpemUgY2FuZGlkYXRlIHBvaW50cyB3ZSBmb3VuZC4KCSAgICAgICAgICAgIHZhciB0b3RhbE1vZHVsZVNpemUgPSAwLjA7CgkgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgIGZvciAodmFyIHBvc3NpYmxlQ2VudGVyc18xID0gX192YWx1ZXMocG9zc2libGVDZW50ZXJzKSwgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKTsgIXBvc3NpYmxlQ2VudGVyc18xXzEuZG9uZTsgcG9zc2libGVDZW50ZXJzXzFfMSA9IHBvc3NpYmxlQ2VudGVyc18xLm5leHQoKSkgewoJICAgICAgICAgICAgICAgICAgICB2YXIgcG9zc2libGVDZW50ZXIgPSBwb3NzaWJsZUNlbnRlcnNfMV8xLnZhbHVlOwoJICAgICAgICAgICAgICAgICAgICB0b3RhbE1vZHVsZVNpemUgKz0gcG9zc2libGVDZW50ZXIuZ2V0RXN0aW1hdGVkTW9kdWxlU2l6ZSgpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgIH0KCSAgICAgICAgICAgIGNhdGNoIChlXzVfMSkgeyBlXzUgPSB7IGVycm9yOiBlXzVfMSB9OyB9CgkgICAgICAgICAgICBmaW5hbGx5IHsKCSAgICAgICAgICAgICAgICB0cnkgewoJICAgICAgICAgICAgICAgICAgICBpZiAocG9zc2libGVDZW50ZXJzXzFfMSAmJiAhcG9zc2libGVDZW50ZXJzXzFfMS5kb25lICYmIChfYiA9IHBvc3NpYmxlQ2VudGVyc18xLnJldHVybikpIF9iLmNhbGwocG9zc2libGVDZW50ZXJzXzEpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBmaW5hbGx5IHsgaWYgKGVfNSkgdGhyb3cgZV81LmVycm9yOyB9CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBhdmVyYWdlID0gdG90YWxNb2R1bGVTaXplIC8gcG9zc2libGVDZW50ZXJzLmxlbmd0aDsKCSAgICAgICAgICAgIHBvc3NpYmxlQ2VudGVycy5zb3J0KAoJICAgICAgICAgICAgLyoqCgkgICAgICAgICAgICAgKiA8cD5PcmRlcnMgYnkge0BsaW5rIEZpbmRlclBhdHRlcm4jZ2V0Q291bnQoKX0sIGRlc2NlbmRpbmcuPC9wPgoJICAgICAgICAgICAgICovCgkgICAgICAgICAgICAvLyBDZW50ZXJDb21wYXJhdG9yIGltcGxlbWVudHMgQ29tcGFyYXRvcjxGaW5kZXJQYXR0ZXJuPgoJICAgICAgICAgICAgZnVuY3Rpb24gKGNlbnRlcjEsIGNlbnRlcjIpIHsKCSAgICAgICAgICAgICAgICBpZiAoY2VudGVyMi5nZXRDb3VudCgpID09PSBjZW50ZXIxLmdldENvdW50KCkpIHsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRBID0gTWF0aC5hYnMoY2VudGVyMi5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgdmFyIGRCID0gTWF0aC5hYnMoY2VudGVyMS5nZXRFc3RpbWF0ZWRNb2R1bGVTaXplKCkgLSBhdmVyYWdlKTsKCSAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRBIDwgZEIgPyAxIDogZEEgPiBkQiA/IC0xIDogMDsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAgICAgICAgIHJldHVybiBjZW50ZXIyLmdldENvdW50KCkgLSBjZW50ZXIxLmdldENvdW50KCk7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfSk7CgkgICAgICAgICAgICBwb3NzaWJsZUNlbnRlcnMuc3BsaWNlKDMpOyAvLyB0aGlzIGlzIG5vdCByZWFseSBuZWNlc3NhcnkgYXMgd2Ugb25seSByZXR1cm4gZmlyc3QgMyBhbnl3YXkKCSAgICAgICAgfQoJICAgICAgICByZXR1cm4gWwoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzBdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzFdLAoJICAgICAgICAgICAgcG9zc2libGVDZW50ZXJzWzJdCgkgICAgICAgIF07CgkgICAgfTsKCSAgICBGaW5kZXJQYXR0ZXJuRmluZGVyLkNFTlRFUl9RVU9SVU0gPSAyOwoJICAgIEZpbmRlclBhdHRlcm5GaW5kZXIuTUlOX1NLSVAgPSAzOyAvLyAxIHBpeGVsL21vZHVsZSB0aW1lcyAzIG1vZHVsZXMvY2VudGVyCgkgICAgRmluZGVyUGF0dGVybkZpbmRlci5NQVhfTU9EVUxFUyA9IDU3OyAvLyBzdXBwb3J0IHVwIHRvIHZlcnNpb24gMTAgZm9yIG1vYmlsZSBjbGllbnRzCgkgICAgcmV0dXJuIEZpbmRlclBhdHRlcm5GaW5kZXI7Cgl9KCkpOwoJRmluZGVyUGF0dGVybkZpbmRlciQxLmRlZmF1bHQgPSBGaW5kZXJQYXR0ZXJuRmluZGVyOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoRGV0ZWN0b3IkMSwgIl9fZXNNb2R1bGUiLCB7IHZhbHVlOiB0cnVlIH0pOwoJdmFyIE1hdGhVdGlsc18xID0gTWF0aFV0aWxzJDE7Cgl2YXIgRGV0ZWN0b3JSZXN1bHRfMSA9IERldGVjdG9yUmVzdWx0JDE7CgkvLyBpbXBvcnQgR3JpZFNhbXBsZXIgZnJvbSAnLi4vLi4vY29tbW9uL0dyaWRTYW1wbGVyJzsKCXZhciBHcmlkU2FtcGxlckluc3RhbmNlXzEgPSBHcmlkU2FtcGxlckluc3RhbmNlJDE7Cgl2YXIgUGVyc3BlY3RpdmVUcmFuc2Zvcm1fMSA9IFBlcnNwZWN0aXZlVHJhbnNmb3JtJDE7Cgl2YXIgRGVjb2RlSGludFR5cGVfMSQxID0gRGVjb2RlSGludFR5cGUkMTsKCXZhciBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdFBvaW50XzEgPSBSZXN1bHRQb2ludCQxOwoJdmFyIFZlcnNpb25fMSA9IFZlcnNpb24kMTsKCXZhciBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyXzEgPSBBbGlnbm1lbnRQYXR0ZXJuRmluZGVyJDE7Cgl2YXIgRmluZGVyUGF0dGVybkZpbmRlcl8xID0gRmluZGVyUGF0dGVybkZpbmRlciQxOwoJLyppbXBvcnQgamF2YS51dGlsLk1hcDsqLwoJLyoqCgkgKiA8cD5FbmNhcHN1bGF0ZXMgbG9naWMgdGhhdCBjYW4gZGV0ZWN0IGEgUVIgQ29kZSBpbiBhbiBpbWFnZSwgZXZlbiBpZiB0aGUgUVIgQ29kZQoJICogaXMgcm90YXRlZCBvciBza2V3ZWQsIG9yIHBhcnRpYWxseSBvYnNjdXJlZC48L3A+CgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIERldGVjdG9yID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewoJICAgIGZ1bmN0aW9uIERldGVjdG9yKGltYWdlKSB7CgkgICAgICAgIHRoaXMuaW1hZ2UgPSBpbWFnZTsKCSAgICB9CgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLmdldEltYWdlID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5pbWFnZTsKCSAgICB9OwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5nZXRSZXN1bHRQb2ludENhbGxiYWNrID0gZnVuY3Rpb24gKCkgewoJICAgICAgICByZXR1cm4gdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIC8vIHB1YmxpYyBkZXRlY3QoKTogRGV0ZWN0b3JSZXN1bHQgLyp0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiovIHsKCSAgICAvLyAgIHJldHVybiBkZXRlY3QobnVsbCkKCSAgICAvLyB9CgkgICAgLyoqCgkgICAgICogPHA+RGV0ZWN0cyBhIFFSIENvZGUgaW4gYW4gaW1hZ2UuPC9wPgoJICAgICAqCgkgICAgICogQHBhcmFtIGhpbnRzIG9wdGlvbmFsIGhpbnRzIHRvIGRldGVjdG9yCgkgICAgICogQHJldHVybiB7QGxpbmsgRGV0ZWN0b3JSZXN1bHR9IGVuY2Fwc3VsYXRpbmcgcmVzdWx0cyBvZiBkZXRlY3RpbmcgYSBRUiBDb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBRUiBDb2RlIGNhbm5vdCBiZSBmb3VuZAoJICAgICAqIEB0aHJvd3MgRm9ybWF0RXhjZXB0aW9uIGlmIGEgUVIgQ29kZSBjYW5ub3QgYmUgZGVjb2RlZAoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5kZXRlY3QgPSBmdW5jdGlvbiAoaGludHMpIHsKCSAgICAgICAgdGhpcy5yZXN1bHRQb2ludENhbGxiYWNrID0gKGhpbnRzID09PSBudWxsIHx8IGhpbnRzID09PSB1bmRlZmluZWQpID8gbnVsbCA6CgkgICAgICAgICAgICAvKihSZXN1bHRQb2ludENhbGxiYWNrKSAqLyBoaW50cy5nZXQoRGVjb2RlSGludFR5cGVfMSQxLmRlZmF1bHQuTkVFRF9SRVNVTFRfUE9JTlRfQ0FMTEJBQ0spOwoJICAgICAgICB2YXIgZmluZGVyID0gbmV3IEZpbmRlclBhdHRlcm5GaW5kZXJfMS5kZWZhdWx0KHRoaXMuaW1hZ2UsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHZhciBpbmZvID0gZmluZGVyLmZpbmQoaGludHMpOwoJICAgICAgICByZXR1cm4gdGhpcy5wcm9jZXNzRmluZGVyUGF0dGVybkluZm8oaW5mbyk7CgkgICAgfTsKCSAgICBEZXRlY3Rvci5wcm90b3R5cGUucHJvY2Vzc0ZpbmRlclBhdHRlcm5JbmZvID0gZnVuY3Rpb24gKGluZm8pIHsKCSAgICAgICAgdmFyIHRvcExlZnQgPSBpbmZvLmdldFRvcExlZnQoKTsKCSAgICAgICAgdmFyIHRvcFJpZ2h0ID0gaW5mby5nZXRUb3BSaWdodCgpOwoJICAgICAgICB2YXIgYm90dG9tTGVmdCA9IGluZm8uZ2V0Qm90dG9tTGVmdCgpOwoJICAgICAgICB2YXIgbW9kdWxlU2l6ZSA9IHRoaXMuY2FsY3VsYXRlTW9kdWxlU2l6ZSh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCk7CgkgICAgICAgIGlmIChtb2R1bGVTaXplIDwgMS4wKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ05vIHBhdHRlcm4gZm91bmQgaW4gcHJvY2Nlc3MgZmluZGVyLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBkaW1lbnNpb24gPSBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHByb3Zpc2lvbmFsVmVyc2lvbiA9IFZlcnNpb25fMS5kZWZhdWx0LmdldFByb3Zpc2lvbmFsVmVyc2lvbkZvckRpbWVuc2lvbihkaW1lbnNpb24pOwoJICAgICAgICB2YXIgbW9kdWxlc0JldHdlZW5GUENlbnRlcnMgPSBwcm92aXNpb25hbFZlcnNpb24uZ2V0RGltZW5zaW9uRm9yVmVyc2lvbigpIC0gNzsKCSAgICAgICAgdmFyIGFsaWdubWVudFBhdHRlcm4gPSBudWxsOwoJICAgICAgICAvLyBBbnl0aGluZyBhYm92ZSB2ZXJzaW9uIDEgaGFzIGFuIGFsaWdubWVudCBwYXR0ZXJuCgkgICAgICAgIGlmIChwcm92aXNpb25hbFZlcnNpb24uZ2V0QWxpZ25tZW50UGF0dGVybkNlbnRlcnMoKS5sZW5ndGggPiAwKSB7CgkgICAgICAgICAgICAvLyBHdWVzcyB3aGVyZSBhICJib3R0b20gcmlnaHQiIGZpbmRlciBwYXR0ZXJuIHdvdWxkIGhhdmUgYmVlbgoJICAgICAgICAgICAgdmFyIGJvdHRvbVJpZ2h0WCA9IHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpICsgYm90dG9tTGVmdC5nZXRYKCk7CgkgICAgICAgICAgICB2YXIgYm90dG9tUmlnaHRZID0gdG9wUmlnaHQuZ2V0WSgpIC0gdG9wTGVmdC5nZXRZKCkgKyBib3R0b21MZWZ0LmdldFkoKTsKCSAgICAgICAgICAgIC8vIEVzdGltYXRlIHRoYXQgYWxpZ25tZW50IHBhdHRlcm4gaXMgY2xvc2VyIGJ5IDMgbW9kdWxlcwoJICAgICAgICAgICAgLy8gZnJvbSAiYm90dG9tIHJpZ2h0IiB0byBrbm93biB0b3AgbGVmdCBsb2NhdGlvbgoJICAgICAgICAgICAgdmFyIGNvcnJlY3Rpb25Ub1RvcExlZnQgPSAxLjAgLSAzLjAgLyBtb2R1bGVzQmV0d2VlbkZQQ2VudGVyczsKCSAgICAgICAgICAgIHZhciBlc3RBbGlnbm1lbnRYID0gLyooaW50KSAqLyBNYXRoLmZsb29yKHRvcExlZnQuZ2V0WCgpICsgY29ycmVjdGlvblRvVG9wTGVmdCAqIChib3R0b21SaWdodFggLSB0b3BMZWZ0LmdldFgoKSkpOwoJICAgICAgICAgICAgdmFyIGVzdEFsaWdubWVudFkgPSAvKihpbnQpICovIE1hdGguZmxvb3IodG9wTGVmdC5nZXRZKCkgKyBjb3JyZWN0aW9uVG9Ub3BMZWZ0ICogKGJvdHRvbVJpZ2h0WSAtIHRvcExlZnQuZ2V0WSgpKSk7CgkgICAgICAgICAgICAvLyBLaW5kIG9mIGFyYml0cmFyeSAtLSBleHBhbmQgc2VhcmNoIHJhZGl1cyBiZWZvcmUgZ2l2aW5nIHVwCgkgICAgICAgICAgICBmb3IgKHZhciBpID0gNDsgaSA8PSAxNjsgaSA8PD0gMSkgewoJICAgICAgICAgICAgICAgIHRyeSB7CgkgICAgICAgICAgICAgICAgICAgIGFsaWdubWVudFBhdHRlcm4gPSB0aGlzLmZpbmRBbGlnbm1lbnRJblJlZ2lvbihtb2R1bGVTaXplLCBlc3RBbGlnbm1lbnRYLCBlc3RBbGlnbm1lbnRZLCBpKTsKCSAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgICAgIGNhdGNoIChyZSAvKk5vdEZvdW5kRXhjZXB0aW9uKi8pIHsKCSAgICAgICAgICAgICAgICAgICAgaWYgKCEocmUgaW5zdGFuY2VvZiBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCkpIHsKCSAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IHJlOwoJICAgICAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgICAgIC8vIHRyeSBuZXh0IHJvdW5kCgkgICAgICAgICAgICAgICAgfQoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgLy8gSWYgd2UgZGlkbid0IGZpbmQgYWxpZ25tZW50IHBhdHRlcm4uLi4gd2VsbCB0cnkgYW55d2F5IHdpdGhvdXQgaXQKCSAgICAgICAgfQoJICAgICAgICB2YXIgdHJhbnNmb3JtID0gRGV0ZWN0b3IuY3JlYXRlVHJhbnNmb3JtKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBhbGlnbm1lbnRQYXR0ZXJuLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgYml0cyA9IERldGVjdG9yLnNhbXBsZUdyaWQodGhpcy5pbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24pOwoJICAgICAgICB2YXIgcG9pbnRzOwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiA9PT0gbnVsbCkgewoJICAgICAgICAgICAgcG9pbnRzID0gW2JvdHRvbUxlZnQsIHRvcExlZnQsIHRvcFJpZ2h0XTsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIHsKCSAgICAgICAgICAgIHBvaW50cyA9IFtib3R0b21MZWZ0LCB0b3BMZWZ0LCB0b3BSaWdodCwgYWxpZ25tZW50UGF0dGVybl07CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIG5ldyBEZXRlY3RvclJlc3VsdF8xLmRlZmF1bHQoYml0cywgcG9pbnRzKTsKCSAgICB9OwoJICAgIERldGVjdG9yLmNyZWF0ZVRyYW5zZm9ybSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCwgYWxpZ25tZW50UGF0dGVybiwgZGltZW5zaW9uIC8qaW50Ki8pIHsKCSAgICAgICAgdmFyIGRpbU1pbnVzVGhyZWUgPSBkaW1lbnNpb24gLSAzLjU7CgkgICAgICAgIHZhciBib3R0b21SaWdodFg7IC8qZmxvYXQqLwoJICAgICAgICB2YXIgYm90dG9tUmlnaHRZOyAvKmZsb2F0Ki8KCSAgICAgICAgdmFyIHNvdXJjZUJvdHRvbVJpZ2h0WDsgLypmbG9hdCovCgkgICAgICAgIHZhciBzb3VyY2VCb3R0b21SaWdodFk7IC8qZmxvYXQqLwoJICAgICAgICBpZiAoYWxpZ25tZW50UGF0dGVybiAhPT0gbnVsbCkgewoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gYWxpZ25tZW50UGF0dGVybi5nZXRYKCk7CgkgICAgICAgICAgICBib3R0b21SaWdodFkgPSBhbGlnbm1lbnRQYXR0ZXJuLmdldFkoKTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WCA9IGRpbU1pbnVzVGhyZWUgLSAzLjA7CgkgICAgICAgICAgICBzb3VyY2VCb3R0b21SaWdodFkgPSBzb3VyY2VCb3R0b21SaWdodFg7CgkgICAgICAgIH0KCSAgICAgICAgZWxzZSB7CgkgICAgICAgICAgICAvLyBEb24ndCBoYXZlIGFuIGFsaWdubWVudCBwYXR0ZXJuLCBqdXN0IG1ha2UgdXAgdGhlIGJvdHRvbS1yaWdodCBwb2ludAoJICAgICAgICAgICAgYm90dG9tUmlnaHRYID0gKHRvcFJpZ2h0LmdldFgoKSAtIHRvcExlZnQuZ2V0WCgpKSArIGJvdHRvbUxlZnQuZ2V0WCgpOwoJICAgICAgICAgICAgYm90dG9tUmlnaHRZID0gKHRvcFJpZ2h0LmdldFkoKSAtIHRvcExlZnQuZ2V0WSgpKSArIGJvdHRvbUxlZnQuZ2V0WSgpOwoJICAgICAgICAgICAgc291cmNlQm90dG9tUmlnaHRYID0gZGltTWludXNUaHJlZTsKCSAgICAgICAgICAgIHNvdXJjZUJvdHRvbVJpZ2h0WSA9IGRpbU1pbnVzVGhyZWU7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIFBlcnNwZWN0aXZlVHJhbnNmb3JtXzEuZGVmYXVsdC5xdWFkcmlsYXRlcmFsVG9RdWFkcmlsYXRlcmFsKDMuNSwgMy41LCBkaW1NaW51c1RocmVlLCAzLjUsIHNvdXJjZUJvdHRvbVJpZ2h0WCwgc291cmNlQm90dG9tUmlnaHRZLCAzLjUsIGRpbU1pbnVzVGhyZWUsIHRvcExlZnQuZ2V0WCgpLCB0b3BMZWZ0LmdldFkoKSwgdG9wUmlnaHQuZ2V0WCgpLCB0b3BSaWdodC5nZXRZKCksIGJvdHRvbVJpZ2h0WCwgYm90dG9tUmlnaHRZLCBib3R0b21MZWZ0LmdldFgoKSwgYm90dG9tTGVmdC5nZXRZKCkpOwoJICAgIH07CgkgICAgRGV0ZWN0b3Iuc2FtcGxlR3JpZCA9IGZ1bmN0aW9uIChpbWFnZSwgdHJhbnNmb3JtLCBkaW1lbnNpb24gLyppbnQqLykgewoJICAgICAgICB2YXIgc2FtcGxlciA9IEdyaWRTYW1wbGVySW5zdGFuY2VfMS5kZWZhdWx0LmdldEluc3RhbmNlKCk7CgkgICAgICAgIHJldHVybiBzYW1wbGVyLnNhbXBsZUdyaWRXaXRoVHJhbnNmb3JtKGltYWdlLCBkaW1lbnNpb24sIGRpbWVuc2lvbiwgdHJhbnNmb3JtKTsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkNvbXB1dGVzIHRoZSBkaW1lbnNpb24gKG51bWJlciBvZiBtb2R1bGVzIG9uIGEgc2l6ZSkgb2YgdGhlIFFSIENvZGUgYmFzZWQgb24gdGhlIHBvc2l0aW9uCgkgICAgICogb2YgdGhlIGZpbmRlciBwYXR0ZXJucyBhbmQgZXN0aW1hdGVkIG1vZHVsZSBzaXplLjwvcD4KCSAgICAgKi8KCSAgICBEZXRlY3Rvci5jb21wdXRlRGltZW5zaW9uID0gZnVuY3Rpb24gKHRvcExlZnQsIHRvcFJpZ2h0LCBib3R0b21MZWZ0LCBtb2R1bGVTaXplIC8qZmxvYXQqLykgewoJICAgICAgICB2YXIgdGx0ckNlbnRlcnNEaW1lbnNpb24gPSBNYXRoVXRpbHNfMS5kZWZhdWx0LnJvdW5kKFJlc3VsdFBvaW50XzEuZGVmYXVsdC5kaXN0YW5jZSh0b3BMZWZ0LCB0b3BSaWdodCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIHRsYmxDZW50ZXJzRGltZW5zaW9uID0gTWF0aFV0aWxzXzEuZGVmYXVsdC5yb3VuZChSZXN1bHRQb2ludF8xLmRlZmF1bHQuZGlzdGFuY2UodG9wTGVmdCwgYm90dG9tTGVmdCkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIGRpbWVuc2lvbiA9IE1hdGguZmxvb3IoKHRsdHJDZW50ZXJzRGltZW5zaW9uICsgdGxibENlbnRlcnNEaW1lbnNpb24pIC8gMikgKyA3OwoJICAgICAgICBzd2l0Y2ggKGRpbWVuc2lvbiAmIDB4MDMpIHsgLy8gbW9kIDQKCSAgICAgICAgICAgIGNhc2UgMDoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24rKzsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIC8vIDE/IGRvIG5vdGhpbmcKCSAgICAgICAgICAgIGNhc2UgMjoKCSAgICAgICAgICAgICAgICBkaW1lbnNpb24tLTsKCSAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgIGNhc2UgMzoKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMSQxLmRlZmF1bHQoJ0RpbWVuc2lvbnMgY291bGQgYmUgbm90IGZvdW5kLicpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiBkaW1lbnNpb247CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiA8cD5Db21wdXRlcyBhbiBhdmVyYWdlIGVzdGltYXRlZCBtb2R1bGUgc2l6ZSBiYXNlZCBvbiBlc3RpbWF0ZWQgZGVyaXZlZCBmcm9tIHRoZSBwb3NpdGlvbnMKCSAgICAgKiBvZiB0aGUgdGhyZWUgZmluZGVyIHBhdHRlcm5zLjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSB0b3BMZWZ0IGRldGVjdGVkIHRvcC1sZWZ0IGZpbmRlciBwYXR0ZXJuIGNlbnRlcgoJICAgICAqIEBwYXJhbSB0b3BSaWdodCBkZXRlY3RlZCB0b3AtcmlnaHQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHBhcmFtIGJvdHRvbUxlZnQgZGV0ZWN0ZWQgYm90dG9tLWxlZnQgZmluZGVyIHBhdHRlcm4gY2VudGVyCgkgICAgICogQHJldHVybiBlc3RpbWF0ZWQgbW9kdWxlIHNpemUKCSAgICAgKi8KCSAgICBEZXRlY3Rvci5wcm90b3R5cGUuY2FsY3VsYXRlTW9kdWxlU2l6ZSA9IGZ1bmN0aW9uICh0b3BMZWZ0LCB0b3BSaWdodCwgYm90dG9tTGVmdCkgewoJICAgICAgICAvLyBUYWtlIHRoZSBhdmVyYWdlCgkgICAgICAgIHJldHVybiAodGhpcy5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5KHRvcExlZnQsIHRvcFJpZ2h0KSArCgkgICAgICAgICAgICB0aGlzLmNhbGN1bGF0ZU1vZHVsZVNpemVPbmVXYXkodG9wTGVmdCwgYm90dG9tTGVmdCkpIC8gMi4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogPHA+RXN0aW1hdGVzIG1vZHVsZSBzaXplIGJhc2VkIG9uIHR3byBmaW5kZXIgcGF0dGVybnMgLS0gaXQgdXNlcwoJICAgICAqIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuQm90aFdheXMoaW50LCBpbnQsIGludCwgaW50KX0gdG8gZmlndXJlIHRoZQoJICAgICAqIHdpZHRoIG9mIGVhY2gsIG1lYXN1cmluZyBhbG9uZyB0aGUgYXhpcyBiZXR3ZWVuIHRoZWlyIGNlbnRlcnMuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5jYWxjdWxhdGVNb2R1bGVTaXplT25lV2F5ID0gZnVuY3Rpb24gKHBhdHRlcm4sIG90aGVyUGF0dGVybikgewoJICAgICAgICB2YXIgbW9kdWxlU2l6ZUVzdDEgPSB0aGlzLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzKC8qKGludCkgKi8gTWF0aC5mbG9vcihwYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRZKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKG90aGVyUGF0dGVybi5nZXRZKCkpKTsKCSAgICAgICAgdmFyIG1vZHVsZVNpemVFc3QyID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW5Cb3RoV2F5cygvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFgoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3Iob3RoZXJQYXR0ZXJuLmdldFkoKSksIAoJICAgICAgICAvKihpbnQpICovIE1hdGguZmxvb3IocGF0dGVybi5nZXRYKCkpLCAKCSAgICAgICAgLyooaW50KSAqLyBNYXRoLmZsb29yKHBhdHRlcm4uZ2V0WSgpKSk7CgkgICAgICAgIGlmIChpc05hTihtb2R1bGVTaXplRXN0MSkpIHsKCSAgICAgICAgICAgIHJldHVybiBtb2R1bGVTaXplRXN0MiAvIDcuMDsKCSAgICAgICAgfQoJICAgICAgICBpZiAoaXNOYU4obW9kdWxlU2l6ZUVzdDIpKSB7CgkgICAgICAgICAgICByZXR1cm4gbW9kdWxlU2l6ZUVzdDEgLyA3LjA7CgkgICAgICAgIH0KCSAgICAgICAgLy8gQXZlcmFnZSB0aGVtLCBhbmQgZGl2aWRlIGJ5IDcgc2luY2Ugd2UndmUgY291bnRlZCB0aGUgd2lkdGggb2YgMyBibGFjayBtb2R1bGVzLAoJICAgICAgICAvLyBhbmQgMSB3aGl0ZSBhbmQgMSBibGFjayBtb2R1bGUgb24gZWl0aGVyIHNpZGUuIEVyZ28sIGRpdmlkZSBzdW0gYnkgMTQuCgkgICAgICAgIHJldHVybiAobW9kdWxlU2l6ZUVzdDEgKyBtb2R1bGVTaXplRXN0MikgLyAxNC4wOwoJICAgIH07CgkgICAgLyoqCgkgICAgICogU2VlIHtAbGluayAjc2l6ZU9mQmxhY2tXaGl0ZUJsYWNrUnVuKGludCwgaW50LCBpbnQsIGludCl9OyBjb21wdXRlcyB0aGUgdG90YWwgd2lkdGggb2YKCSAgICAgKiBhIGZpbmRlciBwYXR0ZXJuIGJ5IGxvb2tpbmcgZm9yIGEgYmxhY2std2hpdGUtYmxhY2sgcnVuIGZyb20gdGhlIGNlbnRlciBpbiB0aGUgZGlyZWN0aW9uCgkgICAgICogb2YgYW5vdGhlciBwb2ludCAoYW5vdGhlciBmaW5kZXIgcGF0dGVybiBjZW50ZXIpLCBhbmQgaW4gdGhlIG9wcG9zaXRlIGRpcmVjdGlvbiB0b28uCgkgICAgICovCgkgICAgRGV0ZWN0b3IucHJvdG90eXBlLnNpemVPZkJsYWNrV2hpdGVCbGFja1J1bkJvdGhXYXlzID0gZnVuY3Rpb24gKGZyb21YIC8qaW50Ki8sIGZyb21ZIC8qaW50Ki8sIHRvWCAvKmludCovLCB0b1kgLyppbnQqLykgewoJICAgICAgICB2YXIgcmVzdWx0ID0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCB0b1gsIHRvWSk7CgkgICAgICAgIC8vIE5vdyBjb3VudCBvdGhlciB3YXkgLS0gZG9uJ3QgcnVuIG9mZiBpbWFnZSB0aG91Z2ggb2YgY291cnNlCgkgICAgICAgIHZhciBzY2FsZSA9IDEuMDsKCSAgICAgICAgdmFyIG90aGVyVG9YID0gZnJvbVggLSAodG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAob3RoZXJUb1ggPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21YIC8gLyooZmxvYXQpICovIChmcm9tWCAtIG90aGVyVG9YKTsKCSAgICAgICAgICAgIG90aGVyVG9YID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWCA+PSB0aGlzLmltYWdlLmdldFdpZHRoKCkpIHsKCSAgICAgICAgICAgIHNjYWxlID0gKHRoaXMuaW1hZ2UuZ2V0V2lkdGgoKSAtIDEgLSBmcm9tWCkgLyAvKihmbG9hdCkgKi8gKG90aGVyVG9YIC0gZnJvbVgpOwoJICAgICAgICAgICAgb3RoZXJUb1ggPSB0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIHZhciBvdGhlclRvWSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihmcm9tWSAtICh0b1kgLSBmcm9tWSkgKiBzY2FsZSk7CgkgICAgICAgIHNjYWxlID0gMS4wOwoJICAgICAgICBpZiAob3RoZXJUb1kgPCAwKSB7CgkgICAgICAgICAgICBzY2FsZSA9IGZyb21ZIC8gLyooZmxvYXQpICovIChmcm9tWSAtIG90aGVyVG9ZKTsKCSAgICAgICAgICAgIG90aGVyVG9ZID0gMDsKCSAgICAgICAgfQoJICAgICAgICBlbHNlIGlmIChvdGhlclRvWSA+PSB0aGlzLmltYWdlLmdldEhlaWdodCgpKSB7CgkgICAgICAgICAgICBzY2FsZSA9ICh0aGlzLmltYWdlLmdldEhlaWdodCgpIC0gMSAtIGZyb21ZKSAvIC8qKGZsb2F0KSAqLyAob3RoZXJUb1kgLSBmcm9tWSk7CgkgICAgICAgICAgICBvdGhlclRvWSA9IHRoaXMuaW1hZ2UuZ2V0SGVpZ2h0KCkgLSAxOwoJICAgICAgICB9CgkgICAgICAgIG90aGVyVG9YID0gLyooaW50KSAqLyBNYXRoLmZsb29yKGZyb21YICsgKG90aGVyVG9YIC0gZnJvbVgpICogc2NhbGUpOwoJICAgICAgICByZXN1bHQgKz0gdGhpcy5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4oZnJvbVgsIGZyb21ZLCBvdGhlclRvWCwgb3RoZXJUb1kpOwoJICAgICAgICAvLyBNaWRkbGUgcGl4ZWwgaXMgZG91YmxlLWNvdW50ZWQgdGhpcyB3YXk7IHN1YnRyYWN0IDEKCSAgICAgICAgcmV0dXJuIHJlc3VsdCAtIDEuMDsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPlRoaXMgbWV0aG9kIHRyYWNlcyBhIGxpbmUgZnJvbSBhIHBvaW50IGluIHRoZSBpbWFnZSwgaW4gdGhlIGRpcmVjdGlvbiB0b3dhcmRzIGFub3RoZXIgcG9pbnQuCgkgICAgICogSXQgYmVnaW5zIGluIGEgYmxhY2sgcmVnaW9uLCBhbmQga2VlcHMgZ29pbmcgdW50aWwgaXQgZmluZHMgd2hpdGUsIHRoZW4gYmxhY2ssIHRoZW4gd2hpdGUgYWdhaW4uCgkgICAgICogSXQgcmVwb3J0cyB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgc3RhcnQgdG8gdGhpcyBwb2ludC48L3A+CgkgICAgICoKCSAgICAgKiA8cD5UaGlzIGlzIHVzZWQgd2hlbiBmaWd1cmluZyBvdXQgaG93IHdpZGUgYSBmaW5kZXIgcGF0dGVybiBpcywgd2hlbiB0aGUgZmluZGVyIHBhdHRlcm4KCSAgICAgKiBtYXkgYmUgc2tld2VkIG9yIHJvdGF0ZWQuPC9wPgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5zaXplT2ZCbGFja1doaXRlQmxhY2tSdW4gPSBmdW5jdGlvbiAoZnJvbVggLyppbnQqLywgZnJvbVkgLyppbnQqLywgdG9YIC8qaW50Ki8sIHRvWSAvKmludCovKSB7CgkgICAgICAgIC8vIE1pbGQgdmFyaWFudCBvZiBCcmVzZW5oYW0ncyBhbGdvcml0aG0KCSAgICAgICAgLy8gc2VlIGh0dHA6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQnJlc2VuaGFtJ3NfbGluZV9hbGdvcml0aG0KCSAgICAgICAgdmFyIHN0ZWVwID0gTWF0aC5hYnModG9ZIC0gZnJvbVkpID4gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICBpZiAoc3RlZXApIHsKCSAgICAgICAgICAgIHZhciB0ZW1wID0gZnJvbVg7CgkgICAgICAgICAgICBmcm9tWCA9IGZyb21ZOwoJICAgICAgICAgICAgZnJvbVkgPSB0ZW1wOwoJICAgICAgICAgICAgdGVtcCA9IHRvWDsKCSAgICAgICAgICAgIHRvWCA9IHRvWTsKCSAgICAgICAgICAgIHRvWSA9IHRlbXA7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnModG9YIC0gZnJvbVgpOwoJICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyh0b1kgLSBmcm9tWSk7CgkgICAgICAgIHZhciBlcnJvciA9IC1keCAvIDI7CgkgICAgICAgIHZhciB4c3RlcCA9IGZyb21YIDwgdG9YID8gMSA6IC0xOwoJICAgICAgICB2YXIgeXN0ZXAgPSBmcm9tWSA8IHRvWSA/IDEgOiAtMTsKCSAgICAgICAgLy8gSW4gYmxhY2sgcGl4ZWxzLCBsb29raW5nIGZvciB3aGl0ZSwgZmlyc3Qgb3Igc2Vjb25kIHRpbWUuCgkgICAgICAgIHZhciBzdGF0ZSA9IDA7CgkgICAgICAgIC8vIExvb3AgdXAgdW50aWwgeCA9PSB0b1gsIGJ1dCBub3QgYmV5b25kCgkgICAgICAgIHZhciB4TGltaXQgPSB0b1ggKyB4c3RlcDsKCSAgICAgICAgZm9yICh2YXIgeCA9IGZyb21YLCB5ID0gZnJvbVk7IHggIT09IHhMaW1pdDsgeCArPSB4c3RlcCkgewoJICAgICAgICAgICAgdmFyIHJlYWxYID0gc3RlZXAgPyB5IDogeDsKCSAgICAgICAgICAgIHZhciByZWFsWSA9IHN0ZWVwID8geCA6IHk7CgkgICAgICAgICAgICAvLyBEb2VzIGN1cnJlbnQgcGl4ZWwgbWVhbiB3ZSBoYXZlIG1vdmVkIHdoaXRlIHRvIGJsYWNrIG9yIHZpY2UgdmVyc2E/CgkgICAgICAgICAgICAvLyBTY2FubmluZyBibGFjayBpbiBzdGF0ZSAwLDIgYW5kIHdoaXRlIGluIHN0YXRlIDEsIHNvIGlmIHdlIGZpbmQgdGhlIHdyb25nCgkgICAgICAgICAgICAvLyBjb2xvciwgYWR2YW5jZSB0byBuZXh0IHN0YXRlIG9yIGVuZCBpZiB3ZSBhcmUgaW4gc3RhdGUgMiBhbHJlYWR5CgkgICAgICAgICAgICBpZiAoKHN0YXRlID09PSAxKSA9PT0gdGhpcy5pbWFnZS5nZXQocmVhbFgsIHJlYWxZKSkgewoJICAgICAgICAgICAgICAgIGlmIChzdGF0ZSA9PT0gMikgewoJICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aFV0aWxzXzEuZGVmYXVsdC5kaXN0YW5jZSh4LCB5LCBmcm9tWCwgZnJvbVkpOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBzdGF0ZSsrOwoJICAgICAgICAgICAgfQoJICAgICAgICAgICAgZXJyb3IgKz0gZHk7CgkgICAgICAgICAgICBpZiAoZXJyb3IgPiAwKSB7CgkgICAgICAgICAgICAgICAgaWYgKHkgPT09IHRvWSkgewoJICAgICAgICAgICAgICAgICAgICBicmVhazsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICAgICAgeSArPSB5c3RlcDsKCSAgICAgICAgICAgICAgICBlcnJvciAtPSBkeDsKCSAgICAgICAgICAgIH0KCSAgICAgICAgfQoJICAgICAgICAvLyBGb3VuZCBibGFjay13aGl0ZS1ibGFjazsgZ2l2ZSB0aGUgYmVuZWZpdCBvZiB0aGUgZG91YnQgdGhhdCB0aGUgbmV4dCBwaXhlbCBvdXRzaWRlIHRoZSBpbWFnZQoJICAgICAgICAvLyBpcyAid2hpdGUiIHNvIHRoaXMgbGFzdCBwb2ludCBhdCAodG9YK3hTdGVwLHRvWSkgaXMgdGhlIHJpZ2h0IGVuZGluZy4gVGhpcyBpcyByZWFsbHkgYQoJICAgICAgICAvLyBzbWFsbCBhcHByb3hpbWF0aW9uOyAodG9YK3hTdGVwLHRvWSt5U3RlcCkgbWlnaHQgYmUgcmVhbGx5IGNvcnJlY3QuIElnbm9yZSB0aGlzLgoJICAgICAgICBpZiAoc3RhdGUgPT09IDIpIHsKCSAgICAgICAgICAgIHJldHVybiBNYXRoVXRpbHNfMS5kZWZhdWx0LmRpc3RhbmNlKHRvWCArIHhzdGVwLCB0b1ksIGZyb21YLCBmcm9tWSk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gZWxzZSB3ZSBkaWRuJ3QgZmluZCBldmVuIGJsYWNrLXdoaXRlLWJsYWNrOyBubyBlc3RpbWF0ZSBpcyByZWFsbHkgcG9zc2libGUKCSAgICAgICAgcmV0dXJuIE5hTjsKCSAgICB9OwoJICAgIC8qKgoJICAgICAqIDxwPkF0dGVtcHRzIHRvIGxvY2F0ZSBhbiBhbGlnbm1lbnQgcGF0dGVybiBpbiBhIGxpbWl0ZWQgcmVnaW9uIG9mIHRoZSBpbWFnZSwgd2hpY2ggaXMKCSAgICAgKiBndWVzc2VkIHRvIGNvbnRhaW4gaXQuIFRoaXMgbWV0aG9kIHVzZXMge0BsaW5rIEFsaWdubWVudFBhdHRlcm59LjwvcD4KCSAgICAgKgoJICAgICAqIEBwYXJhbSBvdmVyYWxsRXN0TW9kdWxlU2l6ZSBlc3RpbWF0ZWQgbW9kdWxlIHNpemUgc28gZmFyCgkgICAgICogQHBhcmFtIGVzdEFsaWdubWVudFggeCBjb29yZGluYXRlIG9mIGNlbnRlciBvZiBhcmVhIHByb2JhYmx5IGNvbnRhaW5pbmcgYWxpZ25tZW50IHBhdHRlcm4KCSAgICAgKiBAcGFyYW0gZXN0QWxpZ25tZW50WSB5IGNvb3JkaW5hdGUgb2YgYWJvdmUKCSAgICAgKiBAcGFyYW0gYWxsb3dhbmNlRmFjdG9yIG51bWJlciBvZiBwaXhlbHMgaW4gYWxsIGRpcmVjdGlvbnMgdG8gc2VhcmNoIGZyb20gdGhlIGNlbnRlcgoJICAgICAqIEByZXR1cm4ge0BsaW5rIEFsaWdubWVudFBhdHRlcm59IGlmIGZvdW5kLCBvciBudWxsIG90aGVyd2lzZQoJICAgICAqIEB0aHJvd3MgTm90Rm91bmRFeGNlcHRpb24gaWYgYW4gdW5leHBlY3RlZCBlcnJvciBvY2N1cnMgZHVyaW5nIGRldGVjdGlvbgoJICAgICAqLwoJICAgIERldGVjdG9yLnByb3RvdHlwZS5maW5kQWxpZ25tZW50SW5SZWdpb24gPSBmdW5jdGlvbiAob3ZlcmFsbEVzdE1vZHVsZVNpemUgLypmbG9hdCovLCBlc3RBbGlnbm1lbnRYIC8qaW50Ki8sIGVzdEFsaWdubWVudFkgLyppbnQqLywgYWxsb3dhbmNlRmFjdG9yIC8qZmxvYXQqLykgewoJICAgICAgICAvLyBMb29rIGZvciBhbiBhbGlnbm1lbnQgcGF0dGVybiAoMyBtb2R1bGVzIGluIHNpemUpIGFyb3VuZCB3aGVyZSBpdAoJICAgICAgICAvLyBzaG91bGQgYmUKCSAgICAgICAgdmFyIGFsbG93YW5jZSA9IC8qKGludCkgKi8gTWF0aC5mbG9vcihhbGxvd2FuY2VGYWN0b3IgKiBvdmVyYWxsRXN0TW9kdWxlU2l6ZSk7CgkgICAgICAgIHZhciBhbGlnbm1lbnRBcmVhTGVmdFggPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRYIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFSaWdodFggPSBNYXRoLm1pbih0aGlzLmltYWdlLmdldFdpZHRoKCkgLSAxLCBlc3RBbGlnbm1lbnRYICsgYWxsb3dhbmNlKTsKCSAgICAgICAgaWYgKGFsaWdubWVudEFyZWFSaWdodFggLSBhbGlnbm1lbnRBcmVhTGVmdFggPCBvdmVyYWxsRXN0TW9kdWxlU2l6ZSAqIDMpIHsKCSAgICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEV4Y2VwdGlvbl8xJDEuZGVmYXVsdCgnQWxpZ25tZW50IHRvcCBleGNlZWRzIGVzdGltYXRlZCBtb2R1bGUgc2l6ZS4nKTsKCSAgICAgICAgfQoJICAgICAgICB2YXIgYWxpZ25tZW50QXJlYVRvcFkgPSBNYXRoLm1heCgwLCBlc3RBbGlnbm1lbnRZIC0gYWxsb3dhbmNlKTsKCSAgICAgICAgdmFyIGFsaWdubWVudEFyZWFCb3R0b21ZID0gTWF0aC5taW4odGhpcy5pbWFnZS5nZXRIZWlnaHQoKSAtIDEsIGVzdEFsaWdubWVudFkgKyBhbGxvd2FuY2UpOwoJICAgICAgICBpZiAoYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSA8IG92ZXJhbGxFc3RNb2R1bGVTaXplICogMykgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEkMS5kZWZhdWx0KCdBbGlnbm1lbnQgYm90dG9tIGV4Y2VlZHMgZXN0aW1hdGVkIG1vZHVsZSBzaXplLicpOwoJICAgICAgICB9CgkgICAgICAgIHZhciBhbGlnbm1lbnRGaW5kZXIgPSBuZXcgQWxpZ25tZW50UGF0dGVybkZpbmRlcl8xLmRlZmF1bHQodGhpcy5pbWFnZSwgYWxpZ25tZW50QXJlYUxlZnRYLCBhbGlnbm1lbnRBcmVhVG9wWSwgYWxpZ25tZW50QXJlYVJpZ2h0WCAtIGFsaWdubWVudEFyZWFMZWZ0WCwgYWxpZ25tZW50QXJlYUJvdHRvbVkgLSBhbGlnbm1lbnRBcmVhVG9wWSwgb3ZlcmFsbEVzdE1vZHVsZVNpemUsIHRoaXMucmVzdWx0UG9pbnRDYWxsYmFjayk7CgkgICAgICAgIHJldHVybiBhbGlnbm1lbnRGaW5kZXIuZmluZCgpOwoJICAgIH07CgkgICAgcmV0dXJuIERldGVjdG9yOwoJfSgpKTsKCURldGVjdG9yJDEuZGVmYXVsdCA9IERldGVjdG9yOwoKCS8qCgkgKiBDb3B5cmlnaHQgMjAwNyBaWGluZyBhdXRob3JzCgkgKgoJICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CgkgKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCgkgKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCSAqCgkgKiAgICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoJICoKCSAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKCSAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCgkgKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KCSAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKCSAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoJICovCglPYmplY3QuZGVmaW5lUHJvcGVydHkoUVJDb2RlUmVhZGVyJDEsICJfX2VzTW9kdWxlIiwgeyB2YWx1ZTogdHJ1ZSB9KTsKCS8qbmFtZXNwYWNlIGNvbS5nb29nbGUuenhpbmcucXJjb2RlIHsqLwoJdmFyIEJhcmNvZGVGb3JtYXRfMSA9IEJhcmNvZGVGb3JtYXQkMTsKCXZhciBCaXRNYXRyaXhfMSA9IEJpdE1hdHJpeCQxOwoJdmFyIERlY29kZUhpbnRUeXBlXzEgPSBEZWNvZGVIaW50VHlwZSQxOwoJdmFyIE5vdEZvdW5kRXhjZXB0aW9uXzEgPSBOb3RGb3VuZEV4Y2VwdGlvbiQxOwoJdmFyIFJlc3VsdF8xID0gUmVzdWx0JDE7Cgl2YXIgUmVzdWx0TWV0YWRhdGFUeXBlXzEgPSBSZXN1bHRNZXRhZGF0YVR5cGUkMTsKCS8vIGltcG9ydCBEZXRlY3RvclJlc3VsdCBmcm9tICcuLi9jb21tb24vRGV0ZWN0b3JSZXN1bHQnOwoJdmFyIERlY29kZXJfMSA9IERlY29kZXIkMTsKCXZhciBRUkNvZGVEZWNvZGVyTWV0YURhdGFfMSA9IFFSQ29kZURlY29kZXJNZXRhRGF0YSQxOwoJdmFyIERldGVjdG9yXzEgPSBEZXRlY3RvciQxOwoJLyppbXBvcnQgamF2YS51dGlsLkxpc3Q7Ki8KCS8qaW1wb3J0IGphdmEudXRpbC5NYXA7Ki8KCS8qKgoJICogVGhpcyBpbXBsZW1lbnRhdGlvbiBjYW4gZGV0ZWN0IGFuZCBkZWNvZGUgUVIgQ29kZXMgaW4gYW4gaW1hZ2UuCgkgKgoJICogQGF1dGhvciBTZWFuIE93ZW4KCSAqLwoJdmFyIFFSQ29kZVJlYWRlciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKCSAgICBmdW5jdGlvbiBRUkNvZGVSZWFkZXIoKSB7CgkgICAgICAgIHRoaXMuZGVjb2RlciA9IG5ldyBEZWNvZGVyXzEuZGVmYXVsdCgpOwoJICAgIH0KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmdldERlY29kZXIgPSBmdW5jdGlvbiAoKSB7CgkgICAgICAgIHJldHVybiB0aGlzLmRlY29kZXI7CgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBMb2NhdGVzIGFuZCBkZWNvZGVzIGEgUVIgY29kZSBpbiBhbiBpbWFnZS4KCSAgICAgKgoJICAgICAqIEByZXR1cm4gYSByZXByZXNlbnRpbmc6IHN0cmluZyB0aGUgY29udGVudCBlbmNvZGVkIGJ5IHRoZSBRUiBjb2RlCgkgICAgICogQHRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiBpZiBhIFFSIGNvZGUgY2Fubm90IGJlIGZvdW5kCgkgICAgICogQHRocm93cyBGb3JtYXRFeGNlcHRpb24gaWYgYSBRUiBjb2RlIGNhbm5vdCBiZSBkZWNvZGVkCgkgICAgICogQHRocm93cyBDaGVja3N1bUV4Y2VwdGlvbiBpZiBlcnJvciBjb3JyZWN0aW9uIGZhaWxzCgkgICAgICovCgkgICAgLypAT3ZlcnJpZGUqLwoJICAgIC8vIHB1YmxpYyBkZWNvZGUoaW1hZ2U6IEJpbmFyeUJpdG1hcCk6IFJlc3VsdCAvKnRocm93cyBOb3RGb3VuZEV4Y2VwdGlvbiwgQ2hlY2tzdW1FeGNlcHRpb24sIEZvcm1hdEV4Y2VwdGlvbiAqLyB7CgkgICAgLy8gICByZXR1cm4gdGhpcy5kZWNvZGUoaW1hZ2UsIG51bGwpCgkgICAgLy8gfQoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLmRlY29kZSA9IGZ1bmN0aW9uIChpbWFnZSwgaGludHMpIHsKCSAgICAgICAgdmFyIGRlY29kZXJSZXN1bHQ7CgkgICAgICAgIHZhciBwb2ludHM7CgkgICAgICAgIGlmIChoaW50cyAhPT0gdW5kZWZpbmVkICYmIGhpbnRzICE9PSBudWxsICYmIHVuZGVmaW5lZCAhPT0gaGludHMuZ2V0KERlY29kZUhpbnRUeXBlXzEuZGVmYXVsdC5QVVJFX0JBUkNPREUpKSB7CgkgICAgICAgICAgICB2YXIgYml0cyA9IFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMoaW1hZ2UuZ2V0QmxhY2tNYXRyaXgoKSk7CgkgICAgICAgICAgICBkZWNvZGVyUmVzdWx0ID0gdGhpcy5kZWNvZGVyLmRlY29kZUJpdE1hdHJpeChiaXRzLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTOwoJICAgICAgICB9CgkgICAgICAgIGVsc2UgewoJICAgICAgICAgICAgdmFyIGRldGVjdG9yUmVzdWx0ID0gbmV3IERldGVjdG9yXzEuZGVmYXVsdChpbWFnZS5nZXRCbGFja01hdHJpeCgpKS5kZXRlY3QoaGludHMpOwoJICAgICAgICAgICAgZGVjb2RlclJlc3VsdCA9IHRoaXMuZGVjb2Rlci5kZWNvZGVCaXRNYXRyaXgoZGV0ZWN0b3JSZXN1bHQuZ2V0Qml0cygpLCBoaW50cyk7CgkgICAgICAgICAgICBwb2ludHMgPSBkZXRlY3RvclJlc3VsdC5nZXRQb2ludHMoKTsKCSAgICAgICAgfQoJICAgICAgICAvLyBJZiB0aGUgY29kZSB3YXMgbWlycm9yZWQ6IHN3YXAgdGhlIGJvdHRvbS1sZWZ0IGFuZCB0aGUgdG9wLXJpZ2h0IHBvaW50cy4KCSAgICAgICAgaWYgKGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKSBpbnN0YW5jZW9mIFFSQ29kZURlY29kZXJNZXRhRGF0YV8xLmRlZmF1bHQpIHsKCSAgICAgICAgICAgIGRlY29kZXJSZXN1bHQuZ2V0T3RoZXIoKS5hcHBseU1pcnJvcmVkQ29ycmVjdGlvbihwb2ludHMpOwoJICAgICAgICB9CgkgICAgICAgIHZhciByZXN1bHQgPSBuZXcgUmVzdWx0XzEuZGVmYXVsdChkZWNvZGVyUmVzdWx0LmdldFRleHQoKSwgZGVjb2RlclJlc3VsdC5nZXRSYXdCeXRlcygpLCB1bmRlZmluZWQsIHBvaW50cywgQmFyY29kZUZvcm1hdF8xLmRlZmF1bHQuUVJfQ09ERSwgdW5kZWZpbmVkKTsKCSAgICAgICAgdmFyIGJ5dGVTZWdtZW50cyA9IGRlY29kZXJSZXN1bHQuZ2V0Qnl0ZVNlZ21lbnRzKCk7CgkgICAgICAgIGlmIChieXRlU2VnbWVudHMgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkJZVEVfU0VHTUVOVFMsIGJ5dGVTZWdtZW50cyk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIGVjTGV2ZWwgPSBkZWNvZGVyUmVzdWx0LmdldEVDTGV2ZWwoKTsKCSAgICAgICAgaWYgKGVjTGV2ZWwgIT09IG51bGwpIHsKCSAgICAgICAgICAgIHJlc3VsdC5wdXRNZXRhZGF0YShSZXN1bHRNZXRhZGF0YVR5cGVfMS5kZWZhdWx0LkVSUk9SX0NPUlJFQ1RJT05fTEVWRUwsIGVjTGV2ZWwpOwoJICAgICAgICB9CgkgICAgICAgIGlmIChkZWNvZGVyUmVzdWx0Lmhhc1N0cnVjdHVyZWRBcHBlbmQoKSkgewoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfU0VRVUVOQ0UsIGRlY29kZXJSZXN1bHQuZ2V0U3RydWN0dXJlZEFwcGVuZFNlcXVlbmNlTnVtYmVyKCkpOwoJICAgICAgICAgICAgcmVzdWx0LnB1dE1ldGFkYXRhKFJlc3VsdE1ldGFkYXRhVHlwZV8xLmRlZmF1bHQuU1RSVUNUVVJFRF9BUFBFTkRfUEFSSVRZLCBkZWNvZGVyUmVzdWx0LmdldFN0cnVjdHVyZWRBcHBlbmRQYXJpdHkoKSk7CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIHJlc3VsdDsKCSAgICB9OwoJICAgIC8qQE92ZXJyaWRlKi8KCSAgICBRUkNvZGVSZWFkZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkgewoJICAgICAgICAvLyBkbyBub3RoaW5nCgkgICAgfTsKCSAgICAvKioKCSAgICAgKiBUaGlzIG1ldGhvZCBkZXRlY3RzIGEgY29kZSBpbiBhICJwdXJlIiBpbWFnZSAtLSB0aGF0IGlzLCBwdXJlIG1vbm9jaHJvbWUgaW1hZ2UKCSAgICAgKiB3aGljaCBjb250YWlucyBvbmx5IGFuIHVucm90YXRlZCwgdW5za2V3ZWQsIGltYWdlIG9mIGEgY29kZSwgd2l0aCBzb21lIHdoaXRlIGJvcmRlcgoJICAgICAqIGFyb3VuZCBpdC4gVGhpcyBpcyBhIHNwZWNpYWxpemVkIG1ldGhvZCB0aGF0IHdvcmtzIGV4Y2VwdGlvbmFsbHkgZmFzdCBpbiB0aGlzIHNwZWNpYWwKCSAgICAgKiBjYXNlLgoJICAgICAqCgkgICAgICogQHNlZSBjb20uZ29vZ2xlLnp4aW5nLmRhdGFtYXRyaXguRGF0YU1hdHJpeFJlYWRlciNleHRyYWN0UHVyZUJpdHMoQml0TWF0cml4KQoJICAgICAqLwoJICAgIFFSQ29kZVJlYWRlci5leHRyYWN0UHVyZUJpdHMgPSBmdW5jdGlvbiAoaW1hZ2UpIHsKCSAgICAgICAgdmFyIGxlZnRUb3BCbGFjayA9IGltYWdlLmdldFRvcExlZnRPbkJpdCgpOwoJICAgICAgICB2YXIgcmlnaHRCb3R0b21CbGFjayA9IGltYWdlLmdldEJvdHRvbVJpZ2h0T25CaXQoKTsKCSAgICAgICAgaWYgKGxlZnRUb3BCbGFjayA9PT0gbnVsbCB8fCByaWdodEJvdHRvbUJsYWNrID09PSBudWxsKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1vZHVsZVNpemUgPSB0aGlzLm1vZHVsZVNpemUobGVmdFRvcEJsYWNrLCBpbWFnZSk7CgkgICAgICAgIHZhciB0b3AgPSBsZWZ0VG9wQmxhY2tbMV07CgkgICAgICAgIHZhciBib3R0b20gPSByaWdodEJvdHRvbUJsYWNrWzFdOwoJICAgICAgICB2YXIgbGVmdCA9IGxlZnRUb3BCbGFja1swXTsKCSAgICAgICAgdmFyIHJpZ2h0ID0gcmlnaHRCb3R0b21CbGFja1swXTsKCSAgICAgICAgLy8gU2FuaXR5IGNoZWNrIQoJICAgICAgICBpZiAobGVmdCA+PSByaWdodCB8fCB0b3AgPj0gYm90dG9tKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKGJvdHRvbSAtIHRvcCAhPT0gcmlnaHQgLSBsZWZ0KSB7CgkgICAgICAgICAgICAvLyBTcGVjaWFsIGNhc2UsIHdoZXJlIGJvdHRvbS1yaWdodCBtb2R1bGUgd2Fzbid0IGJsYWNrIHNvIHdlIGZvdW5kIHNvbWV0aGluZyBlbHNlIGluIHRoZSBsYXN0IHJvdwoJICAgICAgICAgICAgLy8gQXNzdW1lIGl0J3MgYSBzcXVhcmUsIHNvIHVzZSBoZWlnaHQgYXMgdGhlIHdpZHRoCgkgICAgICAgICAgICByaWdodCA9IGxlZnQgKyAoYm90dG9tIC0gdG9wKTsKCSAgICAgICAgICAgIGlmIChyaWdodCA+PSBpbWFnZS5nZXRXaWR0aCgpKSB7CgkgICAgICAgICAgICAgICAgLy8gQWJvcnQgaWYgdGhhdCB3b3VsZCBub3QgbWFrZSBzZW5zZSAtLSBvZmYgaW1hZ2UKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgdmFyIG1hdHJpeFdpZHRoID0gTWF0aC5yb3VuZCgocmlnaHQgLSBsZWZ0ICsgMSkgLyBtb2R1bGVTaXplKTsKCSAgICAgICAgdmFyIG1hdHJpeEhlaWdodCA9IE1hdGgucm91bmQoKGJvdHRvbSAtIHRvcCArIDEpIC8gbW9kdWxlU2l6ZSk7CgkgICAgICAgIGlmIChtYXRyaXhXaWR0aCA8PSAwIHx8IG1hdHJpeEhlaWdodCA8PSAwKSB7CgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKG1hdHJpeEhlaWdodCAhPT0gbWF0cml4V2lkdGgpIHsKCSAgICAgICAgICAgIC8vIE9ubHkgcG9zc2libHkgZGVjb2RlIHNxdWFyZSByZWdpb25zCgkgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgIH0KCSAgICAgICAgLy8gUHVzaCBpbiB0aGUgImJvcmRlciIgYnkgaGFsZiB0aGUgbW9kdWxlIHdpZHRoIHNvIHRoYXQgd2Ugc3RhcnQKCSAgICAgICAgLy8gc2FtcGxpbmcgaW4gdGhlIG1pZGRsZSBvZiB0aGUgbW9kdWxlLiBKdXN0IGluIGNhc2UgdGhlIGltYWdlIGlzIGEKCSAgICAgICAgLy8gbGl0dGxlIG9mZiwgdGhpcyB3aWxsIGhlbHAgcmVjb3Zlci4KCSAgICAgICAgdmFyIG51ZGdlID0gLyooaW50KSAqLyBNYXRoLmZsb29yKG1vZHVsZVNpemUgLyAyLjApOwoJICAgICAgICB0b3AgKz0gbnVkZ2U7CgkgICAgICAgIGxlZnQgKz0gbnVkZ2U7CgkgICAgICAgIC8vIEJ1dCBjYXJlZnVsIHRoYXQgdGhpcyBkb2VzIG5vdCBzYW1wbGUgb2ZmIHRoZSBlZGdlCgkgICAgICAgIC8vICJyaWdodCIgaXMgdGhlIGZhcnRoZXN0LXJpZ2h0IHZhbGlkIHBpeGVsIGxvY2F0aW9uIC0tIHJpZ2h0KzEgaXMgbm90IG5lY2Vzc2FyaWx5CgkgICAgICAgIC8vIFRoaXMgaXMgcG9zaXRpdmUgYnkgaG93IG11Y2ggdGhlIGlubmVyIHggbG9vcCBiZWxvdyB3b3VsZCBiZSB0b28gbGFyZ2UKCSAgICAgICAgdmFyIG51ZGdlZFRvb0ZhclJpZ2h0ID0gbGVmdCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4V2lkdGggLSAxKSAqIG1vZHVsZVNpemUpIC0gcmlnaHQ7CgkgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IDApIHsKCSAgICAgICAgICAgIGlmIChudWRnZWRUb29GYXJSaWdodCA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICBsZWZ0IC09IG51ZGdlZFRvb0ZhclJpZ2h0OwoJICAgICAgICB9CgkgICAgICAgIC8vIFNlZSBsb2dpYyBhYm92ZQoJICAgICAgICB2YXIgbnVkZ2VkVG9vRmFyRG93biA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcigobWF0cml4SGVpZ2h0IC0gMSkgKiBtb2R1bGVTaXplKSAtIGJvdHRvbTsKCSAgICAgICAgaWYgKG51ZGdlZFRvb0ZhckRvd24gPiAwKSB7CgkgICAgICAgICAgICBpZiAobnVkZ2VkVG9vRmFyRG93biA+IG51ZGdlKSB7CgkgICAgICAgICAgICAgICAgLy8gTmVpdGhlciB3YXkgZml0czsgYWJvcnQKCSAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFeGNlcHRpb25fMS5kZWZhdWx0KCk7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB0b3AgLT0gbnVkZ2VkVG9vRmFyRG93bjsKCSAgICAgICAgfQoJICAgICAgICAvLyBOb3cganVzdCByZWFkIG9mZiB0aGUgYml0cwoJICAgICAgICB2YXIgYml0cyA9IG5ldyBCaXRNYXRyaXhfMS5kZWZhdWx0KG1hdHJpeFdpZHRoLCBtYXRyaXhIZWlnaHQpOwoJICAgICAgICBmb3IgKHZhciB5ID0gMDsgeSA8IG1hdHJpeEhlaWdodDsgeSsrKSB7CgkgICAgICAgICAgICB2YXIgaU9mZnNldCA9IHRvcCArIC8qKGludCkgKi8gTWF0aC5mbG9vcih5ICogbW9kdWxlU2l6ZSk7CgkgICAgICAgICAgICBmb3IgKHZhciB4ID0gMDsgeCA8IG1hdHJpeFdpZHRoOyB4KyspIHsKCSAgICAgICAgICAgICAgICBpZiAoaW1hZ2UuZ2V0KGxlZnQgKyAvKihpbnQpICovIE1hdGguZmxvb3IoeCAqIG1vZHVsZVNpemUpLCBpT2Zmc2V0KSkgewoJICAgICAgICAgICAgICAgICAgICBiaXRzLnNldCh4LCB5KTsKCSAgICAgICAgICAgICAgICB9CgkgICAgICAgICAgICB9CgkgICAgICAgIH0KCSAgICAgICAgcmV0dXJuIGJpdHM7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIubW9kdWxlU2l6ZSA9IGZ1bmN0aW9uIChsZWZ0VG9wQmxhY2ssIGltYWdlKSB7CgkgICAgICAgIHZhciBoZWlnaHQgPSBpbWFnZS5nZXRIZWlnaHQoKTsKCSAgICAgICAgdmFyIHdpZHRoID0gaW1hZ2UuZ2V0V2lkdGgoKTsKCSAgICAgICAgdmFyIHggPSBsZWZ0VG9wQmxhY2tbMF07CgkgICAgICAgIHZhciB5ID0gbGVmdFRvcEJsYWNrWzFdOwoJICAgICAgICB2YXIgaW5CbGFjayA9IHRydWU7CgkgICAgICAgIHZhciB0cmFuc2l0aW9ucyA9IDA7CgkgICAgICAgIHdoaWxlICh4IDwgd2lkdGggJiYgeSA8IGhlaWdodCkgewoJICAgICAgICAgICAgaWYgKGluQmxhY2sgIT09IGltYWdlLmdldCh4LCB5KSkgewoJICAgICAgICAgICAgICAgIGlmICgrK3RyYW5zaXRpb25zID09PSA1KSB7CgkgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoJICAgICAgICAgICAgICAgIH0KCSAgICAgICAgICAgICAgICBpbkJsYWNrID0gIWluQmxhY2s7CgkgICAgICAgICAgICB9CgkgICAgICAgICAgICB4Kys7CgkgICAgICAgICAgICB5Kys7CgkgICAgICAgIH0KCSAgICAgICAgaWYgKHggPT09IHdpZHRoIHx8IHkgPT09IGhlaWdodCkgewoJICAgICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXhjZXB0aW9uXzEuZGVmYXVsdCgpOwoJICAgICAgICB9CgkgICAgICAgIHJldHVybiAoeCAtIGxlZnRUb3BCbGFja1swXSkgLyA3LjA7CgkgICAgfTsKCSAgICBRUkNvZGVSZWFkZXIuTk9fUE9JTlRTID0gbmV3IEFycmF5KCk7CgkgICAgcmV0dXJuIFFSQ29kZVJlYWRlcjsKCX0oKSk7Cgl2YXIgX2RlZmF1bHQgPSBRUkNvZGVSZWFkZXIkMS5kZWZhdWx0ID0gUVJDb2RlUmVhZGVyOwoKCXZhciB0b0dyYXlzY2FsZUJ1ZmZlciA9IGZ1bmN0aW9uIHRvR3JheXNjYWxlQnVmZmVyKGltYWdlQnVmZmVyLCB3aWR0aCwgaGVpZ2h0KSB7CgkgIHZhciBncmF5c2NhbGVCdWZmZXIgPSBuZXcgVWludDhDbGFtcGVkQXJyYXkod2lkdGggKiBoZWlnaHQpOwoKCSAgZm9yICh2YXIgaSA9IDAsIGogPSAwLCBsZW5ndGhfMSA9IGltYWdlQnVmZmVyLmxlbmd0aDsgaSA8IGxlbmd0aF8xOyBpICs9IDQsIGorKykgewoJICAgIHZhciBncmF5ID0gdm9pZCAwOwoJICAgIHZhciBhbHBoYSA9IGltYWdlQnVmZmVyW2kgKyAzXTsgLy8gVGhlIGNvbG9yIG9mIGZ1bGx5LXRyYW5zcGFyZW50IHBpeGVscyBpcyBpcnJlbGV2YW50LiBUaGV5IGFyZSBvZnRlbiwgdGVjaG5pY2FsbHksIGZ1bGx5LXRyYW5zcGFyZW50CgkgICAgLy8gYmxhY2sgKDAgYWxwaGEsIGFuZCB0aGVuIDAgUkdCKS4gVGhleSBhcmUgb2Z0ZW4gdXNlZCwgb2YgY291cnNlIGFzIHRoZSAid2hpdGUiIGFyZWEgaW4gYQoJICAgIC8vIGJhcmNvZGUgaW1hZ2UuIEZvcmNlIGFueSBzdWNoIHBpeGVsIHRvIGJlIHdoaXRlOgoKCSAgICBpZiAoYWxwaGEgPT09IDApIHsKCSAgICAgIGdyYXkgPSAweEZGOwoJICAgIH0gZWxzZSB7CgkgICAgICB2YXIgcGl4ZWxSID0gaW1hZ2VCdWZmZXJbaV07CgkgICAgICB2YXIgcGl4ZWxHID0gaW1hZ2VCdWZmZXJbaSArIDFdOwoJICAgICAgdmFyIHBpeGVsQiA9IGltYWdlQnVmZmVyW2kgKyAyXTsgLy8gLjI5OVIgKyAwLjU4N0cgKyAwLjExNEIgKFlVVi9ZSVEgZm9yIFBBTCBhbmQgTlRTQyksCgkgICAgICAvLyAoMzA2KlIpID4+IDEwIGlzIGFwcHJveGltYXRlbHkgZXF1YWwgdG8gUiowLjI5OSwgYW5kIHNvIG9uLgoJICAgICAgLy8gMHgyMDAgPj4gMTAgaXMgMC41LCBpdCBpbXBsZW1lbnRzIHJvdW5kaW5nLgoKCSAgICAgIGdyYXkgPSAzMDYgKiBwaXhlbFIgKyA2MDEgKiBwaXhlbEcgKyAxMTcgKiBwaXhlbEIgKyAweDIwMCA+PiAxMDsKCSAgICB9CgoJICAgIGdyYXlzY2FsZUJ1ZmZlcltqXSA9IGdyYXk7CgkgIH0KCgkgIHJldHVybiBncmF5c2NhbGVCdWZmZXI7Cgl9OwoKCXZhciByZWFkZXIgPSBuZXcgX2RlZmF1bHQoKTsKCXNlbGYuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGZ1bmN0aW9uIChlKSB7CgkgIC8vIGVzbGludC1kaXNhYmxlLWxpbmUgbm8tcmVzdHJpY3RlZC1nbG9iYWxzCgkgIHRyeSB7CgkgICAgdmFyIGx1bWluYW5jZXMgPSB0b0dyYXlzY2FsZUJ1ZmZlcihlLmRhdGEuZGF0YSwgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgbHVtaW5hbmNlU291cmNlID0gbmV3IF9kZWZhdWx0JDEobHVtaW5hbmNlcywgZS5kYXRhLndpZHRoLCBlLmRhdGEuaGVpZ2h0KTsKCSAgICB2YXIgaHlicmlkQmluYXJpemVyID0gbmV3IF9kZWZhdWx0JDIobHVtaW5hbmNlU291cmNlKTsKCSAgICB2YXIgYmluYXJ5Qml0bWFwID0gbmV3IF9kZWZhdWx0JDMoaHlicmlkQmluYXJpemVyKTsKCSAgICB2YXIgZGVjb2RlZCA9IHJlYWRlci5kZWNvZGUoYmluYXJ5Qml0bWFwKTsKCSAgICBwb3N0TWVzc2FnZShkZWNvZGVkKTsKCSAgfSBjYXRjaCAoZXJyKSB7CgkgICAgcG9zdE1lc3NhZ2UobnVsbCk7CgkgIH0KCX0pOwoKfSkoKTsKCg=="),aY=["constraints","onError","onLoad","onScan","resolution","qrArea"];function rS(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(s){return Object.getOwnPropertyDescriptor(t,s).enumerable})),n.push.apply(n,a)}return n}function oS(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(n),!0).forEach(function(a){ET(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):rS(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}var sY=function(){return new nY},lS=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().forEach(function(n){e.removeTrack(n),n.stop()}),e.getAudioTracks().forEach(function(n){e.removeTrack(n),n.stop()})):e.stop())},ff=function(e){var n=e.constraints,a=e.onError,s=e.onLoad,r=e.onScan,l=e.resolution,g=e.qrArea,c=YT(e,aY),u=Le.useRef(null),d=Le.useRef(null),p=Le.useRef(document.createElement("canvas")),A=Le.useRef(null),G=Le.useRef(),w=Le.useState(null),Z=HT(w,2),V=Z[0],W=Z[1],D=Le.useRef(!1),x=Le.useRef();Le.useEffect(function(){x.current=sY();var P=x.current;return P.onmessage=function(_){r&&r(_.data?oS(oS({},_.data),{},{canvas:p.current}):null),D.current=!1},function(){P.terminate()}},[r]);var Y=JSON.stringify(g),z=Le.useCallback(function(){var P=JSON.parse(Y),_=x.current,re=d.current&&d.current.readyState===d.current.HAVE_ENOUGH_DATA;if(!D.current&&re){D.current=!0;var ce=d.current.videoWidth,ae=d.current.videoHeight,pe=ce>ae?ce:ae,ue=Math.floor(l/pe*100)/100;ae=Math.floor(ue*ae),ce=Math.floor(ue*ce),p.current.width=ce,p.current.height=ae,A.current=p.current.getContext("2d"),A.current.drawImage(d.current,0,0,ce,ae);var M;P&&P.length===2&&P[0]>0&&P[1]>0?M=A.current.getImageData(Math.floor((ce-P[0])/2),Math.floor((ae-P[1])/2),P[0],P[1]):M=A.current.getImageData(0,0,ce,ae),_.postMessage(M)}G.current=requestAnimationFrame(z)},[l,Y]),Q=JSON.stringify(n);return Le.useEffect(function(){var P=JSON.parse(Q),_=!0;return navigator.mediaDevices.getUserMedia(P).then(function(re){if(!_)lS(re);else{u.current=re;try{d.current&&(d.current.srcObject=re,d.current.setAttribute("playsinline",!0))}catch{W(window.URL.createObjectURL(re))}s&&s(),G.current=requestAnimationFrame(z)}}).catch(function(re){return _?a(re):null}),function(){cancelAnimationFrame(G.current),_=!1,lS(u.current),V&&window.URL.revokeObjectURL(V)}},[z,Q,a,s,V]),Le.createElement("video",t1({autoPlay:!0,playsInline:!0,src:V,ref:d},c))};ff.propTypes={constraints:sc.object,onError:sc.func.isRequired,onLoad:sc.func,onScan:sc.func.isRequired,resolution:sc.number,qrArea:sc.array};ff.defaultProps={constraints:{audio:!1,video:!0},resolution:640,qrArea:[]};const iY=({onScan:t,onClose:e,debug:n=!1})=>{const[a,s]=Le.useState(null),[r,l]=Le.useState(null),[g,c]=Le.useState(!1);Le.useEffect(()=>{(async()=>{try{const A=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment"}}),G=A.getVideoTracks();G.length>0&&(l(G[0].getSettings().deviceId||null),c(!0)),A.getTracks().forEach(w=>w.stop())}catch(A){console.error("Camera access error:",A),s("Could not access camera. Please check permissions.")}})()},[]);const u=p=>{if(p&&p.text){n&&console.log("QR Code scanned:",p.text);const A=/(0x[a-fA-F0-9]{40})/i,G=p.text.match(A);if(G&&G[1]){const w=G[1];n&&console.log("Extracted address:",w),t(w)}else s("No Ethereum address found in QR code")}},d=p=>{console.error("QR Scanner error:",p),s("Scanner error: "+p.message)};return Je.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70",children:Je.jsxs("div",{className:"bg-white rounded-lg p-4 w-full max-w-md mx-4",children:[Je.jsx("h3",{className:"text-xl font-bold mb-4 text-center",children:"Scan Metri Wallet QR Code"}),Je.jsxs("div",{className:"w-full aspect-square relative bg-gray-100 overflow-hidden rounded-lg mb-4",children:[g&&r&&Je.jsx(ff,{delay:300,onError:d,onScan:u,style:{width:"100%",height:"100%",objectFit:"cover"},constraints:{audio:!1,video:{deviceId:r?{exact:r}:void 0}}}),Je.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Je.jsx("div",{className:"w-3/4 h-3/4 border-2 border-[#FFB800] rounded-lg"})})]}),a&&Je.jsx("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded-lg text-red-700 text-sm",children:a}),Je.jsx("button",{onClick:e,className:"w-full py-3 bg-[#FFB800] hover:bg-[#E6A600] text-black font-medium rounded-lg transition-colors",children:"Cancel"})]})})},rY="modulepreload",oY=function(t){return"/metri-inviter-team/"+t},cS={},fI=function(e,n,a){let s=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),g=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));s=Promise.allSettled(n.map(c=>{if(c=oY(c),c in cS)return;cS[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":rY,u||(p.as="script"),p.crossOrigin="",p.href=c,g&&p.setAttribute("nonce",g),document.head.appendChild(p),u)return new Promise((A,G)=>{p.addEventListener("load",A),p.addEventListener("error",()=>G(new Error(`Unable to preload CSS for ${c}`)))})}))}function r(l){const g=new Event("vite:preloadError",{cancelable:!0});if(g.payload=l,window.dispatchEvent(g),!g.defaultPrevented)throw l}return s.then(l=>{for(const g of l||[])g.status==="rejected"&&r(g.reason);return e().catch(r)})},lY="1.0.8";let pa=class n1 extends Error{constructor(e,n={}){var l;const a=n.cause instanceof n1?n.cause.details:(l=n.cause)!=null&&l.message?n.cause.message:n.details,s=n.cause instanceof n1&&n.cause.docsPath||n.docsPath,r=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...s?[`Docs: https://abitype.dev${s}`]:[],...a?[`Details: ${a}`]:[],`Version: abitype@${lY}`].join(`
`);super(r),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),n.cause&&(this.cause=n.cause),this.details=a,this.docsPath=s,this.metaMessages=n.metaMessages,this.shortMessage=e}};function zi(t,e){const n=t.exec(e);return n==null?void 0:n.groups}const lV=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,cV=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,gV=/^\(.+?\).*?$/,gS=/^tuple(?<array>(\[(\d*)\])*)$/;function a1(t){let e=t.type;if(gS.test(t.type)&&"components"in t){e="(";const n=t.components.length;for(let s=0;s<n;s++){const r=t.components[s];e+=a1(r),s<n-1&&(e+=", ")}const a=zi(gS,t.type);return e+=`)${(a==null?void 0:a.array)??""}`,a1({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function Jd(t){let e="";const n=t.length;for(let a=0;a<n;a++){const s=t[a];e+=a1(s),a!==n-1&&(e+=", ")}return e}function Am(t){var e;return t.type==="function"?`function ${t.name}(${Jd(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${Jd(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${Jd(t.inputs)})`:t.type==="error"?`error ${t.name}(${Jd(t.inputs)})`:t.type==="constructor"?`constructor(${Jd(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const dV=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function cY(t){return dV.test(t)}function gY(t){return zi(dV,t)}const IV=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function dY(t){return IV.test(t)}function IY(t){return zi(IV,t)}const uV=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function uY(t){return uV.test(t)}function CY(t){return zi(uV,t)}const CV=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function lA(t){return CV.test(t)}function pY(t){return zi(CV,t)}const pV=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function mY(t){return pV.test(t)}function AY(t){return zi(pV,t)}const mV=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function yY(t){return mV.test(t)}function bY(t){return zi(mV,t)}const hY=/^receive\(\) external payable$/;function fY(t){return hY.test(t)}const dS=new Set(["memory","indexed","storage","calldata"]),ZY=new Set(["indexed"]),s1=new Set(["calldata","memory","storage"]);class GY extends pa{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class BY extends pa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class SY extends pa{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class wY extends pa{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class kY extends pa{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class VY extends pa{constructor({param:e,name:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${n}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class RY extends pa{constructor({param:e,type:n,modifier:a}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${a}" not allowed${n?` in "${n}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class WY extends pa{constructor({param:e,type:n,modifier:a}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${a}" not allowed${n?` in "${n}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${a}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class vY extends pa{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Ng extends pa{constructor({signature:e,type:n}){super(`Invalid ${n} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class EY extends pa{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class XY extends pa{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class JY extends pa{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class xY extends pa{constructor({current:e,depth:n}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${n>0?"opening":"closing"} parentheses.`],details:`Depth "${n}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function NY(t,e,n){let a="";if(n)for(const s of Object.entries(n)){if(!s)continue;let r="";for(const l of s[1])r+=`[${l.type}${l.name?`:${l.name}`:""}]`;a+=`(${s[0]}{${r}})`}return e?`${e}:${t}${a}`:t}const P0=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function i1(t,e={}){if(uY(t))return HY(t,e);if(dY(t))return TY(t,e);if(cY(t))return YY(t,e);if(mY(t))return FY(t,e);if(yY(t))return KY(t);if(fY(t))return{type:"receive",stateMutability:"payable"};throw new EY({signature:t})}function HY(t,e={}){const n=CY(t);if(!n)throw new Ng({signature:t,type:"function"});const a=Wa(n.parameters),s=[],r=a.length;for(let g=0;g<r;g++)s.push(Ui(a[g],{modifiers:s1,structs:e,type:"function"}));const l=[];if(n.returns){const g=Wa(n.returns),c=g.length;for(let u=0;u<c;u++)l.push(Ui(g[u],{modifiers:s1,structs:e,type:"function"}))}return{name:n.name,type:"function",stateMutability:n.stateMutability??"nonpayable",inputs:s,outputs:l}}function TY(t,e={}){const n=IY(t);if(!n)throw new Ng({signature:t,type:"event"});const a=Wa(n.parameters),s=[],r=a.length;for(let l=0;l<r;l++)s.push(Ui(a[l],{modifiers:ZY,structs:e,type:"event"}));return{name:n.name,type:"event",inputs:s}}function YY(t,e={}){const n=gY(t);if(!n)throw new Ng({signature:t,type:"error"});const a=Wa(n.parameters),s=[],r=a.length;for(let l=0;l<r;l++)s.push(Ui(a[l],{structs:e,type:"error"}));return{name:n.name,type:"error",inputs:s}}function FY(t,e={}){const n=AY(t);if(!n)throw new Ng({signature:t,type:"constructor"});const a=Wa(n.parameters),s=[],r=a.length;for(let l=0;l<r;l++)s.push(Ui(a[l],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:n.stateMutability??"nonpayable",inputs:s}}function KY(t){const e=bY(t);if(!e)throw new Ng({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const MY=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,UY=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,DY=/^u?int$/;function Ui(t,e){var p,A;const n=NY(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(P0.has(n))return P0.get(n);const a=gV.test(t),s=zi(a?UY:MY,t);if(!s)throw new kY({param:t});if(s.name&&zY(s.name))throw new VY({param:t,name:s.name});const r=s.name?{name:s.name}:{},l=s.modifier==="indexed"?{indexed:!0}:{},g=(e==null?void 0:e.structs)??{};let c,u={};if(a){c="tuple";const G=Wa(s.type),w=[],Z=G.length;for(let V=0;V<Z;V++)w.push(Ui(G[V],{structs:g}));u={components:w}}else if(s.type in g)c="tuple",u={components:g[s.type]};else if(DY.test(s.type))c=`${s.type}256`;else if(c=s.type,(e==null?void 0:e.type)!=="struct"&&!AV(c))throw new SY({type:c});if(s.modifier){if(!((A=(p=e==null?void 0:e.modifiers)==null?void 0:p.has)!=null&&A.call(p,s.modifier)))throw new RY({param:t,type:e==null?void 0:e.type,modifier:s.modifier});if(s1.has(s.modifier)&&!QY(c,!!s.array))throw new WY({param:t,type:e==null?void 0:e.type,modifier:s.modifier})}const d={type:`${c}${s.array??""}`,...r,...l,...u};return P0.set(n,d),d}function Wa(t,e=[],n="",a=0){const s=t.trim().length;for(let r=0;r<s;r++){const l=t[r],g=t.slice(r+1);switch(l){case",":return a===0?Wa(g,[...e,n.trim()]):Wa(g,e,`${n}${l}`,a);case"(":return Wa(g,e,`${n}${l}`,a+1);case")":return Wa(g,e,`${n}${l}`,a-1);default:return Wa(g,e,`${n}${l}`,a)}}if(n==="")return e;if(a!==0)throw new xY({current:n,depth:a});return e.push(n.trim()),e}function AV(t){return t==="address"||t==="bool"||t==="function"||t==="string"||lV.test(t)||cV.test(t)}const LY=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function zY(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||lV.test(t)||cV.test(t)||LY.test(t)}function QY(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function Zf(t){const e={},n=t.length;for(let l=0;l<n;l++){const g=t[l];if(!lA(g))continue;const c=pY(g);if(!c)throw new Ng({signature:g,type:"struct"});const u=c.properties.split(";"),d=[],p=u.length;for(let A=0;A<p;A++){const w=u[A].trim();if(!w)continue;const Z=Ui(w,{type:"struct"});d.push(Z)}if(!d.length)throw new XY({signature:g});e[c.name]=d}const a={},s=Object.entries(e),r=s.length;for(let l=0;l<r;l++){const[g,c]=s[l];a[g]=yV(c,e)}return a}const PY=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function yV(t,e,n=new Set){const a=[],s=t.length;for(let r=0;r<s;r++){const l=t[r];if(gV.test(l.type))a.push(l);else{const c=zi(PY,l.type);if(!(c!=null&&c.type))throw new vY({abiParameter:l});const{array:u,type:d}=c;if(d in e){if(n.has(d))throw new JY({type:d});a.push({...l,type:`tuple${u??""}`,components:yV(e[d]??[],e,new Set([...n,d]))})}else if(AV(d))a.push(l);else throw new BY({type:d})}}return a}function hu(t){const e=Zf(t),n=[],a=t.length;for(let s=0;s<a;s++){const r=t[s];lA(r)||n.push(i1(r,e))}return n}function IS(t){let e;if(typeof t=="string")e=i1(t);else{const n=Zf(t),a=t.length;for(let s=0;s<a;s++){const r=t[s];if(!lA(r)){e=i1(r,n);break}}}if(!e)throw new GY({signature:t});return e}function r1(t){const e=[];if(typeof t=="string"){const n=Wa(t),a=n.length;for(let s=0;s<a;s++)e.push(Ui(n[s],{modifiers:dS}))}else{const n=Zf(t),a=t.length;for(let s=0;s<a;s++){const r=t[s];if(lA(r))continue;const l=Wa(r),g=l.length;for(let c=0;c<g;c++)e.push(Ui(l[c],{modifiers:dS,structs:n}))}}if(e.length===0)throw new wY({params:t});return e}var OY={abi:[{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract GnosisSafe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"}]},jY={abi:[{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"encodeMessageDataForSafe",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"}]},_Y={abi:[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!1,inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}]},$Y={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}]},qY={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}]},eF={abi:[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}]},tF={abi:[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}]},nF={abi:[{constant:!1,inputs:[{name:"owner",type:"address"},{name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"signedMessages",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"module",type:"address"}],name:"enableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_masterCopy",type:"address"}],name:"changeMasterCopy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"SENTINEL_MODULES",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SENTINEL_OWNERS",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getOwners",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"NAME",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getModules",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SAFE_MSG_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SAFE_TX_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"prevModule",type:"address"},{name:"module",type:"address"}],name:"disableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"prevOwner",type:"address"},{name:"oldOwner",type:"address"},{name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getThreshold",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"prevOwner",type:"address"},{name:"owner",type:"address"},{name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!1,name:"txHash",type:"bytes32"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newContract",type:"address"}],name:"ContractCreation",type:"event"},{constant:!1,inputs:[{name:"_owners",type:"address[]"},{name:"_threshold",type:"uint256"},{name:"to",type:"address"},{name:"data",type:"bytes"},{name:"paymentToken",type:"address"},{name:"payment",type:"uint256"},{name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_data",type:"bytes"}],name:"signMessage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}]},aF={abi:[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"masterCopy",type:"address"}],name:"ChangedMasterCopy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract Module",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract Module",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!0,inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_masterCopy",type:"address"}],name:"changeMasterCopy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"contract Module",name:"prevModule",type:"address"},{internalType:"contract Module",name:"module",type:"address"}],name:"disableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"contract Module",name:"module",type:"address"}],name:"enableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"signMessage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}]},sF={abi:[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"masterCopy",type:"address"}],name:"ChangedMasterCopy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract Module",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"contract Module",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{payable:!0,stateMutability:"payable",type:"fallback"},{constant:!0,inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_masterCopy",type:"address"}],name:"changeMasterCopy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"contract Module",name:"prevModule",type:"address"},{internalType:"contract Module",name:"module",type:"address"}],name:"disableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"contract Module",name:"module",type:"address"}],name:"enableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"contract Module",name:"module",type:"address"}],name:"isModuleEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"success",type:"bool"}],payable:!0,stateMutability:"payable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"signMessage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}]},iF={abi:[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"handler",type:"address"}],name:"ChangedFallbackHandler",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"guard",type:"address"}],name:"ChangedGuard",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"SafeModuleTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{indexed:!1,internalType:"uint256",name:"safeTxGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"gasPrice",type:"uint256"},{indexed:!1,internalType:"address",name:"gasToken",type:"address"},{indexed:!1,internalType:"address payable",name:"refundReceiver",type:"address"},{indexed:!1,internalType:"bytes",name:"signatures",type:"bytes"},{indexed:!1,internalType:"bytes",name:"additionalInfo",type:"bytes"}],name:"SafeMultiSigTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SafeReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!1,internalType:"address[]",name:"owners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"},{indexed:!1,internalType:"address",name:"initializer",type:"address"},{indexed:!1,internalType:"address",name:"fallbackHandler",type:"address"}],name:"SafeSetup",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{stateMutability:"nonpayable",type:"fallback"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"},{internalType:"uint256",name:"requiredSignatures",type:"uint256"}],name:"checkNSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"checkSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevModule",type:"address"},{internalType:"address",name:"module",type:"address"}],name:"disableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"enableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"length",type:"uint256"}],name:"getStorageAt",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"isModuleEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guard",type:"address"}],name:"setGuard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},rF={abi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"approvedHash",type:"bytes32"},{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"ApproveHash",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"handler",type:"address"}],name:"ChangedFallbackHandler",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"guard",type:"address"}],name:"ChangedGuard",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleFailure",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"module",type:"address"}],name:"ExecutionFromModuleSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"txHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"payment",type:"uint256"}],name:"ExecutionSuccess",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"module",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"SafeModuleTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{indexed:!1,internalType:"uint256",name:"safeTxGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"gasPrice",type:"uint256"},{indexed:!1,internalType:"address",name:"gasToken",type:"address"},{indexed:!1,internalType:"address payable",name:"refundReceiver",type:"address"},{indexed:!1,internalType:"bytes",name:"signatures",type:"bytes"},{indexed:!1,internalType:"bytes",name:"additionalInfo",type:"bytes"}],name:"SafeMultiSigTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"sender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"SafeReceived",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!1,internalType:"address[]",name:"owners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"},{indexed:!1,internalType:"address",name:"initializer",type:"address"},{indexed:!1,internalType:"address",name:"fallbackHandler",type:"address"}],name:"SafeSetup",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{stateMutability:"nonpayable",type:"fallback"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"bytes32",name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"},{internalType:"uint256",name:"requiredSignatures",type:"uint256"}],name:"checkNSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"dataHash",type:"bytes32"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"checkSignatures",outputs:[],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevModule",type:"address"},{internalType:"address",name:"module",type:"address"}],name:"disableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"enableModule",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address payable",name:"refundReceiver",type:"address"},{internalType:"bytes",name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{internalType:"bool",name:"success",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"execTransactionFromModuleReturnData",outputs:[{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"start",type:"address"},{internalType:"uint256",name:"pageSize",type:"uint256"}],name:"getModulesPaginated",outputs:[{internalType:"address[]",name:"array",type:"address[]"},{internalType:"address",name:"next",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"getOwners",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"offset",type:"uint256"},{internalType:"uint256",name:"length",type:"uint256"}],name:"getStorageAt",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[],name:"getThreshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{internalType:"uint256",name:"safeTxGas",type:"uint256"},{internalType:"uint256",name:"baseGas",type:"uint256"},{internalType:"uint256",name:"gasPrice",type:"uint256"},{internalType:"address",name:"gasToken",type:"address"},{internalType:"address",name:"refundReceiver",type:"address"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"module",type:"address"}],name:"isModuleEnabled",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"isOwner",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"nonce",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"owner",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"handler",type:"address"}],name:"setFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"guard",type:"address"}],name:"setGuard",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address[]",name:"_owners",type:"address[]"},{internalType:"uint256",name:"_threshold",type:"uint256"},{internalType:"address",name:"to",type:"address"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"address",name:"fallbackHandler",type:"address"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint256",name:"payment",type:"uint256"},{internalType:"address payable",name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes32",name:"",type:"bytes32"}],name:"signedMessages",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulateAndRevert",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"prevOwner",type:"address"},{internalType:"address",name:"oldOwner",type:"address"},{internalType:"address",name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],stateMutability:"nonpayable",type:"function"},{stateMutability:"payable",type:"receive"}]},oF={abi:[{constant:!1,inputs:[{name:"_mastercopy",type:"address"},{name:"initializer",type:"bytes"},{name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyCreationCode",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"masterCopy",type:"address"},{name:"data",type:"bytes"}],name:"createProxy",outputs:[{name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyRuntimeCode",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"proxy",type:"address"}],name:"ProxyCreation",type:"event"}]},lF={abi:[{anonymous:!1,inputs:[{indexed:!1,internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],name:"ProxyCreation",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"masterCopy",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"createProxy",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyRuntimeCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"calculateCreateProxyWithNonceAddress",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"}]},cF={abi:[{anonymous:!1,inputs:[{indexed:!1,internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"},{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ProxyCreation",type:"event"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"calculateCreateProxyWithNonceAddress",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"singleton",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"createProxy",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"proxyRuntimeCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}]},gF={abi:[{anonymous:!1,inputs:[{indexed:!0,internalType:"contract SafeProxy",name:"proxy",type:"address"},{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ProxyCreation",type:"event"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createChainSpecificProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}]},dF={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"simulate",outputs:[{internalType:"uint256",name:"estimate",type:"uint256"},{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"}]},IF={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"simulate",outputs:[{internalType:"uint256",name:"estimate",type:"uint256"},{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"}]},uF={abi:[{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"createSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"getSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"isValidSignatureForSigner",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}]},CF={abi:[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"NotDelegateCalled",type:"error"},{inputs:[],name:"SIGNER_SLOT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getConfiguration",outputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}]},Yi=(t=>(t[t.Call=0]="Call",t[t.DelegateCall=1]="DelegateCall",t))(Yi||{}),un=(t=>(t.ETH_SIGN="eth_sign",t.ETH_SIGN_TYPED_DATA="eth_signTypedData",t.ETH_SIGN_TYPED_DATA_V3="eth_signTypedData_v3",t.ETH_SIGN_TYPED_DATA_V4="eth_signTypedData_v4",t.SAFE_SIGNATURE="safe_sign",t))(un||{});function xe(t,e,n){const a=t[e.name];if(typeof a=="function")return a;const s=t[n];return typeof s=="function"?s:r=>e(t,r)}function Bs(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new SF(t.type);return`${t.name}(${cA(t.inputs,{includeName:e})})`}function cA(t,{includeName:e=!1}={}){return t?t.map(n=>pF(n,{includeName:e})).join(e?", ":","):""}function pF(t,{includeName:e}){return t.type.startsWith("tuple")?`(${cA(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}function $a(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function xt(t){return $a(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const bV="2.30.6";let xd={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:n})=>e?`${t??"https://viem.sh"}${e}${n?`#${n}`:""}`:void 0,version:`viem@${bV}`},Ie=class o1 extends Error{constructor(e,n={}){var g;const a=(()=>{var c;return n.cause instanceof o1?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof o1&&n.cause.docsPath||n.docsPath,r=(g=xd.getDocsUrl)==null?void 0:g.call(xd,{...n,docsPath:s}),l=[e||"An error occurred.","",...n.metaMessages?[...n.metaMessages,""]:[],...r?[`Docs: ${r}`]:[],...a?[`Details: ${a}`]:[],...xd.version?[`Version: ${xd.version}`]:[]].join(`
`);super(l,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=a,this.docsPath=s,this.metaMessages=n.metaMessages,this.name=n.name??this.name,this.shortMessage=e,this.version=bV}walk(e){return hV(this,e)}};function hV(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?hV(t.cause,e):e?null:t}class mF extends Ie{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class uS extends Ie{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class fV extends Ie{constructor({data:e,params:n,size:a}){super([`Data size of ${a} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${cA(n,{includeName:!0})})`,`Data:   ${e} (${a} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=n,this.size=a}}class fu extends Ie{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class AF extends Ie{constructor({expectedLength:e,givenLength:n,type:a}){super([`ABI encoding array length mismatch for type ${a}.`,`Expected length: ${e}`,`Given length: ${n}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class yF extends Ie{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${xt(n)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class ZV extends Ie{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${n}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class bF extends Ie{constructor(e,{docsPath:n}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:n,name:"AbiErrorInputsNotFoundError"})}}class CS extends Ie{constructor(e,{docsPath:n}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:n,name:"AbiErrorNotFoundError"})}}class GV extends Ie{constructor(e,{docsPath:n}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class hF extends Ie{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class BV extends Ie{constructor(e,{docsPath:n}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiEventSignatureNotFoundError"})}}class pS extends Ie{constructor(e,{docsPath:n}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:n,name:"AbiEventNotFoundError"})}}class kg extends Ie{constructor(e,{docsPath:n}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionNotFoundError"})}}class SV extends Ie{constructor(e,{docsPath:n}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:n,name:"AbiFunctionOutputsNotFoundError"})}}class fF extends Ie{constructor(e,{docsPath:n}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:n,name:"AbiFunctionSignatureNotFoundError"})}}class ZF extends Ie{constructor(e,n){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${Bs(e.abiItem)}\`, and`,`\`${n.type}\` in \`${Bs(n.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let wV=class extends Ie{constructor({expectedSize:e,givenSize:n}){super(`Expected bytes${e}, got bytes${n}.`,{name:"BytesSizeMismatchError"})}};class ZI extends Ie{constructor({abiItem:e,data:n,params:a,size:s}){super([`Data size of ${s} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${cA(a,{includeName:!0})})`,`Data:   ${n} (${s} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=n,this.params=a,this.size=s}}class gA extends Ie{constructor({abiItem:e,param:n}){super([`Expected a topic for indexed event parameter${n.name?` "${n.name}"`:""} on event "${Bs(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class GF extends Ie{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiEncodingType"})}}class BF extends Ie{constructor(e,{docsPath:n}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:n,name:"InvalidAbiDecodingType"})}}let kV=class extends Ie{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class SF extends Ie{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class wF extends Ie{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}class kF extends Ie{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}let VV=class extends Ie{constructor({offset:e,position:n,size:a}){super(`Slice ${n==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${a}).`,{name:"SliceOffsetOutOfBoundsError"})}},RV=class extends Ie{constructor({size:e,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (${e}) exceeds padding size (${n}).`,{name:"SizeExceedsPaddingSizeError"})}};class mS extends Ie{constructor({size:e,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} is expected to be ${n} ${a} long, but is ${e} ${a} long.`,{name:"InvalidBytesLengthError"})}}function _a(t,{dir:e,size:n=32}={}){return typeof t=="string"?Dr(t,{dir:e,size:n}):VF(t,{dir:e,size:n})}function Dr(t,{dir:e,size:n=32}={}){if(n===null)return t;const a=t.replace("0x","");if(a.length>n*2)throw new RV({size:Math.ceil(a.length/2),targetSize:n,type:"hex"});return`0x${a[e==="right"?"padEnd":"padStart"](n*2,"0")}`}function VF(t,{dir:e,size:n=32}={}){if(n===null)return t;if(t.length>n)throw new RV({size:t.length,targetSize:n,type:"bytes"});const a=new Uint8Array(n);for(let s=0;s<n;s++){const r=e==="right";a[r?s:n-s-1]=t[r?s:t.length-s-1]}return a}let WV=class extends Ie{constructor({max:e,min:n,signed:a,size:s,value:r}){super(`Number "${r}" is not in safe ${s?`${s*8}-bit ${a?"signed":"unsigned"} `:""}integer range ${e?`(${n} to ${e})`:`(above ${n})`}`,{name:"IntegerOutOfRangeError"})}};class RF extends Ie{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}}class WF extends Ie{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let vF=class extends Ie{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed ${n} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Qn(t,{dir:e="left"}={}){let n=typeof t=="string"?t.replace("0x",""):t,a=0;for(let s=0;s<n.length-1&&n[e==="left"?s:n.length-s-1].toString()==="0";s++)a++;return n=e==="left"?n.slice(a):n.slice(0,n.length-a),typeof t=="string"?(n.length===1&&e==="right"&&(n=`${n}0`),`0x${n.length%2===1?`0${n}`:n}`):n}function es(t,{size:e}){if(xt(t)>e)throw new vF({givenSize:xt(t),maxSize:e})}function AS(t,e){const n={to:e},a=n.to;return a==="number"?ua(t,n):a==="bigint"?at(t,n):a==="string"?EF(t,n):a==="boolean"?vV(t,n):Sn(t,n)}function at(t,e={}){const{signed:n}=e;e.size&&es(t,{size:e.size});const a=BigInt(t);if(!n)return a;const s=(t.length-2)/2,r=(1n<<BigInt(s)*8n-1n)-1n;return a<=r?a:a-BigInt(`0x${"f".padStart(s*2,"f")}`)-1n}function vV(t,e={}){let n=t;if(e.size&&(es(n,{size:e.size}),n=Qn(n)),Qn(n)==="0x00")return!1;if(Qn(n)==="0x01")return!0;throw new WF(n)}function ua(t,e={}){return Number(at(t,e))}function EF(t,e={}){let n=Sn(t);return e.size&&(es(n,{size:e.size}),n=Qn(n,{dir:"right"})),new TextDecoder().decode(n)}const XF=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ge(t,e={}){return typeof t=="number"||typeof t=="bigint"?Ee(t,e):typeof t=="string"?bl(t,e):typeof t=="boolean"?Gf(t,e):Kt(t,e)}function Gf(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(es(n,{size:e.size}),_a(n,{size:e.size})):n}function Kt(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=XF[t[s]];const a=`0x${n}`;return typeof e.size=="number"?(es(a,{size:e.size}),_a(a,{dir:"right",size:e.size})):a}function Ee(t,e={}){const{signed:n,size:a}=e,s=BigInt(t);let r;a?n?r=(1n<<BigInt(a)*8n-1n)-1n:r=2n**(BigInt(a)*8n)-1n:typeof t=="number"&&(r=BigInt(Number.MAX_SAFE_INTEGER));const l=typeof r=="bigint"&&n?-r-1n:0;if(r&&s>r||s<l){const c=typeof t=="bigint"?"n":"";throw new WV({max:r?`${r}${c}`:void 0,min:`${l}${c}`,signed:n,size:a,value:`${t}${c}`})}const g=`0x${(n&&s<0?(1n<<BigInt(a*8))+BigInt(s):s).toString(16)}`;return a?_a(g,{size:a}):g}const JF=new TextEncoder;function bl(t,e={}){const n=JF.encode(t);return Kt(n,e)}const xF=new TextEncoder;function An(t,e={}){return typeof t=="number"||typeof t=="bigint"?HF(t,e):typeof t=="boolean"?NF(t,e):$a(t)?Sn(t,e):Lr(t,e)}function NF(t,e={}){const n=new Uint8Array(1);return n[0]=Number(t),typeof e.size=="number"?(es(n,{size:e.size}),_a(n,{size:e.size})):n}const di={zero:48,nine:57,A:65,F:70,a:97,f:102};function yS(t){if(t>=di.zero&&t<=di.nine)return t-di.zero;if(t>=di.A&&t<=di.F)return t-(di.A-10);if(t>=di.a&&t<=di.f)return t-(di.a-10)}function Sn(t,e={}){let n=t;e.size&&(es(n,{size:e.size}),n=_a(n,{dir:"right",size:e.size}));let a=n.slice(2);a.length%2&&(a=`0${a}`);const s=a.length/2,r=new Uint8Array(s);for(let l=0,g=0;l<s;l++){const c=yS(a.charCodeAt(g++)),u=yS(a.charCodeAt(g++));if(c===void 0||u===void 0)throw new Ie(`Invalid byte sequence ("${a[g-2]}${a[g-1]}" in "${a}").`);r[l]=c*16+u}return r}function HF(t,e){const n=Ee(t,e);return Sn(n)}function Lr(t,e={}){const n=xF.encode(t);return typeof e.size=="number"?(es(n,{size:e.size}),_a(n,{dir:"right",size:e.size})):n}const np=BigInt(2**32-1),bS=BigInt(32);function TF(t,e=!1){return e?{h:Number(t&np),l:Number(t>>bS&np)}:{h:Number(t>>bS&np)|0,l:Number(t&np)|0}}function YF(t,e=!1){const n=t.length;let a=new Uint32Array(n),s=new Uint32Array(n);for(let r=0;r<n;r++){const{h:l,l:g}=TF(t[r],e);[a[r],s[r]]=[l,g]}return[a,s]}const FF=(t,e,n)=>t<<n|e>>>32-n,KF=(t,e,n)=>e<<n|t>>>32-n,MF=(t,e,n)=>e<<n-32|t>>>64-n,UF=(t,e,n)=>t<<n-32|e>>>64-n,ic=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function DF(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function GI(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function hl(t,...e){if(!DF(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function LF(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");GI(t.outputLen),GI(t.blockLen)}function Vg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function EV(t,e){hl(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function zF(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Rg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function O0(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Xs(t,e){return t<<32-e|t>>>e}const QF=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function PF(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function OF(t){for(let e=0;e<t.length;e++)t[e]=PF(t[e]);return t}const hS=QF?t=>t:OF;function jF(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function dA(t){return typeof t=="string"&&(t=jF(t)),hl(t),t}function _F(...t){let e=0;for(let a=0;a<t.length;a++){const s=t[a];hl(s),e+=s.length}const n=new Uint8Array(e);for(let a=0,s=0;a<t.length;a++){const r=t[a];n.set(r,s),s+=r.length}return n}let Bf=class{};function XV(t){const e=a=>t().update(dA(a)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}function $F(t=32){if(ic&&typeof ic.getRandomValues=="function")return ic.getRandomValues(new Uint8Array(t));if(ic&&typeof ic.randomBytes=="function")return Uint8Array.from(ic.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const qF=BigInt(0),Nd=BigInt(1),e4=BigInt(2),t4=BigInt(7),n4=BigInt(256),a4=BigInt(113),JV=[],xV=[],NV=[];for(let t=0,e=Nd,n=1,a=0;t<24;t++){[n,a]=[a,(2*n+3*a)%5],JV.push(2*(5*a+n)),xV.push((t+1)*(t+2)/2%64);let s=qF;for(let r=0;r<7;r++)e=(e<<Nd^(e>>t4)*a4)%n4,e&e4&&(s^=Nd<<(Nd<<BigInt(r))-Nd);NV.push(s)}const HV=YF(NV,!0),s4=HV[0],i4=HV[1],fS=(t,e,n)=>n>32?MF(t,e,n):FF(t,e,n),ZS=(t,e,n)=>n>32?UF(t,e,n):KF(t,e,n);function r4(t,e=24){const n=new Uint32Array(10);for(let a=24-e;a<24;a++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const g=(l+8)%10,c=(l+2)%10,u=n[c],d=n[c+1],p=fS(u,d,1)^n[g],A=ZS(u,d,1)^n[g+1];for(let G=0;G<50;G+=10)t[l+G]^=p,t[l+G+1]^=A}let s=t[2],r=t[3];for(let l=0;l<24;l++){const g=xV[l],c=fS(s,r,g),u=ZS(s,r,g),d=JV[l];s=t[d],r=t[d+1],t[d]=c,t[d+1]=u}for(let l=0;l<50;l+=10){for(let g=0;g<10;g++)n[g]=t[l+g];for(let g=0;g<10;g++)t[l+g]^=~n[(g+2)%10]&n[(g+4)%10]}t[0]^=s4[a],t[1]^=i4[a]}Rg(n)}let o4=class TV extends Bf{constructor(e,n,a,s=!1,r=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=a,this.enableXOF=s,this.rounds=r,GI(a),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=zF(this.state)}clone(){return this._cloneInto()}keccak(){hS(this.state32),r4(this.state32,this.rounds),hS(this.state32),this.posOut=0,this.pos=0}update(e){Vg(this),e=dA(e),hl(e);const{blockLen:n,state:a}=this,s=e.length;for(let r=0;r<s;){const l=Math.min(n-this.pos,s-r);for(let g=0;g<l;g++)a[this.pos++]^=e[r++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:a,blockLen:s}=this;e[a]^=n,(n&128)!==0&&a===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){Vg(this,!1),hl(e),this.finish();const n=this.state,{blockLen:a}=this;for(let s=0,r=e.length;s<r;){this.posOut>=a&&this.keccak();const l=Math.min(a-this.posOut,r-s);e.set(n.subarray(this.posOut,this.posOut+l),s),this.posOut+=l,s+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return GI(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(EV(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Rg(this.state)}_cloneInto(e){const{blockLen:n,suffix:a,outputLen:s,rounds:r,enableXOF:l}=this;return e||(e=new TV(n,a,s,l,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=a,e.outputLen=s,e.enableXOF=l,e.destroyed=this.destroyed,e}};const l4=(t,e,n)=>XV(()=>new o4(e,t,n)),c4=l4(1,136,256/8);function rt(t,e){const n=e||"hex",a=c4($a(t,{strict:!1})?An(t):t);return n==="bytes"?a:Ge(a)}const g4=t=>rt(An(t));function d4(t){return g4(t)}function I4(t){let e=!0,n="",a=0,s="",r=!1;for(let l=0;l<t.length;l++){const g=t[l];if(["(",")",","].includes(g)&&(e=!0),g==="("&&a++,g===")"&&a--,!!e){if(a===0){if(g===" "&&["event","function",""].includes(s))s="";else if(s+=g,g===")"){r=!0;break}continue}if(g===" "){t[l-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=g,n+=g}}if(!r)throw new Ie("Unable to normalize signature.");return s}const u4=t=>{const e=typeof t=="string"?t:Am(t);return I4(e)};function YV(t){return d4(u4(t))}const IA=YV;let Ft=class extends Ie{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}},uA=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const a=this.keys().next().value;a&&this.delete(a)}return this}};const j0=new uA(8192);function Zu(t,e){if(j0.has(`${t}.${e}`))return j0.get(`${t}.${e}`);const n=t.substring(2).toLowerCase(),a=rt(Lr(n),"bytes"),s=n.split("");for(let l=0;l<40;l+=2)a[l>>1]>>4>=8&&s[l]&&(s[l]=s[l].toUpperCase()),(a[l>>1]&15)>=8&&s[l+1]&&(s[l+1]=s[l+1].toUpperCase());const r=`0x${s.join("")}`;return j0.set(`${t}.${e}`,r),r}function Wg(t,e){if(!ut(t,{strict:!1}))throw new Ft({address:t});return Zu(t,e)}const C4=/^0x[a-fA-F0-9]{40}$/,_0=new uA(8192);function ut(t,e){const{strict:n=!0}=e??{},a=`${t}.${n}`;if(_0.has(a))return _0.get(a);const s=C4.test(t)?t.toLowerCase()===t?!0:n?Zu(t)===t:!0:!1;return _0.set(a,s),s}function On(t){return typeof t[0]=="string"?jn(t):p4(t)}function p4(t){let e=0;for(const s of t)e+=s.length;const n=new Uint8Array(e);let a=0;for(const s of t)n.set(s,a),a+=s.length;return n}function jn(t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function jr(t,e,n,{strict:a}={}){return $a(t,{strict:!1})?ym(t,e,n,{strict:a}):MV(t,e,n,{strict:a})}function FV(t,e){if(typeof e=="number"&&e>0&&e>xt(t)-1)throw new VV({offset:e,position:"start",size:xt(t)})}function KV(t,e,n){if(typeof e=="number"&&typeof n=="number"&&xt(t)!==n-e)throw new VV({offset:n,position:"end",size:xt(t)})}function MV(t,e,n,{strict:a}={}){FV(t,e);const s=t.slice(e,n);return a&&KV(s,e,n),s}function ym(t,e,n,{strict:a}={}){FV(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return a&&KV(s,e,n),s}const m4=/^(.*)\[([0-9]*)\]$/,UV=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Sf=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function ts(t,e){if(t.length!==e.length)throw new ZV({expectedLength:t.length,givenLength:e.length});const n=A4({params:t,values:e}),a=kf(n);return a.length===0?"0x":a}function A4({params:t,values:e}){const n=[];for(let a=0;a<t.length;a++)n.push(wf({param:t[a],value:e[a]}));return n}function wf({param:t,value:e}){const n=Vf(t.type);if(n){const[a,s]=n;return b4(e,{length:a,param:{...t,type:s}})}if(t.type==="tuple")return B4(e,{param:t});if(t.type==="address")return y4(e);if(t.type==="bool")return f4(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const a=t.type.startsWith("int"),[,,s="256"]=Sf.exec(t.type)??[];return Z4(e,{signed:a,size:Number(s)})}if(t.type.startsWith("bytes"))return h4(e,{param:t});if(t.type==="string")return G4(e);throw new GF(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function kf(t){let e=0;for(let r=0;r<t.length;r++){const{dynamic:l,encoded:g}=t[r];l?e+=32:e+=xt(g)}const n=[],a=[];let s=0;for(let r=0;r<t.length;r++){const{dynamic:l,encoded:g}=t[r];l?(n.push(Ee(e+s,{size:32})),a.push(g),s+=xt(g)):n.push(g)}return On([...n,...a])}function y4(t){if(!ut(t))throw new Ft({address:t});return{dynamic:!1,encoded:Dr(t.toLowerCase())}}function b4(t,{length:e,param:n}){const a=e===null;if(!Array.isArray(t))throw new kV(t);if(!a&&t.length!==e)throw new AF({expectedLength:e,givenLength:t.length,type:`${n.type}[${e}]`});let s=!1;const r=[];for(let l=0;l<t.length;l++){const g=wf({param:n,value:t[l]});g.dynamic&&(s=!0),r.push(g)}if(a||s){const l=kf(r);if(a){const g=Ee(r.length,{size:32});return{dynamic:!0,encoded:r.length>0?On([g,l]):g}}if(s)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:On(r.map(({encoded:l})=>l))}}function h4(t,{param:e}){const[,n]=e.type.split("bytes"),a=xt(t);if(!n){let s=t;return a%32!==0&&(s=Dr(s,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:On([Dr(Ee(a,{size:32})),s])}}if(a!==Number.parseInt(n))throw new yF({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Dr(t,{dir:"right"})}}function f4(t){if(typeof t!="boolean")throw new Ie(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Dr(Gf(t))}}function Z4(t,{signed:e,size:n=256}){if(typeof n=="number"){const a=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-a-1n:0n;if(t>a||t<s)throw new WV({max:a.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Ee(t,{size:32,signed:e})}}function G4(t){const e=bl(t),n=Math.ceil(xt(e)/32),a=[];for(let s=0;s<n;s++)a.push(Dr(jr(e,s*32,(s+1)*32),{dir:"right"}));return{dynamic:!0,encoded:On([Dr(Ee(xt(e),{size:32})),...a])}}function B4(t,{param:e}){let n=!1;const a=[];for(let s=0;s<e.components.length;s++){const r=e.components[s],l=Array.isArray(t)?s:r.name,g=wf({param:r,value:t[l]});a.push(g),g.dynamic&&(n=!0)}return{dynamic:n,encoded:n?kf(a):On(a.map(({encoded:s})=>s))}}function Vf(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}const Gu=t=>jr(YV(t),0,4);function Vl(t){const{abi:e,args:n=[],name:a}=t,s=$a(a,{strict:!1}),r=e.filter(g=>s?g.type==="function"?Gu(g)===a:g.type==="event"?IA(g)===a:!1:"name"in g&&g.name===a);if(r.length===0)return;if(r.length===1)return r[0];let l;for(const g of r){if(!("inputs"in g))continue;if(!n||n.length===0){if(!g.inputs||g.inputs.length===0)return g;continue}if(!g.inputs||g.inputs.length===0||g.inputs.length!==n.length)continue;if(n.every((u,d)=>{const p="inputs"in g&&g.inputs[d];return p?l1(u,p):!1})){if(l&&"inputs"in l&&l.inputs){const u=DV(g.inputs,l.inputs,n);if(u)throw new ZF({abiItem:g,type:u[0]},{abiItem:l,type:u[1]})}l=g}}return l||r[0]}function l1(t,e){const n=typeof t,a=e.type;switch(a){case"address":return ut(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return a==="tuple"&&"components"in e?Object.values(e.components).every((s,r)=>l1(Object.values(t)[r],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a)?Array.isArray(t)&&t.every(s=>l1(s,{...e,type:a.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function DV(t,e,n){for(const a in t){const s=t[a],r=e[a];if(s.type==="tuple"&&r.type==="tuple"&&"components"in s&&"components"in r)return DV(s.components,r.components,n[a]);const l=[s.type,r.type];if(l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?ut(n[a],{strict:!1}):l.includes("address")&&l.includes("bytes")?ut(n[a],{strict:!1}):!1)return l}}const GS="/docs/contract/encodeEventTopics";function Bu(t){var c;const{abi:e,eventName:n,args:a}=t;let s=e[0];if(n){const u=Vl({abi:e,name:n});if(!u)throw new pS(n,{docsPath:GS});s=u}if(s.type!=="event")throw new pS(void 0,{docsPath:GS});const r=Bs(s),l=IA(r);let g=[];if(a&&"inputs"in s){const u=(c=s.inputs)==null?void 0:c.filter(p=>"indexed"in p&&p.indexed),d=Array.isArray(a)?a:Object.values(a).length>0?(u==null?void 0:u.map(p=>a[p.name]))??[]:[];d.length>0&&(g=(u==null?void 0:u.map((p,A)=>Array.isArray(d[A])?d[A].map((G,w)=>BS({param:p,value:d[A][w]})):typeof d[A]<"u"&&d[A]!==null?BS({param:p,value:d[A]}):null))??[])}return[l,...g]}function BS({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return rt(An(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new kF(t.type);return ts([t],[e])}function CA(t,{method:e}){var a,s;const n={};return t.transport.type==="fallback"&&((s=(a=t.transport).onResponse)==null||s.call(a,({method:r,response:l,status:g,transport:c})=>{g==="success"&&e===r&&(n[l]=c.request)})),r=>n[r]||t.request}async function LV(t,e){const{address:n,abi:a,args:s,eventName:r,fromBlock:l,strict:g,toBlock:c}=e,u=CA(t,{method:"eth_newFilter"}),d=r?Bu({abi:a,args:s,eventName:r}):void 0,p=await t.request({method:"eth_newFilter",params:[{address:n,fromBlock:typeof l=="bigint"?Ee(l):l,toBlock:typeof c=="bigint"?Ee(c):c,topics:d}]});return{abi:a,args:s,eventName:r,id:p,request:u(p),strict:!!g,type:"event"}}function Mt(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const SS="/docs/contract/encodeFunctionData";function S4(t){const{abi:e,args:n,functionName:a}=t;let s=e[0];if(a){const r=Vl({abi:e,args:n,name:a});if(!r)throw new kg(a,{docsPath:SS});s=r}if(s.type!=="function")throw new kg(void 0,{docsPath:SS});return{abi:[s],functionName:Gu(Bs(s))}}function ma(t){const{args:e}=t,{abi:n,functionName:a}=(()=>{var g;return t.abi.length===1&&((g=t.functionName)!=null&&g.startsWith("0x"))?t:S4(t)})(),s=n[0],r=a,l="inputs"in s&&s.inputs?ts(s.inputs,e??[]):void 0;return jn([r,l??"0x"])}const zV={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},QV={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},w4={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"};class wS extends Ie{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}}class PV extends Ie{constructor({length:e,position:n}){super(`Position \`${n}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}}class k4 extends Ie{constructor({count:e,limit:n}){super(`Recursive read limit of \`${n}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}}const V4={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new k4({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new PV({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new wS({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new wS({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const n=e??this.position;return this.assertPosition(n+t-1),this.bytes.subarray(n,n+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const n=this.inspectBytes(t);return this.position+=e??t,n},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function Rf(t,{recursiveReadLimit:e=8192}={}){const n=Object.create(V4);return n.bytes=t,n.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),n.positionReadCount=new Map,n.recursiveReadLimit=e,n}function R4(t,e){const n={to:e},a=n.to;return a==="number"?js(t,n):a==="bigint"?OV(t,n):a==="boolean"?jV(t,n):a==="string"?_V(t,n):Kt(t,n)}function OV(t,e={}){typeof e.size<"u"&&es(t,{size:e.size});const n=Kt(t,e);return at(n,e)}function jV(t,e={}){let n=t;if(typeof e.size<"u"&&(es(n,{size:e.size}),n=Qn(n)),n.length>1||n[0]>1)throw new RF(n);return!!n[0]}function js(t,e={}){typeof e.size<"u"&&es(t,{size:e.size});const n=Kt(t,e);return ua(n,e)}function _V(t,e={}){let n=t;return typeof e.size<"u"&&(es(n,{size:e.size}),n=Qn(n,{dir:"right"})),new TextDecoder().decode(n)}function Hg(t,e){const n=typeof e=="string"?Sn(e):e,a=Rf(n);if(xt(n)===0&&t.length>0)throw new fu;if(xt(e)&&xt(e)<32)throw new fV({data:typeof e=="string"?e:Kt(e),params:t,size:xt(e)});let s=0;const r=[];for(let l=0;l<t.length;++l){const g=t[l];a.setPosition(s);const[c,u]=Sc(a,g,{staticPosition:0});s+=u,r.push(c)}return r}function Sc(t,e,{staticPosition:n}){const a=Vf(e.type);if(a){const[s,r]=a;return v4(t,{...e,type:r},{length:s,staticPosition:n})}if(e.type==="tuple")return x4(t,e,{staticPosition:n});if(e.type==="address")return W4(t);if(e.type==="bool")return E4(t);if(e.type.startsWith("bytes"))return X4(t,e,{staticPosition:n});if(e.type.startsWith("uint")||e.type.startsWith("int"))return J4(t,e);if(e.type==="string")return N4(t,{staticPosition:n});throw new BF(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const kS=32,c1=32;function W4(t){const e=t.readBytes(32);return[Zu(Kt(MV(e,-20))),32]}function v4(t,e,{length:n,staticPosition:a}){if(!n){const l=js(t.readBytes(c1)),g=a+l,c=g+kS;t.setPosition(g);const u=js(t.readBytes(kS)),d=BI(e);let p=0;const A=[];for(let G=0;G<u;++G){t.setPosition(c+(d?G*32:p));const[w,Z]=Sc(t,e,{staticPosition:c});p+=Z,A.push(w)}return t.setPosition(a+32),[A,32]}if(BI(e)){const l=js(t.readBytes(c1)),g=a+l,c=[];for(let u=0;u<n;++u){t.setPosition(g+u*32);const[d]=Sc(t,e,{staticPosition:g});c.push(d)}return t.setPosition(a+32),[c,32]}let s=0;const r=[];for(let l=0;l<n;++l){const[g,c]=Sc(t,e,{staticPosition:a+s});s+=c,r.push(g)}return[r,s]}function E4(t){return[jV(t.readBytes(32),{size:32}),32]}function X4(t,e,{staticPosition:n}){const[a,s]=e.type.split("bytes");if(!s){const l=js(t.readBytes(32));t.setPosition(n+l);const g=js(t.readBytes(32));if(g===0)return t.setPosition(n+32),["0x",32];const c=t.readBytes(g);return t.setPosition(n+32),[Kt(c),32]}return[Kt(t.readBytes(Number.parseInt(s),32)),32]}function J4(t,e){const n=e.type.startsWith("int"),a=Number.parseInt(e.type.split("int")[1]||"256"),s=t.readBytes(32);return[a>48?OV(s,{signed:n}):js(s,{signed:n}),32]}function x4(t,e,{staticPosition:n}){const a=e.components.length===0||e.components.some(({name:l})=>!l),s=a?[]:{};let r=0;if(BI(e)){const l=js(t.readBytes(c1)),g=n+l;for(let c=0;c<e.components.length;++c){const u=e.components[c];t.setPosition(g+r);const[d,p]=Sc(t,u,{staticPosition:g});r+=p,s[a?c:u==null?void 0:u.name]=d}return t.setPosition(n+32),[s,32]}for(let l=0;l<e.components.length;++l){const g=e.components[l],[c,u]=Sc(t,g,{staticPosition:n});s[a?l:g==null?void 0:g.name]=c,r+=u}return[s,r]}function N4(t,{staticPosition:e}){const n=js(t.readBytes(32)),a=e+n;t.setPosition(a);const s=js(t.readBytes(32));if(s===0)return t.setPosition(e+32),["",32];const r=t.readBytes(s,32),l=_V(Qn(r));return t.setPosition(e+32),[l,32]}function BI(t){var a;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(a=t.components)==null?void 0:a.some(BI);const n=Vf(t.type);return!!(n&&BI({...t,type:n[1]}))}function H4(t){const{abi:e,data:n}=t,a=jr(n,0,4);if(a==="0x")throw new fu;const r=[...e||[],QV,w4].find(l=>l.type==="error"&&a===Gu(Bs(l)));if(!r)throw new GV(a,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:r,args:"inputs"in r&&r.inputs&&r.inputs.length>0?Hg(r.inputs,jr(n,4)):void 0,errorName:r.name}}const on=(t,e,n)=>JSON.stringify(t,(a,s)=>typeof s=="bigint"?s.toString():s,n);function $V({abiItem:t,args:e,includeFunctionName:n=!0,includeName:a=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${n?t.name:""}(${t.inputs.map((s,r)=>`${a&&s.name?`${s.name}: `:""}${typeof e[r]=="object"?on(e[r]):e[r]}`).join(", ")})`}const qV={gwei:9,wei:18},T4={ether:-9,wei:9};function eR(t,e){let n=t.toString();const a=n.startsWith("-");a&&(n=n.slice(1)),n=n.padStart(e,"0");let[s,r]=[n.slice(0,n.length-e),n.slice(n.length-e)];return r=r.replace(/(0+)$/,""),`${a?"-":""}${s||"0"}${r?`.${r}`:""}`}function Wf(t,e="wei"){return eR(t,qV[e])}function da(t,e="wei"){return eR(t,T4[e])}class Y4 extends Ie{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class F4 extends Ie{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function VS(t){return t.reduce((e,{slot:n,value:a})=>`${e}        ${n}: ${a}
`,"")}function K4(t){return t.reduce((e,{address:n,...a})=>{let s=`${e}    ${n}:
`;return a.nonce&&(s+=`      nonce: ${a.nonce}
`),a.balance&&(s+=`      balance: ${a.balance}
`),a.code&&(s+=`      code: ${a.code}
`),a.state&&(s+=`      state:
`,s+=VS(a.state)),a.stateDiff&&(s+=`      stateDiff:
`,s+=VS(a.stateDiff)),s},`  State Override:
`).slice(0,-1)}function Su(t){const e=Object.entries(t).map(([a,s])=>s===void 0||s===!1?null:[a,s]).filter(Boolean),n=e.reduce((a,[s])=>Math.max(a,s.length),0);return e.map(([a,s])=>`  ${`${a}:`.padEnd(n+1)}  ${s}`).join(`
`)}class M4 extends Ie{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class U4 extends Ie{constructor({v:e}){super(`Invalid \`v\` value "${e}". Expected 27 or 28.`,{name:"InvalidLegacyVError"})}}class D4 extends Ie{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",Su(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class L4 extends Ie{constructor({storageKey:e}){super(`Size for storage key "${e}" is invalid. Expected 32 bytes. Got ${Math.floor((e.length-2)/2)} bytes.`,{name:"InvalidStorageKeySizeError"})}}class z4 extends Ie{constructor(e,{account:n,docsPath:a,chain:s,data:r,gas:l,gasPrice:g,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:p,value:A}){var w;const G=Su({chain:s&&`${s==null?void 0:s.name} (id: ${s==null?void 0:s.id})`,from:n==null?void 0:n.address,to:p,value:typeof A<"u"&&`${Wf(A)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:r,gas:l,gasPrice:typeof g<"u"&&`${da(g)} gwei`,maxFeePerGas:typeof c<"u"&&`${da(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${da(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",G].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class tR extends Ie{constructor({blockHash:e,blockNumber:n,blockTag:a,hash:s,index:r}){let l="Transaction";a&&r!==void 0&&(l=`Transaction at block time "${a}" at index "${r}"`),e&&r!==void 0&&(l=`Transaction at block hash "${e}" at index "${r}"`),n&&r!==void 0&&(l=`Transaction at block number "${n}" at index "${r}"`),s&&(l=`Transaction with hash "${s}"`),super(`${l} could not be found.`,{name:"TransactionNotFoundError"})}}class nR extends Ie{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Q4 extends Ie{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}const P4=t=>t,vf=t=>t;class aR extends Ie{constructor(e,{account:n,docsPath:a,chain:s,data:r,gas:l,gasPrice:g,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:p,value:A,stateOverride:G}){var V;const w=n?Mt(n):void 0;let Z=Su({from:w==null?void 0:w.address,to:p,value:typeof A<"u"&&`${Wf(A)} ${((V=s==null?void 0:s.nativeCurrency)==null?void 0:V.symbol)||"ETH"}`,data:r,gas:l,gasPrice:typeof g<"u"&&`${da(g)} gwei`,maxFeePerGas:typeof c<"u"&&`${da(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${da(u)} gwei`,nonce:d});G&&(Z+=`
${K4(G)}`),super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",Z].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class O4 extends Ie{constructor(e,{abi:n,args:a,contractAddress:s,docsPath:r,functionName:l,sender:g}){const c=Vl({abi:n,args:a,name:l}),u=c?$V({abiItem:c,args:a,includeFunctionName:!1,includeName:!1}):void 0,d=c?Bs(c,{includeName:!0}):void 0,p=Su({address:s&&P4(s),function:d,args:u&&u!=="()"&&`${[...Array((l==null?void 0:l.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:g});super(e.shortMessage||`An unknown error occurred while executing the contract function "${l}".`,{cause:e,docsPath:r,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],p&&"Contract Call:",p].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=n,this.args=a,this.cause=e,this.contractAddress=s,this.functionName=l,this.sender=g}}class g1 extends Ie{constructor({abi:e,data:n,functionName:a,message:s}){let r,l,g,c;if(n&&n!=="0x")try{l=H4({abi:e,data:n});const{abiItem:d,errorName:p,args:A}=l;if(p==="Error")c=A[0];else if(p==="Panic"){const[G]=A;c=zV[G]}else{const G=d?Bs(d,{includeName:!0}):void 0,w=d&&A?$V({abiItem:d,args:A,includeFunctionName:!1,includeName:!1}):void 0;g=[G?`Error: ${G}`:"",w&&w!=="()"?`       ${[...Array((p==null?void 0:p.length)??0).keys()].map(()=>" ").join("")}${w}`:""]}}catch(d){r=d}else s&&(c=s);let u;r instanceof GV&&(u=r.signature,g=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(c&&c!=="execution reverted"||u?[`The contract function "${a}" reverted with the following ${u?"signature":"reason"}:`,c||u].join(`
`):`The contract function "${a}" reverted.`,{cause:r,metaMessages:g,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=l,this.raw=n,this.reason=c,this.signature=u}}class j4 extends Ie{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class _4 extends Ie{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class pA extends Ie{constructor({data:e,message:n}){super(n||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}class lI extends Ie{constructor({body:e,cause:n,details:a,headers:s,status:r,url:l}){super("HTTP request failed.",{cause:n,details:a,metaMessages:[r&&`Status: ${r}`,`URL: ${vf(l)}`,e&&`Request body: ${on(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=s,this.status=r,this.url=l}}class Ef extends Ie{constructor({body:e,error:n,url:a}){super("RPC Request failed.",{cause:n,details:n.message,metaMessages:[`URL: ${vf(a)}`,`Request body: ${on(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=n.code,this.data=n.data}}class RS extends Ie{constructor({body:e,url:n}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${vf(n)}`,`Request body: ${on(e)}`],name:"TimeoutError"})}}const $4=-1;class Aa extends Ie{constructor(e,{code:n,docsPath:a,metaMessages:s,name:r,shortMessage:l}){super(l,{cause:e,docsPath:a,metaMessages:s||(e==null?void 0:e.metaMessages),name:r||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=r||e.name,this.code=e instanceof Ef?e.code:n??$4}}class Ea extends Aa{constructor(e,n){super(e,n),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=n.data}}class SI extends Aa{constructor(e){super(e,{code:SI.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(SI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class wI extends Aa{constructor(e){super(e,{code:wI.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(wI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class kI extends Aa{constructor(e,{method:n}={}){super(e,{code:kI.code,name:"MethodNotFoundRpcError",shortMessage:`The method${n?` "${n}"`:""} does not exist / is not available.`})}}Object.defineProperty(kI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class VI extends Aa{constructor(e){super(e,{code:VI.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(VI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class fl extends Aa{constructor(e){super(e,{code:fl.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(fl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Zl extends Aa{constructor(e){super(e,{code:Zl.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Zl,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class RI extends Aa{constructor(e){super(e,{code:RI.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(RI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class WI extends Aa{constructor(e){super(e,{code:WI.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(WI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class vI extends Aa{constructor(e){super(e,{code:vI.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(vI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class Jo extends Aa{constructor(e,{method:n}={}){super(e,{code:Jo.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${n?` "${n}"`:""} is not supported.`})}}Object.defineProperty(Jo,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class vg extends Aa{constructor(e){super(e,{code:vg.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(vg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class EI extends Aa{constructor(e){super(e,{code:EI.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(EI,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class wc extends Ea{constructor(e){super(e,{code:wc.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(wc,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class XI extends Ea{constructor(e){super(e,{code:XI.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(XI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class JI extends Ea{constructor(e,{method:n}={}){super(e,{code:JI.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${n?` " ${n}"`:""}.`})}}Object.defineProperty(JI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class xI extends Ea{constructor(e){super(e,{code:xI.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(xI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class NI extends Ea{constructor(e){super(e,{code:NI.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(NI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class HI extends Ea{constructor(e){super(e,{code:HI.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(HI,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class Eg extends Ea{constructor(e){super(e,{code:Eg.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(Eg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class TI extends Ea{constructor(e){super(e,{code:TI.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(TI,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class YI extends Ea{constructor(e){super(e,{code:YI.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(YI,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class FI extends Ea{constructor(e){super(e,{code:FI.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(FI,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class KI extends Ea{constructor(e){super(e,{code:KI.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(KI,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class MI extends Ea{constructor(e){super(e,{code:MI.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(MI,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class Xg extends Ea{constructor(e){super(e,{code:Xg.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(Xg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class q4 extends Aa{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const e8=3;function Gl(t,{abi:e,address:n,args:a,docsPath:s,functionName:r,sender:l}){const g=t instanceof pA?t:t instanceof Ie?t.walk(w=>"data"in w)||t.walk():{},{code:c,data:u,details:d,message:p,shortMessage:A}=g,G=t instanceof fu?new j4({functionName:r}):[e8,fl.code].includes(c)&&(u||d||p||A)?new g1({abi:e,data:typeof u=="object"?u.data:u,functionName:r,message:g instanceof Ef?d:A??p}):t;return new O4(G,{abi:e,args:a,contractAddress:n,docsPath:s,functionName:r,sender:l})}function sR(t){const e=rt(`0x${t.substring(4)}`).substring(26);return Zu(`0x${e}`)}async function t8({hash:t,signature:e}){const n=$a(t)?t:Ge(t),{secp256k1:a}=await fI(async()=>{const{secp256k1:l}=await Promise.resolve().then(()=>lM);return{secp256k1:l}},void 0);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:d,v:p,yParity:A}=e,G=Number(A??p),w=WS(G);return new a.Signature(at(u),at(d)).addRecoveryBit(w)}const l=$a(e)?e:Ge(e);if(xt(l)!==65)throw new Error("invalid signature length");const g=ua(`0x${l.slice(130)}`),c=WS(g);return a.Signature.fromCompact(l.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(n.substring(2)).toHex(!1)}`}function WS(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function Xf({hash:t,signature:e}){return sR(await t8({hash:t,signature:e}))}function $s(t,e="hex"){const n=iR(t),a=Rf(new Uint8Array(n.length));return n.encode(a),e==="hex"?Kt(a.bytes):a.bytes}function iR(t){return Array.isArray(t)?n8(t.map(e=>iR(e))):a8(t)}function n8(t){const e=t.reduce((s,r)=>s+r.length,0),n=rR(e);return{length:e<=55?1+e:1+n+e,encode(s){e<=55?s.pushByte(192+e):(s.pushByte(247+n),n===1?s.pushUint8(e):n===2?s.pushUint16(e):n===3?s.pushUint24(e):s.pushUint32(e));for(const{encode:r}of t)r(s)}}}function a8(t){const e=typeof t=="string"?Sn(t):t,n=rR(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+n+e.length,encode(s){e.length===1&&e[0]<128?s.pushBytes(e):e.length<=55?(s.pushByte(128+e.length),s.pushBytes(e)):(s.pushByte(183+n),n===1?s.pushUint8(e.length):n===2?s.pushUint16(e.length):n===3?s.pushUint24(e.length):s.pushUint32(e.length),s.pushBytes(e))}}}function rR(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new Ie("Length is too large.")}function oR(t){const{chainId:e,nonce:n,to:a}=t,s=t.contractAddress??t.address,r=rt(jn(["0x05",$s([e?Ee(e):"0x",s,n?Ee(n):"0x"])]));return a==="bytes"?Sn(r):r}async function lR(t){const{authorization:e,signature:n}=t;return Xf({hash:oR(e),signature:n??e})}class s8 extends Ie{constructor(e,{account:n,docsPath:a,chain:s,data:r,gas:l,gasPrice:g,maxFeePerGas:c,maxPriorityFeePerGas:u,nonce:d,to:p,value:A}){var w;const G=Su({from:n==null?void 0:n.address,to:p,value:typeof A<"u"&&`${Wf(A)} ${((w=s==null?void 0:s.nativeCurrency)==null?void 0:w.symbol)||"ETH"}`,data:r,gas:l,gasPrice:typeof g<"u"&&`${da(g)} gwei`,maxFeePerGas:typeof c<"u"&&`${da(c)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${da(u)} gwei`,nonce:d});super(e.shortMessage,{cause:e,docsPath:a,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",G].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class Ac extends Ie{constructor({cause:e,message:n}={}){var s;const a=(s=n==null?void 0:n.replace("execution reverted: ",""))==null?void 0:s.replace("execution reverted","");super(`Execution reverted ${a?`with reason: ${a}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(Ac,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(Ac,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class _r extends Ie{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${da(n)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(_r,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class d1 extends Ie{constructor({cause:e,maxFeePerGas:n}={}){super(`The fee cap (\`maxFeePerGas\`${n?` = ${da(n)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(d1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class I1 extends Ie{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(I1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class u1 extends Ie{constructor({cause:e,nonce:n}={}){super([`Nonce provided for the transaction ${n?`(${n}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(u1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class C1 extends Ie{constructor({cause:e,nonce:n}={}){super(`Nonce provided for the transaction ${n?`(${n}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(C1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class p1 extends Ie{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(p1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class m1 extends Ie{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(m1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class A1 extends Ie{constructor({cause:e,gas:n}={}){super(`The amount of gas ${n?`(${n}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(A1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class y1 extends Ie{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(y1,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class Jg extends Ie{constructor({cause:e,maxPriorityFeePerGas:n,maxFeePerGas:a}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${n?` = ${da(n)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${a?` = ${da(a)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(Jg,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class wu extends Ie{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function mA(t,e){const n=(t.details||"").toLowerCase(),a=t instanceof Ie?t.walk(s=>(s==null?void 0:s.code)===Ac.code):t;return a instanceof Ie?new Ac({cause:t,message:a.details}):Ac.nodeMessage.test(n)?new Ac({cause:t,message:t.details}):_r.nodeMessage.test(n)?new _r({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):d1.nodeMessage.test(n)?new d1({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):I1.nodeMessage.test(n)?new I1({cause:t,nonce:e==null?void 0:e.nonce}):u1.nodeMessage.test(n)?new u1({cause:t,nonce:e==null?void 0:e.nonce}):C1.nodeMessage.test(n)?new C1({cause:t,nonce:e==null?void 0:e.nonce}):p1.nodeMessage.test(n)?new p1({cause:t}):m1.nodeMessage.test(n)?new m1({cause:t,gas:e==null?void 0:e.gas}):A1.nodeMessage.test(n)?new A1({cause:t,gas:e==null?void 0:e.gas}):y1.nodeMessage.test(n)?new y1({cause:t}):Jg.nodeMessage.test(n)?new Jg({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new wu({cause:t})}function i8(t,{docsPath:e,...n}){const a=(()=>{const s=mA(t,n);return s instanceof wu?t:s})();return new s8(a,{docsPath:e,...n})}function ku(t,{format:e}){if(!e)return{};const n={};function a(r){const l=Object.keys(r);for(const g of l)g in t&&(n[g]=t[g]),r[g]&&typeof r[g]=="object"&&!Array.isArray(r[g])&&a(r[g])}const s=e(t||{});return a(s),n}function AA(t,e){return({exclude:n,format:a})=>({exclude:n,format:s=>{const r=e(s);if(n)for(const l of n)delete r[l];return{...r,...a(s)}},type:t})}const r8={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function eo(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=o8(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(n=>Kt(n)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=Ee(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=Ee(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=Ee(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=Ee(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=Ee(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=Ee(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=r8[t.type]),typeof t.value<"u"&&(e.value=Ee(t.value)),e}const cR=AA("transactionRequest",eo);function o8(t){return t.map(e=>({address:e.address,r:e.r?Ee(BigInt(e.r)):e.r,s:e.s?Ee(BigInt(e.s)):e.s,chainId:Ee(e.chainId),nonce:Ee(e.nonce),...typeof e.yParity<"u"?{yParity:Ee(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:Ee(e.v)}:{}}))}function vS(t){if(!(!t||t.length===0))return t.reduce((e,{slot:n,value:a})=>{if(n.length!==66)throw new mS({size:n.length,targetSize:66,type:"hex"});if(a.length!==66)throw new mS({size:a.length,targetSize:66,type:"hex"});return e[n]=a,e},{})}function l8(t){const{balance:e,nonce:n,state:a,stateDiff:s,code:r}=t,l={};if(r!==void 0&&(l.code=r),e!==void 0&&(l.balance=Ee(e)),n!==void 0&&(l.nonce=Ee(n)),a!==void 0&&(l.state=vS(a)),s!==void 0){if(l.state)throw new F4;l.stateDiff=vS(s)}return l}function Jf(t){if(!t)return;const e={};for(const{address:n,...a}of t){if(!ut(n,{strict:!1}))throw new Ft({address:n});if(e[n])throw new Y4({address:n});e[n]=l8(a)}return e}const c8=2n**16n-1n,Tg=2n**256n-1n;function to(t){const{account:e,gasPrice:n,maxFeePerGas:a,maxPriorityFeePerGas:s,to:r}=t,l=e?Mt(e):void 0;if(l&&!ut(l.address))throw new Ft({address:l.address});if(r&&!ut(r))throw new Ft({address:r});if(typeof n<"u"&&(typeof a<"u"||typeof s<"u"))throw new M4;if(a&&a>Tg)throw new _r({maxFeePerGas:a});if(s&&a&&s>a)throw new Jg({maxFeePerGas:a,maxPriorityFeePerGas:s})}class g8 extends Ie{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class xf extends Ie{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class d8 extends Ie{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${da(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class gR extends Ie{constructor({blockHash:e,blockNumber:n}){let a="Block";e&&(a=`Block at hash "${e}"`),n&&(a=`Block at number "${n}"`),super(`${a} could not be found.`,{name:"BlockNotFoundError"})}}const dR={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function Vu(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ua(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ua(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?dR[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=I8(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}const Nf=AA("transaction",Vu);function I8(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function Hf(t){const e=(t.transactions??[]).map(n=>typeof n=="string"?n:Vu(n));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}const Tf=AA("block",Hf);async function Ps(t,{blockHash:e,blockNumber:n,blockTag:a,includeTransactions:s}={}){var d,p,A;const r=a??"latest",l=s??!1,g=n!==void 0?Ee(n):void 0;let c=null;if(e?c=await t.request({method:"eth_getBlockByHash",params:[e,l]},{dedupe:!0}):c=await t.request({method:"eth_getBlockByNumber",params:[g||r,l]},{dedupe:!!g}),!c)throw new gR({blockHash:e,blockNumber:n});return(((A=(p=(d=t.chain)==null?void 0:d.formatters)==null?void 0:p.block)==null?void 0:A.format)||Hf)(c)}async function Yf(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function u8(t,e){return IR(t,e)}async function IR(t,e){var r,l;const{block:n,chain:a=t.chain,request:s}=e||{};try{const g=((r=a==null?void 0:a.fees)==null?void 0:r.maxPriorityFeePerGas)??((l=a==null?void 0:a.fees)==null?void 0:l.defaultPriorityFee);if(typeof g=="function"){const u=n||await xe(t,Ps,"getBlock")({}),d=await g({block:u,client:t,request:s});if(d===null)throw new Error;return d}if(typeof g<"u")return g;const c=await t.request({method:"eth_maxPriorityFeePerGas"});return at(c)}catch{const[g,c]=await Promise.all([n?Promise.resolve(n):xe(t,Ps,"getBlock")({}),xe(t,Yf,"getGasPrice")({})]);if(typeof g.baseFeePerGas!="bigint")throw new xf;const u=c-g.baseFeePerGas;return u<0n?0n:u}}async function C8(t,e){return b1(t,e)}async function b1(t,e){var A,G;const{block:n,chain:a=t.chain,request:s,type:r="eip1559"}=e||{},l=await(async()=>{var w,Z;return typeof((w=a==null?void 0:a.fees)==null?void 0:w.baseFeeMultiplier)=="function"?a.fees.baseFeeMultiplier({block:n,client:t,request:s}):((Z=a==null?void 0:a.fees)==null?void 0:Z.baseFeeMultiplier)??1.2})();if(l<1)throw new g8;const c=10**(((A=l.toString().split(".")[1])==null?void 0:A.length)??0),u=w=>w*BigInt(Math.ceil(l*c))/BigInt(c),d=n||await xe(t,Ps,"getBlock")({});if(typeof((G=a==null?void 0:a.fees)==null?void 0:G.estimateFeesPerGas)=="function"){const w=await a.fees.estimateFeesPerGas({block:n,client:t,multiply:u,request:s,type:r});if(w!==null)return w}if(r==="eip1559"){if(typeof d.baseFeePerGas!="bigint")throw new xf;const w=typeof(s==null?void 0:s.maxPriorityFeePerGas)=="bigint"?s.maxPriorityFeePerGas:await IR(t,{block:d,chain:a,request:s}),Z=u(d.baseFeePerGas);return{maxFeePerGas:(s==null?void 0:s.maxFeePerGas)??Z+w,maxPriorityFeePerGas:w}}return{gasPrice:(s==null?void 0:s.gasPrice)??u(await xe(t,Yf,"getGasPrice")({}))}}async function yA(t,{address:e,blockTag:n="latest",blockNumber:a}){const s=await t.request({method:"eth_getTransactionCount",params:[e,typeof a=="bigint"?Ee(a):n]},{dedupe:!!a});return ua(s)}function Ff(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),a=typeof t.blobs[0]=="string"?t.blobs.map(r=>Sn(r)):t.blobs,s=[];for(const r of a)s.push(Uint8Array.from(e.blobToKzgCommitment(r)));return n==="bytes"?s:s.map(r=>Kt(r))}function Kf(t){const{kzg:e}=t,n=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),a=typeof t.blobs[0]=="string"?t.blobs.map(l=>Sn(l)):t.blobs,s=typeof t.commitments[0]=="string"?t.commitments.map(l=>Sn(l)):t.commitments,r=[];for(let l=0;l<a.length;l++){const g=a[l],c=s[l];r.push(Uint8Array.from(e.computeBlobKzgProof(g,c)))}return n==="bytes"?r:r.map(l=>Kt(l))}function p8(t,e,n,a){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,n,a);const s=BigInt(32),r=BigInt(4294967295),l=Number(n>>s&r),g=Number(n&r),c=a?4:0,u=a?0:4;t.setUint32(e+c,l,a),t.setUint32(e+u,g,a)}function m8(t,e,n){return t&e^~t&n}function A8(t,e,n){return t&e^t&n^e&n}class y8 extends Bf{constructor(e,n,a,s){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=n,this.padOffset=a,this.isLE=s,this.buffer=new Uint8Array(e),this.view=O0(this.buffer)}update(e){Vg(this),e=dA(e),hl(e);const{view:n,buffer:a,blockLen:s}=this,r=e.length;for(let l=0;l<r;){const g=Math.min(s-this.pos,r-l);if(g===s){const c=O0(e);for(;s<=r-l;l+=s)this.process(c,l);continue}a.set(e.subarray(l,l+g),this.pos),this.pos+=g,l+=g,this.pos===s&&(this.process(n,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){Vg(this),EV(e,this),this.finished=!0;const{buffer:n,view:a,blockLen:s,isLE:r}=this;let{pos:l}=this;n[l++]=128,Rg(this.buffer.subarray(l)),this.padOffset>s-l&&(this.process(a,0),l=0);for(let p=l;p<s;p++)n[p]=0;p8(a,s-8,BigInt(this.length*8),r),this.process(a,0);const g=O0(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=c/4,d=this.get();if(u>d.length)throw new Error("_sha2: outputLen bigger than state");for(let p=0;p<u;p++)g.setUint32(4*p,d[p],r)}digest(){const{buffer:e,outputLen:n}=this;this.digestInto(e);const a=e.slice(0,n);return this.destroy(),a}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:n,buffer:a,length:s,finished:r,destroyed:l,pos:g}=this;return e.destroyed=l,e.finished=r,e.length=s,e.pos=g,s%n&&e.buffer.set(a),e}clone(){return this._cloneInto()}}const hr=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),b8=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),fr=new Uint32Array(64);class h8 extends y8{constructor(e=32){super(64,e,8,!1),this.A=hr[0]|0,this.B=hr[1]|0,this.C=hr[2]|0,this.D=hr[3]|0,this.E=hr[4]|0,this.F=hr[5]|0,this.G=hr[6]|0,this.H=hr[7]|0}get(){const{A:e,B:n,C:a,D:s,E:r,F:l,G:g,H:c}=this;return[e,n,a,s,r,l,g,c]}set(e,n,a,s,r,l,g,c){this.A=e|0,this.B=n|0,this.C=a|0,this.D=s|0,this.E=r|0,this.F=l|0,this.G=g|0,this.H=c|0}process(e,n){for(let p=0;p<16;p++,n+=4)fr[p]=e.getUint32(n,!1);for(let p=16;p<64;p++){const A=fr[p-15],G=fr[p-2],w=Xs(A,7)^Xs(A,18)^A>>>3,Z=Xs(G,17)^Xs(G,19)^G>>>10;fr[p]=Z+fr[p-7]+w+fr[p-16]|0}let{A:a,B:s,C:r,D:l,E:g,F:c,G:u,H:d}=this;for(let p=0;p<64;p++){const A=Xs(g,6)^Xs(g,11)^Xs(g,25),G=d+A+m8(g,c,u)+b8[p]+fr[p]|0,Z=(Xs(a,2)^Xs(a,13)^Xs(a,22))+A8(a,s,r)|0;d=u,u=c,c=g,g=l+G|0,l=r,r=s,s=a,a=G+Z|0}a=a+this.A|0,s=s+this.B|0,r=r+this.C|0,l=l+this.D|0,g=g+this.E|0,c=c+this.F|0,u=u+this.G|0,d=d+this.H|0,this.set(a,s,r,l,g,c,u,d)}roundClean(){Rg(fr)}destroy(){this.set(0,0,0,0,0,0,0,0),Rg(this.buffer)}}const uR=XV(()=>new h8),f8=uR;function CR(t,e){const n=e||"hex",a=f8($a(t,{strict:!1})?An(t):t);return n==="bytes"?a:Ge(a)}function Z8(t){const{commitment:e,version:n=1}=t,a=t.to??(typeof e=="string"?"hex":"bytes"),s=CR(e,"bytes");return s.set([n],0),a==="bytes"?s:Kt(s)}function pR(t){const{commitments:e,version:n}=t,a=t.to??(typeof e[0]=="string"?"hex":"bytes"),s=[];for(const r of e)s.push(Z8({commitment:r,to:a,version:n}));return s}const ES=6,mR=32,Mf=4096,AR=mR*Mf,XS=AR*ES-1-1*Mf*ES,yR=1;class G8 extends Ie{constructor({maxSize:e,size:n}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${n} bytes`],name:"BlobSizeTooLargeError"})}}class bR extends Ie{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}class B8 extends Ie{constructor({hash:e,size:n}){super(`Versioned hash "${e}" size is invalid.`,{metaMessages:["Expected: 32",`Received: ${n}`],name:"InvalidVersionedHashSizeError"})}}class S8 extends Ie{constructor({hash:e,version:n}){super(`Versioned hash "${e}" version is invalid.`,{metaMessages:[`Expected: ${yR}`,`Received: ${n}`],name:"InvalidVersionedHashVersionError"})}}function w8(t){const e=t.to??(typeof t.data=="string"?"hex":"bytes"),n=typeof t.data=="string"?Sn(t.data):t.data,a=xt(n);if(!a)throw new bR;if(a>XS)throw new G8({maxSize:XS,size:a});const s=[];let r=!0,l=0;for(;r;){const g=Rf(new Uint8Array(AR));let c=0;for(;c<Mf;){const u=n.slice(l,l+(mR-1));if(g.pushByte(0),g.pushBytes(u),u.length<31){g.pushByte(128),r=!1;break}c++,l+=31}s.push(g)}return e==="bytes"?s.map(g=>g.bytes):s.map(g=>Kt(g.bytes))}function hR(t){const{data:e,kzg:n,to:a}=t,s=t.blobs??w8({data:e,to:a}),r=t.commitments??Ff({blobs:s,kzg:n,to:a}),l=t.proofs??Kf({blobs:s,commitments:r,kzg:n,to:a}),g=[];for(let c=0;c<s.length;c++)g.push({blob:s[c],commitment:r[c],proof:l[c]});return g}function fR(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new D4({transaction:t})}async function Yg(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return ua(e)}const ZR=["blobVersionedHashes","chainId","fees","gas","nonce","type"],JS=new Map;async function bA(t,e){const{account:n=t.account,blobs:a,chain:s,gas:r,kzg:l,nonce:g,nonceManager:c,parameters:u=ZR,type:d}=e,p=n&&Mt(n),A={...e,...p?{from:p==null?void 0:p.address}:{}};let G;async function w(){return G||(G=await xe(t,Ps,"getBlock")({blockTag:"latest"}),G)}let Z;async function V(){return Z||(s?s.id:typeof e.chainId<"u"?e.chainId:(Z=await xe(t,Yg,"getChainId")({}),Z))}if(u.includes("nonce")&&typeof g>"u"&&p)if(c){const W=await V();A.nonce=await c.consume({address:p.address,chainId:W,client:t})}else A.nonce=await xe(t,yA,"getTransactionCount")({address:p.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&a&&l){const W=Ff({blobs:a,kzg:l});if(u.includes("blobVersionedHashes")){const D=pR({commitments:W,to:"hex"});A.blobVersionedHashes=D}if(u.includes("sidecars")){const D=Kf({blobs:a,commitments:W,kzg:l}),x=hR({blobs:a,commitments:W,proofs:D,to:"hex"});A.sidecars=x}}if(u.includes("chainId")&&(A.chainId=await V()),(u.includes("fees")||u.includes("type"))&&typeof d>"u")try{A.type=fR(A)}catch{let W=JS.get(t.uid);if(typeof W>"u"){const D=await w();W=typeof(D==null?void 0:D.baseFeePerGas)=="bigint",JS.set(t.uid,W)}A.type=W?"eip1559":"legacy"}if(u.includes("fees"))if(A.type!=="legacy"&&A.type!=="eip2930"){if(typeof A.maxFeePerGas>"u"||typeof A.maxPriorityFeePerGas>"u"){const W=await w(),{maxFeePerGas:D,maxPriorityFeePerGas:x}=await b1(t,{block:W,chain:s,request:A});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<x)throw new d8({maxPriorityFeePerGas:x});A.maxPriorityFeePerGas=x,A.maxFeePerGas=D}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new xf;if(typeof e.gasPrice>"u"){const W=await w(),{gasPrice:D}=await b1(t,{block:W,chain:s,request:A,type:"legacy"});A.gasPrice=D}}return u.includes("gas")&&typeof r>"u"&&(A.gas=await xe(t,hA,"estimateGas")({...A,account:p&&{address:p.address,type:"json-rpc"}})),to(A),delete A.parameters,A}async function Uf(t,{address:e,blockNumber:n,blockTag:a="latest"}){const s=typeof n=="bigint"?Ee(n):void 0,r=await t.request({method:"eth_getBalance",params:[e,s||a]});return BigInt(r)}async function hA(t,e){var s,r,l;const{account:n=t.account}=e,a=n?Mt(n):void 0;try{let M=function(E){const{block:N,request:X,rpcStateOverride:R}=E;return t.request({method:"eth_estimateGas",params:R?[X,N??"latest",R]:N?[X,N]:[X]})};const{accessList:g,authorizationList:c,blobs:u,blobVersionedHashes:d,blockNumber:p,blockTag:A,data:G,gas:w,gasPrice:Z,maxFeePerBlobGas:V,maxFeePerGas:W,maxPriorityFeePerGas:D,nonce:x,value:Y,stateOverride:z,...Q}=await bA(t,{...e,parameters:(a==null?void 0:a.type)==="local"?void 0:["blobVersionedHashes"]}),_=(typeof p=="bigint"?Ee(p):void 0)||A,re=Jf(z),ce=await(async()=>{if(Q.to)return Q.to;if(c&&c.length>0)return await lR({authorization:c[0]}).catch(()=>{throw new Ie("`to` is required. Could not infer from `authorizationList`")})})();to(e);const ae=(l=(r=(s=t.chain)==null?void 0:s.formatters)==null?void 0:r.transactionRequest)==null?void 0:l.format,ue=(ae||eo)({...ku(Q,{format:ae}),from:a==null?void 0:a.address,accessList:g,authorizationList:c,blobs:u,blobVersionedHashes:d,data:G,gas:w,gasPrice:Z,maxFeePerBlobGas:V,maxFeePerGas:W,maxPriorityFeePerGas:D,nonce:x,to:ce,value:Y});let S=BigInt(await M({block:_,request:ue,rpcStateOverride:re}));if(c){const E=await Uf(t,{address:ue.from}),N=await Promise.all(c.map(async X=>{const{address:R}=X,T=await M({block:_,request:{authorizationList:void 0,data:G,from:a==null?void 0:a.address,to:R,value:Ee(E)},rpcStateOverride:re}).catch(()=>100000n);return 2n*BigInt(T)}));S+=N.reduce((X,R)=>X+R,0n)}return S}catch(g){throw i8(g,{...e,account:a,chain:t.chain})}}async function GR(t,e){const{abi:n,address:a,args:s,functionName:r,dataSuffix:l,...g}=e,c=ma({abi:n,args:s,functionName:r});try{return await xe(t,hA,"estimateGas")({data:`${c}${l?l.replace("0x",""):""}`,to:a,...g})}catch(u){const d=g.account?Mt(g.account):void 0;throw Gl(u,{abi:n,address:a,args:s,docsPath:"/docs/contract/estimateContractGas",functionName:r,sender:d==null?void 0:d.address})}}function fA(t,e){if(!ut(t,{strict:!1}))throw new Ft({address:t});if(!ut(e,{strict:!1}))throw new Ft({address:e});return t.toLowerCase()===e.toLowerCase()}const xS="/docs/contract/decodeEventLog";function Df(t){const{abi:e,data:n,strict:a,topics:s}=t,r=a??!0,[l,...g]=s;if(!l)throw new hF({docsPath:xS});const c=e.length===1?e[0]:e.find(Z=>Z.type==="event"&&l===IA(Bs(Z)));if(!(c&&"name"in c)||c.type!=="event")throw new BV(l,{docsPath:xS});const{name:u,inputs:d}=c,p=d==null?void 0:d.some(Z=>!("name"in Z&&Z.name)),A=p?[]:{},G=d.map((Z,V)=>[Z,V]).filter(([Z])=>"indexed"in Z&&Z.indexed);for(let Z=0;Z<G.length;Z++){const[V,W]=G[Z],D=g[Z];if(!D)throw new gA({abiItem:c,param:V});A[p?W:V.name||W]=k8({param:V,value:D})}const w=d.filter(Z=>!("indexed"in Z&&Z.indexed));if(w.length>0){if(n&&n!=="0x")try{const Z=Hg(w,n);if(Z)if(p)for(let V=0;V<d.length;V++)A[V]=A[V]??Z.shift();else for(let V=0;V<w.length;V++)A[w[V].name]=Z[V]}catch(Z){if(r)throw Z instanceof fV||Z instanceof PV?new ZI({abiItem:c,data:n,params:w,size:xt(n)}):Z}else if(r)throw new ZI({abiItem:c,data:"0x",params:w,size:0})}return{eventName:u,args:Object.values(A).length>0?A:void 0}}function k8({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(Hg([t],e)||[])[0]}function Lf(t){const{abi:e,args:n,logs:a,strict:s=!0}=t,r=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return a.map(l=>{var g;try{const c=e.find(d=>d.type==="event"&&l.topics[0]===IA(d));if(!c)return null;const u=Df({...l,abi:[c],strict:s});return r&&!r.includes(u.eventName)||!V8({args:u.args,inputs:c.inputs,matchArgs:n})?null:{...u,...l}}catch(c){let u,d;if(c instanceof BV)return null;if(c instanceof ZI||c instanceof gA){if(s)return null;u=c.abiItem.name,d=(g=c.abiItem.inputs)==null?void 0:g.some(p=>!("name"in p&&p.name))}return{...l,args:d?[]:{},eventName:u}}}).filter(Boolean)}function V8(t){const{args:e,inputs:n,matchArgs:a}=t;if(!a)return!0;if(!e)return!1;function s(r,l,g){try{return r.type==="address"?fA(l,g):r.type==="string"||r.type==="bytes"?rt(An(l))===g:l===g}catch{return!1}}return Array.isArray(e)&&Array.isArray(a)?a.every((r,l)=>{if(r==null)return!0;const g=n[l];return g?(Array.isArray(r)?r:[r]).some(u=>s(g,u,e[l])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof a=="object"&&!Array.isArray(a)?Object.entries(a).every(([r,l])=>{if(l==null)return!0;const g=n.find(u=>u.name===r);return g?(Array.isArray(l)?l:[l]).some(u=>s(g,u,e[r])):!1}):!1}function qs(t,{args:e,eventName:n}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...n?{args:e,eventName:n}:{}}}async function zf(t,{address:e,blockHash:n,fromBlock:a,toBlock:s,event:r,events:l,args:g,strict:c}={}){const u=c??!1,d=l??(r?[r]:void 0);let p=[];d&&(p=[d.flatMap(Z=>Bu({abi:[Z],eventName:Z.name,args:l?void 0:g}))],r&&(p=p[0]));let A;n?A=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,blockHash:n}]}):A=await t.request({method:"eth_getLogs",params:[{address:e,topics:p,fromBlock:typeof a=="bigint"?Ee(a):a,toBlock:typeof s=="bigint"?Ee(s):s}]});const G=A.map(w=>qs(w));return d?Lf({abi:d,args:g,logs:G,strict:u}):G}async function BR(t,e){const{abi:n,address:a,args:s,blockHash:r,eventName:l,fromBlock:g,toBlock:c,strict:u}=e,d=l?Vl({abi:n,name:l}):void 0,p=d?void 0:n.filter(A=>A.type==="event");return xe(t,zf,"getLogs")({address:a,args:s,blockHash:r,event:d,events:p,fromBlock:g,toBlock:c,strict:u})}const $0="/docs/contract/decodeFunctionResult";function Rl(t){const{abi:e,args:n,functionName:a,data:s}=t;let r=e[0];if(a){const g=Vl({abi:e,args:n,name:a});if(!g)throw new kg(a,{docsPath:$0});r=g}if(r.type!=="function")throw new kg(void 0,{docsPath:$0});if(!r.outputs)throw new SV(r.name,{docsPath:$0});const l=Hg(r.outputs,s);if(l&&l.length>1)return l;if(l&&l.length===1)return l[0]}const R8="0.1.1";function W8(){return R8}class vt extends Error{constructor(e,n={}){const a=(()=>{var c;if(n.cause instanceof vt){if(n.cause.details)return n.cause.details;if(n.cause.shortMessage)return n.cause.shortMessage}return n.cause&&"details"in n.cause&&typeof n.cause.details=="string"?n.cause.details:(c=n.cause)!=null&&c.message?n.cause.message:n.details})(),s=n.cause instanceof vt&&n.cause.docsPath||n.docsPath,l=`https://oxlib.sh${s??""}`,g=[e||"An error occurred.",...n.metaMessages?["",...n.metaMessages]:[],...a||s?["",a?`Details: ${a}`:void 0,s?`See: ${l}`:void 0]:[]].filter(c=>typeof c=="string").join(`
`);super(g,n.cause?{cause:n.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${W8()}`}),this.cause=n.cause,this.details=a,this.docs=l,this.docsPath=s,this.shortMessage=e}walk(e){return SR(this,e)}}function SR(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?SR(t.cause,e):e?null:t}const v8="#__bigint";function E8(t,e,n){return JSON.stringify(t,(a,s)=>typeof s=="bigint"?s.toString()+v8:s,n)}function X8(t,e){if(HS(t)>e)throw new U8({givenSize:HS(t),maxSize:e})}const Ii={zero:48,nine:57,A:65,F:70,a:97,f:102};function NS(t){if(t>=Ii.zero&&t<=Ii.nine)return t-Ii.zero;if(t>=Ii.A&&t<=Ii.F)return t-(Ii.A-10);if(t>=Ii.a&&t<=Ii.f)return t-(Ii.a-10)}function J8(t,e={}){const{dir:n,size:a=32}=e;if(a===0)return t;if(t.length>a)throw new D8({size:t.length,targetSize:a,type:"Bytes"});const s=new Uint8Array(a);for(let r=0;r<a;r++){const l=n==="right";s[l?r:a-r-1]=t[l?r:t.length-r-1]}return s}function Qf(t,e){if(qa(t)>e)throw new O8({givenSize:qa(t),maxSize:e})}function x8(t,e){if(typeof e=="number"&&e>0&&e>qa(t)-1)throw new WR({offset:e,position:"start",size:qa(t)})}function N8(t,e,n){if(typeof e=="number"&&typeof n=="number"&&qa(t)!==n-e)throw new WR({offset:n,position:"end",size:qa(t)})}function wR(t,e={}){const{dir:n,size:a=32}=e;if(a===0)return t;const s=t.replace("0x","");if(s.length>a*2)throw new j8({size:Math.ceil(s.length/2),targetSize:a,type:"Hex"});return`0x${s[n==="right"?"padEnd":"padStart"](a*2,"0")}`}const H8=new TextEncoder;function T8(t){return t instanceof Uint8Array?t:typeof t=="string"?F8(t):Y8(t)}function Y8(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function F8(t,e={}){const{size:n}=e;let a=t;n&&(Qf(t,n),a=Sl(t,n));let s=a.slice(2);s.length%2&&(s=`0${s}`);const r=s.length/2,l=new Uint8Array(r);for(let g=0,c=0;g<r;g++){const u=NS(s.charCodeAt(c++)),d=NS(s.charCodeAt(c++));if(u===void 0||d===void 0)throw new vt(`Invalid byte sequence ("${s[c-2]}${s[c-1]}" in "${s}").`);l[g]=u*16+d}return l}function K8(t,e={}){const{size:n}=e,a=H8.encode(t);return typeof n=="number"?(X8(a,n),M8(a,n)):a}function M8(t,e){return J8(t,{dir:"right",size:e})}function HS(t){return t.length}let U8=class extends vt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},D8=class extends vt{constructor({size:e,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const L8=new TextEncoder,z8=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Q8(t,e={}){const{strict:n=!1}=e;if(!t)throw new TS(t);if(typeof t!="string")throw new TS(t);if(n&&!/^0x[0-9a-fA-F]*$/.test(t))throw new YS(t);if(!t.startsWith("0x"))throw new YS(t)}function ei(...t){return`0x${t.reduce((e,n)=>e+n.replace("0x",""),"")}`}function kR(t,e={}){const n=`0x${Number(t)}`;return typeof e.size=="number"?(Qf(n,e.size),Bl(n,e.size)):n}function VR(t,e={}){let n="";for(let s=0;s<t.length;s++)n+=z8[t[s]];const a=`0x${n}`;return typeof e.size=="number"?(Qf(a,e.size),Sl(a,e.size)):a}function Kn(t,e={}){const{signed:n,size:a}=e,s=BigInt(t);let r;a?n?r=(1n<<BigInt(a)*8n-1n)-1n:r=2n**(BigInt(a)*8n)-1n:typeof t=="number"&&(r=BigInt(Number.MAX_SAFE_INTEGER));const l=typeof r=="bigint"&&n?-r-1n:0;if(r&&s>r||s<l){const u=typeof t=="bigint"?"n":"";throw new RR({max:r?`${r}${u}`:void 0,min:`${l}${u}`,signed:n,size:a,value:`${t}${u}`})}const c=`0x${(n&&s<0?(1n<<BigInt(a*8))+BigInt(s):s).toString(16)}`;return a?Bl(c,a):c}function Pf(t,e={}){return VR(L8.encode(t),e)}function Bl(t,e){return wR(t,{dir:"left",size:e})}function Sl(t,e){return wR(t,{dir:"right",size:e})}function Of(t,e,n,a={}){const{strict:s}=a;x8(t,e);const r=`0x${t.replace("0x","").slice((e??0)*2,(n??t.length)*2)}`;return s&&N8(r,e,n),r}function qa(t){return Math.ceil((t.length-2)/2)}function P8(t,e={}){const{strict:n=!1}=e;try{return Q8(t,{strict:n}),!0}catch{return!1}}class RR extends vt{constructor({max:e,min:n,signed:a,size:s,value:r}){super(`Number \`${r}\` is not in safe${s?` ${s*8}-bit`:""}${a?" signed":" unsigned"} integer range ${e?`(\`${n}\` to \`${e}\`)`:`(above \`${n}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}}class TS extends vt{constructor(e){super(`Value \`${typeof e=="object"?E8(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class YS extends vt{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}class O8 extends vt{constructor({givenSize:e,maxSize:n}){super(`Size cannot exceed \`${n}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}}class WR extends vt{constructor({offset:e,position:n,size:a}){super(`Slice ${n==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${a}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}class j8 extends vt{constructor({size:e,targetSize:n,type:a}){super(`${a.charAt(0).toUpperCase()}${a.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}}function _8(t){return{address:t.address,amount:Kn(t.amount),index:Kn(t.index),validatorIndex:Kn(t.validatorIndex)}}function vR(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:Kn(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:Kn(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:Kn(t.gasLimit)},...typeof t.number=="bigint"&&{number:Kn(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:Kn(t.prevRandao)},...typeof t.time=="bigint"&&{time:Kn(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(_8)}}}const h1=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"}],f1=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],ER=[{inputs:[],name:"ResolverNotFound",type:"error"},{inputs:[],name:"ResolverWildcardNotSupported",type:"error"},{inputs:[],name:"ResolverNotContract",type:"error"},{inputs:[{name:"returnData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{components:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"errors",type:"tuple[]"}],name:"HttpError",type:"error"}],XR=[...ER,{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]},{name:"resolve",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],$8=[...ER,{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]},{name:"reverse",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolvedAddress"},{type:"address",name:"reverseResolver"},{type:"address",name:"resolver"}]}],FS=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],KS=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],MS=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],q8="0x82ad56cb",JR="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",e6="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",t6="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572";class Z1 extends Ie{constructor({blockNumber:e,chain:n,contract:a}){super(`Chain "${n.name}" does not support contract "${a.name}".`,{metaMessages:["This could be due to any of the following:",...e&&a.blockCreated&&a.blockCreated>e?[`- The contract "${a.name}" was not deployed until block ${a.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${a.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class n6 extends Ie{constructor({chain:e,currentChainId:n}){super(`The current chain of the wallet (id: ${n}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${n}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class a6 extends Ie{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class xR extends Ie{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class Fg extends Ie{constructor({chainId:e}){super(typeof e=="number"?`Chain ID "${e}" is invalid.`:"Chain ID is invalid.",{name:"InvalidChainIdError"})}}const q0="/docs/contract/encodeDeployData";function ZA(t){const{abi:e,args:n,bytecode:a}=t;if(!n||n.length===0)return a;const s=e.find(l=>"type"in l&&l.type==="constructor");if(!s)throw new mF({docsPath:q0});if(!("inputs"in s))throw new uS({docsPath:q0});if(!s.inputs||s.inputs.length===0)throw new uS({docsPath:q0});const r=ts(s.inputs,n);return jn([a,r])}function Kg({blockNumber:t,chain:e,contract:n}){var s;const a=(s=e==null?void 0:e.contracts)==null?void 0:s[n];if(!a)throw new Z1({chain:e,contract:{name:n}});if(t&&a.blockCreated&&a.blockCreated>t)throw new Z1({blockNumber:t,chain:e,contract:{name:n,blockCreated:a.blockCreated}});return a.address}function jf(t,{docsPath:e,...n}){const a=(()=>{const s=mA(t,n);return s instanceof wu?t:s})();return new aR(a,{docsPath:e,...n})}function _f(){let t=()=>{},e=()=>{};return{promise:new Promise((a,s)=>{t=a,e=s}),resolve:t,reject:e}}const eb=new Map;function NR({fn:t,id:e,shouldSplitBatch:n,wait:a=0,sort:s}){const r=async()=>{const d=c();l();const p=d.map(({args:A})=>A);p.length!==0&&t(p).then(A=>{s&&Array.isArray(A)&&A.sort(s);for(let G=0;G<d.length;G++){const{resolve:w}=d[G];w==null||w([A[G],A])}}).catch(A=>{for(let G=0;G<d.length;G++){const{reject:w}=d[G];w==null||w(A)}})},l=()=>eb.delete(e),g=()=>c().map(({args:d})=>d),c=()=>eb.get(e)||[],u=d=>eb.set(e,[...c(),d]);return{flush:l,async schedule(d){const{promise:p,resolve:A,reject:G}=_f();return(n==null?void 0:n([...g(),d]))&&r(),c().length>0?(u({args:d,resolve:A,reject:G}),p):(u({args:d,resolve:A,reject:G}),setTimeout(r,a),p)}}}async function Ru(t,e){var ue,M,S,E;const{account:n=t.account,authorizationList:a,batch:s=!!((ue=t.batch)!=null&&ue.multicall),blockNumber:r,blockTag:l="latest",accessList:g,blobs:c,blockOverrides:u,code:d,data:p,factory:A,factoryData:G,gas:w,gasPrice:Z,maxFeePerBlobGas:V,maxFeePerGas:W,maxPriorityFeePerGas:D,nonce:x,to:Y,value:z,stateOverride:Q,...P}=e,_=n?Mt(n):void 0;if(d&&(A||G))throw new Ie("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(d&&Y)throw new Ie("Cannot provide both `code` & `to` as parameters.");const re=d&&p,ce=A&&G&&Y&&p,ae=re||ce,pe=re?r6({code:d,data:p}):ce?o6({data:p,factory:A,factoryData:G,to:Y}):p;try{to(e);const X=(typeof r=="bigint"?Ee(r):void 0)||l,R=u?vR(u):void 0,T=Jf(Q),J=(E=(S=(M=t.chain)==null?void 0:M.formatters)==null?void 0:S.transactionRequest)==null?void 0:E.format,se=(J||eo)({...ku(P,{format:J}),from:_==null?void 0:_.address,accessList:g,authorizationList:a,blobs:c,data:pe,gas:w,gasPrice:Z,maxFeePerBlobGas:V,maxFeePerGas:W,maxPriorityFeePerGas:D,nonce:x,to:ae?void 0:Y,value:z});if(s&&s6({request:se})&&!T&&!R)try{return await i6(t,{...se,blockNumber:r,blockTag:l})}catch(Ze){if(!(Ze instanceof xR)&&!(Ze instanceof Z1))throw Ze}const de=(()=>{const Ze=[se,X];return T&&R?[...Ze,T,R]:T?[...Ze,T]:R?[...Ze,{},R]:Ze})(),le=await t.request({method:"eth_call",params:de});return le==="0x"?{data:void 0}:{data:le}}catch(N){const X=l6(N),{offchainLookup:R,offchainLookupSignature:T}=await fI(async()=>{const{offchainLookup:J,offchainLookupSignature:K}=await import("./ccip-DiC16eQ-.js");return{offchainLookup:J,offchainLookupSignature:K}},[]);if(t.ccipRead!==!1&&(X==null?void 0:X.slice(0,10))===T&&Y)return{data:await R(t,{data:X,to:Y})};throw ae&&(X==null?void 0:X.slice(0,10))==="0x101bb98d"?new _4({factory:A}):jf(N,{...e,account:_,chain:t.chain})}}function s6({request:t}){const{data:e,to:n,...a}=t;return!(!e||e.startsWith(q8)||!n||Object.values(a).filter(s=>typeof s<"u").length>0)}async function i6(t,e){var Z;const{batchSize:n=1024,wait:a=0}=typeof((Z=t.batch)==null?void 0:Z.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:r="latest",data:l,multicallAddress:g,to:c}=e;let u=g;if(!u){if(!t.chain)throw new xR;u=Kg({blockNumber:s,chain:t.chain,contract:"multicall3"})}const p=(typeof s=="bigint"?Ee(s):void 0)||r,{schedule:A}=NR({id:`${t.uid}.${p}`,wait:a,shouldSplitBatch(V){return V.reduce((D,{data:x})=>D+(x.length-2),0)>n*2},fn:async V=>{const W=V.map(Y=>({allowFailure:!0,callData:Y.data,target:Y.to})),D=ma({abi:h1,args:[W],functionName:"aggregate3"}),x=await t.request({method:"eth_call",params:[{data:D,to:u},p]});return Rl({abi:h1,args:[W],functionName:"aggregate3",data:x||"0x"})}}),[{returnData:G,success:w}]=await A({data:l,to:c});if(!w)throw new pA({data:G});return G==="0x"?{data:void 0}:{data:G}}function r6(t){const{code:e,data:n}=t;return ZA({abi:hu(["constructor(bytes, bytes)"]),bytecode:JR,args:[e,n]})}function o6(t){const{data:e,factory:n,factoryData:a,to:s}=t;return ZA({abi:hu(["constructor(address, bytes, address, bytes)"]),bytecode:e6,args:[s,e,n,a]})}function l6(t){var n;if(!(t instanceof Ie))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(n=e.data)==null?void 0:n.data:e.data}async function ti(t,e){const{abi:n,address:a,args:s,functionName:r,...l}=e,g=ma({abi:n,args:s,functionName:r});try{const{data:c}=await xe(t,Ru,"call")({...l,data:g,to:a});return Rl({abi:n,args:s,functionName:r,data:c||"0x"})}catch(c){throw Gl(c,{abi:n,address:a,args:s,docsPath:"/docs/contract/readContract",functionName:r})}}async function Mg(t,e){const{abi:n,address:a,args:s,dataSuffix:r,functionName:l,...g}=e,c=g.account?Mt(g.account):t.account,u=ma({abi:n,args:s,functionName:l});try{const{data:d}=await xe(t,Ru,"call")({batch:!1,data:`${u}${r?r.replace("0x",""):""}`,to:a,...g,account:c}),p=Rl({abi:n,args:s,functionName:l,data:d||"0x"}),A=n.filter(G=>"name"in G&&G.name===e.functionName);return{result:p,request:{abi:A,address:a,args:s,dataSuffix:r,functionName:l,...g,account:c}}}catch(d){throw Gl(d,{abi:n,address:a,args:s,docsPath:"/docs/contract/simulateContract",functionName:l,sender:c==null?void 0:c.address})}}const tb=new Map,US=new Map;let c6=0;function Di(t,e,n){const a=++c6,s=()=>tb.get(t)||[],r=()=>{const d=s();tb.set(t,d.filter(p=>p.id!==a))},l=()=>{const d=s();if(!d.some(A=>A.id===a))return;const p=US.get(t);d.length===1&&p&&p(),r()},g=s();if(tb.set(t,[...g,{id:a,fns:e}]),g&&g.length>0)return l;const c={};for(const d in e)c[d]=(...p)=>{var G,w;const A=s();if(A.length!==0)for(const Z of A)(w=(G=Z.fns)[d])==null||w.call(G,...p)};const u=n(c);return typeof u=="function"&&US.set(t,u),l}async function G1(t){return new Promise(e=>setTimeout(e,t))}function Ug(t,{emitOnBegin:e,initialWaitTime:n,interval:a}){let s=!0;const r=()=>s=!1;return(async()=>{let g;e&&(g=await t({unpoll:r}));const c=await(n==null?void 0:n(g))??a;await G1(c);const u=async()=>{s&&(await t({unpoll:r}),await G1(a),u())};u()})(),r}const g6=new Map,d6=new Map;function I6(t){const e=(s,r)=>({clear:()=>r.delete(s),get:()=>r.get(s),set:l=>r.set(s,l)}),n=e(t,g6),a=e(t,d6);return{clear:()=>{n.clear(),a.clear()},promise:n,response:a}}async function u6(t,{cacheKey:e,cacheTime:n=Number.POSITIVE_INFINITY}){const a=I6(e),s=a.response.get();if(s&&n>0&&new Date().getTime()-s.created.getTime()<n)return s.data;let r=a.promise.get();r||(r=t(),a.promise.set(r));try{const l=await r;return a.response.set({created:new Date,data:l}),l}finally{a.promise.clear()}}const C6=t=>`blockNumber.${t}`;async function Wu(t,{cacheTime:e=t.cacheTime}={}){const n=await u6(()=>t.request({method:"eth_blockNumber"}),{cacheKey:C6(t.uid),cacheTime:e});return BigInt(n)}async function GA(t,{filter:e}){const n="strict"in e&&e.strict,a=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof a[0]=="string")return a;const s=a.map(r=>qs(r));return!("abi"in e)||!e.abi?s:Lf({abi:e.abi,logs:s,strict:n})}async function BA(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function p6(t,e){const{abi:n,address:a,args:s,batch:r=!0,eventName:l,fromBlock:g,onError:c,onLogs:u,poll:d,pollingInterval:p=t.pollingInterval,strict:A}=e;return(typeof d<"u"?d:typeof g=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"))?(()=>{const V=A??!1,W=on(["watchContractEvent",a,s,r,t.uid,l,p,V,g]);return Di(W,{onLogs:u,onError:c},D=>{let x;g!==void 0&&(x=g-1n);let Y,z=!1;const Q=Ug(async()=>{var P;if(!z){try{Y=await xe(t,LV,"createContractEventFilter")({abi:n,address:a,args:s,eventName:l,strict:V,fromBlock:g})}catch{}z=!0;return}try{let _;if(Y)_=await xe(t,GA,"getFilterChanges")({filter:Y});else{const re=await xe(t,Wu,"getBlockNumber")({});x&&x<re?_=await xe(t,BR,"getContractEvents")({abi:n,address:a,args:s,eventName:l,fromBlock:x+1n,toBlock:re,strict:V}):_=[],x=re}if(_.length===0)return;if(r)D.onLogs(_);else for(const re of _)D.onLogs([re])}catch(_){Y&&_ instanceof Zl&&(z=!1),(P=D.onError)==null||P.call(D,_)}},{emitOnBegin:!0,interval:p});return async()=>{Y&&await xe(t,BA,"uninstallFilter")({filter:Y}),Q()}})})():(()=>{const V=A??!1,W=on(["watchContractEvent",a,s,r,t.uid,l,p,V]);let D=!0,x=()=>D=!1;return Di(W,{onLogs:u,onError:c},Y=>((async()=>{try{const z=(()=>{if(t.transport.type==="fallback"){const _=t.transport.transports.find(re=>re.config.type==="webSocket");return _?_.value:t.transport}return t.transport})(),Q=l?Bu({abi:n,eventName:l,args:s}):[],{unsubscribe:P}=await z.subscribe({params:["logs",{address:a,topics:Q}],onData(_){var ce;if(!D)return;const re=_.result;try{const{eventName:ae,args:pe}=Df({abi:n,data:re.data,topics:re.topics,strict:A}),ue=qs(re,{args:pe,eventName:ae});Y.onLogs([ue])}catch(ae){let pe,ue;if(ae instanceof ZI||ae instanceof gA){if(A)return;pe=ae.abiItem.name,ue=(ce=ae.abiItem.inputs)==null?void 0:ce.some(S=>!("name"in S&&S.name))}const M=qs(re,{args:ue?[]:{},eventName:pe});Y.onLogs([M])}},onError(_){var re;(re=Y.onError)==null||re.call(Y,_)}});x=P,D||x()}catch(z){c==null||c(z)}})(),()=>x()))})()}class Qi extends Ie{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class tm extends Ie{constructor({docsPath:e,metaMessages:n,type:a}){super(`Account type "${a}" is not supported.`,{docsPath:e,metaMessages:n,name:"AccountTypeNotSupportedError"})}}function HR({chain:t,currentChainId:e}){if(!t)throw new a6;if(e!==t.id)throw new n6({chain:t,currentChainId:e})}function TR(t,{docsPath:e,...n}){const a=(()=>{const s=mA(t,n);return s instanceof wu?t:s})();return new z4(a,{docsPath:e,...n})}async function $f(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const nb=new uA(128);async function SA(t,e){var D,x,Y,z;const{account:n=t.account,chain:a=t.chain,accessList:s,authorizationList:r,blobs:l,data:g,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:A,nonce:G,type:w,value:Z,...V}=e;if(typeof n>"u")throw new Qi({docsPath:"/docs/actions/wallet/sendTransaction"});const W=n?Mt(n):null;try{to(e);const Q=await(async()=>{if(e.to)return e.to;if(e.to!==null&&r&&r.length>0)return await lR({authorization:r[0]}).catch(()=>{throw new Ie("`to` is required. Could not infer from `authorizationList`.")})})();if((W==null?void 0:W.type)==="json-rpc"||W===null){let P;a!==null&&(P=await xe(t,Yg,"getChainId")({}),HR({currentChainId:P,chain:a}));const _=(Y=(x=(D=t.chain)==null?void 0:D.formatters)==null?void 0:x.transactionRequest)==null?void 0:Y.format,ce=(_||eo)({...ku(V,{format:_}),accessList:s,authorizationList:r,blobs:l,chainId:P,data:g,from:W==null?void 0:W.address,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:A,nonce:G,to:Q,type:w,value:Z}),ae=nb.get(t.uid),pe=ae?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:pe,params:[ce]},{retryCount:0})}catch(ue){if(ae===!1)throw ue;const M=ue;if(M.name==="InvalidInputRpcError"||M.name==="InvalidParamsRpcError"||M.name==="MethodNotFoundRpcError"||M.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[ce]},{retryCount:0}).then(S=>(nb.set(t.uid,!0),S)).catch(S=>{const E=S;throw E.name==="MethodNotFoundRpcError"||E.name==="MethodNotSupportedRpcError"?(nb.set(t.uid,!1),M):E});throw M}}if((W==null?void 0:W.type)==="local"){const P=await xe(t,bA,"prepareTransactionRequest")({account:W,accessList:s,authorizationList:r,blobs:l,chain:a,data:g,gas:c,gasPrice:u,maxFeePerBlobGas:d,maxFeePerGas:p,maxPriorityFeePerGas:A,nonce:G,nonceManager:W.nonceManager,parameters:[...ZR,"sidecars"],type:w,value:Z,...V,to:Q}),_=(z=a==null?void 0:a.serializers)==null?void 0:z.transaction,re=await W.signTransaction(P,{serializer:_});return await xe(t,$f,"sendRawTransaction")({serializedTransaction:re})}throw(W==null?void 0:W.type)==="smart"?new tm({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new tm({docsPath:"/docs/actions/wallet/sendTransaction",type:W==null?void 0:W.type})}catch(Q){throw Q instanceof tm?Q:TR(Q,{...e,account:W,chain:e.chain||void 0})}}async function m6(t,e){const{abi:n,account:a=t.account,address:s,args:r,dataSuffix:l,functionName:g,...c}=e;if(typeof a>"u")throw new Qi({docsPath:"/docs/contract/writeContract"});const u=a?Mt(a):null,d=ma({abi:n,args:r,functionName:g});try{return await xe(t,SA,"sendTransaction")({data:`${d}${l?l.replace("0x",""):""}`,to:s,account:u,...c})}catch(p){throw Gl(p,{abi:n,address:s,args:r,docsPath:"/docs/contract/writeContract",functionName:g,sender:u==null?void 0:u.address})}}const YR={"0x0":"reverted","0x1":"success"};function FR(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(n=>qs(n)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ua(t.transactionIndex):null,status:t.status?YR[t.status]:null,type:t.type?dR[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}const KR=AA("transactionReceipt",FR),MR="0x5792579257925792579257925792579257925792579257925792579257925792",UR=Ee(0,{size:32});async function A6(t,e){const{account:n=t.account,capabilities:a,chain:s=t.chain,experimental_fallback:r,experimental_fallbackDelay:l=32,forceAtomic:g=!1,id:c,version:u="2.0.0"}=e;if(typeof n>"u")throw new Qi({docsPath:"/docs/actions/wallet/sendCalls"});const d=n?Mt(n):null,p=e.calls.map(A=>{const G=A;return{data:G.abi?ma({abi:G.abi,functionName:G.functionName,args:G.args}):G.data,to:G.to,value:G.value?Ee(G.value):void 0}});try{const A=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:g,calls:p,capabilities:a,chainId:Ee(s.id),from:d==null?void 0:d.address,id:c,version:u}]},{retryCount:0});return typeof A=="string"?{id:A}:A}catch(A){const G=A;if(r&&(G.name==="MethodNotFoundRpcError"||G.name==="MethodNotSupportedRpcError"||G.details.toLowerCase().includes("does not exist / is not available")||G.details.toLowerCase().includes("missing or invalid. request()")||G.details.toLowerCase().includes("did not match any variant of untagged enum"))){if(a&&Object.values(a).some(D=>!D.optional)){const D="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new Eg(new Ie(D,{details:D}))}if(g&&p.length>1){const W="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new Xg(new Ie(W,{details:W}))}const w=[];for(const W of p){const D=SA(t,{account:d,chain:s,data:W.data,to:W.to,value:W.value?at(W.value):void 0});w.push(D),l>0&&await new Promise(x=>setTimeout(x,l))}const Z=await Promise.allSettled(w);if(Z.every(W=>W.status==="rejected"))throw Z[0].reason;const V=Z.map(W=>W.status==="fulfilled"?W.value:UR);return{id:On([...V,Ee(s.id,{size:32}),MR])}}throw TR(A,{...e,account:d,chain:e.chain})}}async function DR(t,e){async function n(d){if(d.endsWith(MR.slice(2))){const A=Qn(ym(d,-64,-32)),G=ym(d,0,-64).slice(2).match(/.{1,64}/g),w=await Promise.all(G.map(V=>UR.slice(2)!==V?t.request({method:"eth_getTransactionReceipt",params:[`0x${V}`]},{dedupe:!0}):void 0)),Z=w.some(V=>V===null)?100:w.every(V=>(V==null?void 0:V.status)==="0x1")?200:w.every(V=>(V==null?void 0:V.status)==="0x0")?500:600;return{atomic:!1,chainId:ua(A),receipts:w.filter(Boolean),status:Z,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[d]})}const{atomic:a=!1,chainId:s,receipts:r,version:l="2.0.0",...g}=await n(e.id),[c,u]=(()=>{const d=g.status;return d>=100&&d<200?["pending",d]:d>=200&&d<300?["success",d]:d>=300&&d<700?["failure",d]:d==="CONFIRMED"?["success",200]:d==="PENDING"?["pending",100]:[void 0,d]})();return{...g,atomic:a,chainId:s?ua(s):void 0,receipts:(r==null?void 0:r.map(d=>({...d,blockNumber:at(d.blockNumber),gasUsed:at(d.gasUsed),status:YR[d.status]})))??[],statusCode:u,status:c,version:l}}async function y6(t,e){const{id:n,pollingInterval:a=t.pollingInterval,status:s=({statusCode:A})=>A>=200,timeout:r=6e4}=e,l=on(["waitForCallsStatus",t.uid,n]),{promise:g,resolve:c,reject:u}=_f();let d;const p=Di(l,{resolve:c,reject:u},A=>{const G=Ug(async()=>{const w=Z=>{clearTimeout(d),G(),Z(),p()};try{const Z=await DR(t,{id:n});if(!s(Z))return;w(()=>A.resolve(Z))}catch(Z){w(()=>A.reject(Z))}},{interval:a,emitOnBegin:!0});return G});return d=r?setTimeout(()=>{p(),clearTimeout(d),u(new b6({id:n}))},r):void 0,await g}class b6 extends Ie{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const B1=256;let ap=B1,sp;function LR(t=11){if(!sp||ap+t>B1*2){sp="",ap=0;for(let e=0;e<B1;e++)sp+=(256+Math.random()*256|0).toString(16).substring(1)}return sp.substring(ap,ap+++t)}function wA(t){const{batch:e,cacheTime:n=t.pollingInterval??4e3,ccipRead:a,key:s="base",name:r="Base Client",pollingInterval:l=4e3,type:g="base"}=t,c=t.chain,u=t.account?Mt(t.account):void 0,{config:d,request:p,value:A}=t.transport({chain:c,pollingInterval:l}),G={...d,...A},w={account:u,batch:e,cacheTime:n,ccipRead:a,chain:c,key:s,name:r,pollingInterval:l,request:p,transport:G,type:g,uid:LR()};function Z(V){return W=>{const D=W(V);for(const Y in w)delete D[Y];const x={...V,...D};return Object.assign(x,{extend:Z(x)})}}return Object.assign(w,{extend:Z(w)})}function h6(){return null}const ip=new uA(8192);function f6(t,{enabled:e=!0,id:n}){if(!e||!n)return t();if(ip.get(n))return ip.get(n);const a=t().finally(()=>ip.delete(n));return ip.set(n,a),a}function S1(t,{delay:e=100,retryCount:n=2,shouldRetry:a=()=>!0}={}){return new Promise((s,r)=>{const l=async({count:g=0}={})=>{const c=async({error:u})=>{const d=typeof e=="function"?e({count:g,error:u}):e;d&&await G1(d),l({count:g+1})};try{const u=await t();s(u)}catch(u){if(g<n&&await a({count:g,error:u}))return c({error:u});r(u)}};l()})}function Z6(t,e={}){return async(n,a={})=>{var p;const{dedupe:s=!1,methods:r,retryDelay:l=150,retryCount:g=3,uid:c}={...e,...a},{method:u}=n;if((p=r==null?void 0:r.exclude)!=null&&p.includes(u))throw new Jo(new Error("method not supported"),{method:u});if(r!=null&&r.include&&!r.include.includes(u))throw new Jo(new Error("method not supported"),{method:u});const d=s?bl(`${c}.${on(n)}`):void 0;return f6(()=>S1(async()=>{try{return await t(n)}catch(A){const G=A;switch(G.code){case SI.code:throw new SI(G);case wI.code:throw new wI(G);case kI.code:throw new kI(G,{method:n.method});case VI.code:throw new VI(G);case fl.code:throw new fl(G);case Zl.code:throw new Zl(G);case RI.code:throw new RI(G);case WI.code:throw new WI(G);case vI.code:throw new vI(G);case Jo.code:throw new Jo(G,{method:n.method});case vg.code:throw new vg(G);case EI.code:throw new EI(G);case wc.code:throw new wc(G);case XI.code:throw new XI(G);case JI.code:throw new JI(G);case xI.code:throw new xI(G);case NI.code:throw new NI(G);case HI.code:throw new HI(G);case Eg.code:throw new Eg(G);case TI.code:throw new TI(G);case YI.code:throw new YI(G);case FI.code:throw new FI(G);case KI.code:throw new KI(G);case MI.code:throw new MI(G);case Xg.code:throw new Xg(G);case 5e3:throw new wc(G);default:throw A instanceof Ie?A:new q4(G)}}},{delay:({count:A,error:G})=>{var w;if(G&&G instanceof lI){const Z=(w=G==null?void 0:G.headers)==null?void 0:w.get("Retry-After");if(Z!=null&&Z.match(/\d/))return Number.parseInt(Z)*1e3}return~~(1<<A)*l},retryCount:g,shouldRetry:({error:A})=>G6(A)}),{enabled:s,id:d})}}function G6(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===vg.code||t.code===fl.code:t instanceof lI&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function zR({key:t,methods:e,name:n,request:a,retryCount:s=3,retryDelay:r=150,timeout:l,type:g},c){const u=LR();return{config:{key:t,methods:e,name:n,request:a,retryCount:s,retryDelay:r,timeout:l,type:g},request:Z6(a,{methods:e,retryCount:s,retryDelay:r,uid:u}),value:c}}function Cc(t,e={}){const{key:n="custom",methods:a,name:s="Custom Provider",retryDelay:r}=e;return({retryCount:l})=>zR({key:n,methods:a,name:s,request:t.request.bind(t),retryCount:e.retryCount??l,retryDelay:r,type:"custom"})}class B6 extends Ie{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function S6(t,{errorInstance:e=new Error("timed out"),timeout:n,signal:a}){return new Promise((s,r)=>{(async()=>{let l;try{const g=new AbortController;n>0&&(l=setTimeout(()=>{a&&g.abort()},n)),s(await t({signal:(g==null?void 0:g.signal)||null}))}catch(g){(g==null?void 0:g.name)==="AbortError"&&r(e),r(g)}finally{clearTimeout(l)}})()})}function w6(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const DS=w6();function k6(t,e={}){return{async request(n){var p;const{body:a,onRequest:s=e.onRequest,onResponse:r=e.onResponse,timeout:l=e.timeout??1e4}=n,g={...e.fetchOptions??{},...n.fetchOptions??{}},{headers:c,method:u,signal:d}=g;try{const A=await S6(async({signal:w})=>{const Z={...g,body:Array.isArray(a)?on(a.map(x=>({jsonrpc:"2.0",id:x.id??DS.take(),...x}))):on({jsonrpc:"2.0",id:a.id??DS.take(),...a}),headers:{"Content-Type":"application/json",...c},method:u||"POST",signal:d||(l>0?w:null)},V=new Request(t,Z),W=await(s==null?void 0:s(V,Z))??{...Z,url:t};return await fetch(W.url??t,W)},{errorInstance:new RS({body:a,url:t}),timeout:l,signal:!0});r&&await r(A);let G;if((p=A.headers.get("Content-Type"))!=null&&p.startsWith("application/json"))G=await A.json();else{G=await A.text();try{G=JSON.parse(G||"{}")}catch(w){if(A.ok)throw w;G={error:G}}}if(!A.ok)throw new lI({body:a,details:on(G.error)||A.statusText,headers:A.headers,status:A.status,url:t});return G}catch(A){throw A instanceof lI||A instanceof RS?A:new lI({body:a,cause:A,url:t})}}}}function V6(t,e={}){const{batch:n,fetchOptions:a,key:s="http",methods:r,name:l="HTTP JSON-RPC",onFetchRequest:g,onFetchResponse:c,retryDelay:u,raw:d}=e;return({chain:p,retryCount:A,timeout:G})=>{const{batchSize:w=1e3,wait:Z=0}=typeof n=="object"?n:{},V=e.retryCount??A,W=G??e.timeout??1e4,D=t||(p==null?void 0:p.rpcUrls.default.http[0]);if(!D)throw new B6;const x=k6(D,{fetchOptions:a,onRequest:g,onResponse:c,timeout:W});return zR({key:s,methods:r,name:l,async request({method:Y,params:z}){const Q={method:Y,params:z},{schedule:P}=NR({id:D,wait:Z,shouldSplitBatch(ae){return ae.length>w},fn:ae=>x.request({body:ae}),sort:(ae,pe)=>ae.id-pe.id}),_=async ae=>n?P(ae):[await x.request({body:ae})],[{error:re,result:ce}]=await _(Q);if(d)return{error:re,result:ce};if(re)throw new Ef({body:Q,error:re,url:D});return ce},retryCount:V,retryDelay:u,timeout:W,type:"http"},{fetchOptions:a,url:D})}}function qf(t,e){var a,s,r,l,g,c;if(!(t instanceof Ie))return!1;const n=t.walk(u=>u instanceof g1);return n instanceof g1?!!(((a=n.data)==null?void 0:a.errorName)==="ResolverNotFound"||((s=n.data)==null?void 0:s.errorName)==="ResolverWildcardNotSupported"||((r=n.data)==null?void 0:r.errorName)==="ResolverNotContract"||((l=n.data)==null?void 0:l.errorName)==="ResolverError"||((g=n.data)==null?void 0:g.errorName)==="HttpError"||(c=n.reason)!=null&&c.includes("Wildcard on non-extended resolvers is not supported")||e==="reverse"&&n.reason===zV[50]):!1}function R6(t){const{abi:e,data:n}=t,a=jr(n,0,4),s=e.find(r=>r.type==="function"&&a===Gu(Bs(r)));if(!s)throw new fF(a,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:s.name,args:"inputs"in s&&s.inputs&&s.inputs.length>0?Hg(s.inputs,jr(n,4)):void 0}}const ab="/docs/contract/encodeErrorResult";function LS(t){const{abi:e,errorName:n,args:a}=t;let s=e[0];if(n){const c=Vl({abi:e,args:a,name:n});if(!c)throw new CS(n,{docsPath:ab});s=c}if(s.type!=="error")throw new CS(void 0,{docsPath:ab});const r=Bs(s),l=Gu(r);let g="0x";if(a&&a.length>0){if(!s.inputs)throw new bF(s.name,{docsPath:ab});g=ts(s.inputs,a)}return jn([l,g])}const sb="/docs/contract/encodeFunctionResult";function W6(t){const{abi:e,functionName:n,result:a}=t;let s=e[0];if(n){const l=Vl({abi:e,name:n});if(!l)throw new kg(n,{docsPath:sb});s=l}if(s.type!=="function")throw new kg(void 0,{docsPath:sb});if(!s.outputs)throw new SV(s.name,{docsPath:sb});const r=(()=>{if(s.outputs.length===0)return[];if(s.outputs.length===1)return[a];if(Array.isArray(a))return a;throw new kV(a)})();return ts(s.outputs,r)}const QR="x-batch-gateway:true";async function Ige(t){const{data:e,ccipRequest:n}=t,{args:[a]}=R6({abi:f1,data:e}),s=[],r=[];return await Promise.all(a.map(async(l,g)=>{try{r[g]=await n(l),s[g]=!1}catch(c){s[g]=!0,r[g]=v6(c)}})),W6({abi:f1,functionName:"query",result:[s,r]})}function v6(t){return t.name==="HttpRequestError"&&t.status?LS({abi:f1,errorName:"HttpError",args:[t.status,t.shortMessage]}):LS({abi:[QV],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function PR(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return $a(e)?e:null}function nm(t){let e=new Uint8Array(32).fill(0);if(!t)return Kt(e);const n=t.split(".");for(let a=n.length-1;a>=0;a-=1){const s=PR(n[a]),r=s?An(s):rt(Lr(n[a]),"bytes");e=rt(On([e,r]),"bytes")}return Kt(e)}function E6(t){return`[${t.slice(2)}]`}function X6(t){const e=new Uint8Array(32).fill(0);return t?PR(t)||rt(Lr(t)):Kt(e)}function kA(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const n=new Uint8Array(Lr(e).byteLength+2);let a=0;const s=e.split(".");for(let r=0;r<s.length;r++){let l=Lr(s[r]);l.byteLength>255&&(l=Lr(E6(X6(s[r])))),n[a]=l.length,n.set(l,a+1),a+=l.length+1}return n.byteLength!==a+1?n.slice(0,a+1):n}async function J6(t,e){const{blockNumber:n,blockTag:a,coinType:s,name:r,gatewayUrls:l,strict:g}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Kg({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(p=>r.endsWith(p)))return null;try{const p=ma({abi:KS,functionName:"addr",...s!=null?{args:[nm(r),BigInt(s)]}:{args:[nm(r)]}}),A={address:u,abi:XR,functionName:"resolve",args:[Ge(kA(r)),p,l??[QR]],blockNumber:n,blockTag:a},w=await xe(t,ti,"readContract")(A);if(w[0]==="0x")return null;const Z=Rl({abi:KS,args:s!=null?[nm(r),BigInt(s)]:void 0,functionName:"addr",data:w[0]});return Z==="0x"||Qn(Z)==="0x00"?null:Z}catch(p){if(g)throw p;if(qf(p,"resolve"))return null;throw p}}class x6 extends Ie{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class Hd extends Ie{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class e2 extends Ie{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class N6 extends Ie{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const H6=/(?<protocol>https?:\/\/[^\/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,T6=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Y6=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,F6=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function K6(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const n=e.headers.get("content-type");return n==null?void 0:n.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!globalThis.hasOwnProperty("Image")?!1:new Promise(n=>{const a=new Image;a.onload=()=>{n(!0)},a.onerror=()=>{n(!1)},a.src=t})}}function zS(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function OR({uri:t,gatewayUrls:e}){const n=Y6.test(t);if(n)return{uri:t,isOnChain:!0,isEncoded:n};const a=zS(e==null?void 0:e.ipfs,"https://ipfs.io"),s=zS(e==null?void 0:e.arweave,"https://arweave.net"),r=t.match(H6),{protocol:l,subpath:g,target:c,subtarget:u=""}=(r==null?void 0:r.groups)||{},d=l==="ipns:/"||g==="ipns/",p=l==="ipfs:/"||g==="ipfs/"||T6.test(t);if(t.startsWith("http")&&!d&&!p){let G=t;return e!=null&&e.arweave&&(G=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:G,isOnChain:!1,isEncoded:!1}}if((d||p)&&c)return{uri:`${a}/${d?"ipns":"ipfs"}/${c}${u}`,isOnChain:!1,isEncoded:!1};if(l==="ar:/"&&c)return{uri:`${s}/${c}${u||""}`,isOnChain:!1,isEncoded:!1};let A=t.replace(F6,"");if(A.startsWith("<svg")&&(A=`data:image/svg+xml;base64,${btoa(A)}`),A.startsWith("data:")||A.startsWith("{"))return{uri:A,isOnChain:!0,isEncoded:!1};throw new e2({uri:t})}function jR(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new x6({data:t});return t.image||t.image_url||t.image_data}async function M6({gatewayUrls:t,uri:e}){try{const n=await fetch(e).then(s=>s.json());return await t2({gatewayUrls:t,uri:jR(n)})}catch{throw new e2({uri:e})}}async function t2({gatewayUrls:t,uri:e}){const{uri:n,isOnChain:a}=OR({uri:e,gatewayUrls:t});if(a||await K6(n))return n;throw new e2({uri:e})}function U6(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[n,a,s]=e.split("/"),[r,l]=n.split(":"),[g,c]=a.split(":");if(!r||r.toLowerCase()!=="eip155")throw new Hd({reason:"Only EIP-155 supported"});if(!l)throw new Hd({reason:"Chain ID not found"});if(!c)throw new Hd({reason:"Contract address not found"});if(!s)throw new Hd({reason:"Token ID not found"});if(!g)throw new Hd({reason:"ERC namespace not found"});return{chainID:Number.parseInt(l),namespace:g.toLowerCase(),contractAddress:c,tokenID:s}}async function D6(t,{nft:e}){if(e.namespace==="erc721")return ti(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return ti(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new N6({namespace:e.namespace})}async function L6(t,{gatewayUrls:e,record:n}){return/eip155:/i.test(n)?z6(t,{gatewayUrls:e,record:n}):t2({uri:n,gatewayUrls:e})}async function z6(t,{gatewayUrls:e,record:n}){const a=U6(n),s=await D6(t,{nft:a}),{uri:r,isOnChain:l,isEncoded:g}=OR({uri:s,gatewayUrls:e});if(l&&(r.includes("data:application/json;base64,")||r.startsWith("{"))){const u=g?atob(r.replace("data:application/json;base64,","")):r,d=JSON.parse(u);return t2({uri:jR(d),gatewayUrls:e})}let c=a.tokenID;return a.namespace==="erc1155"&&(c=c.replace("0x","").padStart(64,"0")),M6({gatewayUrls:e,uri:r.replace(/(?:0x)?{id}/,c)})}async function _R(t,e){const{blockNumber:n,blockTag:a,key:s,name:r,gatewayUrls:l,strict:g}=e,{chain:c}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!c)throw new Error("client chain not configured. universalResolverAddress is required.");return Kg({blockNumber:n,chain:c,contract:"ensUniversalResolver"})})(),d=c==null?void 0:c.ensTlds;if(d&&!d.some(p=>r.endsWith(p)))return null;try{const p={address:u,abi:XR,functionName:"resolve",args:[Ge(kA(r)),ma({abi:FS,functionName:"text",args:[nm(r),s]}),l??[QR]],blockNumber:n,blockTag:a},G=await xe(t,ti,"readContract")(p);if(G[0]==="0x")return null;const w=Rl({abi:FS,functionName:"text",data:G[0]});return w===""?null:w}catch(p){if(g)throw p;if(qf(p,"resolve"))return null;throw p}}async function Q6(t,{blockNumber:e,blockTag:n,assetGatewayUrls:a,name:s,gatewayUrls:r,strict:l,universalResolverAddress:g}){const c=await xe(t,_R,"getEnsText")({blockNumber:e,blockTag:n,key:"avatar",name:s,universalResolverAddress:g,gatewayUrls:r,strict:l});if(!c)return null;try{return await L6(t,{record:c,gatewayUrls:a})}catch{return null}}async function P6(t,{address:e,blockNumber:n,blockTag:a,gatewayUrls:s,strict:r,universalResolverAddress:l}){let g=l;if(!g){if(!t.chain)throw new Error("client chain not configured. universalResolverAddress is required.");g=Kg({blockNumber:n,chain:t.chain,contract:"ensUniversalResolver"})}const c=`${e.toLowerCase().substring(2)}.addr.reverse`;try{const u={address:g,abi:$8,functionName:"reverse",args:[Ge(kA(c))],blockNumber:n,blockTag:a},d=xe(t,ti,"readContract"),[p,A]=s?await d({...u,args:[...u.args,s]}):await d(u);return e.toLowerCase()!==A.toLowerCase()?null:p}catch(u){if(r)throw u;if(qf(u,"reverse"))return null;throw u}}async function O6(t,e){const{blockNumber:n,blockTag:a,name:s}=e,{chain:r}=t,l=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!r)throw new Error("client chain not configured. universalResolverAddress is required.");return Kg({blockNumber:n,chain:r,contract:"ensUniversalResolver"})})(),g=r==null?void 0:r.ensTlds;if(g&&!g.some(u=>s.endsWith(u)))throw new Error(`${s} is not a valid ENS TLD (${g==null?void 0:g.join(", ")}) for chain "${r.name}" (id: ${r.id}).`);const[c]=await xe(t,ti,"readContract")({address:l,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[Ge(kA(s))],blockNumber:n,blockTag:a});return c}async function $R(t,e){var V,W,D;const{account:n=t.account,blockNumber:a,blockTag:s="latest",blobs:r,data:l,gas:g,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,to:A,value:G,...w}=e,Z=n?Mt(n):void 0;try{to(e);const Y=(typeof a=="bigint"?Ee(a):void 0)||s,z=(D=(W=(V=t.chain)==null?void 0:V.formatters)==null?void 0:W.transactionRequest)==null?void 0:D.format,P=(z||eo)({...ku(w,{format:z}),from:Z==null?void 0:Z.address,blobs:r,data:l,gas:g,gasPrice:c,maxFeePerBlobGas:u,maxFeePerGas:d,maxPriorityFeePerGas:p,to:A,value:G}),_=await t.request({method:"eth_createAccessList",params:[P,Y]});return{accessList:_.accessList,gasUsed:BigInt(_.gasUsed)}}catch(x){throw jf(x,{...e,account:Z,chain:t.chain})}}async function j6(t){const e=CA(t,{method:"eth_newBlockFilter"}),n=await t.request({method:"eth_newBlockFilter"});return{id:n,request:e(n),type:"block"}}async function qR(t,{address:e,args:n,event:a,events:s,fromBlock:r,strict:l,toBlock:g}={}){const c=s??(a?[a]:void 0),u=CA(t,{method:"eth_newFilter"});let d=[];c&&(d=[c.flatMap(G=>Bu({abi:[G],eventName:G.name,args:n}))],a&&(d=d[0]));const p=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof r=="bigint"?Ee(r):r,toBlock:typeof g=="bigint"?Ee(g):g,...d.length?{topics:d}:{}}]});return{abi:c,args:n,eventName:a?a.name:void 0,fromBlock:r,id:p,request:u(p),strict:!!l,toBlock:g,type:"event"}}async function eW(t){const e=CA(t,{method:"eth_newPendingTransactionFilter"}),n=await t.request({method:"eth_newPendingTransactionFilter"});return{id:n,request:e(n),type:"transaction"}}async function _6(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function $6(t,{blockHash:e,blockNumber:n,blockTag:a="latest"}={}){const s=n!==void 0?Ee(n):void 0;let r;return e?r=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):r=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[s||a]},{dedupe:!!s}),ua(r)}async function bm(t,{address:e,blockNumber:n,blockTag:a="latest"}){const s=n!==void 0?Ee(n):void 0,r=await t.request({method:"eth_getCode",params:[e,s||a]},{dedupe:!!s});if(r!=="0x")return r}class q6 extends Ie{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function eK(t,e){const{address:n,factory:a,factoryData:s}=e;try{const[r,l,g,c,u,d,p]=await xe(t,ti,"readContract")({abi:tK,address:n,functionName:"eip712Domain",factory:a,factoryData:s});return{domain:{name:l,version:g,chainId:Number(c),verifyingContract:u,salt:d},extensions:p,fields:r}}catch(r){const l=r;throw l.name==="ContractFunctionExecutionError"&&l.cause.name==="ContractFunctionZeroDataError"?new q6({address:n}):l}}const tK=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function nK(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(n=>BigInt(n)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(n=>n.map(a=>BigInt(a)))}}async function aK(t,{blockCount:e,blockNumber:n,blockTag:a="latest",rewardPercentiles:s}){const r=typeof n=="bigint"?Ee(n):void 0,l=await t.request({method:"eth_feeHistory",params:[Ee(e),r||a,s]},{dedupe:!!r});return nK(l)}async function sK(t,{filter:e}){const n=e.strict??!1,s=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(r=>qs(r));return e.abi?Lf({abi:e.abi,logs:s,strict:n}):s}function h(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}class iK extends Ie{constructor({domain:e}){super(`Invalid domain "${on(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class rK extends Ie{constructor({primaryType:e,types:n}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(n))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class oK extends Ie{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function tW(t){const{domain:e={},message:n,primaryType:a}=t,s={EIP712Domain:a2({domain:e}),...t.types};n2({domain:e,message:n,primaryType:a,types:s});const r=["0x1901"];return e&&r.push(nW({domain:e,types:s})),a!=="EIP712Domain"&&r.push(aW({data:n,primaryType:a,types:s})),rt(On(r))}function nW({domain:t,types:e}){return aW({data:t,primaryType:"EIP712Domain",types:e})}function aW({data:t,primaryType:e,types:n}){const a=sW({data:t,primaryType:e,types:n});return rt(a)}function sW({data:t,primaryType:e,types:n}){const a=[{type:"bytes32"}],s=[lK({primaryType:e,types:n})];for(const r of n[e]){const[l,g]=rW({types:n,name:r.name,type:r.type,value:t[r.name]});a.push(l),s.push(g)}return ts(a,s)}function lK({primaryType:t,types:e}){const n=Ge(cK({primaryType:t,types:e}));return rt(n)}function cK({primaryType:t,types:e}){let n="";const a=iW({primaryType:t,types:e});a.delete(t);const s=[t,...Array.from(a).sort()];for(const r of s)n+=`${r}(${e[r].map(({name:l,type:g})=>`${g} ${l}`).join(",")})`;return n}function iW({primaryType:t,types:e},n=new Set){const a=t.match(/^\w*/u),s=a==null?void 0:a[0];if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const r of e[s])iW({primaryType:r.type,types:e},n);return n}function rW({types:t,name:e,type:n,value:a}){if(t[n]!==void 0)return[{type:"bytes32"},rt(sW({data:a,primaryType:n,types:t}))];if(n==="bytes")return a=`0x${(a.length%2?"0":"")+a.slice(2)}`,[{type:"bytes32"},rt(a)];if(n==="string")return[{type:"bytes32"},rt(Ge(a))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),r=a.map(l=>rW({name:e,type:s,types:t,value:l}));return[{type:"bytes32"},rt(ts(r.map(([l])=>l),r.map(([,l])=>l)))]}return[{type:n},a]}function gK(t){const{domain:e,message:n,primaryType:a,types:s}=t,r=(c,u)=>{const d={...u};for(const p of c){const{name:A,type:G}=p;G==="address"&&(d[A]=d[A].toLowerCase())}return d},l=s.EIP712Domain?e?r(s.EIP712Domain,e):{}:{},g=(()=>{if(a!=="EIP712Domain")return r(s[a],n)})();return on({domain:l,message:g,primaryType:a,types:s})}function n2(t){const{domain:e,message:n,primaryType:a,types:s}=t,r=(l,g)=>{for(const c of l){const{name:u,type:d}=c,p=g[u],A=d.match(Sf);if(A&&(typeof p=="number"||typeof p=="bigint")){const[Z,V,W]=A;Ee(p,{signed:V==="int",size:Number.parseInt(W)/8})}if(d==="address"&&typeof p=="string"&&!ut(p))throw new Ft({address:p});const G=d.match(UV);if(G){const[Z,V]=G;if(V&&xt(p)!==Number.parseInt(V))throw new wV({expectedSize:Number.parseInt(V),givenSize:xt(p)})}const w=s[d];w&&(dK(d),r(w,p))}};if(s.EIP712Domain&&e){if(typeof e!="object")throw new iK({domain:e});r(s.EIP712Domain,e)}if(a!=="EIP712Domain")if(s[a])r(s[a],n);else throw new rK({primaryType:a,types:s})}function a2({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function dK(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new oK({type:t})}function IK(t,e){if(t.length!==e.length)throw new ZV({expectedLength:t.length,givenLength:e.length});const n=[];for(let a=0;a<t.length;a++){const s=t[a],r=e[a];n.push(oW(s,r))}return jn(n)}function oW(t,e,n=!1){if(t==="address"){const l=e;if(!ut(l))throw new Ft({address:l});return _a(l.toLowerCase(),{size:n?32:null})}if(t==="string")return bl(e);if(t==="bytes")return e;if(t==="bool")return _a(Gf(e),{size:n?32:1});const a=t.match(Sf);if(a){const[l,g,c="256"]=a,u=Number.parseInt(c)/8;return Ee(e,{size:n?32:u,signed:g==="int"})}const s=t.match(UV);if(s){const[l,g]=s;if(Number.parseInt(g)!==(e.length-2)/2)throw new wV({expectedSize:Number.parseInt(g),givenSize:(e.length-2)/2});return _a(e,{dir:"right",size:n?32:null})}const r=t.match(m4);if(r&&Array.isArray(e)){const[l,g]=r,c=[];for(let u=0;u<e.length;u++)c.push(oW(g,e[u],!0));return c.length===0?"0x":jn(c)}throw new wF(t)}function uK(t){const{authorizationList:e}=t;if(e)for(const n of e){const{chainId:a}=n,s=n.address;if(!ut(s))throw new Ft({address:s});if(a<0)throw new Fg({chainId:a})}s2(t)}function CK(t){const{blobVersionedHashes:e}=t;if(e){if(e.length===0)throw new bR;for(const n of e){const a=xt(n),s=ua(jr(n,0,1));if(a!==32)throw new B8({hash:n,size:a});if(s!==yR)throw new S8({hash:n,version:s})}}s2(t)}function s2(t){const{chainId:e,maxPriorityFeePerGas:n,maxFeePerGas:a,to:s}=t;if(e<=0)throw new Fg({chainId:e});if(s&&!ut(s))throw new Ft({address:s});if(a&&a>Tg)throw new _r({maxFeePerGas:a});if(n&&a&&n>a)throw new Jg({maxFeePerGas:a,maxPriorityFeePerGas:n})}function pK(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:s,to:r}=t;if(e<=0)throw new Fg({chainId:e});if(r&&!ut(r))throw new Ft({address:r});if(n||s)throw new Ie("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid EIP-2930 Transaction attribute.");if(a&&a>Tg)throw new _r({maxFeePerGas:a})}function mK(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:s,to:r}=t;if(r&&!ut(r))throw new Ft({address:r});if(typeof e<"u"&&e<=0)throw new Fg({chainId:e});if(n||s)throw new Ie("`maxFeePerGas`/`maxPriorityFeePerGas` is not a valid Legacy Transaction attribute.");if(a&&a>Tg)throw new _r({maxFeePerGas:a})}function vu(t){if(!t||t.length===0)return[];const e=[];for(let n=0;n<t.length;n++){const{address:a,storageKeys:s}=t[n];for(let r=0;r<s.length;r++)if(s[r].length-2!==64)throw new L4({storageKey:s[r]});if(!ut(a,{strict:!1}))throw new Ft({address:a});e.push([a,s])}return e}function i2(t,e){const n=fR(t);return n==="eip1559"?bK(t,e):n==="eip2930"?hK(t,e):n==="eip4844"?yK(t,e):n==="eip7702"?AK(t,e):fK(t,e)}function AK(t,e){const{authorizationList:n,chainId:a,gas:s,nonce:r,to:l,value:g,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:p}=t;uK(t);const A=vu(d),G=ZK(n);return jn(["0x04",$s([Ge(a),r?Ge(r):"0x",u?Ge(u):"0x",c?Ge(c):"0x",s?Ge(s):"0x",l??"0x",g?Ge(g):"0x",p??"0x",A,G,...Dg(t,e)])])}function yK(t,e){const{chainId:n,gas:a,nonce:s,to:r,value:l,maxFeePerBlobGas:g,maxFeePerGas:c,maxPriorityFeePerGas:u,accessList:d,data:p}=t;CK(t);let A=t.blobVersionedHashes,G=t.sidecars;if(t.blobs&&(typeof A>"u"||typeof G>"u")){const x=typeof t.blobs[0]=="string"?t.blobs:t.blobs.map(Q=>Kt(Q)),Y=t.kzg,z=Ff({blobs:x,kzg:Y});if(typeof A>"u"&&(A=pR({commitments:z})),typeof G>"u"){const Q=Kf({blobs:x,commitments:z,kzg:Y});G=hR({blobs:x,commitments:z,proofs:Q})}}const w=vu(d),Z=[Ge(n),s?Ge(s):"0x",u?Ge(u):"0x",c?Ge(c):"0x",a?Ge(a):"0x",r??"0x",l?Ge(l):"0x",p??"0x",w,g?Ge(g):"0x",A??[],...Dg(t,e)],V=[],W=[],D=[];if(G)for(let x=0;x<G.length;x++){const{blob:Y,commitment:z,proof:Q}=G[x];V.push(Y),W.push(z),D.push(Q)}return jn(["0x03",$s(G?[Z,V,W,D]:Z)])}function bK(t,e){const{chainId:n,gas:a,nonce:s,to:r,value:l,maxFeePerGas:g,maxPriorityFeePerGas:c,accessList:u,data:d}=t;s2(t);const p=vu(u),A=[Ge(n),s?Ge(s):"0x",c?Ge(c):"0x",g?Ge(g):"0x",a?Ge(a):"0x",r??"0x",l?Ge(l):"0x",d??"0x",p,...Dg(t,e)];return jn(["0x02",$s(A)])}function hK(t,e){const{chainId:n,gas:a,data:s,nonce:r,to:l,value:g,accessList:c,gasPrice:u}=t;pK(t);const d=vu(c),p=[Ge(n),r?Ge(r):"0x",u?Ge(u):"0x",a?Ge(a):"0x",l??"0x",g?Ge(g):"0x",s??"0x",d,...Dg(t,e)];return jn(["0x01",$s(p)])}function fK(t,e){const{chainId:n=0,gas:a,data:s,nonce:r,to:l,value:g,gasPrice:c}=t;mK(t);let u=[r?Ge(r):"0x",c?Ge(c):"0x",a?Ge(a):"0x",l??"0x",g?Ge(g):"0x",s??"0x"];if(e){const d=(()=>{if(e.v>=35n)return(e.v-35n)/2n>0?e.v:27n+(e.v===35n?0n:1n);if(n>0)return BigInt(n*2)+BigInt(35n+e.v-27n);const G=27n+(e.v===27n?0n:1n);if(e.v!==G)throw new U4({v:e.v});return G})(),p=Qn(e.r),A=Qn(e.s);u=[...u,Ge(d),p==="0x00"?"0x":p,A==="0x00"?"0x":A]}else n>0&&(u=[...u,Ge(n),"0x","0x"]);return $s(u)}function Dg(t,e){const n=e??t,{v:a,yParity:s}=n;if(typeof n.r>"u")return[];if(typeof n.s>"u")return[];if(typeof a>"u"&&typeof s>"u")return[];const r=Qn(n.r),l=Qn(n.s);return[typeof s=="number"?s?Ge(1):"0x":a===0n?"0x":a===1n?Ge(1):a===27n?"0x":Ge(1),r==="0x00"?"0x":r,l==="0x00"?"0x":l]}function ZK(t){if(!t||t.length===0)return[];const e=[];for(const n of t){const{chainId:a,nonce:s,...r}=n,l=n.address;e.push([a?Ge(a):"0x",l,s?Ge(s):"0x",...Dg({},r)])}return e}function QS(t){return!t||typeof t!="object"||!("BYTES_PER_ELEMENT"in t)?!1:t.BYTES_PER_ELEMENT===1&&t.constructor.name==="Uint8Array"}function GK(t){return BK(t)}function BK(t){const e=An(Wg(t.from)),n=_a(QS(t.salt)?t.salt:An(t.salt),{size:32}),a="bytecodeHash"in t?QS(t.bytecodeHash)?t.bytecodeHash:An(t.bytecodeHash):rt(t.bytecode,"bytes");return Wg(jr(rt(On([An("0xff"),e,n,a])),12))}const SK=`Ethereum Signed Message:
`;function wK(t){const e=typeof t=="string"?bl(t):typeof t.raw=="string"?t.raw:Kt(t.raw),n=bl(`${SK}${xt(e)}`);return On([n,e])}function VA(t,e){return rt(wK(t),e)}const lW="0x6492649264926492649264926492649264926492649264926492649264926492";function kK(t){return ym(t,-32)===lW}function VK(t){const{address:e,data:n,signature:a,to:s="hex"}=t,r=jn([ts([{type:"address"},{type:"bytes"},{type:"bytes"}],[e,n,a]),lW]);return s==="hex"?r:Sn(r)}function RK(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function WK(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?ua(t.nonce):void 0,storageProof:t.storageProof?RK(t.storageProof):void 0}}async function vK(t,{address:e,blockNumber:n,blockTag:a,storageKeys:s}){const r=a??"latest",l=n!==void 0?Ee(n):void 0,g=await t.request({method:"eth_getProof",params:[e,s,l||r]});return WK(g)}async function cW(t,{address:e,blockNumber:n,blockTag:a="latest",slot:s}){const r=n!==void 0?Ee(n):void 0;return await t.request({method:"eth_getStorageAt",params:[e,s,r||a]})}async function RA(t,{blockHash:e,blockNumber:n,blockTag:a,hash:s,index:r}){var d,p,A;const l=a||"latest",g=n!==void 0?Ee(n):void 0;let c=null;if(s?c=await t.request({method:"eth_getTransactionByHash",params:[s]},{dedupe:!0}):e?c=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,Ee(r)]},{dedupe:!0}):c=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[g||l,Ee(r)]},{dedupe:!!g}),!c)throw new tR({blockHash:e,blockNumber:n,blockTag:l,hash:s,index:r});return(((A=(p=(d=t.chain)==null?void 0:d.formatters)==null?void 0:p.transaction)==null?void 0:A.format)||Vu)(c)}async function EK(t,{hash:e,transactionReceipt:n}){const[a,s]=await Promise.all([xe(t,Wu,"getBlockNumber")({}),e?xe(t,RA,"getTransaction")({hash:e}):void 0]),r=(n==null?void 0:n.blockNumber)||(s==null?void 0:s.blockNumber);return r?a-r+1n:0n}async function hm(t,{hash:e}){var s,r,l;const n=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!n)throw new nR({hash:e});return(((l=(r=(s=t.chain)==null?void 0:s.formatters)==null?void 0:r.transactionReceipt)==null?void 0:l.format)||FR)(n)}async function XK(t,e){var W;const{account:n,allowFailure:a=!0,batchSize:s,blockNumber:r,blockTag:l,multicallAddress:g,stateOverride:c}=e,u=e.contracts,d=s??(typeof((W=t.batch)==null?void 0:W.multicall)=="object"&&t.batch.multicall.batchSize||1024);let p=g;if(!p){if(!t.chain)throw new Error("client chain not configured. multicallAddress is required.");p=Kg({blockNumber:r,chain:t.chain,contract:"multicall3"})}const A=[[]];let G=0,w=0;for(let D=0;D<u.length;D++){const{abi:x,address:Y,args:z,functionName:Q}=u[D];try{const P=ma({abi:x,args:z,functionName:Q});w+=(P.length-2)/2,d>0&&w>d&&A[G].length>0&&(G++,w=(P.length-2)/2,A[G]=[]),A[G]=[...A[G],{allowFailure:!0,callData:P,target:Y}]}catch(P){const _=Gl(P,{abi:x,address:Y,args:z,docsPath:"/docs/contract/multicall",functionName:Q,sender:n});if(!a)throw _;A[G]=[...A[G],{allowFailure:!0,callData:"0x",target:Y}]}}const Z=await Promise.allSettled(A.map(D=>xe(t,ti,"readContract")({abi:h1,account:n,address:p,args:[D],blockNumber:r,blockTag:l,functionName:"aggregate3",stateOverride:c}))),V=[];for(let D=0;D<Z.length;D++){const x=Z[D];if(x.status==="rejected"){if(!a)throw x.reason;for(let z=0;z<A[D].length;z++)V.push({status:"failure",error:x.reason,result:void 0});continue}const Y=x.value;for(let z=0;z<Y.length;z++){const{returnData:Q,success:P}=Y[z],{callData:_}=A[D][z],{abi:re,address:ce,functionName:ae,args:pe}=u[V.length];try{if(_==="0x")throw new fu;if(!P)throw new pA({data:Q});const ue=Rl({abi:re,args:pe,data:Q,functionName:ae});V.push(a?{result:ue,status:"success"}:ue)}catch(ue){const M=Gl(ue,{abi:re,address:ce,args:pe,docsPath:"/docs/contract/multicall",functionName:ae});if(!a)throw M;V.push({error:M,result:void 0,status:"failure"})}}}if(V.length!==u.length)throw new Ie("multicall results mismatch");return V}async function w1(t,e){const{blockNumber:n,blockTag:a="latest",blocks:s,returnFullTransactions:r,traceTransfers:l,validation:g}=e;try{const c=[];for(const A of s){const G=A.blockOverrides?vR(A.blockOverrides):void 0,w=A.calls.map(V=>{const W=V,D=W.account?Mt(W.account):void 0,x={...W,data:W.abi?ma(W):W.data,from:W.from??(D==null?void 0:D.address)};return to(x),eo(x)}),Z=A.stateOverrides?Jf(A.stateOverrides):void 0;c.push({blockOverrides:G,calls:w,stateOverrides:Z})}const d=(typeof n=="bigint"?Ee(n):void 0)||a;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:c,returnFullTransactions:r,traceTransfers:l,validation:g},d]})).map((A,G)=>({...Hf(A),calls:A.calls.map((w,Z)=>{var ce,ae;const{abi:V,args:W,functionName:D,to:x}=s[G].calls[Z],Y=((ce=w.error)==null?void 0:ce.data)??w.returnData,z=BigInt(w.gasUsed),Q=(ae=w.logs)==null?void 0:ae.map(pe=>qs(pe)),P=w.status==="0x1"?"success":"failure",_=V&&P==="success"&&Y!=="0x"?Rl({abi:V,data:Y,functionName:D}):null,re=(()=>{var ue;if(P==="success")return;let pe;if(((ue=w.error)==null?void 0:ue.data)==="0x"?pe=new fu:w.error&&(pe=new pA(w.error)),!!pe)return Gl(pe,{abi:V??[],address:x,args:W,functionName:D??"<unknown>"})})();return{data:Y,gasUsed:z,logs:Q,status:P,...P==="success"?{result:_}:{error:re}}})}))}catch(c){const u=c,d=mA(u,{});throw d instanceof wu?u:d}}/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function JK(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function PS(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function fm(t,...e){if(!JK(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function OS(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function xK(t,e){fm(t);const n=e.outputLen;if(t.length<n)throw new Error("digestInto() expects output buffer of length at least "+n)}function NK(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function gW(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}const HK=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function TK(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function YK(t){for(let e=0;e<t.length;e++)t[e]=TK(t[e]);return t}const jS=HK?t=>t:YK;function FK(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function dW(t){return typeof t=="string"&&(t=FK(t)),fm(t),t}class KK{}function MK(t){const e=a=>t().update(dW(a)).digest(),n=t();return e.outputLen=n.outputLen,e.blockLen=n.blockLen,e.create=()=>t(),e}const rp=BigInt(2**32-1),_S=BigInt(32);function UK(t,e=!1){return e?{h:Number(t&rp),l:Number(t>>_S&rp)}:{h:Number(t>>_S&rp)|0,l:Number(t&rp)|0}}function DK(t,e=!1){const n=t.length;let a=new Uint32Array(n),s=new Uint32Array(n);for(let r=0;r<n;r++){const{h:l,l:g}=UK(t[r],e);[a[r],s[r]]=[l,g]}return[a,s]}const LK=(t,e,n)=>t<<n|e>>>32-n,zK=(t,e,n)=>e<<n|t>>>32-n,QK=(t,e,n)=>e<<n-32|t>>>64-n,PK=(t,e,n)=>t<<n-32|e>>>64-n,OK=BigInt(0),Td=BigInt(1),jK=BigInt(2),_K=BigInt(7),$K=BigInt(256),qK=BigInt(113),IW=[],uW=[],CW=[];for(let t=0,e=Td,n=1,a=0;t<24;t++){[n,a]=[a,(2*n+3*a)%5],IW.push(2*(5*a+n)),uW.push((t+1)*(t+2)/2%64);let s=OK;for(let r=0;r<7;r++)e=(e<<Td^(e>>_K)*qK)%$K,e&jK&&(s^=Td<<(Td<<BigInt(r))-Td);CW.push(s)}const pW=DK(CW,!0),e7=pW[0],t7=pW[1],$S=(t,e,n)=>n>32?QK(t,e,n):LK(t,e,n),qS=(t,e,n)=>n>32?PK(t,e,n):zK(t,e,n);function n7(t,e=24){const n=new Uint32Array(10);for(let a=24-e;a<24;a++){for(let l=0;l<10;l++)n[l]=t[l]^t[l+10]^t[l+20]^t[l+30]^t[l+40];for(let l=0;l<10;l+=2){const g=(l+8)%10,c=(l+2)%10,u=n[c],d=n[c+1],p=$S(u,d,1)^n[g],A=qS(u,d,1)^n[g+1];for(let G=0;G<50;G+=10)t[l+G]^=p,t[l+G+1]^=A}let s=t[2],r=t[3];for(let l=0;l<24;l++){const g=uW[l],c=$S(s,r,g),u=qS(s,r,g),d=IW[l];s=t[d],r=t[d+1],t[d]=c,t[d+1]=u}for(let l=0;l<50;l+=10){for(let g=0;g<10;g++)n[g]=t[l+g];for(let g=0;g<10;g++)t[l+g]^=~n[(g+2)%10]&n[(g+4)%10]}t[0]^=e7[a],t[1]^=t7[a]}gW(n)}class r2 extends KK{constructor(e,n,a,s=!1,r=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=n,this.outputLen=a,this.enableXOF=s,this.rounds=r,PS(a),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=NK(this.state)}clone(){return this._cloneInto()}keccak(){jS(this.state32),n7(this.state32,this.rounds),jS(this.state32),this.posOut=0,this.pos=0}update(e){OS(this),e=dW(e),fm(e);const{blockLen:n,state:a}=this,s=e.length;for(let r=0;r<s;){const l=Math.min(n-this.pos,s-r);for(let g=0;g<l;g++)a[this.pos++]^=e[r++];this.pos===n&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:n,pos:a,blockLen:s}=this;e[a]^=n,(n&128)!==0&&a===s-1&&this.keccak(),e[s-1]^=128,this.keccak()}writeInto(e){OS(this,!1),fm(e),this.finish();const n=this.state,{blockLen:a}=this;for(let s=0,r=e.length;s<r;){this.posOut>=a&&this.keccak();const l=Math.min(a-this.posOut,r-s);e.set(n.subarray(this.posOut,this.posOut+l),s),this.posOut+=l,s+=l}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return PS(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(xK(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,gW(this.state)}_cloneInto(e){const{blockLen:n,suffix:a,outputLen:s,rounds:r,enableXOF:l}=this;return e||(e=new r2(n,a,s,l,r)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=r,e.suffix=a,e.outputLen=s,e.enableXOF=l,e.destroyed=this.destroyed,e}}const a7=(t,e,n)=>MK(()=>new r2(e,t,n)),s7=a7(1,136,256/8);function mW(t,e={}){const{as:n=typeof t=="string"?"Hex":"Bytes"}=e,a=s7(T8(t));return n==="Bytes"?a:VR(a)}class i7 extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const n=super.get(e);return super.has(e)&&n!==void 0&&(this.delete(e),super.set(e,n)),n}set(e,n){if(super.set(e,n),this.maxSize&&this.size>this.maxSize){const a=this.keys().next().value;a&&this.delete(a)}return this}}const r7={checksum:new i7(8192)},ib=r7.checksum,o7=/^0x[a-fA-F0-9]{40}$/;function WA(t,e={}){const{strict:n=!0}=e;if(!o7.test(t))throw new ew({address:t,cause:new c7});if(n){if(t.toLowerCase()===t)return;if(l7(t)!==t)throw new ew({address:t,cause:new g7})}}function l7(t){if(ib.has(t))return ib.get(t);WA(t,{strict:!1});const e=t.substring(2).toLowerCase(),n=mW(K8(e),{as:"Bytes"}),a=e.split("");for(let r=0;r<40;r+=2)n[r>>1]>>4>=8&&a[r]&&(a[r]=a[r].toUpperCase()),(n[r>>1]&15)>=8&&a[r+1]&&(a[r+1]=a[r+1].toUpperCase());const s=`0x${a.join("")}`;return ib.set(t,s),s}function k1(t,e={}){const{strict:n=!0}=e??{};try{return WA(t,{strict:n}),!0}catch{return!1}}class ew extends vt{constructor({address:e,cause:n}){super(`Address "${e}" is invalid.`,{cause:n}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class c7 extends vt{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class g7 extends vt{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}function V1(t){let e=!0,n="",a=0,s="",r=!1;for(let l=0;l<t.length;l++){const g=t[l];if(["(",")",","].includes(g)&&(e=!0),g==="("&&a++,g===")"&&a--,!!e){if(a===0){if(g===" "&&["event","function","error",""].includes(s))s="";else if(s+=g,g===")"){r=!0;break}continue}if(g===" "){t[l-1]!==","&&n!==","&&n!==",("&&(n="",e=!1);continue}s+=g,n+=g}}if(!r)throw new vt("Unable to normalize signature.");return s}function R1(t,e){const n=typeof t,a=e.type;switch(a){case"address":return k1(t,{strict:!1});case"bool":return n==="boolean";case"function":return n==="string";case"string":return n==="string";default:return a==="tuple"&&"components"in e?Object.values(e.components).every((s,r)=>R1(Object.values(t)[r],s)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(a)?n==="number"||n==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(a)?n==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(a)?Array.isArray(t)&&t.every(s=>R1(s,{...e,type:a.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function AW(t,e,n){for(const a in t){const s=t[a],r=e[a];if(s.type==="tuple"&&r.type==="tuple"&&"components"in s&&"components"in r)return AW(s.components,r.components,n[a]);const l=[s.type,r.type];if(l.includes("address")&&l.includes("bytes20")?!0:l.includes("address")&&l.includes("string")?k1(n[a],{strict:!1}):l.includes("address")&&l.includes("bytes")?k1(n[a],{strict:!1}):!1)return l}}function yW(t,e={}){const{prepare:n=!0}=e,a=Array.isArray(t)||typeof t=="string"?IS(t):t;return{...a,...n?{hash:yc(a)}:{}}}function d7(t,e,n){const{args:a=[],prepare:s=!0}=n??{},r=P8(e,{strict:!1}),l=t.filter(u=>r?u.type==="function"||u.type==="error"?bW(u)===Of(e,0,4):u.type==="event"?yc(u)===e:!1:"name"in u&&u.name===e);if(l.length===0)throw new W1({name:e});if(l.length===1)return{...l[0],...s?{hash:yc(l[0])}:{}};let g;for(const u of l){if(!("inputs"in u))continue;if(!a||a.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...s?{hash:yc(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==a.length)continue;if(a.every((p,A)=>{const G="inputs"in u&&u.inputs[A];return G?R1(p,G):!1})){if(g&&"inputs"in g&&g.inputs){const p=AW(u.inputs,g.inputs,a);if(p)throw new u7({abiItem:u,type:p[0]},{abiItem:g,type:p[1]})}g=u}}const c=(()=>{if(g)return g;const[u,...d]=l;return{...u,overloads:d}})();if(!c)throw new W1({name:e});return{...c,...s?{hash:yc(c)}:{}}}function bW(t){return Of(yc(t),0,4)}function I7(t){const e=typeof t=="string"?t:Am(t);return V1(e)}function yc(t){return typeof t!="string"&&"hash"in t&&t.hash?t.hash:mW(Pf(I7(t)))}class u7 extends vt{constructor(e,n){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${V1(Am(e.abiItem))}\`, and`,`\`${n.type}\` in \`${V1(Am(n.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class W1 extends vt{constructor({name:e,data:n,type:a="item"}){const s=e?` with name "${e}"`:n?` with data "${n}"`:"";super(`ABI ${a}${s} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}const C7=/^(.*)\[([0-9]*)\]$/,p7=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,hW=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function m7({checksumAddress:t,parameters:e,values:n}){const a=[];for(let s=0;s<e.length;s++)a.push(o2({checksumAddress:t,parameter:e[s],value:n[s]}));return a}function o2({checksumAddress:t=!1,parameter:e,value:n}){const a=e,s=B7(a.type);if(s){const[r,l]=s;return y7(n,{checksumAddress:t,length:r,parameter:{...a,type:l}})}if(a.type==="tuple")return G7(n,{checksumAddress:t,parameter:a});if(a.type==="address")return A7(n,{checksum:t});if(a.type==="bool")return h7(n);if(a.type.startsWith("uint")||a.type.startsWith("int")){const r=a.type.startsWith("int"),[,,l="256"]=hW.exec(a.type)??[];return f7(n,{signed:r,size:Number(l)})}if(a.type.startsWith("bytes"))return b7(n,{type:a.type});if(a.type==="string")return Z7(n);throw new BW(a.type)}function l2(t){let e=0;for(let r=0;r<t.length;r++){const{dynamic:l,encoded:g}=t[r];l?e+=32:e+=qa(g)}const n=[],a=[];let s=0;for(let r=0;r<t.length;r++){const{dynamic:l,encoded:g}=t[r];l?(n.push(Kn(e+s,{size:32})),a.push(g),s+=qa(g)):n.push(g)}return ei(...n,...a)}function A7(t,e){const{checksum:n=!1}=e;return WA(t,{strict:n}),{dynamic:!1,encoded:Bl(t.toLowerCase())}}function y7(t,e){const{checksumAddress:n,length:a,parameter:s}=e,r=a===null;if(!Array.isArray(t))throw new w7(t);if(!r&&t.length!==a)throw new S7({expectedLength:a,givenLength:t.length,type:`${s.type}[${a}]`});let l=!1;const g=[];for(let c=0;c<t.length;c++){const u=o2({checksumAddress:n,parameter:s,value:t[c]});u.dynamic&&(l=!0),g.push(u)}if(r||l){const c=l2(g);if(r){const u=Kn(g.length,{size:32});return{dynamic:!0,encoded:g.length>0?ei(u,c):u}}if(l)return{dynamic:!0,encoded:c}}return{dynamic:!1,encoded:ei(...g.map(({encoded:c})=>c))}}function b7(t,{type:e}){const[,n]=e.split("bytes"),a=qa(t);if(!n){let s=t;return a%32!==0&&(s=Sl(s,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:ei(Bl(Kn(a,{size:32})),s)}}if(a!==Number.parseInt(n))throw new ZW({expectedSize:Number.parseInt(n),value:t});return{dynamic:!1,encoded:Sl(t)}}function h7(t){if(typeof t!="boolean")throw new vt(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Bl(kR(t))}}function f7(t,{signed:e,size:n}){if(typeof n=="number"){const a=2n**(BigInt(n)-(e?1n:0n))-1n,s=e?-a-1n:0n;if(t>a||t<s)throw new RR({max:a.toString(),min:s.toString(),signed:e,size:n/8,value:t.toString()})}return{dynamic:!1,encoded:Kn(t,{size:32,signed:e})}}function Z7(t){const e=Pf(t),n=Math.ceil(qa(e)/32),a=[];for(let s=0;s<n;s++)a.push(Sl(Of(e,s*32,(s+1)*32)));return{dynamic:!0,encoded:ei(Sl(Kn(qa(e),{size:32})),...a)}}function G7(t,e){const{checksumAddress:n,parameter:a}=e;let s=!1;const r=[];for(let l=0;l<a.components.length;l++){const g=a.components[l],c=Array.isArray(t)?l:g.name,u=o2({checksumAddress:n,parameter:g,value:t[c]});r.push(u),u.dynamic&&(s=!0)}return{dynamic:s,encoded:s?l2(r):ei(...r.map(({encoded:l})=>l))}}function B7(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function fW(t,e,n){const{checksumAddress:a=!1}={};if(t.length!==e.length)throw new GW({expectedLength:t.length,givenLength:e.length});const s=m7({checksumAddress:a,parameters:t,values:e}),r=l2(s);return r.length===0?"0x":r}function v1(t,e){if(t.length!==e.length)throw new GW({expectedLength:t.length,givenLength:e.length});const n=[];for(let a=0;a<t.length;a++){const s=t[a],r=e[a];n.push(v1.encode(s,r))}return ei(...n)}(function(t){function e(n,a,s=!1){if(n==="address"){const c=a;return WA(c),Bl(c.toLowerCase(),s?32:0)}if(n==="string")return Pf(a);if(n==="bytes")return a;if(n==="bool")return Bl(kR(a),s?32:1);const r=n.match(hW);if(r){const[c,u,d="256"]=r,p=Number.parseInt(d)/8;return Kn(a,{size:s?32:p,signed:u==="int"})}const l=n.match(p7);if(l){const[c,u]=l;if(Number.parseInt(u)!==(a.length-2)/2)throw new ZW({expectedSize:Number.parseInt(u),value:a});return Sl(a,s?32:0)}const g=n.match(C7);if(g&&Array.isArray(a)){const[c,u]=g,d=[];for(let p=0;p<a.length;p++)d.push(e(u,a[p],!0));return d.length===0?"0x":ei(...d)}throw new BW(n)}t.encode=e})(v1||(v1={}));class S7 extends vt{constructor({expectedLength:e,givenLength:n,type:a}){super(`Array length mismatch for type \`${a}\`. Expected: \`${e}\`. Given: \`${n}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class ZW extends vt{constructor({expectedSize:e,value:n}){super(`Size of bytes "${n}" (bytes${qa(n)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class GW extends vt{constructor({expectedLength:e,givenLength:n}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${n}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class w7 extends vt{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class BW extends vt{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}function k7(t,e){var s;const{bytecode:n,args:a}=e;return ei(n,(s=t.inputs)!=null&&s.length&&(a!=null&&a.length)?fW(t.inputs,a):"0x")}function V7(t){return yW(t)}function R7(t,...e){const{overloads:n}=t,a=n?W7([t,...n],t.name,{args:e[0]}):t,s=v7(a),r=e.length>0?fW(a.inputs,e[0]):void 0;return r?ei(s,r):s}function rc(t,e={}){return yW(t,e)}function W7(t,e,n){const a=d7(t,e,n);if(a.type!=="function")throw new W1({name:e,type:"function"});return a}function v7(t){return bW(t)}const E7="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",ds="0x0000000000000000000000000000000000000000",X7="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function J7(t,e){const{blockNumber:n,blockTag:a,calls:s,stateOverrides:r,traceAssetChanges:l,traceTransfers:g,validation:c}=e,u=e.account?Mt(e.account):void 0;if(l&&!u)throw new Ie("`account` is required when `traceAssetChanges` is true");const d=u?k7(V7("constructor(bytes, bytes)"),{bytecode:JR,args:[X7,R7(rc("function getBalance(address)"),[u.address])]}):void 0,p=l?await Promise.all(e.calls.map(async R=>{if(!R.data&&!R.abi)return;const{accessList:T}=await $R(t,{account:u.address,...R,data:R.abi?ma(R):R.data});return T.map(({address:J,storageKeys:K})=>K.length>0?J:null)})).then(R=>R.flat().filter(Boolean)):[],A=r==null?void 0:r.map(R=>R.address===(u==null?void 0:u.address)?{...R,nonce:0}:R),G=await w1(t,{blockNumber:n,blockTag:a,blocks:[...l?[{calls:[{data:d}],stateOverrides:r},{calls:p.map((R,T)=>({abi:[rc("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:ds,nonce:T})),stateOverrides:[{address:ds,nonce:0}]}]:[],{calls:[...s,{}].map((R,T)=>({...R,from:u==null?void 0:u.address,nonce:T})),stateOverrides:A},...l?[{calls:[{data:d}]},{calls:p.map((R,T)=>({abi:[rc("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:R,from:ds,nonce:T})),stateOverrides:[{address:ds,nonce:0}]},{calls:p.map((R,T)=>({to:R,abi:[rc("function decimals() returns (uint256)")],functionName:"decimals",from:ds,nonce:T})),stateOverrides:[{address:ds,nonce:0}]},{calls:p.map((R,T)=>({to:R,abi:[rc("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:ds,nonce:T})),stateOverrides:[{address:ds,nonce:0}]},{calls:p.map((R,T)=>({to:R,abi:[rc("function symbol() returns (string)")],functionName:"symbol",from:ds,nonce:T})),stateOverrides:[{address:ds,nonce:0}]}]:[]],traceTransfers:g,validation:c}),w=l?G[2]:G[0],[Z,V,,W,D,x,Y,z]=l?G:[],{calls:Q,...P}=w,_=Q.slice(0,-1)??[],re=(Z==null?void 0:Z.calls)??[],ce=(V==null?void 0:V.calls)??[],ae=[...re,...ce].map(R=>R.status==="success"?at(R.data):null),pe=(W==null?void 0:W.calls)??[],ue=(D==null?void 0:D.calls)??[],M=[...pe,...ue].map(R=>R.status==="success"?at(R.data):null),S=((x==null?void 0:x.calls)??[]).map(R=>R.status==="success"?R.result:null),E=((z==null?void 0:z.calls)??[]).map(R=>R.status==="success"?R.result:null),N=((Y==null?void 0:Y.calls)??[]).map(R=>R.status==="success"?R.result:null),X=[];for(const[R,T]of M.entries()){const J=ae[R];if(typeof T!="bigint"||typeof J!="bigint")continue;const K=S[R-1],se=E[R-1],de=N[R-1],le=R===0?{address:E7,decimals:18,symbol:"ETH"}:{address:p[R-1],decimals:de||K?Number(K??1):void 0,symbol:se??void 0};X.some(Ze=>Ze.token.address===le.address)||X.push({token:le,value:{pre:J,post:T,diff:T-J}})}return{assetChanges:X,block:P,results:_}}class SW extends Bf{constructor(e,n){super(),this.finished=!1,this.destroyed=!1,LF(e);const a=dA(n);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const s=this.blockLen,r=new Uint8Array(s);r.set(a.length>s?e.create().update(a).digest():a);for(let l=0;l<r.length;l++)r[l]^=54;this.iHash.update(r),this.oHash=e.create();for(let l=0;l<r.length;l++)r[l]^=106;this.oHash.update(r),Rg(r)}update(e){return Vg(this),this.iHash.update(e),this}digestInto(e){Vg(this),hl(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:n,iHash:a,finished:s,destroyed:r,blockLen:l,outputLen:g}=this;return e=e,e.finished=s,e.destroyed=r,e.blockLen=l,e.outputLen=g,e.oHash=n._cloneInto(e.oHash),e.iHash=a._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const wW=(t,e,n)=>new SW(t,e).update(n).digest();wW.create=(t,e)=>new SW(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const c2=BigInt(0),E1=BigInt(1);function Eu(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function g2(t){if(!Eu(t))throw new Error("Uint8Array expected")}function UI(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function op(t){const e=t.toString(16);return e.length&1?"0"+e:e}function kW(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?c2:BigInt("0x"+t)}const VW=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",x7=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function DI(t){if(g2(t),VW)return t.toHex();let e="";for(let n=0;n<t.length;n++)e+=x7[t[n]];return e}const ui={_0:48,_9:57,A:65,F:70,a:97,f:102};function tw(t){if(t>=ui._0&&t<=ui._9)return t-ui._0;if(t>=ui.A&&t<=ui.F)return t-(ui.A-10);if(t>=ui.a&&t<=ui.f)return t-(ui.a-10)}function Zm(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(VW)return Uint8Array.fromHex(t);const e=t.length,n=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const a=new Uint8Array(n);for(let s=0,r=0;s<n;s++,r+=2){const l=tw(t.charCodeAt(r)),g=tw(t.charCodeAt(r+1));if(l===void 0||g===void 0){const c=t[r]+t[r+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+r)}a[s]=l*16+g}return a}function dl(t){return kW(DI(t))}function RW(t){return g2(t),kW(DI(Uint8Array.from(t).reverse()))}function Xu(t,e){return Zm(t.toString(16).padStart(e*2,"0"))}function WW(t,e){return Xu(t,e).reverse()}function La(t,e,n){let a;if(typeof e=="string")try{a=Zm(e)}catch(r){throw new Error(t+" must be hex string or Uint8Array, cause: "+r)}else if(Eu(e))a=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const s=a.length;if(typeof n=="number"&&s!==n)throw new Error(t+" of length "+n+" expected, got "+s);return a}function Gm(...t){let e=0;for(let a=0;a<t.length;a++){const s=t[a];g2(s),e+=s.length}const n=new Uint8Array(e);for(let a=0,s=0;a<t.length;a++){const r=t[a];n.set(r,s),s+=r.length}return n}const rb=t=>typeof t=="bigint"&&c2<=t;function d2(t,e,n){return rb(t)&&rb(e)&&rb(n)&&e<=t&&t<n}function kc(t,e,n,a){if(!d2(e,n,a))throw new Error("expected valid "+t+": "+n+" <= n < "+a+", got "+e)}function N7(t){let e;for(e=0;t>c2;t>>=E1,e+=1);return e}const vA=t=>(E1<<BigInt(t))-E1,ob=t=>new Uint8Array(t),nw=t=>Uint8Array.from(t);function H7(t,e,n){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof n!="function")throw new Error("hmacFn must be a function");let a=ob(t),s=ob(t),r=0;const l=()=>{a.fill(1),s.fill(0),r=0},g=(...p)=>n(s,a,...p),c=(p=ob(0))=>{s=g(nw([0]),p),a=g(),p.length!==0&&(s=g(nw([1]),p),a=g())},u=()=>{if(r++>=1e3)throw new Error("drbg: tried 1000 values");let p=0;const A=[];for(;p<e;){a=g();const G=a.slice();A.push(G),p+=a.length}return Gm(...A)};return(p,A)=>{l(),c(p);let G;for(;!(G=A(u()));)c();return l(),G}}const T7={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||Eu(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function EA(t,e,n={}){const a=(s,r,l)=>{const g=T7[r];if(typeof g!="function")throw new Error("invalid validator function");const c=t[s];if(!(l&&c===void 0)&&!g(c,t))throw new Error("param "+String(s)+" is invalid. Expected "+r+", got "+c)};for(const[s,r]of Object.entries(e))a(s,r,!1);for(const[s,r]of Object.entries(n))a(s,r,!0);return t}function aw(t){const e=new WeakMap;return(n,...a)=>{const s=e.get(n);if(s!==void 0)return s;const r=t(n,...a);return e.set(n,r),r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const ga=BigInt(0),Pn=BigInt(1),xo=BigInt(2),Y7=BigInt(3),vW=BigInt(4),EW=BigInt(5),XW=BigInt(8);function la(t,e){const n=t%e;return n>=ga?n:e+n}function Ka(t,e,n){let a=t;for(;e-- >ga;)a*=a,a%=n;return a}function X1(t,e){if(t===ga)throw new Error("invert: expected non-zero number");if(e<=ga)throw new Error("invert: expected positive modulus, got "+e);let n=la(t,e),a=e,s=ga,r=Pn;for(;n!==ga;){const g=a/n,c=a%n,u=s-r*g;a=n,n=c,s=r,r=u}if(a!==Pn)throw new Error("invert: does not exist");return la(s,e)}function JW(t,e){const n=(t.ORDER+Pn)/vW,a=t.pow(e,n);if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function F7(t,e){const n=(t.ORDER-EW)/XW,a=t.mul(e,xo),s=t.pow(a,n),r=t.mul(e,s),l=t.mul(t.mul(r,xo),s),g=t.mul(r,t.sub(l,t.ONE));if(!t.eql(t.sqr(g),e))throw new Error("Cannot find square root");return g}function K7(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Pn,n=0;for(;e%xo===ga;)e/=xo,n++;let a=xo;const s=I2(t);for(;sw(s,a)===1;)if(a++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(n===1)return JW;let r=s.pow(a,e);const l=(e+Pn)/xo;return function(c,u){if(c.is0(u))return u;if(sw(c,u)!==1)throw new Error("Cannot find square root");let d=n,p=c.mul(c.ONE,r),A=c.pow(u,e),G=c.pow(u,l);for(;!c.eql(A,c.ONE);){if(c.is0(A))return c.ZERO;let w=1,Z=c.sqr(A);for(;!c.eql(Z,c.ONE);)if(w++,Z=c.sqr(Z),w===d)throw new Error("Cannot find square root");const V=Pn<<BigInt(d-w-1),W=c.pow(p,V);d=w,p=c.sqr(W),A=c.mul(A,p),G=c.mul(G,W)}return G}}function M7(t){return t%vW===Y7?JW:t%XW===EW?F7:K7(t)}const U7=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function D7(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},n=U7.reduce((a,s)=>(a[s]="function",a),e);return EA(t,n)}function L7(t,e,n){if(n<ga)throw new Error("invalid exponent, negatives unsupported");if(n===ga)return t.ONE;if(n===Pn)return e;let a=t.ONE,s=e;for(;n>ga;)n&Pn&&(a=t.mul(a,s)),s=t.sqr(s),n>>=Pn;return a}function xW(t,e,n=!1){const a=new Array(e.length).fill(n?t.ZERO:void 0),s=e.reduce((l,g,c)=>t.is0(g)?l:(a[c]=l,t.mul(l,g)),t.ONE),r=t.inv(s);return e.reduceRight((l,g,c)=>t.is0(g)?l:(a[c]=t.mul(l,a[c]),t.mul(l,g)),r),a}function sw(t,e){const n=(t.ORDER-Pn)/xo,a=t.pow(e,n),s=t.eql(a,t.ONE),r=t.eql(a,t.ZERO),l=t.eql(a,t.neg(t.ONE));if(!s&&!r&&!l)throw new Error("invalid Legendre symbol result");return s?1:r?0:-1}function NW(t,e){e!==void 0&&GI(e);const n=e!==void 0?e:t.toString(2).length,a=Math.ceil(n/8);return{nBitLength:n,nByteLength:a}}function I2(t,e,n=!1,a={}){if(t<=ga)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:s,nByteLength:r}=NW(t,e);if(r>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const g=Object.freeze({ORDER:t,isLE:n,BITS:s,BYTES:r,MASK:vA(s),ZERO:ga,ONE:Pn,create:c=>la(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return ga<=c&&c<t},is0:c=>c===ga,isOdd:c=>(c&Pn)===Pn,neg:c=>la(-c,t),eql:(c,u)=>c===u,sqr:c=>la(c*c,t),add:(c,u)=>la(c+u,t),sub:(c,u)=>la(c-u,t),mul:(c,u)=>la(c*u,t),pow:(c,u)=>L7(g,c,u),div:(c,u)=>la(c*X1(u,t),t),sqrN:c=>c*c,addN:(c,u)=>c+u,subN:(c,u)=>c-u,mulN:(c,u)=>c*u,inv:c=>X1(c,t),sqrt:a.sqrt||(c=>(l||(l=M7(t)),l(g,c))),toBytes:c=>n?WW(c,r):Xu(c,r),fromBytes:c=>{if(c.length!==r)throw new Error("Field.fromBytes: expected "+r+" bytes, got "+c.length);return n?RW(c):dl(c)},invertBatch:c=>xW(g,c),cmov:(c,u,d)=>d?u:c});return Object.freeze(g)}function HW(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function TW(t){const e=HW(t);return e+Math.ceil(e/2)}function z7(t,e,n=!1){const a=t.length,s=HW(e),r=TW(e);if(a<16||a<r||a>1024)throw new Error("expected "+r+"-1024 bytes of input, got "+a);const l=n?RW(t):dl(t),g=la(l,e-Pn)+Pn;return n?WW(g,s):Xu(g,s)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const iw=BigInt(0),J1=BigInt(1);function lb(t,e){const n=e.negate();return t?n:e}function YW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function cb(t,e){YW(t,e);const n=Math.ceil(e/t)+1,a=2**(t-1),s=2**t,r=vA(t),l=BigInt(t);return{windows:n,windowSize:a,mask:r,maxNumber:s,shiftBy:l}}function rw(t,e,n){const{windowSize:a,mask:s,maxNumber:r,shiftBy:l}=n;let g=Number(t&s),c=t>>l;g>a&&(g-=r,c+=J1);const u=e*a,d=u+Math.abs(g)-1,p=g===0,A=g<0,G=e%2!==0;return{nextN:c,offset:d,isZero:p,isNeg:A,isNegF:G,offsetF:u}}function Q7(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((n,a)=>{if(!(n instanceof e))throw new Error("invalid point at index "+a)})}function P7(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((n,a)=>{if(!e.isValid(n))throw new Error("invalid scalar at index "+a)})}const gb=new WeakMap,FW=new WeakMap;function db(t){return FW.get(t)||1}function O7(t,e){return{constTimeNegate:lb,hasPrecomputes(n){return db(n)!==1},unsafeLadder(n,a,s=t.ZERO){let r=n;for(;a>iw;)a&J1&&(s=s.add(r)),r=r.double(),a>>=J1;return s},precomputeWindow(n,a){const{windows:s,windowSize:r}=cb(a,e),l=[];let g=n,c=g;for(let u=0;u<s;u++){c=g,l.push(c);for(let d=1;d<r;d++)c=c.add(g),l.push(c);g=c.double()}return l},wNAF(n,a,s){let r=t.ZERO,l=t.BASE;const g=cb(n,e);for(let c=0;c<g.windows;c++){const{nextN:u,offset:d,isZero:p,isNeg:A,isNegF:G,offsetF:w}=rw(s,c,g);s=u,p?l=l.add(lb(G,a[w])):r=r.add(lb(A,a[d]))}return{p:r,f:l}},wNAFUnsafe(n,a,s,r=t.ZERO){const l=cb(n,e);for(let g=0;g<l.windows&&s!==iw;g++){const{nextN:c,offset:u,isZero:d,isNeg:p}=rw(s,g,l);if(s=c,!d){const A=a[u];r=r.add(p?A.negate():A)}}return r},getPrecomputes(n,a,s){let r=gb.get(a);return r||(r=this.precomputeWindow(a,n),n!==1&&gb.set(a,s(r))),r},wNAFCached(n,a,s){const r=db(n);return this.wNAF(r,this.getPrecomputes(r,n,s),a)},wNAFCachedUnsafe(n,a,s,r){const l=db(n);return l===1?this.unsafeLadder(n,a,r):this.wNAFUnsafe(l,this.getPrecomputes(l,n,s),a,r)},setWindowSize(n,a){YW(a,e),FW.set(n,a),gb.delete(n)}}}function j7(t,e,n,a){Q7(n,t),P7(a,e);const s=n.length,r=a.length;if(s!==r)throw new Error("arrays of points and scalars must have equal length");const l=t.ZERO,g=N7(BigInt(s));let c=1;g>12?c=g-3:g>4?c=g-2:g>0&&(c=2);const u=vA(c),d=new Array(Number(u)+1).fill(l),p=Math.floor((e.BITS-1)/c)*c;let A=l;for(let G=p;G>=0;G-=c){d.fill(l);for(let Z=0;Z<r;Z++){const V=a[Z],W=Number(V>>BigInt(G)&u);d[W]=d[W].add(n[Z])}let w=l;for(let Z=d.length-1,V=l;Z>0;Z--)V=V.add(d[Z]),w=w.add(V);if(A=A.add(w),G!==0)for(let Z=0;Z<c;Z++)A=A.double()}return A}function KW(t){return D7(t.Fp),EA(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...NW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function ow(t){t.lowS!==void 0&&UI("lowS",t.lowS),t.prehash!==void 0&&UI("prehash",t.prehash)}function _7(t){const e=KW(t);EA(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:n,Fp:a,a:s}=e;if(n){if(!a.eql(s,a.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof n!="object"||typeof n.beta!="bigint"||typeof n.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class $7 extends Error{constructor(e=""){super(e)}}const bi={Err:$7,_tlv:{encode:(t,e)=>{const{Err:n}=bi;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length&1)throw new n("tlv.encode: unpadded data");const a=e.length/2,s=op(a);if(s.length/2&128)throw new n("tlv.encode: long form length too big");const r=a>127?op(s.length/2|128):"";return op(t)+r+s+e},decode(t,e){const{Err:n}=bi;let a=0;if(t<0||t>256)throw new n("tlv.encode: wrong tag");if(e.length<2||e[a++]!==t)throw new n("tlv.decode: wrong tlv");const s=e[a++],r=!!(s&128);let l=0;if(!r)l=s;else{const c=s&127;if(!c)throw new n("tlv.decode(long): indefinite length not supported");if(c>4)throw new n("tlv.decode(long): byte length is too big");const u=e.subarray(a,a+c);if(u.length!==c)throw new n("tlv.decode: length bytes not complete");if(u[0]===0)throw new n("tlv.decode(long): zero leftmost byte");for(const d of u)l=l<<8|d;if(a+=c,l<128)throw new n("tlv.decode(long): not minimal encoding")}const g=e.subarray(a,a+l);if(g.length!==l)throw new n("tlv.decode: wrong value length");return{v:g,l:e.subarray(a+l)}}},_int:{encode(t){const{Err:e}=bi;if(t<Ji)throw new e("integer: negative integers are not allowed");let n=op(t);if(Number.parseInt(n[0],16)&8&&(n="00"+n),n.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return n},decode(t){const{Err:e}=bi;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return dl(t)}},toSig(t){const{Err:e,_int:n,_tlv:a}=bi,s=La("signature",t),{v:r,l}=a.decode(48,s);if(l.length)throw new e("invalid signature: left bytes after parsing");const{v:g,l:c}=a.decode(2,r),{v:u,l:d}=a.decode(2,c);if(d.length)throw new e("invalid signature: left bytes after parsing");return{r:n.decode(g),s:n.decode(u)}},hexFromSig(t){const{_tlv:e,_int:n}=bi,a=e.encode(2,n.encode(t.r)),s=e.encode(2,n.encode(t.s)),r=a+s;return e.encode(48,r)}};function Ib(t,e){return DI(Xu(t,e))}const Ji=BigInt(0),Cn=BigInt(1);BigInt(2);const ub=BigInt(3),q7=BigInt(4);function eM(t){const e=_7(t),{Fp:n}=e,a=I2(e.n,e.nBitLength),s=e.toBytes||((x,Y,z)=>{const Q=Y.toAffine();return Gm(Uint8Array.from([4]),n.toBytes(Q.x),n.toBytes(Q.y))}),r=e.fromBytes||(x=>{const Y=x.subarray(1),z=n.fromBytes(Y.subarray(0,n.BYTES)),Q=n.fromBytes(Y.subarray(n.BYTES,2*n.BYTES));return{x:z,y:Q}});function l(x){const{a:Y,b:z}=e,Q=n.sqr(x),P=n.mul(Q,x);return n.add(n.add(P,n.mul(x,Y)),z)}function g(x,Y){const z=n.sqr(Y),Q=l(x);return n.eql(z,Q)}if(!g(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const c=n.mul(n.pow(e.a,ub),q7),u=n.mul(n.sqr(e.b),BigInt(27));if(n.is0(n.add(c,u)))throw new Error("bad curve params: a or b");function d(x){return d2(x,Cn,e.n)}function p(x){const{allowedPrivateKeyLengths:Y,nByteLength:z,wrapPrivateKey:Q,n:P}=e;if(Y&&typeof x!="bigint"){if(Eu(x)&&(x=DI(x)),typeof x!="string"||!Y.includes(x.length))throw new Error("invalid private key");x=x.padStart(z*2,"0")}let _;try{_=typeof x=="bigint"?x:dl(La("private key",x,z))}catch{throw new Error("invalid private key, expected hex or "+z+" bytes, got "+typeof x)}return Q&&(_=la(_,P)),kc("private key",_,Cn,P),_}function A(x){if(!(x instanceof Z))throw new Error("ProjectivePoint expected")}const G=aw((x,Y)=>{const{px:z,py:Q,pz:P}=x;if(n.eql(P,n.ONE))return{x:z,y:Q};const _=x.is0();Y==null&&(Y=_?n.ONE:n.inv(P));const re=n.mul(z,Y),ce=n.mul(Q,Y),ae=n.mul(P,Y);if(_)return{x:n.ZERO,y:n.ZERO};if(!n.eql(ae,n.ONE))throw new Error("invZ was invalid");return{x:re,y:ce}}),w=aw(x=>{if(x.is0()){if(e.allowInfinityPoint&&!n.is0(x.py))return;throw new Error("bad point: ZERO")}const{x:Y,y:z}=x.toAffine();if(!n.isValid(Y)||!n.isValid(z))throw new Error("bad point: x or y not FE");if(!g(Y,z))throw new Error("bad point: equation left != right");if(!x.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class Z{constructor(Y,z,Q){if(Y==null||!n.isValid(Y))throw new Error("x required");if(z==null||!n.isValid(z)||n.is0(z))throw new Error("y required");if(Q==null||!n.isValid(Q))throw new Error("z required");this.px=Y,this.py=z,this.pz=Q,Object.freeze(this)}static fromAffine(Y){const{x:z,y:Q}=Y||{};if(!Y||!n.isValid(z)||!n.isValid(Q))throw new Error("invalid affine point");if(Y instanceof Z)throw new Error("projective point not allowed");const P=_=>n.eql(_,n.ZERO);return P(z)&&P(Q)?Z.ZERO:new Z(z,Q,n.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(Y){const z=xW(n,Y.map(Q=>Q.pz));return Y.map((Q,P)=>Q.toAffine(z[P])).map(Z.fromAffine)}static fromHex(Y){const z=Z.fromAffine(r(La("pointHex",Y)));return z.assertValidity(),z}static fromPrivateKey(Y){return Z.BASE.multiply(p(Y))}static msm(Y,z){return j7(Z,a,Y,z)}_setWindowSize(Y){D.setWindowSize(this,Y)}assertValidity(){w(this)}hasEvenY(){const{y:Y}=this.toAffine();if(n.isOdd)return!n.isOdd(Y);throw new Error("Field doesn't support isOdd")}equals(Y){A(Y);const{px:z,py:Q,pz:P}=this,{px:_,py:re,pz:ce}=Y,ae=n.eql(n.mul(z,ce),n.mul(_,P)),pe=n.eql(n.mul(Q,ce),n.mul(re,P));return ae&&pe}negate(){return new Z(this.px,n.neg(this.py),this.pz)}double(){const{a:Y,b:z}=e,Q=n.mul(z,ub),{px:P,py:_,pz:re}=this;let ce=n.ZERO,ae=n.ZERO,pe=n.ZERO,ue=n.mul(P,P),M=n.mul(_,_),S=n.mul(re,re),E=n.mul(P,_);return E=n.add(E,E),pe=n.mul(P,re),pe=n.add(pe,pe),ce=n.mul(Y,pe),ae=n.mul(Q,S),ae=n.add(ce,ae),ce=n.sub(M,ae),ae=n.add(M,ae),ae=n.mul(ce,ae),ce=n.mul(E,ce),pe=n.mul(Q,pe),S=n.mul(Y,S),E=n.sub(ue,S),E=n.mul(Y,E),E=n.add(E,pe),pe=n.add(ue,ue),ue=n.add(pe,ue),ue=n.add(ue,S),ue=n.mul(ue,E),ae=n.add(ae,ue),S=n.mul(_,re),S=n.add(S,S),ue=n.mul(S,E),ce=n.sub(ce,ue),pe=n.mul(S,M),pe=n.add(pe,pe),pe=n.add(pe,pe),new Z(ce,ae,pe)}add(Y){A(Y);const{px:z,py:Q,pz:P}=this,{px:_,py:re,pz:ce}=Y;let ae=n.ZERO,pe=n.ZERO,ue=n.ZERO;const M=e.a,S=n.mul(e.b,ub);let E=n.mul(z,_),N=n.mul(Q,re),X=n.mul(P,ce),R=n.add(z,Q),T=n.add(_,re);R=n.mul(R,T),T=n.add(E,N),R=n.sub(R,T),T=n.add(z,P);let J=n.add(_,ce);return T=n.mul(T,J),J=n.add(E,X),T=n.sub(T,J),J=n.add(Q,P),ae=n.add(re,ce),J=n.mul(J,ae),ae=n.add(N,X),J=n.sub(J,ae),ue=n.mul(M,T),ae=n.mul(S,X),ue=n.add(ae,ue),ae=n.sub(N,ue),ue=n.add(N,ue),pe=n.mul(ae,ue),N=n.add(E,E),N=n.add(N,E),X=n.mul(M,X),T=n.mul(S,T),N=n.add(N,X),X=n.sub(E,X),X=n.mul(M,X),T=n.add(T,X),E=n.mul(N,T),pe=n.add(pe,E),E=n.mul(J,T),ae=n.mul(R,ae),ae=n.sub(ae,E),E=n.mul(R,N),ue=n.mul(J,ue),ue=n.add(ue,E),new Z(ae,pe,ue)}subtract(Y){return this.add(Y.negate())}is0(){return this.equals(Z.ZERO)}wNAF(Y){return D.wNAFCached(this,Y,Z.normalizeZ)}multiplyUnsafe(Y){const{endo:z,n:Q}=e;kc("scalar",Y,Ji,Q);const P=Z.ZERO;if(Y===Ji)return P;if(this.is0()||Y===Cn)return this;if(!z||D.hasPrecomputes(this))return D.wNAFCachedUnsafe(this,Y,Z.normalizeZ);let{k1neg:_,k1:re,k2neg:ce,k2:ae}=z.splitScalar(Y),pe=P,ue=P,M=this;for(;re>Ji||ae>Ji;)re&Cn&&(pe=pe.add(M)),ae&Cn&&(ue=ue.add(M)),M=M.double(),re>>=Cn,ae>>=Cn;return _&&(pe=pe.negate()),ce&&(ue=ue.negate()),ue=new Z(n.mul(ue.px,z.beta),ue.py,ue.pz),pe.add(ue)}multiply(Y){const{endo:z,n:Q}=e;kc("scalar",Y,Cn,Q);let P,_;if(z){const{k1neg:re,k1:ce,k2neg:ae,k2:pe}=z.splitScalar(Y);let{p:ue,f:M}=this.wNAF(ce),{p:S,f:E}=this.wNAF(pe);ue=D.constTimeNegate(re,ue),S=D.constTimeNegate(ae,S),S=new Z(n.mul(S.px,z.beta),S.py,S.pz),P=ue.add(S),_=M.add(E)}else{const{p:re,f:ce}=this.wNAF(Y);P=re,_=ce}return Z.normalizeZ([P,_])[0]}multiplyAndAddUnsafe(Y,z,Q){const P=Z.BASE,_=(ce,ae)=>ae===Ji||ae===Cn||!ce.equals(P)?ce.multiplyUnsafe(ae):ce.multiply(ae),re=_(this,z).add(_(Y,Q));return re.is0()?void 0:re}toAffine(Y){return G(this,Y)}isTorsionFree(){const{h:Y,isTorsionFree:z}=e;if(Y===Cn)return!0;if(z)return z(Z,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:Y,clearCofactor:z}=e;return Y===Cn?this:z?z(Z,this):this.multiplyUnsafe(e.h)}toRawBytes(Y=!0){return UI("isCompressed",Y),this.assertValidity(),s(Z,this,Y)}toHex(Y=!0){return UI("isCompressed",Y),DI(this.toRawBytes(Y))}}Z.BASE=new Z(e.Gx,e.Gy,n.ONE),Z.ZERO=new Z(n.ZERO,n.ONE,n.ZERO);const{endo:V,nBitLength:W}=e,D=O7(Z,V?Math.ceil(W/2):W);return{CURVE:e,ProjectivePoint:Z,normPrivateKeyToScalar:p,weierstrassEquation:l,isWithinCurveOrder:d}}function tM(t){const e=KW(t);return EA(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function nM(t){const e=tM(t),{Fp:n,n:a,nByteLength:s,nBitLength:r}=e,l=n.BYTES+1,g=2*n.BYTES+1;function c(S){return la(S,a)}function u(S){return X1(S,a)}const{ProjectivePoint:d,normPrivateKeyToScalar:p,weierstrassEquation:A,isWithinCurveOrder:G}=eM({...e,toBytes(S,E,N){const X=E.toAffine(),R=n.toBytes(X.x),T=Gm;return UI("isCompressed",N),N?T(Uint8Array.from([E.hasEvenY()?2:3]),R):T(Uint8Array.from([4]),R,n.toBytes(X.y))},fromBytes(S){const E=S.length,N=S[0],X=S.subarray(1);if(E===l&&(N===2||N===3)){const R=dl(X);if(!d2(R,Cn,n.ORDER))throw new Error("Point is not on curve");const T=A(R);let J;try{J=n.sqrt(T)}catch(de){const le=de instanceof Error?": "+de.message:"";throw new Error("Point is not on curve"+le)}const K=(J&Cn)===Cn;return(N&1)===1!==K&&(J=n.neg(J)),{x:R,y:J}}else if(E===g&&N===4){const R=n.fromBytes(X.subarray(0,n.BYTES)),T=n.fromBytes(X.subarray(n.BYTES,2*n.BYTES));return{x:R,y:T}}else{const R=l,T=g;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+T+", got "+E)}}});function w(S){const E=a>>Cn;return S>E}function Z(S){return w(S)?c(-S):S}const V=(S,E,N)=>dl(S.slice(E,N));class W{constructor(E,N,X){kc("r",E,Cn,a),kc("s",N,Cn,a),this.r=E,this.s=N,X!=null&&(this.recovery=X),Object.freeze(this)}static fromCompact(E){const N=s;return E=La("compactSignature",E,N*2),new W(V(E,0,N),V(E,N,2*N))}static fromDER(E){const{r:N,s:X}=bi.toSig(La("DER",E));return new W(N,X)}assertValidity(){}addRecoveryBit(E){return new W(this.r,this.s,E)}recoverPublicKey(E){const{r:N,s:X,recovery:R}=this,T=P(La("msgHash",E));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const J=R===2||R===3?N+e.n:N;if(J>=n.ORDER)throw new Error("recovery id 2 or 3 invalid");const K=(R&1)===0?"02":"03",se=d.fromHex(K+Ib(J,n.BYTES)),de=u(J),le=c(-T*de),Ze=c(X*de),Ne=d.BASE.multiplyAndAddUnsafe(se,le,Ze);if(!Ne)throw new Error("point at infinify");return Ne.assertValidity(),Ne}hasHighS(){return w(this.s)}normalizeS(){return this.hasHighS()?new W(this.r,c(-this.s),this.recovery):this}toDERRawBytes(){return Zm(this.toDERHex())}toDERHex(){return bi.hexFromSig(this)}toCompactRawBytes(){return Zm(this.toCompactHex())}toCompactHex(){const E=s;return Ib(this.r,E)+Ib(this.s,E)}}const D={isValidPrivateKey(S){try{return p(S),!0}catch{return!1}},normPrivateKeyToScalar:p,randomPrivateKey:()=>{const S=TW(e.n);return z7(e.randomBytes(S),e.n)},precompute(S=8,E=d.BASE){return E._setWindowSize(S),E.multiply(BigInt(3)),E}};function x(S,E=!0){return d.fromPrivateKey(S).toRawBytes(E)}function Y(S){if(typeof S=="bigint")return!1;if(S instanceof d)return!0;const N=La("key",S).length,X=n.BYTES,R=X+1,T=2*X+1;if(!(e.allowedPrivateKeyLengths||s===R))return N===R||N===T}function z(S,E,N=!0){if(Y(S)===!0)throw new Error("first arg must be private key");if(Y(E)===!1)throw new Error("second arg must be public key");return d.fromHex(E).multiply(p(S)).toRawBytes(N)}const Q=e.bits2int||function(S){if(S.length>8192)throw new Error("input is too large");const E=dl(S),N=S.length*8-r;return N>0?E>>BigInt(N):E},P=e.bits2int_modN||function(S){return c(Q(S))},_=vA(r);function re(S){return kc("num < 2^"+r,S,Ji,_),Xu(S,s)}function ce(S,E,N=ae){if(["recovered","canonical"].some(Me=>Me in N))throw new Error("sign() legacy options not supported");const{hash:X,randomBytes:R}=e;let{lowS:T,prehash:J,extraEntropy:K}=N;T==null&&(T=!0),S=La("msgHash",S),ow(N),J&&(S=La("prehashed msgHash",X(S)));const se=P(S),de=p(E),le=[re(de),re(se)];if(K!=null&&K!==!1){const Me=K===!0?R(n.BYTES):K;le.push(La("extraEntropy",Me))}const Ze=Gm(...le),Ne=se;function ze(Me){const ot=Q(Me);if(!G(ot))return;const _t=u(ot),Nt=d.BASE.multiply(ot).toAffine(),Ct=c(Nt.x);if(Ct===Ji)return;const $t=c(_t*c(Ne+Ct*de));if($t===Ji)return;let wn=(Nt.x===Ct?0:2)|Number(Nt.y&Cn),Ut=$t;return T&&w($t)&&(Ut=Z($t),wn^=1),new W(Ct,Ut,wn)}return{seed:Ze,k2sig:ze}}const ae={lowS:e.lowS,prehash:!1},pe={lowS:e.lowS,prehash:!1};function ue(S,E,N=ae){const{seed:X,k2sig:R}=ce(S,E,N),T=e;return H7(T.hash.outputLen,T.nByteLength,T.hmac)(X,R)}d.BASE._setWindowSize(8);function M(S,E,N,X=pe){var wn;const R=S;E=La("msgHash",E),N=La("publicKey",N);const{lowS:T,prehash:J,format:K}=X;if(ow(X),"strict"in X)throw new Error("options.strict was renamed to lowS");if(K!==void 0&&K!=="compact"&&K!=="der")throw new Error("format must be compact or der");const se=typeof R=="string"||Eu(R),de=!se&&!K&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!se&&!de)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let le,Ze;try{if(de&&(le=new W(R.r,R.s)),se){try{K!=="compact"&&(le=W.fromDER(R))}catch(Ut){if(!(Ut instanceof bi.Err))throw Ut}!le&&K!=="der"&&(le=W.fromCompact(R))}Ze=d.fromHex(N)}catch{return!1}if(!le||T&&le.hasHighS())return!1;J&&(E=e.hash(E));const{r:Ne,s:ze}=le,Me=P(E),ot=u(ze),_t=c(Me*ot),Nt=c(Ne*ot),Ct=(wn=d.BASE.multiplyAndAddUnsafe(Ze,_t,Nt))==null?void 0:wn.toAffine();return Ct?c(Ct.x)===Ne:!1}return{CURVE:e,getPublicKey:x,getSharedSecret:z,sign:ue,verify:M,ProjectivePoint:d,Signature:W,utils:D}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function aM(t){return{hash:t,hmac:(e,...n)=>wW(t,e,_F(...n)),randomBytes:$F}}function sM(t,e){const n=a=>nM({...t,...aM(a)});return{...n(e),create:n}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const MW=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),lw=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),iM=BigInt(0),rM=BigInt(1),x1=BigInt(2),cw=(t,e)=>(t+e/x1)/e;function oM(t){const e=MW,n=BigInt(3),a=BigInt(6),s=BigInt(11),r=BigInt(22),l=BigInt(23),g=BigInt(44),c=BigInt(88),u=t*t*t%e,d=u*u*t%e,p=Ka(d,n,e)*d%e,A=Ka(p,n,e)*d%e,G=Ka(A,x1,e)*u%e,w=Ka(G,s,e)*G%e,Z=Ka(w,r,e)*w%e,V=Ka(Z,g,e)*Z%e,W=Ka(V,c,e)*V%e,D=Ka(W,g,e)*Z%e,x=Ka(D,n,e)*d%e,Y=Ka(x,l,e)*w%e,z=Ka(Y,a,e)*u%e,Q=Ka(z,x1,e);if(!N1.eql(N1.sqr(Q),t))throw new Error("Cannot find square root");return Q}const N1=I2(MW,void 0,void 0,{sqrt:oM}),XA=sM({a:iM,b:BigInt(7),Fp:N1,n:lw,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=lw,n=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),a=-rM*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),s=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),r=n,l=BigInt("0x100000000000000000000000000000000"),g=cw(r*t,e),c=cw(-a*t,e);let u=la(t-g*n-c*s,e),d=la(-g*a-c*r,e);const p=u>l,A=d>l;if(p&&(u=e-u),A&&(d=e-d),u>l||d>l)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:p,k1:u,k2neg:A,k2:d}}}},uR),lM=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:XA},Symbol.toStringTag,{value:"Module"}));function UW({r:t,s:e,to:n="hex",v:a,yParity:s}){const r=(()=>{if(s===0||s===1)return s;if(a&&(a===27n||a===28n||a>=35n))return a%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),l=`0x${new XA.Signature(at(t),at(e)).toCompactHex()}${r===0?"1b":"1c"}`;return n==="hex"?l:Sn(l)}async function u2(t,e){var p,A,G;const{address:n,factory:a,factoryData:s,hash:r,signature:l,universalSignatureVerifierAddress:g=(G=(A=(p=t.chain)==null?void 0:p.contracts)==null?void 0:A.universalSignatureVerifier)==null?void 0:G.address,...c}=e,u=$a(l)?l:typeof l=="object"&&"r"in l&&"s"in l?UW(l):Kt(l),d=await(async()=>!a&&!s||kK(u)?u:VK({address:a,data:s,signature:u}))();try{const w=g?{to:g,data:ma({abi:MS,functionName:"isValidSig",args:[n,r,d]}),...c}:{data:ZA({abi:MS,args:[n,r,d],bytecode:t6}),...c},{data:Z}=await xe(t,Ru,"call")(w);return vV(Z??"0x0")}catch(w){try{if(fA(Wg(n),await Xf({hash:r,signature:l})))return!0}catch{}if(w instanceof aR)return!1;throw w}}async function cM(t,{address:e,message:n,factory:a,factoryData:s,signature:r,...l}){const g=VA(n);return u2(t,{address:e,factory:a,factoryData:s,hash:g,signature:r,...l})}async function gM(t,e){const{address:n,factory:a,factoryData:s,signature:r,message:l,primaryType:g,types:c,domain:u,...d}=e,p=tW({message:l,primaryType:g,types:c,domain:u});return u2(t,{address:n,factory:a,factoryData:s,hash:p,signature:r,...d})}function DW(t,{emitOnBegin:e=!1,emitMissed:n=!1,onBlockNumber:a,onError:s,poll:r,pollingInterval:l=t.pollingInterval}){const g=typeof r<"u"?r:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket");let c;return g?(()=>{const p=on(["watchBlockNumber",t.uid,e,n,l]);return Di(p,{onBlockNumber:a,onError:s},A=>Ug(async()=>{var G;try{const w=await xe(t,Wu,"getBlockNumber")({cacheTime:0});if(c){if(w===c)return;if(w-c>1&&n)for(let Z=c+1n;Z<w;Z++)A.onBlockNumber(Z,c),c=Z}(!c||w>c)&&(A.onBlockNumber(w,c),c=w)}catch(w){(G=A.onError)==null||G.call(A,w)}},{emitOnBegin:e,interval:l}))})():(()=>{const p=on(["watchBlockNumber",t.uid,e,n]);return Di(p,{onBlockNumber:a,onError:s},A=>{let G=!0,w=()=>G=!1;return(async()=>{try{const Z=(()=>{if(t.transport.type==="fallback"){const W=t.transport.transports.find(D=>D.config.type==="webSocket");return W?W.value:t.transport}return t.transport})(),{unsubscribe:V}=await Z.subscribe({params:["newHeads"],onData(W){var x;if(!G)return;const D=at((x=W.result)==null?void 0:x.number);A.onBlockNumber(D,c),c=D},onError(W){var D;(D=A.onError)==null||D.call(A,W)}});w=V,G||w()}catch(Z){s==null||s(Z)}})(),()=>w()})})()}async function C2(t,{confirmations:e=1,hash:n,onReplaced:a,pollingInterval:s=t.pollingInterval,retryCount:r=6,retryDelay:l=({count:c})=>~~(1<<c)*200,timeout:g=18e4}){const c=on(["waitForTransactionReceipt",t.uid,n]);let u,d,p,A=!1,G,w;const{promise:Z,resolve:V,reject:W}=_f(),D=g?setTimeout(()=>{w(),G(),W(new Q4({hash:n}))},g):void 0;return G=Di(c,{onReplaced:a,resolve:V,reject:W},x=>{w=xe(t,DW,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:s,async onBlockNumber(Y){const z=P=>{clearTimeout(D),w(),P(),G()};let Q=Y;if(!A)try{if(p){if(e>1&&(!p.blockNumber||Q-p.blockNumber+1n<e))return;z(()=>x.resolve(p));return}if(u||(A=!0,await S1(async()=>{u=await xe(t,RA,"getTransaction")({hash:n}),u.blockNumber&&(Q=u.blockNumber)},{delay:l,retryCount:r}),A=!1),p=await xe(t,hm,"getTransactionReceipt")({hash:n}),e>1&&(!p.blockNumber||Q-p.blockNumber+1n<e))return;z(()=>x.resolve(p))}catch(P){if(P instanceof tR||P instanceof nR){if(!u){A=!1;return}try{d=u,A=!0;const _=await S1(()=>xe(t,Ps,"getBlock")({blockNumber:Q,includeTransactions:!0}),{delay:l,retryCount:r,shouldRetry:({error:ae})=>ae instanceof gR});A=!1;const re=_.transactions.find(({from:ae,nonce:pe})=>ae===d.from&&pe===d.nonce);if(!re||(p=await xe(t,hm,"getTransactionReceipt")({hash:re.hash}),e>1&&(!p.blockNumber||Q-p.blockNumber+1n<e)))return;let ce="replaced";re.to===d.to&&re.value===d.value&&re.input===d.input?ce="repriced":re.from===re.to&&re.value===0n&&(ce="cancelled"),z(()=>{var ae;(ae=x.onReplaced)==null||ae.call(x,{reason:ce,replacedTransaction:d,transaction:re,transactionReceipt:p}),x.resolve(p)})}catch(_){z(()=>x.reject(_))}}else z(()=>x.reject(P))}}})}),Z}function dM(t,{blockTag:e="latest",emitMissed:n=!1,emitOnBegin:a=!1,onBlock:s,onError:r,includeTransactions:l,poll:g,pollingInterval:c=t.pollingInterval}){const u=typeof g<"u"?g:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),d=l??!1;let p;return u?(()=>{const w=on(["watchBlocks",t.uid,e,n,a,d,c]);return Di(w,{onBlock:s,onError:r},Z=>Ug(async()=>{var V;try{const W=await xe(t,Ps,"getBlock")({blockTag:e,includeTransactions:d});if(W.number!==null&&(p==null?void 0:p.number)!=null){if(W.number===p.number)return;if(W.number-p.number>1&&n)for(let D=(p==null?void 0:p.number)+1n;D<W.number;D++){const x=await xe(t,Ps,"getBlock")({blockNumber:D,includeTransactions:d});Z.onBlock(x,p),p=x}}((p==null?void 0:p.number)==null||e==="pending"&&(W==null?void 0:W.number)==null||W.number!==null&&W.number>p.number)&&(Z.onBlock(W,p),p=W)}catch(W){(V=Z.onError)==null||V.call(Z,W)}},{emitOnBegin:a,interval:c}))})():(()=>{let w=!0,Z=!0,V=()=>w=!1;return(async()=>{try{a&&xe(t,Ps,"getBlock")({blockTag:e,includeTransactions:d}).then(x=>{w&&Z&&(s(x,void 0),Z=!1)}).catch(r);const W=(()=>{if(t.transport.type==="fallback"){const x=t.transport.transports.find(Y=>Y.config.type==="webSocket");return x?x.value:t.transport}return t.transport})(),{unsubscribe:D}=await W.subscribe({params:["newHeads"],async onData(x){if(!w)return;const Y=await xe(t,Ps,"getBlock")({blockNumber:x.blockNumber,includeTransactions:d}).catch(()=>{});w&&(s(Y,p),Z=!1,p=Y)},onError(x){r==null||r(x)}});V=D,w||V()}catch(W){r==null||r(W)}})(),()=>V()})()}function IM(t,{address:e,args:n,batch:a=!0,event:s,events:r,fromBlock:l,onError:g,onLogs:c,poll:u,pollingInterval:d=t.pollingInterval,strict:p}){const A=typeof u<"u"?u:typeof l=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="fallback"&&t.transport.transports[0].config.type==="webSocket"),G=p??!1;return A?(()=>{const V=on(["watchEvent",e,n,a,t.uid,s,d,l]);return Di(V,{onLogs:c,onError:g},W=>{let D;l!==void 0&&(D=l-1n);let x,Y=!1;const z=Ug(async()=>{var Q;if(!Y){try{x=await xe(t,qR,"createEventFilter")({address:e,args:n,event:s,events:r,strict:G,fromBlock:l})}catch{}Y=!0;return}try{let P;if(x)P=await xe(t,GA,"getFilterChanges")({filter:x});else{const _=await xe(t,Wu,"getBlockNumber")({});D&&D!==_?P=await xe(t,zf,"getLogs")({address:e,args:n,event:s,events:r,fromBlock:D+1n,toBlock:_}):P=[],D=_}if(P.length===0)return;if(a)W.onLogs(P);else for(const _ of P)W.onLogs([_])}catch(P){x&&P instanceof Zl&&(Y=!1),(Q=W.onError)==null||Q.call(W,P)}},{emitOnBegin:!0,interval:d});return async()=>{x&&await xe(t,BA,"uninstallFilter")({filter:x}),z()}})})():(()=>{let V=!0,W=()=>V=!1;return(async()=>{try{const D=(()=>{if(t.transport.type==="fallback"){const Q=t.transport.transports.find(P=>P.config.type==="webSocket");return Q?Q.value:t.transport}return t.transport})(),x=r??(s?[s]:void 0);let Y=[];x&&(Y=[x.flatMap(P=>Bu({abi:[P],eventName:P.name,args:n}))],s&&(Y=Y[0]));const{unsubscribe:z}=await D.subscribe({params:["logs",{address:e,topics:Y}],onData(Q){var _;if(!V)return;const P=Q.result;try{const{eventName:re,args:ce}=Df({abi:x??[],data:P.data,topics:P.topics,strict:G}),ae=qs(P,{args:ce,eventName:re});c([ae])}catch(re){let ce,ae;if(re instanceof ZI||re instanceof gA){if(p)return;ce=re.abiItem.name,ae=(_=re.abiItem.inputs)==null?void 0:_.some(ue=>!("name"in ue&&ue.name))}const pe=qs(P,{args:ae?[]:{},eventName:ce});c([pe])}},onError(Q){g==null||g(Q)}});W=z,V||W()}catch(D){g==null||g(D)}})(),()=>W()})()}function uM(t,{batch:e=!0,onError:n,onTransactions:a,poll:s,pollingInterval:r=t.pollingInterval}){return(typeof s<"u"?s:t.transport.type!=="webSocket")?(()=>{const u=on(["watchPendingTransactions",t.uid,e,r]);return Di(u,{onTransactions:a,onError:n},d=>{let p;const A=Ug(async()=>{var G;try{if(!p)try{p=await xe(t,eW,"createPendingTransactionFilter")({});return}catch(Z){throw A(),Z}const w=await xe(t,GA,"getFilterChanges")({filter:p});if(w.length===0)return;if(e)d.onTransactions(w);else for(const Z of w)d.onTransactions([Z])}catch(w){(G=d.onError)==null||G.call(d,w)}},{emitOnBegin:!0,interval:r});return async()=>{p&&await xe(t,BA,"uninstallFilter")({filter:p}),A()}})})():(()=>{let u=!0,d=()=>u=!1;return(async()=>{try{const{unsubscribe:p}=await t.transport.subscribe({params:["newPendingTransactions"],onData(A){if(!u)return;const G=A.result;a([G])},onError(A){n==null||n(A)}});d=p,u||d()}catch(p){n==null||n(p)}})(),()=>d()})()}function CM(t){var p,A,G;const{scheme:e,statement:n,...a}=((p=t.match(pM))==null?void 0:p.groups)??{},{chainId:s,expirationTime:r,issuedAt:l,notBefore:g,requestId:c,...u}=((A=t.match(mM))==null?void 0:A.groups)??{},d=(G=t.split("Resources:")[1])==null?void 0:G.split(`
- `).slice(1);return{...a,...u,...s?{chainId:Number(s)}:{},...r?{expirationTime:new Date(r)}:{},...l?{issuedAt:new Date(l)}:{},...g?{notBefore:new Date(g)}:{},...c?{requestId:c}:{},...d?{resources:d}:{},...e?{scheme:e}:{},...n?{statement:n}:{}}}const pM=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,mM=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function AM(t){const{address:e,domain:n,message:a,nonce:s,scheme:r,time:l=new Date}=t;if(n&&a.domain!==n||s&&a.nonce!==s||r&&a.scheme!==r||a.expirationTime&&l>=a.expirationTime||a.notBefore&&l<a.notBefore)return!1;try{if(!a.address||!ut(a.address,{strict:!1})||e&&!fA(a.address,e))return!1}catch{return!1}return!0}async function yM(t,e){const{address:n,domain:a,message:s,nonce:r,scheme:l,signature:g,time:c=new Date,...u}=e,d=CM(s);if(!d.address||!AM({address:n,domain:a,message:d,nonce:r,scheme:l,time:c}))return!1;const A=VA(s);return u2(t,{address:d.address,hash:A,signature:g,...u})}function LW(t){return{call:e=>Ru(t,e),createAccessList:e=>$R(t,e),createBlockFilter:()=>j6(t),createContractEventFilter:e=>LV(t,e),createEventFilter:e=>qR(t,e),createPendingTransactionFilter:()=>eW(t),estimateContractGas:e=>GR(t,e),estimateGas:e=>hA(t,e),getBalance:e=>Uf(t,e),getBlobBaseFee:()=>_6(t),getBlock:e=>Ps(t,e),getBlockNumber:e=>Wu(t,e),getBlockTransactionCount:e=>$6(t,e),getBytecode:e=>bm(t,e),getChainId:()=>Yg(t),getCode:e=>bm(t,e),getContractEvents:e=>BR(t,e),getEip712Domain:e=>eK(t,e),getEnsAddress:e=>J6(t,e),getEnsAvatar:e=>Q6(t,e),getEnsName:e=>P6(t,e),getEnsResolver:e=>O6(t,e),getEnsText:e=>_R(t,e),getFeeHistory:e=>aK(t,e),estimateFeesPerGas:e=>C8(t,e),getFilterChanges:e=>GA(t,e),getFilterLogs:e=>sK(t,e),getGasPrice:()=>Yf(t),getLogs:e=>zf(t,e),getProof:e=>vK(t,e),estimateMaxPriorityFeePerGas:e=>u8(t,e),getStorageAt:e=>cW(t,e),getTransaction:e=>RA(t,e),getTransactionConfirmations:e=>EK(t,e),getTransactionCount:e=>yA(t,e),getTransactionReceipt:e=>hm(t,e),multicall:e=>XK(t,e),prepareTransactionRequest:e=>bA(t,e),readContract:e=>ti(t,e),sendRawTransaction:e=>$f(t,e),simulate:e=>w1(t,e),simulateBlocks:e=>w1(t,e),simulateCalls:e=>J7(t,e),simulateContract:e=>Mg(t,e),verifyMessage:e=>cM(t,e),verifySiweMessage:e=>yM(t,e),verifyTypedData:e=>gM(t,e),uninstallFilter:e=>BA(t,e),waitForTransactionReceipt:e=>C2(t,e),watchBlocks:e=>dM(t,e),watchBlockNumber:e=>DW(t,e),watchContractEvent:e=>p6(t,e),watchEvent:e=>IM(t,e),watchPendingTransactions:e=>uM(t,e)}}function bM(t){const{key:e="public",name:n="Public Client"}=t;return wA({...t,key:e,name:n,type:"publicClient"}).extend(LW)}async function hM(t,{chain:e}){const{id:n,name:a,nativeCurrency:s,rpcUrls:r,blockExplorers:l}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:Ee(n),chainName:a,nativeCurrency:s,rpcUrls:r.default.http,blockExplorerUrls:l?Object.values(l).map(({url:g})=>g):void 0}]},{dedupe:!0,retryCount:0})}function fM(t,e){const{abi:n,args:a,bytecode:s,...r}=e,l=ZA({abi:n,args:a,bytecode:s});return SA(t,{...r,...r.authorizationList?{to:null}:{},data:l})}async function ZM(t){var n;return((n=t.account)==null?void 0:n.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(a=>Zu(a))}async function GM(t,e={}){const{account:n=t.account,chainId:a}=e,s=n?Mt(n):void 0,r=a?[s==null?void 0:s.address,[Ee(a)]]:[s==null?void 0:s.address],l=await t.request({method:"wallet_getCapabilities",params:r}),g={};for(const[c,u]of Object.entries(l)){g[Number(c)]={};for(let[d,p]of Object.entries(u))d==="addSubAccount"&&(d="unstable_addSubAccount"),g[Number(c)][d]=p}return typeof a=="number"?g[a]:g}async function BM(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function zW(t,e){var c;const{account:n=t.account,chainId:a,nonce:s}=e;if(!n)throw new Qi({docsPath:"/docs/eip7702/prepareAuthorization"});const r=Mt(n),l=(()=>{if(e.executor)return e.executor==="self"?e.executor:Mt(e.executor)})(),g={address:e.contractAddress??e.address,chainId:a,nonce:s};return typeof g.chainId>"u"&&(g.chainId=((c=t.chain)==null?void 0:c.id)??await xe(t,Yg,"getChainId")({})),typeof g.nonce>"u"&&(g.nonce=await xe(t,yA,"getTransactionCount")({address:r.address,blockTag:"pending"}),(l==="self"||l!=null&&l.address&&fA(l.address,r.address))&&(g.nonce+=1)),g}async function SM(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(n=>Wg(n))}async function wM(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function kM(t,e){const{id:n}=e;await t.request({method:"wallet_showCallsStatus",params:[n]})}async function VM(t,e){const{account:n=t.account}=e;if(!n)throw new Qi({docsPath:"/docs/eip7702/signAuthorization"});const a=Mt(n);if(!a.signAuthorization)throw new tm({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:a.type});const s=await zW(t,e);return a.signAuthorization(s)}async function RM(t,{account:e=t.account,message:n}){if(!e)throw new Qi({docsPath:"/docs/actions/wallet/signMessage"});const a=Mt(e);if(a.signMessage)return a.signMessage({message:n});const s=typeof n=="string"?bl(n):n.raw instanceof Uint8Array?Ge(n.raw):n.raw;return t.request({method:"personal_sign",params:[s,a.address]},{retryCount:0})}async function WM(t,e){var u,d,p,A;const{account:n=t.account,chain:a=t.chain,...s}=e;if(!n)throw new Qi({docsPath:"/docs/actions/wallet/signTransaction"});const r=Mt(n);to({account:r,...e});const l=await xe(t,Yg,"getChainId")({});a!==null&&HR({currentChainId:l,chain:a});const g=(a==null?void 0:a.formatters)||((u=t.chain)==null?void 0:u.formatters),c=((d=g==null?void 0:g.transactionRequest)==null?void 0:d.format)||eo;return r.signTransaction?r.signTransaction({...s,chainId:l},{serializer:(A=(p=t.chain)==null?void 0:p.serializers)==null?void 0:A.transaction}):await t.request({method:"eth_signTransaction",params:[{...c(s),chainId:Ee(l),from:r.address}]},{retryCount:0})}async function vM(t,e){const{account:n=t.account,domain:a,message:s,primaryType:r}=e;if(!n)throw new Qi({docsPath:"/docs/actions/wallet/signTypedData"});const l=Mt(n),g={EIP712Domain:a2({domain:a}),...e.types};if(n2({domain:a,message:s,primaryType:r,types:g}),l.signTypedData)return l.signTypedData({domain:a,message:s,primaryType:r,types:g});const c=gK({domain:a,message:s,primaryType:r,types:g});return t.request({method:"eth_signTypedData_v4",params:[l.address,c]},{retryCount:0})}async function EM(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:Ee(e)}]},{retryCount:0})}async function XM(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function p2(t){return{addChain:e=>hM(t,e),deployContract:e=>fM(t,e),getAddresses:()=>ZM(t),getCallsStatus:e=>DR(t,e),getCapabilities:e=>GM(t,e),getChainId:()=>Yg(t),getPermissions:()=>BM(t),prepareAuthorization:e=>zW(t,e),prepareTransactionRequest:e=>bA(t,e),requestAddresses:()=>SM(t),requestPermissions:e=>wM(t,e),sendCalls:e=>A6(t,e),sendRawTransaction:e=>$f(t,e),sendTransaction:e=>SA(t,e),showCallsStatus:e=>kM(t,e),signAuthorization:e=>VM(t,e),signMessage:e=>RM(t,e),signTransaction:e=>WM(t,e),signTypedData:e=>vM(t,e),switchChain:e=>EM(t,e),waitForCallsStatus:e=>y6(t,e),watchAsset:e=>XM(t,e),writeContract:e=>m6(t,e)}}function Cb(t){const{key:e="wallet",name:n="Wallet Client",transport:a}=t;return wA({...t,key:e,name:n,transport:a,type:"walletClient"}).extend(p2)}var yo={},pb={},gw;function JM(){return gw||(gw=1,Object.defineProperty(pb,"__esModule",{value:!0})),pb}var gs={},gt={};const xM=!0,NM="SimulateTxAccessor",HM="1.3.0",TM={canonical:{address:"0x59AD6735bCd8152B84860Cb256dD9e96b85F69Da",codeHash:"0xb3fb9763869f2c09a2ac5a425d2dd6060bf7ef46b3899049d71a711e71e00f04"},eip155:{address:"0x727a77a074D1E6c4530e814F89E618a3298FC044",codeHash:"0x66712e1d9161706f826d8d74a3cc03db0289b2530a1202f24d52986952b69a02"},zksync:{address:"0x4191E2e12E8BC5002424CE0c51f9947b02675a44",codeHash:"0x18c486b76cb76981360e96ca4f90fc745fde6a8575b8c2b35ac98eab3856fd72"}},YM={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},FM=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"simulate",outputs:[{internalType:"uint256",name:"estimate",type:"uint256"},{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"}],KM={released:xM,contractName:NM,version:HM,deployments:TM,networkAddresses:YM,abi:FM},MM=!0,UM="SimulateTxAccessor",DM="1.4.1",LM={canonical:{address:"0x3d4BA2E0884aa488718476ca2FB8Efc291A46199",codeHash:"0x91f82615581fc73b190b83d72e883608b25e392f72322035df1b13d51766cf8d"},zksync:{address:"0xdd35026932273768A3e31F4efF7313B5B7A7199d",codeHash:"0xe772f957acb3987a0b2f1af9e0b515d2a213ec79cbe96a5187e5c5ba6709361e"}},zM={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},QM=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"enum Enum.Operation",name:"operation",type:"uint8"}],name:"simulate",outputs:[{internalType:"uint256",name:"estimate",type:"uint256"},{internalType:"bool",name:"success",type:"bool"},{internalType:"bytes",name:"returnData",type:"bytes"}],stateMutability:"nonpayable",type:"function"}],PM={released:MM,contractName:UM,version:DM,deployments:LM,networkAddresses:zM,abi:QM},OM=!0,jM="ProxyFactory",_M="1.0.0",$M={canonical:{address:"0x12302fE9c02ff50939BaAaaf415fc226C078613C",codeHash:"0x84a375ad96ab395850d46cd601ed6354d3cf3fb67cec0caf18f34af5c9d1a7f0"}},qM={1:"canonical",4:"canonical",5:"canonical",42:"canonical",100:"canonical",369:"canonical"},eU=[{constant:!1,inputs:[{name:"_mastercopy",type:"address"},{name:"initializer",type:"bytes"},{name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyCreationCode",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{name:"masterCopy",type:"address"},{name:"data",type:"bytes"}],name:"createProxy",outputs:[{name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyRuntimeCode",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{anonymous:!1,inputs:[{indexed:!1,name:"proxy",type:"address"}],name:"ProxyCreation",type:"event"}],tU={released:OM,contractName:jM,version:_M,deployments:$M,networkAddresses:qM,abi:eU},nU=!0,aU="ProxyFactory",sU="1.1.1",iU={canonical:{address:"0x76E2cFc1F5Fa8F6a5b3fC4c8F4788F0116861F9B",codeHash:"0x0f0bb9c13be3b595d6f0fde841d5247a96f7e315bd8b97e1363553bee9a7d995"}},rU={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},oU=[{anonymous:!1,inputs:[{indexed:!1,internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],name:"ProxyCreation",type:"event"},{constant:!1,inputs:[{internalType:"address",name:"masterCopy",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"createProxy",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"proxyRuntimeCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!0,inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],payable:!1,stateMutability:"pure",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"_mastercopy",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"calculateCreateProxyWithNonceAddress",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],payable:!1,stateMutability:"nonpayable",type:"function"}],lU={released:nU,contractName:aU,version:sU,deployments:iU,networkAddresses:rU,abi:oU},cU=!0,gU="GnosisSafeProxyFactory",dU="1.3.0",IU={canonical:{address:"0xa6B71E26C5e0845f74c812102Ca7114b6a896AB2",codeHash:"0x337d7f54be11b6ed55fef7b667ea5488db53db8320a05d1146aa4bd169a39a9b"},eip155:{address:"0xC22834581EbC8527d974F8a1c97E1bEA4EF910BC",codeHash:"0x337d7f54be11b6ed55fef7b667ea5488db53db8320a05d1146aa4bd169a39a9b"},zksync:{address:"0xDAec33641865E4651fB43181C6DB6f7232Ee91c2",codeHash:"0x55daa5d390d283edbc5fa835bd53befce45179c758feaac8c149a95850d0a6b6"}},uU={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},CU=[{anonymous:!1,inputs:[{indexed:!1,internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"},{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ProxyCreation",type:"event"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"calculateCreateProxyWithNonceAddress",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"singleton",type:"address"},{internalType:"bytes",name:"data",type:"bytes"}],name:"createProxy",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract GnosisSafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"},{inputs:[],name:"proxyRuntimeCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}],pU={released:cU,contractName:gU,version:dU,deployments:IU,networkAddresses:uU,abi:CU},mU=!0,AU="SafeProxyFactory",yU="1.4.1",bU={canonical:{address:"0x4e1DCf7AD4e460CfD30791CCC4F9c8a4f820ec67",codeHash:"0x50c3cdc4074750a7a974204a716c999edd37482f907608d960b2b025ee0b3317"},zksync:{address:"0xc329D02fd8CB2fc13aa919005aF46320794a8629",codeHash:"0xa4915e4a50124b5dce3c9adc34cce8108fc5dbda97d443534699621d6e0013ba"}},hU={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},fU=[{anonymous:!1,inputs:[{indexed:!0,internalType:"contract SafeProxy",name:"proxy",type:"address"},{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ProxyCreation",type:"event"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createChainSpecificProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"},{internalType:"contract IProxyCreationCallback",name:"callback",type:"address"}],name:"createProxyWithCallback",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_singleton",type:"address"},{internalType:"bytes",name:"initializer",type:"bytes"},{internalType:"uint256",name:"saltNonce",type:"uint256"}],name:"createProxyWithNonce",outputs:[{internalType:"contract SafeProxy",name:"proxy",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"proxyCreationCode",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"pure",type:"function"}],ZU={released:mU,contractName:AU,version:yU,deployments:bU,networkAddresses:hU,abi:fU},GU=!0,BU="DefaultCallbackHandler",SU="1.1.1",wU={canonical:{address:"0xd5D82B6aDDc9027B22dCA772Aa68D5d74cdBdF44",codeHash:"0x919a9f5dd111a01f7a8e4b1f5c6a972bb2d1441c67bdec71de6a09d0be92f5b9"}},kU={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},VU=[{constant:!0,inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],RU={released:GU,contractName:BU,version:SU,deployments:wU,networkAddresses:kU,abi:VU},WU=!0,vU="CompatibilityFallbackHandler",EU="1.3.0",XU={canonical:{address:"0xf48f2B2d2a534e402487b3ee7C18c33Aec0Fe5e4",codeHash:"0x03e69f7ce809e81687c69b19a7d7cca45b6d551ffdec73d9bb87178476de1abf"},eip155:{address:"0x017062a1dE2FE6b99BE3d9d37841FeD19F573804",codeHash:"0x03e69f7ce809e81687c69b19a7d7cca45b6d551ffdec73d9bb87178476de1abf"},zksync:{address:"0x2f870a80647BbC554F3a0EBD093f11B4d2a7492A",codeHash:"0x017e9a83d5513f503fb85274f4d1ad1811040d7caa31772750ffb08638c28fbb"}},JU={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},xU=[{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract GnosisSafe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"}],NU={released:WU,contractName:vU,version:EU,deployments:XU,networkAddresses:JU,abi:xU},HU=!0,TU="CompatibilityFallbackHandler",YU="1.4.1",FU={canonical:{address:"0xfd0732Dc9E303f09fCEf3a7388Ad10A83459Ec99",codeHash:"0x7c6007a5d711cea8dfd5d91f5940ec29c7f200fe511eb1fc1397b367af3c42f9"},zksync:{address:"0x9301E98DD367135f21bdF66f342A249c9D5F9069",codeHash:"0x331ff834e83e6e1596325f04eb7d16614155e324010af21f14e9c945e7669d5f"}},KU={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},MU=[{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"encodeMessageDataForSafe",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"}],UU={released:HU,contractName:TU,version:YU,deployments:FU,networkAddresses:KU,abi:MU},DU=!0,LU="Safe",zU="1.4.1",QU={canonical:{address:"0x41675C099F32341bf84BFc5382aF534df5C7461a",codeHash:"0x1fe2df852ba3299d6534ef416eefa406e56ced995bca886ab7a553e6d0c5e1c4"},zksync:{address:"0xC35F063962328aC65cED5D4c3fC5dEf8dec68dFa",codeHash:"0xfa4d4fc0fa9f1a061571a3f3f66502464edf1a519ab1ab93dc232addf4fbe30f"}},PU={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},OU=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"handler","type":"address"}],"name":"ChangedFallbackHandler","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"guard","type":"address"}],"name":"ChangedGuard","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SafeReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"initiator","type":"address"},{"indexed":false,"internalType":"address[]","name":"owners","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"},{"indexed":false,"internalType":"address","name":"initializer","type":"address"},{"indexed":false,"internalType":"address","name":"fallbackHandler","type":"address"}],"name":"SafeSetup","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"},{"internalType":"uint256","name":"requiredSignatures","type":"uint256"}],"name":"checkNSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"checkSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevModule","type":"address"},{"internalType":"address","name":"module","type":"address"}],"name":"disableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"enableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"length","type":"uint256"}],"name":"getStorageAt","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"guard","type":"address"}],"name":"setGuard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateAndRevert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]'),jU={released:DU,contractName:LU,version:zU,deployments:QU,networkAddresses:PU,abi:OU},_U=!0,$U="GnosisSafe",qU="1.3.0",eD={canonical:{address:"0xd9Db270c1B5E3Bd161E8c8503c55cEABeE709552",codeHash:"0xbba688fbdb21ad2bb58bc320638b43d94e7d100f6f3ebaab0a4e4de6304b1c2e"},eip155:{address:"0x69f4D1788e39c87893C980c06EdF4b7f686e2938",codeHash:"0xbba688fbdb21ad2bb58bc320638b43d94e7d100f6f3ebaab0a4e4de6304b1c2e"},zksync:{address:"0xB00ce5CCcdEf57e539ddcEd01DF43a13855d9910",codeHash:"0x551b7fdfd2dbcec4f785059e1ef6e0b40ca2e44d792158c4e825bc0b092f15e9"}},tD={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},nD=JSON.parse('[{"inputs":[],"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"handler","type":"address"}],"name":"ChangedFallbackHandler","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"guard","type":"address"}],"name":"ChangedGuard","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SafeReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"initiator","type":"address"},{"indexed":false,"internalType":"address[]","name":"owners","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"},{"indexed":false,"internalType":"address","name":"initializer","type":"address"},{"indexed":false,"internalType":"address","name":"fallbackHandler","type":"address"}],"name":"SafeSetup","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"},{"internalType":"uint256","name":"requiredSignatures","type":"uint256"}],"name":"checkNSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"checkSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevModule","type":"address"},{"internalType":"address","name":"module","type":"address"}],"name":"disableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"enableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"length","type":"uint256"}],"name":"getStorageAt","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"requiredTxGas","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"guard","type":"address"}],"name":"setGuard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateAndRevert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]'),aD={released:_U,contractName:$U,version:qU,deployments:eD,networkAddresses:tD,abi:nD},sD=!0,iD="GnosisSafe",rD="1.2.0",oD={canonical:{address:"0x6851D6fDFAfD08c0295C392436245E5bc78B0185",codeHash:"0x2ae2d1231f0d754a7fa4f5e5d0e5554085e1b500d8e09f95aaaaa3f49c0db922"}},lD={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},cD=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"masterCopy","type":"address"}],"name":"ChangedMasterCopy","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract Module","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract Module","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":true,"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_masterCopy","type":"address"}],"name":"changeMasterCopy","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract Module","name":"prevModule","type":"address"},{"internalType":"contract Module","name":"module","type":"address"}],"name":"disableModule","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"contract Module","name":"module","type":"address"}],"name":"enableModule","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getModules","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"contract Module","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":true,"stateMutability":"payable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"requiredTxGas","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"signMessage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"message","type":"bytes"}],"name":"getMessageHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"}]'),gD={released:sD,contractName:iD,version:rD,deployments:oD,networkAddresses:lD,abi:cD},dD=!0,ID="GnosisSafe",uD="1.1.1",CD={canonical:{address:"0x34CfAC646f301356fAa8B21e94227e3583Fe3F5F",codeHash:"0x56b8be58b5ad629a621593a2e5e5e8e9a28408dc06e95597497b303902772e45"}},pD={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},mD=JSON.parse('[{"inputs":[],"payable":false,"stateMutability":"nonpayable","type":"constructor"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"masterCopy","type":"address"}],"name":"ChangedMasterCopy","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract Module","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"contract Module","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"payable":true,"stateMutability":"payable","type":"fallback"},{"constant":true,"inputs":[],"name":"NAME","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"_masterCopy","type":"address"}],"name":"changeMasterCopy","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"contract Module","name":"prevModule","type":"address"},{"internalType":"contract Module","name":"module","type":"address"}],"name":"disableModule","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"contract Module","name":"module","type":"address"}],"name":"enableModule","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[],"name":"getModules","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"requiredTxGas","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"}],"name":"signMessage","outputs":[],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":false,"inputs":[{"internalType":"bytes","name":"_data","type":"bytes"},{"internalType":"bytes","name":"_signature","type":"bytes"}],"name":"isValidSignature","outputs":[{"internalType":"bytes4","name":"","type":"bytes4"}],"payable":false,"stateMutability":"nonpayable","type":"function"},{"constant":true,"inputs":[{"internalType":"bytes","name":"message","type":"bytes"}],"name":"getMessageHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"payable":false,"stateMutability":"view","type":"function"},{"constant":true,"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"payable":false,"stateMutability":"view","type":"function"}]'),AD={released:dD,contractName:ID,version:uD,deployments:CD,networkAddresses:pD,abi:mD},yD=!0,bD="GnosisSafe",hD="1.0.0",fD={canonical:{address:"0xb6029EA3B2c51D09a50B53CA8012FeEB05bDa35A",codeHash:"0xe1f1593df76e69abc2d692792c80f329457551d5e83dde597546a1d58764da80"}},ZD={1:"canonical",4:"canonical",5:"canonical",42:"canonical",100:"canonical",369:"canonical"},GD=[{constant:!1,inputs:[{name:"owner",type:"address"},{name:"_threshold",type:"uint256"}],name:"addOwnerWithThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"DOMAIN_SEPARATOR_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"owner",type:"address"}],name:"isOwner",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"}],name:"execTransactionFromModule",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"bytes32"}],name:"signedMessages",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"module",type:"address"}],name:"enableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"",type:"address"},{name:"",type:"bytes32"}],name:"approvedHashes",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"_masterCopy",type:"address"}],name:"changeMasterCopy",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"SENTINEL_MODULES",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SENTINEL_OWNERS",outputs:[{name:"",type:"address"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getOwners",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"NAME",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"nonce",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"getModules",outputs:[{name:"",type:"address[]"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SAFE_MSG_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"SAFE_TX_TYPEHASH",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"prevModule",type:"address"},{name:"module",type:"address"}],name:"disableModule",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"prevOwner",type:"address"},{name:"oldOwner",type:"address"},{name:"newOwner",type:"address"}],name:"swapOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"getThreshold",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[],name:"domainSeparator",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!1,inputs:[{name:"prevOwner",type:"address"},{name:"owner",type:"address"},{name:"_threshold",type:"uint256"}],name:"removeOwner",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[],name:"VERSION",outputs:[{name:"",type:"string"}],payable:!1,stateMutability:"view",type:"function"},{payable:!0,stateMutability:"payable",type:"fallback"},{anonymous:!1,inputs:[{indexed:!1,name:"txHash",type:"bytes32"}],name:"ExecutionFailed",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"}],name:"AddedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"owner",type:"address"}],name:"RemovedOwner",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"module",type:"address"}],name:"EnabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"module",type:"address"}],name:"DisabledModule",type:"event"},{anonymous:!1,inputs:[{indexed:!1,name:"newContract",type:"address"}],name:"ContractCreation",type:"event"},{constant:!1,inputs:[{name:"_owners",type:"address[]"},{name:"_threshold",type:"uint256"},{name:"to",type:"address"},{name:"data",type:"bytes"},{name:"paymentToken",type:"address"},{name:"payment",type:"uint256"},{name:"paymentReceiver",type:"address"}],name:"setup",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"signatures",type:"bytes"}],name:"execTransaction",outputs:[{name:"success",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"}],name:"requiredTxGas",outputs:[{name:"",type:"uint256"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"hashToApprove",type:"bytes32"}],name:"approveHash",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_data",type:"bytes"}],name:"signMessage",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!1,inputs:[{name:"_data",type:"bytes"},{name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{name:"",type:"bytes4"}],payable:!1,stateMutability:"nonpayable",type:"function"},{constant:!0,inputs:[{name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"_nonce",type:"uint256"}],name:"encodeTransactionData",outputs:[{name:"",type:"bytes"}],payable:!1,stateMutability:"view",type:"function"},{constant:!0,inputs:[{name:"to",type:"address"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"operation",type:"uint8"},{name:"safeTxGas",type:"uint256"},{name:"baseGas",type:"uint256"},{name:"gasPrice",type:"uint256"},{name:"gasToken",type:"address"},{name:"refundReceiver",type:"address"},{name:"_nonce",type:"uint256"}],name:"getTransactionHash",outputs:[{name:"",type:"bytes32"}],payable:!1,stateMutability:"view",type:"function"}],BD={released:yD,contractName:bD,version:hD,deployments:fD,networkAddresses:ZD,abi:GD},SD=!0,wD="SafeL2",kD="1.4.1",VD={canonical:{address:"0x29fcB43b46531BcA003ddC8FCB67FFE91900C762",codeHash:"0xb1f926978a0f44a2c0ec8fe822418ae969bd8c3f18d61e5103100339894f81ff"},zksync:{address:"0x610fcA2e0279Fa1F8C00c8c2F71dF522AD469380",codeHash:"0x520462ebe1156cd2d37b1d470c57f23e12fe0c4cda4c62502d96e03fa0cb44da"}},RD={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},WD=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"handler","type":"address"}],"name":"ChangedFallbackHandler","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"guard","type":"address"}],"name":"ChangedGuard","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"SafeModuleTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"baseGas","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"gasPrice","type":"uint256"},{"indexed":false,"internalType":"address","name":"gasToken","type":"address"},{"indexed":false,"internalType":"address payable","name":"refundReceiver","type":"address"},{"indexed":false,"internalType":"bytes","name":"signatures","type":"bytes"},{"indexed":false,"internalType":"bytes","name":"additionalInfo","type":"bytes"}],"name":"SafeMultiSigTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SafeReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"initiator","type":"address"},{"indexed":false,"internalType":"address[]","name":"owners","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"},{"indexed":false,"internalType":"address","name":"initializer","type":"address"},{"indexed":false,"internalType":"address","name":"fallbackHandler","type":"address"}],"name":"SafeSetup","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"},{"internalType":"uint256","name":"requiredSignatures","type":"uint256"}],"name":"checkNSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"checkSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevModule","type":"address"},{"internalType":"address","name":"module","type":"address"}],"name":"disableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"enableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"length","type":"uint256"}],"name":"getStorageAt","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"guard","type":"address"}],"name":"setGuard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateAndRevert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]'),vD={released:SD,contractName:wD,version:kD,deployments:VD,networkAddresses:RD,abi:WD},ED=!0,XD="GnosisSafeL2",JD="1.3.0",xD={canonical:{address:"0x3E5c63644E683549055b9Be8653de26E0B4CD36E",codeHash:"0x21842597390c4c6e3c1239e434a682b054bd9548eee5e9b1d6a4482731023c0f"},eip155:{address:"0xfb1bffC9d739B8D520DaF37dF666da4C687191EA",codeHash:"0x21842597390c4c6e3c1239e434a682b054bd9548eee5e9b1d6a4482731023c0f"},zksync:{address:"0x1727c2c531cf966f902E5927b98490fDFb3b2b70",codeHash:"0xe2ca068330339d608367d83a0b25545efe39e619098597699ab8ff828cb1ddd8"}},ND={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},HD=JSON.parse('[{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"AddedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"approvedHash","type":"bytes32"},{"indexed":true,"internalType":"address","name":"owner","type":"address"}],"name":"ApproveHash","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"handler","type":"address"}],"name":"ChangedFallbackHandler","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"guard","type":"address"}],"name":"ChangedGuard","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"}],"name":"ChangedThreshold","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"}],"name":"DisabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"}],"name":"EnabledModule","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleFailure","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"module","type":"address"}],"name":"ExecutionFromModuleSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"bytes32","name":"txHash","type":"bytes32"},{"indexed":false,"internalType":"uint256","name":"payment","type":"uint256"}],"name":"ExecutionSuccess","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"owner","type":"address"}],"name":"RemovedOwner","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"module","type":"address"},{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"SafeModuleTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":false,"internalType":"address","name":"to","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"},{"indexed":false,"internalType":"bytes","name":"data","type":"bytes"},{"indexed":false,"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"indexed":false,"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"baseGas","type":"uint256"},{"indexed":false,"internalType":"uint256","name":"gasPrice","type":"uint256"},{"indexed":false,"internalType":"address","name":"gasToken","type":"address"},{"indexed":false,"internalType":"address payable","name":"refundReceiver","type":"address"},{"indexed":false,"internalType":"bytes","name":"signatures","type":"bytes"},{"indexed":false,"internalType":"bytes","name":"additionalInfo","type":"bytes"}],"name":"SafeMultiSigTransaction","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"sender","type":"address"},{"indexed":false,"internalType":"uint256","name":"value","type":"uint256"}],"name":"SafeReceived","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"address","name":"initiator","type":"address"},{"indexed":false,"internalType":"address[]","name":"owners","type":"address[]"},{"indexed":false,"internalType":"uint256","name":"threshold","type":"uint256"},{"indexed":false,"internalType":"address","name":"initializer","type":"address"},{"indexed":false,"internalType":"address","name":"fallbackHandler","type":"address"}],"name":"SafeSetup","type":"event"},{"anonymous":false,"inputs":[{"indexed":true,"internalType":"bytes32","name":"msgHash","type":"bytes32"}],"name":"SignMsg","type":"event"},{"stateMutability":"nonpayable","type":"fallback"},{"inputs":[],"name":"VERSION","outputs":[{"internalType":"string","name":"","type":"string"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"addOwnerWithThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"hashToApprove","type":"bytes32"}],"name":"approveHash","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"","type":"address"},{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"approvedHashes","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"changeThreshold","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"},{"internalType":"uint256","name":"requiredSignatures","type":"uint256"}],"name":"checkNSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"bytes32","name":"dataHash","type":"bytes32"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"checkSignatures","outputs":[],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevModule","type":"address"},{"internalType":"address","name":"module","type":"address"}],"name":"disableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"domainSeparator","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"enableModule","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"encodeTransactionData","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address payable","name":"refundReceiver","type":"address"},{"internalType":"bytes","name":"signatures","type":"bytes"}],"name":"execTransaction","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"payable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModule","outputs":[{"internalType":"bool","name":"success","type":"bool"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"execTransactionFromModuleReturnData","outputs":[{"internalType":"bool","name":"success","type":"bool"},{"internalType":"bytes","name":"returnData","type":"bytes"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[],"name":"getChainId","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"start","type":"address"},{"internalType":"uint256","name":"pageSize","type":"uint256"}],"name":"getModulesPaginated","outputs":[{"internalType":"address[]","name":"array","type":"address[]"},{"internalType":"address","name":"next","type":"address"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getOwners","outputs":[{"internalType":"address[]","name":"","type":"address[]"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"uint256","name":"offset","type":"uint256"},{"internalType":"uint256","name":"length","type":"uint256"}],"name":"getStorageAt","outputs":[{"internalType":"bytes","name":"","type":"bytes"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"getThreshold","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"},{"internalType":"uint256","name":"safeTxGas","type":"uint256"},{"internalType":"uint256","name":"baseGas","type":"uint256"},{"internalType":"uint256","name":"gasPrice","type":"uint256"},{"internalType":"address","name":"gasToken","type":"address"},{"internalType":"address","name":"refundReceiver","type":"address"},{"internalType":"uint256","name":"_nonce","type":"uint256"}],"name":"getTransactionHash","outputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"module","type":"address"}],"name":"isModuleEnabled","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"owner","type":"address"}],"name":"isOwner","outputs":[{"internalType":"bool","name":"","type":"bool"}],"stateMutability":"view","type":"function"},{"inputs":[],"name":"nonce","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"owner","type":"address"},{"internalType":"uint256","name":"_threshold","type":"uint256"}],"name":"removeOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"value","type":"uint256"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"enum Enum.Operation","name":"operation","type":"uint8"}],"name":"requiredTxGas","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"handler","type":"address"}],"name":"setFallbackHandler","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"guard","type":"address"}],"name":"setGuard","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address[]","name":"_owners","type":"address[]"},{"internalType":"uint256","name":"_threshold","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"bytes","name":"data","type":"bytes"},{"internalType":"address","name":"fallbackHandler","type":"address"},{"internalType":"address","name":"paymentToken","type":"address"},{"internalType":"uint256","name":"payment","type":"uint256"},{"internalType":"address payable","name":"paymentReceiver","type":"address"}],"name":"setup","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"bytes32","name":"","type":"bytes32"}],"name":"signedMessages","outputs":[{"internalType":"uint256","name":"","type":"uint256"}],"stateMutability":"view","type":"function"},{"inputs":[{"internalType":"address","name":"targetContract","type":"address"},{"internalType":"bytes","name":"calldataPayload","type":"bytes"}],"name":"simulateAndRevert","outputs":[],"stateMutability":"nonpayable","type":"function"},{"inputs":[{"internalType":"address","name":"prevOwner","type":"address"},{"internalType":"address","name":"oldOwner","type":"address"},{"internalType":"address","name":"newOwner","type":"address"}],"name":"swapOwner","outputs":[],"stateMutability":"nonpayable","type":"function"},{"stateMutability":"payable","type":"receive"}]'),TD={released:ED,contractName:XD,version:JD,deployments:xD,networkAddresses:ND,abi:HD},YD=!0,FD="MultiSend",KD="1.1.1",MD={canonical:{address:"0x8D29bE29923b68abfDD21e541b9374737B49cdAD",codeHash:"0xe4e9b4d4c1e3ff06cd51afe0b51eb1b22c0bab51eab38d428ee74540a5ff603e"}},UD={1:"canonical",4:"canonical",5:"canonical",42:"canonical",88:"canonical",100:"canonical",246:"canonical",369:"canonical",73799:"canonical"},DD=[{inputs:[],payable:!1,stateMutability:"nonpayable",type:"constructor"},{constant:!1,inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],payable:!1,stateMutability:"nonpayable",type:"function"}],LD={released:YD,contractName:FD,version:KD,deployments:MD,networkAddresses:UD,abi:DD},zD=!0,QD="MultiSend",PD="1.3.0",OD={canonical:{address:"0xA238CBeb142c10Ef7Ad8442C6D1f9E89e07e7761",codeHash:"0x0208282bd262360d0320862c5ac70f375f5ed3b9d89a83a615b4d398415bdc83"},eip155:{address:"0x998739BFdAAdde7C933B942a68053933098f9EDa",codeHash:"0x81db0e4afdf5178583537b58c5ad403bd47a4ac7f9bde2442ef3e341d433126a"},zksync:{address:"0x0dFcccB95225ffB03c6FBB2559B530C2B7C8A912",codeHash:"0xd9aa004a59b3738a108e747e578ae409b84e9f3ffd689d81b10f4d96000c5f5c"}},jD={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},_D=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],$D={released:zD,contractName:QD,version:PD,deployments:OD,networkAddresses:jD,abi:_D},qD=!0,eL="MultiSend",tL="1.4.1",nL={canonical:{address:"0x38869bf66a61cF6bDB996A6aE40D5853Fd43B526",codeHash:"0x0e4f7fc66550a322d1e7688e181b75e217e662a4f3f4d6a29b22bc61217c4b77"},zksync:{address:"0x309D0B190FeCCa8e1D5D8309a16F7e3CB133E885",codeHash:"0xcb372f27aba6983e7b54997ebb4a75c35876b2a279238ab914c5415de1e95137"}},aL={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},sL=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],iL={released:qD,contractName:eL,version:tL,deployments:nL,networkAddresses:aL,abi:sL},rL=!0,oL="MultiSendCallOnly",lL="1.3.0",cL={canonical:{address:"0x40A2aCCbd92BCA938b02010E17A5b8929b49130D",codeHash:"0xa9865ac2d9c7a1591619b188c4d88167b50df6cc0c5327fcbd1c8c75f7c066ad"},eip155:{address:"0xA1dabEF33b3B82c7814B6D82A79e50F4AC44102B",codeHash:"0xa9865ac2d9c7a1591619b188c4d88167b50df6cc0c5327fcbd1c8c75f7c066ad"},zksync:{address:"0xf220D3b4DFb23C4ade8C88E526C1353AbAcbC38F",codeHash:"0x064ddbf252714bcd4cb79f679e8c12df96d998ce07bbb13b3118c1dbf4a31942"}},gL={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},dL=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],IL={released:rL,contractName:oL,version:lL,deployments:cL,networkAddresses:gL,abi:dL},uL=!0,CL="MultiSendCallOnly",pL="1.4.1",mL={canonical:{address:"0x9641d764fc13c8B624c04430C7356C1C7C8102e2",codeHash:"0xecd5bd14a08c5d2122379900b2f272bdf107a7e92423c10dd5fe3254386c9939"},zksync:{address:"0x0408EF011960d02349d50286D20531229BCef773",codeHash:"0x44c70b30fed5c3a07358a52c2fb028f651031010ef99e4d8c3b45c208e88a264"}},AL={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},yL=[{inputs:[{internalType:"bytes",name:"transactions",type:"bytes"}],name:"multiSend",outputs:[],stateMutability:"payable",type:"function"}],bL={released:uL,contractName:CL,version:pL,deployments:mL,networkAddresses:AL,abi:yL},hL=!0,fL="CreateCall",ZL="1.3.0",GL={canonical:{address:"0x7cbB62EaA69F79e6873cD1ecB2392971036cFAa4",codeHash:"0x8155d988823a4f6f1bcbc76a64af8e510c4ce68819290d43cf24956bd24dee82"},eip155:{address:"0xB19D6FFc2182150F8Eb585b79D4ABcd7C5640A9d",codeHash:"0x8155d988823a4f6f1bcbc76a64af8e510c4ce68819290d43cf24956bd24dee82"},zksync:{address:"0xcB8e5E438c5c2b45FbE17B02Ca9aF91509a8ad56",codeHash:"0x98095337deb9718f4e5ccb1b25a53be5f5e0093502b29df9e857f5e3e12aa194"}},BL={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},SL=[{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"newContract",type:"address"}],name:"ContractCreation",type:"event"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"deploymentData",type:"bytes"}],name:"performCreate",outputs:[{internalType:"address",name:"newContract",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"deploymentData",type:"bytes"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"performCreate2",outputs:[{internalType:"address",name:"newContract",type:"address"}],stateMutability:"nonpayable",type:"function"}],wL={released:hL,contractName:fL,version:ZL,deployments:GL,networkAddresses:BL,abi:SL},kL=!0,VL="CreateCall",RL="1.4.1",WL={canonical:{address:"0x9b35Af71d77eaf8d7e40252370304687390A1A52",codeHash:"0x2b3060c55fcb8275653e99ad511a71f67ba76934ed66a7d74d6e68b52afff889"},zksync:{address:"0xAAA566Fe7978bB0fb0B5362B7ba23038f4428D8f",codeHash:"0x3aa5b033c45ab4866216847b12f15bca9a94c66ad5bbfbbbc42cc778079059d4"}},vL={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},EL=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"newContract",type:"address"}],name:"ContractCreation",type:"event"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"deploymentData",type:"bytes"}],name:"performCreate",outputs:[{internalType:"address",name:"newContract",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"deploymentData",type:"bytes"},{internalType:"bytes32",name:"salt",type:"bytes32"}],name:"performCreate2",outputs:[{internalType:"address",name:"newContract",type:"address"}],stateMutability:"nonpayable",type:"function"}],XL={released:kL,contractName:VL,version:RL,deployments:WL,networkAddresses:vL,abi:EL},JL=!0,xL="SignMessageLib",NL="1.3.0",HL={canonical:{address:"0xA65387F16B013cf2Af4605Ad8aA5ec25a2cbA3a2",codeHash:"0x3ac65dea3cc9dd0d7b7b800f834e3d73415b4e944bb94555c3e4a08fb137e918"},eip155:{address:"0x98FFBBF51bb33A056B08ddf711f289936AafF717",codeHash:"0x3ac65dea3cc9dd0d7b7b800f834e3d73415b4e944bb94555c3e4a08fb137e918"},zksync:{address:"0x357147caf9C0cCa67DfA0CF5369318d8193c8407",codeHash:"0x9da86f7e32ef976bd442a8eeb353e16d683b53e30e926ae7adce7c609f75b1fc"}},TL={1:["canonical","eip155"],3:"canonical",4:"canonical",5:"canonical",10:["eip155","canonical"],11:"canonical",12:"canonical",14:"canonical",16:"eip155",18:"eip155",19:"eip155",25:["eip155","canonical"],28:"eip155",30:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",42:"canonical",43:["eip155","canonical"],44:["eip155","canonical"],46:["eip155","canonical"],50:"canonical",51:"canonical",56:["canonical","eip155"],57:"eip155",61:"eip155",63:"eip155",69:"eip155",71:"canonical",81:"eip155",82:"eip155",83:["eip155","canonical"],96:"canonical",97:"canonical",100:["canonical","eip155"],106:"eip155",108:"eip155",109:"eip155",111:"eip155",114:"canonical",122:"canonical",123:"canonical",130:["canonical","eip155"],133:"canonical",137:["canonical","eip155"],146:["canonical","eip155"],148:"eip155",155:"eip155",169:"canonical",177:"canonical",179:"eip155",195:"eip155",196:["eip155","canonical"],204:["eip155","canonical"],232:"zksync",240:"zksync",246:"canonical",250:["canonical","eip155"],252:["eip155","canonical"],255:"eip155",274:"canonical",280:"zksync",282:"zksync",288:"eip155",291:"canonical",300:"zksync",314:"eip155",321:"canonical",322:"canonical",324:"zksync",336:["canonical","eip155"],338:"eip155",360:"eip155",369:"canonical",388:"zksync",418:"canonical",420:"eip155",424:"canonical",466:"canonical",478:"canonical",480:["canonical","eip155"],545:"eip155",570:"eip155",588:"eip155",592:"canonical",595:"eip155",599:"eip155",648:["canonical","eip155"],686:"eip155",690:["eip155","canonical"],747:"eip155",787:"eip155",919:["canonical","eip155"],943:"canonical",1001:"eip155",1008:"canonical",1030:"canonical",1088:["eip155","canonical"],1101:["canonical","eip155"],1111:"eip155",1112:"eip155",1114:"canonical",1115:"canonical",1116:"canonical",1135:["canonical","eip155"],1230:"eip155",1231:"eip155",1284:"canonical",1285:"canonical",1287:"canonical",1294:"eip155",1329:"canonical",1337:"eip155",1424:"canonical",1442:"eip155",1513:["eip155","canonical"],1514:["eip155","canonical"],1516:["eip155","canonical"],1559:"eip155",1663:"eip155",1729:"canonical",1807:"canonical",1890:"canonical",1891:"canonical",1923:["canonical","eip155"],1924:["canonical","eip155"],1984:"canonical",1998:"canonical",2001:"canonical",2002:"canonical",2008:"canonical",2019:"canonical",2020:"canonical",2021:"canonical",2039:"canonical",2192:["canonical","eip155"],2221:["canonical","eip155"],2222:["canonical","eip155"],2331:"canonical",2345:"canonical",2358:"eip155",2741:"zksync",2810:["eip155","canonical"],2818:["canonical","eip155"],3338:"canonical",3636:"eip155",3737:"canonical",3776:"canonical",4002:"canonical",4078:"canonical",4157:"eip155",4202:"canonical",4337:"canonical",4460:"canonical",4653:"eip155",4661:"canonical",4689:"eip155",4918:"canonical",4919:"canonical",5e3:["eip155","canonical"],5001:"eip155",5003:["eip155","canonical"],5165:"canonical",5700:["eip155","canonical"],6001:"canonical",6102:"eip155",6398:"eip155",6880:"canonical",7e3:["eip155","canonical"],7001:"eip155",7070:"canonical",7332:"eip155",7341:"canonical",7560:["canonical","eip155"],7700:"eip155",8192:"eip155",8194:"eip155",8217:"eip155",8329:"canonical",8453:["eip155","canonical"],8822:"eip155",9e3:["canonical","eip155"],9001:["canonical","eip155"],9728:"eip155",1e4:"eip155",10001:"eip155",10081:"eip155",10200:"canonical",10242:"eip155",10243:"eip155",10849:"canonical",11011:"eip155",11111:"canonical",11124:"zksync",11235:"canonical",11437:"canonical",11820:"canonical",11891:"canonical",12324:"canonical",12325:"canonical",12357:"canonical",12553:"canonical",13337:"canonical",13371:"eip155",13473:"eip155",14800:"eip155",17e3:["canonical","eip155"],17069:["eip155","canonical"],17172:"eip155",18231:"canonical",18233:"canonical",22776:"canonical",23294:"eip155",23295:"eip155",25327:"eip155",28979:"canonical",31611:"canonical",33139:"eip155",33401:"canonical",34443:["canonical","eip155"],35441:"canonical",35443:"canonical",37111:"zksync",41455:["canonical","eip155"],42161:["canonical","eip155"],42170:"canonical",42220:["eip155","canonical"],42793:"eip155",43111:["eip155","canonical"],43113:["canonical","eip155"],43114:["eip155","canonical"],43288:"eip155",44787:"canonical",45e3:"canonical",47763:"canonical",47805:"canonical",48899:"eip155",48900:["canonical","eip155"],53456:"canonical",53457:"canonical",54211:"eip155",56288:"eip155",57e3:"eip155",57054:"canonical",57073:["eip155","canonical"],58008:"canonical",59140:["canonical","eip155"],59144:["canonical","eip155"],60808:["canonical","eip155"],61166:"zksync",71401:"eip155",71402:"eip155",73799:"canonical",80001:"canonical",80002:"canonical",80084:"canonical",80085:["canonical","eip155"],80094:["canonical","eip155"],81457:["canonical","eip155"],83291:"canonical",84531:"eip155",84532:["eip155","canonical"],97435:"canonical",103454:"eip155",111188:"canonical",128123:["eip155","canonical"],167e3:["eip155","canonical"],167008:"canonical",167009:["eip155","canonical"],175188:"canonical",200101:"canonical",200202:"canonical",200810:"canonical",314159:"eip155",328527:"canonical",333999:"canonical",421611:"canonical",421613:"canonical",421614:"canonical",49e4:["canonical","eip155"],534351:["canonical","eip155"],534352:["canonical","eip155"],534353:"eip155",543210:"zksync",555666:"canonical",560048:"eip155",622277:"canonical",656476:["eip155","canonical"],660279:"canonical",668668:"canonical",713715:["eip155","canonical"],763373:"eip155",764984:"canonical",808813:"eip155",810180:"zksync",978657:"canonical",4457845:"zksync",6038361:["eip155","canonical"],7225878:"eip155",7777777:["canonical","eip155"],11155111:["eip155","canonical"],11155420:"eip155",12227332:"canonical",21e6:"eip155",94204209:["canonical","eip155"],111557560:["canonical","eip155"],123420111:["canonical","eip155"],161221135:"canonical",168587773:"canonical",222000222:"canonical",245022926:"eip155",245022934:"eip155",328527624:"canonical",333000333:"canonical",476462898:"canonical",666666666:["canonical","eip155"],888888888:"canonical",999999999:["canonical","eip155"],1313161554:["canonical","eip155"],1313161555:"canonical",1511670449:"canonical",16666e5:"eip155",16667e5:"eip155","11297108099":"canonical","11297108109":"canonical","37714555429":"canonical","88153591557":["canonical","eip155"],"920637907288165":"canonical"},YL=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"signMessage",outputs:[],stateMutability:"nonpayable",type:"function"}],FL={released:JL,contractName:xL,version:NL,deployments:HL,networkAddresses:TL,abi:YL},KL=!0,ML="SignMessageLib",UL="1.4.1",DL={canonical:{address:"0xd53cd0aB83D845Ac265BE939c57F53AD838012c9",codeHash:"0x525c754a46b79e05543a59bb61e8de3c9eee0d955a59352409cbe67ea1077528"},zksync:{address:"0xAca1ec0a1A575CDCCF1DC3d5d296202Eb6061888",codeHash:"0x3e762bdca5f7d61c70e7ad1d1cb7b999481954543e7c29540e757d3e7004aa6b"}},LL={1:"canonical",5:"canonical",10:"canonical",14:"canonical",16:"canonical",19:"canonical",25:"canonical",31:"canonical",39:"canonical",40:"canonical",41:"canonical",44:"canonical",56:"canonical",71:"canonical",81:"canonical",88:"canonical",97:"canonical",100:"canonical",114:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",155:"canonical",169:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",250:"canonical",252:"canonical",255:"canonical",300:"zksync",314:"canonical",324:"zksync",336:"canonical",338:"canonical",369:"canonical",466:"canonical",478:"canonical",480:"canonical",530:"canonical",545:"canonical",592:"canonical",690:"canonical",747:"canonical",919:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1030:"canonical",1101:"canonical",1111:"canonical",1112:"canonical",1125:"canonical",1135:"canonical",1284:"canonical",1285:"canonical",1287:"canonical",1315:"canonical",1329:"canonical",1337:"canonical",1424:"canonical",1442:"canonical",1516:"canonical",1625:"canonical",1663:"canonical",1729:"canonical",1740:"canonical",1750:"canonical",1811:"canonical",1923:"canonical",1924:"canonical",2e3:"canonical",2039:"canonical",2187:"canonical",2192:"canonical",2345:"canonical",2358:"canonical",2424:"canonical",2442:"canonical",2810:"canonical",2818:"canonical",3338:"canonical",3501:"canonical",3636:"canonical",3776:"canonical",4002:"canonical",4061:"canonical",4062:"canonical",4157:"canonical",4162:"canonical",4202:"canonical",4337:"canonical",4653:"canonical",4661:"canonical",5e3:"canonical",5003:"canonical",5115:"canonical",5611:"canonical",6001:"canonical",6321:"canonical",6322:"canonical",6688:"canonical",7e3:"canonical",7001:"canonical",7171:"canonical",7200:"canonical",7560:"canonical",7771:"canonical",8192:"canonical",8194:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9001:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",10243:"canonical",11011:"canonical",11235:"canonical",11501:"canonical",11503:"canonical",13337:"canonical",13746:"canonical",17e3:"canonical",17069:"canonical",18233:"canonical",18880:"canonical",23294:"canonical",23295:"canonical",32769:"canonical",33101:"canonical",33139:"canonical",34443:"canonical",35441:"canonical",35443:"canonical",41455:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",54211:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59140:"canonical",59141:"canonical",59144:"canonical",59902:"canonical",80001:"canonical",80085:"canonical",80094:"canonical",81457:"canonical",84531:"canonical",84532:"canonical",90001:"canonical",98864:"canonical",98865:"canonical",105105:"canonical",111188:"canonical",167e3:"canonical",167009:"canonical",175188:"canonical",205205:"canonical",314159:"canonical",381931:"canonical",421614:"canonical",444444:"canonical",534351:"canonical",534352:"canonical",555666:"canonical",560048:"canonical",713715:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",6038361:"canonical",7225878:"canonical",7777777:"canonical",9999999:"canonical",11155111:"canonical",11155420:"canonical",12227332:"canonical",21e6:"canonical",52164803:"canonical",94204209:"canonical",111557560:"canonical",123420111:"canonical",168587773:"canonical",253368190:"canonical",476462898:"canonical",666666666:"canonical",994873017:"canonical",999999999:"canonical",1313161554:"canonical",1313161555:"canonical",1417429182:"canonical",1511670449:"canonical",1570754601:"canonical",16666e5:"canonical",16667e5:"canonical",1952959480:"canonical","88153591557":"canonical","123420000220":"canonical"},zL=[{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"msgHash",type:"bytes32"}],name:"SignMsg",type:"event"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"}],name:"signMessage",outputs:[],stateMutability:"nonpayable",type:"function"}],QL={released:KL,contractName:ML,version:UL,deployments:DL,networkAddresses:LL,abi:zL},PL=!0,OL="SafeMigration",jL="1.4.1",_L={canonical:{address:"0x526643F69b81B008F46d95CD5ced5eC0edFFDaC6",codeHash:"0xc00d7921460cd5a05393e7772e634bd7d212f356356aa3a77f0120a9b8e25e99"},zksync:{address:"0x817756C6c555A94BCEE39eB5a102AbC1678b09A7",codeHash:"0x6815c12fbdeb438fb0fb1e1484ac190ca2fc98065b93f95db846596c3c0eee70"}},$L={1:"canonical",10:"canonical",14:"canonical",39:"canonical",44:"canonical",56:"canonical",81:"canonical",88:"canonical",100:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",300:"zksync",314:"canonical",324:"zksync",466:"canonical",478:"canonical",480:"canonical",545:"canonical",747:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1101:"canonical",1125:"canonical",1315:"canonical",1337:"canonical",1424:"canonical",1516:"canonical",1663:"canonical",1740:"canonical",1750:"canonical",1923:"canonical",1924:"canonical",2187:"canonical",2345:"canonical",2424:"canonical",2442:"canonical",2818:"canonical",3501:"canonical",3636:"canonical",4061:"canonical",4661:"canonical",5e3:"canonical",5115:"canonical",5611:"canonical",7200:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",11011:"canonical",13746:"canonical",18880:"canonical",33139:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59144:"canonical",59902:"canonical",80094:"canonical",81457:"canonical",84532:"canonical",98864:"canonical",98865:"canonical",175188:"canonical",314159:"canonical",381931:"canonical",534352:"canonical",560048:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",11155111:"canonical",12227332:"canonical",21e6:"canonical",253368190:"canonical",994873017:"canonical",1313161554:"canonical",1417429182:"canonical",1570754601:"canonical",1952959480:"canonical"},qL=[{inputs:[{internalType:"address",name:"safeSingleton",type:"address"},{internalType:"address",name:"safeL2Singleton",type:"address"},{internalType:"address",name:"fallbackHandler",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ChangedMasterCopy",type:"event"},{inputs:[],name:"MIGRATION_SINGLETON",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAFE_FALLBACK_HANDLER",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAFE_L2_SINGLETON",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"SAFE_SINGLETON",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"migrateL2Singleton",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrateL2WithFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrateSingleton",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"migrateWithFallbackHandler",outputs:[],stateMutability:"nonpayable",type:"function"}],ez={released:PL,contractName:OL,version:jL,deployments:_L,networkAddresses:$L,abi:qL},tz=!0,nz="SafeToL2Migration",az="1.4.1",sz={canonical:{address:"0xfF83F6335d8930cBad1c0D439A841f01888D9f69",codeHash:"0xa83e7be2fa20c96dc9575e3937239d552f3831ea437d7c96397eec8736f0cba0"},zksync:{address:"0xa26620d1f8f1a2433F0D25027F141aaCAFB3E590",codeHash:"0x2a68d940fb2460312e98bc36be0efaeff392237039e7282bc12155f049287c70"}},iz={1:"canonical",10:"canonical",14:"canonical",39:"canonical",44:"canonical",56:"canonical",81:"canonical",88:"canonical",100:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",300:"zksync",314:"canonical",324:"zksync",466:"canonical",478:"canonical",480:"canonical",545:"canonical",747:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1101:"canonical",1125:"canonical",1315:"canonical",1337:"canonical",1424:"canonical",1516:"canonical",1663:"canonical",1740:"canonical",1750:"canonical",1923:"canonical",1924:"canonical",2187:"canonical",2345:"canonical",2424:"canonical",2442:"canonical",2818:"canonical",3501:"canonical",3636:"canonical",4061:"canonical",4661:"canonical",5e3:"canonical",5115:"canonical",5611:"canonical",7200:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",11011:"canonical",13746:"canonical",18880:"canonical",33139:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59144:"canonical",59902:"canonical",80094:"canonical",81457:"canonical",84532:"canonical",98864:"canonical",98865:"canonical",175188:"canonical",314159:"canonical",381931:"canonical",534352:"canonical",560048:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",11155111:"canonical",12227332:"canonical",21e6:"canonical",253368190:"canonical",994873017:"canonical",1313161554:"canonical",1417429182:"canonical",1570754601:"canonical",1952959480:"canonical"},rz=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ChangedMasterCopy",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"},{indexed:!1,internalType:"bytes",name:"data",type:"bytes"},{indexed:!1,internalType:"enum Enum.Operation",name:"operation",type:"uint8"},{indexed:!1,internalType:"uint256",name:"safeTxGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"baseGas",type:"uint256"},{indexed:!1,internalType:"uint256",name:"gasPrice",type:"uint256"},{indexed:!1,internalType:"address",name:"gasToken",type:"address"},{indexed:!1,internalType:"address payable",name:"refundReceiver",type:"address"},{indexed:!1,internalType:"bytes",name:"signatures",type:"bytes"},{indexed:!1,internalType:"bytes",name:"additionalInfo",type:"bytes"}],name:"SafeMultiSigTransaction",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"initiator",type:"address"},{indexed:!1,internalType:"address[]",name:"owners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"},{indexed:!1,internalType:"address",name:"initializer",type:"address"},{indexed:!1,internalType:"address",name:"fallbackHandler",type:"address"}],name:"SafeSetup",type:"event"},{inputs:[],name:"MIGRATION_SINGLETON",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"l2Singleton",type:"address"},{internalType:"address",name:"fallbackHandler",type:"address"}],name:"migrateFromV111",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"l2Singleton",type:"address"}],name:"migrateToL2",outputs:[],stateMutability:"nonpayable",type:"function"}],oz={released:tz,contractName:nz,version:az,deployments:sz,networkAddresses:iz,abi:rz},lz=!0,cz="SafeToL2Setup",gz="1.4.1",dz={canonical:{address:"0xBD89A1CE4DDe368FFAB0eC35506eEcE0b1fFdc54",codeHash:"0x2f25df28caf984366ee584e13241707e85dcd5a6ea0c14267928dafc1fd6274b"},zksync:{address:"0x199A9df0224031c20Cc27083A4164c9c8F1Bcb39",codeHash:"0x0bbcc5092b50efd183bb46cfe3f61abca3226cea4f612f23f22bb222cd7b3d45"}},Iz={1:"canonical",10:"canonical",14:"canonical",39:"canonical",44:"canonical",56:"canonical",81:"canonical",88:"canonical",100:"canonical",122:"canonical",130:"canonical",133:"canonical",137:"canonical",146:"canonical",177:"canonical",181:"canonical",196:"canonical",204:"canonical",228:"canonical",232:"zksync",300:"zksync",314:"canonical",324:"zksync",466:"canonical",478:"canonical",480:"canonical",545:"canonical",747:"canonical",938:"canonical",964:"canonical",970:"canonical",995:"canonical",1001:"canonical",1101:"canonical",1125:"canonical",1315:"canonical",1337:"canonical",1424:"canonical",1516:"canonical",1663:"canonical",1740:"canonical",1750:"canonical",1923:"canonical",1924:"canonical",2187:"canonical",2345:"canonical",2424:"canonical",2442:"canonical",2818:"canonical",3501:"canonical",3636:"canonical",4061:"canonical",4661:"canonical",5e3:"canonical",5115:"canonical",5611:"canonical",7200:"canonical",8217:"canonical",8408:"canonical",8453:"canonical",8801:"canonical",9369:"canonical",9700:"canonical",10081:"canonical",10143:"canonical",10242:"canonical",11011:"canonical",13746:"canonical",18880:"canonical",33139:"canonical",42161:"canonical",42220:"canonical",42421:"canonical",43111:"canonical",43114:"canonical",44787:"canonical",47763:"canonical",53302:"canonical",57e3:"canonical",57054:"canonical",57073:"canonical",59144:"canonical",59902:"canonical",80094:"canonical",81457:"canonical",84532:"canonical",98864:"canonical",98865:"canonical",175188:"canonical",314159:"canonical",381931:"canonical",534352:"canonical",560048:"canonical",743111:"canonical",839999:"canonical",984122:"canonical",1501869:"canonical",3441006:"canonical",11155111:"canonical",12227332:"canonical",21e6:"canonical",253368190:"canonical",994873017:"canonical",1313161554:"canonical",1417429182:"canonical",1570754601:"canonical",1952959480:"canonical"},uz=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"singleton",type:"address"}],name:"ChangedMasterCopy",type:"event"},{inputs:[{internalType:"address",name:"l2Singleton",type:"address"}],name:"setupToL2",outputs:[],stateMutability:"nonpayable",type:"function"}],Cz={released:lz,contractName:cz,version:gz,deployments:dz,networkAddresses:Iz,abi:uz};var dw;function Ju(){if(dw)return gt;dw=1;var t=gt&&gt.__importDefault||function(Ze){return Ze&&Ze.__esModule?Ze:{default:Ze}};Object.defineProperty(gt,"__esModule",{value:!0}),gt._SAFE_TO_L2_SETUP_DEPLOYMENTS=gt._SAFE_TO_L2_MIGRATION_DEPLOYMENTS=gt._SAFE_MIGRATION_DEPLOYMENTS=gt._SIGN_MESSAGE_LIB_DEPLOYMENTS=gt._CREATE_CALL_DEPLOYMENTS=gt._MULTI_SEND_CALL_ONLY_DEPLOYMENTS=gt._MULTI_SEND_DEPLOYMENTS=gt._SAFE_L2_DEPLOYMENTS=gt._SAFE_DEPLOYMENTS=gt._COMPAT_FALLBACK_HANDLER_DEPLOYMENTS=gt._DEFAULT_CALLBACK_HANDLER_DEPLOYMENTS=gt._FACTORY_DEPLOYMENTS=gt._ACCESSOR_DEPLOYMENTS=void 0;const e=t(KM),a=[t(PM).default,e.default];gt._ACCESSOR_DEPLOYMENTS=a;const s=t(tU),r=t(lU),l=t(pU),c=[t(ZU).default,l.default,r.default,s.default];gt._FACTORY_DEPLOYMENTS=c;const d=[t(RU).default];gt._DEFAULT_CALLBACK_HANDLER_DEPLOYMENTS=d;const p=t(NU),G=[t(UU).default,p.default];gt._COMPAT_FALLBACK_HANDLER_DEPLOYMENTS=G;const w=t(jU),Z=t(aD),V=t(gD),W=t(AD),D=t(BD),x=[w.default,Z.default,V.default,W.default,D.default];gt._SAFE_DEPLOYMENTS=x;const Y=t(vD),z=t(TD),Q=[Y.default,z.default];gt._SAFE_L2_DEPLOYMENTS=Q;const P=t(LD),_=t($D),ce=[t(iL).default,_.default,P.default];gt._MULTI_SEND_DEPLOYMENTS=ce;const ae=t(IL),ue=[t(bL).default,ae.default];gt._MULTI_SEND_CALL_ONLY_DEPLOYMENTS=ue;const M=t(wL),E=[t(XL).default,M.default];gt._CREATE_CALL_DEPLOYMENTS=E;const N=t(FL),R=[t(QL).default,N.default];gt._SIGN_MESSAGE_LIB_DEPLOYMENTS=R;const J=[t(ez).default];gt._SAFE_MIGRATION_DEPLOYMENTS=J;const se=[t(oz).default];gt._SAFE_TO_L2_MIGRATION_DEPLOYMENTS=se;const le=[t(Cz).default];return gt._SAFE_TO_L2_SETUP_DEPLOYMENTS=le,gt}var oc={},mb,Iw;function pz(){if(Iw)return mb;Iw=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const a=this.map.get(n);if(a!==void 0)return this.map.delete(n),this.map.set(n,a),a}delete(n){return this.map.delete(n)}set(n,a){if(!this.delete(n)&&a!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(n,a)}return this}}return mb=t,mb}var Ab,uw;function m2(){if(uw)return Ab;uw=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return Ab=a=>a?typeof a!="object"?t:a:e,Ab}var lp={exports:{}},yb,Cw;function A2(){if(Cw)return yb;Cw=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,s=e-6;return yb={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},yb}function mz(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QW={exports:{}},jt=QW.exports={},Js,xs;function H1(){throw new Error("setTimeout has not been defined")}function T1(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Js=setTimeout:Js=H1}catch{Js=H1}try{typeof clearTimeout=="function"?xs=clearTimeout:xs=T1}catch{xs=T1}})();function PW(t){if(Js===setTimeout)return setTimeout(t,0);if((Js===H1||!Js)&&setTimeout)return Js=setTimeout,setTimeout(t,0);try{return Js(t,0)}catch{try{return Js.call(null,t,0)}catch{return Js.call(this,t,0)}}}function Az(t){if(xs===clearTimeout)return clearTimeout(t);if((xs===T1||!xs)&&clearTimeout)return xs=clearTimeout,clearTimeout(t);try{return xs(t)}catch{try{return xs.call(null,t)}catch{return xs.call(this,t)}}}var Ni=[],Vc=!1,No,am=-1;function yz(){!Vc||!No||(Vc=!1,No.length?Ni=No.concat(Ni):am=-1,Ni.length&&OW())}function OW(){if(!Vc){var t=PW(yz);Vc=!0;for(var e=Ni.length;e;){for(No=Ni,Ni=[];++am<e;)No&&No[am].run();am=-1,e=Ni.length}No=null,Vc=!1,Az(t)}}jt.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];Ni.push(new jW(t,e)),Ni.length===1&&!Vc&&PW(OW)};function jW(t,e){this.fun=t,this.array=e}jW.prototype.run=function(){this.fun.apply(null,this.array)};jt.title="browser";jt.browser=!0;jt.env={};jt.argv=[];jt.version="";jt.versions={};function Pi(){}jt.on=Pi;jt.addListener=Pi;jt.once=Pi;jt.off=Pi;jt.removeListener=Pi;jt.removeAllListeners=Pi;jt.emit=Pi;jt.prependListener=Pi;jt.prependOnceListener=Pi;jt.listeners=function(t){return[]};jt.binding=function(t){throw new Error("process.binding is not supported")};jt.cwd=function(){return"/"};jt.chdir=function(t){throw new Error("process.chdir is not supported")};jt.umask=function(){return 0};var bz=QW.exports;const y2=mz(bz);var bb,pw;function JA(){if(pw)return bb;pw=1;var t={};return bb=typeof y2=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},bb}var mw;function b2(){return mw||(mw=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:s}=A2(),r=JA();e=t.exports={};const l=e.re=[],g=e.safeRe=[],c=e.src=[],u=e.safeSrc=[],d=e.t={};let p=0;const A="[a-zA-Z0-9-]",G=[["\\s",1],["\\d",s],[A,a]],w=V=>{for(const[W,D]of G)V=V.split(`${W}*`).join(`${W}{0,${D}}`).split(`${W}+`).join(`${W}{1,${D}}`);return V},Z=(V,W,D)=>{const x=w(W),Y=p++;r(V,Y,W),d[V]=Y,c[Y]=W,u[Y]=x,l[Y]=new RegExp(W,D?"g":void 0),g[Y]=new RegExp(x,D?"g":void 0)};Z("NUMERICIDENTIFIER","0|[1-9]\\d*"),Z("NUMERICIDENTIFIERLOOSE","\\d+"),Z("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${A}*`),Z("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),Z("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),Z("PRERELEASEIDENTIFIER",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIER]})`),Z("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIERLOOSE]})`),Z("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),Z("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),Z("BUILDIDENTIFIER",`${A}+`),Z("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),Z("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),Z("FULL",`^${c[d.FULLPLAIN]}$`),Z("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),Z("LOOSE",`^${c[d.LOOSEPLAIN]}$`),Z("GTLT","((?:<|>)?=?)"),Z("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Z("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),Z("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),Z("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),Z("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),Z("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),Z("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),Z("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),Z("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?(?:${c[d.BUILD]})?(?:$|[^\\d])`),Z("COERCERTL",c[d.COERCE],!0),Z("COERCERTLFULL",c[d.COERCEFULL],!0),Z("LONETILDE","(?:~>?)"),Z("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",Z("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),Z("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),Z("LONECARET","(?:\\^)"),Z("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",Z("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),Z("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),Z("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),Z("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),Z("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",Z("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),Z("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),Z("STAR","(<|>)?=?\\s*\\*"),Z("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),Z("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(lp,lp.exports)),lp.exports}var hb,Aw;function hz(){if(Aw)return hb;Aw=1;const t=/^[0-9]+$/,e=(a,s)=>{const r=t.test(a),l=t.test(s);return r&&l&&(a=+a,s=+s),a===s?0:r&&!l?-1:l&&!r?1:a<s?-1:1};return hb={compareIdentifiers:e,rcompareIdentifiers:(a,s)=>e(s,a)},hb}var fb,yw;function h2(){if(yw)return fb;yw=1;const t=JA(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=A2(),{safeRe:a,t:s}=b2(),r=m2(),{compareIdentifiers:l}=hz();class g{constructor(u,d){if(d=r(d),u instanceof g){if(u.loose===!!d.loose&&u.includePrerelease===!!d.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",u,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const p=u.trim().match(d.loose?a[s.LOOSE]:a[s.FULL]);if(!p)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(A=>{if(/^[0-9]+$/.test(A)){const G=+A;if(G>=0&&G<n)return G}return A}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(t("SemVer.compare",this.version,this.options,u),!(u instanceof g)){if(typeof u=="string"&&u===this.version)return 0;u=new g(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof g||(u=new g(u,this.options)),l(this.major,u.major)||l(this.minor,u.minor)||l(this.patch,u.patch)}comparePre(u){if(u instanceof g||(u=new g(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let d=0;do{const p=this.prerelease[d],A=u.prerelease[d];if(t("prerelease compare",d,p,A),p===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(p===void 0)return-1;if(p===A)continue;return l(p,A)}while(++d)}compareBuild(u){u instanceof g||(u=new g(u,this.options));let d=0;do{const p=this.build[d],A=u.build[d];if(t("build compare",d,p,A),p===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(p===void 0)return-1;if(p===A)continue;return l(p,A)}while(++d)}inc(u,d,p){if(u.startsWith("pre")){if(!d&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(d){const A=`-${d}`.match(this.options.loose?a[s.PRERELEASELOOSE]:a[s.PRERELEASE]);if(!A||A[1]!==d)throw new Error(`invalid identifier: ${d}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d,p),this.inc("pre",d,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d,p),this.inc("pre",d,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const A=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[A];else{let G=this.prerelease.length;for(;--G>=0;)typeof this.prerelease[G]=="number"&&(this.prerelease[G]++,G=-2);if(G===-1){if(d===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(A)}}if(d){let G=[d,A];p===!1&&(G=[d]),l(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=G):this.prerelease=G}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return fb=g,fb}var Zb,bw;function Lg(){if(bw)return Zb;bw=1;const t=h2();return Zb=(n,a,s)=>new t(n,s).compare(new t(a,s)),Zb}var Gb,hw;function fz(){if(hw)return Gb;hw=1;const t=Lg();return Gb=(n,a,s)=>t(n,a,s)===0,Gb}var Bb,fw;function Zz(){if(fw)return Bb;fw=1;const t=Lg();return Bb=(n,a,s)=>t(n,a,s)!==0,Bb}var Sb,Zw;function Gz(){if(Zw)return Sb;Zw=1;const t=Lg();return Sb=(n,a,s)=>t(n,a,s)>0,Sb}var wb,Gw;function Bz(){if(Gw)return wb;Gw=1;const t=Lg();return wb=(n,a,s)=>t(n,a,s)>=0,wb}var kb,Bw;function Sz(){if(Bw)return kb;Bw=1;const t=Lg();return kb=(n,a,s)=>t(n,a,s)<0,kb}var Vb,Sw;function wz(){if(Sw)return Vb;Sw=1;const t=Lg();return Vb=(n,a,s)=>t(n,a,s)<=0,Vb}var Rb,ww;function kz(){if(ww)return Rb;ww=1;const t=fz(),e=Zz(),n=Gz(),a=Bz(),s=Sz(),r=wz();return Rb=(g,c,u,d)=>{switch(c){case"===":return typeof g=="object"&&(g=g.version),typeof u=="object"&&(u=u.version),g===u;case"!==":return typeof g=="object"&&(g=g.version),typeof u=="object"&&(u=u.version),g!==u;case"":case"=":case"==":return t(g,u,d);case"!=":return e(g,u,d);case">":return n(g,u,d);case">=":return a(g,u,d);case"<":return s(g,u,d);case"<=":return r(g,u,d);default:throw new TypeError(`Invalid operator: ${c}`)}},Rb}var Wb,kw;function Vz(){if(kw)return Wb;kw=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,p){if(p=n(p),d instanceof e){if(d.loose===!!p.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),l("comparator",d,p),this.options=p,this.loose=!!p.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(d){const p=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],A=d.match(p);if(!A)throw new TypeError(`Invalid comparator: ${d}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new g(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(l("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new g(d,this.options)}catch{return!1}return r(d,this.operator,this.semver,this.options)}intersects(d,p){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(d.value,p).test(this.value):d.operator===""?d.value===""?!0:new c(this.value,p).test(d.semver):(p=n(p),p.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||r(this.semver,"<",d.semver,p)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||r(this.semver,">",d.semver,p)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}Wb=e;const n=m2(),{safeRe:a,t:s}=b2(),r=kz(),l=JA(),g=h2(),c=_W();return Wb}var vb,Vw;function _W(){if(Vw)return vb;Vw=1;const t=/\s+/g;class e{constructor(S,E){if(E=s(E),S instanceof e)return S.loose===!!E.loose&&S.includePrerelease===!!E.includePrerelease?S:new e(S.raw,E);if(S instanceof r)return this.raw=S.value,this.set=[[S]],this.formatted=void 0,this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=S.trim().replace(t," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(X=>!Z(X[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const X of this.set)if(X.length===1&&V(X[0])){this.set=[X];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let S=0;S<this.set.length;S++){S>0&&(this.formatted+="||");const E=this.set[S];for(let N=0;N<E.length;N++)N>0&&(this.formatted+=" "),this.formatted+=E[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(S){const N=((this.options.includePrerelease&&G)|(this.options.loose&&w))+":"+S,X=a.get(N);if(X)return X;const R=this.options.loose,T=R?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];S=S.replace(T,pe(this.options.includePrerelease)),l("hyphen replace",S),S=S.replace(c[u.COMPARATORTRIM],d),l("comparator trim",S),S=S.replace(c[u.TILDETRIM],p),l("tilde trim",S),S=S.replace(c[u.CARETTRIM],A),l("caret trim",S);let J=S.split(" ").map(le=>D(le,this.options)).join(" ").split(/\s+/).map(le=>ae(le,this.options));R&&(J=J.filter(le=>(l("loose invalid filter",le,this.options),!!le.match(c[u.COMPARATORLOOSE])))),l("range list",J);const K=new Map,se=J.map(le=>new r(le,this.options));for(const le of se){if(Z(le))return[le];K.set(le.value,le)}K.size>1&&K.has("")&&K.delete("");const de=[...K.values()];return a.set(N,de),de}intersects(S,E){if(!(S instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>W(N,E)&&S.set.some(X=>W(X,E)&&N.every(R=>X.every(T=>R.intersects(T,E)))))}test(S){if(!S)return!1;if(typeof S=="string")try{S=new g(S,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(ue(this.set[E],S,this.options))return!0;return!1}}vb=e;const n=pz(),a=new n,s=m2(),r=Vz(),l=JA(),g=h2(),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:A}=b2(),{FLAG_INCLUDE_PRERELEASE:G,FLAG_LOOSE:w}=A2(),Z=M=>M.value==="<0.0.0-0",V=M=>M.value==="",W=(M,S)=>{let E=!0;const N=M.slice();let X=N.pop();for(;E&&N.length;)E=N.every(R=>X.intersects(R,S)),X=N.pop();return E},D=(M,S)=>(l("comp",M,S),M=Q(M,S),l("caret",M),M=Y(M,S),l("tildes",M),M=_(M,S),l("xrange",M),M=ce(M,S),l("stars",M),M),x=M=>!M||M.toLowerCase()==="x"||M==="*",Y=(M,S)=>M.trim().split(/\s+/).map(E=>z(E,S)).join(" "),z=(M,S)=>{const E=S.loose?c[u.TILDELOOSE]:c[u.TILDE];return M.replace(E,(N,X,R,T,J)=>{l("tilde",M,N,X,R,T,J);let K;return x(X)?K="":x(R)?K=`>=${X}.0.0 <${+X+1}.0.0-0`:x(T)?K=`>=${X}.${R}.0 <${X}.${+R+1}.0-0`:J?(l("replaceTilde pr",J),K=`>=${X}.${R}.${T}-${J} <${X}.${+R+1}.0-0`):K=`>=${X}.${R}.${T} <${X}.${+R+1}.0-0`,l("tilde return",K),K})},Q=(M,S)=>M.trim().split(/\s+/).map(E=>P(E,S)).join(" "),P=(M,S)=>{l("caret",M,S);const E=S.loose?c[u.CARETLOOSE]:c[u.CARET],N=S.includePrerelease?"-0":"";return M.replace(E,(X,R,T,J,K)=>{l("caret",M,X,R,T,J,K);let se;return x(R)?se="":x(T)?se=`>=${R}.0.0${N} <${+R+1}.0.0-0`:x(J)?R==="0"?se=`>=${R}.${T}.0${N} <${R}.${+T+1}.0-0`:se=`>=${R}.${T}.0${N} <${+R+1}.0.0-0`:K?(l("replaceCaret pr",K),R==="0"?T==="0"?se=`>=${R}.${T}.${J}-${K} <${R}.${T}.${+J+1}-0`:se=`>=${R}.${T}.${J}-${K} <${R}.${+T+1}.0-0`:se=`>=${R}.${T}.${J}-${K} <${+R+1}.0.0-0`):(l("no pr"),R==="0"?T==="0"?se=`>=${R}.${T}.${J}${N} <${R}.${T}.${+J+1}-0`:se=`>=${R}.${T}.${J}${N} <${R}.${+T+1}.0-0`:se=`>=${R}.${T}.${J} <${+R+1}.0.0-0`),l("caret return",se),se})},_=(M,S)=>(l("replaceXRanges",M,S),M.split(/\s+/).map(E=>re(E,S)).join(" ")),re=(M,S)=>{M=M.trim();const E=S.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return M.replace(E,(N,X,R,T,J,K)=>{l("xRange",M,N,X,R,T,J,K);const se=x(R),de=se||x(T),le=de||x(J),Ze=le;return X==="="&&Ze&&(X=""),K=S.includePrerelease?"-0":"",se?X===">"||X==="<"?N="<0.0.0-0":N="*":X&&Ze?(de&&(T=0),J=0,X===">"?(X=">=",de?(R=+R+1,T=0,J=0):(T=+T+1,J=0)):X==="<="&&(X="<",de?R=+R+1:T=+T+1),X==="<"&&(K="-0"),N=`${X+R}.${T}.${J}${K}`):de?N=`>=${R}.0.0${K} <${+R+1}.0.0-0`:le&&(N=`>=${R}.${T}.0${K} <${R}.${+T+1}.0-0`),l("xRange return",N),N})},ce=(M,S)=>(l("replaceStars",M,S),M.trim().replace(c[u.STAR],"")),ae=(M,S)=>(l("replaceGTE0",M,S),M.trim().replace(c[S.includePrerelease?u.GTE0PRE:u.GTE0],"")),pe=M=>(S,E,N,X,R,T,J,K,se,de,le,Ze)=>(x(N)?E="":x(X)?E=`>=${N}.0.0${M?"-0":""}`:x(R)?E=`>=${N}.${X}.0${M?"-0":""}`:T?E=`>=${E}`:E=`>=${E}${M?"-0":""}`,x(se)?K="":x(de)?K=`<${+se+1}.0.0-0`:x(le)?K=`<${se}.${+de+1}.0-0`:Ze?K=`<=${se}.${de}.${le}-${Ze}`:M?K=`<${se}.${de}.${+le+1}-0`:K=`<=${K}`,`${E} ${K}`.trim()),ue=(M,S,E)=>{for(let N=0;N<M.length;N++)if(!M[N].test(S))return!1;if(S.prerelease.length&&!E.includePrerelease){for(let N=0;N<M.length;N++)if(l(M[N].semver),M[N].semver!==r.ANY&&M[N].semver.prerelease.length>0){const X=M[N].semver;if(X.major===S.major&&X.minor===S.minor&&X.patch===S.patch)return!0}return!1}return!0};return vb}var Eb,Rw;function Rz(){if(Rw)return Eb;Rw=1;const t=_W();return Eb=(n,a,s)=>{try{a=new t(a,s)}catch{return!1}return a.test(n)},Eb}var Ww;function xu(){if(Ww)return oc;Ww=1;var t=oc&&oc.__importDefault||function(g){return g&&g.__esModule?g:{default:g}};Object.defineProperty(oc,"__esModule",{value:!0}),oc.findDeployment=l;const e=t(Rz()),n={released:!0},a="1",s=g=>{const c=Array.isArray(g.networkAddresses[a])?g.networkAddresses[a][0]:g.networkAddresses[a],u=g.deployments[c].address,d=Object.fromEntries(Object.entries(g.networkAddresses).map(([p,A])=>[p,Array.isArray(A)?g.deployments[A[0]].address:g.deployments[A].address]));return Object.assign(Object.assign({},g),{defaultAddress:u,networkAddresses:d})},r=g=>Object.assign(Object.assign({},g),{networkAddresses:Object.fromEntries(Object.entries(g.networkAddresses).map(([c,u])=>[c,Array.isArray(u)?u.map(d=>g.deployments[d].address):g.deployments[u].address]))});function l(g=n,c,u="singleton"){const{version:d,released:p,network:A}=Object.assign(Object.assign({},n),g),G=c.find(w=>!(d&&!(0,e.default)(w.version,d)||typeof p=="boolean"&&w.released!==p||A&&!w.networkAddresses[A]));if(G)return u==="multiple"?r(G):s(G)}return oc}var vw;function Wz(){if(vw)return gs;vw=1,Object.defineProperty(gs,"__esModule",{value:!0}),gs.getSafeL2SingletonDeployments=gs.getSafeL2SingletonDeployment=gs.getSafeSingletonDeployments=gs.getSafeSingletonDeployment=void 0;const t=Ju(),e=xu(),n=l=>(0,e.findDeployment)(l,t._SAFE_DEPLOYMENTS);gs.getSafeSingletonDeployment=n;const a=l=>(0,e.findDeployment)(l,t._SAFE_DEPLOYMENTS,"multiple");gs.getSafeSingletonDeployments=a;const s=l=>(0,e.findDeployment)(l,t._SAFE_L2_DEPLOYMENTS);gs.getSafeL2SingletonDeployment=s;const r=l=>(0,e.findDeployment)(l,t._SAFE_L2_DEPLOYMENTS,"multiple");return gs.getSafeL2SingletonDeployments=r,gs}var bo={},Ew;function vz(){if(Ew)return bo;Ew=1,Object.defineProperty(bo,"__esModule",{value:!0}),bo.getProxyFactoryDeployments=bo.getProxyFactoryDeployment=void 0;const t=xu(),e=Ju(),n=s=>(0,t.findDeployment)(s,e._FACTORY_DEPLOYMENTS);bo.getProxyFactoryDeployment=n;const a=s=>(0,t.findDeployment)(s,e._FACTORY_DEPLOYMENTS,"multiple");return bo.getProxyFactoryDeployments=a,bo}var dt={},Xw;function Ez(){if(Xw)return dt;Xw=1,Object.defineProperty(dt,"__esModule",{value:!0}),dt.getSafeToL2SetupDeployments=dt.getSafeToL2SetupDeployment=dt.getSafeToL2MigrationDeployments=dt.getSafeToL2MigrationDeployment=dt.getSafeMigrationDeployments=dt.getSafeMigrationDeployment=dt.getSignMessageLibDeployments=dt.getSignMessageLibDeployment=dt.getCreateCallDeployments=dt.getCreateCallDeployment=dt.getMultiSendCallOnlyDeployments=dt.getMultiSendCallOnlyDeployment=dt.getMultiSendDeployments=dt.getMultiSendDeployment=void 0;const t=Ju(),e=xu(),n=V=>(0,e.findDeployment)(V,t._MULTI_SEND_DEPLOYMENTS);dt.getMultiSendDeployment=n;const a=V=>(0,e.findDeployment)(V,t._MULTI_SEND_DEPLOYMENTS,"multiple");dt.getMultiSendDeployments=a;const s=V=>(0,e.findDeployment)(V,t._MULTI_SEND_CALL_ONLY_DEPLOYMENTS);dt.getMultiSendCallOnlyDeployment=s;const r=V=>(0,e.findDeployment)(V,t._MULTI_SEND_CALL_ONLY_DEPLOYMENTS,"multiple");dt.getMultiSendCallOnlyDeployments=r;const l=V=>(0,e.findDeployment)(V,t._CREATE_CALL_DEPLOYMENTS);dt.getCreateCallDeployment=l;const g=V=>(0,e.findDeployment)(V,t._CREATE_CALL_DEPLOYMENTS,"multiple");dt.getCreateCallDeployments=g;const c=V=>(0,e.findDeployment)(V,t._SIGN_MESSAGE_LIB_DEPLOYMENTS);dt.getSignMessageLibDeployment=c;const u=V=>(0,e.findDeployment)(V,t._SIGN_MESSAGE_LIB_DEPLOYMENTS,"multiple");dt.getSignMessageLibDeployments=u;const d=V=>(0,e.findDeployment)(V,t._SAFE_MIGRATION_DEPLOYMENTS);dt.getSafeMigrationDeployment=d;const p=V=>(0,e.findDeployment)(V,t._SAFE_MIGRATION_DEPLOYMENTS,"multiple");dt.getSafeMigrationDeployments=p;const A=V=>(0,e.findDeployment)(V,t._SAFE_TO_L2_MIGRATION_DEPLOYMENTS);dt.getSafeToL2MigrationDeployment=A;const G=V=>(0,e.findDeployment)(V,t._SAFE_TO_L2_MIGRATION_DEPLOYMENTS,"multiple");dt.getSafeToL2MigrationDeployments=G;const w=V=>(0,e.findDeployment)(V,t._SAFE_TO_L2_SETUP_DEPLOYMENTS);dt.getSafeToL2SetupDeployment=w;const Z=V=>(0,e.findDeployment)(V,t._SAFE_TO_L2_SETUP_DEPLOYMENTS,"multiple");return dt.getSafeToL2SetupDeployments=Z,dt}var Xb={},Jw;function Xz(){return Jw||(Jw=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.getFallbackHandlerDeployment=t.getCompatibilityFallbackHandlerDeployments=t.getCompatibilityFallbackHandlerDeployment=t.getDefaultCallbackHandlerDeployments=t.getDefaultCallbackHandlerDeployment=void 0;const e=xu(),n=Ju(),a=g=>(0,e.findDeployment)(g,n._DEFAULT_CALLBACK_HANDLER_DEPLOYMENTS);t.getDefaultCallbackHandlerDeployment=a;const s=g=>(0,e.findDeployment)(g,n._DEFAULT_CALLBACK_HANDLER_DEPLOYMENTS,"multiple");t.getDefaultCallbackHandlerDeployments=s;const r=g=>(0,e.findDeployment)(g,n._COMPAT_FALLBACK_HANDLER_DEPLOYMENTS);t.getCompatibilityFallbackHandlerDeployment=r;const l=g=>(0,e.findDeployment)(g,n._COMPAT_FALLBACK_HANDLER_DEPLOYMENTS,"multiple");t.getCompatibilityFallbackHandlerDeployments=l,t.getFallbackHandlerDeployment=t.getCompatibilityFallbackHandlerDeployment}(Xb)),Xb}var ho={},xw;function Jz(){if(xw)return ho;xw=1,Object.defineProperty(ho,"__esModule",{value:!0}),ho.getSimulateTxAccessorDeployments=ho.getSimulateTxAccessorDeployment=void 0;const t=xu(),e=Ju(),n=s=>(0,t.findDeployment)(s,e._ACCESSOR_DEPLOYMENTS);ho.getSimulateTxAccessorDeployment=n;const a=s=>(0,t.findDeployment)(s,e._ACCESSOR_DEPLOYMENTS,"multiple");return ho.getSimulateTxAccessorDeployments=a,ho}var Nw;function xz(){return Nw||(Nw=1,function(t){var e=yo&&yo.__createBinding||(Object.create?function(a,s,r,l){l===void 0&&(l=r);var g=Object.getOwnPropertyDescriptor(s,r);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(a,l,g)}:function(a,s,r,l){l===void 0&&(l=r),a[l]=s[r]}),n=yo&&yo.__exportStar||function(a,s){for(var r in a)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&e(s,a,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(JM(),t),n(Wz(),t),n(vz(),t),n(Ez(),t),n(Xz(),t),n(Jz(),t)}(yo)),yo}var Ci=xz(),fo={},Zo={};const Nz=!0,Hz="AllowanceModule",Tz="0.1.0",Yz={1:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",4:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",5:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",42:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",56:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",100:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",137:"0x1Fb403834C911eB98d56E74F5182b0d64C3b3b4D",246:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",8453:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",42220:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",43114:"0x1Fb403834C911eB98d56E74F5182b0d64C3b3b4D",73799:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",80094:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",534352:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134",11155111:"0xCFbFaC74C26F8647cBDb8c5caf80BB5b32E43134"},Fz=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"}],name:"AddDelegate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"DeleteAllowance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint96",name:"value",type:"uint96"},{indexed:!1,internalType:"uint16",name:"nonce",type:"uint16"}],name:"ExecuteAllowanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"paymentToken",type:"address"},{indexed:!1,internalType:"address",name:"paymentReceiver",type:"address"},{indexed:!1,internalType:"uint96",name:"payment",type:"uint96"}],name:"PayAllowanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"}],name:"RemoveDelegate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"ResetAllowance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint96",name:"allowanceAmount",type:"uint96"},{indexed:!1,internalType:"uint16",name:"resetTime",type:"uint16"}],name:"SetAllowance",type:"event"},{inputs:[],name:"ALLOWANCE_TRANSFER_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"DOMAIN_SEPARATOR_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowances",outputs:[{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"uint96",name:"spent",type:"uint96"},{internalType:"uint16",name:"resetTimeMin",type:"uint16"},{internalType:"uint32",name:"lastResetMin",type:"uint32"},{internalType:"uint16",name:"nonce",type:"uint16"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint48",name:"",type:"uint48"}],name:"delegates",outputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"uint48",name:"prev",type:"uint48"},{internalType:"uint48",name:"next",type:"uint48"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"}],name:"delegatesStart",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint96",name:"allowanceAmount",type:"uint96"},{internalType:"uint16",name:"resetTimeMin",type:"uint16"},{internalType:"uint32",name:"resetBaseMin",type:"uint32"}],name:"setAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"resetAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"deleteAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract GnosisSafe",name:"safe",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"address payable",name:"to",type:"address"},{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint96",name:"payment",type:"uint96"},{internalType:"address",name:"delegate",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"executeAllowanceTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint96",name:"payment",type:"uint96"},{internalType:"uint16",name:"nonce",type:"uint16"}],name:"generateTransferHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"delegate",type:"address"}],name:"getTokens",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"getTokenAllowance",outputs:[{internalType:"uint256[5]",name:"",type:"uint256[5]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"delegate",type:"address"}],name:"addDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"bool",name:"removeAllowances",type:"bool"}],name:"removeDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"uint48",name:"start",type:"uint48"},{internalType:"uint8",name:"pageSize",type:"uint8"}],name:"getDelegates",outputs:[{internalType:"address[]",name:"results",type:"address[]"},{internalType:"uint48",name:"next",type:"uint48"}],stateMutability:"view",type:"function",constant:!0}],Kz={released:Nz,contractName:Hz,version:Tz,networkAddresses:Yz,abi:Fz},Mz=!0,Uz="AllowanceModule",Dz="0.1.1",Lz={100:"0xAA46724893dedD72658219405185Fb0Fc91e091C",130:"0xAA46724893dedD72658219405185Fb0Fc91e091C",137:"0xAA46724893dedD72658219405185Fb0Fc91e091C",43111:"0xAA46724893dedD72658219405185Fb0Fc91e091C",80094:"0xAA46724893dedD72658219405185Fb0Fc91e091C"},zz=[{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"}],name:"AddDelegate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"DeleteAllowance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint96",name:"value",type:"uint96"},{indexed:!1,internalType:"uint16",name:"nonce",type:"uint16"}],name:"ExecuteAllowanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"paymentToken",type:"address"},{indexed:!1,internalType:"address",name:"paymentReceiver",type:"address"},{indexed:!1,internalType:"uint96",name:"payment",type:"uint96"}],name:"PayAllowanceTransfer",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"}],name:"RemoveDelegate",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"}],name:"ResetAllowance",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"safe",type:"address"},{indexed:!1,internalType:"address",name:"delegate",type:"address"},{indexed:!1,internalType:"address",name:"token",type:"address"},{indexed:!1,internalType:"uint96",name:"allowanceAmount",type:"uint96"},{indexed:!1,internalType:"uint16",name:"resetTime",type:"uint16"}],name:"SetAllowance",type:"event"},{inputs:[],name:"ALLOWANCE_TRANSFER_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"DOMAIN_SEPARATOR_TYPEHASH",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"}],name:"allowances",outputs:[{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"uint96",name:"spent",type:"uint96"},{internalType:"uint16",name:"resetTimeMin",type:"uint16"},{internalType:"uint32",name:"lastResetMin",type:"uint32"},{internalType:"uint16",name:"nonce",type:"uint16"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"uint48",name:"",type:"uint48"}],name:"delegates",outputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"uint48",name:"prev",type:"uint48"},{internalType:"uint48",name:"next",type:"uint48"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"}],name:"delegatesStart",outputs:[{internalType:"uint48",name:"",type:"uint48"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"}],name:"tokens",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"uint96",name:"allowanceAmount",type:"uint96"},{internalType:"uint16",name:"resetTimeMin",type:"uint16"},{internalType:"uint32",name:"resetBaseMin",type:"uint32"}],name:"setAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"resetAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"deleteAllowance",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"contract GnosisSafe",name:"safe",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"address payable",name:"to",type:"address"},{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint96",name:"payment",type:"uint96"},{internalType:"address",name:"delegate",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"executeAllowanceTransfer",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"pure",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"token",type:"address"},{internalType:"address",name:"to",type:"address"},{internalType:"uint96",name:"amount",type:"uint96"},{internalType:"address",name:"paymentToken",type:"address"},{internalType:"uint96",name:"payment",type:"uint96"},{internalType:"uint16",name:"nonce",type:"uint16"}],name:"generateTransferHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"delegate",type:"address"}],name:"getTokens",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"address",name:"delegate",type:"address"},{internalType:"address",name:"token",type:"address"}],name:"getTokenAllowance",outputs:[{internalType:"uint256[5]",name:"",type:"uint256[5]"}],stateMutability:"view",type:"function",constant:!0},{inputs:[{internalType:"address",name:"delegate",type:"address"}],name:"addDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"delegate",type:"address"},{internalType:"bool",name:"removeAllowances",type:"bool"}],name:"removeDelegate",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"safe",type:"address"},{internalType:"uint48",name:"start",type:"uint48"},{internalType:"uint8",name:"pageSize",type:"uint8"}],name:"getDelegates",outputs:[{internalType:"address[]",name:"results",type:"address[]"},{internalType:"uint48",name:"next",type:"uint48"}],stateMutability:"view",type:"function",constant:!0}],Qz={released:Mz,contractName:Uz,version:Dz,networkAddresses:Lz,abi:zz};var Go={},Hw;function xA(){if(Hw)return Go;Hw=1,Object.defineProperty(Go,"__esModule",{value:!0}),Go.applyFilterDefaults=Go.findDeployment=void 0;const t=(n,a)=>a.find(s=>!(n.version&&s.version!==n.version||n.released&&s.released!=n.released||n.network&&!s.networkAddresses[n.network]));Go.findDeployment=t;const e=n=>n||{released:!0};return Go.applyFilterDefaults=e,Go}var Tw;function Pz(){if(Tw)return Zo;Tw=1;var t=Zo&&Zo.__importDefault||function(l){return l&&l.__esModule?l:{default:l}};Object.defineProperty(Zo,"__esModule",{value:!0}),Zo.getAllowanceModuleDeployment=void 0;const e=t(Kz),n=t(Qz),a=xA(),s=[n.default,e.default],r=l=>(0,a.findDeployment)((0,a.applyFilterDefaults)(l),s);return Zo.getAllowanceModuleDeployment=r,Zo}var Yd={};const Oz=!0,jz="Safe4337Module",_z="0.3.0",$z={1:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",10:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",56:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",97:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",100:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",130:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",137:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",480:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",8453:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",42161:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",42220:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",80002:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",84532:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",421614:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",534352:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226",11155111:"0x75cf11467937ce3F2f357CE24ffc3DBF8fD5c226"},qz=[{inputs:[{internalType:"address",name:"entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"ExecutionFailed",type:"error"},{inputs:[],name:"InvalidCaller",type:"error"},{inputs:[],name:"InvalidEntryPoint",type:"error"},{inputs:[],name:"UnsupportedEntryPoint",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedExecutionFunction",type:"error"},{inputs:[],name:"SUPPORTED_ENTRYPOINT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"domainSeparatorHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"encodeMessageDataForSafe",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation",name:"userOp",type:"tuple"}],name:"getOperationHash",outputs:[{internalType:"bytes32",name:"operationHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"bytes32",name:"accountGasLimits",type:"bytes32"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"bytes32",name:"gasFees",type:"bytes32"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct PackedUserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],eQ={released:Oz,contractName:jz,version:_z,networkAddresses:$z,abi:qz},tQ=!0,nQ="Safe4337Module",aQ="0.2.0",sQ={1:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",5:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",10:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",56:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",100:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",137:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",8453:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",42161:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",42220:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",80001:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",80002:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",84532:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",421614:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",534352:"0xa581c4A4DB7175302464fF3C06380BC3270b4037",11155111:"0xa581c4A4DB7175302464fF3C06380BC3270b4037"},iQ=[{inputs:[{internalType:"address",name:"entryPoint",type:"address"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"SUPPORTED_ENTRYPOINT",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"encodeMessageDataForSafe",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOp",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"value",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"},{internalType:"uint8",name:"operation",type:"uint8"}],name:"executeUserOpWithErrorString",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"contract Safe",name:"safe",type:"address"},{internalType:"bytes",name:"message",type:"bytes"}],name:"getMessageHashForSafe",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[],name:"getModules",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"}],name:"getOperationHash",outputs:[{internalType:"bytes32",name:"operationHash",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"_dataHash",type:"bytes32"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"_data",type:"bytes"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"uint256[]",name:"",type:"uint256[]"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155BatchReceived",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC1155Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"}],name:"onERC721Received",outputs:[{internalType:"bytes4",name:"",type:"bytes4"}],stateMutability:"pure",type:"function"},{inputs:[{internalType:"address",name:"targetContract",type:"address"},{internalType:"bytes",name:"calldataPayload",type:"bytes"}],name:"simulate",outputs:[{internalType:"bytes",name:"response",type:"bytes"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"bytes4",name:"interfaceId",type:"bytes4"}],name:"supportsInterface",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"address",name:"",type:"address"},{internalType:"uint256",name:"",type:"uint256"},{internalType:"bytes",name:"",type:"bytes"},{internalType:"bytes",name:"",type:"bytes"}],name:"tokensReceived",outputs:[],stateMutability:"pure",type:"function"},{inputs:[{components:[{internalType:"address",name:"sender",type:"address"},{internalType:"uint256",name:"nonce",type:"uint256"},{internalType:"bytes",name:"initCode",type:"bytes"},{internalType:"bytes",name:"callData",type:"bytes"},{internalType:"uint256",name:"callGasLimit",type:"uint256"},{internalType:"uint256",name:"verificationGasLimit",type:"uint256"},{internalType:"uint256",name:"preVerificationGas",type:"uint256"},{internalType:"uint256",name:"maxFeePerGas",type:"uint256"},{internalType:"uint256",name:"maxPriorityFeePerGas",type:"uint256"},{internalType:"bytes",name:"paymasterAndData",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct UserOperation",name:"userOp",type:"tuple"},{internalType:"bytes32",name:"",type:"bytes32"},{internalType:"uint256",name:"missingAccountFunds",type:"uint256"}],name:"validateUserOp",outputs:[{internalType:"uint256",name:"validationData",type:"uint256"}],stateMutability:"nonpayable",type:"function"}],rQ={released:tQ,contractName:nQ,version:aQ,networkAddresses:sQ,abi:iQ},oQ=!0,lQ="SafeModuleSetup",cQ="0.3.0",gQ={1:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",10:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",56:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",97:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",100:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",130:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",137:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",480:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",8453:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",42161:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",42220:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",80002:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",84532:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",421614:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",534352:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47",11155111:"0x2dd68b007B46fBe91B9A7c3EDa5A7a1063cB5b47"},dQ=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],IQ={released:oQ,contractName:lQ,version:cQ,networkAddresses:gQ,abi:dQ},uQ=!0,CQ="AddModulesLib",pQ="0.2.0",mQ={1:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",5:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",10:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",56:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",100:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",137:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",8453:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",42161:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",42220:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",80001:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",80002:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",84532:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",421614:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",534352:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb",11155111:"0x8EcD4ec46D4D2a6B64fE960B3D64e8B94B2234eb"},AQ=[{inputs:[{internalType:"address[]",name:"modules",type:"address[]"}],name:"enableModules",outputs:[],stateMutability:"nonpayable",type:"function"}],yQ={released:uQ,contractName:CQ,version:pQ,networkAddresses:mQ,abi:AQ};var Yw;function bQ(){return Yw||(Yw=1,function(t){var e=Yd&&Yd.__importDefault||function(p){return p&&p.__esModule?p:{default:p}};Object.defineProperty(t,"__esModule",{value:!0}),t.getAddModulesLibDeployment=t.getSafeModuleSetupDeployment=t.getSafe4337ModuleDeployment=void 0;const n=e(eQ),a=e(rQ),s=e(IQ),r=e(yQ),l=xA(),g=[n.default,a.default],c=[s.default,r.default],u=p=>(0,l.findDeployment)((0,l.applyFilterDefaults)(p),g);t.getSafe4337ModuleDeployment=u;const d=p=>(0,l.findDeployment)((0,l.applyFilterDefaults)(p),c);t.getSafeModuleSetupDeployment=d,t.getAddModulesLibDeployment=t.getSafeModuleSetupDeployment}(Yd)),Yd}var Za={};const hQ=!0,fQ="SafeWebAuthnSignerFactory",ZQ="0.2.1",GQ={1:"0x1d31F259eE307358a26dFb23EB365939E8641195",10:"0x1d31F259eE307358a26dFb23EB365939E8641195",137:"0x1d31F259eE307358a26dFb23EB365939E8641195",4078:"0x1d31F259eE307358a26dFb23EB365939E8641195",8453:"0x1d31F259eE307358a26dFb23EB365939E8641195",42161:"0x1d31F259eE307358a26dFb23EB365939E8641195",80002:"0x1d31F259eE307358a26dFb23EB365939E8641195",84532:"0x1d31F259eE307358a26dFb23EB365939E8641195",421614:"0x1d31F259eE307358a26dFb23EB365939E8641195",11155111:"0x1d31F259eE307358a26dFb23EB365939E8641195",11155420:"0x1d31F259eE307358a26dFb23EB365939E8641195"},BQ=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"signer",type:"address"},{indexed:!1,internalType:"uint256",name:"x",type:"uint256"},{indexed:!1,internalType:"uint256",name:"y",type:"uint256"},{indexed:!1,internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"Created",type:"event"},{inputs:[],name:"SINGLETON",outputs:[{internalType:"contract SafeWebAuthnSignerSingleton",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"createSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"getSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"isValidSignatureForSigner",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}],SQ={released:hQ,contractName:fQ,version:ZQ,networkAddresses:GQ,abi:BQ},wQ=!0,kQ="SafeWebAuthnSignerFactory",VQ="0.2.0",RQ={1:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",10:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",137:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",4078:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",8453:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",42161:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",80002:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",84532:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",421614:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",11155111:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf",11155420:"0xF7488fFbe67327ac9f37D5F722d83Fc900852Fbf"},WQ=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!1,internalType:"address",name:"signer",type:"address"},{indexed:!1,internalType:"uint256",name:"x",type:"uint256"},{indexed:!1,internalType:"uint256",name:"y",type:"uint256"},{indexed:!1,internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"Created",type:"event"},{inputs:[],name:"SINGLETON",outputs:[{internalType:"contract SafeWebAuthnSignerSingleton",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"createSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"getSigner",outputs:[{internalType:"address",name:"signer",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"},{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"isValidSignatureForSigner",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}],vQ={released:wQ,contractName:kQ,version:VQ,networkAddresses:RQ,abi:WQ},EQ=!0,XQ="SafeWebAuthnSharedSigner",JQ="0.2.1",xQ={1:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",10:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",137:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",4078:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",8453:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",42161:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",80002:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",84532:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",421614:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",11155111:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2",11155420:"0x94a4F6affBd8975951142c3999aEAB7ecee555c2"},NQ=[{inputs:[],stateMutability:"nonpayable",type:"constructor"},{inputs:[],name:"NotDelegateCalled",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"bytes32",name:"publicKeyHash",type:"bytes32"},{indexed:!1,internalType:"uint256",name:"x",type:"uint256"},{indexed:!1,internalType:"uint256",name:"y",type:"uint256"},{indexed:!1,internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],name:"SafeWebAuthnSharedSignerConfigured",type:"event"},{inputs:[],name:"SIGNER_SLOT",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],name:"configure",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"getConfiguration",outputs:[{components:[{internalType:"uint256",name:"x",type:"uint256"},{internalType:"uint256",name:"y",type:"uint256"},{internalType:"P256.Verifiers",name:"verifiers",type:"uint176"}],internalType:"struct SafeWebAuthnSharedSigner.Signer",name:"signer",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes32",name:"message",type:"bytes32"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"bytes",name:"data",type:"bytes"},{internalType:"bytes",name:"signature",type:"bytes"}],name:"isValidSignature",outputs:[{internalType:"bytes4",name:"magicValue",type:"bytes4"}],stateMutability:"view",type:"function"}],HQ={released:EQ,contractName:XQ,version:JQ,networkAddresses:xQ,abi:NQ},TQ=!0,YQ="DaimoP256Verifier",FQ="0.2.1",KQ={1:"0xc2b78104907F722DABAc4C69f826a522B2754De4",10:"0xc2b78104907F722DABAc4C69f826a522B2754De4",137:"0xc2b78104907F722DABAc4C69f826a522B2754De4",4078:"0xc2b78104907F722DABAc4C69f826a522B2754De4",8453:"0xc2b78104907F722DABAc4C69f826a522B2754De4",42161:"0xc2b78104907F722DABAc4C69f826a522B2754De4",80002:"0xc2b78104907F722DABAc4C69f826a522B2754De4",84532:"0xc2b78104907F722DABAc4C69f826a522B2754De4",421614:"0xc2b78104907F722DABAc4C69f826a522B2754De4",534352:"0xc2b78104907F722DABAc4C69f826a522B2754De4",11155111:"0xc2b78104907F722DABAc4C69f826a522B2754De4",11155420:"0xc2b78104907F722DABAc4C69f826a522B2754De4"},MQ=[{stateMutability:"nonpayable",type:"fallback"}],UQ={released:TQ,contractName:YQ,version:FQ,networkAddresses:KQ,abi:MQ},DQ=!0,LQ="DaimoP256Verifier",zQ="0.2.0",QQ={1:"0xc2b78104907F722DABAc4C69f826a522B2754De4",10:"0xc2b78104907F722DABAc4C69f826a522B2754De4",137:"0xc2b78104907F722DABAc4C69f826a522B2754De4",4078:"0xc2b78104907F722DABAc4C69f826a522B2754De4",8453:"0xc2b78104907F722DABAc4C69f826a522B2754De4",42161:"0xc2b78104907F722DABAc4C69f826a522B2754De4",80002:"0xc2b78104907F722DABAc4C69f826a522B2754De4",84532:"0xc2b78104907F722DABAc4C69f826a522B2754De4",421614:"0xc2b78104907F722DABAc4C69f826a522B2754De4",11155111:"0xc2b78104907F722DABAc4C69f826a522B2754De4",11155420:"0xc2b78104907F722DABAc4C69f826a522B2754De4"},PQ=[{stateMutability:"nonpayable",type:"fallback"}],OQ={released:DQ,contractName:LQ,version:zQ,networkAddresses:QQ,abi:PQ},jQ=!0,_Q="FCLP256Verifier",$Q="0.2.1",qQ={1:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",10:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",137:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",4078:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",8453:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",42161:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",80002:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",84532:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",421614:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",11155111:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA",11155420:"0xA86e0054C51E4894D88762a017ECc5E5235f5DBA"},eP=[{stateMutability:"nonpayable",type:"fallback"}],tP={released:jQ,contractName:_Q,version:$Q,networkAddresses:qQ,abi:eP},nP=!0,aP="FCLP256Verifier",sP="0.2.0",iP={1:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",10:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",137:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",4078:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",8453:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",42161:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",80002:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",84532:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",421614:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",11155111:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765",11155420:"0x445a0683e494ea0c5AF3E83c5159fBE47Cf9e765"},rP=[{stateMutability:"nonpayable",type:"fallback"}],oP={released:nP,contractName:aP,version:sP,networkAddresses:iP,abi:rP};var Fw;function lP(){if(Fw)return Za;Fw=1;var t=Za&&Za.__importDefault||function(W){return W&&W.__esModule?W:{default:W}};Object.defineProperty(Za,"__esModule",{value:!0}),Za.getFCLP256VerifierDeployment=Za.getDaimoP256VerifierDeployment=Za.getSafeWebAuthnShareSignerDeployment=Za.getSafeWebAuthnSignerFactoryDeployment=void 0;const e=t(SQ),n=t(vQ),a=t(HQ),s=t(UQ),r=t(OQ),l=t(tP),g=t(oP),c=xA(),u=[e.default,n.default],d=[a.default],p=[s.default,r.default],A=[l.default,g.default],G=W=>(0,c.findDeployment)((0,c.applyFilterDefaults)(W),u);Za.getSafeWebAuthnSignerFactoryDeployment=G;const w=W=>(0,c.findDeployment)((0,c.applyFilterDefaults)(W),d);Za.getSafeWebAuthnShareSignerDeployment=w;const Z=W=>(0,c.findDeployment)((0,c.applyFilterDefaults)(W),p);Za.getDaimoP256VerifierDeployment=Z;const V=W=>(0,c.findDeployment)((0,c.applyFilterDefaults)(W),A);return Za.getFCLP256VerifierDeployment=V,Za}var Bo={};const cP=!0,gP="SocialRecoveryModule",dP="0.1.0",IP={10:"0x4Aa5Bf7D840aC607cb5BD3249e6Af6FC86C04897",11155111:"0x4Aa5Bf7D840aC607cb5BD3249e6Af6FC86C04897",11155420:"0x4Aa5Bf7D840aC607cb5BD3249e6Af6FC86C04897"},uP=[{inputs:[{internalType:"uint256",name:"_recoveryPeriod",type:"uint256"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"threshold",type:"uint256"}],name:"ChangedThreshold",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"GuardianAdded",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"address",name:"guardian",type:"address"}],name:"GuardianRevoked",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"NonceInvalidated",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"RecoveryCanceled",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"address[]",name:"newOwners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"newThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"},{indexed:!1,internalType:"uint64",name:"executeAfter",type:"uint64"},{indexed:!1,internalType:"uint256",name:"guardiansApprovalCount",type:"uint256"}],name:"RecoveryExecuted",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"wallet",type:"address"},{indexed:!0,internalType:"address[]",name:"newOwners",type:"address[]"},{indexed:!1,internalType:"uint256",name:"newThreshold",type:"uint256"},{indexed:!1,internalType:"uint256",name:"nonce",type:"uint256"}],name:"RecoveryFinalized",type:"event"},{inputs:[],name:"NAME",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"VERSION",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_guardian",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"addGuardianWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"cancelRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"changeThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"},{internalType:"bool",name:"_execute",type:"bool"}],name:"confirmRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"domainSeparator",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"encodeRecoveryData",outputs:[{internalType:"bytes",name:"",type:"bytes"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"}],name:"executeRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"finalizeRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"getChainId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"getGuardians",outputs:[{internalType:"address[]",name:"",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"}],name:"getRecoveryApprovals",outputs:[{internalType:"uint256",name:"approvalCount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"},{internalType:"uint256",name:"_nonce",type:"uint256"}],name:"getRecoveryHash",outputs:[{internalType:"bytes32",name:"",type:"bytes32"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"getRecoveryRequest",outputs:[{components:[{internalType:"uint256",name:"guardiansApprovalCount",type:"uint256"},{internalType:"uint256",name:"newThreshold",type:"uint256"},{internalType:"uint64",name:"executeAfter",type:"uint64"},{internalType:"address[]",name:"newOwners",type:"address[]"}],internalType:"struct SocialRecoveryModule.RecoveryRequest",name:"request",type:"tuple"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"guardiansCount",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address",name:"_guardian",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"}],name:"hasGuardianApproved",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"invalidateNonce",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address",name:"_guardian",type:"address"}],name:"isGuardian",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"address[]",name:"_newOwners",type:"address[]"},{internalType:"uint256",name:"_newThreshold",type:"uint256"},{components:[{internalType:"address",name:"signer",type:"address"},{internalType:"bytes",name:"signature",type:"bytes"}],internalType:"struct SocialRecoveryModule.SignatureData[]",name:"_signatures",type:"tuple[]"},{internalType:"bool",name:"_execute",type:"bool"}],name:"multiConfirmRecovery",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"nonce",outputs:[{internalType:"uint256",name:"_nonce",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_prevGuardian",type:"address"},{internalType:"address",name:"_guardian",type:"address"},{internalType:"uint256",name:"_threshold",type:"uint256"}],name:"revokeGuardianWithThreshold",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"}],name:"threshold",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"_wallet",type:"address"},{internalType:"bytes32",name:"_signHash",type:"bytes32"},{internalType:"address",name:"_signer",type:"address"},{internalType:"bytes",name:"_signature",type:"bytes"}],name:"validateGuardianSignature",outputs:[],stateMutability:"view",type:"function"}],CP={released:cP,contractName:gP,version:dP,networkAddresses:IP,abi:uP};var Kw;function pP(){if(Kw)return Bo;Kw=1;var t=Bo&&Bo.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bo,"__esModule",{value:!0}),Bo.getSocialRecoveryModuleDeployment=void 0;const e=t(CP),n=xA(),a=[e.default],s=r=>(0,n.findDeployment)((0,n.applyFilterDefaults)(r),a);return Bo.getSocialRecoveryModuleDeployment=s,Bo}var Jb={},Mw;function mP(){return Mw||(Mw=1,Object.defineProperty(Jb,"__esModule",{value:!0})),Jb}var Uw;function AP(){return Uw||(Uw=1,function(t){var e=fo&&fo.__createBinding||(Object.create?function(a,s,r,l){l===void 0&&(l=r);var g=Object.getOwnPropertyDescriptor(s,r);(!g||("get"in g?!s.__esModule:g.writable||g.configurable))&&(g={enumerable:!0,get:function(){return s[r]}}),Object.defineProperty(a,l,g)}:function(a,s,r,l){l===void 0&&(l=r),a[l]=s[r]}),n=fo&&fo.__exportStar||function(a,s){for(var r in a)r!=="default"&&!Object.prototype.hasOwnProperty.call(s,r)&&e(s,a,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(Pz(),t),n(bQ(),t),n(lP(),t),n(pP(),t),n(mP(),t)}(fo)),fo}var Y1=AP(),xb,Dw;function yP(){if(Dw)return xb;Dw=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const a=this.map.get(n);if(a!==void 0)return this.map.delete(n),this.map.set(n,a),a}delete(n){return this.map.delete(n)}set(n,a){if(!this.delete(n)&&a!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(n,a)}return this}}return xb=t,xb}var Nb,Lw;function f2(){if(Lw)return Nb;Lw=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return Nb=a=>a?typeof a!="object"?t:a:e,Nb}var cp={exports:{}},Hb,zw;function Z2(){if(zw)return Hb;zw=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,s=e-6;return Hb={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},Hb}var Tb,Qw;function NA(){if(Qw)return Tb;Qw=1;var t={};return Tb=typeof y2=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},Tb}var Pw;function G2(){return Pw||(Pw=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:s}=Z2(),r=NA();e=t.exports={};const l=e.re=[],g=e.safeRe=[],c=e.src=[],u=e.safeSrc=[],d=e.t={};let p=0;const A="[a-zA-Z0-9-]",G=[["\\s",1],["\\d",s],[A,a]],w=V=>{for(const[W,D]of G)V=V.split(`${W}*`).join(`${W}{0,${D}}`).split(`${W}+`).join(`${W}{1,${D}}`);return V},Z=(V,W,D)=>{const x=w(W),Y=p++;r(V,Y,W),d[V]=Y,c[Y]=W,u[Y]=x,l[Y]=new RegExp(W,D?"g":void 0),g[Y]=new RegExp(x,D?"g":void 0)};Z("NUMERICIDENTIFIER","0|[1-9]\\d*"),Z("NUMERICIDENTIFIERLOOSE","\\d+"),Z("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${A}*`),Z("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),Z("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),Z("PRERELEASEIDENTIFIER",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIER]})`),Z("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIERLOOSE]})`),Z("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),Z("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),Z("BUILDIDENTIFIER",`${A}+`),Z("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),Z("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),Z("FULL",`^${c[d.FULLPLAIN]}$`),Z("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),Z("LOOSE",`^${c[d.LOOSEPLAIN]}$`),Z("GTLT","((?:<|>)?=?)"),Z("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Z("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),Z("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),Z("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),Z("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),Z("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),Z("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),Z("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),Z("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?(?:${c[d.BUILD]})?(?:$|[^\\d])`),Z("COERCERTL",c[d.COERCE],!0),Z("COERCERTLFULL",c[d.COERCEFULL],!0),Z("LONETILDE","(?:~>?)"),Z("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",Z("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),Z("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),Z("LONECARET","(?:\\^)"),Z("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",Z("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),Z("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),Z("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),Z("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),Z("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",Z("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),Z("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),Z("STAR","(<|>)?=?\\s*\\*"),Z("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),Z("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(cp,cp.exports)),cp.exports}var Yb,Ow;function bP(){if(Ow)return Yb;Ow=1;const t=/^[0-9]+$/,e=(a,s)=>{const r=t.test(a),l=t.test(s);return r&&l&&(a=+a,s=+s),a===s?0:r&&!l?-1:l&&!r?1:a<s?-1:1};return Yb={compareIdentifiers:e,rcompareIdentifiers:(a,s)=>e(s,a)},Yb}var Fb,jw;function B2(){if(jw)return Fb;jw=1;const t=NA(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=Z2(),{safeRe:a,t:s}=G2(),r=f2(),{compareIdentifiers:l}=bP();class g{constructor(u,d){if(d=r(d),u instanceof g){if(u.loose===!!d.loose&&u.includePrerelease===!!d.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",u,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const p=u.trim().match(d.loose?a[s.LOOSE]:a[s.FULL]);if(!p)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(A=>{if(/^[0-9]+$/.test(A)){const G=+A;if(G>=0&&G<n)return G}return A}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(t("SemVer.compare",this.version,this.options,u),!(u instanceof g)){if(typeof u=="string"&&u===this.version)return 0;u=new g(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof g||(u=new g(u,this.options)),l(this.major,u.major)||l(this.minor,u.minor)||l(this.patch,u.patch)}comparePre(u){if(u instanceof g||(u=new g(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let d=0;do{const p=this.prerelease[d],A=u.prerelease[d];if(t("prerelease compare",d,p,A),p===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(p===void 0)return-1;if(p===A)continue;return l(p,A)}while(++d)}compareBuild(u){u instanceof g||(u=new g(u,this.options));let d=0;do{const p=this.build[d],A=u.build[d];if(t("build compare",d,p,A),p===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(p===void 0)return-1;if(p===A)continue;return l(p,A)}while(++d)}inc(u,d,p){if(u.startsWith("pre")){if(!d&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(d){const A=`-${d}`.match(this.options.loose?a[s.PRERELEASELOOSE]:a[s.PRERELEASE]);if(!A||A[1]!==d)throw new Error(`invalid identifier: ${d}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d,p),this.inc("pre",d,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d,p),this.inc("pre",d,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const A=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[A];else{let G=this.prerelease.length;for(;--G>=0;)typeof this.prerelease[G]=="number"&&(this.prerelease[G]++,G=-2);if(G===-1){if(d===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(A)}}if(d){let G=[d,A];p===!1&&(G=[d]),l(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=G):this.prerelease=G}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Fb=g,Fb}var Kb,_w;function zg(){if(_w)return Kb;_w=1;const t=B2();return Kb=(n,a,s)=>new t(n,s).compare(new t(a,s)),Kb}var Mb,$w;function hP(){if($w)return Mb;$w=1;const t=zg();return Mb=(n,a,s)=>t(n,a,s)===0,Mb}var Ub,qw;function fP(){if(qw)return Ub;qw=1;const t=zg();return Ub=(n,a,s)=>t(n,a,s)!==0,Ub}var Db,e3;function ZP(){if(e3)return Db;e3=1;const t=zg();return Db=(n,a,s)=>t(n,a,s)>0,Db}var Lb,t3;function GP(){if(t3)return Lb;t3=1;const t=zg();return Lb=(n,a,s)=>t(n,a,s)>=0,Lb}var zb,n3;function BP(){if(n3)return zb;n3=1;const t=zg();return zb=(n,a,s)=>t(n,a,s)<0,zb}var Qb,a3;function SP(){if(a3)return Qb;a3=1;const t=zg();return Qb=(n,a,s)=>t(n,a,s)<=0,Qb}var Pb,s3;function wP(){if(s3)return Pb;s3=1;const t=hP(),e=fP(),n=ZP(),a=GP(),s=BP(),r=SP();return Pb=(g,c,u,d)=>{switch(c){case"===":return typeof g=="object"&&(g=g.version),typeof u=="object"&&(u=u.version),g===u;case"!==":return typeof g=="object"&&(g=g.version),typeof u=="object"&&(u=u.version),g!==u;case"":case"=":case"==":return t(g,u,d);case"!=":return e(g,u,d);case">":return n(g,u,d);case">=":return a(g,u,d);case"<":return s(g,u,d);case"<=":return r(g,u,d);default:throw new TypeError(`Invalid operator: ${c}`)}},Pb}var Ob,i3;function kP(){if(i3)return Ob;i3=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,p){if(p=n(p),d instanceof e){if(d.loose===!!p.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),l("comparator",d,p),this.options=p,this.loose=!!p.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(d){const p=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],A=d.match(p);if(!A)throw new TypeError(`Invalid comparator: ${d}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new g(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(l("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new g(d,this.options)}catch{return!1}return r(d,this.operator,this.semver,this.options)}intersects(d,p){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(d.value,p).test(this.value):d.operator===""?d.value===""?!0:new c(this.value,p).test(d.semver):(p=n(p),p.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||r(this.semver,"<",d.semver,p)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||r(this.semver,">",d.semver,p)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}Ob=e;const n=f2(),{safeRe:a,t:s}=G2(),r=wP(),l=NA(),g=B2(),c=$W();return Ob}var jb,r3;function $W(){if(r3)return jb;r3=1;const t=/\s+/g;class e{constructor(S,E){if(E=s(E),S instanceof e)return S.loose===!!E.loose&&S.includePrerelease===!!E.includePrerelease?S:new e(S.raw,E);if(S instanceof r)return this.raw=S.value,this.set=[[S]],this.formatted=void 0,this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=S.trim().replace(t," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(X=>!Z(X[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const X of this.set)if(X.length===1&&V(X[0])){this.set=[X];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let S=0;S<this.set.length;S++){S>0&&(this.formatted+="||");const E=this.set[S];for(let N=0;N<E.length;N++)N>0&&(this.formatted+=" "),this.formatted+=E[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(S){const N=((this.options.includePrerelease&&G)|(this.options.loose&&w))+":"+S,X=a.get(N);if(X)return X;const R=this.options.loose,T=R?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];S=S.replace(T,pe(this.options.includePrerelease)),l("hyphen replace",S),S=S.replace(c[u.COMPARATORTRIM],d),l("comparator trim",S),S=S.replace(c[u.TILDETRIM],p),l("tilde trim",S),S=S.replace(c[u.CARETTRIM],A),l("caret trim",S);let J=S.split(" ").map(le=>D(le,this.options)).join(" ").split(/\s+/).map(le=>ae(le,this.options));R&&(J=J.filter(le=>(l("loose invalid filter",le,this.options),!!le.match(c[u.COMPARATORLOOSE])))),l("range list",J);const K=new Map,se=J.map(le=>new r(le,this.options));for(const le of se){if(Z(le))return[le];K.set(le.value,le)}K.size>1&&K.has("")&&K.delete("");const de=[...K.values()];return a.set(N,de),de}intersects(S,E){if(!(S instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>W(N,E)&&S.set.some(X=>W(X,E)&&N.every(R=>X.every(T=>R.intersects(T,E)))))}test(S){if(!S)return!1;if(typeof S=="string")try{S=new g(S,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(ue(this.set[E],S,this.options))return!0;return!1}}jb=e;const n=yP(),a=new n,s=f2(),r=kP(),l=NA(),g=B2(),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:A}=G2(),{FLAG_INCLUDE_PRERELEASE:G,FLAG_LOOSE:w}=Z2(),Z=M=>M.value==="<0.0.0-0",V=M=>M.value==="",W=(M,S)=>{let E=!0;const N=M.slice();let X=N.pop();for(;E&&N.length;)E=N.every(R=>X.intersects(R,S)),X=N.pop();return E},D=(M,S)=>(l("comp",M,S),M=Q(M,S),l("caret",M),M=Y(M,S),l("tildes",M),M=_(M,S),l("xrange",M),M=ce(M,S),l("stars",M),M),x=M=>!M||M.toLowerCase()==="x"||M==="*",Y=(M,S)=>M.trim().split(/\s+/).map(E=>z(E,S)).join(" "),z=(M,S)=>{const E=S.loose?c[u.TILDELOOSE]:c[u.TILDE];return M.replace(E,(N,X,R,T,J)=>{l("tilde",M,N,X,R,T,J);let K;return x(X)?K="":x(R)?K=`>=${X}.0.0 <${+X+1}.0.0-0`:x(T)?K=`>=${X}.${R}.0 <${X}.${+R+1}.0-0`:J?(l("replaceTilde pr",J),K=`>=${X}.${R}.${T}-${J} <${X}.${+R+1}.0-0`):K=`>=${X}.${R}.${T} <${X}.${+R+1}.0-0`,l("tilde return",K),K})},Q=(M,S)=>M.trim().split(/\s+/).map(E=>P(E,S)).join(" "),P=(M,S)=>{l("caret",M,S);const E=S.loose?c[u.CARETLOOSE]:c[u.CARET],N=S.includePrerelease?"-0":"";return M.replace(E,(X,R,T,J,K)=>{l("caret",M,X,R,T,J,K);let se;return x(R)?se="":x(T)?se=`>=${R}.0.0${N} <${+R+1}.0.0-0`:x(J)?R==="0"?se=`>=${R}.${T}.0${N} <${R}.${+T+1}.0-0`:se=`>=${R}.${T}.0${N} <${+R+1}.0.0-0`:K?(l("replaceCaret pr",K),R==="0"?T==="0"?se=`>=${R}.${T}.${J}-${K} <${R}.${T}.${+J+1}-0`:se=`>=${R}.${T}.${J}-${K} <${R}.${+T+1}.0-0`:se=`>=${R}.${T}.${J}-${K} <${+R+1}.0.0-0`):(l("no pr"),R==="0"?T==="0"?se=`>=${R}.${T}.${J}${N} <${R}.${T}.${+J+1}-0`:se=`>=${R}.${T}.${J}${N} <${R}.${+T+1}.0-0`:se=`>=${R}.${T}.${J} <${+R+1}.0.0-0`),l("caret return",se),se})},_=(M,S)=>(l("replaceXRanges",M,S),M.split(/\s+/).map(E=>re(E,S)).join(" ")),re=(M,S)=>{M=M.trim();const E=S.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return M.replace(E,(N,X,R,T,J,K)=>{l("xRange",M,N,X,R,T,J,K);const se=x(R),de=se||x(T),le=de||x(J),Ze=le;return X==="="&&Ze&&(X=""),K=S.includePrerelease?"-0":"",se?X===">"||X==="<"?N="<0.0.0-0":N="*":X&&Ze?(de&&(T=0),J=0,X===">"?(X=">=",de?(R=+R+1,T=0,J=0):(T=+T+1,J=0)):X==="<="&&(X="<",de?R=+R+1:T=+T+1),X==="<"&&(K="-0"),N=`${X+R}.${T}.${J}${K}`):de?N=`>=${R}.0.0${K} <${+R+1}.0.0-0`:le&&(N=`>=${R}.${T}.0${K} <${R}.${+T+1}.0-0`),l("xRange return",N),N})},ce=(M,S)=>(l("replaceStars",M,S),M.trim().replace(c[u.STAR],"")),ae=(M,S)=>(l("replaceGTE0",M,S),M.trim().replace(c[S.includePrerelease?u.GTE0PRE:u.GTE0],"")),pe=M=>(S,E,N,X,R,T,J,K,se,de,le,Ze)=>(x(N)?E="":x(X)?E=`>=${N}.0.0${M?"-0":""}`:x(R)?E=`>=${N}.${X}.0${M?"-0":""}`:T?E=`>=${E}`:E=`>=${E}${M?"-0":""}`,x(se)?K="":x(de)?K=`<${+se+1}.0.0-0`:x(le)?K=`<${se}.${+de+1}.0-0`:Ze?K=`<=${se}.${de}.${le}-${Ze}`:M?K=`<${se}.${de}.${+le+1}-0`:K=`<=${K}`,`${E} ${K}`.trim()),ue=(M,S,E)=>{for(let N=0;N<M.length;N++)if(!M[N].test(S))return!1;if(S.prerelease.length&&!E.includePrerelease){for(let N=0;N<M.length;N++)if(l(M[N].semver),M[N].semver!==r.ANY&&M[N].semver.prerelease.length>0){const X=M[N].semver;if(X.major===S.major&&X.minor===S.minor&&X.patch===S.patch)return!0}return!1}return!0};return jb}var _b,o3;function VP(){if(o3)return _b;o3=1;const t=$W();return _b=(n,a,s)=>{try{a=new t(a,s)}catch{return!1}return a.test(n)},_b}var RP=VP();const fs=NX(RP),WP=h({id:179,name:"ABEY Mainnet",nativeCurrency:{name:"ABEY",symbol:"ABEY",decimals:18},rpcUrls:{default:{http:["https://rpc.abeychain.com"]}},blockExplorers:{default:{name:"Abey Scan",url:"https://abeyscan.com"}},testnet:!1}),S2=50000n,l3=c8*32n,qW={block:Tf({format(t){var n;const e=(n=t.transactions)==null?void 0:n.map(a=>{var r;if(typeof a=="string")return a;const s=(r=qW.transaction)==null?void 0:r.format(a);return s.typeHex==="0x71"?s.type="eip712":s.typeHex==="0xff"&&(s.type="priority"),s});return{l1BatchNumber:t.l1BatchNumber?at(t.l1BatchNumber):null,l1BatchTimestamp:t.l1BatchTimestamp?at(t.l1BatchTimestamp):null,transactions:e}}}),transaction:Nf({format(t){const e={};return t.type==="0x71"?e.type="eip712":t.type==="0xff"&&(e.type="priority"),{...e,l1BatchNumber:t.l1BatchNumber?at(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?at(t.l1BatchTxIndex):null}}}),transactionReceipt:KR({format(t){return{l1BatchNumber:t.l1BatchNumber?at(t.l1BatchNumber):null,l1BatchTxIndex:t.l1BatchTxIndex?at(t.l1BatchTxIndex):null,logs:t.logs.map(e=>({...qs(e),l1BatchNumber:e.l1BatchNumber?at(e.l1BatchNumber):null,transactionLogIndex:ua(e.transactionLogIndex),logType:e.logType})),l2ToL1Logs:t.l2ToL1Logs.map(e=>({blockNumber:at(e.blockHash),blockHash:e.blockHash,l1BatchNumber:e.l1BatchNumber?at(e.l1BatchNumber):null,transactionIndex:at(e.transactionIndex),shardId:at(e.shardId),isService:e.isService,sender:e.sender,key:e.key,value:e.value,transactionHash:e.transactionHash,logIndex:at(e.logIndex)}))}}}),transactionRequest:cR({exclude:["customSignature","factoryDeps","gasPerPubdata","paymaster","paymasterInput"],format(t){return t.gasPerPubdata||t.paymaster&&t.paymasterInput||t.factoryDeps||t.customSignature?{eip712Meta:{...t.gasPerPubdata?{gasPerPubdata:Ge(t.gasPerPubdata)}:{gasPerPubdata:Ge(S2)},...t.paymaster&&t.paymasterInput?{paymasterParams:{paymaster:t.paymaster,paymasterInput:Array.from(Sn(t.paymasterInput))}}:{},...t.factoryDeps?{factoryDeps:t.factoryDeps.map(e=>Array.from(Sn(e)))}:{},...t.customSignature?{customSignature:Array.from(Sn(t.customSignature))}:{}},type:"0x71"}:{}}})};class vP extends Ie{constructor(){super(["Transaction is not an EIP712 transaction.","","Transaction must:",'  - include `type: "eip712"`',"  - include one of the following: `customSignature`, `paymaster`, `paymasterInput`, `gasPerPubdata`, `factoryDeps`"].join(`
`),{name:"InvalidEip712TransactionError"})}}function ev(t){return!!(t.type==="eip712"||"customSignature"in t&&t.customSignature||"paymaster"in t&&t.paymaster||"paymasterInput"in t&&t.paymasterInput||"gasPerPubdata"in t&&typeof t.gasPerPubdata=="bigint"||"factoryDeps"in t&&t.factoryDeps)}function tv(t){const{chainId:e,to:n,from:a,paymaster:s,paymasterInput:r}=t;if(!ev(t))throw new vP;if(!e||e<=0)throw new Fg({chainId:e});if(n&&!ut(n))throw new Ft({address:n});if(a&&!ut(a))throw new Ft({address:a});if(s&&!ut(s))throw new Ft({address:s});if(s&&!r)throw new Ie("`paymasterInput` must be provided when `paymaster` is defined");if(!s&&r)throw new Ie("`paymaster` must be provided when `paymasterInput` is defined")}function EP(t,e){return ev(t)?JP(t):i2(t,e)}const XP={transaction:EP};function JP(t){const{chainId:e,gas:n,nonce:a,to:s,from:r,value:l,maxFeePerGas:g,maxPriorityFeePerGas:c,customSignature:u,factoryDeps:d,paymaster:p,paymasterInput:A,gasPerPubdata:G,data:w}=t;tv(t);const Z=[a?Ge(a):"0x",c?Ge(c):"0x",g?Ge(g):"0x",n?Ge(n):"0x",s??"0x",l?Ge(l):"0x",w??"0x",Ge(e),Ge(""),Ge(""),Ge(e),r??"0x",Ge(G||S2),d??[],u??"0x",p&&A?[p,A]:[]];return jn(["0x71",$s(Z)])}class xP extends Ie{constructor({givenLength:e,maxBytecodeSize:n}){super(`Bytecode cannot be longer than ${n} bytes. Given length: ${e}`,{name:"BytecodeLengthExceedsMaxSizeError"})}}class NP extends Ie{constructor({givenLengthInWords:e}){super(`Bytecode length in 32-byte words must be odd. Given length in words: ${e}`,{name:"BytecodeLengthInWordsMustBeOddError"})}}class HP extends Ie{constructor({givenLength:e}){super(`The bytecode length in bytes must be divisible by 32. Given length: ${e}`,{name:"BytecodeLengthMustBeDivisibleBy32Error"})}}function TP(t){const e=An(t);if(e.length%32!==0)throw new HP({givenLength:e.length});if(e.length>l3)throw new xP({givenLength:e.length,maxBytecodeSize:l3});const n=CR(e),a=An(n),s=e.length/32;if(s%2===0)throw new NP({givenLengthInWords:s});const r=An(s),l=_a(r,{size:2}),g=new Uint8Array([1,0]);return a.set(g,0),a.set(l,2),a}const YP=t=>{tv(t);const e=FP(t);return{domain:{name:"zkSync",version:"2",chainId:t.chainId},types:{Transaction:[{name:"txType",type:"uint256"},{name:"from",type:"uint256"},{name:"to",type:"uint256"},{name:"gasLimit",type:"uint256"},{name:"gasPerPubdataByteLimit",type:"uint256"},{name:"maxFeePerGas",type:"uint256"},{name:"maxPriorityFeePerGas",type:"uint256"},{name:"paymaster",type:"uint256"},{name:"nonce",type:"uint256"},{name:"value",type:"uint256"},{name:"data",type:"bytes"},{name:"factoryDeps",type:"bytes32[]"},{name:"paymasterInput",type:"bytes"}]},primaryType:"Transaction",message:e}};function FP(t){const{gas:e,nonce:n,to:a,from:s,value:r,maxFeePerGas:l,maxPriorityFeePerGas:g,factoryDeps:c,paymaster:u,paymasterInput:d,gasPerPubdata:p,data:A}=t;return{txType:113n,from:BigInt(s),to:a?BigInt(a):0n,gasLimit:e??0n,gasPerPubdataByteLimit:p??S2,maxFeePerGas:l??0n,maxPriorityFeePerGas:g??0n,paymaster:u?BigInt(u):0n,nonce:n?BigInt(n):0n,value:r??0n,data:A??"0x",factoryDeps:(c==null?void 0:c.map(G=>Ge(TP(G))))??[],paymasterInput:d||"0x"}}const Xa={formatters:qW,serializers:XP,custom:{getEip712Domain:YP}},KP=h({...Xa,id:2741,name:"Abstract",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.mainnet.abs.xyz"],webSocket:["wss://api.mainnet.abs.xyz/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.mainnet.abs.xyz"}},contracts:{multicall3:{address:"0xAa4De41dba0Ca5dCBb288b7cC6b708F3aaC759E7",blockCreated:5288},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:5263}}}),MP=h({...Xa,id:11124,name:"Abstract Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://api.testnet.abs.xyz"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.abscan.org"},native:{name:"Abstract Explorer",url:"https://explorer.testnet.abs.xyz"}},testnet:!0,contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:358349},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:431682}}}),UP=h({id:787,name:"Acala",network:"acala",nativeCurrency:{name:"Acala",symbol:"ACA",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-acala.aca-api.network"],webSocket:["wss://eth-rpc-acala.aca-api.network"]}},blockExplorers:{default:{name:"Acala Blockscout",url:"https://blockscout.acala.network",apiUrl:"https://blockscout.acala.network/api"}},testnet:!1}),DP=h({id:47,name:"Acria IntelliChain",nativeCurrency:{decimals:18,name:"ACRIA",symbol:"ACRIA"},rpcUrls:{default:{http:["https://aic.acria.ai"]}},blockExplorers:{default:{name:"Acria Explorer",url:"https://explorer.acria.ai"}},testnet:!1}),LP=h({id:1215,name:"ADF Chain",nativeCurrency:{name:"ADDFILL",symbol:"ADF",decimals:18},rpcUrls:{default:{http:["https://mainnet.adftechnology.com"]}},blockExplorers:{default:{name:"ADF Mainnet Explorer",url:"https://explorer.adftechnology.com"}},testnet:!1}),zP=h({id:168,name:"AIOZ Network",nativeCurrency:{decimals:18,name:"AIOZ",symbol:"AIOZ"},rpcUrls:{default:{http:["https://eth-dataseed.aioz.network"]}},blockExplorers:{default:{name:"AIOZ Explorer",url:"https://explorer.aioz.network"}},testnet:!1}),QP=h({id:41455,name:"Aleph Zero",nativeCurrency:{name:"Aleph Zero",symbol:"AZERO",decimals:18},rpcUrls:{default:{http:["https://rpc.alephzero.raas.gelato.cloud"]}},blockExplorers:{default:{name:"Aleph Zero EVM Explorer",url:"https://evm-explorer.alephzero.org",apiUrl:"https://evm-explorer.alephzero.org/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4603377}}}),PP=h({id:2039,name:"Aleph Zero Testnet",nativeCurrency:{name:"TZERO",symbol:"TZERO",decimals:18},rpcUrls:{default:{http:["https://rpc.alephzero-testnet.gelato.digital"],webSocket:["wss://ws.alephzero-testnet.gelato.digital"]}},blockExplorers:{default:{name:"Aleph Zero EVM Testnet explorer",url:"https://evm-explorer-testnet.alephzero.org",apiUrl:"https://evm-explorer-testnet.alephzero.org/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2861745}},testnet:!0}),OP=h({id:10241024,name:"AlienX Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.alienxchain.io/http"]}},blockExplorers:{default:{name:"AlienX Explorer",url:"https://explorer.alienxchain.io"}},testnet:!1}),jP=h({id:10241025,name:"ALIENX Hal Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://hal-rpc.alienxchain.io/http"]}},blockExplorers:{default:{name:"AlienX Explorer",url:"https://hal-explorer.alienxchain.io"}},testnet:!0}),nv={gasPriceOracle:{address:"0x420000000000000000000000000000000000000F"},l1Block:{address:"0x4200000000000000000000000000000000000015"},l2CrossDomainMessenger:{address:"0x4200000000000000000000000000000000000007"},l2Erc721Bridge:{address:"0x4200000000000000000000000000000000000014"},l2StandardBridge:{address:"0x4200000000000000000000000000000000000010"},l2ToL1MessagePasser:{address:"0x4200000000000000000000000000000000000016"}},w2={block:Tf({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(a=>{if(typeof a=="string")return a;const s=Vu(a);return s.typeHex==="0x7e"&&(s.isSystemTx=a.isSystemTx,s.mint=a.mint?at(a.mint):void 0,s.sourceHash=a.sourceHash,s.type="deposit"),s}),stateRoot:t.stateRoot}}}),transaction:Nf({format(t){const e={};return t.type==="0x7e"&&(e.isSystemTx=t.isSystemTx,e.mint=t.mint?at(t.mint):void 0,e.sourceHash=t.sourceHash,e.type="deposit"),e}}),transactionReceipt:KR({format(t){return{l1GasPrice:t.l1GasPrice?at(t.l1GasPrice):null,l1GasUsed:t.l1GasUsed?at(t.l1GasUsed):null,l1Fee:t.l1Fee?at(t.l1Fee):null,l1FeeScalar:t.l1FeeScalar?Number(t.l1FeeScalar):null}}})};function av(t,e){return qP(t)?$P(t):i2(t,e)}const _P={transaction:av};function $P(t){eO(t);const{sourceHash:e,data:n,from:a,gas:s,isSystemTx:r,mint:l,to:g,value:c}=t,u=[e,a,g??"0x",l?Ge(l):"0x",c?Ge(c):"0x",s?Ge(s):"0x",r?"0x1":"0x",n??"0x"];return jn(["0x7e",$s(u)])}function qP(t){return t.type==="deposit"||typeof t.sourceHash<"u"}function eO(t){const{from:e,to:n}=t;if(e&&!ut(e))throw new Ft({address:e});if(n&&!ut(n))throw new Ft({address:n})}const be={contracts:nv,formatters:w2,serializers:_P},gp=1,tO=h({...be,id:888888888,name:"Ancient8",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.ancient8.gg"]}},blockExplorers:{default:{name:"Ancient8 explorer",url:"https://scan.ancient8.gg",apiUrl:"https://scan.ancient8.gg/api"}},contracts:{...be.contracts,l2OutputOracle:{[gp]:{address:"0xB09DC08428C8b4EFB4ff9C0827386CDF34277996"}},portal:{[gp]:{address:"0x639F2AECE398Aa76b07e59eF6abe2cFe32bacb68",blockCreated:19070571}},l1StandardBridge:{[gp]:{address:"0xd5e3eDf5b68135D559D572E26bF863FBC1950033",blockCreated:19070571}}},sourceId:gp}),dp=11155111,nO=h({...be,id:28122024,name:"Ancient8 Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpcv2-testnet.ancient8.gg"]}},blockExplorers:{default:{name:"Ancient8 Celestia Testnet explorer",url:"https://scanv2-testnet.ancient8.gg",apiUrl:"https://scanv2-testnet.ancient8.gg/api"}},contracts:{...be.contracts,l2OutputOracle:{[dp]:{address:"0x942fD5017c0F60575930D8574Eaca13BEcD6e1bB"}},portal:{[dp]:{address:"0xfa1d9E26A6aCD7b22115D27572c1221B9803c960",blockCreated:4972908}},l1StandardBridge:{[dp]:{address:"0xF6Bc0146d3c74D48306e79Ae134A260E418C9335",blockCreated:4972908}}},sourceId:dp}),aO=h({id:31337,name:"Anvil",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}}),sO=42161,iO=h({id:33139,name:"Ape Chain",nativeCurrency:{name:"ApeCoin",symbol:"APE",decimals:18},rpcUrls:{default:{http:["https://rpc.apechain.com/http"],webSocket:["wss://rpc.apechain.com/ws"]}},blockExplorers:{default:{name:"Apescan",url:"https://apescan.io",apiUrl:"https://api.apescan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:20889}},sourceId:sO}),rO=h({id:3993,name:"APEX Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.apexlayer.xyz"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp-testnet.apexlayer.xyz",apiUrl:"https://exp-testnet.apexlayer.xyz/api"}},contracts:{multicall3:{address:"0xf7642be33a6b18D16a995657adb5a68CD0438aE2",blockCreated:283775}},testnet:!0}),oO=h({id:42161,name:"Arbitrum One",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://arbiscan.io",apiUrl:"https://api.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7654707}}}),lO=h({id:421613,name:"Arbitrum Goerli",nativeCurrency:{name:"Arbitrum Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://goerli.arbiscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:88114}},testnet:!0}),cO=h({id:42170,name:"Arbitrum Nova",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://nova.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://nova.arbiscan.io",apiUrl:"https://api-nova.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1746963}}}),gO=h({id:421614,name:"Arbitrum Sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Arbiscan",url:"https://sepolia.arbiscan.io",apiUrl:"https://api-sepolia.arbiscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:81930}},testnet:!0}),dO=h({id:7897,name:"Arena-Z",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.arena-z.gg"]}},blockExplorers:{default:{name:"Arena-Z Explorer",url:"https://explorer.arena-z.gg",apiUrl:"https://explorer.arena-z.gg"}}}),IO=h({id:463,name:"Areon Network",nativeCurrency:{decimals:18,name:"AREA",symbol:"AREA"},rpcUrls:{default:{http:["https://mainnet-rpc.areon.network"],webSocket:["wss://mainnet-ws.areon.network"]}},blockExplorers:{default:{name:"Areonscan",url:"https://areonscan.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:353286}},testnet:!1}),uO=h({id:462,name:"Areon Network Testnet",nativeCurrency:{decimals:18,name:"TAREA",symbol:"TAREA"},rpcUrls:{default:{http:["https://testnet-rpc.areon.network"],webSocket:["wss://testnet-ws.areon.network"]}},blockExplorers:{default:{name:"Areonscan",url:"https://areonscan.com"}},testnet:!0}),CO=h({id:11822,name:"Artela Testnet",nativeCurrency:{name:"ART",symbol:"ART",decimals:18},rpcUrls:{default:{http:["https://betanet-rpc1.artela.network"]}},blockExplorers:{default:{name:"Artela",url:"https://betanet-scan.artela.network",apiUrl:"https://betanet-scan.artela.network/api"}},contracts:{multicall3:{address:"0xd07c8635f76e8745Ee7092fbb6e8fbc5FeF09DD7",blockCreated:7001871}},testnet:!0}),pO=h({id:10242,name:"Arthera",nativeCurrency:{name:"Arthera",symbol:"AA",decimals:18},rpcUrls:{default:{http:["https://rpc.arthera.net"]}},blockExplorers:{default:{name:"Arthera EVM Explorer",url:"https://explorer.arthera.net",apiUrl:"https://explorer.arthera.net/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4502791}}}),mO=h({id:10243,name:"Arthera Testnet",nativeCurrency:{name:"Arthera",symbol:"AA",decimals:18},rpcUrls:{default:{http:["https://rpc-test.arthera.net"]}},blockExplorers:{default:{name:"Arthera EVM Explorer",url:"https://explorer-test.arthera.net",apiUrl:"https://explorer-test.arthera.net/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:22051}}}),AO=h({id:42420,name:"AssetChain Mainnet",nativeCurrency:{decimals:18,name:"Real World Asset",symbol:"RWA"},rpcUrls:{default:{http:["https://mainnet-rpc.assetchain.org"]}},blockExplorers:{default:{name:"Asset Chain Explorer",url:"https://scan.assetchain.org",apiUrl:"https://scan.assetchain.org/api"}},testnet:!1,contracts:{}}),yO=h({id:42421,name:"AssetChain Testnet",nativeCurrency:{decimals:18,name:"Real World Asset",symbol:"RWA"},rpcUrls:{default:{http:["https://enugu-rpc.assetchain.org"]}},blockExplorers:{default:{name:"Asset Chain Testnet Explorer",url:"https://scan-testnet.assetchain.org",apiUrl:"https://scan-testnet.assetchain.org/api"}},testnet:!0,contracts:{multicall3:{address:"0x989F832D35988cb5e3eB001Fa2Fe789469EC31Ea",blockCreated:17177}}}),bO=h({id:592,name:"Astar",network:"astar-mainnet",nativeCurrency:{name:"Astar",symbol:"ASTR",decimals:18},rpcUrls:{default:{http:["https://astar.api.onfinality.io/public"]}},blockExplorers:{default:{name:"Astar Subscan",url:"https://astar.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:761794}},testnet:!1}),hO=h({id:3776,name:"Astar zkEVM",network:"AstarZkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-zkevm.astar.network"]}},blockExplorers:{default:{name:"Astar zkEVM Explorer",url:"https://astar-zkevm.explorer.startale.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:93528}},testnet:!1}),fO=h({id:6038361,name:"Astar zkEVM Testnet zKyoto",network:"zKyoto",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.startale.com/zkyoto"]}},blockExplorers:{default:{name:"zKyoto Explorer",url:"https://zkyoto.explorer.startale.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:196153}},testnet:!0}),ZO=h({id:2340,name:"Atleta Olympia",nativeCurrency:{decimals:18,name:"Atla",symbol:"ATLA"},rpcUrls:{default:{http:["https://testnet-rpc.atleta.network:9944","https://testnet-rpc.atleta.network"],ws:["wss://testnet-rpc.atleta.network:9944"]}},blockExplorers:{default:{name:"Atleta Olympia Explorer",url:"https://blockscout.atleta.network",apiUrl:"https://blockscout.atleta.network/api"}},contracts:{multicall3:{address:"0x1472ec6392180fb84F345d2455bCC75B26577115",blockCreated:1076473}},testnet:!0}),GO=h({id:1313161554,name:"Aurora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://aurorascan.dev",apiUrl:"https://aurorascan.dev/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:62907816}}}),BO=h({id:1313161555,name:"Aurora Testnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.aurora.dev"]}},blockExplorers:{default:{name:"Aurorascan",url:"https://testnet.aurorascan.dev",apiUrl:"https://testnet.aurorascan.dev/api"}},testnet:!0}),SO=h({id:205205,name:"Auroria Testnet",network:"auroria",nativeCurrency:{name:"Auroria Stratis",symbol:"tSTRAX",decimals:18},rpcUrls:{default:{http:["https://auroria.rpc.stratisevm.com"]}},blockExplorers:{default:{name:"Auroria Testnet Explorer",url:"https://auroria.explorer.stratisevm.com"}},testnet:!0}),wO=h({id:43114,name:"Avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://snowtrace.io",apiUrl:"https://api.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11907934}}}),kO=h({id:43113,name:"Avalanche Fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{default:{name:"SnowTrace",url:"https://testnet.snowtrace.io",apiUrl:"https://api-testnet.snowtrace.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7096959}},testnet:!0}),VO=8453,RO=h({id:8333,name:"B3",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.b3.fun/http"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.b3.fun"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0}},sourceId:VO}),WO=168587773,vO=h({id:1993,name:"B3 Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.b3.fun/http"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia.explorer.b3.fun"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0}},testnet:!0,sourceId:WO}),EO=h({id:5165,network:"bahamut",name:"Bahamut",nativeCurrency:{name:"Fasttoken",symbol:"FTN",decimals:18},rpcUrls:{default:{http:["https://rpc1.bahamut.io","https://bahamut-rpc.publicnode.com","https://rpc2.bahamut.io"],webSocket:["wss://ws1.sahara.bahamutchain.com","wss://bahamut-rpc.publicnode.com","wss://ws2.sahara.bahamutchain.com"]}},blockExplorers:{default:{name:"Ftnscan",url:"https://www.ftnscan.com",apiUrl:"https://www.ftnscan.com/api"}}}),Fd=1,XO=h({...be,id:8453,name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://basescan.org",apiUrl:"https://api.basescan.org/api"}},contracts:{...be.contracts,disputeGameFactory:{[Fd]:{address:"0x43edB88C4B80fDD2AdFF2412A7BebF9dF42cB40e"}},l2OutputOracle:{[Fd]:{address:"0x56315b90c40730925ec5485cf004d835058518A0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:5022},portal:{[Fd]:{address:"0x49048044D57e1C92A77f79988d21Fa8fAF74E97e",blockCreated:17482143}},l1StandardBridge:{[Fd]:{address:"0x3154Cf16ccdb4C6d922629664174b904d80F2C35",blockCreated:17482143}}},sourceId:Fd}),JO=h({id:123420001114,name:"Basecamp Testnet",nativeCurrency:{decimals:18,name:"Camp",symbol:"CAMP"},rpcUrls:{default:{http:["https://rpc.basecamp.t.raas.gelato.cloud"]}},blockExplorers:{default:{name:"basecamp",url:"https://basecamp.cloud.blockscout.com"}},testnet:!0}),Ip=5,xO=h({...be,id:84531,name:"Base Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://goerli.basescan.org",apiUrl:"https://goerli.basescan.org/api"}},contracts:{...be.contracts,l2OutputOracle:{[Ip]:{address:"0x2A35891ff30313CcFa6CE88dcf3858bb075A2298"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1376988},portal:{[Ip]:{address:"0xe93c8cD0D409341205A592f8c4Ac1A5fe5585cfA"}},l1StandardBridge:{[Ip]:{address:"0xfA6D8Ee5BE770F84FC001D098C4bD604Fe01284a"}}},testnet:!0,sourceId:Ip}),Kd=11155111,NO=h({...be,id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Basescan",url:"https://sepolia.basescan.org",apiUrl:"https://api-sepolia.basescan.org/api"}},contracts:{...be.contracts,disputeGameFactory:{[Kd]:{address:"0xd6E6dBf4F7EA0ac412fD8b65ED297e64BB7a06E1"}},l2OutputOracle:{[Kd]:{address:"0x84457ca9D0163FbC4bbfe4Dfbb20ba46e48DF254"}},portal:{[Kd]:{address:"0x49f53e41452c74589e85ca1677426ba426459e85",blockCreated:4446677}},l1StandardBridge:{[Kd]:{address:"0xfd0Bf71F60660E2f608ed56e1659C450eB113120",blockCreated:4446677}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1059647}},testnet:!0,sourceId:Kd}),HO=h({id:4337,name:"Beam",network:"beam",nativeCurrency:{decimals:18,name:"Beam",symbol:"BEAM"},rpcUrls:{default:{http:["https://build.onbeam.com/rpc"],webSocket:["wss://build.onbeam.com/ws"]}},blockExplorers:{default:{name:"Beam Explorer",url:"https://subnets.avax.network/beam"}},contracts:{multicall3:{address:"0x4956f15efdc3dc16645e90cc356eafa65ffc65ec",blockCreated:1}}}),TO=h({id:13337,name:"Beam Testnet",network:"beam",nativeCurrency:{decimals:18,name:"Beam",symbol:"BEAM"},rpcUrls:{default:{http:["https://build.onbeam.com/rpc/testnet"],webSocket:["wss://build.onbeam.com/ws/testnet"]}},blockExplorers:{default:{name:"Beam Explorer",url:"https://subnets-test.avax.network/beam"}},contracts:{multicall3:{address:"0x9bf49b704ee2a095b95c1f2d4eb9010510c41c9e",blockCreated:3}},testnet:!0}),YO=h({id:641230,name:"Bear Network Chain Mainnet",nativeCurrency:{decimals:18,name:"BearNetworkChain",symbol:"BRNKC"},rpcUrls:{default:{http:["https://brnkc-mainnet.bearnetwork.net"]}},blockExplorers:{default:{name:"BrnkScan",url:"https://brnkscan.bearnetwork.net",apiUrl:"https://brnkscan.bearnetwork.net/api"}}}),FO=h({id:751230,name:"Bear Network Chain Testnet",nativeCurrency:{decimals:18,name:"tBRNKC",symbol:"tBRNKC"},rpcUrls:{default:{http:["https://brnkc-test.bearnetwork.net"]}},blockExplorers:{default:{name:"BrnkTestScan",url:"https://brnktest-scan.bearnetwork.net",apiUrl:"https://brnktest-scan.bearnetwork.net/api"}},testnet:!0}),KO=h({id:80094,name:"Berachain",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},ensRegistry:{address:"0x5b22280886a2f5e09a49bea7e320eab0e5320e28",blockCreated:877007},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:877008}},rpcUrls:{default:{http:["https://rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://berascan.com"}},ensTlds:[".bera"],testnet:!1}),MO=h({id:80069,name:"Berachain Bepolia",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},rpcUrls:{default:{http:["https://bepolia.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berascan",url:"https://bepolia.beratrail.io"}},testnet:!0}),UO=h({id:80085,name:"Berachain Artio",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},rpcUrls:{default:{http:["https://artio.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berachain",url:"https://artio.beratrail.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:866924}},testnet:!0}),DO=h({id:80084,name:"Berachain bArtio",nativeCurrency:{decimals:18,name:"BERA Token",symbol:"BERA"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:109269},ensRegistry:{address:"0xB0eef18971290b333450586D33dcA6cE122651D2",blockCreated:7736794},ensUniversalResolver:{address:"0x41692Ef1EA0C79E6b73077E4A67572D2BDbD7057",blockCreated:7736795}},ensTlds:[".bera"],rpcUrls:{default:{http:["https://bartio.rpc.berachain.com"]}},blockExplorers:{default:{name:"Berachain bArtio Beratrail",url:"https://bartio.beratrail.io"}},testnet:!0}),LO=h({id:11501,name:"BEVM Mainnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet-1.bevm.io"]}},blockExplorers:{default:{name:"Bevmscan",url:"https://scan-mainnet.bevm.io",apiUrl:"https://scan-mainnet-api.bevm.io/api"}}}),zO=h({id:3068,name:"Bifrost Mainnet",nativeCurrency:{name:"BFC",symbol:"BFC",decimals:18},rpcUrls:{default:{http:["https://public-01.mainnet.bifrostnetwork.com/rpc"]}},blockExplorers:{default:{name:"Bifrost Blockscout",url:"https://explorer.mainnet.bifrostnetwork.com"}},testnet:!1}),QO=h({id:32520,name:"Bitgert Mainnet",nativeCurrency:{decimals:18,name:"Brise",symbol:"Brise"},rpcUrls:{default:{http:["https://rpc-bitgert.icecreamswap.com"]}},blockExplorers:{default:{name:"Bitgert Scan",url:"https://brisescan.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2118034}},testnet:!1}),PO=h({id:96,name:"KUB Mainnet",nativeCurrency:{name:"KUB Coin",symbol:"KUB",decimals:18},rpcUrls:{default:{http:["https://rpc.bitkubchain.io"]}},blockExplorers:{default:{name:"KUB Chain Mainnet Explorer",url:"https://www.bkcscan.com",apiUrl:"https://www.bkcscan.com/api"}}}),OO=h({id:25925,name:"Bitkub Testnet",network:"Bitkub Testnet",nativeCurrency:{name:"Bitkub Test",symbol:"tKUB",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.bitkubchain.io"]}},blockExplorers:{default:{name:"Bitkub Chain Testnet Explorer",url:"https://testnet.bkcscan.com",apiUrl:"https://testnet.bkcscan.com/api"}},testnet:!0}),jO=h({id:200901,name:"Bitlayer Mainnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.bitlayer.org"],webSocket:["wss://ws.bitlayer.org"]}},blockExplorers:{default:{name:"bitlayer mainnet scan",url:"https://www.btrscan.com"}},contracts:{multicall3:{address:"0x5B256fE9e993902eCe49D138a5b1162cBb529474",blockCreated:2421963}}}),_O=h({id:200810,name:"Bitlayer Testnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.bitlayer.org"],webSocket:["wss://testnet-ws.bitlayer.org"]}},blockExplorers:{default:{name:"bitlayer testnet scan",url:"https://testnet.btrscan.com"}},contracts:{multicall3:{address:"0x5B256fE9e993902eCe49D138a5b1162cBb529474",blockCreated:4135671}},testnet:!0}),$O=h({id:7171,name:"Bitrock Mainnet",nativeCurrency:{name:"BROCK",symbol:"BROCK",decimals:18},rpcUrls:{default:{http:["https://brockrpc.io"]}},blockExplorers:{default:{name:"Bitrock Explorer",url:"https://explorer.bit-rock.io"}},testnet:!1}),qO=h({id:199,name:"BitTorrent",network:"bittorrent-chain-mainnet",nativeCurrency:{name:"BitTorrent",symbol:"BTT",decimals:18},rpcUrls:{default:{http:["https://rpc.bittorrentchain.io"]}},blockExplorers:{default:{name:"Bttcscan",url:"https://bttcscan.com",apiUrl:"https://api.bttcscan.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:31078552}}}),ej=h({id:1028,name:"BitTorrent Chain Testnet",network:"bittorrent-chain-testnet",nativeCurrency:{name:"BitTorrent",symbol:"BTT",decimals:18},rpcUrls:{default:{http:["https://testrpc.bittorrentchain.io"]}},blockExplorers:{default:{name:"Bttcscan",url:"https://testnet.bttcscan.com",apiUrl:"https://testnet.bttcscan.com/api"}},testnet:!0}),tj=h({id:53456,name:"BirdLayer",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.birdlayer.xyz","https://rpc1.birdlayer.xyz"],webSocket:["wss://rpc.birdlayer.xyz/ws"]}},blockExplorers:{default:{name:"BirdLayer Explorer",url:"https://scan.birdlayer.xyz"}}}),nj=1,aj=h({...be,id:81457,name:"Blast",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://blastscan.io",apiUrl:"https://api.blastscan.io/api"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:212929}},sourceId:nj}),sj=11155111,ij=h({id:168587773,name:"Blast Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.blast.io"]}},blockExplorers:{default:{name:"Blastscan",url:"https://sepolia.blastscan.io",apiUrl:"https://api-sepolia.blastscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:756690}},testnet:!0,sourceId:sj}),$b=1,rj=h({...be,id:60808,name:"BOB",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.gobob.xyz"],webSocket:["wss://rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Explorer",url:"https://explorer.gobob.xyz"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:23131},l2OutputOracle:{[$b]:{address:"0xdDa53E23f8a32640b04D7256e651C1db98dB11C1",blockCreated:4462615}},portal:{[$b]:{address:"0x8AdeE124447435fE03e3CD24dF3f4cAE32E65a3E",blockCreated:4462615}}},sourceId:$b}),oj=h({id:288,name:"Boba Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.boba.network"]}},blockExplorers:{default:{name:"BOBAScan",url:"https://bobascan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:446859}}}),lj=h({id:28882,name:"Boba Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.boba.network"]}},blockExplorers:{default:{name:"BOBAScan",url:"https://testnet.bobascan.com"}},testnet:!0}),qb=11155111,cj=h({...be,id:808813,name:"BOB Sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://bob-sepolia.rpc.gobob.xyz"],webSocket:["wss://bob-sepolia.rpc.gobob.xyz"]}},blockExplorers:{default:{name:"BOB Sepolia Explorer",url:"https://bob-sepolia.explorer.gobob.xyz"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:35677},l2OutputOracle:{[qb]:{address:"0x14D0069452b4AE2b250B395b8adAb771E4267d2f",blockCreated:4462615}},portal:{[qb]:{address:"0x867B1Aa872b9C8cB5E9F7755feDC45BB24Ad0ae4",blockCreated:4462615}}},testnet:!0,sourceId:qb}),gj=h({id:11100,name:"Bool Beta Mainnet",nativeCurrency:{decimals:18,name:"BOL",symbol:"BOL"},rpcUrls:{default:{http:["https://beta-rpc-node-http.bool.network"]}},blockExplorers:{default:{name:"BoolScan",url:"https://beta-mainnet.boolscan.com/"}},testnet:!1}),dj=h({id:3636,name:"Botanix Testnet",nativeCurrency:{name:"Botanix",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://node.botanixlabs.dev"]}},blockExplorers:{default:{name:"Botanix Testnet Explorer",url:"https://testnet.botanixscan.io"}},testnet:!0}),Ij=h({id:6001,name:"BounceBit Mainnet",nativeCurrency:{name:"BounceBit",symbol:"BB",decimals:18},rpcUrls:{default:{http:["https://fullnode-mainnet.bouncebitapi.com"]}},blockExplorers:{default:{name:"BB Scan",url:"https://bbscan.io"}},testnet:!1}),uj=h({id:6e3,name:"BounceBit Testnet",nativeCurrency:{name:"BounceBit",symbol:"BB",decimals:18},rpcUrls:{default:{http:["https://fullnode-testnet.bouncebitapi.com"]}},blockExplorers:{default:{name:"BB Scan",url:"https://testnet.bbscan.io"}},testnet:!0}),Cj=h({id:1039,name:"Bronos",nativeCurrency:{decimals:18,name:"BRO",symbol:"BRO"},rpcUrls:{default:{http:["https://evm.bronos.org"]}},blockExplorers:{default:{name:"BronoScan",url:"https://broscan.bronos.org"}}}),pj=h({id:1038,name:"Bronos Testnet",nativeCurrency:{decimals:18,name:"Bronos Coin",symbol:"tBRO"},rpcUrls:{default:{http:["https://evm-testnet.bronos.org"]}},blockExplorers:{default:{name:"BronoScan",url:"https://tbroscan.bronos.org"}},testnet:!0}),mj=h({id:56,name:"BNB Smart Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://56.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"BscScan",url:"https://bscscan.com",apiUrl:"https://api.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15921452}}}),Aj=h({id:1017,name:"BNB Greenfield Chain",nativeCurrency:{decimals:18,name:"BNB",symbol:"BNB"},rpcUrls:{default:{http:["https://greenfield-chain.bnbchain.org"]}},blockExplorers:{default:{name:"BNB Greenfield Mainnet Scan",url:"https://greenfieldscan.com"}},testnet:!1}),yj=h({id:97,name:"Binance Smart Chain Testnet",nativeCurrency:{decimals:18,name:"BNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://data-seed-prebsc-1-s1.bnbchain.org:8545"]}},blockExplorers:{default:{name:"BscScan",url:"https://testnet.bscscan.com",apiUrl:"https://api-testnet.bscscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:17422483}},testnet:!0}),bj=h({id:223,name:"B2",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.bsquared.network"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.bsquared.network"}}}),hj=h({id:1123,name:"B2 Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.bsquared.network"]}},blockExplorers:{default:{name:"blockscout",url:"https://testnet-explorer.bsquared.network"}},testnet:!0}),fj=h({id:200901,name:"Bitlayer",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.bitlayer.org","https://rpc.bitlayer-rpc.com"],webSocket:["wss://ws.bitlayer.org","wss://ws.bitlayer-rpc.com"]}},blockExplorers:{default:{name:"Bitlayer(BTR) Scan",url:"https://www.btrscan.com"}}}),Zj=h({id:200810,name:"Bitlayer Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.bitlayer.org"],webSocket:["wss://testnet-ws.bitlayer.org","wss://testnet-ws.bitlayer-rpc.com"]}},blockExplorers:{default:{name:"Bitlayer(BTR) Scan",url:"https://testnet.btrscan.com"}},testnet:!0}),Gj=h({id:4999,name:"BlackFort Exchange Network",nativeCurrency:{name:"BlackFort Token",symbol:"BXN",decimals:18},rpcUrls:{default:{http:["https://mainnet.blackfort.network/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.blackfort.network",apiUrl:"https://explorer.blackfort.network/api"}}}),Bj=h({id:4777,name:"BlackFort Exchange Network Testnet",nativeCurrency:{name:"BlackFort Testnet Token",symbol:"TBXN",decimals:18},rpcUrls:{default:{http:["https://testnet.blackfort.network/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer.blackfort.network",apiUrl:"https://testnet-explorer.blackfort.network/api"}},testnet:!0}),Sj=h({id:13370,name:"Cannon",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}}),wj=h({id:7700,name:"Canto",nativeCurrency:{decimals:18,name:"Canto",symbol:"CANTO"},rpcUrls:{default:{http:["https://canto.gravitychain.io"]}},blockExplorers:{default:{name:"Tuber.Build (Blockscout)",url:"https://tuber.build"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2905789}}}),kj={estimateFeesPerGas:async t=>{var s;if(!((s=t.request)!=null&&s.feeCurrency))return null;const[e,n]=await Promise.all([Vj(t.client,t.request.feeCurrency),Rj(t.client,t.request.feeCurrency)]);return{maxFeePerGas:t.multiply(e-n)+n,maxPriorityFeePerGas:n}}};async function Vj(t,e){const n=await t.request({method:"eth_gasPrice",params:[e]});return BigInt(n)}async function Rj(t,e){const n=await t.request({method:"eth_maxPriorityFeePerGas",params:[e]});return BigInt(n)}function sv(t){return t===0||t===0n||t===void 0||t===null||t==="0"||t===""||typeof t=="string"&&(Qn(t).toLowerCase()==="0x"||Qn(t).toLowerCase()==="0x00")}function sI(t){return!sv(t)}function Wj(t){return typeof t.maxFeePerGas<"u"&&typeof t.maxPriorityFeePerGas<"u"}function iv(t){return t.type==="cip64"?!0:Wj(t)&&sI(t.feeCurrency)}const vj={block:Tf({format(t){var n;return{transactions:(n=t.transactions)==null?void 0:n.map(a=>typeof a=="string"?a:{...Vu(a),...a.gatewayFee?{gatewayFee:at(a.gatewayFee),gatewayFeeRecipient:a.gatewayFeeRecipient}:{},feeCurrency:a.feeCurrency})}}}),transaction:Nf({format(t){if(t.type==="0x7e")return{isSystemTx:t.isSystemTx,mint:t.mint?at(t.mint):void 0,sourceHash:t.sourceHash,type:"deposit"};const e={feeCurrency:t.feeCurrency};return t.type==="0x7b"?e.type="cip64":(t.type==="0x7c"&&(e.type="cip42"),e.gatewayFee=t.gatewayFee?at(t.gatewayFee):null,e.gatewayFeeRecipient=t.gatewayFeeRecipient),e}}),transactionRequest:cR({format(t){const e={};return t.feeCurrency&&(e.feeCurrency=t.feeCurrency),iv(t)&&(e.type="0x7b"),e}})};function Ej(t,e){return iv(t)?Jj(t,e):av(t,e)}const Xj={transaction:Ej};function Jj(t,e){Nj(t);const{chainId:n,gas:a,nonce:s,to:r,value:l,maxFeePerGas:g,maxPriorityFeePerGas:c,accessList:u,feeCurrency:d,data:p}=t,A=[Ge(n),s?Ge(s):"0x",c?Ge(c):"0x",g?Ge(g):"0x",a?Ge(a):"0x",r??"0x",l?Ge(l):"0x",p??"0x",vu(u),d,...Dg(t,e)];return jn(["0x7b",$s(A)])}const xj=Tg;function Nj(t){const{chainId:e,maxPriorityFeePerGas:n,gasPrice:a,maxFeePerGas:s,to:r,feeCurrency:l}=t;if(e<=0)throw new Fg({chainId:e});if(r&&!ut(r))throw new Ft({address:r});if(a)throw new Ie("`gasPrice` is not a valid CIP-64 Transaction attribute.");if(sI(s)&&s>xj)throw new _r({maxFeePerGas:s});if(sI(n)&&sI(s)&&n>s)throw new Jg({maxFeePerGas:s,maxPriorityFeePerGas:n});if(sI(l)&&!ut(l))throw new Ie("`feeCurrency` MUST be a token address for CIP-64 transactions.");if(sv(l))throw new Ie("`feeCurrency` must be provided for CIP-64 transactions.")}const F1={contracts:nv,formatters:vj,serializers:Xj,fees:kj},Hj=h({...F1,id:42220,name:"Celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://celoscan.io",apiUrl:"https://api.celoscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13112599}},testnet:!1}),up=17e3,Tj=h({...F1,id:44787,name:"Alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"A-CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Alfajores Explorer",url:"https://celo-alfajores.blockscout.com",apiUrl:"https://celo-alfajores.blockscout.com/api"}},contracts:{...F1.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:14569001},portal:{[up]:{address:"0x82527353927d8D069b3B452904c942dA149BA381",blockCreated:2411324}},disputeGameFactory:{[up]:{address:"0xE28AAdcd9883746c0e5068F58f9ea06027b214cb",blockCreated:2411324}},l2OutputOracle:{[up]:{address:"0x4a2635e9e4f6e45817b1D402ac4904c1d1752438",blockCreated:2411324}},l1StandardBridge:{[up]:{address:"0xD1B0E0581973c9eB7f886967A606b9441A897037",blockCreated:2411324}}},testnet:!0}),Yj=h({id:5858,name:"Chang Chain Foundation Mainnet",nativeCurrency:{decimals:18,name:"CTH",symbol:"CTH"},rpcUrls:{default:{http:["https://rpc.cthscan.com"]}},blockExplorers:{default:{name:"Chang Chain explorer",url:"https://cthscan.com"}}}),Fj=h({id:88888,name:"Chiliz Chain",network:"chiliz-chain",nativeCurrency:{decimals:18,name:"CHZ",symbol:"CHZ"},rpcUrls:{default:{http:["https://rpc.chiliz.com"]}},blockExplorers:{default:{name:"Chiliz Explorer",url:"https://scan.chiliz.com",apiUrl:"https://scan.chiliz.com/api"}}}),Kj=h({id:2882,name:"Chips Network",network:"CHIPS",nativeCurrency:{decimals:18,name:"IOTA",symbol:"IOTA"},rpcUrls:{default:{http:["https://node.chips.ooo/wasp/api/v1/chains/iota1pp3d3mnap3ufmgqnjsnw344sqmf5svjh26y2khnmc89sv6788y3r207a8fn/evm"]}}}),Mj=h({id:5115,name:"Citrea Testnet",nativeCurrency:{name:"cBTC",symbol:"cBTC",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.citrea.xyz"]}},blockExplorers:{default:{name:"Citrea Explorer",url:"https://explorer.testnet.citrea.xyz",apiUrl:"https://explorer.testnet.citrea.xyz/api"}},testnet:!0}),Uj=h({id:61,name:"Ethereum Classic",nativeCurrency:{decimals:18,name:"ETC",symbol:"ETC"},rpcUrls:{default:{http:["https://etc.rivet.link"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.com/etc/mainnet"}}}),Dj=h({id:112,name:"Coinbit Mainnet",nativeCurrency:{name:"GIDR",symbol:"GIDR",decimals:18},rpcUrls:{default:{http:["https://coinbit-rpc-mainnet.chain.sbcrypto.app"]}},blockExplorers:{default:{name:"Coinbit Explorer",url:"https://coinbit-explorer.chain.sbcrypto.app"}},testnet:!1}),Lj=h({id:52,name:"CoinEx Mainnet",nativeCurrency:{name:"cet",symbol:"cet",decimals:18},rpcUrls:{default:{http:["https://rpc.coinex.net"]}},blockExplorers:{default:{name:"CoinEx Explorer",url:"https://www.coinex.net"}},testnet:!1}),zj=h({id:1030,name:"Conflux eSpace",nativeCurrency:{name:"Conflux",symbol:"CFX",decimals:18},rpcUrls:{default:{http:["https://evm.confluxrpc.com"],webSocket:["wss://evm.confluxrpc.com/ws"]}},blockExplorers:{default:{name:"ConfluxScan",url:"https://evm.confluxscan.org"}},contracts:{multicall3:{address:"0xEFf0078910f638cd81996cc117bccD3eDf2B072F",blockCreated:68602935}}}),Qj=h({id:71,name:"Conflux eSpace Testnet",network:"cfx-espace-testnet",testnet:!0,nativeCurrency:{name:"Conflux",symbol:"CFX",decimals:18},rpcUrls:{default:{http:["https://evmtestnet.confluxrpc.com"],webSocket:["wss://evmtestnet.confluxrpc.com/ws"]}},blockExplorers:{default:{name:"ConfluxScan",url:"https://evmtestnet.confluxscan.org"}},contracts:{multicall3:{address:"0xEFf0078910f638cd81996cc117bccD3eDf2B072F",blockCreated:117499050}}}),Pj=h({id:1116,name:"Core Dao",nativeCurrency:{decimals:18,name:"Core",symbol:"CORE"},rpcUrls:{default:{http:["https://rpc.coredao.org"]}},blockExplorers:{default:{name:"CoreDao",url:"https://scan.coredao.org"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:11907934}},testnet:!1}),Oj=h({id:1115,name:"Core Testnet",nativeCurrency:{decimals:18,name:"tCore",symbol:"TCORE"},rpcUrls:{default:{http:["https://rpc.test.btcs.network"]}},blockExplorers:{default:{name:"Core Testnet",url:"https://scan.test.btcs.network",apiUrl:"https://api.test.btcs.network/api"}},contracts:{multicall3:{address:"0xCcddF20A1932537123C2E48Bd8e00b108B8f7569",blockCreated:29350509}},testnet:!0}),jj=h({id:1114,name:"Core Testnet2",nativeCurrency:{decimals:18,name:"tCore2",symbol:"TCORE2"},rpcUrls:{default:{http:["https://rpc.test2.btcs.network"]}},blockExplorers:{default:{name:"Core Testnet2",url:"https://scan.test2.btcs.network",apiUrl:"https://api.test2.btcs.network/api"}},contracts:{multicall3:{address:"0x3CB285ff3Cd5C7C7e570b1E7DE3De17A0f985e56",blockCreated:3838600}},testnet:!0}),_j=1,$j=h({id:21e6,name:"Corn",nativeCurrency:{decimals:18,name:"Bitcorn",symbol:"BTCN"},rpcUrls:{default:{http:["https://21000000.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Corn Explorer",url:"https://cornscan.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/21000000/etherscan/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3228}},sourceId:_j}),qj=11155111,e_=h({id:21000001,name:"Corn Testnet",nativeCurrency:{decimals:18,name:"Bitcorn",symbol:"BTCN"},rpcUrls:{default:{http:["https://21000001.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Corn Testnet Explorer",url:"https://testnet.cornscan.io",apiUrl:"https://api.routescan.io/v2/network/testnet/evm/21000001/etherscan/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4886}},testnet:!0,sourceId:qj}),t_=h({id:44,name:"Crab Network",nativeCurrency:{decimals:18,name:"Crab Network Native Token",symbol:"CRAB"},rpcUrls:{default:{http:["https://crab-rpc.darwinia.network"],webSocket:["wss://crab-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://crab-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3032593}}}),n_=h({id:66665,name:"Creator",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.creatorchain.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.creatorchain.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),a_=h({id:102030,name:"Creditcoin3 Mainnet",nativeCurrency:{name:"Creditcoin3 Mainnet",symbol:"CTC",decimals:18},rpcUrls:{default:{http:["https://mainnet3.creditcoin.network"],webSocket:["wss://mainnet3.creditcoin.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://creditcoin.blockscout.com",apiUrl:"https://creditcoin.blockscout.com/api"}},testnet:!1}),s_=h({id:102031,name:"Creditcoin3 Testnet",nativeCurrency:{name:"Creditcoin3 Testnet",symbol:"TCTC",decimals:18},rpcUrls:{default:{http:["https://rpc.cc3-testnet.creditcoin.network"],webSocket:["wss://rpc.cc3-testnet.creditcoin.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://creditcoin-testnet.blockscout.com",apiUrl:"https://creditcoin-testnet.blockscout.com/api"}},testnet:!0}),i_=h({id:25,name:"Cronos Mainnet",nativeCurrency:{decimals:18,name:"Cronos",symbol:"CRO"},rpcUrls:{default:{http:["https://evm.cronos.org"]}},blockExplorers:{default:{name:"Cronos Explorer",url:"https://explorer.cronos.org",apiUrl:"https://explorer-api.cronos.org/mainnet/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1963112}}}),r_=h({id:338,name:"Cronos Testnet",nativeCurrency:{decimals:18,name:"CRO",symbol:"tCRO"},rpcUrls:{default:{http:["https://evm-t3.cronos.org"]}},blockExplorers:{default:{name:"Cronos Explorer",url:"https://cronos.org/explorer/testnet3"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:10191251}},testnet:!0}),o_=h({id:388,name:"Cronos zkEVM Mainnet",nativeCurrency:{decimals:18,name:"Cronos zkEVM CRO",symbol:"zkCRO"},rpcUrls:{default:{http:["https://mainnet.zkevm.cronos.org"]}},blockExplorers:{default:{name:"Cronos zkEVM (Mainnet) Chain Explorer",url:"https://explorer.zkevm.cronos.org"}},contracts:{multicall3:{address:"0x06f4487d7c4a5983d2660db965cc6d2565e4cfaa",blockCreated:72}}}),l_=h({id:282,name:"Cronos zkEVM Testnet",nativeCurrency:{decimals:18,name:"Cronos zkEVM Test Coin",symbol:"zkTCRO"},rpcUrls:{default:{http:["https://testnet.zkevm.cronos.org"]}},blockExplorers:{default:{name:"Cronos zkEVM Testnet Explorer",url:"https://explorer.zkevm.cronos.org/testnet"}},testnet:!0}),c_=h({id:3737,name:"Crossbell",nativeCurrency:{decimals:18,name:"CSB",symbol:"CSB"},rpcUrls:{default:{http:["https://rpc.crossbell.io"]}},blockExplorers:{default:{name:"CrossScan",url:"https://scan.crossbell.io",apiUrl:"https://scan.crossbell.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:38246031}}}),g_=h({id:33111,name:"Curtis",nativeCurrency:{name:"ApeCoin",symbol:"APE",decimals:18},rpcUrls:{default:{http:["https://rpc.curtis.apechain.com"]}},blockExplorers:{default:{name:"Curtis Explorer",url:"https://explorer.curtis.apechain.com"}},testnet:!0}),d_=h({id:7560,name:"Cyber",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cyber.alt.technology"]}},blockExplorers:{default:{name:"Blockscout",url:"https://cyberscan.co",apiUrl:"https://cyberscan.co/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}}}),I_=h({id:111557560,name:"Cyber Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://cyber-testnet.alt.technology"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet.cyberscan.co",apiUrl:"https://testnet.cyberscan.co/api"}},contracts:{multicall3:{address:"0xffc391F0018269d4758AEA1a144772E8FB99545E",blockCreated:304545}},testnet:!0}),u_=h({id:824,name:"Daily Network Mainnet",nativeCurrency:{decimals:18,name:"Daily",symbol:"DLY"},rpcUrls:{default:{http:["https://rpc.mainnet.dailycrypto.net"]}},blockExplorers:{default:{name:"Daily Mainnet Explorer",url:"https://explorer.mainnet.dailycrypto.net"}},testnet:!1}),C_=h({id:825,name:"Daily Network Testnet",nativeCurrency:{decimals:18,name:"Daily",symbol:"DLY"},rpcUrls:{default:{http:["https://rpc.testnet.dailycrypto.net"]}},blockExplorers:{default:{name:"Daily Testnet Explorer",url:"https://explorer.testnet.dailycrypto.net"}},testnet:!0}),p_=h({id:46,name:"Darwinia Network",nativeCurrency:{decimals:18,name:"RING",symbol:"RING"},rpcUrls:{default:{http:["https://rpc.darwinia.network"],webSocket:["wss://rpc.darwinia.network"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:69420}}}),m_=h({id:20240603,name:"DBK chain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.dbkchain.io"]}},blockExplorers:{default:{name:"DBK Chain Explorer",url:"https://scan.dbkchain.io"}},testnet:!1}),A_=h({...be,id:2716446429837e3,name:"Dchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://dchain-2716446429837000-1.jsonrpc.sagarpc.io"]}},blockExplorers:{default:{name:"Dchain Explorer",url:"https://dchain-2716446429837000-1.sagaexplorer.io",apiUrl:"https://api-dchain-2716446429837000-1.sagaexplorer.io/api"}},contracts:{...be.contracts}}),y_=h({...be,id:2713017997578e3,name:"Dchain Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://dchaintestnet-2713017997578000-1.jsonrpc.testnet.sagarpc.io"]}},blockExplorers:{default:{name:"Dchain Explorer",url:"https://dchaintestnet-2713017997578000-1.testnet.sagaexplorer.io",apiUrl:"https://api-dchaintestnet-2713017997578000-1.testnet.sagaexplorer.io/api"}},contracts:{...be.contracts}}),b_=h({id:1130,network:"defichain-evm",name:"DeFiChain EVM Mainnet",nativeCurrency:{name:"DeFiChain",symbol:"DFI",decimals:18},rpcUrls:{default:{http:["https://eth.mainnet.ocean.jellyfishsdk.com"]}},blockExplorers:{default:{name:"DeFiScan",url:"https://meta.defiscan.live"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:137852}}}),h_=h({id:1131,network:"defichain-evm-testnet",name:"DeFiChain EVM Testnet",nativeCurrency:{name:"DeFiChain",symbol:"DFI",decimals:18},rpcUrls:{default:{http:["https://eth.testnet.ocean.jellyfishsdk.com"]}},blockExplorers:{default:{name:"DeFiScan",url:"https://meta.defiscan.live/?network=TestNet"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:156462}},testnet:!0}),f_=h({id:666666666,name:"Degen",nativeCurrency:{decimals:18,name:"Degen",symbol:"DEGEN"},rpcUrls:{default:{http:["https://rpc.degen.tips"],webSocket:["wss://rpc.degen.tips"]}},blockExplorers:{default:{name:"Degen Chain Explorer",url:"https://explorer.degen.tips",apiUrl:"https://explorer.degen.tips/api/v2"}}}),Z_=h({id:53935,name:"DFK Chain",nativeCurrency:{decimals:18,name:"Jewel",symbol:"JEWEL"},rpcUrls:{default:{http:["https://subnets.avax.network/defi-kingdoms/dfk-chain/rpc"]}},blockExplorers:{default:{name:"DFKSubnetScan",url:"https://subnets.avax.network/defi-kingdoms"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14790551}}}),G_=h({id:15,name:"Diode Prenet",nativeCurrency:{decimals:18,name:"DIODE",symbol:"DIODE"},rpcUrls:{default:{http:["https://prenet.diode.io:8443"],webSocket:["wss://prenet.diode.io:8443/ws"]}},blockExplorers:{default:{name:"Diode Explorer",url:"https://diode.io/prenet"}},testnet:!1}),B_=h({id:513100,name:"DisChain",nativeCurrency:{decimals:18,name:"DIS",symbol:"DIS"},rpcUrls:{default:{http:["https://rpc.dischain.xyz"]}},blockExplorers:{default:{name:"DisChain Explorer",url:"https://www.oklink.com/dis"}}}),S_=h({id:53457,name:"DODOchain Testnet",nativeCurrency:{decimals:18,name:"DODO",symbol:"DODO"},rpcUrls:{default:{http:["https://dodochain-testnet.alt.technology"],webSocket:["wss://dodochain-testnet.alt.technology/ws"]}},blockExplorers:{default:{name:"DODOchain Testnet (Sepolia) Explorer",url:"https://testnet-scan.dodochain.com"}},testnet:!0}),w_=h({id:2e3,name:"Dogechain",nativeCurrency:{decimals:18,name:"Wrapped Dogecoin",symbol:"WDOGE"},rpcUrls:{default:{http:["https://rpc.dogechain.dog"]}},blockExplorers:{default:{name:"DogeChainExplorer",url:"https://explorer.dogechain.dog",apiUrl:"https://explorer.dogechain.dog/api"}},contracts:{multicall3:{address:"0x68a8609a60a008EFA633dfdec592c03B030cC508",blockCreated:25384031}}}),k_=h({id:42026,name:"Donatuz",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.donatuz.com"]}},blockExplorers:{default:{name:"Donatuz Explorer",url:"https://explorer.donatuz.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0}}}),V_=h({id:7979,name:"DOS Chain",nativeCurrency:{decimals:18,name:"DOS Chain",symbol:"DOS"},rpcUrls:{default:{http:["https://main.doschain.com"]}},blockExplorers:{default:{name:"DOS Chain Explorer",url:"https://doscan.io",apiUrl:"https://api.doscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:161908}}}),R_=h({id:3939,name:"DOS Chain Testnet",nativeCurrency:{decimals:18,name:"DOS Chain Testnet",symbol:"DOS"},rpcUrls:{default:{http:["https://test.doschain.com"]}},blockExplorers:{default:{name:"DOS Chain Testnet Explorer",url:"https://test.doscan.io",apiUrl:"https://api-test.doscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:69623}},testnet:!0}),W_=h({id:23451,name:"DreyerX Mainnet",nativeCurrency:{name:"DreyerX",symbol:"DRX",decimals:18},rpcUrls:{default:{http:["https://rpc.dreyerx.com"]}},blockExplorers:{default:{name:"DreyerX Scan",url:"https://scan.dreyerx.com"}}}),v_=h({id:23452,name:"DreyerX Testnet",nativeCurrency:{name:"DreyerX",symbol:"DRX",decimals:18},rpcUrls:{default:{http:["http://testnet-rpc.dreyerx.com"]}},blockExplorers:{default:{name:"DreyerX Testnet Scan",url:"https://testnet-scan.dreyerx.com"}},testnet:!0}),E_=h({id:555888,name:"DustBoy IoT",nativeCurrency:{name:"Ether",symbol:"DST",decimals:18},rpcUrls:{default:{http:["https://dustboy-rpc.jibl2.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://dustboy.jibl2.com",apiUrl:"https://dustboy.jibl2.com/api"}},contracts:{multicall3:{address:"0xFFD34aa2C62B2D52E00A361e466C229788f4eD6a",blockCreated:526569}},testnet:!1}),X_=h({id:1100,name:"Dymension",nativeCurrency:{name:"DYM",symbol:"DYM",decimals:18},rpcUrls:{default:{http:["https://dymension-evm-rpc.publicnode.com"],webSocket:["wss://dymension-evm-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Dym FYI",url:"https://dym.fyi"}},testnet:!1}),J_=h({id:1995,name:"edeXa Testnet",nativeCurrency:{name:"edeXa",symbol:"tEDX",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.edexa.network"]}},blockExplorers:{default:{name:"edeXa Testnet Explorer",url:"https://explorer.testnet.edexa.network",apiUrl:"https://explorer.testnet.edexa.network/api/v2"}},testnet:!0}),x_=h({id:5424,name:"edeXa",nativeCurrency:{name:"edeXa",symbol:"EDX",decimals:18},rpcUrls:{default:{http:["https://rpc.edexa.network"]}},blockExplorers:{default:{name:"edeXa Explorer",url:"https://explorer.edexa.network",apiUrl:"https://explorer.edexa.network/api/v2"}}}),N_=h({id:2026,name:"Edgeless Network",nativeCurrency:{name:"Edgeless Wrapped ETH",symbol:"EwETH",decimals:18},rpcUrls:{default:{http:["https://rpc.edgeless.network/http"],webSocket:["wss://rpc.edgeless.network/ws"]}},blockExplorers:{default:{name:"Edgeless Explorer",url:"https://explorer.edgeless.network"}}}),H_=h({id:202,name:"Edgeless Testnet",nativeCurrency:{name:"Edgeless Wrapped ETH",symbol:"EwETH",decimals:18},rpcUrls:{default:{http:["https://edgeless-testnet.rpc.caldera.xyz/http"],webSocket:["wss://edgeless-testnet.rpc.caldera.xyz/ws"]}},blockExplorers:{default:{name:"Edgeless Testnet Explorer",url:"https://testnet.explorer.edgeless.network"}}}),T_=h({id:2021,name:"Edgeware EdgeEVM Mainnet",nativeCurrency:{decimals:18,name:"Edgeware",symbol:"EDG"},rpcUrls:{default:{http:["https://edgeware-evm.jelliedowl.net"]}},blockExplorers:{default:{name:"Edgscan by Bharathcoorg",url:"https://edgscan.live",apiUrl:"https://edgscan.live/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:18117872}}}),Y_=h({id:2022,name:"Beresheet BereEVM Testnet",nativeCurrency:{decimals:18,name:"Testnet EDG",symbol:"tEDG"},rpcUrls:{default:{http:["https://beresheet-evm.jelliedowl.net"]}},blockExplorers:{default:{name:"Edgscan by Bharathcoorg",url:"https://testnet.edgscan.live",apiUrl:"https://testnet.edgscan.live/api"}}}),F_=h({id:41923,name:"EDU Chain",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.edu-chain.raas.gelato.cloud"]}},blockExplorers:{default:{name:"EDU Chain Explorer",url:"https://educhain.blockscout.com/"}},testnet:!1}),K_=h({id:656476,name:"EDU Chain Testnet",nativeCurrency:{decimals:18,name:"EDU",symbol:"EDU"},rpcUrls:{default:{http:["https://rpc.open-campus-codex.gelato.digital/"],webSocket:["wss://ws.open-campus-codex.gelato.digital"]}},blockExplorers:{default:{name:"EDU Chain Testnet Explorer",url:"https://opencampus-codex.blockscout.com",apiUrl:"https://opencampus-codex.blockscout.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:15514133}},testnet:!0}),M_=h({id:1994,name:"Ekta",nativeCurrency:{decimals:18,name:"EKTA",symbol:"EKTA"},rpcUrls:{default:{http:["https://main.ekta.io"]}},blockExplorers:{default:{name:"Ektascan",url:"https://ektascan.io",apiUrl:"https://ektascan.io/api"}}}),U_=h({id:1004,name:"Ekta Testnet",nativeCurrency:{decimals:18,name:"EKTA",symbol:"EKTA"},rpcUrls:{default:{http:["https://test.ekta.io:8545"]}},blockExplorers:{default:{name:"Test Ektascan",url:"https://test.ektascan.io",apiUrl:"https://test.ektascan.io/api"}},testnet:!0}),D_=h({id:20,name:"Elastos Smart Chain",nativeCurrency:{name:"ELA",symbol:"ELA",decimals:18},rpcUrls:{default:{http:["https://api2.elastos.io/eth"]}},blockExplorers:{default:{name:"Elastos Explorer",url:"https://esc.elastos.io"}},testnet:!1}),L_=h({id:21,name:"Elastos Smart Chain Testnet",nativeCurrency:{name:"tELA",symbol:"tELA",decimals:18},rpcUrls:{default:{http:["https://api-testnet.elastos.io/eth"]}},blockExplorers:{default:{name:"Elastos Explorer",url:"https://esc-testnet.elastos.io"}},testnet:!0}),z_=h({id:52014,name:"Electroneum Mainnet",nativeCurrency:{name:"ETN",symbol:"ETN",decimals:18},rpcUrls:{default:{http:["https://rpc.electroneum.com"]}},blockExplorers:{default:{name:"Electroneum Block Explorer",url:"https://blockexplorer.electroneum.com"}},testnet:!1}),Q_=h({id:5201420,name:"Electroneum Testnet",nativeCurrency:{name:"ETN",symbol:"ETN",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.electroneum.com"]}},blockExplorers:{default:{name:"Electroneum Block Explorer",url:"https://blockexplorer.thesecurityteam.rocks"}},testnet:!0}),P_=h({...be,id:1338,name:"Elysium Testnet",nativeCurrency:{decimals:18,name:"LAVA",symbol:"LAVA"},rpcUrls:{default:{http:["https://elysium-test-rpc.vulcanforged.com"]}},blockExplorers:{default:{name:"Elysium testnet explorer",url:"https://elysium-explorer.vulcanforged.com"}},testnet:!0}),O_=h({id:246,name:"Energy Mainnet",nativeCurrency:{name:"EWT",symbol:"EWT",decimals:18},rpcUrls:{default:{http:["https://rpc.energyweb.org"]}},blockExplorers:{default:{name:"EnergyWeb Explorer",url:"https://explorer.energyweb.org"}},testnet:!1}),j_=h({id:119,name:"ENULS Mainnet",nativeCurrency:{decimals:18,name:"NULS",symbol:"NULS"},rpcUrls:{default:{http:["https://evmapi2.nuls.io"]}},blockExplorers:{default:{name:"ENULS Explorer",url:"https://evmscan.nuls.io"}},testnet:!1}),__=h({id:7332,name:"Horizen EON",nativeCurrency:{decimals:18,name:"ZEN",symbol:"ZEN"},rpcUrls:{default:{http:["https://eon-rpc.horizenlabs.io/ethv1"]}},blockExplorers:{default:{name:"EON Explorer",url:"https://eon-explorer.horizenlabs.io"}},contracts:{}}),$_=h({id:17777,name:"EOS EVM",nativeCurrency:{decimals:18,name:"EOS",symbol:"EOS"},rpcUrls:{default:{http:["https://api.evm.eosnetwork.com"]}},blockExplorers:{default:{name:"EOS EVM Explorer",url:"https://explorer.evm.eosnetwork.com",apiUrl:"https://explorer.evm.eosnetwork.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:7943933}}}),q_=h({id:15557,name:"EOS EVM Testnet",nativeCurrency:{decimals:18,name:"EOS",symbol:"EOS"},rpcUrls:{default:{http:["https://api.testnet.evm.eosnetwork.com"]}},blockExplorers:{default:{name:"EOS EVM Testnet Explorer",url:"https://explorer.testnet.evm.eosnetwork.com",apiUrl:"https://explorer.testnet.evm.eosnetwork.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:9067940}},testnet:!0}),e$=h({id:42793,name:"Etherlink",nativeCurrency:{decimals:18,name:"Tez",symbol:"XTZ"},rpcUrls:{default:{http:["https://node.mainnet.etherlink.com"]}},blockExplorers:{default:{name:"Etherlink",url:"https://explorer.etherlink.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:33899}}}),t$=h({id:128123,name:"Etherlink Testnet",nativeCurrency:{decimals:18,name:"Tez",symbol:"XTZ"},rpcUrls:{default:{http:["https://node.ghostnet.etherlink.com"]}},blockExplorers:{default:{name:"Etherlink Testnet",url:"https://testnet.explorer.etherlink.com"}},testnet:!0}),n$=h({id:183,name:"Ethernity",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.ethernitychain.io"]}},blockExplorers:{default:{name:"Ethernity Explorer",url:"https://ernscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},testnet:!1}),a$=h({id:20256789,name:"ETP Mainnet",nativeCurrency:{decimals:18,name:"ETP Chain Native Token",symbol:"ETP"},rpcUrls:{default:{http:["https://rpc.etpscan.xyz"]}},blockExplorers:{default:{name:"ETP Scan",url:"https://etpscan.xyz"}}}),s$=h({id:9001,name:"Evmos",nativeCurrency:{decimals:18,name:"Evmos",symbol:"EVMOS"},rpcUrls:{default:{http:["https://eth.bd.evmos.org:8545"]}},blockExplorers:{default:{name:"Evmos Block Explorer",url:"https://escan.live"}}}),i$=h({id:9e3,name:"Evmos Testnet",nativeCurrency:{decimals:18,name:"Evmos",symbol:"EVMOS"},rpcUrls:{default:{http:["https://eth.bd.evmos.dev:8545"]}},blockExplorers:{default:{name:"Evmos Testnet Block Explorer",url:"https://evm.evmos.dev/"}}}),r$=h({id:22052002,name:"Excelon Mainnet",network:"XLON",nativeCurrency:{decimals:18,name:"Excelon",symbol:"xlon"},rpcUrls:{default:{http:["https://edgewallet1.xlon.org"]}},blockExplorers:{default:{name:"Excelon explorer",url:"https://explorer.excelon.io"}}}),o$=h({id:2,name:"Expanse Network",nativeCurrency:{decimals:18,name:"EXP",symbol:"EXP"},rpcUrls:{default:{http:["https://node.expanse.tech"]}},blockExplorers:{default:{name:"Expanse Explorer",url:"https://explorer.expanse.tech"}},testnet:!1}),l$=h({id:7200,name:"exSat Network",nativeCurrency:{decimals:18,name:"BTC",symbol:"BTC"},rpcUrls:{default:{http:["https://evm.exsat.network"]}},blockExplorers:{default:{name:"exSat Explorer",url:"https://scan.exsat.network",apiUrl:"https://scan.exsat.network/api"}}}),c$=h({id:839999,name:"exSat Testnet",nativeCurrency:{decimals:18,name:"BTC",symbol:"BTC"},rpcUrls:{default:{http:["https://evm-tst3.exsat.network"]}},blockExplorers:{default:{name:"exSat Explorer",url:"https://scan-testnet.exsat.network",apiUrl:"https://scan-testnet.exsat.network/api"}}}),g$=h({id:250,name:"Fantom",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://250.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"FTMScan",url:"https://ftmscan.com",apiUrl:"https://api.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:33001987}}}),d$=h({id:64240,name:"Fantom Sonic Open Testnet",network:"fantom-sonic-testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpcapi.sonic.fantom.network"]}},blockExplorers:{default:{name:"Fantom Sonic Open Testnet Explorer",url:"https://public-sonic.fantom.network"}},testnet:!0}),I$=h({id:4002,name:"Fantom Testnet",nativeCurrency:{decimals:18,name:"Fantom",symbol:"FTM"},rpcUrls:{default:{http:["https://rpc.testnet.fantom.network"]}},blockExplorers:{default:{name:"FTMScan",url:"https://testnet.ftmscan.com",apiUrl:"https://testnet.ftmscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:8328688}},testnet:!0}),u$=h({id:12306,name:"Fibo Chain",nativeCurrency:{decimals:18,name:"fibo",symbol:"FIBO"},rpcUrls:{default:{http:["https://network.hzroc.art"]}},blockExplorers:{default:{name:"FiboScan",url:"https://scan.fibochain.org"}}}),C$=h({id:314,name:"Filecoin Mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3328594}}}),p$=h({id:314159,name:"Filecoin Calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}},testnet:!0}),m$=h({id:3141,name:"Filecoin Hyperspace",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.hyperspace.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://hyperspace.filfox.info/en"}},testnet:!0}),A$=h({id:995,name:"5ireChain",nativeCurrency:{name:"5ire Token",symbol:"5IRE",decimals:18},rpcUrls:{default:{http:["https://rpc.5ire.network"]}},blockExplorers:{default:{name:"5ireChain Mainnet Explorer",url:"https://5irescan.io/"}},testnet:!1}),y$=h({id:253368190,name:"Flame",network:"flame",nativeCurrency:{symbol:"TIA",name:"TIA",decimals:18},rpcUrls:{default:{http:["https://rpc.flame.astria.org"],webSocket:["wss://ws.flame.astria.org"]}},blockExplorers:{default:{name:"Flame Explorer",url:"https://explorer.flame.astria.org"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:6829148}}}),b$=h({id:14,name:"Flare Mainnet",nativeCurrency:{decimals:18,name:"Flare",symbol:"FLR"},rpcUrls:{default:{http:["https://flare-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Flare Explorer",url:"https://flare-explorer.flare.network",apiUrl:"https://flare-explorer.flare.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3002461}}}),h$=h({id:114,name:"Flare Testnet Coston2",nativeCurrency:{decimals:18,name:"Coston2 Flare",symbol:"C2FLR"},rpcUrls:{default:{http:["https://coston2-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Coston2 Explorer",url:"https://coston2-explorer.flare.network",apiUrl:"https://coston2-explorer.flare.network/api"}},testnet:!0}),f$=h({id:747,name:"Flow EVM Mainnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://mainnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Mainnet Explorer",url:"https://evm.flowscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6205}}}),Z$=h({id:646,name:"Flow EVM Previewnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://previewnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Previewnet Explorer",url:"https://previewnet.flowdiver.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6205}}}),G$=h({id:545,name:"Flow EVM Testnet",nativeCurrency:{decimals:18,name:"Flow",symbol:"FLOW"},rpcUrls:{default:{http:["https://testnet.evm.nodes.onflow.org"]}},blockExplorers:{default:{name:"Flow Diver",url:"https://evm-testnet.flowscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:137518}},testnet:!0}),B$=h({id:9999999,name:"Fluence",nativeCurrency:{name:"FLT",symbol:"FLT",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.fluence.dev"],webSocket:["wss://ws.mainnet.fluence.dev"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.mainnet.fluence.dev",apiUrl:"https://blockscout.mainnet.fluence.dev/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:207583}}}),S$=h({id:123420000220,name:"Fluence Stage",nativeCurrency:{name:"tFLT",symbol:"tFLT",decimals:18},rpcUrls:{default:{http:["https://rpc.stage.fluence.dev"],webSocket:["wss://ws.stage.fluence.dev"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.stage.fluence.dev",apiUrl:"https://blockscout.stage.fluence.dev/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:83227}},testnet:!0}),w$=h({id:52164803,name:"Fluence Testnet",nativeCurrency:{name:"tFLT",symbol:"tFLT",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.fluence.dev"],webSocket:["wss://ws.testnet.fluence.dev"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.testnet.fluence.dev",apiUrl:"https://blockscout.testnet.fluence.dev/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96424}},testnet:!0}),k$=h({id:20993,name:"Fluent Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.dev.gblend.xyz"]}},blockExplorers:{default:{name:"Fluent Explorer",url:"https://blockscout.dev.gblend.xyz"}},testnet:!0}),V$=h({id:984122,name:"Forma",network:"forma",nativeCurrency:{symbol:"TIA",name:"TIA",decimals:18},rpcUrls:{default:{http:["https://rpc.forma.art"],webSocket:["wss://ws.forma.art"]}},blockExplorers:{default:{name:"Forma Explorer",url:"https://explorer.forma.art"}},contracts:{multicall3:{address:"0xd53C6FFB123F7349A32980F87faeD8FfDc9ef079",blockCreated:252705}}}),lc=1,R$=h({id:478,name:"Form Network",nativeCurrency:{decimals:18,name:"Ethereum",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.form.network/http"],webSocket:["wss://rpc.form.network/ws"]}},blockExplorers:{default:{name:"Form Explorer",url:"https://explorer.form.network"}},contracts:{...be.contracts,addressManager:{[lc]:{address:"0x15c249E46A2F924C2dB3A1560CF86729bAD1f07B"}},l1CrossDomainMessenger:{[lc]:{address:"0xF333158DCCad1dF6C3F0a3aEe8BC31fA94d9eD5c"}},l2OutputOracle:{[lc]:{address:"0x4ccAAF69F41c5810cA875183648B577CaCf1F67E"}},portal:{[lc]:{address:"0x4E259Ee5F4136408908160dD32295A5031Fa426F"}},l1StandardBridge:{[lc]:{address:"0xdc20aA63D3DE59574E065957190D8f24e0F7B8Ba"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},sourceId:lc}),W$=h({id:43521,name:"Formicarium",nativeCurrency:{decimals:18,name:"M",symbol:"M"},rpcUrls:{default:{http:["https://rpc.formicarium.memecore.net"],webSocket:["wss://ws.formicarium.memecore.net"]}},blockExplorers:{default:{name:"MemeCore Testnet Explorer",url:"https://formicarium.memecorescan.io"},okx:{name:"MemeCore Testnet Explorer",url:"https://web3.okx.com/explorer/formicarium-testnet"},memecore:{name:"MemeCore Testnet Explorer",url:"https://formicarium.blockscout.memecore.com",apiUrl:"https://formicarium.blockscout.memecore.com/api"}},testnet:!0}),cc=11155111,v$=h({id:132902,name:"Form Testnet",nativeCurrency:{decimals:18,name:"Ethereum",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia-rpc.form.network/http"],webSocket:["wss://sepolia-rpc.form.network/ws"]}},blockExplorers:{default:{name:"Form Testnet Explorer",url:"https://sepolia-explorer.form.network"}},contracts:{...be.contracts,addressManager:{[cc]:{address:"0xd5C38fa934f7fd7477D4800F4f38a1c5BFdF1373"}},l1CrossDomainMessenger:{[cc]:{address:"0x37A68565c4BE9700b3E3Ec60cC4416cAC3052FAa"}},l2OutputOracle:{[cc]:{address:"0x9eA2239E65a59EC9C7F1ED4C116dD58Da71Fc1e2"}},portal:{[cc]:{address:"0x60377e3cE15dF4CCA24c4beF076b60314240b032"}},l1StandardBridge:{[cc]:{address:"0xD4531f633942b2725896F47cD2aFd260b44Ab1F7"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0,sourceId:cc}),E$=h({id:80931,name:"Forta Chain",nativeCurrency:{symbol:"FORT",name:"FORT",decimals:18},rpcUrls:{default:{http:["https://rpc-forta-chain-8gj1qndmfc.t.conduit.xyz"]}},blockExplorers:{default:{name:"Forta Explorer",url:"https://explorer.forta.org"}}}),X$=h({id:31337,name:"Foundry",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"],webSocket:["ws://127.0.0.1:8545"]}}}),Cp=1,J$=h({...be,id:252,name:"Fraxtal",nativeCurrency:{name:"Frax",symbol:"FRAX",decimals:18},rpcUrls:{default:{http:["https://rpc.frax.com"]}},blockExplorers:{default:{name:"fraxscan",url:"https://fraxscan.com",apiUrl:"https://api.fraxscan.com/api"}},contracts:{...be.contracts,l2OutputOracle:{[Cp]:{address:"0x66CC916Ed5C6C2FA97014f7D1cD141528Ae171e4"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Cp]:{address:"0x36cb65c1967A0Fb0EEE11569C51C2f2aA1Ca6f6D",blockCreated:19135323}},l1StandardBridge:{[Cp]:{address:"0x34C0bD5877A5Ee7099D0f5688D65F4bB9158BDE2",blockCreated:19135323}}},sourceId:Cp}),pp=17e3,x$=h({...be,id:2522,name:"Fraxtal Testnet",nativeCurrency:{name:"Frax",symbol:"FRAX",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.frax.com"]}},blockExplorers:{default:{name:"fraxscan testnet",url:"https://holesky.fraxscan.com",apiUrl:"https://api-holesky.fraxscan.com/api"}},contracts:{...be.contracts,l2OutputOracle:{[pp]:{address:"0x715EA64DA13F4d0831ece4Ad3E8c1aa013167F32"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[pp]:{address:"0xB9c64BfA498d5b9a8398Ed6f46eb76d90dE5505d",blockCreated:318416}},l1StandardBridge:{[pp]:{address:"0x0BaafC217162f64930909aD9f2B27125121d6332",blockCreated:318416}}},sourceId:pp}),N$=1,H$=h({...be,id:33979,name:"Funki",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet.funkichain.com"]}},blockExplorers:{default:{name:"Funki Mainnet Explorer",url:"https://funkiscan.io"}},contracts:{...be.contracts},sourceId:N$}),T$=11155111,Y$=h({...be,id:3397901,network:"funkiSepolia",name:"Funki Sepolia Sandbox",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://funki-testnet.alt.technology"]}},blockExplorers:{default:{name:"Funki Sepolia Sandbox Explorer",url:"https://sepolia-sandbox.funkichain.com/"}},testnet:!0,contracts:{...be.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204}},sourceId:T$}),F$=h({id:122,name:"Fuse",nativeCurrency:{name:"Fuse",symbol:"FUSE",decimals:18},rpcUrls:{default:{http:["https://rpc.fuse.io"]}},blockExplorers:{default:{name:"Fuse Explorer",url:"https://explorer.fuse.io",apiUrl:"https://explorer.fuse.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:16146628}}}),K$=h({id:123,name:"Fuse Sparknet",nativeCurrency:{name:"Spark",symbol:"SPARK",decimals:18},rpcUrls:{default:{http:["https://rpc.fusespark.io"]}},blockExplorers:{default:{name:"Sparkent Explorer",url:"https://explorer.fusespark.io",apiUrl:"https://explorer.fusespark.io/api"}}}),M$=h({id:32659,name:"Fusion Mainnet",nativeCurrency:{name:"Fusion",symbol:"FSN",decimals:18},rpcUrls:{default:{http:["https://mainnet.fusionnetwork.io"],webSocket:["wss://mainnet.fusionnetwork.io"]}},blockExplorers:{default:{name:"FSNscan",url:"https://fsnscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10441605}},testnet:!1}),U$=h({id:46688,name:"Fusion Testnet",nativeCurrency:{name:"Fusion",symbol:"FSN",decimals:18},rpcUrls:{default:{http:["https://testnet.fusionnetwork.io"],webSocket:["wss://testnet.fusionnetwork.io"]}},blockExplorers:{default:{name:"FSNscan",url:"https://testnet.fsnscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10428309}},testnet:!0}),mp=17e3,D$=h({...be,name:"Garnet Testnet",testnet:!0,id:17069,sourceId:mp,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"],webSocket:["wss://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}},contracts:{...be.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[mp]:{address:"0x57ee40586fbE286AfC75E67cb69511A6D9aF5909",blockCreated:1274684}},l2OutputOracle:{[mp]:{address:"0xCb8E7AC561b8EF04F2a15865e9fbc0766FEF569B",blockCreated:1274684}},l1StandardBridge:{[mp]:{address:"0x09bcDd311FE398F80a78BE37E489f5D440DB95DE",blockCreated:1274684}}}}),L$=h({id:63157,name:"Geist Mainnet",nativeCurrency:{decimals:18,name:"Aavegotchi GHST Token",symbol:"GHST"},rpcUrls:{default:{http:["https://geist-mainnet.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Blockscout",url:"https://geist-mainnet.explorer.alchemy.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:660735}}}),z$=h({id:16507,name:"Genesys Mainnet",nativeCurrency:{decimals:18,name:"GSYS",symbol:"GSYS"},rpcUrls:{default:{http:["https://rpc.genesys.network"]}},blockExplorers:{default:{name:"Genesys Explorer",url:"https://gchainexplorer.genesys.network"}},testnet:!1}),Q$=h({id:251,name:"Glide L1 Protocol XP",nativeCurrency:{name:"GLXP",symbol:"GLXP",decimals:18},rpcUrls:{default:{http:["https://rpc-api.glideprotocol.xyz/l1-rpc"],webSocket:["wss://rpc-api.glideprotocol.xyz/l1-rpc"]}},blockExplorers:{default:{name:"Glide Protocol Explore",url:"https://blockchain-explorer.glideprotocol.xyz"}},testnet:!1}),P$=h({id:253,name:"Glide L2 Protocol XP",nativeCurrency:{name:"GLXP",symbol:"GLXP",decimals:18},rpcUrls:{default:{http:["https://rpc-api.glideprotocol.xyz/l2-rpc"],webSocket:["wss://rpc-api.glideprotocol.xyz/l2-rpc"]}},blockExplorers:{default:{name:"Glide Protocol Explore",url:"https://blockchain-explorer.glideprotocol.xyz"}},testnet:!1}),O$=h({id:100,name:"Gnosis",nativeCurrency:{decimals:18,name:"xDAI",symbol:"XDAI"},rpcUrls:{default:{http:["https://rpc.gnosischain.com"],webSocket:["wss://rpc.gnosischain.com/wss"]}},blockExplorers:{default:{name:"Gnosisscan",url:"https://gnosisscan.io",apiUrl:"https://api.gnosisscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:21022491}}}),j$=h({id:10200,name:"Gnosis Chiado",nativeCurrency:{decimals:18,name:"Gnosis",symbol:"xDAI"},rpcUrls:{default:{http:["https://rpc.chiadochain.net"],webSocket:["wss://rpc.chiadochain.net/wss"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.chiadochain.net",apiUrl:"https://blockscout.chiadochain.net/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4967313}},testnet:!0}),_$=h({id:2345,name:"GOAT",nativeCurrency:{decimals:18,name:"Bitcoin",symbol:"BTC"},rpcUrls:{default:{http:["https://rpc.goat.network"]}},blockExplorers:{default:{name:"Goat Explorer",url:"https://explorer.goat.network"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}}}),$$=h({id:1663,name:"Horizen Gobi Testnet",nativeCurrency:{decimals:18,name:"Test ZEN",symbol:"tZEN"},rpcUrls:{default:{http:["https://gobi-testnet.horizenlabs.io/ethv1"]}},blockExplorers:{default:{name:"Gobi Explorer",url:"https://gobi-explorer.horizen.io"}},contracts:{},testnet:!0}),q$=h({id:60,name:"GoChain",nativeCurrency:{decimals:18,name:"GO",symbol:"GO"},rpcUrls:{default:{http:["https://rpc.gochain.io"]}},blockExplorers:{default:{name:"GoChain Explorer",url:"https://explorer.gochain.io"}},testnet:!1}),eq=h({id:71402,name:"Godwoken Mainnet",nativeCurrency:{decimals:18,name:"pCKB",symbol:"pCKB"},rpcUrls:{default:{http:["https://v1.mainnet.godwoken.io/rpc"]}},blockExplorers:{default:{name:"GW Scan",url:"https://v1.gwscan.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:15034}},testnet:!1}),tq=h({id:5,name:"Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://5.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.etherscan.io",apiUrl:"https://api-goerli.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xfc4AC75C46C914aF5892d6d3eFFcebD7917293F1",blockCreated:10339206},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6507670}},testnet:!0}),nq=h({id:1625,name:"Gravity Alpha Mainnet",nativeCurrency:{name:"G",symbol:"G",decimals:18},rpcUrls:{default:{http:["https://rpc.gravity.xyz"]}},blockExplorers:{default:{name:"Gravity Explorer",url:"https://explorer.gravity.xyz",apiUrl:"https://explorer.gravity.xyz/api"}},contracts:{multicall3:{address:"0xf8ac4BEB2F75d2cFFb588c63251347fdD629B92c",blockCreated:16851}}}),aq=h({id:43419,name:"Gunz Mainnet",nativeCurrency:{name:"GUN",symbol:"GUN",decimals:18},rpcUrls:{default:{http:["https://rpc.gunzchain.io/ext/bc/2M47TxWHGnhNtq6pM5zPXdATBtuqubxn5EPFgFmEawCQr9WFML/rpc"]}},blockExplorers:{default:{name:"Gunz Explorer",url:"https://gunzscan.io/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:70502}}}),sq=h({id:260,name:"Guru Network Mainnet",nativeCurrency:{name:"GURU Token",symbol:"GURU",decimals:18},rpcUrls:{default:{http:["https://rpc-main.gurunetwork.ai","https://rpc.gurunetwork.ai/archive/260"]}},blockExplorers:{default:{name:"Guruscan",url:"https://scan.gurunetwork.ai"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:271691}},testnet:!1}),iq=h({id:261,name:"Guru Network Testnet",nativeCurrency:{name:"tGURU Token",symbol:"tGURU",decimals:18},rpcUrls:{default:{http:["https://rpc-test.gurunetwork.ai","https://rpc.gurunetwork.ai/archive/261"]}},blockExplorers:{default:{name:"Guruscan",url:"https://sepolia.gurunetwork.ai"}},testnet:!0}),rq=h({id:5112,name:"Ham",nativeCurrency:{decimals:18,name:"Ham",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.ham.fun"],webSocket:["wss://rpc.ham.fun"]}},blockExplorers:{default:{name:"Ham Chain Explorer",url:"https://explorer.ham.fun",apiUrl:"https://explorer.ham.fun/api/v2"}}}),oq=h({id:216,name:"Happychain Testnet",nativeCurrency:{symbol:"HAPPY",name:"HAPPY",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.happy.tech/http"],webSocket:["wss://rpc.testnet.happy.tech/ws"]}},blockExplorers:{default:{name:"Happy Chain Testnet Explorer",url:"https://explorer.testnet.happy.tech"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1}},testnet:!0}),lq=h({id:11235,name:"HAQQ Mainnet",nativeCurrency:{decimals:18,name:"Islamic Coin",symbol:"ISLM"},rpcUrls:{default:{http:["https://rpc.eth.haqq.network"]}},blockExplorers:{default:{name:"HAQQ Explorer",url:"https://explorer.haqq.network",apiUrl:"https://explorer.haqq.network/api"}}}),cq=h({id:54211,name:"HAQQ Testedge 2",nativeCurrency:{decimals:18,name:"Islamic Coin",symbol:"ISLMT"},rpcUrls:{default:{http:["https://rpc.eth.testedge2.haqq.network"]}},blockExplorers:{default:{name:"HAQQ Explorer",url:"https://explorer.testedge2.haqq.network",apiUrl:"https://explorer.testedge2.haqq.network/api"}}}),gq=h({id:31337,name:"Hardhat",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}}),dq=h({id:16666e5,name:"Harmony One",nativeCurrency:{name:"Harmony",symbol:"ONE",decimals:18},rpcUrls:{default:{http:["https://1666600000.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"Harmony Explorer",url:"https://explorer.harmony.one"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:24185753}}}),Iq=h({id:177,name:"HashKey Chain",nativeCurrency:{decimals:18,name:"HashKey EcoPoints",symbol:"HSK"},rpcUrls:{default:{http:["https://mainnet.hsk.xyz"]}},blockExplorers:{default:{name:"HashKey Chain Explorer",url:"https://hashkey.blockscout.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0}}}),uq=h({id:133,name:"HashKey Chain Testnet",nativeCurrency:{decimals:18,name:"HashKey EcoPoints",symbol:"HSK"},rpcUrls:{default:{http:["https://hashkeychain-testnet.alt.technology"]}},blockExplorers:{default:{name:"HashKey Chain Explorer",url:"https://hashkeychain-testnet-explorer.alt.technology"}},testnet:!0}),Cq=h({id:1523903251,name:"Haust Network Testnet",nativeCurrency:{decimals:18,name:"HAUST",symbol:"HAUST"},rpcUrls:{default:{http:["https://rpc-testnet.haust.app"]}},blockExplorers:{default:{name:"Haust Network Testnet Explorer",url:"https://explorer-testnet.haust.app"}},testnet:!0}),pq=h({id:295,name:"Hedera Mainnet",network:"hedera-mainnet",nativeCurrency:{symbol:"HBAR",name:"HBAR",decimals:18},rpcUrls:{default:{http:["https://mainnet.hashio.io/api"]}},blockExplorers:{default:{name:"Hashscan",url:"https://hashscan.io/mainnet"}},testnet:!1}),mq=h({id:297,name:"Hedera Previewnet",network:"hedera-previewnet",nativeCurrency:{symbol:"HBAR",name:"HBAR",decimals:18},rpcUrls:{default:{http:["https://previewnet.hashio.io/api"]}},blockExplorers:{default:{name:"Hashscan",url:"https://hashscan.io/previewnet"}},testnet:!0}),Aq=h({id:296,name:"Hedera Testnet",network:"hedera-testnet",nativeCurrency:{symbol:"HBAR",name:"HBAR",decimals:18},rpcUrls:{default:{http:["https://testnet.hashio.io/api"]}},blockExplorers:{default:{name:"Hashscan",url:"https://hashscan.io/testnet"}},testnet:!0}),yq=h({id:8668,name:"Hela Mainnet",nativeCurrency:{name:"HLUSD",symbol:"HLUSD",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.helachain.com"]}},blockExplorers:{default:{name:"Hela explorer",url:"https://mainnet-blockexplorer.helachain.com"}},testnet:!1}),bq=h({id:43111,name:"Hemi",network:"Hemi",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.hemi.network/rpc"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.hemi.xyz"}},testnet:!1}),hq=h({id:743111,name:"Hemi Sepolia",network:"Hemi Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.rpc.hemi.network/rpc"]}},blockExplorers:{default:{name:"Hemi Sepolia explorer",url:"https://testnet.explorer.hemi.xyz"}},testnet:!0}),fq=h({id:17e3,name:"Holesky",nativeCurrency:{name:"Holesky Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Etherscan",url:"https://holesky.etherscan.io",apiUrl:"https://api-holesky.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:77},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",blockCreated:801613},ensUniversalResolver:{address:"0xa6AC935D4971E3CD133b950aE053bECD16fE7f3b",blockCreated:973484}},testnet:!0}),Zq=h({id:560048,name:"Hoodi",nativeCurrency:{name:"Hoodi Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.hoodi.ethpandaops.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://hoodi.etherscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2589}},testnet:!0}),Gq=h({id:269,name:"High Performance Blockchain",nativeCurrency:{name:"HPB",symbol:"HPB",decimals:18},rpcUrls:{default:{http:["https://hpbnode.com"]}},blockExplorers:{default:{name:"hpbScan",url:"https://hscan.org"}},testnet:!1}),Bq=42161,Sq=h({id:12323,name:"Huddle01 dRTC Chain",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://huddle01.calderachain.xyz/http"],webSocket:["wss://huddle01.calderachain.xyz/ws"]}},blockExplorers:{default:{name:"Huddle01 Caldera Explorer",url:"https://huddle01.calderaexplorer.xyz",apiUrl:"https://huddle01.calderaexplorer.xyz/api"}},sourceId:Bq}),wq=421614,kq=h({id:2524852,name:"Huddle01 dRTC Chain Testnet",nativeCurrency:{name:"Ethereum",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://huddle-testnet.rpc.caldera.xyz/http"],webSocket:["wss://huddle-testnet.rpc.caldera.xyz/ws"]}},blockExplorers:{default:{name:"Huddle01 Caldera Explorer",url:"https://huddle-testnet.explorer.caldera.xyz",apiUrl:"https://huddle-testnet.explorer.caldera.xyz/api"}},sourceId:wq}),Vq=h({id:5234,name:"Humanode",nativeCurrency:{name:"HMND",symbol:"HMND",decimals:18},rpcUrls:{default:{http:["https://explorer-rpc-http.mainnet.stages.humanode.io"],webSocket:["wss://explorer-rpc-ws.mainnet.stages.humanode.io"]}},blockExplorers:{default:{name:"Subscan",url:"https://humanode.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4413097}}}),Rq=h({id:14853,name:"Humanode Testnet 5",nativeCurrency:{name:"HMND",symbol:"HMND",decimals:18},rpcUrls:{default:{http:["https://explorer-rpc-http.testnet5.stages.humanode.io"],webSocket:["wss://explorer-rpc-ws.testnet5.stages.humanode.io"]}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"}}}),Wq=h({id:2911,name:"HYCHAIN",nativeCurrency:{name:"HYTOPIA",symbol:"TOPIA",decimals:18},rpcUrls:{default:{http:["https://rpc.hychain.com/http"]}},blockExplorers:{default:{name:"HYCHAIN Explorer",url:"https://explorer.hychain.com"}},testnet:!1}),vq=h({id:29112,name:"HYCHAIN Testnet",nativeCurrency:{name:"HYTOPIA",symbol:"TOPIA",decimals:18},rpcUrls:{default:{http:["https://rpc.hychain.com/http"]}},blockExplorers:{default:{name:"HYCHAIN Explorer",url:"https://testnet-rpc.hychain.com/http"}},testnet:!0}),Eq=h({id:74,name:"IDChain Mainnet",nativeCurrency:{decimals:18,name:"EIDI",symbol:"EIDI"},rpcUrls:{default:{http:["https://idchain.one/rpc"],webSocket:["wss://idchain.one/ws"]}},blockExplorers:{default:{name:"IDChain Explorer",url:"https://explorer.idchain.one"}},testnet:!1}),Xq=h({id:13371,name:"Immutable zkEVM",nativeCurrency:{decimals:18,name:"Immutable Coin",symbol:"IMX"},rpcUrls:{default:{http:["https://rpc.immutable.com"]}},blockExplorers:{default:{name:"Immutable Explorer",url:"https://explorer.immutable.com",apiUrl:"https://explorer.immutable.com/api"}},contracts:{multicall3:{address:"0x236bdA4589e44e6850f5aC6a74BfCa398a86c6c0",blockCreated:4335972}}}),Jq=h({id:13473,name:"Immutable zkEVM Testnet",nativeCurrency:{decimals:18,name:"Immutable Coin",symbol:"IMX"},rpcUrls:{default:{http:["https://rpc.testnet.immutable.com"]}},blockExplorers:{default:{name:"Immutable Testnet Explorer",url:"https://explorer.testnet.immutable.com/"}},contracts:{multicall3:{address:"0x2CC787Ed364600B0222361C4188308Fa8E68bA60",blockCreated:5977391}},testnet:!0}),xq=h({id:2525,name:"inEVM Mainnet",nativeCurrency:{decimals:18,name:"Injective",symbol:"INJ"},rpcUrls:{default:{http:["https://mainnet.rpc.inevm.com/http"]}},blockExplorers:{default:{name:"inEVM Explorer",url:"https://inevm.calderaexplorer.xyz",apiUrl:"https://inevm.calderaexplorer.xyz/api/v2"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:118606}}}),Nq=h({id:7233,name:"InitVerse Mainnet",nativeCurrency:{decimals:18,name:"InitVerse",symbol:"INI"},rpcUrls:{default:{http:["https://rpc-mainnet.inichain.com"]}},blockExplorers:{default:{name:"InitVerseScan",url:"https://www.iniscan.com",apiUrl:"https://explorer-api.inichain.com/api"}},contracts:{multicall3:{address:"0x83466BE48A067115FFF91f7b892Ed1726d032e47",blockCreated:2318}}}),Hq=h({id:7234,name:"InitVerse Genesis Testnet",nativeCurrency:{decimals:18,name:"InitVerse",symbol:"INI"},rpcUrls:{default:{http:["https://rpc-testnet.inichain.com"]}},blockExplorers:{default:{name:"InitVerseGenesisScan",url:"https://genesis-testnet.iniscan.com",apiUrl:"https://explorer-testnet-api.inichain.com/api"}},contracts:{multicall3:{address:"0x0cF32CBDd6c437331EA4f85ed2d881A5379B5a6F",blockCreated:16361}},testnet:!0}),Ap=1,Tq=h({...be,id:57073,name:"Ink",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-gel.inkonchain.com","https://rpc-qnd.inkonchain.com"],webSocket:["wss://rpc-gel.inkonchain.com","wss://rpc-qnd.inkonchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.inkonchain.com",apiUrl:"https://explorer.inkonchain.com/api/v2"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},...be.contracts,disputeGameFactory:{[Ap]:{address:"0x10d7b35078d3baabb96dd45a9143b94be65b12cd"}},portal:{[Ap]:{address:"0x5d66c1782664115999c47c9fa5cd031f495d3e4f"}},l1StandardBridge:{[Ap]:{address:"0x88ff1e5b602916615391f55854588efcbb7663f0"}}},testnet:!1,sourceId:Ap}),yp=11155111,Yq=h({...be,id:763373,name:"Ink Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-gel-sepolia.inkonchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer-sepolia.inkonchain.com/",apiUrl:"https://explorer-sepolia.inkonchain.com/api/v2"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},disputeGameFactory:{[yp]:{address:"0x860e626c700af381133d9f4af31412a2d1db3d5d"}},portal:{[yp]:{address:"0x5c1d29c6c9c8b0800692acc95d700bcb4966a1d7"}},l1StandardBridge:{[yp]:{address:"0x33f60714bbd74d62b66d79213c348614de51901c"}}},testnet:!0,sourceId:yp}),Fq=h({id:8822,name:"IOTA EVM",network:"iotaevm",nativeCurrency:{decimals:18,name:"IOTA",symbol:"IOTA"},rpcUrls:{default:{http:["https://json-rpc.evm.iotaledger.net"],webSocket:["wss://ws.json-rpc.evm.iotaledger.net"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.evm.iota.org",apiUrl:"https://explorer.evm.iota.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:25022}}}),Kq=h({id:1075,name:"IOTA EVM Testnet",network:"iotaevm-testnet",nativeCurrency:{decimals:18,name:"IOTA",symbol:"IOTA"},rpcUrls:{default:{http:["https://json-rpc.evm.testnet.iotaledger.net"],webSocket:["wss://ws.json-rpc.evm.testnet.iotaledger.net"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.evm.testnet.iotaledger.net",apiUrl:"https://explorer.evm.testnet.iotaledger.net/api"}},testnet:!0}),Mq=h({id:4689,name:"IoTeX",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.mainnet.iotex.io"],webSocket:["wss://babel-api.mainnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://iotexscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:22163670}}}),Uq=h({id:4690,name:"IoTeX Testnet",nativeCurrency:{decimals:18,name:"IoTeX",symbol:"IOTX"},rpcUrls:{default:{http:["https://babel-api.testnet.iotex.io"],webSocket:["wss://babel-api.testnet.iotex.io"]}},blockExplorers:{default:{name:"IoTeXScan",url:"https://testnet.iotexscan.io"}},contracts:{multicall3:{address:"0xb5cecD6894c6f473Ec726A176f1512399A2e355d",blockCreated:24347592}},testnet:!0}),Dq=h({id:8017,name:"iSunCoin Mainnet",nativeCurrency:{decimals:18,name:"ISC",symbol:"ISC"},rpcUrls:{default:{http:["https://mainnet.isuncoin.com"]}},blockExplorers:{default:{name:"iSunCoin Explorer",url:"https://baifa.io/app/chains/8017"}}}),Lq=h({id:8899,name:"JB Chain",network:"jbc",nativeCurrency:{name:"JBC",symbol:"JBC",decimals:18},rpcUrls:{default:{http:["https://rpc-l1.jibchain.net"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp-l1.jibchain.net",apiUrl:"https://exp-l1.jibchain.net/api"}},contracts:{multicall3:{address:"0xc0C8C486D1466C57Efe13C2bf000d4c56F47CBdC",blockCreated:2299048}},testnet:!1}),zq=h({id:88991,name:"Jibchain Testnet",nativeCurrency:{name:"tJBC",symbol:"tJBC",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.jibchain.net"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp.testnet.jibchain.net",apiUrl:"https://exp.testnet.jibchain.net/api"}},contracts:{multicall3:{address:"0xa1a858ad9041B4741e620355a3F96B3c78e70ecE",blockCreated:32848}},testnet:!0}),Qq=h({id:45003,name:"Juneo JUNE-Chain",nativeCurrency:{decimals:18,name:"JUNE-Chain",symbol:"JUNE"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/JUNE/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/2",apiUrl:"https://juneoscan.io/chain/2/api"}}}),Pq=h({id:45013,name:"Juneo BCH1-Chain",nativeCurrency:{decimals:18,name:"Juneo BCH1-Chain",symbol:"BCH1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/BCH1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/12",apiUrl:"https://juneoscan.io/chain/12/api"}}}),Oq=h({id:45004,name:"Juneo DAI1-Chain",nativeCurrency:{decimals:18,name:"Juneo DAI1-Chain",symbol:"DAI1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/DAI1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/5",apiUrl:"https://juneoscan.io/chain/5/api"}}}),jq=h({id:45010,name:"Juneo DOGE1-Chain",nativeCurrency:{decimals:18,name:"Juneo DOGE1-Chain",symbol:"DOGE1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/DOGE1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/10",apiUrl:"https://juneoscan.io/chain/10/api"}}}),_q=h({id:45011,name:"Juneo EUR1-Chain",nativeCurrency:{decimals:18,name:"Juneo EUR1-Chain",symbol:"EUR1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/EUR1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/6",apiUrl:"https://juneoscan.io/chain/6/api"}}}),$q=h({id:45008,name:"Juneo GLD1-Chain",nativeCurrency:{decimals:18,name:"Juneo GLD1-Chain",symbol:"GLD1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/GLD1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/8",apiUrl:"https://juneoscan.io/chain/8/api"}}}),qq=h({id:45014,name:"Juneo LINK1-Chain",nativeCurrency:{decimals:18,name:"Juneo LINK1-Chain",symbol:"LINK1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/LINK1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/13",apiUrl:"https://juneoscan.io/chain/13/api"}}}),eee=h({id:45009,name:"Juneo LTC1-Chain",nativeCurrency:{decimals:18,name:"Juneo LTC1-Chain",symbol:"LTC1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/LTC1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/11",apiUrl:"https://juneoscan.io/chain/11/api"}}}),tee=h({id:45007,name:"Juneo mBTC1-Chain",nativeCurrency:{decimals:18,name:"Juneo mBTC1-Chain",symbol:"mBTC1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/mBTC1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/9",apiUrl:"https://juneoscan.io/chain/9/api"}}}),nee=h({id:45012,name:"Juneo SGD1-Chain",nativeCurrency:{decimals:18,name:"Juneo SGD1-Chain",symbol:"SGD1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/SGD1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/7",apiUrl:"https://juneoscan.io/chain/7/api"}}}),aee=h({id:101003,name:"Socotra JUNE-Chain",nativeCurrency:{decimals:18,name:"Socotra JUNE-Chain",symbol:"JUNE"},rpcUrls:{default:{http:["https://rpc.socotra-testnet.network/ext/bc/JUNE/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://socotra.juneoscan.io/chain/2",apiUrl:"https://socotra.juneoscan.io/chain/2/api"}},testnet:!0}),see=h({id:45006,name:"Juneo USD1-Chain",nativeCurrency:{decimals:18,name:"Juneo USD1-Chain",symbol:"USD1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/USD1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/4",apiUrl:"https://juneoscan.io/chain/4/api"}}}),iee=h({id:45005,name:"Juneo USDT1-Chain",nativeCurrency:{decimals:18,name:"Juneo USDT1-Chain",symbol:"USDT1"},rpcUrls:{default:{http:["https://rpc.juneo-mainnet.network/ext/bc/USDT1/rpc"]}},blockExplorers:{default:{name:"Juneo Scan",url:"https://juneoscan.io/chain/3",apiUrl:"https://juneoscan.io/chain/3/api"}}}),ree=h({id:686,name:"Karura",network:"karura",nativeCurrency:{name:"Karura",symbol:"KAR",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-karura.aca-api.network"],webSocket:["wss://eth-rpc-karura.aca-api.network"]}},blockExplorers:{default:{name:"Karura Blockscout",url:"https://blockscout.karura.network",apiUrl:"https://blockscout.karura.network/api"}},testnet:!1}),oee=h({id:1802203764,name:"Kakarot Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rpc.kakarot.org"]}},blockExplorers:{default:{name:"Kakarot Scan",url:"https://sepolia.kakarotscan.org"}},testnet:!0}),lee=h({id:920637907288165,name:"Kakarot Starknet Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rpc.kakarot.org"]}},blockExplorers:{default:{name:"Kakarot Scan",url:"https://sepolia.kakarotscan.org"}},testnet:!0}),cee=h({id:24,name:"KardiaChain Mainnet",nativeCurrency:{name:"KAI",symbol:"KAI",decimals:18},rpcUrls:{default:{http:["https://rpc.kardiachain.io"]}},blockExplorers:{default:{name:"KardiaChain Explorer",url:"https://explorer.kardiachain.io"}},testnet:!1}),gee=h({id:2222,name:"Kava EVM",network:"kava-mainnet",nativeCurrency:{name:"Kava",symbol:"KAVA",decimals:18},rpcUrls:{default:{http:["https://evm.kava.io"]}},blockExplorers:{default:{name:"Kava EVM Explorer",url:"https://kavascan.com",apiUrl:"https://kavascan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3661165}},testnet:!1}),dee=h({id:2221,name:"Kava EVM Testnet",network:"kava-testnet",nativeCurrency:{name:"Kava",symbol:"KAVA",decimals:18},rpcUrls:{default:{http:["https://evm.testnet.kava.io"]}},blockExplorers:{default:{name:"Kava EVM Testnet Explorer",url:"https://testnet.kavascan.com/",apiUrl:"https://testnet.kavascan.com/api"}},contracts:{multicall3:{address:"0xDf1D724A7166261eEB015418fe8c7679BBEa7fd6",blockCreated:7242179}},testnet:!0}),Iee=h({id:321,name:"KCC Mainnet",network:"KCC Mainnet",nativeCurrency:{decimals:18,name:"KCS",symbol:"KCS"},rpcUrls:{default:{http:["https://kcc-rpc.com"]}},blockExplorers:{default:{name:"KCC Explorer",url:"https://explorer.kcc.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11760430}},testnet:!1}),uee=h({id:7887,name:"Kinto Mainnet",network:"Kinto Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.kinto.xyz/http"]}},blockExplorers:{default:{name:"Kinto Explorer",url:"https://explorer.kinto.xyz"}},testnet:!1}),Cee=h({id:8217,name:"Klaytn",nativeCurrency:{decimals:18,name:"Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-cypress.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://scope.klaytn.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),pee=h({id:8217,name:"Kaia",nativeCurrency:{decimals:18,name:"Kaia",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kaiascan.io",apiUrl:"https://api-cypress.klaytnscope.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:96002415}}}),mee=h({id:1001,name:"Kairos Testnet",network:"kairos",nativeCurrency:{decimals:18,name:"Kairos KAIA",symbol:"KAIA"},rpcUrls:{default:{http:["https://public-en-kairos.node.kaia.io"]}},blockExplorers:{default:{name:"KaiaScan",url:"https://kairos.kaiascan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:123390593}},testnet:!0}),Aee=h({id:1001,name:"Klaytn Baobab Testnet",network:"klaytn-baobab",nativeCurrency:{decimals:18,name:"Baobab Klaytn",symbol:"KLAY"},rpcUrls:{default:{http:["https://public-en-baobab.klaytn.net"]}},blockExplorers:{default:{name:"KlaytnScope",url:"https://baobab.klaytnscope.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:123390593}},testnet:!0}),yee=h({id:701,name:"Koi Network",nativeCurrency:{decimals:18,name:"Koi Network Native Token",symbol:"KRING"},rpcUrls:{default:{http:["https://koi-rpc.darwinia.network"],webSocket:["wss://koi-rpc.darwinia.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://koi-scan.darwinia.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:180001}},testnet:!0}),bee=h({id:255,name:"Kroma",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://api.kroma.network"]}},blockExplorers:{default:{name:"Kroma Explorer",url:"https://blockscout.kroma.network",apiUrl:"https://blockscout.kroma.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:16054868}},testnet:!1}),hee=h({id:2358,name:"Kroma Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://api.sepolia.kroma.network"]}},blockExplorers:{default:{name:"Kroma Sepolia Explorer",url:"https://blockscout.sepolia.kroma.network",apiUrl:"https://blockscout.sepolia.kroma.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:8900914}},testnet:!0}),fee=h({id:12324,name:"L3X Protocol",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet.l3x.com"],webSocket:["wss://rpc-mainnet.l3x.com"]}},blockExplorers:{default:{name:"L3X Mainnet Explorer",url:"https://explorer.l3x.com",apiUrl:"https://explorer.l3x.com/api/v2"}},testnet:!1}),Zee=h({id:12325,name:"L3X Protocol Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.l3x.com"],webSocket:["wss://rpc-testnet.l3x.com"]}},blockExplorers:{default:{name:"L3X Testnet Explorer",url:"https://explorer-testnet.l3x.com",apiUrl:"https://explorer-testnet.l3x.com/api/v2"}},testnet:!0}),Gee=h({id:360890,name:"LAVITA Mainnet",nativeCurrency:{name:"vTFUEL",symbol:"vTFUEL",decimals:18},rpcUrls:{default:{http:["https://tsub360890-eth-rpc.thetatoken.org/rpc"]}},blockExplorers:{default:{name:"LAVITA Explorer",url:"https://tsub360890-explorer.thetatoken.org"}},testnet:!1}),Bee=h({id:232,name:"Lens",nativeCurrency:{name:"GHO",symbol:"GHO",decimals:18},rpcUrls:{default:{http:["https://rpc.lens.xyz"]}},blockExplorers:{default:{name:"Lens Block Explorer",url:"https://explorer.lens.xyz",apiUrl:"https://explorer.lens.xyz/api"}}}),See=h({id:37111,name:"Lens Testnet",nativeCurrency:{name:"GRASS",symbol:"GRASS",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.lens.dev"],webSocket:["wss://rpc.testnet.lens.dev/ws"]}},blockExplorers:{default:{name:"Lens Block Explorer",url:"https://block-explorer.testnet.lens.dev",apiUrl:"https://block-explorer-api.staging.lens.dev/api"}},testnet:!0}),wee=h({id:21363,name:"Lestnet",nativeCurrency:{name:"Lestnet Ether",symbol:"LETH",decimals:18},rpcUrls:{default:{http:["https://service.lestnet.org"]}},blockExplorers:{default:{name:"Lestnet Explorer",url:"https://explore.lestnet.org"}},testnet:!0}),kee=h({id:1891,name:"LightLink Pegasus Testnet",network:"lightlink-pegasus",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://replicator.pegasus.lightlink.io/rpc/v1"]}},blockExplorers:{default:{name:"LightLink Pegasus Explorer",url:"https://pegasus.lightlink.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:127188532}},testnet:!0}),Vee=h({id:1890,name:"LightLink Phoenix Mainnet",network:"lightlink-phoenix",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://replicator.phoenix.lightlink.io/rpc/v1"]}},blockExplorers:{default:{name:"LightLink Phoenix Explorer",url:"https://phoenix.lightlink.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:125499184}},testnet:!1});async function Ree(t,e){var s,r,l;const{account:n=t.account}=e;if(!n)throw new Qi;const a=Mt(n);try{const{accessList:g,blockNumber:c,blockTag:u,data:d,gas:p,gasPrice:A,maxFeePerGas:G,maxPriorityFeePerGas:w,nonce:Z,to:V,value:W,...D}=e,Y=(typeof c=="bigint"?Ee(c):void 0)||u;to(e);const z=(l=(r=(s=t.chain)==null?void 0:s.formatters)==null?void 0:r.transactionRequest)==null?void 0:l.format,P=(z||eo)({...ku(D,{format:z}),from:a==null?void 0:a.address,accessList:g,data:d,gas:p,gasPrice:A,maxFeePerGas:G,maxPriorityFeePerGas:w,nonce:Z,to:V,value:W}),{baseFeePerGas:_,gasLimit:re,priorityFeePerGas:ce}=await t.request({method:"linea_estimateGas",params:Y?[P,Y]:[P]});return{baseFeePerGas:BigInt(_),gasLimit:BigInt(re),priorityFeePerGas:BigInt(ce)}}catch(g){throw jf(g,{...e,account:a,chain:t.chain})}}const k2={fees:{estimateFeesPerGas:c3,async maxPriorityFeePerGas({block:t,client:e,request:n}){const a=await c3({block:t,client:e,multiply:s=>s,request:n,type:"eip1559"});return a!=null&&a.maxPriorityFeePerGas?a.maxPriorityFeePerGas:null}}};async function c3({client:t,multiply:e,request:n,type:a}){try{const s=await Ree(t,{...n,account:n==null?void 0:n.account}),{priorityFeePerGas:r}=s,g=e(BigInt(s.baseFeePerGas))+r;return a==="legacy"?{gasPrice:g}:{maxFeePerGas:g,maxPriorityFeePerGas:r}}catch{return null}}const Wee=h({...k2,id:59144,name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build",apiUrl:"https://api.lineascan.build/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:42},ensRegistry:{address:"0x50130b669B28C339991d8676FA73CF122a121267",blockCreated:6682888},ensUniversalResolver:{address:"0x3aA974fb3f8C1E02796048BDCdeD79e9D53a6965",blockCreated:6683e3}},ensTlds:[".linea.eth"],testnet:!1}),vee=h({id:59140,name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build",apiUrl:"https://api-goerli.lineascan.build/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:498623}},testnet:!0}),Eee=h({...k2,id:59141,name:"Linea Sepolia Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia.linea.build"],webSocket:["wss://rpc.sepolia.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.lineascan.build",apiUrl:"https://api-sepolia.lineascan.build/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:227427},ensRegistry:{address:"0x5B2636F0f2137B4aE722C01dd5122D7d3e9541f7",blockCreated:2395094},ensUniversalResolver:{address:"0x72560a31B3DAEE82B984a7F51c6b3b1bb7CC9F50",blockCreated:2395255}},ensTlds:[".linea.eth"],testnet:!0}),Xee=h({id:59140,name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build",apiUrl:"https://goerli.lineascan.build/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:498623}},testnet:!0}),bp=1,Jee=h({...be,id:1135,name:"Lisk",network:"lisk",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.api.lisk.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://blockscout.lisk.com",apiUrl:"https://blockscout.lisk.com/api"}},contracts:{...be.contracts,multicall3:{address:"0xA9d71E1dd7ca26F26e656E66d6AA81ed7f745bf0"},l2OutputOracle:{[bp]:{address:"0x113cB99283AF242Da0A0C54347667edF531Aa7d6"}},portal:{[bp]:{address:"0x26dB93F8b8b4f7016240af62F7730979d353f9A7"}},l1StandardBridge:{[bp]:{address:"0x2658723Bf70c7667De6B25F99fcce13A16D25d08"}}},sourceId:bp}),hp=11155111,xee=h({...be,id:4202,network:"lisk-sepolia",name:"Lisk Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.sepolia-api.lisk.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-blockscout.lisk.com",apiUrl:"https://sepolia-blockscout.lisk.com/api"}},contracts:{...be.contracts,l2OutputOracle:{[hp]:{address:"0xA0E35F56C318DE1bD5D9ca6A94Fe7e37C5663348"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[hp]:{address:"0xe3d90F21490686Ec7eF37BE788E02dfC12787264"}},l1StandardBridge:{[hp]:{address:"0x1Fb30e446eA791cd1f011675E5F3f5311b70faF5"}}},testnet:!0,sourceId:hp}),Nee=h({id:1337,name:"Localhost",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["http://127.0.0.1:8545"]}}}),Hee=h({id:15551,name:"LoopNetwork Mainnet",nativeCurrency:{name:"LOOP",symbol:"LOOP",decimals:18},rpcUrls:{default:{http:["https://api.mainnetloop.com"]}},blockExplorers:{default:{name:"LoopNetwork Blockchain Explorer",url:"https://explorer.mainnetloop.com/"}},testnet:!1}),Tee=h({id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network",apiUrl:"https://api.explorer.execution.mainnet.lukso.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:468183}}}),Yee=h({id:4201,name:"LUKSO Testnet",nativeCurrency:{decimals:18,name:"LUKSO Testnet",symbol:"LYXt"},rpcUrls:{default:{http:["https://rpc.testnet.lukso.network"],webSocket:["wss://ws-rpc.testnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Testnet Explorer",url:"https://explorer.execution.testnet.lukso.network",apiUrl:"https://api.explorer.execution.testnet.lukso.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:605348}},testnet:!0}),Fee=h({id:994873017,name:"Lumia Mainnet",network:"LumiaMainnet",nativeCurrency:{name:"Lumia",symbol:"LUMIA",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.lumia.org"]}},blockExplorers:{default:{name:"Lumia Explorer",url:"https://explorer.lumia.org/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3975939}},testnet:!1}),Kee=h({id:1952959480,name:"Lumia Testnet",network:"LumiaTestnet",nativeCurrency:{name:"Lumia",symbol:"LUMIA",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.lumia.org"]}},blockExplorers:{default:{name:"Lumia Testnet Explorer",url:"https://testnet-explorer.lumia.org/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2235063}},testnet:!0}),Mee=h({id:96370,name:"Lumoz",nativeCurrency:{decimals:18,name:"Lumoz Token",symbol:"MOZ"},rpcUrls:{default:{http:["https://rpc.lumoz.org"]}},blockExplorers:{default:{name:"Lumoz Scan",url:"https://scan.lumoz.info"}},testnet:!1}),Uee=h({id:105363,name:"Lumoz Testnet",nativeCurrency:{decimals:18,name:"Lumoz Testnet Token",symbol:"MOZ"},rpcUrls:{default:{http:["https://testnet-rpc.lumoz.org"]}},testnet:!0}),Dee=h({id:721,name:"Lycan",nativeCurrency:{decimals:18,name:"Lycan",symbol:"LYC"},rpcUrls:{default:{http:["https://rpc.lycanchain.com","https://us-east.lycanchain.com","https://us-west.lycanchain.com","https://eu-north.lycanchain.com","https://eu-west.lycanchain.com","https://asia-southeast.lycanchain.com"],webSocket:["wss://rpc.lycanchain.com","wss://us-east.lycanchain.com","wss://us-west.lycanchain.com","wss://eu-north.lycanchain.com","wss://eu-west.lycanchain.com","wss://asia-southeast.lycanchain.com"]}},blockExplorers:{default:{name:"Lycan Explorer",url:"https://explorer.lycanchain.com"}}}),Lee=h({id:957,name:"Lyra Chain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.lyra.finance"]}},blockExplorers:{default:{name:"Lyra Explorer",url:"https://explorer.lyra.finance",apiUrl:"https://explorer.lyra.finance/api/v2"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1935198}}}),zee=h({id:1,name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://eth.merkle.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://etherscan.io",apiUrl:"https://api.etherscan.io/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xce01f8eee7E479C928F8919abD53E553a36CeF67",blockCreated:19258213},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Qee=h({id:595,name:"Mandala TC9",network:"mandala",nativeCurrency:{name:"Mandala",symbol:"mACA",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-tc9.aca-staging.network"],webSocket:["wss://eth-rpc-tc9.aca-staging.network"]}},blockExplorers:{default:{name:"Mandala Blockscout",url:"https://blockscout.mandala.aca-staging.network",apiUrl:"https://blockscout.mandala.aca-staging.network/api"}},testnet:!0}),Pee=h({id:169,name:"Manta Pacific Mainnet",network:"manta",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://pacific-rpc.manta.network/http"]}},blockExplorers:{default:{name:"Manta Explorer",url:"https://pacific-explorer.manta.network",apiUrl:"https://pacific-explorer.manta.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:332890}}}),Oee=h({id:3441006,name:"Manta Pacific Sepolia Testnet",network:"manta-sepolia",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://pacific-rpc.sepolia-testnet.manta.network/http"]}},blockExplorers:{default:{name:"Manta Sepolia Testnet Explorer",url:"https://pacific-explorer.sepolia-testnet.manta.network",apiUrl:"https://pacific-explorer.sepolia-testnet.manta.network/api"}},contracts:{multicall3:{address:"0xca54918f7B525C8df894668846506767412b53E3",blockCreated:479584}},testnet:!0}),jee=h({id:3441005,name:"Manta Pacific Testnet",network:"manta-testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://manta-testnet.calderachain.xyz/http"]}},blockExplorers:{default:{name:"Manta Testnet Explorer",url:"https://pacific-explorer.testnet.manta.network",apiUrl:"https://pacific-explorer.testnet.manta.network/api"}},contracts:{multicall3:{address:"0x211B1643b95Fe76f11eD8880EE810ABD9A4cf56C",blockCreated:419915}},testnet:!0}),_ee=h({id:5e3,name:"Mantle",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Explorer",url:"https://mantlescan.xyz/",apiUrl:"https://api.mantlescan.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:304717}}}),$ee=h({id:5003,name:"Mantle Sepolia Testnet",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.sepolia.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Testnet Explorer",url:"https://explorer.sepolia.mantle.xyz/",apiUrl:"https://explorer.sepolia.mantle.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4584012}},testnet:!0}),qee=h({id:5001,name:"Mantle Testnet",nativeCurrency:{decimals:18,name:"MNT",symbol:"MNT"},rpcUrls:{default:{http:["https://rpc.testnet.mantle.xyz"]}},blockExplorers:{default:{name:"Mantle Testnet Explorer",url:"https://explorer.testnet.mantle.xyz",apiUrl:"https://explorer.testnet.mantle.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:561333}},testnet:!0}),ete=h({id:22776,name:"MAP Protocol",nativeCurrency:{decimals:18,name:"MAPO",symbol:"MAPO"},rpcUrls:{default:{http:["https://rpc.maplabs.io"]}},blockExplorers:{default:{name:"MAPO Scan",url:"https://maposcan.io"}},testnet:!1}),tte=h({id:698,name:"Matchain",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://rpc.matchain.io"]}},blockExplorers:{default:{name:"Matchain Scan",url:"https://matchscan.io"}}}),nte=h({id:699,name:"Matchain Testnet",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.matchain.io"]}},blockExplorers:{default:{name:"Matchain Scan",url:"https://testnet.matchscan.io"}},testnet:!0}),ate=h({id:29548,name:"MCH Verse",nativeCurrency:{name:"Oasys",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.oasys.mycryptoheroes.net"]}},blockExplorers:{default:{name:"MCH Verse Explorer",url:"https://explorer.oasys.mycryptoheroes.net",apiUrl:"https://explorer.oasys.mycryptoheroes.net/api"}},testnet:!1}),ste=h({id:6342,name:"MegaETH Testnet",nativeCurrency:{name:"MegaETH Testnet Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://carrot.megaeth.com/rpc"],webSocket:["wss://carrot.megaeth.com/ws"]}},blockExplorers:{default:{name:"MegaETH Testnet Explorer",url:"https://www.megaexplorer.xyz/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},testnet:!0}),ite=h({id:7078815900,name:"Mekong Pectra Devnet",nativeCurrency:{name:"eth",symbol:"eth",decimals:18},rpcUrls:{default:{http:["https://rpc.mekong.ethpandaops.io"]}},blockExplorers:{default:{name:"Block Explorer",url:"https://explorer.mekong.ethpandaops.io"}},testnet:!0}),rte=h({id:333000333,name:"Meld",nativeCurrency:{decimals:18,name:"Meld",symbol:"MELD"},rpcUrls:{default:{http:["https://rpc-1.meld.com"]}},blockExplorers:{default:{name:"MELDscan",url:"https://meldscan.io"}},contracts:{multicall3:{address:"0x769ee5a8e82c15c1b6e358f62ac8eb6e3abe8dc5",blockCreated:360069}}}),ote=h({id:4352,name:"MemeCore",nativeCurrency:{decimals:18,name:"M",symbol:"M"},rpcUrls:{default:{http:["https://rpc.memecore.net"],webSocket:["wss://ws.memecore.net"]}},blockExplorers:{default:{name:"MemeCore Explorer",url:"https://memecorescan.io",apiUrl:"https://api.memecorescan.io/api"},okx:{name:"MemeCore Explorer",url:"https://web3.okx.com/explorer/memecore"},memecore:{name:"MemeCore Explorer",url:"https://blockscout.memecore.com",apiUrl:"https://blockscout.memecore.com/api"}}}),lte=h({id:4200,name:"Merlin",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://rpc.merlinchain.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://scan.merlinchain.io",apiUrl:"https://scan.merlinchain.io/api"}}}),cte=h({id:4203,name:"Merlin Erigon Testnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://testnet-erigon-rpc.merlinchain.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://testnet-erigon-scan.merlinchain.io",apiUrl:"https://testnet-erigon-scan.merlinchain.io/api"}},testnet:!0}),gte=h({id:571,name:"MetaChain Mainnet",nativeCurrency:{name:"Metatime Coin",symbol:"MTC",decimals:18},rpcUrls:{default:{http:["https://rpc.metatime.com"]}},blockExplorers:{default:{name:"MetaExplorer",url:"https://explorer.metatime.com"}},contracts:{multicall3:{address:"0x0000000000000000000000000000000000003001",blockCreated:0}}}),dte=h({id:1453,name:"MetaChain Istanbul",nativeCurrency:{name:"Metatime Coin",symbol:"MTC",decimals:18},rpcUrls:{default:{http:["https://istanbul-rpc.metachain.dev"]}},blockExplorers:{default:{name:"MetaExplorer",url:"https://istanbul-explorer.metachain.dev"}},contracts:{multicall3:{address:"0x0000000000000000000000000000000000003001",blockCreated:0}},testnet:!0}),Ite=h({id:11,name:"Metadium Network",nativeCurrency:{decimals:18,name:"META",symbol:"META"},rpcUrls:{default:{http:["https://api.metadium.com/prod"]}},blockExplorers:{default:{name:"Metadium Explorer",url:"https://explorer.metadium.com"}},testnet:!1}),fp=1,ute=h({...be,id:1750,name:"Metal L2",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.metall2.com"],webSocket:["wss://rpc.metall2.com"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.metall2.com",apiUrl:"https://explorer.metall2.com/api"}},contracts:{...be.contracts,l2OutputOracle:{[fp]:{address:"0x3B1F7aDa0Fcc26B13515af752Dd07fB1CAc11426"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0},portal:{[fp]:{address:"0x3F37aBdE2C6b5B2ed6F8045787Df1ED1E3753956"}},l1StandardBridge:{[fp]:{address:"0x6d0f65D59b55B0FEC5d2d15365154DcADC140BF3"}}},sourceId:fp}),Cte=h({id:82,name:"Meter",nativeCurrency:{decimals:18,name:"MTR",symbol:"MTR"},rpcUrls:{default:{http:["https://rpc.meter.io"]}},blockExplorers:{default:{name:"MeterScan",url:"https://scan.meter.io"}}}),pte=h({id:83,name:"Meter Testnet",nativeCurrency:{decimals:18,name:"MTR",symbol:"MTR"},rpcUrls:{default:{http:["https://rpctest.meter.io"]}},blockExplorers:{default:{name:"MeterTestnetScan",url:"https://scan-warringstakes.meter.io"}}}),mte=h({id:1088,name:"Metis",nativeCurrency:{decimals:18,name:"Metis",symbol:"METIS"},rpcUrls:{default:{http:["https://metis.rpc.hypersync.xyz","https://metis-pokt.nodies.app","https://api.blockeden.xyz/metis/67nCBdZQSH9z3YqDDjdm","https://metis-andromeda.rpc.thirdweb.com","https://metis-andromeda.gateway.tenderly.co","https://metis.api.onfinality.io/public","https://andromeda.metis.io/?owner=1088","https://metis-mainnet.public.blastapi.io"],webSocket:["wss://metis-rpc.publicnode.com","wss://metis.drpc.org"]}},blockExplorers:{default:{name:"Metis Explorer",url:"https://explorer.metis.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/1088/etherscan/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2338552}}}),Ate=h({id:59902,name:"Metis Sepolia",nativeCurrency:{decimals:18,name:"Test Metis",symbol:"tMETIS"},rpcUrls:{default:{http:["https://sepolia.metisdevops.link","https://metis-sepolia-rpc.publicnode.com","https://metis-sepolia.gateway.tenderly.co"],webSocket:["wss://metis-sepolia-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Metis Sepolia Explorer",url:"https://sepolia-explorer.metisdevops.link",apiUrl:"https://sepolia-explorer.metisdevops.link/api-docs"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:224185}}}),yte=h({id:599,name:"Metis Goerli",nativeCurrency:{decimals:18,name:"Metis Goerli",symbol:"METIS"},rpcUrls:{default:{http:["https://goerli.gateway.metisdevops.link"]}},blockExplorers:{default:{name:"Metis Goerli Explorer",url:"https://goerli.explorer.metisdevops.link",apiUrl:"https://goerli.explorer.metisdevops.link/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1006207}}}),bte=h({id:7518,name:"MEVerse Chain Mainnet",nativeCurrency:{decimals:18,name:"MEVerse",symbol:"MEV"},rpcUrls:{default:{http:["https://rpc.meversemainnet.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://www.meversescan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:86881340}}}),hte=h({id:4759,name:"MEVerse Chain Testnet",nativeCurrency:{decimals:18,name:"MEVerse",symbol:"MEV"},rpcUrls:{default:{http:["https://rpc.meversetestnet.io"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.meversescan.io/"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:64371115}},testnet:!0}),fte=h({id:185,name:"Mint Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.mintchain.io"]}},blockExplorers:{default:{name:"Mintchain explorer",url:"https://explorer.mintchain.io"}},testnet:!1}),Zte=h({id:1686,name:"Mint Sepolia Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.mintchain.io"]}},blockExplorers:{default:{name:"Mintchain Testnet explorer",url:"https://testnet-explorer.mintchain.io"}},testnet:!0}),Gte=h({id:124832,name:"Mitosis Testnet",nativeCurrency:{name:"MITO",symbol:"MITO",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.mitosis.org"]}},blockExplorers:{default:{name:"Mitosis testnet explorer",url:"https://testnet.mitosiscan.xyz"}},testnet:!0}),Zp=1,Bte=h({...be,id:34443,name:"Mode Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.mode.network"]}},blockExplorers:{default:{name:"Modescan",url:"https://modescan.io"}},contracts:{...be.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:2465882},l2OutputOracle:{[Zp]:{address:"0x4317ba146D4933D889518a3e5E11Fe7a53199b04"}},portal:{[Zp]:{address:"0x8B34b14c7c7123459Cf3076b8Cb929BE097d0C07"}},l1StandardBridge:{[Zp]:{address:"0x735aDBbE72226BD52e818E7181953f42E3b0FF21"}}},sourceId:Zp}),Gp=11155111,Ste=h({...be,id:919,name:"Mode Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.mode.network"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia.explorer.mode.network",apiUrl:"https://sepolia.explorer.mode.network/api"}},contracts:{...be.contracts,l2OutputOracle:{[Gp]:{address:"0x2634BD65ba27AB63811c74A63118ACb312701Bfa",blockCreated:3778393}},portal:{[Gp]:{address:"0x320e1580effF37E008F1C92700d1eBa47c1B23fD",blockCreated:3778395}},l1StandardBridge:{[Gp]:{address:"0xbC5C679879B2965296756CD959C3C739769995E2",blockCreated:3778392}},multicall3:{address:"0xBAba8373113Fb7a68f195deF18732e01aF8eDfCF",blockCreated:3019007}},testnet:!0,sourceId:Gp}),wte=h({id:10143,name:"Monad Testnet",nativeCurrency:{name:"Testnet MON Token",symbol:"MON",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.monad.xyz"]}},blockExplorers:{default:{name:"Monad Testnet explorer",url:"https://testnet.monadexplorer.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:251449}},testnet:!0}),kte=h({id:1287,name:"Moonbase Alpha",nativeCurrency:{decimals:18,name:"DEV",symbol:"DEV"},rpcUrls:{default:{http:["https://rpc.api.moonbase.moonbeam.network"],webSocket:["wss://wss.api.moonbase.moonbeam.network"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonbase.moonscan.io",apiUrl:"https://moonbase.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1850686}},testnet:!0}),Vte=h({id:1284,name:"Moonbeam",nativeCurrency:{decimals:18,name:"GLMR",symbol:"GLMR"},rpcUrls:{default:{http:["https://moonbeam.public.blastapi.io"],webSocket:["wss://moonbeam.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonscan.io",apiUrl:"https://api-moonbeam.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:609002}},testnet:!1}),Rte=h({id:1281,name:"Moonbeam Development Node",nativeCurrency:{decimals:18,name:"DEV",symbol:"DEV"},rpcUrls:{default:{http:["http://127.0.0.1:9944"],webSocket:["wss://127.0.0.1:9944"]}}}),Wte=h({id:1285,name:"Moonriver",nativeCurrency:{decimals:18,name:"MOVR",symbol:"MOVR"},rpcUrls:{default:{http:["https://moonriver.public.blastapi.io"],webSocket:["wss://moonriver.public.blastapi.io"]}},blockExplorers:{default:{name:"Moonscan",url:"https://moonriver.moonscan.io",apiUrl:"https://api-moonriver.moonscan.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1597904}},testnet:!1}),vte=h({id:2818,name:"Morph",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.morphl2.io"],webSocket:["wss://rpc.morphl2.io:8443"]}},blockExplorers:{default:{name:"Morph Explorer",url:"https://explorer.morphl2.io"}},testnet:!1}),Ete=h({id:2810,name:"Morph Holesky",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-quicknode-holesky.morphl2.io"],webSocket:["wss://rpc-quicknode-holesky.morphl2.io"]}},blockExplorers:{default:{name:"Morph Holesky Explorer",url:"https://explorer-holesky.morphl2.io",apiUrl:"https://explorer-api-holesky.morphl2.io/api?"}},testnet:!0}),Xte=h({id:2710,name:"Morph Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.morphl2.io"]}},blockExplorers:{default:{name:"Morph Testnet Explorer",url:"https://explorer-testnet.morphl2.io",apiUrl:"https://explorer-api-testnet.morphl2.io/api"}},testnet:!0}),Jte=h({id:5551,name:"Nahmii 2 Mainnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://l2.nahmii.io"]}},blockExplorers:{default:{name:"Nahmii 2 Explorer",url:"https://explorer.n2.nahmii.io"}},testnet:!1}),xte=h({id:22222,name:"Nautilus Mainnet",nativeCurrency:{name:"ZBC",symbol:"ZBC",decimals:9},rpcUrls:{default:{http:["https://api.nautilus.nautchain.xyz"]}},blockExplorers:{default:{name:"NautScan",url:"https://nautscan.com"}}}),Nte=h({id:397,name:"NEAR Protocol",nativeCurrency:{decimals:18,name:"NEAR",symbol:"NEAR"},rpcUrls:{default:{http:["https://eth-rpc.mainnet.near.org"]}},blockExplorers:{default:{name:"NEAR Explorer",url:"https://eth-explorer.near.org"}},testnet:!1}),Hte=h({id:398,name:"NEAR Protocol Testnet",nativeCurrency:{decimals:18,name:"NEAR",symbol:"NEAR"},rpcUrls:{default:{http:["https://eth-rpc.testnet.near.org"]}},blockExplorers:{default:{name:"NEAR Explorer",url:"https://eth-explorer-testnet.near.org"}},testnet:!0}),Tte=h({id:245022926,name:"Neon EVM DevNet",nativeCurrency:{name:"NEON",symbol:"NEON",decimals:18},rpcUrls:{default:{http:["https://devnet.neonevm.org"]}},blockExplorers:{default:{name:"Neonscan",url:"https://devnet.neonscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:205206112}},testnet:!0}),Yte=h({id:245022934,network:"neonMainnet",name:"Neon EVM MainNet",nativeCurrency:{name:"NEON",symbol:"NEON",decimals:18},rpcUrls:{default:{http:["https://neon-proxy-mainnet.solana.p2p.org"]}},blockExplorers:{default:{name:"Neonscan",url:"https://neonscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:206545524}},testnet:!1}),Fte=h({id:47763,name:"Neo X Mainnet",nativeCurrency:{name:"Gas",symbol:"GAS",decimals:18},rpcUrls:{default:{http:["https://mainnet-1.rpc.banelabs.org","https://mainnet-2.rpc.banelabs.org"]}},blockExplorers:{default:{name:"Neo X - Explorer",url:"https://xexplorer.neo.org"}},testnet:!1}),Kte=h({id:12227332,name:"Neo X Testnet T4",nativeCurrency:{name:"Gas",symbol:"GAS",decimals:18},rpcUrls:{default:{http:["https://testnet.rpc.banelabs.org/"]}},blockExplorers:{default:{name:"neox-scan",url:"https://xt4scan.ngd.network"}},testnet:!0}),Mte=h({id:1012,name:"Newton",nativeCurrency:{name:"Newton",symbol:"NEW",decimals:18},rpcUrls:{default:{http:["https://global.rpc.mainnet.newtonproject.org"]}},blockExplorers:{default:{name:"NewFi explorer",url:"https://explorer.newtonproject.org/"}},testnet:!1}),Ute=h({id:4242,name:"Nexi",nativeCurrency:{name:"Nexi",symbol:"NEXI",decimals:18},rpcUrls:{default:{http:["https://rpc.chain.nexi.technology"]}},blockExplorers:{default:{name:"NexiScan",url:"https://www.nexiscan.com",apiUrl:"https://www.nexiscan.com/api"}},contracts:{multicall3:{address:"0x0277A46Cc69A57eE3A6C8c158bA874832F718B8E",blockCreated:25770160}}}),Dte=h({id:240,name:"Nexilix Smart Chain",nativeCurrency:{decimals:18,name:"Nexilix",symbol:"NEXILIX"},rpcUrls:{default:{http:["https://rpcurl.pos.nexilix.com"]}},blockExplorers:{default:{name:"NexilixScan",url:"https://scan.nexilix.com"}},contracts:{multicall3:{address:"0x58381c8e2BF9d0C2C4259cA14BdA9Afe02831244",blockCreated:74448}}}),Lte=h({id:6900,name:"Nibiru",nativeCurrency:{decimals:18,name:"NIBI",symbol:"NIBI"},rpcUrls:{default:{http:["https://evm-rpc.nibiru.fi"]}},blockExplorers:{default:{name:"NibiScan",url:"https://nibiscan.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:19587573}}}),zte=h({id:4090,network:"oasis-testnet",name:"Oasis Testnet",nativeCurrency:{name:"Fasttoken",symbol:"FTN",decimals:18},rpcUrls:{default:{http:["https://rpc1.oasis.bahamutchain.com"]}},blockExplorers:{default:{name:"Ftnscan",url:"https://oasis.ftnscan.com",apiUrl:"https://oasis.ftnscan.com/api"}},testnet:!0}),Qte=h({id:248,name:"Oasys",nativeCurrency:{name:"Oasys",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.oasys.games"]}},blockExplorers:{default:{name:"OasysScan",url:"https://scan.oasys.games",apiUrl:"https://scan.oasys.games/api"}}}),Pte=h({id:911867,name:"Odyssey Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://odyssey.ithaca.xyz"]}},blockExplorers:{default:{name:"Odyssey Explorer",url:"https://odyssey-explorer.ithaca.xyz",apiUrl:"https://odyssey-explorer.ithaca.xyz/api"}},testnet:!0}),Ote=h({id:66,name:"OKC",nativeCurrency:{decimals:18,name:"OKT",symbol:"OKT"},rpcUrls:{default:{http:["https://exchainrpc.okex.org"]}},blockExplorers:{default:{name:"oklink",url:"https://www.oklink.com/okc"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:10364792}}}),jte=h({id:311,name:"Omax Mainnet",nativeCurrency:{decimals:18,name:"OMAX",symbol:"OMAX"},rpcUrls:{default:{http:["https://mainapi.omaxray.com"]}},blockExplorers:{default:{name:"Omax Explorer",url:"https://omaxscan.com"}},testnet:!1}),_te=h({id:166,name:"Omni",nativeCurrency:{name:"Omni",symbol:"OMNI",decimals:18},rpcUrls:{default:{http:["https://mainnet.omni.network"],webSocket:["wss://mainnet.omni.network"]}},blockExplorers:{default:{name:"OmniScan",url:"https://omniscan.network"}},testnet:!1}),$te=h({id:164,name:"Omni Omega",nativeCurrency:{name:"Omni",symbol:"OMNI",decimals:18},rpcUrls:{default:{http:["https://omega.omni.network"],webSocket:["wss://omega.omni.network"]}},blockExplorers:{default:{name:"Omega OmniScan",url:"https://omega.omniscan.network/"}},testnet:!0}),qte=h({id:309075,name:"One World Chain Mainnet",nativeCurrency:{decimals:18,name:"OWCT",symbol:"OWCT"},rpcUrls:{default:{http:["https://mainnet-rpc.oneworldchain.org"]}},blockExplorers:{default:{name:"One World Explorer",url:"https://mainnet.oneworldchain.org"}},testnet:!1}),ene=h({id:9700,name:"OORT MainnetDev",nativeCurrency:{decimals:18,name:"OORT",symbol:"OORT"},rpcUrls:{default:{http:["https://dev-rpc.oortech.com"]}},blockExplorers:{default:{name:"OORT MainnetDev Explorer",url:"https://dev-scan.oortech.com"}}}),Bp=56,tne=h({id:204,name:"opBNB",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrls:{default:{http:["https://opbnb-mainnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opBNB (BSCScan)",url:"https://opbnb.bscscan.com",apiUrl:"https://api-opbnb.bscscan.com/api"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:512881},l2OutputOracle:{[Bp]:{address:"0x153CAB79f4767E2ff862C94aa49573294B13D169"}},portal:{[Bp]:{address:"0x1876EA7702C0ad0C6A2ae6036DE7733edfBca519"}},l1StandardBridge:{[Bp]:{address:"0xF05F0e4362859c3331Cb9395CBC201E3Fa6757Ea"}}},sourceId:Bp}),Sp=97,nne=h({id:5611,name:"opBNB Testnet",nativeCurrency:{decimals:18,name:"tBNB",symbol:"tBNB"},rpcUrls:{default:{http:["https://opbnb-testnet-rpc.bnbchain.org"]}},blockExplorers:{default:{name:"opbnbscan",url:"https://testnet.opbnbscan.com"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3705108},l2OutputOracle:{[Sp]:{address:"0xFf2394Bb843012562f4349C6632a0EcB92fC8810"}},portal:{[Sp]:{address:"0x4386C8ABf2009aC0c263462Da568DD9d46e52a31"}},l1StandardBridge:{[Sp]:{address:"0x677311Fd2cCc511Bbc0f581E8d9a07B033D5E840"}}},testnet:!0,sourceId:Sp}),Md=1,ane=h({...be,id:10,name:"OP Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.optimism.io"]}},blockExplorers:{default:{name:"Optimism Explorer",url:"https://optimistic.etherscan.io",apiUrl:"https://api-optimistic.etherscan.io/api"}},contracts:{...be.contracts,disputeGameFactory:{[Md]:{address:"0xe5965Ab5962eDc7477C8520243A95517CD252fA9"}},l2OutputOracle:{[Md]:{address:"0xdfe97868233d1aa22e815a266982f2cf17685a27"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:4286263},portal:{[Md]:{address:"0xbEb5Fc579115071764c7423A4f12eDde41f106Ed"}},l1StandardBridge:{[Md]:{address:"0x99C9fc46f92E8a1c0deC1b1747d010903E884bE1"}}},sourceId:Md}),wp=5,sne=h({...be,id:420,name:"Optimism Goerli",nativeCurrency:{name:"Goerli Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://goerli.optimism.io"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli-optimism.etherscan.io",apiUrl:"https://goerli-optimism.etherscan.io/api"}},contracts:{...be.contracts,l2OutputOracle:{[wp]:{address:"0xE6Dfba0953616Bacab0c9A8ecb3a9BBa77FC15c0"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:49461},portal:{[wp]:{address:"0x5b47E1A08Ea6d985D6649300584e6722Ec4B1383"}},l1StandardBridge:{[wp]:{address:"0x636Af16bf2f682dD3109e60102b8E1A089FedAa8"}}},testnet:!0,sourceId:wp}),Ud=11155111,ine=h({...be,id:11155420,name:"OP Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.optimism.io"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com",apiUrl:"https://optimism-sepolia.blockscout.com/api"}},contracts:{...be.contracts,disputeGameFactory:{[Ud]:{address:"0x05F9613aDB30026FFd634f38e5C4dFd30a197Fa1"}},l2OutputOracle:{[Ud]:{address:"0x90E9c4f8a994a250F6aEfd61CAFb4F2e895D458F"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1620204},portal:{[Ud]:{address:"0x16Fc5058F25648194471939df75CF27A2fdC48BC"}},l1StandardBridge:{[Ud]:{address:"0xFBb0621E0B23b5478B630BD55a5f21f67730B0F1"}}},testnet:!0,sourceId:Ud}),rne=h({id:62050,name:"Optopia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet.optopia.ai"]}},blockExplorers:{default:{name:"Optopia Explorer",url:"https://scan.optopia.ai"}},testnet:!1}),one=h({id:62049,name:"Optopia Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.optopia.ai"]}},blockExplorers:{default:{name:"Optopia Explorer",url:"https://scan-testnet.optopia.ai"}},testnet:!0}),lne=h({id:291,name:"Orderly",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.orderly.network"]}},blockExplorers:{default:{name:"Orderly Explorer",url:"https://explorer.orderly.network"}},testnet:!1}),cne=h({id:4460,name:"Orderly Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://l2-orderly-l2-4460-sepolia-8tc3sd7dvy.t.conduit.xyz"]}},blockExplorers:{default:{name:"Orderly Explorer",url:"https://explorerl2new-orderly-l2-4460-sepolia-8tc3sd7dvy.t.conduit.xyz"}},testnet:!0}),gne=h({id:41144114,name:"Otim Devnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["http://devnet.otim.xyz"]}},contracts:{batchInvoker:{address:"0x5FbDB2315678afecb367f032d93F642f64180aa3"}}}),dne=h({id:11297108109,name:"Palm",nativeCurrency:{decimals:18,name:"PALM",symbol:"PALM"},rpcUrls:{default:{http:["https://palm-mainnet.public.blastapi.io"],webSocket:["wss://palm-mainnet.public.blastapi.io"]}},blockExplorers:{default:{name:"Chainlens",url:"https://palm.chainlens.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15429248}}}),Ine=h({id:11297108099,name:"Palm Testnet",nativeCurrency:{decimals:18,name:"PALM",symbol:"PALM"},rpcUrls:{default:{http:["https://palm-mainnet.public.blastapi.io"],webSocket:["wss://palm-mainnet.public.blastapi.io"]}},blockExplorers:{default:{name:"Chainlens",url:"https://palm.chainlens.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:15429248}},testnet:!0}),une=h({id:3338,name:"Peaq",nativeCurrency:{decimals:18,name:"peaq",symbol:"PEAQ"},rpcUrls:{default:{http:["https://peaq-rpc.publicnode.com","https://peaq.api.onfinality.io/public","https://peaq-rpc.dwellir.com","https://evm.peaq.network"],webSocket:["wss://peaq-rpc.publicnode.com","wss://peaq.api.onfinality.io/public","wss://peaq-rpc.dwellir.com"]}},blockExplorers:{default:{name:"Subscan",url:"https://peaq.subscan.io"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3566354}}}),kp=1,Cne=h({id:424,network:"pgn",name:"PGN",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.publicgoods.network"]}},blockExplorers:{default:{name:"PGN Explorer",url:"https://explorer.publicgoods.network",apiUrl:"https://explorer.publicgoods.network/api"}},contracts:{l2OutputOracle:{[kp]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3380209},portal:{[kp]:{address:"0xb26Fd985c5959bBB382BAFdD0b879E149e48116c"}},l1StandardBridge:{[kp]:{address:"0xD0204B9527C1bA7bD765Fa5CCD9355d38338272b"}}},formatters:w2,sourceId:kp}),Vp=11155111,pne=h({id:58008,network:"pgn-testnet",name:"PGN ",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.publicgoods.network"]}},blockExplorers:{default:{name:"PGN Testnet Explorer",url:"https://explorer.sepolia.publicgoods.network",apiUrl:"https://explorer.sepolia.publicgoods.network/api"}},contracts:{l2OutputOracle:{[Vp]:{address:"0xD5bAc3152ffC25318F848B3DD5dA6C85171BaEEe"}},portal:{[Vp]:{address:"0xF04BdD5353Bb0EFF6CA60CfcC78594278eBfE179"}},l1StandardBridge:{[Vp]:{address:"0xFaE6abCAF30D23e233AC7faF747F2fC3a5a6Bfa3"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3754925}},formatters:w2,sourceId:Vp,testnet:!0}),mne=h({id:13381,name:"Phoenix Blockchain",nativeCurrency:{name:"Phoenix",symbol:"PHX",decimals:18},rpcUrls:{default:{http:["https://rpc.phoenixplorer.com"]}},blockExplorers:{default:{name:"Phoenixplorer",url:"https://phoenixplorer.com",apiUrl:"https://phoenixplorer.com/api"}},contracts:{multicall3:{address:"0x498cF757a575cFF2c2Ed9f532f56Efa797f86442",blockCreated:5620192}}}),Ane=h({id:7070,name:"Planq Mainnet",nativeCurrency:{decimals:18,name:"PLQ",symbol:"PLQ"},rpcUrls:{default:{http:["https://planq-rpc.nodies.app","https://evm-rpc.planq.network","https://jsonrpc.planq.nodestake.top"]}},blockExplorers:{default:{name:"Planq Explorer",url:"https://evm.planq.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:8470015}},testnet:!1}),yne=h({...Xa,id:1612127,name:"PlayFi Albireo Testnet",network:"albireo",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://albireo-rpc.playfi.ai"],webSocket:["wss://albireo-rpc-ws.playfi.ai/ws"]}},blockExplorers:{default:{name:"PlayFi Albireo Explorer",url:"https://albireo-explorer.playfi.ai"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"}},testnet:!0}),bne=h({id:242,name:"Plinga",nativeCurrency:{name:"Plinga",symbol:"PLINGA",decimals:18},rpcUrls:{default:{http:["https://rpcurl.mainnet.plgchain.com"]}},blockExplorers:{default:{name:"Plgscan",url:"https://www.plgscan.com"}},contracts:{multicall3:{address:"0x0989576160f2e7092908BB9479631b901060b6e4",blockCreated:204489}}}),hne=1,fne=h({id:98865,name:"Plume (Legacy)",nativeCurrency:{name:"Plume Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.plumenetwork.xyz"],webSocket:["wss://rpc.plumenetwork.xyz"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.plumenetwork.xyz",apiUrl:"https://explorer.plumenetwork.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:48577}},sourceId:hne}),Zne=11155111,Gne=h({id:98864,name:"Plume Devnet (Legacy)",nativeCurrency:{name:"Plume Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://test-rpc.plumenetwork.xyz"],webSocket:["wss://test-rpc.plumenetwork.xyz"]}},blockExplorers:{default:{name:"Blockscout",url:"https://test-explorer.plumenetwork.xyz",apiUrl:"https://test-explorer.plumenetwork.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:481948}},testnet:!0,sourceId:Zne}),Bne=1,Sne=h({id:98866,name:"Plume",nativeCurrency:{name:"Plume",symbol:"PLUME",decimals:18},rpcUrls:{default:{http:["https://rpc.plume.org"],webSocket:["wss://rpc.plume.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.plume.org",apiUrl:"https://explorer.plume.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:39679}},sourceId:Bne}),wne=11155111,kne=h({id:98867,name:"Plume Testnet",nativeCurrency:{name:"Plume",symbol:"PLUME",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.plume.org"],webSocket:["wss://testnet-rpc.plume.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer.plume.org",apiUrl:"https://testnet-explorer.plume.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:199712}},testnet:!0,sourceId:wne}),Vne=11155111,Rne=h({id:161221135,name:"Plume Testnet (Legacy)",nativeCurrency:{name:"Plume Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.plumenetwork.xyz/http"],webSocket:["wss://testnet-rpc.plumenetwork.xyz/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer.plumenetwork.xyz",apiUrl:"https://testnet-explorer.plumenetwork.xyz/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:6022332}},testnet:!0,sourceId:Vne}),Wne=h({id:631571,name:"Polter Testnet",nativeCurrency:{decimals:18,name:"Polter GHST",symbol:"GHST"},rpcUrls:{default:{http:["https://geist-polter.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Blockscout",url:"https://polter-testnet.explorer.alchemy.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:11245}},testnet:!0}),vne=h({id:137,name:"Polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://polygon-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://polygonscan.com",apiUrl:"https://api.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}}}),Ene=h({id:80002,name:"Polygon Amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://amoy.polygonscan.com",apiUrl:"https://api-amoy.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:3127388}},testnet:!0}),Xne=h({id:80001,name:"Polygon Mumbai",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrls:{default:{http:["https://80001.rpc.thirdweb.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://mumbai.polygonscan.com",apiUrl:"https://api-testnet.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:25770160}},testnet:!0}),Jne=h({id:1101,name:"Polygon zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://zkevm-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://zkevm.polygonscan.com",apiUrl:"https://api-zkevm.polygonscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:57746}}}),xne=h({id:2442,name:"Polygon zkEVM Cardona",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.cardona.zkevm-rpc.com"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://cardona-zkevm.polygonscan.com",apiUrl:"https://cardona-zkevm.polygonscan.com/api"}},testnet:!0,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:114091}}}),Nne=h({id:1442,name:"Polygon zkEVM Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.public.zkevm-test.net"]}},blockExplorers:{default:{name:"PolygonScan",url:"https://testnet-zkevm.polygonscan.com",apiUrl:"https://testnet-zkevm.polygonscan.com/api"}},testnet:!0,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:525686}}}),Hne=h({id:8008,name:"Polynomial",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.polynomial.fi"]}},blockExplorers:{default:{name:"Polynomial Scan",url:"https://polynomialscan.io"}},testnet:!1,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"}}}),Tne=h({id:80008,name:"Polynomia Sepolia",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.sepolia.polynomial.fi"]}},blockExplorers:{default:{name:"Polynomial Scan",url:"https://sepolia.polynomialscan.io"}},testnet:!0,contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"}}}),Yne=h({id:23023,name:"PremiumBlock Testnet",nativeCurrency:{name:"Premium Block",symbol:"PBLK",decimals:18},rpcUrls:{default:{http:["https://rpc.premiumblock.org"]}},blockExplorers:{default:{name:"PremiumBlocks Explorer",url:"https://scan.premiumblock.org"}},testnet:!0}),Fne=h({id:369,name:"PulseChain",nativeCurrency:{name:"Pulse",symbol:"PLS",decimals:18},testnet:!1,rpcUrls:{default:{http:["https://rpc.pulsechain.com"],webSocket:["wss://ws.pulsechain.com"]}},blockExplorers:{default:{name:"PulseScan",url:"https://scan.pulsechain.com",apiUrl:"https://api.scan.pulsechain.com/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Kne=h({id:943,name:"PulseChain V4",testnet:!0,nativeCurrency:{name:"V4 Pulse",symbol:"v4PLS",decimals:18},rpcUrls:{default:{http:["https://rpc.v4.testnet.pulsechain.com"],webSocket:["wss://ws.v4.testnet.pulsechain.com"]}},blockExplorers:{default:{name:"PulseScan",url:"https://scan.v4.testnet.pulsechain.com",apiUrl:"https://scan.v4.testnet.pulsechain.com/api"}},contracts:{ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14353601}}}),Mne=h({id:490092,name:"Pumpfi Testnet",nativeCurrency:{decimals:18,name:"PMPT",symbol:"PMPT"},rpcUrls:{default:{http:["https://rpc1testnet.pumpfi.me"]}},blockExplorers:{default:{name:"Pumpfi Testnet Scan",url:"https://testnetscan.pumpfi.me"}},testnet:!0}),g3=11155111,Une=h({...be,name:"Pyrope Testnet",testnet:!0,id:695569,sourceId:g3,nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.pyropechain.com"],webSocket:["wss://rpc.pyropechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://pyrope.blockscout.com"}},contracts:{...be.contracts,l1StandardBridge:{[g3]:{address:"0xC24932c31D9621aE9e792576152B7ef010cFC2F8"}}}}),Dne=h({id:766,name:"QL1",nativeCurrency:{decimals:18,name:"QOM",symbol:"QOM"},rpcUrls:{default:{http:["https://rpc.qom.one"]}},blockExplorers:{default:{name:"Ql1 Explorer",url:"https://scan.qom.one"}},contracts:{multicall3:{address:"0x7A52370716ea730585884F5BDB0f6E60C39b8C64"}},testnet:!1}),Lne=h({id:35441,name:"Q Mainnet",nativeCurrency:{decimals:18,name:"Q",symbol:"Q"},rpcUrls:{default:{http:["https://rpc.q.org"]}},blockExplorers:{default:{name:"Q Mainnet Explorer",url:"https://explorer.q.org",apiUrl:"https://explorer.q.org/api"}}}),zne=h({id:35443,name:"Q Testnet",nativeCurrency:{decimals:18,name:"Q",symbol:"Q"},rpcUrls:{default:{http:["https://rpc.qtestnet.org"]}},blockExplorers:{default:{name:"Q Testnet Explorer",url:"https://explorer.qtestnet.org",apiUrl:"https://explorer.qtestnet.org/api"}},testnet:!0}),Qne=h({id:111188,name:"re.al",nativeCurrency:{name:"reETH",decimals:18,symbol:"reETH"},rpcUrls:{default:{http:["https://rpc.realforreal.gelato.digital"]}},blockExplorers:{default:{name:"re.al Explorer",url:"https://explorer.re.al",apiUrl:"https://explorer.re.al/api/v2"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:695}}}),Pne=h({id:151,name:"Redbelly Network Mainnet",nativeCurrency:{name:"Redbelly Native Coin",symbol:"RBNT",decimals:18},rpcUrls:{default:{http:["https://governors.mainnet.redbelly.network"]}},blockExplorers:{default:{name:"Routescan",url:"https://redbelly.routescan.io",apiUrl:"https://api.routescan.io/v2/network/mainnet/evm/151/etherscan/api"}},testnet:!1}),One=h({id:153,name:"Redbelly Network Testnet",nativeCurrency:{name:"Redbelly Native Coin",symbol:"RBNT",decimals:18},rpcUrls:{default:{http:["https://governors.testnet.redbelly.network"]}},blockExplorers:{default:{name:"Routescan",url:"https://redbelly.testnet.routescan.io",apiUrl:"https://api.routescan.io/v2/network/testnet/evm/153_2/etherscan/api"}},testnet:!0}),Rp=1,jne=h({...be,name:"Redstone",id:690,sourceId:Rp,nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.redstonechain.com"],webSocket:["wss://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz"}},contracts:{...be.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Rp]:{address:"0xC7bCb0e8839a28A1cFadd1CF716de9016CdA51ae",blockCreated:19578329}},l2OutputOracle:{[Rp]:{address:"0xa426A052f657AEEefc298b3B5c35a470e4739d69",blockCreated:19578337}},l1StandardBridge:{[Rp]:{address:"0xc473ca7E02af24c129c2eEf51F2aDf0411c1Df69",blockCreated:19578331}}}}),_ne=h({id:47805,name:"REI Mainnet",nativeCurrency:{decimals:18,name:"REI",symbol:"REI"},rpcUrls:{default:{http:["https://rpc.rei.network"],webSocket:["wss://rpc.rei.network"]}},blockExplorers:{default:{name:"REI Scan",url:"https://scan.rei.network"}},testnet:!1}),$ne=h({id:1729,name:"Reya Network",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.reya.network"],webSocket:["wss://ws.reya.network"]}},blockExplorers:{default:{name:"Reya Network Explorer",url:"https://explorer.reya.network"}},testnet:!1}),qne=h({id:50341,name:"Reddio Sepolia",nativeCurrency:{name:"Reddio",symbol:"RED",decimals:18},rpcUrls:{default:{http:["https://reddio-dev.reddio.com"]}},blockExplorers:{default:{name:"Reddioscan",url:"https://reddio-devnet.l2scan.co",apiUrl:"https://reddio-devnet.l2scan.co/api"}},testnet:!0}),eae=h({id:11155931,name:"RISE Testnet",nativeCurrency:{name:"RISE Testnet Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.riselabs.xyz"],webSocket:["wss://testnet.riselabs.xyz/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.testnet.riselabs.xyz/",apiUrl:"https://explorer.testnet.riselabs.xyz/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"}},testnet:!0}),tae=h({id:753,name:"Rivalz",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rivalz.calderachain.xyz/http"]}},blockExplorers:{default:{name:"Rivalz Caldera Explorer",url:"https://rivalz.calderaexplorer.xyz"}},testnet:!1}),nae=h({id:570,name:"Rollux Mainnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc.rollux.com"],webSocket:["wss://rpc.rollux.com/wss"]}},blockExplorers:{default:{name:"RolluxExplorer",url:"https://explorer.rollux.com",apiUrl:"https://explorer.rollux.com/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:119222}}}),aae=h({id:57e3,name:"Rollux Testnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc-tanenbaum.rollux.com/"],webSocket:["wss://rpc-tanenbaum.rollux.com/wss"]}},blockExplorers:{default:{name:"RolluxTestnetExplorer",url:"https://rollux.tanenbaum.io",apiUrl:"https://rollux.tanenbaum.io/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1813675}}}),sae=h({id:2020,name:"Ronin",nativeCurrency:{name:"RON",symbol:"RON",decimals:18},rpcUrls:{default:{http:["https://api.roninchain.com/rpc"]}},blockExplorers:{default:{name:"Ronin Explorer",url:"https://app.roninchain.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:26023535}}}),iae=h({id:7668,name:"The Root Network",nativeCurrency:{decimals:18,name:"XRP",symbol:"XRP"},rpcUrls:{default:{http:["https://root.rootnet.live/archive"],webSocket:["wss://root.rootnet.live/archive/ws"]}},blockExplorers:{default:{name:"Rootscan",url:"https://rootscan.io"}},contracts:{multicall3:{address:"0xc9C2E2429AeC354916c476B30d729deDdC94988d",blockCreated:9218338}}}),rae=h({id:7672,name:"The Root Network - Porcini",nativeCurrency:{decimals:18,name:"XRP",symbol:"XRP"},rpcUrls:{default:{http:["https://porcini.rootnet.app/archive"],webSocket:["wss://porcini.rootnet.app/archive/ws"]}},blockExplorers:{default:{name:"Rootscan",url:"https://porcini.rootscan.io"}},contracts:{multicall3:{address:"0xc9C2E2429AeC354916c476B30d729deDdC94988d",blockCreated:10555692}},testnet:!0}),oae=h({id:30,name:"Rootstock Mainnet",network:"rootstock",nativeCurrency:{decimals:18,name:"Rootstock Bitcoin",symbol:"RBTC"},rpcUrls:{default:{http:["https://public-node.rsk.co"]}},blockExplorers:{default:{name:"RSK Explorer",url:"https://explorer.rsk.co"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:4249540}}}),lae=h({id:31,name:"Rootstock Testnet",network:"rootstock",nativeCurrency:{decimals:18,name:"Rootstock Bitcoin",symbol:"tRBTC"},rpcUrls:{default:{http:["https://public-node.testnet.rsk.co"]}},blockExplorers:{default:{name:"RSK Explorer",url:"https://explorer.testnet.rootstock.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2771150}},testnet:!0}),Wp=1,cae=h({...be,id:12553,name:"RSS3 VSL Mainnet",nativeCurrency:{name:"RSS3",symbol:"RSS3",decimals:18},rpcUrls:{default:{http:["https://rpc.rss3.io"]}},blockExplorers:{default:{name:"RSS3 VSL Mainnet Scan",url:"https://scan.rss3.io",apiUrl:"https://scan.rss3.io/api"}},contracts:{...be.contracts,l2OutputOracle:{[Wp]:{address:"0xE6f24d2C32B3109B18ed33cF08eFb490b1e09C10"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14193},portal:{[Wp]:{address:"0x6A12432491bbbE8d3babf75F759766774C778Db4",blockCreated:19387057}},l1StandardBridge:{[Wp]:{address:"0x4cbab69108Aa72151EDa5A3c164eA86845f18438"}}},sourceId:Wp}),vp=11155111,gae=h({...be,id:2331,name:"RSS3 VSL Sepolia Testnet",nativeCurrency:{name:"RSS3",symbol:"RSS3",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.rss3.io"]}},blockExplorers:{default:{name:"RSS3 VSL Sepolia Testnet Scan",url:"https://scan.testnet.rss3.io",apiUrl:"https://scan.testnet.rss3.io/api"}},contracts:{...be.contracts,l2OutputOracle:{[vp]:{address:"0xDb5c46C3Eaa6Ed6aE8b2379785DF7dd029C0dC81"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:55697},portal:{[vp]:{address:"0xcBD77E8E1E7F06B25baDe67142cdE82652Da7b57",blockCreated:5345035}},l1StandardBridge:{[vp]:{address:"0xdDD29bb63B0839FB1cE0eE439Ff027738595D07B"}}},testnet:!0,sourceId:vp}),dae=h({id:7225878,name:"Saakuru Mainnet",nativeCurrency:{name:"OAS",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.saakuru.network"]}},blockExplorers:{default:{name:"Saakuru Explorer",url:"https://explorer.saakuru.network"}},testnet:!1}),Iae=h({id:5464,name:"Saga",network:"saga",nativeCurrency:{decimals:18,name:"gas",symbol:"GAS"},rpcUrls:{default:{http:["https://sagaevm.jsonrpc.sagarpc.io"]}},blockExplorers:{default:{name:"Saga Explorer",url:"https://sagaevm.sagaexplorer.io"}},contracts:{multicall3:{address:"0x864DDc9B50B9A0dF676d826c9B9EDe9F8913a160",blockCreated:467530}}}),uae=h({id:2021,name:"Saigon Testnet",nativeCurrency:{name:"RON",symbol:"RON",decimals:18},rpcUrls:{default:{http:["https://saigon-testnet.roninchain.com/rpc"]}},blockExplorers:{default:{name:"Saigon Explorer",url:"https://saigon-app.roninchain.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:18736871}},testnet:!0}),Cae=h({id:1996,name:"Sanko",nativeCurrency:{name:"DMT",symbol:"DMT",decimals:18},rpcUrls:{default:{http:["https://mainnet.sanko.xyz"]}},blockExplorers:{default:{name:"Sanko Explorer",url:"https://explorer.sanko.xyz"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:37}},testnet:!1}),pae=h({id:23294,name:"Oasis Sapphire",network:"sapphire",nativeCurrency:{name:"Sapphire Rose",symbol:"ROSE",decimals:18},rpcUrls:{default:{http:["https://sapphire.oasis.io"],webSocket:["wss://sapphire.oasis.io/ws"]}},blockExplorers:{default:{name:"Oasis Explorer",url:"https://explorer.oasis.io/mainnet/sapphire"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:734531}}}),mae=h({id:23295,name:"Oasis Sapphire Testnet",network:"sapphire-testnet",nativeCurrency:{name:"Sapphire Test Rose",symbol:"TEST",decimals:18},rpcUrls:{default:{http:["https://testnet.sapphire.oasis.dev"],webSocket:["wss://testnet.sapphire.oasis.dev/ws"]}},blockExplorers:{default:{name:"Oasis Explorer",url:"https://explorer.oasis.io/testnet/sapphire"}},testnet:!0}),Aae=h({id:3109,name:"SatoshiVM Alpha Mainnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://alpha-rpc-node-http.svmscan.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://svmscan.io",apiUrl:"https://svmscan.io/api"}}}),yae=h({id:3110,name:"SatoshiVM Testnet",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrls:{default:{http:["https://test-rpc-node-http.svmscan.io"]}},blockExplorers:{default:{name:"blockscout",url:"https://testnet.svmscan.io",apiUrl:"https://testnet.svmscan.io/api"}},testnet:!0}),bae=h({id:534352,name:"Scroll",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.scroll.io"],webSocket:["wss://wss-rpc.scroll.io/ws"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://scrollscan.com",apiUrl:"https://api.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:14}},testnet:!1}),hae=h({id:534351,name:"Scroll Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia-rpc.scroll.io"]}},blockExplorers:{default:{name:"Scrollscan",url:"https://sepolia.scrollscan.com",apiUrl:"https://api-sepolia.scrollscan.com/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:9473}},testnet:!0}),fae=h({id:1329,name:"Sei Network",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc.sei-apis.com/"],webSocket:["wss://evm-ws.sei-apis.com/"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com",apiUrl:"https://seitrace.com/pacific-1/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}}}),Zae=h({id:713715,name:"Sei Devnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-arctic-1.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},testnet:!0}),Gae=h({id:5124,name:"Seismic Devnet",nativeCurrency:{name:"Seismic Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://node-2.seismicdev.net/rpc"]}},blockExplorers:{default:{name:"Seismic Devnet Explorer",url:"https://explorer-2.seismicdev.net"}},testnet:!0}),Bae=h({id:1328,name:"Sei Testnet",nativeCurrency:{name:"Sei",symbol:"SEI",decimals:18},rpcUrls:{default:{http:["https://evm-rpc-testnet.sei-apis.com"],webSocket:["wss://evm-ws-testnet.sei-apis.com"]}},blockExplorers:{default:{name:"Seitrace",url:"https://seitrace.com"}},testnet:!0}),Sae=h({id:11155111,name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.drpc.org"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia.etherscan.io",apiUrl:"https://api-sepolia.etherscan.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:751532},ensRegistry:{address:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e"},ensUniversalResolver:{address:"0xc8Af999e38273D658BE1b921b88A9Ddf005769cC",blockCreated:5317080}},testnet:!0}),Ep=1,wae=h({...be,id:360,name:"Shape",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.shape.network"]}},blockExplorers:{default:{name:"shapescan",url:"https://shapescan.xyz",apiUrl:"https://shapescan.xyz/api"}},contracts:{...be.contracts,l2OutputOracle:{[Ep]:{address:"0x6Ef8c69CfE4635d866e3E02732068022c06e724D",blockCreated:20369940}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1},portal:{[Ep]:{address:"0xEB06fFa16011B5628BaB98E29776361c83741dd3",blockCreated:20369933}},l1StandardBridge:{[Ep]:{address:"0x62Edd5f4930Ea92dCa3fB81689bDD9b9d076b57B",blockCreated:20369935}}},sourceId:Ep}),kae=11155111,Vae=h({...be,id:11011,name:"Shape Sepolia Testnet",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.shape.network"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer-sepolia.shape.network/",apiUrl:"https://explorer-sepolia.shape.network/api/v2"}},contracts:{...be.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1}},testnet:!0,sourceId:kae}),Rae=h({id:8118,name:"Shardeum",nativeCurrency:{name:"Shardeum",symbol:"SHM",decimals:18},rpcUrls:{default:{http:["https://api.shardeum.org"]}},blockExplorers:{default:{name:"Shardeum Explorer",url:"https://explorer.shardeum.org"}},testnet:!1}),Wae=h({id:8082,name:"Shardeum Sphinx",nativeCurrency:{name:"SHARDEUM",symbol:"SHM",decimals:18},rpcUrls:{default:{http:["https://sphinx.shardeum.org"]}},blockExplorers:{default:{name:"Shardeum Explorer",url:"https://explorer-sphinx.shardeum.org"}},testnet:!0}),vae=h({id:109,name:"Shibarium",network:"shibarium",nativeCurrency:{name:"Bone",symbol:"BONE",decimals:18},rpcUrls:{default:{http:["https://rpc.shibrpc.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://shibariumscan.io"}},contracts:{multicall3:{address:"0x864Bf681ADD6052395188A89101A1B37d3B4C961",blockCreated:265900}}}),Eae=h({id:157,name:"Puppynet Shibarium",nativeCurrency:{decimals:18,name:"Bone",symbol:"BONE"},rpcUrls:{default:{http:["https://puppynet.shibrpc.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://puppyscan.shib.io",apiUrl:"https://puppyscan.shib.io/api"}},contracts:{multicall3:{address:"0xA4029b74FBA366c926eDFA7Dd10B21C621170a4c",blockCreated:3035769}},testnet:!0}),Xae=h({id:336,name:"Shiden",nativeCurrency:{decimals:18,name:"SDN",symbol:"SDN"},rpcUrls:{default:{http:["https://shiden.public.blastapi.io"],webSocket:["wss://shiden-rpc.dwellir.com"]}},blockExplorers:{default:{name:"Shiden Scan",url:"https://shiden.subscan.io"}},testnet:!1}),Jae=h({id:148,name:"Shimmer",network:"shimmer",nativeCurrency:{decimals:18,name:"Shimmer",symbol:"SMR"},rpcUrls:{default:{http:["https://json-rpc.evm.shimmer.network"]}},blockExplorers:{default:{name:"Shimmer Network Explorer",url:"https://explorer.evm.shimmer.network",apiUrl:"https://explorer.evm.shimmer.network/api"}}}),xae=h({id:1073,name:"Shimmer Testnet",network:"shimmer-testnet",nativeCurrency:{decimals:18,name:"Shimmer",symbol:"SMR"},rpcUrls:{default:{http:["https://json-rpc.evm.testnet.shimmer.network"]}},blockExplorers:{default:{name:"Shimmer Network Explorer",url:"https://explorer.evm.testnet.shimmer.network",apiUrl:"https://explorer.evm.testnet.shimmer.network/api"}},testnet:!0}),Nae=h({id:97453,name:"Sidra Chain",nativeCurrency:{decimals:18,name:"Sidra Digital Asset",symbol:"SDA"},rpcUrls:{default:{http:["https://node.sidrachain.com"]}},blockExplorers:{default:{name:"Sidra Chain Explorer",url:"https://ledger.sidrachain.com"}}}),Hae=h({id:2355,name:"Silicon zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.silicon.network","https://silicon-mainnet.nodeinfra.com"]}},blockExplorers:{default:{name:"SiliconScope",url:"https://scope.silicon.network"}}}),Tae=h({id:1722641160,name:"Silicon Sepolia zkEVM",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc-sepolia.silicon.network","https://silicon-testnet.nodeinfra.com"]}},blockExplorers:{default:{name:"SiliconSepoliaScope",url:"https://scope-sepolia.silicon.network"}},testnet:!0}),Yae=h({id:98,name:"Six Protocol",nativeCurrency:{decimals:18,name:"SIX",symbol:"SIX"},rpcUrls:{default:{http:["https://sixnet-rpc-evm.sixprotocol.net"]}},blockExplorers:{default:{name:"Six Protocol Scan",url:"https://sixscan.io/sixnet"}},testnet:!1}),Fae=h({id:391845894,name:"SKALE | Block Brawlers",nativeCurrency:{name:"BRAWL",symbol:"BRAWL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/frayed-decent-antares"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/frayed-decent-antares"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://frayed-decent-antares.explorer.mainnet.skalenodes.com"}},contracts:{}}),Kae=h({id:1564830818,name:"SKALE Calypso Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/honorable-steel-rasalhague"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/honorable-steel-rasalhague"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://honorable-steel-rasalhague.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3107626}}}),Mae=h({id:974399131,name:"SKALE Calypso Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/giant-half-dual-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/giant-half-dual-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://giant-half-dual-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:103220}},testnet:!0}),Uae=h({id:1026062157,name:"SKALE | CryptoBlades",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/affectionate-immediate-pollux"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/affectionate-immediate-pollux"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://affectionate-immediate-pollux.explorer.mainnet.skalenodes.com"}},contracts:{}}),Dae=h({id:1032942172,name:"SKALE | Crypto Colosseum",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/haunting-devoted-deneb"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/haunting-devoted-deneb"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://haunting-devoted-deneb.explorer.mainnet.skalenodes.com"}},contracts:{}}),Lae=h({id:2046399126,name:"SKALE Europa Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/elated-tan-skat"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/elated-tan-skat"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://elated-tan-skat.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:3113495}}}),zae=h({id:1444673419,name:"SKALE Europa Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/juicy-low-small-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/juicy-low-small-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://juicy-low-small-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:110858}},testnet:!0}),Qae=h({id:2139927552,name:"Exorde Network",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/light-vast-diphda"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/light-vast-diphda"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://light-vast-diphda.explorer.mainnet.skalenodes.com"}},contracts:{}}),Pae=h({id:1273227453,name:"SKALE | Human Protocol",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/wan-red-ain"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/wan-red-ain"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://wan-red-ain.explorer.mainnet.skalenodes.com"}},contracts:{}}),Oae=h({id:1482601649,name:"SKALE Nebula Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/green-giddy-denebola"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/green-giddy-denebola"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://green-giddy-denebola.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2372986}}}),jae=h({id:37084624,name:"SKALE Nebula Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/lanky-ill-funny-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/lanky-ill-funny-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://lanky-ill-funny-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:105141}},testnet:!0}),_ae=h({id:278611351,name:"SKALE | Razor Network",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/turbulent-unique-scheat"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/turbulent-unique-scheat"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://turbulent-unique-scheat.explorer.mainnet.skalenodes.com"}},contracts:{}}),$ae=h({id:1350216234,name:"SKALE Titan Hub",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://mainnet.skalenodes.com/v1/parallel-stormy-spica"],webSocket:["wss://mainnet.skalenodes.com/v1/ws/parallel-stormy-spica"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://parallel-stormy-spica.explorer.mainnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2076458}}}),qae=h({id:1020352220,name:"SKALE Titan Testnet",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrls:{default:{http:["https://testnet.skalenodes.com/v1/aware-fake-trim-testnet"],webSocket:["wss://testnet.skalenodes.com/v1/ws/aware-fake-trim-testnet"]}},blockExplorers:{default:{name:"SKALE Explorer",url:"https://aware-fake-trim-testnet.explorer.testnet.skalenodes.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:104072}},testnet:!0}),ese=h({id:984123,name:"Forma Sketchpad",network:"sketchpad",nativeCurrency:{symbol:"TIA",name:"TIA",decimals:18},rpcUrls:{default:{http:["https://rpc.sketchpad-1.forma.art"],webSocket:["wss://ws.sketchpad-1.forma.art"]}},blockExplorers:{default:{name:"Sketchpad Explorer",url:"https://explorer.sketchpad-1.forma.art"}},testnet:!0}),Dd=1,tse=h({...be,id:2192,network:"snaxchain-mainnet",name:"SnaxChain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.snaxchain.io"]}},blockExplorers:{default:{name:"Snax Explorer",url:"https://explorer.snaxchain.io",apiUrl:"https://explorer.snaxchain.io/api"}},contracts:{...be.contracts,disputeGameFactory:{[Dd]:{address:"0x472562Fcf26D6b2793f8E0b0fB660ba0E5e08A46"}},l2OutputOracle:{[Dd]:{address:"0x2172e492Fc807F5d5645D0E3543f139ECF539294"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Dd]:{address:"0x79f446D024d74D0Bb6E699C131c703463c5D65E9"}},l1StandardBridge:{[Dd]:{address:"0x6534Bdb6b5c060d3e6aa833433333135eFE8E0aA"}}},sourceId:Dd}),Ld=11155111,nse=h({...be,id:13001,network:"snaxchain-testnet",name:"SnaxChain Testnet",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.snaxchain.io"]}},blockExplorers:{default:{name:"Snax Explorer",url:"https://testnet-explorer.snaxchain.io",apiUrl:"https://testnet-explorer.snaxchain.io/api"}},contracts:{...be.contracts,disputeGameFactory:{[Ld]:{address:"0x206a75d89d45F146C54020F132FF93bEDD09f55E"}},l2OutputOracle:{[Ld]:{address:"0x60e3A368a4cdCEf85ffB964e372726F56A46221e"}},multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11"},portal:{[Ld]:{address:"0xb5afdd0E8dDF081Ef90e8A3e0c7b5798e66E954E"}},l1StandardBridge:{[Ld]:{address:"0xbd37E1a59D4C00C9A46F75018dffd84061bC5f74"}}},testnet:!0,sourceId:Ld}),ase=h({id:50312,name:"Somnia Testnet",nativeCurrency:{name:"STT",symbol:"STT",decimals:18},rpcUrls:{default:{http:["https://dream-rpc.somnia.network"]}},blockExplorers:{default:{name:"Somnia Testnet Explorer",url:"https://somnia-testnet.socialscan.io",apiUrl:"https://shannon-explorer.somnia.network/api"}},testnet:!0}),zd=1,sse=h({...be,id:1868,name:"Soneium Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.soneium.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://soneium.blockscout.com",apiUrl:"https://soneium.blockscout.com/api"}},contracts:{...be.contracts,disputeGameFactory:{[zd]:{address:"0x512a3d2c7a43bd9261d2b8e8c9c70d4bd4d503c0"}},l2OutputOracle:{[zd]:{address:"0x0000000000000000000000000000000000000000"}},portal:{[zd]:{address:"0x88e529a6ccd302c948689cd5156c83d4614fae92",blockCreated:7061266}},l1StandardBridge:{[zd]:{address:"0xeb9bf100225c214efc3e7c651ebbadcf85177607",blockCreated:7061266}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}},sourceId:zd}),Qd=11155111,ise=h({...be,id:1946,name:"Soneium Minato Testnet",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.minato.soneium.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://soneium-minato.blockscout.com",apiUrl:"https://soneium-minato.blockscout.com/api"}},contracts:{...be.contracts,disputeGameFactory:{[Qd]:{address:"0xB3Ad2c38E6e0640d7ce6aA952AB3A60E81bf7a01"}},l2OutputOracle:{[Qd]:{address:"0x710e5286C746eC38beeB7538d0146f60D27be343"}},portal:{[Qd]:{address:"0x65ea1489741A5D72fFdD8e6485B216bBdcC15Af3",blockCreated:6466136}},l1StandardBridge:{[Qd]:{address:"0x5f5a404A5edabcDD80DB05E8e54A78c9EBF000C2",blockCreated:6466136}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}},testnet:!0,sourceId:Qd}),rse=h({id:146,name:"Sonic",nativeCurrency:{decimals:18,name:"Sonic",symbol:"S"},rpcUrls:{default:{http:["https://rpc.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Explorer",url:"https://sonicscan.org"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:60}},testnet:!1}),ose=h({id:64165,name:"Sonic Testnet",nativeCurrency:{decimals:18,name:"Sonic",symbol:"S"},rpcUrls:{default:{http:["https://rpc.testnet.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Testnet Explorer",url:"https://testnet.soniclabs.com/"}},testnet:!0}),lse=h({id:57054,name:"Sonic Blaze Testnet",nativeCurrency:{decimals:18,name:"Sonic",symbol:"S"},rpcUrls:{default:{http:["https://rpc.blaze.soniclabs.com"]}},blockExplorers:{default:{name:"Sonic Blaze Testnet Explorer",url:"https://testnet.sonicscan.org"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1100}},testnet:!0}),cse=h({id:19,name:"Songbird Canary-Network",nativeCurrency:{decimals:18,name:"Songbird",symbol:"SGB"},rpcUrls:{default:{http:["https://songbird-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Songbird Explorer",url:"https://songbird-explorer.flare.network",apiUrl:"https://songbird-explorer.flare.network/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:13382504}}}),gse=h({id:16,name:"Songbird Testnet Coston",nativeCurrency:{decimals:18,name:"Coston Flare",symbol:"CFLR"},rpcUrls:{default:{http:["https://coston-api.flare.network/ext/C/rpc"]}},blockExplorers:{default:{name:"Coston Explorer",url:"https://coston-explorer.flare.network",apiUrl:"https://coston-explorer.flare.network/api"}},testnet:!0}),dse=h({...Xa,id:50104,name:"Sophon",nativeCurrency:{decimals:18,name:"Sophon",symbol:"SOPH"},rpcUrls:{default:{http:["https://rpc.sophon.xyz"],webSocket:["wss://rpc.sophon.xyz/ws"]}},blockExplorers:{default:{name:"Sophon Block Explorer",url:"https://explorer.sophon.xyz"}},contracts:{multicall3:{address:"0x5f4867441d2416cA88B1b3fd38f21811680CD2C8",blockCreated:116}},testnet:!1}),Ise=h({...Xa,id:531050104,name:"Sophon Testnet",nativeCurrency:{decimals:18,name:"Sophon",symbol:"SOPH"},rpcUrls:{default:{http:["https://rpc.testnet.sophon.xyz"],webSocket:["wss://rpc.testnet.sophon.xyz/ws"]}},blockExplorers:{default:{name:"Sophon Block Explorer",url:"https://explorer.testnet.sophon.xyz"}},contracts:{multicall3:{address:"0x83c04d112adedA2C6D9037bb6ecb42E7f0b108Af",blockCreated:15642}},testnet:!0}),use=h({id:88882,name:"Chiliz Spicy Testnet",network:"chiliz-spicy-Testnet",nativeCurrency:{decimals:18,name:"CHZ",symbol:"CHZ"},rpcUrls:{default:{http:["https://spicy-rpc.chiliz.com","https://chiliz-spicy-rpc.publicnode.com"],webSocket:["wss://spicy-rpc-ws.chiliz.com","wss://chiliz-spicy-rpc.publicnode.com"]}},blockExplorers:{default:{name:"Chiliz Explorer",url:"http://spicy-explorer.chiliz.com",apiUrl:"http://spicy-explorer.chiliz.com/api"}},testnet:!0}),d3=h({...k2,id:1660990954,name:"Status Network Sepolia",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://public.sepolia.rpc.status.network"],webSocket:["wss://public.sepolia.rpc.status.network/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepoliascan.status.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1578364}},testnet:!0}),Cse=h({id:1234,name:"Step Network",nativeCurrency:{name:"FITFI",symbol:"FITFI",decimals:18},rpcUrls:{default:{http:["https://rpc.step.network"]}},blockExplorers:{default:{name:"Step Scan",url:"https://stepscan.io"}},testnet:!1}),pse=h({id:1514,name:"Story",nativeCurrency:{decimals:18,name:"IP Token",symbol:"IP"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:340998},ensRegistry:{address:"0x5dc881dda4e4a8d312be3544ad13118d1a04cb17",blockCreated:648924},ensUniversalResolver:{address:"0xddfb18888a9466688235887dec2a10c4f5effee9",blockCreated:649114}},rpcUrls:{default:{http:["https://mainnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story explorer",url:"https://storyscan.xyz",apiUrl:"https://storyscan.xyz/api/v2"}},ensTlds:[".ip"],testnet:!1}),mse=h({id:1315,name:"Story Aeneid",network:"story-aeneid",nativeCurrency:{decimals:18,name:"IP",symbol:"IP"},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:1792},ensRegistry:{address:"0x5dC881dDA4e4a8d312be3544AD13118D1a04Cb17",blockCreated:1322033},ensUniversalResolver:{address:"0x6D3B3F99177FB2A5de7F9E928a9BD807bF7b5BAD",blockCreated:1322097}},rpcUrls:{default:{http:["https://aeneid.storyrpc.io"]}},blockExplorers:{default:{name:"Story Aeneid Explorer",url:"https://aeneid.storyscan.xyz",apiUrl:"https://aeneid.storyscan.xyz/api/v2"}},ensTlds:[".ip"],testnet:!0}),Ase=h({id:1516,name:"Story Odyssey",nativeCurrency:{decimals:18,name:"IP",symbol:"IP"},rpcUrls:{default:{http:["https://rpc.odyssey.storyrpc.io"]}},blockExplorers:{default:{name:"Story Odyssey Explorer",url:"https://odyssey.storyscan.xyz"}},testnet:!0}),yse=h({id:1513,name:"Story Testnet",nativeCurrency:{decimals:18,name:"IP",symbol:"IP"},rpcUrls:{default:{http:["https://testnet.storyrpc.io"]}},blockExplorers:{default:{name:"Story Testnet Explorer",url:"https://testnet.storyscan.xyz"}},testnet:!0}),bse=h({id:105105,name:"Stratis Mainnet",network:"stratis",nativeCurrency:{name:"Stratis",symbol:"STRAX",decimals:18},rpcUrls:{default:{http:["https://rpc.stratisevm.com"]}},blockExplorers:{default:{name:"Stratis Explorer",url:"https://explorer.stratisevm.com"}}}),hse=h({id:8866,name:"SuperLumio",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.lumio.io"]}},blockExplorers:{default:{name:"Lumio explorer",url:"https://explorer.lumio.io"}},testnet:!1}),fse=h({id:55244,name:"Superposition",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.superposition.so"]}},blockExplorers:{default:{name:"Superposition Explorer",url:"https://explorer.superposition.so"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:39}},testnet:!1}),Pd=1,Zse=h({...be,id:5330,name:"Superseed",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.superseed.xyz"]}},blockExplorers:{default:{name:"Superseed Explorer",url:"https://explorer.superseed.xyz",apiUrl:"https://explorer.superseed.xyz/api/v2"}},contracts:{...be.contracts,disputeGameFactory:{[Pd]:{address:"0x8b097CF1f9BbD9cbFD0DD561858a1FCbC8857Be0",blockCreated:20737481}},l2OutputOracle:{[Pd]:{address:"0x693A0F8854F458D282DE3C5b69E8eE5EEE8aA949",blockCreated:20737481}},portal:{[Pd]:{address:"0x2c2150aa5c75A24fB93d4fD2F2a895D618054f07",blockCreated:20737481}},l1StandardBridge:{[Pd]:{address:"0x8b0576E39F1233679109F9b40cFcC2a7E0901Ede",blockCreated:20737481}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"}},sourceId:Pd}),eh=11155111,Gse=h({...be,id:53302,name:"Superseed Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.superseed.xyz"]}},blockExplorers:{default:{name:"Superseed Sepolia Explorer",url:"https://sepolia-explorer.superseed.xyz",apiUrl:"https://sepolia-explorer.superseed.xyz/api/v2"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"},portal:{[eh]:{address:"0x7A0db8C51432d2C3eb4e8f360a2EeB26FF2809fB",blockCreated:5523438}},l1StandardBridge:{[eh]:{address:"0x2B227A603fAAdB3De0ED050b63ADD232B5f2c28C",blockCreated:5523442}}},testnet:!0,sourceId:eh}),Bse=h({id:254,name:"Swan Chain Mainnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.swanchain.org"]}},blockExplorers:{default:{name:"Swan Explorer",url:"https://swanscan.io"}},testnet:!1}),Sse=h({id:20241133,name:"Swan Proxima Testnet",nativeCurrency:{name:"Swan Ether",symbol:"sETH",decimals:18},rpcUrls:{default:{http:["https://rpc-proxima.swanchain.io	"]}},blockExplorers:{default:{name:"Swan Explorer",url:"https://proxima-explorer.swanchain.io"}},testnet:!0}),wse=h({id:2024,name:"Swan Saturn Testnet",nativeCurrency:{name:"Swan Ether",symbol:"sETH",decimals:18},rpcUrls:{default:{http:["https://saturn-rpc.swanchain.io"]}},blockExplorers:{default:{name:"Swan Explorer",url:"https://saturn-explorer.swanchain.io"}},testnet:!0}),kse=h({...be,id:1923,name:"Swellchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://swell-mainnet.alt.technology"]}},blockExplorers:{default:{name:"Swell Explorer",url:"https://explorer.swellnetwork.io",apiUrl:"https://explorer.swellnetwork.io/api"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}}}),Vse=h({...be,id:1924,name:"Swellchain Testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://swell-testnet.alt.technology"]}},blockExplorers:{default:{name:"Swellchain Testnet Explorer",url:"https://swell-testnet-explorer.alt.technology",apiUrl:"https://swell-testnet-explorer.alt.technology/api"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1}}}),Rse=h({id:94,name:"SwissDLT Mainnet",nativeCurrency:{decimals:18,name:"BCTS",symbol:"BCTS"},rpcUrls:{default:{http:["https://rpc.swissdlt.ch"]}},blockExplorers:{default:{name:"SwissDLT Explorer",url:"https://explorer.swissdlt.ch"}},testnet:!1}),Wse=h({id:57,name:"Syscoin Mainnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc.syscoin.org"],webSocket:["wss://rpc.syscoin.org/wss"]}},blockExplorers:{default:{name:"SyscoinExplorer",url:"https://explorer.syscoin.org",apiUrl:"https://explorer.syscoin.org/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:287139}}}),vse=h({id:5700,name:"Syscoin Tanenbaum Testnet",nativeCurrency:{decimals:18,name:"Syscoin",symbol:"SYS"},rpcUrls:{default:{http:["https://rpc.tanenbaum.io"],webSocket:["wss://rpc.tanenbaum.io/wss"]}},blockExplorers:{default:{name:"SyscoinTestnetExplorer",url:"https://tanenbaum.io"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:271288}}}),Ese=h({id:167e3,name:"Taiko Mainnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.mainnet.taiko.xyz"],webSocket:["wss://ws.mainnet.taiko.xyz"]}},blockExplorers:{default:{name:"Taikoscan",url:"https://taikoscan.io",apiUrl:"https://api.taikoscan.io/api"}},contracts:{multicall3:{address:"0xcb2436774C3e191c85056d248EF4260ce5f27A9D"}}}),Xse=h({id:167009,name:"Taiko Hekla L2",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.hekla.taiko.xyz"]}},blockExplorers:{default:{name:"Taikoscan",url:"https://hekla.taikoscan.network"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:59757}},testnet:!0}),Jse=h({id:167007,name:"Taiko Jolnir (Alpha-5 Testnet)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.jolnir.taiko.xyz"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.jolnir.taiko.xyz"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:732706}},testnet:!0}),xse=h({id:167008,name:"Taiko Katla (Alpha-6 Testnet)",network:"tko-katla",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.katla.taiko.xyz"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.katla.taiko.xyz"}}}),Nse=h({id:167005,name:"Taiko (Alpha-3 Testnet)",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.test.taiko.xyz"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.test.taiko.xyz"}}}),Hse=h({id:841,name:"Taraxa Mainnet",nativeCurrency:{name:"Tara",symbol:"TARA",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.taraxa.io"]}},blockExplorers:{default:{name:"Taraxa Explorer",url:"https://explorer.mainnet.taraxa.io"}}}),Tse=h({id:842,name:"Taraxa Testnet",nativeCurrency:{name:"Tara",symbol:"TARA",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.taraxa.io"]}},blockExplorers:{default:{name:"Taraxa Explorer",url:"https://explorer.testnet.taraxa.io"}},testnet:!0}),Yse=h({id:2017,name:"Telcoin Adiri Testnet",nativeCurrency:{name:"Telcoin",symbol:"TEL",decimals:18},rpcUrls:{default:{http:["https://rpc.telcoin.network"]}},blockExplorers:{default:{name:"telscan",url:"https://telscan.io"}},testnet:!0}),Fse=h({id:40,name:"Telos",nativeCurrency:{decimals:18,name:"Telos",symbol:"TLOS"},rpcUrls:{default:{http:["https://rpc.telos.net"]}},blockExplorers:{default:{name:"Teloscan",url:"https://www.teloscan.io/"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:246530709}}}),Kse=h({id:41,name:"Telos",nativeCurrency:{decimals:18,name:"Telos",symbol:"TLOS"},rpcUrls:{default:{http:["https://rpc.testnet.telos.net"]}},blockExplorers:{default:{name:"Teloscan (testnet)",url:"https://testnet.teloscan.io/"}},testnet:!0}),Mse=h({id:1559,name:"Tenet",network:"tenet-mainnet",nativeCurrency:{name:"TENET",symbol:"TENET",decimals:18},rpcUrls:{default:{http:["https://rpc.tenet.org"]}},blockExplorers:{default:{name:"TenetScan Mainnet",url:"https://tenetscan.io",apiUrl:"https://tenetscan.io/api"}},testnet:!1}),Use=h({id:752025,name:"Ternoa",nativeCurrency:{name:"Capsule Coin",symbol:"CAPS",decimals:18},rpcUrls:{default:{http:["https://rpc-mainnet.zkevm.ternoa.network"]}},blockExplorers:{default:{name:"Ternoa Explorer",url:"https://explorer-mainnet.zkevm.ternoa.network"}},testnet:!1}),Dse=h({id:7,name:"ThaiChain",nativeCurrency:{name:"TCH",symbol:"TCH",decimals:18},rpcUrls:{default:{http:["https://rpc.thaichain.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://exp.thaichain.org",apiUrl:"https://exp.thaichain.org/api"}},contracts:{multicall3:{address:"0x0DaD6130e832c21719C5CE3bae93454E16A84826",blockCreated:4806386}},testnet:!1}),Lse=h({id:8428,name:"THAT Mainnet",nativeCurrency:{name:"THAT",symbol:"THAT",decimals:18},rpcUrls:{default:{http:["https://api.thatchain.io/mainnet"]}},blockExplorers:{default:{name:"Blockscout",url:"https://that.blockscout.com"}},testnet:!1}),zse=h({id:361,name:"Theta Mainnet",nativeCurrency:{name:"TFUEL",symbol:"TFUEL",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-api.thetatoken.org/rpc"]}},blockExplorers:{default:{name:"Theta Explorer",url:"https://explorer.thetatoken.org"}},testnet:!1}),Qse=h({id:365,name:"Theta Testnet",nativeCurrency:{name:"TFUEL",symbol:"TFUEL",decimals:18},rpcUrls:{default:{http:["https://eth-rpc-api-testnet.thetatoken.org/rpc"]}},blockExplorers:{default:{name:"Theta Explorer",url:"https://testnet-explorer.thetatoken.org"}},testnet:!0}),Pse=h({id:108,name:"ThunderCore Mainnet",nativeCurrency:{name:"TT",symbol:"TT",decimals:18},rpcUrls:{default:{http:["https://mainnet-rpc.thundercore.com"]}},blockExplorers:{default:{name:"ThunderCore Explorer",url:"https://explorer-mainnet.thundercore.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:0}},testnet:!1}),Ose=h({id:997,name:"5ireChain Thunder Testnet",nativeCurrency:{name:"5ire Token",symbol:"5IRE",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.5ire.network"]}},blockExplorers:{default:{name:"5ireChain Thunder Explorer",url:"https://testnet.5irescan.io/"}},testnet:!0}),jse=h({id:62092,name:"TikTrix Testnet",nativeCurrency:{name:"tTTX",symbol:"tTTX",decimals:18},rpcUrls:{default:{http:["https://tiktrix-rpc.xyz"]}},blockExplorers:{default:{name:"TikTrix Testnet Explorer",url:"https://tiktrix.xyz"}},testnet:!0}),_se=h({id:6969,name:"Tomb Mainnet",nativeCurrency:{name:"TOMB",symbol:"TOMB",decimals:18},rpcUrls:{default:{http:["https://rpc.tombchain.com"]}},blockExplorers:{default:{name:"Tomb Explorer",url:"https://tombscout.com"}},testnet:!1}),$se=h({...Xa,id:61166,name:"Treasure",nativeCurrency:{decimals:18,name:"MAGIC",symbol:"MAGIC"},rpcUrls:{default:{http:["https://rpc.treasure.lol"],webSocket:["wss://rpc.treasure.lol/ws"]}},blockExplorers:{default:{name:"Treasure Block Explorer",url:"https://treasurescan.io"}},contracts:{multicall3:{address:"0x2e29fe39496a56856D8698bD43e1dF4D0CE6266a",blockCreated:101}},testnet:!1}),qse=h({...Xa,id:978658,name:"Treasure Topaz Testnet",nativeCurrency:{decimals:18,name:"MAGIC",symbol:"MAGIC"},rpcUrls:{default:{http:["https://rpc.topaz.treasure.lol"],webSocket:["wss://rpc.topaz.treasure.lol/ws"]}},blockExplorers:{default:{name:"Treasure Topaz Block Explorer",url:"https://topaz.treasurescan.io"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963",blockCreated:108112}},testnet:!0}),eie=h({id:728126428,name:"Tron",nativeCurrency:{name:"TRON",symbol:"TRX",decimals:6},rpcUrls:{default:{http:["https://api.trongrid.io/jsonrpc"]}},blockExplorers:{default:{name:"Tronscan",url:"https://tronscan.org",apiUrl:"https://apilist.tronscanapi.com/api"}}}),tie=h({id:2494104990,name:"Tron Shasta",nativeCurrency:{name:"TRON",symbol:"TRX",decimals:6},rpcUrls:{default:{http:["https://api.shasta.trongrid.io/jsonrpc"]}},blockExplorers:{default:{name:"Tronscan",url:"https://shasta.tronscan.org"}},testnet:!0}),nie=h({id:8,name:"Ubiq Mainnet",nativeCurrency:{name:"UBQ",symbol:"UBQ",decimals:18},rpcUrls:{default:{http:["https://pyrus2.ubiqscan.io"]}},blockExplorers:{default:{name:"Ubiq Scan",url:"https://ubiqscan.io"}},testnet:!1}),aie=h({id:19991,name:"Ultra EVM",nativeCurrency:{decimals:18,name:"Ultra Token",symbol:"UOS"},rpcUrls:{default:{http:["https://evm.ultra.eosusa.io"]}},blockExplorers:{default:{name:"Ultra EVM Explorer",url:"https://evmexplorer.ultra.io"}}}),sie=h({id:18881,name:"Ultra EVM Testnet",nativeCurrency:{decimals:18,name:"Ultra Token",symbol:"UOS"},rpcUrls:{default:{http:["https://evm.test.ultra.eosusa.io"]}},blockExplorers:{default:{name:"Ultra EVM Testnet Explorer",url:"https://evmexplorer.testnet.ultra.io"}},testnet:!0}),iie=h({id:1231,name:"Ultron Mainnet",nativeCurrency:{name:"ULX",symbol:"ULX",decimals:18},rpcUrls:{default:{http:["https://ultron-rpc.net"]}},blockExplorers:{default:{name:"Ultron Scan",url:"https://ulxscan.com"}},testnet:!1}),rie=h({id:1230,name:"Ultron Testnet",nativeCurrency:{name:"ULX",symbol:"ULX",decimals:18},rpcUrls:{default:{http:["https://ultron-dev.io"]}},blockExplorers:{default:{name:"Ultron Scan",url:"https://explorer.ultron-dev.io"}},testnet:!0}),Xp=1,oie=h({...be,id:130,name:"Unichain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://mainnet.unichain.org/"]}},blockExplorers:{default:{name:"Uniscan",url:"https://uniscan.xyz",apiUrl:"https://api.uniscan.xyz/api"}},contracts:{...be.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[Xp]:{address:"0x2F12d621a16e2d3285929C9996f478508951dFe4"}},portal:{[Xp]:{address:"0x0bd48f6B86a26D3a217d0Fa6FfE2B491B956A7a2"}},l1StandardBridge:{[Xp]:{address:"0x81014F44b0a345033bB2b3B21C7a1A308B35fEeA"}}},sourceId:Xp}),Jp=11155111,lie=h({...be,id:1301,name:"Unichain Sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.unichain.org"]}},blockExplorers:{default:{name:"Uniscan",url:"https://sepolia.uniscan.xyz",apiUrl:"https://api-sepolia.uniscan.xyz/api"}},contracts:{...be.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},portal:{[Jp]:{address:"0x0d83dab629f0e0F9d36c0Cbc89B69a489f0751bD"}},l1StandardBridge:{[Jp]:{address:"0xea58fcA6849d79EAd1f26608855c2D6407d54Ce2"}},disputeGameFactory:{[Jp]:{address:"0xeff73e5aa3B9AEC32c659Aa3E00444d20a84394b"}}},testnet:!0,sourceId:Jp}),cie=h({id:8880,name:"Unique Mainnet",nativeCurrency:{decimals:18,name:"UNQ",symbol:"UNQ"},rpcUrls:{default:{http:["https://rpc.unique.network"]}},blockExplorers:{default:{name:"Unique Subscan",url:"https://unique.subscan.io/"}}}),gie=h({id:8882,name:"Opal Testnet",nativeCurrency:{decimals:18,name:"OPL",symbol:"OPL"},rpcUrls:{default:{http:["https://rpc-opal.unique.network"]}},blockExplorers:{default:{name:"Opal Subscan",url:"https://opal.subscan.io/"}},testnet:!0}),die=h({id:8881,name:"Quartz Mainnet",nativeCurrency:{decimals:18,name:"QTZ",symbol:"QTZ"},rpcUrls:{default:{http:["https://rpc-quartz.unique.network"]}},blockExplorers:{default:{name:"Quartz Subscan",url:"https://quartz.subscan.io/"}}}),Iie=h({id:18233,name:"Unreal",nativeCurrency:{name:"reETH",decimals:18,symbol:"reETH"},rpcUrls:{default:{http:["https://rpc.unreal-orbit.gelato.digital"]}},blockExplorers:{default:{name:"Unreal Explorer",url:"https://unreal.blockscout.com",apiUrl:"https://unreal.blockscout.com/api/v2"}},testnet:!0,contracts:{multicall3:{address:"0x8b6B0e60D8CD84898Ea8b981065A12F876eA5677",blockCreated:1745}}}),uie=h({id:2040,name:"Vanar Mainnet",nativeCurrency:{name:"VANRY",symbol:"VANRY",decimals:18},rpcUrls:{default:{http:["https://rpc.vanarchain.com"]}},blockExplorers:{default:{name:"Vanar Mainnet Explorer",url:"https://explorer.vanarchain.com/"}},testnet:!1}),Cie=h({id:100009,name:"Vechain",nativeCurrency:{name:"VeChain",symbol:"VET",decimals:18},rpcUrls:{default:{http:["https://mainnet.vechain.org"]}},blockExplorers:{default:{name:"Vechain Explorer",url:"https://explore.vechain.org"},vechainStats:{name:"Vechain Stats",url:"https://vechainstats.com"}}}),pie=h({id:106,name:"Velas EVM Mainnet",nativeCurrency:{name:"VLX",symbol:"VLX",decimals:18},rpcUrls:{default:{http:["https://evmexplorer.velas.com/rpc"]}},blockExplorers:{default:{name:"Velas Explorer",url:"https://evmexplorer.velas.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:55883577}},testnet:!1}),mie=h({id:88,name:"Viction",nativeCurrency:{name:"Viction",symbol:"VIC",decimals:18},rpcUrls:{default:{http:["https://rpc.viction.xyz"]}},blockExplorers:{default:{name:"VIC Scan",url:"https://vicscan.xyz"}},testnet:!1}),Aie=h({id:89,name:"Viction Testnet",nativeCurrency:{name:"Viction",symbol:"VIC",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet.viction.xyz"]}},blockExplorers:{default:{name:"VIC Scan",url:"https://testnet.vicscan.xyz"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:12170179}},testnet:!0}),yie=h({id:888888,name:"Vision",nativeCurrency:{name:"VISION",symbol:"VS",decimals:18},rpcUrls:{default:{http:["https://infragrid.v.network/ethereum/compatible"]}},blockExplorers:{default:{name:"Vision Scan",url:"https://visionscan.org"}},testnet:!1}),bie=h({id:666666,name:"Vision Testnet",nativeCurrency:{name:"VISION",symbol:"VS",decimals:18},rpcUrls:{default:{http:["https://vpioneer.infragrid.v.network/ethereum/compatible"]}},blockExplorers:{default:{name:"Vision Scan",url:"https://visionscan.org/?chain=vpioneer"}},testnet:!0}),hie=h({id:888,name:"Wanchain",nativeCurrency:{name:"WANCHAIN",symbol:"WAN",decimals:18},rpcUrls:{default:{http:["https://gwan-ssl.wandevs.org:56891","https://gwan2-ssl.wandevs.org"]}},blockExplorers:{default:{name:"WanScan",url:"https://wanscan.org"}},contracts:{multicall3:{address:"0xcDF6A1566e78EB4594c86Fe73Fcdc82429e97fbB",blockCreated:25312390}}}),fie=h({id:999,name:"Wanchain Testnet",nativeCurrency:{name:"WANCHAIN",symbol:"WANt",decimals:18},rpcUrls:{default:{http:["https://gwan-ssl.wandevs.org:46891"]}},blockExplorers:{default:{name:"WanScanTest",url:"https://wanscan.org"}},contracts:{multicall3:{address:"0x11c89bF4496c39FB80535Ffb4c92715839CC5324",blockCreated:24743448}},testnet:!0}),Zie=h({id:9496,name:"WeaveVM Alphanet",nativeCurrency:{name:"Testnet WeaveVM",symbol:"tWVM",decimals:18},rpcUrls:{default:{http:["https://testnet-rpc.wvm.dev"]}},blockExplorers:{default:{name:"WeaveVM Alphanet Explorer",url:"https://explorer.wvm.dev"}},testnet:!0}),Gie=h({id:1111,name:"WEMIX",network:"wemix-mainnet",nativeCurrency:{name:"WEMIX",symbol:"WEMIX",decimals:18},rpcUrls:{default:{http:["https://api.wemix.com"]}},blockExplorers:{default:{name:"wemixExplorer",url:"https://explorer.wemix.com"}}}),Bie=h({id:1112,name:"WEMIX Testnet",network:"wemix-testnet",nativeCurrency:{name:"WEMIX",symbol:"tWEMIX",decimals:18},rpcUrls:{default:{http:["https://api.test.wemix.com"]}},blockExplorers:{default:{name:"wemixExplorer",url:"https://testnet.wemixscan.com",apiUrl:"https://testnet.wemixscan.com/api"}},testnet:!0}),Sie=h({id:420420421,name:"Westend Asset Hub",nativeCurrency:{decimals:18,name:"Westies",symbol:"WND"},rpcUrls:{default:{http:["https://westend-asset-hub-eth-rpc.polkadot.io"]}},blockExplorers:{default:{name:"subscan",url:"https://westend-asset-hub-eth-explorer.parity.io"}},testnet:!0}),wie=h({testnet:!1,name:"Whitechain",blockExplorers:{default:{name:"Whitechain Explorer",url:"https://explorer.whitechain.io"}},id:1875,rpcUrls:{default:{http:["https://rpc.whitechain.io"]}},nativeCurrency:{decimals:18,name:"WhiteBIT Coin",symbol:"WBT"},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:25212237}}}),kie=h({testnet:!0,name:"Whitechain Testnet",blockExplorers:{default:{name:"Whitechain Explorer",url:"https://testnet.whitechain.io"}},id:2625,rpcUrls:{default:{http:["https://rpc-testnet.whitechain.io"]}},nativeCurrency:{decimals:18,name:"WhiteBIT Coin",symbol:"WBT"}}),Vie=h({id:42070,name:"WMC Testnet",nativeCurrency:{name:"WMTx",symbol:"WMTx",decimals:18},rpcUrls:{default:{http:["https://rpc-testnet-base.worldmobile.net"]}},blockExplorers:{default:{name:"WMC Explorer",url:"https://explorer2-base-testnet.worldmobile.net"}},testnet:!0}),Od=1,Rie=h({...be,id:480,name:"World Chain",network:"worldchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-mainnet.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan",url:"https://worldscan.org",apiUrl:"https://api.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-mainnet.explorer.alchemy.com",apiUrl:"https://worldchain-mainnet.explorer.alchemy.com/api"}},contracts:{...be.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[Od]:{address:"0x069c4c579671f8c120b1327a73217D01Ea2EC5ea"}},l2OutputOracle:{[Od]:{address:"0x19A6d1E9034596196295CF148509796978343c5D"}},portal:{[Od]:{address:"0xd5ec14a83B7d95BE1E2Ac12523e2dEE12Cbeea6C"}},l1StandardBridge:{[Od]:{address:"0x470458C91978D2d929704489Ad730DC3E3001113"}}},testnet:!1,sourceId:Od}),jd=11155111,Wie=h({...be,id:4801,name:"World Chain Sepolia",network:"worldchain-sepolia",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://worldchain-sepolia.g.alchemy.com/public"]}},blockExplorers:{default:{name:"Worldscan Sepolia",url:"https://sepolia.worldscan.org",apiUrl:"https://api-sepolia.worldscan.org/api"},blockscout:{name:"Blockscout",url:"https://worldchain-sepolia.explorer.alchemy.com",apiUrl:"https://worldchain-sepolia.explorer.alchemy.com/api"}},contracts:{...be.contracts,multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:0},disputeGameFactory:{[jd]:{address:"0x8Ec1111f67Dad6b6A93B3F42DfBC92D81c98449A"}},l2OutputOracle:{[jd]:{address:"0xc8886f8BAb6Eaeb215aDB5f1c686BF699248300e"}},portal:{[jd]:{address:"0xFf6EBa109271fe6d4237EeeD4bAb1dD9A77dD1A4"}},l1StandardBridge:{[jd]:{address:"0xd7DF54b3989855eb66497301a4aAEc33Dbb3F8DE"}}},testnet:!0,sourceId:jd}),vie=h({id:103,name:"WorldLand Mainnet",nativeCurrency:{decimals:18,name:"WLC",symbol:"WLC"},rpcUrls:{default:{http:["https://seoul.worldland.foundation"]}},blockExplorers:{default:{name:"WorldLand Scan",url:"https://scan.worldland.foundation"}},testnet:!1}),Eie=h({id:660279,name:"Xai Mainnet",nativeCurrency:{name:"Xai",symbol:"XAI",decimals:18},rpcUrls:{default:{http:["https://xai-chain.net/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.xai-chain.net"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:222549}},testnet:!1}),Xie=h({id:37714555429,name:"Xai Testnet",nativeCurrency:{name:"sXai",symbol:"sXAI",decimals:18},rpcUrls:{default:{http:["https://testnet-v2.xai-chain.net/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://testnet-explorer-v2.xai-chain.net"}},testnet:!0}),Jie=h({id:50,name:"XDC Network",nativeCurrency:{decimals:18,name:"XDC",symbol:"XDC"},rpcUrls:{default:{http:["https://rpc.xdcrpc.com"]}},blockExplorers:{default:{name:"XDCScan",url:"https://xdcscan.com"}},contracts:{multicall3:{address:"0x0B1795ccA8E4eC4df02346a082df54D437F8D9aF",blockCreated:75884020}}}),xie=h({id:51,name:"Apothem Network",nativeCurrency:{decimals:18,name:"TXDC",symbol:"TXDC"},rpcUrls:{default:{http:["https://erpc.apothem.network"]}},blockExplorers:{default:{name:"XDCScan",url:"https://testnet.xdcscan.com"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:59765389}}}),Nie=h({id:196,name:"X Layer Mainnet",nativeCurrency:{decimals:18,name:"OKB",symbol:"OKB"},rpcUrls:{default:{http:["https://rpc.xlayer.tech"]}},blockExplorers:{default:{name:"OKLink",url:"https://www.oklink.com/xlayer",apiUrl:"https://www.oklink.com/api/v5/explorer/xlayer/api"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:47416}}}),I3=h({id:195,name:"X1 Testnet",nativeCurrency:{decimals:18,name:"OKB",symbol:"OKB"},rpcUrls:{default:{http:["https://xlayertestrpc.okx.com"]}},blockExplorers:{default:{name:"OKLink",url:"https://www.oklink.com/xlayer-test"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:624344}},testnet:!0}),Hie=h({id:273,name:"XR One",nativeCurrency:{decimals:18,name:"XR1",symbol:"XR1"},rpcUrls:{default:{http:["https://xr1.calderachain.xyz/http"],webSocket:["wss://xr1.calderachain.xyz/ws"]}},blockExplorers:{default:{name:"Blockscout",url:"https://xr1.calderaexplorer.xyz"}},testnet:!1}),Tie=h({id:1440002,name:"XRPL EVM Devnet",nativeCurrency:{name:"XRP",symbol:"XRP",decimals:18},rpcUrls:{default:{http:["https://rpc.xrplevm.org/"]},public:{http:["https://rpc.xrplevm.org/"]}},blockExplorers:{default:{name:"XRPLEVM Devnet Explorer",url:"https://explorer.xrplevm.org/"}},contracts:{multicall3:{address:"0x82Cc144D7d0AD4B1c27cb41420e82b82Ad6e9B31",blockCreated:15237286}},testnet:!0}),Yie=h({id:1449e3,name:"XRPL EVM Testnet",nativeCurrency:{name:"XRP",symbol:"XRP",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.xrplevm.org"]}},blockExplorers:{default:{name:"blockscout",url:"https://explorer.testnet.xrplevm.org",apiUrl:"https://explorer.testnet.xrplevm.org/api/v2"}},contracts:{multicall3:{address:"0x82Cc144D7d0AD4B1c27cb41420e82b82Ad6e9B31",blockCreated:492302}},testnet:!0}),Fie=h({id:2730,name:"XR Sepolia",nativeCurrency:{decimals:18,name:"tXR",symbol:"tXR"},rpcUrls:{default:{http:["https://xr-sepolia-testnet.rpc.caldera.xyz/http"]}},blockExplorers:{default:{name:"Blockscout",url:"https://xr-sepolia-testnet.explorer.caldera.xyz"}},testnet:!0}),Kie=h({id:50005,name:"Yooldo Verse",nativeCurrency:{name:"OAS",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.yooldo-verse.xyz"]}},blockExplorers:{default:{name:"Yooldo Verse Explorer",url:"https://explorer.yooldo-verse.xyz"}}}),Mie=h({id:50006,name:"Yooldo Verse Testnet",nativeCurrency:{name:"OAS",symbol:"OAS",decimals:18},rpcUrls:{default:{http:["https://rpc.testnet.yooldo-verse.xyz"]}},blockExplorers:{default:{name:"Yooldo Verse Testnet Explorer",url:"https://explorer.testnet.yooldo-verse.xyz"}},testnet:!0}),Uie=h({id:8408,name:"ZenChain Testnet",nativeCurrency:{decimals:18,name:"ZTC",symbol:"ZTC"},rpcUrls:{default:{http:["https://zenchain-testnet.api.onfinality.io/public"],webSocket:["wss://zenchain-testnet.api.onfinality.io/public-ws"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:230019}},blockExplorers:{default:{name:"Zentrace",url:"https://zentrace.io"}},testnet:!0}),Die=h({id:383414847825,name:"Zeniq Mainnet",nativeCurrency:{name:"ZENIQ",symbol:"ZENIQ",decimals:18},rpcUrls:{default:{http:["https://api.zeniq.network"]}},blockExplorers:{default:{name:"Zeniq Explorer",url:"https://zeniqscan.com"}},testnet:!1}),Lie=h({id:16600,name:"0G Newton Testnet",nativeCurrency:{name:"A0GI",symbol:"A0GI",decimals:18},rpcUrls:{default:{http:["https://evmrpc-testnet.0g.ai"]}},blockExplorers:{default:{name:"0G BlockChain Explorer",url:"https://chainscan-newton.0g.ai"}},testnet:!0}),zie=h({id:543210,name:"Zero Network",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.zerion.io/v1/zero"]}},blockExplorers:{default:{name:"Zero Network Explorer",url:"https://explorer.zero.network"}},testnet:!1}),Qie=h({id:7e3,name:"ZetaChain",nativeCurrency:{decimals:18,name:"Zeta",symbol:"ZETA"},rpcUrls:{default:{http:["https://zetachain-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:1632781}},blockExplorers:{default:{name:"ZetaScan",url:"https://explorer.zetachain.com"}},testnet:!1}),Pie=h({id:7001,name:"ZetaChain Athens Testnet",nativeCurrency:{decimals:18,name:"Zeta",symbol:"aZETA"},rpcUrls:{default:{http:["https://zetachain-athens-evm.blockpi.network/v1/rpc/public"]}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:2715217}},blockExplorers:{default:{name:"ZetaScan",url:"https://athens.explorer.zetachain.com"}},testnet:!0}),Oie=h({id:1337803,name:"Zhejiang",nativeCurrency:{name:"Zhejiang Ether",symbol:"ZhejETH",decimals:18},rpcUrls:{default:{http:["https://rpc.zhejiang.ethpandaops.io"]}},blockExplorers:{default:{name:"Beaconchain",url:"https://zhejiang.beaconcha.in"}},testnet:!0}),jie=h({id:32769,name:"Zilliqa",network:"zilliqa",nativeCurrency:{name:"Zilliqa",symbol:"ZIL",decimals:18},rpcUrls:{default:{http:["https://api.zilliqa.com"]}},blockExplorers:{default:{name:"Ethernal",url:"https://evmx.zilliqa.com"}},testnet:!1}),_ie=h({id:33101,name:"Zilliqa Testnet",network:"zilliqa-testnet",nativeCurrency:{name:"Zilliqa",symbol:"ZIL",decimals:18},rpcUrls:{default:{http:["https://dev-api.zilliqa.com"]}},blockExplorers:{default:{name:"Ethernal",url:"https://evmx.testnet.zilliqa.com"}},testnet:!0}),th=1,$ie=h({...be,id:48900,name:"Zircuit Mainnet",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.zircuit.com","https://zircuit1-mainnet.liquify.com","https://zircuit1-mainnet.p2pify.com","https://zircuit-mainnet.drpc.org"]}},blockExplorers:{default:{name:"Zircuit Explorer",url:"https://explorer.zircuit.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"},l2OutputOracle:{[th]:{address:"0x92Ef6Af472b39F1b363da45E35530c24619245A4"}},portal:{[th]:{address:"0x17bfAfA932d2e23Bd9B909Fd5B4D2e2a27043fb1"}},l1StandardBridge:{[th]:{address:"0x386B76D9cA5F5Fb150B6BFB35CF5379B22B26dd8"}}},testnet:!1}),nh=11155111,qie=h({...be,id:48898,name:"Zircuit Garfield Testnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://garfield-testnet.zircuit.com/"]}},blockExplorers:{default:{name:"Zircuit Garfield Testnet Explorer",url:"https://explorer.garfield-testnet.zircuit.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11"},l2OutputOracle:{[nh]:{address:"0xd69D3AC5CA686cCF94b258291772bc520FEAf211"}},portal:{[nh]:{address:"0x4E21A71Ac3F7607Da5c06153A17B1DD20E702c21"}},l1StandardBridge:{[nh]:{address:"0x87a7E2bCA9E35BA49282E832a28A6023904460D8"}}},testnet:!0}),ah=11155111,ere=h({...be,id:48899,name:"Zircuit Testnet",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://testnet.zircuit.com","https://zircuit1-testnet.p2pify.com","https://zircuit1-testnet.liquify.com"]}},blockExplorers:{default:{name:"Zircuit Testnet Explorer",url:"https://explorer.testnet.zircuit.com"}},contracts:{multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:6040287},l2OutputOracle:{[ah]:{address:"0x740C2dac453aEf7140809F80b72bf0e647af8148"}},portal:{[ah]:{address:"0x787f1C8c5924178689E0560a43D848bF8E54b23e"}},l1StandardBridge:{[ah]:{address:"0x0545c5fe980098C16fcD0eCB5E79753afa6d9af9"}}},testnet:!0}),tre=h({id:42766,name:"ZKFair Mainnet",network:"zkfair-mainnet",nativeCurrency:{decimals:18,name:"USD Coin",symbol:"USDC"},rpcUrls:{default:{http:["https://rpc.zkfair.io"]}},blockExplorers:{default:{name:"zkFair Explorer",url:"https://scan.zkfair.io",apiUrl:"https://scan.zkfair.io/api"}},contracts:{multicall3:{address:"0xca11bde05977b3631167028862be2a173976ca11",blockCreated:6090959}},testnet:!1}),nre=h({id:43851,name:"ZKFair Testnet",network:"zkfair-testnet",nativeCurrency:{decimals:18,name:"USD Coin",symbol:"USDC"},rpcUrls:{default:{http:["https://testnet-rpc.zkfair.io"]}},blockExplorers:{default:{name:"zkFair Explorer",url:"https://testnet-scan.zkfair.io"}},testnet:!0}),are=h({id:810180,name:"zkLink Nova",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zklink.io"]}},blockExplorers:{default:{name:"zkLink Nova Block Explorer",url:"https://explorer.zklink.io"}}}),sre=h({id:810181,name:"zkLink Nova Sepolia Testnet",nativeCurrency:{decimals:18,name:"ETH",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zklink.io"]}},blockExplorers:{default:{name:"zkLink Nova Block Explorer",url:"https://sepolia.explorer.zklink.io"}}}),u3=h({...Xa,id:324,name:"ZKsync Era",network:"zksync-era",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://mainnet.era.zksync.io"],webSocket:["wss://mainnet.era.zksync.io/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://era.zksync.network/",apiUrl:"https://api-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://explorer.zksync.io/",apiUrl:"https://block-explorer-api.mainnet.zksync.io/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:45659388}}}),C3=h({...Xa,id:260,name:"ZKsync InMemory Node",network:"zksync-in-memory-node",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:8011"]}},testnet:!0}),ire=h({...Xa,id:272,name:"ZKsync CLI Local Custom Hyperchain",nativeCurrency:{name:"BAT",symbol:"BAT",decimals:18},rpcUrls:{default:{http:["http://localhost:15200"],webSocket:["ws://localhost:15201"]}},blockExplorers:{default:{name:"ZKsync explorer",url:"http://localhost:15005/",apiUrl:"http://localhost:15005/api"}},testnet:!0}),rre=h({...Xa,id:270,name:"ZKsync CLI Local Hyperchain",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:15100"],webSocket:["ws://localhost:15101"]}},blockExplorers:{default:{name:"ZKsync explorer",url:"http://localhost:15005/",apiUrl:"http://localhost:15005/api"}},testnet:!0}),ore=h({id:9,name:"ZKsync CLI Local Hyperchain L1",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:15045"]}},blockExplorers:{default:{name:"Blockscout",url:"http://localhost:15001/",apiUrl:"http://localhost:15001/api/v2"}},testnet:!0}),p3=h({...Xa,id:270,name:"ZKsync CLI Local Node",network:"zksync-cli-local-node",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["http://localhost:3050"]}},testnet:!0}),m3=h({...Xa,id:300,name:"ZKsync Sepolia Testnet",network:"zksync-sepolia-testnet",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://sepolia.era.zksync.dev"],webSocket:["wss://sepolia.era.zksync.dev/ws"]}},blockExplorers:{default:{name:"Etherscan",url:"https://sepolia-era.zksync.network/",apiUrl:"https://api-sepolia-era.zksync.network/api"},native:{name:"ZKsync Explorer",url:"https://sepolia.explorer.zksync.io/",blockExplorerApi:"https://block-explorer-api.sepolia.zksync.dev/api"}},contracts:{multicall3:{address:"0xF9cda624FBC7e059355ce98a31693d299FACd963"},universalSignatureVerifier:{address:"0xfB688330379976DA81eB64Fe4BF50d7401763B9C",blockCreated:3855712}},testnet:!0}),xp=1,lre=h({...be,id:7777777,name:"Zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy",apiUrl:"https://explorer.zora.energy/api"}},contracts:{...be.contracts,l2OutputOracle:{[xp]:{address:"0x9E6204F750cD866b299594e2aC9eA824E2e5f95c"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:5882},portal:{[xp]:{address:"0x1a0ad011913A150f69f6A19DF447A0CfD9551054"}},l1StandardBridge:{[xp]:{address:"0x3e2Ea9B92B7E48A52296fD261dc26fd995284631"}}},sourceId:xp}),Np=11155111,cre=h({...be,id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/",apiUrl:"https://sepolia.explorer.zora.energy/api"}},contracts:{...be.contracts,l2OutputOracle:{[Np]:{address:"0x2615B481Bd3E5A1C0C7Ca3Da1bdc663E8615Ade9"}},multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:83160},portal:{[Np]:{address:"0xeffE2C6cA9Ab797D418f0D91eA60807713f3536f"}},l1StandardBridge:{[Np]:{address:"0x5376f1D543dcbB5BD416c56C189e4cB7399fCcCB"}}},sourceId:Np,testnet:!0}),A3=5,gre=h({...be,id:999,name:"Zora Goerli Testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy",apiUrl:"https://testnet.explorer.zora.energy/api"}},contracts:{...be.contracts,multicall3:{address:"0xcA11bde05977b3631167028862bE2a173976CA11",blockCreated:189123},portal:{[A3]:{address:"0xDb9F51790365e7dc196e7D072728df39Be958ACe"}}},sourceId:A3,testnet:!0}),dre=Object.freeze(Object.defineProperty({__proto__:null,abey:WP,abstract:KP,abstractTestnet:MP,acala:UP,acria:DP,adf:LP,aioz:zP,alephZero:QP,alephZeroTestnet:PP,alienx:OP,alienxHalTestnet:jP,ancient8:tO,ancient8Sepolia:nO,anvil:aO,apeChain:iO,apexTestnet:rO,arbitrum:oO,arbitrumGoerli:lO,arbitrumNova:cO,arbitrumSepolia:gO,arenaz:dO,areonNetwork:IO,areonNetworkTestnet:uO,artelaTestnet:CO,arthera:pO,artheraTestnet:mO,assetChain:AO,assetChainTestnet:yO,astar:bO,astarZkEVM:hO,astarZkyoto:fO,atletaOlympia:ZO,aurora:GO,auroraTestnet:BO,auroria:SO,avalanche:wO,avalancheFuji:kO,b3:RO,b3Sepolia:vO,bahamut:EO,base:XO,baseGoerli:xO,baseSepolia:NO,basecampTestnet:JO,beam:HO,beamTestnet:TO,bearNetworkChainMainnet:YO,bearNetworkChainTestnet:FO,berachain:KO,berachainBepolia:MO,berachainTestnet:UO,berachainTestnetbArtio:DO,bevmMainnet:LO,bifrost:zO,birdlayer:tj,bitTorrent:qO,bitTorrentTestnet:ej,bitgert:QO,bitkub:PO,bitkubTestnet:OO,bitlayer:jO,bitlayerTestnet:_O,bitrock:$O,blast:aj,blastSepolia:ij,bob:rj,bobSepolia:cj,boba:oj,bobaSepolia:lj,boolBetaMainnet:gj,botanixTestnet:dj,bounceBit:Ij,bounceBitTestnet:uj,bronos:Cj,bronosTestnet:pj,bsc:mj,bscGreenfield:Aj,bscTestnet:yj,bsquared:bj,bsquaredTestnet:hj,btr:fj,btrTestnet:Zj,bxn:Gj,bxnTestnet:Bj,cannon:Sj,canto:wj,celo:Hj,celoAlfajores:Tj,chang:Yj,chiliz:Fj,chips:Kj,citreaTestnet:Mj,classic:Uj,coinbit:Dj,coinex:Lj,confluxESpace:zj,confluxESpaceTestnet:Qj,coreDao:Pj,coreTestnet1:Oj,coreTestnet2:jj,corn:$j,cornTestnet:e_,crab:t_,creatorTestnet:n_,creditCoin3Mainnet:a_,creditCoin3Testnet:s_,cronos:i_,cronosTestnet:r_,cronoszkEVM:o_,cronoszkEVMTestnet:l_,crossbell:c_,curtis:g_,cyber:d_,cyberTestnet:I_,dailyNetwork:u_,dailyNetworkTestnet:C_,darwinia:p_,dbkchain:m_,dchain:A_,dchainTestnet:y_,defichainEvm:b_,defichainEvmTestnet:h_,degen:f_,dfk:Z_,diode:G_,disChain:B_,dodochainTestnet:S_,dogechain:w_,donatuz:k_,dosChain:V_,dosChainTestnet:R_,dreyerxMainnet:W_,dreyerxTestnet:v_,dustboyIoT:E_,dymension:X_,edexa:x_,edexaTestnet:J_,edgeless:N_,edgelessTestnet:H_,edgeware:T_,edgewareTestnet:Y_,eduChain:F_,eduChainTestnet:K_,ekta:M_,ektaTestnet:U_,elastos:D_,elastosTestnet:L_,electroneum:z_,electroneumTestnet:Q_,elysiumTestnet:P_,energy:O_,enuls:j_,eon:__,eos:$_,eosTestnet:q_,etherlink:e$,etherlinkTestnet:t$,ethernity:n$,etp:a$,evmos:s$,evmosTestnet:i$,excelonMainnet:r$,expanse:o$,exsat:l$,exsatTestnet:c$,fantom:g$,fantomSonicTestnet:d$,fantomTestnet:I$,fibo:u$,filecoin:C$,filecoinCalibration:p$,filecoinHyperspace:m$,fireChain:A$,flame:y$,flare:b$,flareTestnet:h$,flowMainnet:f$,flowPreviewnet:Z$,flowTestnet:G$,fluence:B$,fluenceStage:S$,fluenceTestnet:w$,fluentTestnet:k$,form:R$,formTestnet:v$,forma:V$,formicarium:W$,forta:E$,foundry:X$,fraxtal:J$,fraxtalTestnet:x$,funkiMainnet:H$,funkiSepolia:Y$,fuse:F$,fuseSparknet:K$,fusion:M$,fusionTestnet:U$,garnet:D$,geist:L$,genesys:z$,glideL1Protocol:Q$,glideL2Protocol:P$,gnosis:O$,gnosisChiado:j$,goChain:q$,goat:_$,gobi:$$,godwoken:eq,goerli:tq,gravity:nq,gunz:aq,guruNetwork:sq,guruTestnet:iq,ham:rq,happychainTestnet:oq,haqqMainnet:lq,haqqTestedge2:cq,hardhat:gq,harmonyOne:dq,hashkey:Iq,hashkeyTestnet:uq,haustTestnet:Cq,hedera:pq,hederaPreviewnet:mq,hederaTestnet:Aq,hela:yq,hemi:bq,hemiSepolia:hq,holesky:fq,hoodi:Zq,hpb:Gq,huddle01Mainnet:Sq,huddle01Testnet:kq,humanode:Vq,humanodeTestnet5:Rq,hychain:Wq,hychainTestnet:vq,iSunCoin:Dq,idchain:Eq,immutableZkEvm:Xq,immutableZkEvmTestnet:Jq,inEVM:xq,initVerse:Nq,initVerseGenesis:Hq,ink:Tq,inkSepolia:Yq,iota:Fq,iotaTestnet:Kq,iotex:Mq,iotexTestnet:Uq,jbc:Lq,jbcTestnet:zq,juneo:Qq,juneoBCH1Chain:Pq,juneoDAI1Chain:Oq,juneoDOGE1Chain:jq,juneoEUR1Chain:_q,juneoGLD1Chain:$q,juneoLINK1Chain:qq,juneoLTC1Chain:eee,juneoSGD1Chain:nee,juneoSocotraTestnet:aee,juneoUSD1Chain:see,juneoUSDT1Chain:iee,juneomBTC1Chain:tee,kaia:pee,kairos:mee,kakarotSepolia:oee,kakarotStarknetSepolia:lee,kardiaChain:cee,karura:ree,kava:gee,kavaTestnet:dee,kcc:Iee,kinto:uee,klaytn:Cee,klaytnBaobab:Aee,koi:yee,kroma:bee,kromaSepolia:hee,l3x:fee,l3xTestnet:Zee,lavita:Gee,lens:Bee,lensTestnet:See,lestnet:wee,lightlinkPegasus:kee,lightlinkPhoenix:Vee,linea:Wee,lineaGoerli:vee,lineaSepolia:Eee,lineaTestnet:Xee,lisk:Jee,liskSepolia:xee,localhost:Nee,loop:Hee,lukso:Tee,luksoTestnet:Yee,lumiaMainnet:Fee,lumiaTestnet:Kee,lumoz:Mee,lumozTestnet:Uee,lycan:Dee,lyra:Lee,mainnet:zee,mandala:Qee,manta:Pee,mantaSepoliaTestnet:Oee,mantaTestnet:jee,mantle:_ee,mantleSepoliaTestnet:$ee,mantleTestnet:qee,mapProtocol:ete,matchain:tte,matchainTestnet:nte,mchVerse:ate,megaethTestnet:ste,mekong:ite,meld:rte,memecore:ote,merlin:lte,merlinErigonTestnet:cte,metachain:gte,metachainIstanbul:dte,metadium:Ite,metalL2:ute,meter:Cte,meterTestnet:pte,metis:mte,metisGoerli:yte,metisSepolia:Ate,mev:bte,mevTestnet:hte,mint:fte,mintSepoliaTestnet:Zte,mitosisTestnet:Gte,mode:Bte,modeTestnet:Ste,monadTestnet:wte,moonbaseAlpha:kte,moonbeam:Vte,moonbeamDev:Rte,moonriver:Wte,morph:vte,morphHolesky:Ete,morphSepolia:Xte,nahmii:Jte,nautilus:xte,near:Nte,nearTestnet:Hte,neonDevnet:Tte,neonMainnet:Yte,neoxMainnet:Fte,neoxT4:Kte,newton:Mte,nexi:Ute,nexilix:Dte,nibiru:Lte,oasisTestnet:zte,oasys:Qte,odysseyTestnet:Pte,okc:Ote,omax:jte,omni:_te,omniOmega:$te,oneWorld:qte,oortMainnetDev:ene,opBNB:tne,opBNBTestnet:nne,optimism:ane,optimismGoerli:sne,optimismSepolia:ine,optopia:rne,optopiaTestnet:one,orderly:lne,orderlySepolia:cne,otimDevnet:gne,palm:dne,palmTestnet:Ine,peaq:une,pgn:Cne,pgnTestnet:pne,phoenix:mne,planq:Ane,playfiAlbireo:yne,plinga:bne,plume:fne,plumeDevnet:Gne,plumeMainnet:Sne,plumeSepolia:kne,plumeTestnet:Rne,polterTestnet:Wne,polygon:vne,polygonAmoy:Ene,polygonMumbai:Xne,polygonZkEvm:Jne,polygonZkEvmCardona:xne,polygonZkEvmTestnet:Nne,polynomial:Hne,polynomialSepolia:Tne,premiumBlockTestnet:Yne,pulsechain:Fne,pulsechainV4:Kne,pumpfiTestnet:Mne,pyrope:Une,qMainnet:Lne,qTestnet:zne,ql1:Dne,real:Qne,redbellyMainnet:Pne,redbellyTestnet:One,reddioSepolia:qne,redstone:jne,rei:_ne,reyaNetwork:$ne,riseTestnet:eae,rivalz:tae,rollux:nae,rolluxTestnet:aae,ronin:sae,root:iae,rootPorcini:rae,rootstock:oae,rootstockTestnet:lae,rss3:cae,rss3Sepolia:gae,saakuru:dae,saga:Iae,saigon:uae,sanko:Cae,sapphire:pae,sapphireTestnet:mae,satoshiVM:Aae,satoshiVMTestnet:yae,scroll:bae,scrollSepolia:hae,sei:fae,seiDevnet:Zae,seiTestnet:Bae,seismicDevnet:Gae,sepolia:Sae,shape:wae,shapeSepolia:Vae,shardeum:Rae,shardeumSphinx:Wae,shibarium:vae,shibariumTestnet:Eae,shiden:Xae,shimmer:Jae,shimmerTestnet:xae,sidraChain:Nae,silicon:Hae,siliconSepolia:Tae,sixProtocol:Yae,skaleBlockBrawlers:Fae,skaleCalypso:Kae,skaleCalypsoTestnet:Mae,skaleCryptoBlades:Uae,skaleCryptoColosseum:Dae,skaleEuropa:Lae,skaleEuropaTestnet:zae,skaleExorde:Qae,skaleHumanProtocol:Pae,skaleNebula:Oae,skaleNebulaTestnet:jae,skaleRazor:_ae,skaleTitan:$ae,skaleTitanTestnet:qae,sketchpad:ese,snax:tse,snaxTestnet:nse,somniaTestnet:ase,soneium:sse,soneiumMinato:ise,songbird:cse,songbirdTestnet:gse,sonic:rse,sonicBlazeTestnet:lse,sonicTestnet:ose,sophon:dse,sophonTestnet:Ise,spicy:use,statusNetworkSepolia:d3,statusSepolia:d3,step:Cse,story:pse,storyAeneid:mse,storyOdyssey:Ase,storyTestnet:yse,stratis:bse,superlumio:hse,superposition:fse,superseed:Zse,superseedSepolia:Gse,swan:Bse,swanProximaTestnet:Sse,swanSaturnTestnet:wse,swellchain:kse,swellchainTestnet:Vse,swissdlt:Rse,syscoin:Wse,syscoinTestnet:vse,taiko:Ese,taikoHekla:Xse,taikoJolnir:Jse,taikoKatla:xse,taikoTestnetSepolia:Nse,taraxa:Hse,taraxaTestnet:Tse,telcoinTestnet:Yse,telos:Fse,telosTestnet:Kse,tenet:Mse,ternoa:Use,thaiChain:Dse,that:Lse,theta:zse,thetaTestnet:Qse,thunderCore:Pse,thunderTestnet:Ose,tiktrixTestnet:jse,tomb:_se,treasure:$se,treasureTopaz:qse,tron:eie,tronShasta:tie,ubiq:nie,ultra:aie,ultraTestnet:sie,ultron:iie,ultronTestnet:rie,unichain:oie,unichainSepolia:lie,unique:cie,uniqueOpal:gie,uniqueQuartz:die,unreal:Iie,vanar:uie,vechain:Cie,velas:pie,viction:mie,victionTestnet:Aie,vision:yie,visionTestnet:bie,wanchain:hie,wanchainTestnet:fie,weaveVMAlphanet:Zie,wemix:Gie,wemixTestnet:Bie,westendAssetHub:Sie,whitechain:wie,whitechainTestnet:kie,wmcTestnet:Vie,worldLand:vie,worldchain:Rie,worldchainSepolia:Wie,x1Testnet:I3,xLayer:Nie,xLayerTestnet:I3,xai:Eie,xaiTestnet:Xie,xdc:Jie,xdcTestnet:xie,xrOne:Hie,xrSepolia:Fie,xrplevmDevnet:Tie,xrplevmTestnet:Yie,yooldoVerse:Kie,yooldoVerseTestnet:Mie,zenchainTestnet:Uie,zeniq:Die,zeroG:Lie,zeroNetwork:zie,zetachain:Qie,zetachainAthensTestnet:Pie,zhejiang:Oie,zilliqa:jie,zilliqaTestnet:_ie,zircuit:$ie,zircuitGarfieldTestnet:qie,zircuitTestnet:ere,zkFair:tre,zkFairTestnet:nre,zkLinkNova:are,zkLinkNovaSepoliaTestnet:sre,zkSync:u3,zkSyncInMemoryNode:C3,zkSyncLocalNode:p3,zkSyncSepoliaTestnet:m3,zksync:u3,zksyncInMemoryNode:C3,zksyncLocalCustomHyperchain:ire,zksyncLocalHyperchain:rre,zksyncLocalHyperchainL1:ore,zksyncLocalNode:p3,zksyncSepoliaTestnet:m3,zora:lre,zoraSepolia:cre,zoraTestnet:gre},Symbol.toStringTag,{value:"Module"}));function Ire(t){if(typeof t=="string"){if(!ut(t,{strict:!1}))throw new Ft({address:t});return{address:t,type:"json-rpc"}}if(!ut(t.address,{strict:!1}))throw new Ft({address:t.address});return{address:t.address,nonceManager:t.nonceManager,sign:t.sign,signAuthorization:t.signAuthorization,signMessage:t.signMessage,signTransaction:t.signTransaction,signTypedData:t.signTypedData,source:"custom",type:"local"}}let ure=!1;async function Nu({hash:t,privateKey:e,to:n="object"}){const{r:a,s,recovery:r}=XA.sign(t.slice(2),e.slice(2),{lowS:!0,extraEntropy:ure}),l={r:Ee(a,{size:32}),s:Ee(s,{size:32}),v:r?28n:27n,yParity:r};return n==="bytes"||n==="hex"?UW({...l,to:n}):l}async function Cre(t){const{chainId:e,nonce:n,privateKey:a,to:s="object"}=t,r=t.contractAddress??t.address,l=await Nu({hash:oR({address:r,chainId:e,nonce:n}),privateKey:a,to:s});return s==="object"?{address:r,chainId:e,nonce:n,...l}:l}async function pre({message:t,privateKey:e}){return await Nu({hash:VA(t),privateKey:e,to:"hex"})}async function mre(t){const{privateKey:e,transaction:n,serializer:a=i2}=t,s=n.type==="eip4844"?{...n,sidecars:!1}:n,r=await Nu({hash:rt(a(s)),privateKey:e});return a(n,r)}async function Are(t){const{privateKey:e,...n}=t;return await Nu({hash:tW(n),privateKey:e,to:"hex"})}function yre(t,e={}){const{nonceManager:n}=e,a=Ge(XA.getPublicKey(t.slice(2),!1)),s=sR(a);return{...Ire({address:s,nonceManager:n,async sign({hash:l}){return Nu({hash:l,privateKey:t,to:"hex"})},async signAuthorization(l){return Cre({...l,privateKey:t})},async signMessage({message:l}){return pre({message:l,privateKey:t})},async signTransaction(l,{serializer:g}={}){return mre({privateKey:t,transaction:l,serializer:g})},async signTypedData(l){return Are({...l,privateKey:t})}}),publicKey:a,source:"privateKey"}}var bre={},hre=Object.defineProperty,fre=Object.getOwnPropertyDescriptor,gc=(t,e,n,a)=>{for(var s=a>1?void 0:a?fre(e,n):e,r=t.length-1,l;r>=0;r--)(l=t[r])&&(s=(a?l(e,n,s):l(s))||s);return a&&s&&hre(e,n,s),s},Os="1.3.0",rv={"1.4.1":{safeSingletonVersion:"1.4.1",safeSingletonL2Version:"1.4.1",safeProxyFactoryVersion:"1.4.1",compatibilityFallbackHandler:"1.4.1",multiSendVersion:"1.4.1",multiSendCallOnlyVersion:"1.4.1",signMessageLibVersion:"1.4.1",createCallVersion:"1.4.1",simulateTxAccessorVersion:"1.4.1",safeWebAuthnSignerFactoryVersion:"0.2.1",safeWebAuthnSharedSignerVersion:"0.2.1"},"1.3.0":{safeSingletonVersion:"1.3.0",safeSingletonL2Version:"1.3.0",safeProxyFactoryVersion:"1.3.0",compatibilityFallbackHandler:"1.3.0",multiSendVersion:"1.3.0",multiSendCallOnlyVersion:"1.3.0",signMessageLibVersion:"1.3.0",createCallVersion:"1.3.0",simulateTxAccessorVersion:"1.3.0",safeWebAuthnSignerFactoryVersion:"0.2.1",safeWebAuthnSharedSignerVersion:"0.2.1"},"1.2.0":{safeSingletonVersion:"1.2.0",safeSingletonL2Version:void 0,safeProxyFactoryVersion:"1.1.1",compatibilityFallbackHandler:"1.3.0",multiSendVersion:"1.1.1",multiSendCallOnlyVersion:"1.3.0",signMessageLibVersion:"1.3.0",createCallVersion:"1.3.0",safeWebAuthnSignerFactoryVersion:void 0,safeWebAuthnSharedSignerVersion:void 0},"1.1.1":{safeSingletonVersion:"1.1.1",safeSingletonL2Version:void 0,safeProxyFactoryVersion:"1.1.1",compatibilityFallbackHandler:"1.3.0",multiSendVersion:"1.1.1",multiSendCallOnlyVersion:"1.3.0",signMessageLibVersion:"1.3.0",createCallVersion:"1.3.0",safeWebAuthnSignerFactoryVersion:void 0,safeWebAuthnSharedSignerVersion:void 0},"1.0.0":{safeSingletonVersion:"1.0.0",safeSingletonL2Version:void 0,safeProxyFactoryVersion:"1.0.0",compatibilityFallbackHandler:"1.3.0",multiSendVersion:"1.1.1",multiSendCallOnlyVersion:"1.3.0",signMessageLibVersion:"1.3.0",createCallVersion:"1.3.0",safeWebAuthnSignerFactoryVersion:void 0,safeWebAuthnSharedSignerVersion:void 0}},Zre=[1n],ov={safeSingletonVersion:Ci.getSafeSingletonDeployments,safeSingletonL2Version:Ci.getSafeL2SingletonDeployments,safeProxyFactoryVersion:Ci.getProxyFactoryDeployments,compatibilityFallbackHandler:Ci.getCompatibilityFallbackHandlerDeployments,multiSendVersion:Ci.getMultiSendDeployments,multiSendCallOnlyVersion:Ci.getMultiSendCallOnlyDeployments,signMessageLibVersion:Ci.getSignMessageLibDeployments,createCallVersion:Ci.getCreateCallDeployments,simulateTxAccessorVersion:Ci.getSimulateTxAccessorDeployments,safeWebAuthnSignerFactoryVersion:Y1.getSafeWebAuthnSignerFactoryDeployment,safeWebAuthnSharedSignerVersion:Y1.getSafeWebAuthnShareSignerDeployment};function Gre(t,e,n){const s={version:rv[t][n],network:e.toString(),released:!0};return ov[n](s)}function Bre(t){for(const[e,n]of Object.entries(rv))for(const[a,s]of Object.entries(n)){const r={version:s,released:!0},l=ov[a](r);if(l&&l.networkAddresses){for(const[,g]of Object.entries(l.networkAddresses))if(Array.isArray(g)&&g.find(c=>c.toLowerCase()===t.toLowerCase())||typeof g=="string"&&g.toLowerCase()===t.toLowerCase()){const u=Object.keys(l.deployments).find(d=>{var p;return((p=l.deployments[d])==null?void 0:p.address.toLowerCase())===t.toLowerCase()});if(u)return{version:e,type:u,contractName:a}}}}}var zr=ds,lv="0x",Fi="0x0000000000000000000000000000000000000001";function Ca(t,e){return!!t&&!!e&&t.toLowerCase()===e.toLowerCase()}function LI(t){return Ca(t,zr)}function cv(t){return Ca(t,Fi)}function gv(t){return LI(t)||cv(t)}var V2=[{chainId:1n,shortName:"eth"},{chainId:3n,shortName:"rop"},{chainId:4n,shortName:"rin"},{chainId:5n,shortName:"gor"},{chainId:10n,shortName:"oeth"},{chainId:11n,shortName:"meta"},{chainId:12n,shortName:"kal"},{chainId:14n,shortName:"flr"},{chainId:16n,shortName:"cflr"},{chainId:18n,shortName:"tst"},{chainId:19n,shortName:"sgb"},{chainId:25n,shortName:"cro"},{chainId:28n,shortName:"bobarinkeby"},{chainId:30n,shortName:"rsk"},{chainId:31n,shortName:"trsk"},{chainId:39n,shortName:"u2u"},{chainId:40n,shortName:"telosevm"},{chainId:41n,shortName:"telosevmtestnet"},{chainId:42n,shortName:"lukso"},{chainId:43n,shortName:"pangolin"},{chainId:44n,shortName:"crab"},{chainId:46n,shortName:"darwinia"},{chainId:50n,shortName:"xdc"},{chainId:51n,shortName:"txdc"},{chainId:56n,shortName:"bnb"},{chainId:57n,shortName:"sys"},{chainId:61n,shortName:"etc"},{chainId:63n,shortName:"metc"},{chainId:69n,shortName:"okov"},{chainId:71n,shortName:"cfxtest"},{chainId:81n,shortName:"joc"},{chainId:82n,shortName:"meter"},{chainId:83n,shortName:"meter-test"},{chainId:88n,shortName:"vic"},{chainId:96n,shortName:"bkc"},{chainId:97n,shortName:"bnbt"},{chainId:100n,shortName:"gno"},{chainId:106n,shortName:"vlx"},{chainId:108n,shortName:"tt"},{chainId:109n,shortName:"shibariumecosystem"},{chainId:111n,shortName:"etl"},{chainId:114n,shortName:"c2flr"},{chainId:122n,shortName:"fuse"},{chainId:123n,shortName:"spark"},{chainId:130n,shortName:"unichain"},{chainId:133n,shortName:"HSKT"},{chainId:137n,shortName:"matic"},{chainId:146n,shortName:"sonic"},{chainId:148n,shortName:"shimmerevm"},{chainId:155n,shortName:"tenet-testnet"},{chainId:169n,shortName:"manta"},{chainId:177n,shortName:"hsk"},{chainId:179n,shortName:"abey"},{chainId:181n,shortName:"water"},{chainId:195n,shortName:"tokb"},{chainId:196n,shortName:"okb"},{chainId:204n,shortName:"opbnb"},{chainId:228n,shortName:"fhe"},{chainId:232n,shortName:"lens"},{chainId:240n,shortName:"zkTCRO"},{chainId:246n,shortName:"ewt"},{chainId:250n,shortName:"ftm"},{chainId:252n,shortName:"fraxtal"},{chainId:255n,shortName:"kroma"},{chainId:274n,shortName:"lachain"},{chainId:280n,shortName:"zksync-goerli"},{chainId:282n,shortName:"zkTCRO"},{chainId:288n,shortName:"boba"},{chainId:291n,shortName:"orderly"},{chainId:300n,shortName:"zksync-sepolia"},{chainId:314n,shortName:"filecoin"},{chainId:321n,shortName:"kcs"},{chainId:322n,shortName:"kcst"},{chainId:324n,shortName:"zksync"},{chainId:336n,shortName:"sdn"},{chainId:338n,shortName:"tcro"},{chainId:360n,shortName:"shape"},{chainId:369n,shortName:"pls"},{chainId:388n,shortName:"zkCRO"},{chainId:418n,shortName:"latestnet"},{chainId:420n,shortName:"ogor"},{chainId:424n,shortName:"PGN"},{chainId:466n,shortName:"appchain"},{chainId:478n,shortName:"formnetwork"},{chainId:480n,shortName:"wc"},{chainId:530n,shortName:"pundiai"},{chainId:545n,shortName:"flow-testnet"},{chainId:570n,shortName:"sys-rollux"},{chainId:588n,shortName:"metis-stardust"},{chainId:592n,shortName:"astr"},{chainId:595n,shortName:"maca"},{chainId:599n,shortName:"metis-goerli"},{chainId:648n,shortName:"ace"},{chainId:686n,shortName:"kar"},{chainId:690n,shortName:"redstone"},{chainId:747n,shortName:"flow-mainnet"},{chainId:787n,shortName:"aca"},{chainId:919n,shortName:"modesep"},{chainId:938n,shortName:"haust"},{chainId:943n,shortName:"t4pls"},{chainId:964n,shortName:"bittensor-evm-mainnet"},{chainId:970n,shortName:"ccn"},{chainId:995n,shortName:"5ire"},{chainId:1001n,shortName:"baobab"},{chainId:1008n,shortName:"eun"},{chainId:1030n,shortName:"cfx"},{chainId:1088n,shortName:"metis-andromeda"},{chainId:1101n,shortName:"zkevm"},{chainId:1111n,shortName:"wemix"},{chainId:1112n,shortName:"twemix"},{chainId:1114n,shortName:"tcore2"},{chainId:1115n,shortName:"tcore"},{chainId:1116n,shortName:"core"},{chainId:1125n,shortName:"taker"},{chainId:1135n,shortName:"lisk"},{chainId:1230n,shortName:"UltronTestnet"},{chainId:1231n,shortName:"UltronMainnet"},{chainId:1284n,shortName:"mbeam"},{chainId:1285n,shortName:"mriver"},{chainId:1287n,shortName:"mbase"},{chainId:1294n,shortName:"bobabeam"},{chainId:1315n,shortName:"story-aeneid"},{chainId:1329n,shortName:"sei"},{chainId:1337n,shortName:"geth"},{chainId:1424n,shortName:"perennial"},{chainId:1442n,shortName:"testnet-zkEVM-mango"},{chainId:1513n,shortName:"Story"},{chainId:1514n,shortName:"sty"},{chainId:1516n,shortName:"story-testnet"},{chainId:1559n,shortName:"tenet"},{chainId:1625n,shortName:"gravity"},{chainId:1663n,shortName:"Gobi"},{chainId:1729n,shortName:"reya"},{chainId:1740n,shortName:"metall2-testnet"},{chainId:1750n,shortName:"metall2"},{chainId:1807n,shortName:"rana"},{chainId:1811n,shortName:"lif3-testnet"},{chainId:1890n,shortName:"lightlink_phoenix"},{chainId:1891n,shortName:"lightlink_pegasus"},{chainId:1923n,shortName:"swell-l2"},{chainId:1924n,shortName:"swell-l2-testnet"},{chainId:1984n,shortName:"euntest"},{chainId:1998n,shortName:"kyoto-testnet"},{chainId:2000n,shortName:"dc"},{chainId:2001n,shortName:"milkada"},{chainId:2002n,shortName:"milkalgo"},{chainId:2008n,shortName:"cloudwalk_testnet"},{chainId:2019n,shortName:"pmint_test"},{chainId:2020n,shortName:"pmint"},{chainId:2021n,shortName:"edg"},{chainId:2039n,shortName:"aleph"},{chainId:2187n,shortName:"g7"},{chainId:2192n,shortName:"snax"},{chainId:2221n,shortName:"tkava"},{chainId:2222n,shortName:"kava"},{chainId:2331n,shortName:"rss3-testnet"},{chainId:2345n,shortName:"goat"},{chainId:2358n,shortName:"kroma-sepolia"},{chainId:2424n,shortName:"inevm-testnet"},{chainId:2442n,shortName:"zkevm-testnet-cardona"},{chainId:2741n,shortName:"abstract"},{chainId:2810n,shortName:"hmorph"},{chainId:2818n,shortName:"morph"},{chainId:3338n,shortName:"PEAQ"},{chainId:3501n,shortName:"JFIN"},{chainId:3636n,shortName:"BTNX"},{chainId:3737n,shortName:"csb"},{chainId:3776n,shortName:"astrzk"},{chainId:4002n,shortName:"tftm"},{chainId:4061n,shortName:"Nahmii3Mainnet"},{chainId:4062n,shortName:"Nahmii3Testnet"},{chainId:4078n,shortName:"muster"},{chainId:4157n,shortName:"crossfi-testnet"},{chainId:4162n,shortName:"SXR"},{chainId:4202n,shortName:"lisksep"},{chainId:4337n,shortName:"beam"},{chainId:4460n,shortName:"orderlyl2"},{chainId:4653n,shortName:"gold"},{chainId:4661n,shortName:"appchaintestnet"},{chainId:4689n,shortName:"iotex-mainnet"},{chainId:4918n,shortName:"txvm"},{chainId:4919n,shortName:"xvm"},{chainId:5000n,shortName:"mantle"},{chainId:5001n,shortName:"mantle-testnet"},{chainId:5003n,shortName:"mnt-sep"},{chainId:5115n,shortName:"citrea-testnet"},{chainId:5165n,shortName:"ftn"},{chainId:5611n,shortName:"obnbt"},{chainId:5700n,shortName:"tsys"},{chainId:6001n,shortName:"bouncebit-mainnet"},{chainId:6102n,shortName:"cascadia"},{chainId:6321n,shortName:"eaura"},{chainId:6322n,shortName:"aura"},{chainId:6398n,shortName:"connext-sepolia"},{chainId:6688n,shortName:"iris"},{chainId:6880n,shortName:"mtt-mainnet"},{chainId:7000n,shortName:"zetachain-mainnet"},{chainId:7001n,shortName:"zetachain-testnet"},{chainId:7070n,shortName:"planq"},{chainId:7171n,shortName:"bitrock"},{chainId:7200n,shortName:"xsat"},{chainId:7332n,shortName:"EON"},{chainId:7341n,shortName:"shyft"},{chainId:7560n,shortName:"cyeth"},{chainId:7700n,shortName:"canto"},{chainId:7771n,shortName:"tbitrock"},{chainId:8192n,shortName:"tqf"},{chainId:8194n,shortName:"ttqf"},{chainId:8217n,shortName:"cypress"},{chainId:8329n,shortName:"lrz"},{chainId:8408n,shortName:"zentest"},{chainId:8453n,shortName:"base"},{chainId:8801n,shortName:"okto-testnet"},{chainId:8822n,shortName:"iotaevm"},{chainId:9000n,shortName:"evmos-testnet"},{chainId:9001n,shortName:"evmos"},{chainId:9369n,shortName:"z"},{chainId:9700n,shortName:"MainnetDev"},{chainId:9728n,shortName:"boba-testnet"},{chainId:10000n,shortName:"smartbch"},{chainId:10001n,shortName:"smartbchtest"},{chainId:10081n,shortName:"joct"},{chainId:10143n,shortName:"mon-testnet"},{chainId:10200n,shortName:"chi"},{chainId:10242n,shortName:"aa"},{chainId:10243n,shortName:"aat"},{chainId:10849n,shortName:"lamina1"},{chainId:11011n,shortName:"shapesep"},{chainId:11111n,shortName:"WAGMI"},{chainId:11124n,shortName:"abstract-sepolia"},{chainId:11235n,shortName:"islm"},{chainId:11437n,shortName:"shyftt"},{chainId:11501n,shortName:"bevm"},{chainId:11503n,shortName:"bevm-test"},{chainId:11820n,shortName:"artela-mainnet"},{chainId:11891n,shortName:"Arianee"},{chainId:12324n,shortName:"l3x"},{chainId:12325n,shortName:"l3x-testnet"},{chainId:12357n,shortName:"rei-testnet"},{chainId:12553n,shortName:"rss3"},{chainId:13337n,shortName:"beam-testnet"},{chainId:13371n,shortName:"imx"},{chainId:13473n,shortName:"imx-testnet"},{chainId:13746n,shortName:"g7t"},{chainId:14800n,shortName:"vana-moksha"},{chainId:17000n,shortName:"holesky"},{chainId:17069n,shortName:"garnet"},{chainId:17172n,shortName:"eclipse"},{chainId:18231n,shortName:"unreal-old"},{chainId:18233n,shortName:"unreal"},{chainId:18880n,shortName:"expchain"},{chainId:22776n,shortName:"mapo"},{chainId:23294n,shortName:"sapphire"},{chainId:23295n,shortName:"sapphire-testnet"},{chainId:25327n,shortName:"Everclear"},{chainId:28979n,shortName:"kimbonet-testnet"},{chainId:31611n,shortName:"mezo"},{chainId:32769n,shortName:"zil"},{chainId:33101n,shortName:"zil-testnet"},{chainId:33139n,shortName:"apechain"},{chainId:33401n,shortName:"slingshot"},{chainId:34443n,shortName:"mode"},{chainId:35441n,shortName:"q"},{chainId:35443n,shortName:"q-testnet"},{chainId:37111n,shortName:"lens-sepolia"},{chainId:41455n,shortName:"aleph-zero"},{chainId:42161n,shortName:"arb1"},{chainId:42170n,shortName:"arb-nova"},{chainId:42220n,shortName:"celo"},{chainId:42421n,shortName:"rwa"},{chainId:42793n,shortName:"etlk"},{chainId:43111n,shortName:"hemi"},{chainId:43113n,shortName:"fuji"},{chainId:43114n,shortName:"avax"},{chainId:43288n,shortName:"boba-avax"},{chainId:44787n,shortName:"alfa"},{chainId:45000n,shortName:"autobahnnetwork"},{chainId:47763n,shortName:"neox-mainnet"},{chainId:47805n,shortName:"rei"},{chainId:48899n,shortName:"zircuit-testnet"},{chainId:48900n,shortName:"zircuit-mainnet"},{chainId:53302n,shortName:"seedsep"},{chainId:53456n,shortName:"birdlayer"},{chainId:53457n,shortName:"dodochain"},{chainId:54211n,shortName:"islmt"},{chainId:56288n,shortName:"boba-bnb"},{chainId:57000n,shortName:"tsys-rollux"},{chainId:57054n,shortName:"blaze"},{chainId:57073n,shortName:"ink"},{chainId:58008n,shortName:"sepPGN"},{chainId:59140n,shortName:"linea-goerli"},{chainId:59141n,shortName:"linea-sepolia"},{chainId:59144n,shortName:"linea"},{chainId:59902n,shortName:"metis-sepolia"},{chainId:60808n,shortName:"bob"},{chainId:61166n,shortName:"treasure"},{chainId:71401n,shortName:"gw-testnet-v1"},{chainId:71402n,shortName:"gw-mainnet-v1"},{chainId:73799n,shortName:"vt"},{chainId:80001n,shortName:"maticmum"},{chainId:80002n,shortName:"polygonamoy"},{chainId:80084n,shortName:"berachainbArtio"},{chainId:80085n,shortName:"berachainArtio"},{chainId:80094n,shortName:"berachain"},{chainId:81457n,shortName:"blastmainnet"},{chainId:83291n,shortName:"lrz-testnet"},{chainId:84531n,shortName:"basegor"},{chainId:84532n,shortName:"basesep"},{chainId:90001n,shortName:"dhobyghaut"},{chainId:97435n,shortName:"sling"},{chainId:98864n,shortName:"plume-devnet"},{chainId:98865n,shortName:"plume"},{chainId:103454n,shortName:"masatest"},{chainId:105105n,shortName:"stratis"},{chainId:111188n,shortName:"re-al"},{chainId:128123n,shortName:"etlt"},{chainId:167000n,shortName:"tko-mainnet"},{chainId:167008n,shortName:"tko-katla"},{chainId:167009n,shortName:"tko-hekla"},{chainId:175188n,shortName:"lpy"},{chainId:200101n,shortName:"milktada"},{chainId:200202n,shortName:"milktalgo"},{chainId:200810n,shortName:"btrt"},{chainId:205205n,shortName:"auroria"},{chainId:314159n,shortName:"filecoin-calibration"},{chainId:328527n,shortName:"nal"},{chainId:333999n,shortName:"olympus"},{chainId:381931n,shortName:"metal"},{chainId:421611n,shortName:"arb-rinkeby"},{chainId:421613n,shortName:"arb-goerli"},{chainId:421614n,shortName:"arb-sep"},{chainId:444444n,shortName:"syndr"},{chainId:490000n,shortName:"ATN"},{chainId:534351n,shortName:"scr-sepolia"},{chainId:534352n,shortName:"scr"},{chainId:534353n,shortName:"scr-alpha"},{chainId:543210n,shortName:"zero-network"},{chainId:555666n,shortName:"eclipset"},{chainId:560048n,shortName:"hoe"},{chainId:622277n,shortName:"rth"},{chainId:656476n,shortName:"open-campus-codex"},{chainId:660279n,shortName:"xai"},{chainId:668668n,shortName:"cnw"},{chainId:713715n,shortName:"sei-devnet"},{chainId:743111n,shortName:"hemi-sep"},{chainId:763373n,shortName:"inksepolia"},{chainId:764984n,shortName:"lamina1test"},{chainId:808813n,shortName:"bob-sepolia"},{chainId:810180n,shortName:"zklink-nova"},{chainId:839999n,shortName:"txsat"},{chainId:978657n,shortName:"treasure-ruby"},{chainId:984122n,shortName:"forma"},{chainId:1501869n,shortName:"water9"},{chainId:3441006n,shortName:"mantaSepoliaTestnet"},{chainId:4457845n,shortName:"zero-sepolia"},{chainId:6038361n,shortName:"azkyt"},{chainId:7225878n,shortName:"saakuru"},{chainId:7777777n,shortName:"zora"},{chainId:9999999n,shortName:"fluence"},{chainId:11155111n,shortName:"sep"},{chainId:11155420n,shortName:"opsep"},{chainId:12227332n,shortName:"neox-t4"},{chainId:21000000n,shortName:"corn"},{chainId:52164803n,shortName:"fluence-testnet"},{chainId:94204209n,shortName:"polygon-blackberry"},{chainId:111557560n,shortName:"cysep"},{chainId:123420111n,shortName:"opcelestia-raspberry"},{chainId:161221135n,shortName:"plume-testnet"},{chainId:168587773n,shortName:"blastsepolia"},{chainId:222000222n,shortName:"kanazawa"},{chainId:245022926n,shortName:"neonevm-devnet"},{chainId:245022934n,shortName:"neonevm-mainnet"},{chainId:253368190n,shortName:"flame"},{chainId:328527624n,shortName:"nalsep"},{chainId:333000333n,shortName:"meld"},{chainId:476462898n,shortName:"Skopje"},{chainId:666666666n,shortName:"degen-chain"},{chainId:888888888n,shortName:"ancient8"},{chainId:994873017n,shortName:"lumia-mainnet"},{chainId:999999999n,shortName:"zsep"},{chainId:1313161554n,shortName:"aurora"},{chainId:1313161555n,shortName:"aurora-testnet"},{chainId:1417429182n,shortName:"zephyr"},{chainId:1511670449n,shortName:"GPT"},{chainId:1570754601n,shortName:"hst-test"},{chainId:1666600000n,shortName:"hmy-s0"},{chainId:1666700000n,shortName:"hmy-b-s0"},{chainId:1952959480n,shortName:"lumiatestnet"},{chainId:11297108099n,shortName:"tpalm"},{chainId:11297108109n,shortName:"palm"},{chainId:37714555429n,shortName:"xaitestnet"},{chainId:88153591557n,shortName:"arb-blueberry"},{chainId:123420000220n,shortName:"fluence-stage"},{chainId:920637907288165n,shortName:"kkrt-starknet-sepolia"}];try{bre.TEST_NETWORK==="hardhat"&&V2.push({shortName:"local",chainId:31337n})}catch{}function Sre(t){const e=t.split(":"),n=e.length>1?e[1]:e[0];return{prefix:e.length>1?e[0]:"",address:n}}function wre(t){const e=V2.find(n=>t===n.chainId);if(!e)throw new Error("No network prefix supported for the current chainId");return e.shortName}function kre(t){return V2.some(({shortName:e})=>e===t)}function Vre(t,e){const n=t===wre(e);if(!kre(t)||!n)throw new Error("The network prefix must match the current network")}function R2(t){if(!ut(t))throw new Error(`Invalid Ethereum address ${t}`)}function dv(t,e){const{address:n,prefix:a}=Sre(t);return R2(n),a&&Vre(a,e),{address:n,prefix:a}}function Iv(t){return t.predictedSafe!==void 0}function Be(t){return $a(t)?t:`0x${t}`}function uv(t){const e=Object.values(dre).find(n=>n.id===Number(t));return e||h({id:Number(t),name:"Custom",nativeCurrency:{decimals:qV.wei,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:[],webSocket:[]}}})}function Cv({types:t,name:e,type:n,value:a}){if(t[n]!==void 0)return[{type:"bytes32"},rt(mv({data:a,primaryType:n,types:t}))];if(n==="bytes")return a=`0x${(a.length%2?"0":"")+a.slice(2)}`,[{type:"bytes32"},rt(a)];if(n==="string")return[{type:"bytes32"},rt(Ge(a))];if(n.lastIndexOf("]")===n.length-1){const s=n.slice(0,n.lastIndexOf("[")),r=a.map(l=>Cv({name:e,type:s,types:t,value:l}));return[{type:"bytes32"},rt(ts(r.map(([l])=>l),r.map(([,l])=>l)))]}return[{type:n},a]}function pv({primaryType:t,types:e},n=new Set){const a=t.match(/^\w*/u),s=(a==null?void 0:a[0])||"";if(n.has(s)||e[s]===void 0)return n;n.add(s);for(const r of e[s])pv({primaryType:r.type,types:e},n);return n}function Rre({primaryType:t,types:e}){let n="";const a=pv({primaryType:t,types:e});a.delete(t);const s=[t,...Array.from(a).sort()];for(const r of s)n+=`${r}(${e[r].map(({name:l,type:g})=>`${g} ${l}`).join(",")})`;return n}function Wre({primaryType:t,types:e}){const n=Ge(Rre({primaryType:t,types:e}));return rt(n)}function mv({data:t,primaryType:e,types:n}){const a=[{type:"bytes32"}],s=[Wre({primaryType:e,types:n})];for(const r of n[e]){const[l,g]=Cv({types:n,name:r.name,type:r.type,value:t[r.name]});a.push(l),s.push(g)}return ts(a,s)}function vre({data:t,primaryType:e,types:n}){const a=mv({data:t,primaryType:e,types:n});return rt(a)}function Ere(t){return Object.keys(t)[0]}function Xre(t){const e=W2(t);return rt(Be(e))}function W2(t){t.primaryType=t!=null&&t.primaryType?t==null?void 0:t.primaryType:Ere(t.types);const{domain:e={},message:n,primaryType:a}=t,s={EIP712Domain:a2({domain:e}),...t.types};n2({domain:e,message:n,primaryType:a,types:s});const r=["0x1901"];return e&&r.push(nW({domain:e,types:s})),a!=="EIP712Domain"&&r.push(vre({data:n,primaryType:a,types:s})),On(r)}var v2=">=1.3.0",Av=[{type:"address",name:"verifyingContract"}],yv=[{type:"uint256",name:"chainId"},{type:"address",name:"verifyingContract"}];function E2(t){return{EIP712Domain:fs(t,v2)?yv:Av,SafeTx:[{type:"address",name:"to"},{type:"uint256",name:"value"},{type:"bytes",name:"data"},{type:"uint8",name:"operation"},{type:"uint256",name:"safeTxGas"},{type:"uint256",name:"baseGas"},{type:"uint256",name:"gasPrice"},{type:"address",name:"gasToken"},{type:"address",name:"refundReceiver"},{type:"uint256",name:"nonce"}]}}function X2(t){return{EIP712Domain:fs(t,v2)?yv:Av,SafeMessage:[{type:"bytes",name:"message"}]}}var J2=t=>Xre(t),Jre=t=>VA(t),K1=t=>typeof t=="string"?Jre(t):J2(t);function xre({safeAddress:t,safeVersion:e,chainId:n,data:a}){const s=a.hasOwnProperty("to"),r=fs(e,v2);let l;if(s){const g=a;l={types:E2(e),domain:{verifyingContract:t},primaryType:"SafeTx",message:{...g,value:g.value,safeTxGas:g.safeTxGas,baseGas:g.baseGas,gasPrice:g.gasPrice,nonce:g.nonce}}}else{const g=a;l={types:X2(e),domain:{verifyingContract:t},primaryType:"SafeMessage",message:{message:K1(g)}}}return r&&(l.domain.chainId=Number(n)),l}var y3={SAFE_TX_GAS_OPTIONAL:">=1.3.0",SAFE_TX_GUARDS:">=1.3.0",SAFE_FALLBACK_HANDLER:">=1.1.1",ETH_SIGN:">=1.1.0",ACCOUNT_ABSTRACTION:">=1.3.0",REQUIRED_TXGAS:"<=1.2.0",SIMULATE_AND_REVERT:">=1.3.0",PASSKEY_SIGNER:">=1.3.0",SAFE_L2_CONTRACTS:">=1.3.0"},Ra=(t,e)=>t in y3?fs(e,y3[t]):!1;async function Nre(t){const e=t.safeVersion;if(!Ra("SIMULATE_AND_REVERT",e))throw new Error("Current version of the Safe does not support the simulateAndRevert functionality");return t}var zI=class{constructor(t,e,n=!1){this.signer=t,this.data=e,this.isContractSignature=n}staticPart(t){return this.isContractSignature?`${this.signer.slice(2).padStart(64,"0")}${t||""}00`:this.data}dynamicPart(){return this.isContractSignature?`${(this.data.slice(2).length/2).toString(16).padStart(64,"0")}${this.data.slice(2)}`:""}};function Hp(t){const e="0x000000000000000000000000"+t.slice(2)+"000000000000000000000000000000000000000000000000000000000000000001";return new zI(t,e)}async function Hre(t,e,n){let a;try{const s=await Xf({hash:t,signature:Be(e)});a=!Ca(s,n)}catch{a=!0}return a}var x2=async(t,e,n,a)=>{const s=[0,1,27,28],r=27;let l=parseInt(e.slice(-2),16);if(!s.includes(l))throw new Error("Invalid signature");if(t===un.ETH_SIGN){l<r&&(l+=r);const g=e.slice(0,-2)+l.toString(16);await Hre(n,g,a)&&(l+=4)}return t===un.ETH_SIGN_TYPED_DATA&&l<r&&(l+=r),e=e.slice(0,-2)+l.toString(16),e};async function Tre(t,e){const n=await t.getSignerAddress();if(!n)throw new Error("SafeProvider must be initialized with a signer to use this method");let a=await t.signMessage(e);return a=await x2(un.ETH_SIGN,a,e,n),new zI(n,a)}async function Yre(t,e,n){const a=await t.getSignerAddress();if(!a)throw new Error("SafeProvider must be initialized with a signer to use this method");let s=await t.signTypedData(e,n);return s=await x2(un.ETH_SIGN_TYPED_DATA,s),new zI(a,s)}var HA=t=>{t.sort((s,r)=>s.signer.toLowerCase().localeCompare(r.signer.toLowerCase()));let n=lv,a="";for(const s of t)if(s.isContractSignature){const r=(t.length*65+a.length/2).toString(16).padStart(64,"0");n+=s.staticPart(r),a+=s.dynamicPart()}else n+=s.data.slice(2);return n+a},Fre=(t,e,n,a)=>{const s=E2(n),r=e;return W2({domain:{verifyingContract:t,chainId:Number(a)},types:{SafeTx:s.SafeTx},message:r})},Kre=(t,e,n,a)=>{const s=X2(n);return W2({domain:{verifyingContract:t,chainId:Number(a)},types:{SafeMessage:s.SafeMessage},message:{message:e}})},Mre=">=1.3.0",Ure=(t,e,n,a)=>{const s=E2(n),r={verifyingContract:t};fs(n,Mre)&&(r.chainId=Number(a));const l=e;return J2({domain:r,types:{SafeTx:s.SafeTx},message:l})},Dre=(t,e,n,a)=>{const s=X2(n);return J2({domain:{verifyingContract:t,chainId:Number(a)},types:{SafeMessage:s.SafeMessage},message:{message:e}})},Em,bv,nk,Lre=(nk=class{constructor(t,e,n,a,s,r,l,g){q(this,Em);this.getAddress=()=>this.contractAddress,this.encode=(d,p)=>{const A=this.contractAbi;return ma({abi:A,functionName:d,args:p})},this.estimateGas=async(d,p,A={})=>{const G=this.convertOptions(A),w=this.contractAbi,Z=p;return GR(this.runner,{abi:w,functionName:d,address:this.getAddress(),args:Z,...G})};const c=Gre(s,e,t),u=r??ge(this,Em,bv).call(this,c==null?void 0:c.networkAddresses[e.toString()],c,g);if(!u)throw new Error(`Invalid ${t.replace("Version","")} contract address`);this.chainId=e,this.contractName=t,this.safeVersion=s,this.contractAddress=u,this.contractAbi=l||(c==null?void 0:c.abi)||a,this.runner=n.getExternalProvider(),this.safeProvider=n}async init(){this.wallet=await this.safeProvider.getExternalSigner()}async getTransactionReceipt(t){return hm(this.runner,{hash:t})}convertOptions(t){const e=this.getChain();if(!e)throw new Error("Invalid chainId");const n=this.getWallet().account;if(!n)throw new Error("Invalid signer");const a=ule(t);return{chain:e,...a,account:n}}getChain(){return uv(this.chainId)}getWallet(){if(!this.wallet)throw new Error("A signer must be set");return this.wallet}async write(t,e,n){const a=this.convertOptions(n);return await this.getWallet().writeContract({address:this.contractAddress,abi:this.contractAbi,functionName:t,args:e,...a})}async read(t,e){return await this.runner.readContract({functionName:t,abi:this.contractAbi,address:this.contractAddress,args:e})}},Em=new WeakSet,bv=function(t,e,n){var a;if(t){if(n&&e&&"deployments"in e){const s=(a=e.deployments[n])==null?void 0:a.address;return typeof t=="string"?t===s?s:void 0:t.find(r=>r===s)}return typeof t=="string"?t:t[0]}},nk),no=Lre,zre=class extends no{constructor(t,e,n,a,s,r,l){const g="multiSendVersion";super(g,t,e,n,a,s,r,l),this.contractName=g}},N2=zre,Qre=class extends N2{constructor(t,e,n,a,s){const r="1.1.1",l=_Y.abi;super(t,e,l,r,n,a,s)}},Pre=Qre,Ore=class extends N2{constructor(t,e,n,a,s){const r="1.3.0",l=$Y.abi;super(t,e,l,r,n,a,s)}},jre=Ore,_re=class extends N2{constructor(t,e,n,a,s){const r="1.4.1",l=qY.abi;super(t,e,l,r,n,a,s)}},$re=_re,qre=class extends no{constructor(t,e,n,a,s,r,l){const g="multiSendCallOnlyVersion";super(g,t,e,n,a,s,r,l),this.contractName=g}},hv=qre,eoe=class extends hv{constructor(t,e,n,a,s){const r="1.3.0",l=eF.abi;super(t,e,l,r,n,a,s)}},toe=eoe,noe=class extends hv{constructor(t,e,n,a,s){const r="1.4.1",l=tF.abi;super(t,e,l,r,n,a,s)}},aoe=noe,soe=class extends no{constructor(t,e,n,a,s=Zre.includes(t),r,l,g){const u=s||!Ra("SAFE_L2_CONTRACTS",a)?"safeSingletonVersion":"safeSingletonL2Version";super(u,t,e,n,a,r,l,g),this.contractName=u}},Hu=soe,ioe=class extends Hu{constructor(t,e,n,a,s,r){const l="1.0.0",g=nF.abi;super(t,e,g,l,n,a,s,r),this.DOMAIN_SEPARATOR_TYPEHASH=async()=>[await this.read("DOMAIN_SEPARATOR_TYPEHASH")],this.SENTINEL_MODULES=async()=>[await this.read("SENTINEL_MODULES")],this.SENTINEL_OWNERS=async()=>[await this.read("SENTINEL_OWNERS")],this.SAFE_MSG_TYPEHASH=async()=>[await this.read("SAFE_MSG_TYPEHASH")],this.SAFE_TX_TYPEHASH=async()=>[await this.read("SAFE_TX_TYPEHASH")],this.NAME=async()=>[await this.read("NAME")],this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async c=>[await this.read("approvedHashes",c)],this.domainSeparator=async()=>[await this.read("domainSeparator")],this.getModules=async()=>[await this.read("getModules")],this.getOwners=async()=>[await this.read("getOwners")],this.getThreshold=async()=>[await this.read("getThreshold")],this.isOwner=async c=>[await this.read("isOwner",c)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async c=>[await this.read("signedMessages",c)],this.getMessageHash=async c=>[await this.read("getMessageHash",c)],this.encodeTransactionData=async c=>[await this.read("encodeTransactionData",c)],this.getTransactionHash=async c=>[await this.read("getTransactionHash",c)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return Ss(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return Ss(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async getModulesPaginated([t,e]){if(e<=0)throw new Error("Invalid page size for fetching paginated modules");const n=Number(e),[a]=await this.getModules();if(cv(t)){const s=e<a.length?a[n]:Fi;return[a.slice(0,n),s]}else{const s=a.findIndex(g=>Ca(g,t));if(s===-1)return[[],Fi];const r=s+1,l=r+n<a.length?a[r+n]:Fi;return[a.slice(s+1,r+n),l]}}async isModuleEnabled([t]){const[e]=await this.getModules();return[e.some(a=>Ca(a,t))]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await Mg(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async getNonce(){const[t]=await this.nonce();return t}},roe=ioe,ooe=class extends Hu{constructor(t,e,n,a,s,r){const l="1.1.1",g=aF.abi;super(t,e,g,l,n,a,s,r),this.NAME=async()=>[await this.read("NAME")],this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async c=>[await this.read("approvedHashes",c)],this.domainSeparator=async()=>[await this.read("domainSeparator")],this.getModules=async()=>[await this.read("getModules")],this.getModulesPaginated=async c=>{const[u,d]=await this.read("getModulesPaginated",c);return[u,d]},this.getOwners=async()=>[await this.read("getOwners")],this.getThreshold=async()=>[await this.read("getThreshold")],this.isOwner=async c=>[await this.read("isOwner",c)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async c=>[await this.read("signedMessages",c)],this.getMessageHash=async c=>[await this.read("getMessageHash",c)],this.encodeTransactionData=async c=>[await this.read("encodeTransactionData",c)],this.getTransactionHash=async c=>[await this.read("getTransactionHash",c)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return Ss(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return Ss(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async isModuleEnabled([t]){const[e]=await this.getModules();return[e.some(a=>Ca(a,t))]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await Mg(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async getNonce(){const[t]=await this.nonce();return t}},loe=ooe,coe=class extends Hu{constructor(t,e,n,a,s,r){const l="1.2.0",g=sF.abi;super(t,e,g,l,n,a,s,r),this.NAME=async()=>[await this.read("NAME")],this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async c=>[await this.read("approvedHashes",c)],this.domainSeparator=async()=>[await this.read("domainSeparator")],this.getModules=async()=>[await this.read("getModules")],this.getModulesPaginated=async c=>{const[u,d]=await this.read("getModulesPaginated",c);return[u,d]},this.getOwners=async()=>[await this.read("getOwners")],this.getThreshold=async()=>[await this.read("getThreshold")],this.isModuleEnabled=async c=>[await this.read("isModuleEnabled",c)],this.isOwner=async c=>[await this.read("isOwner",c)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async c=>[await this.read("signedMessages",c)],this.getMessageHash=async c=>[await this.read("getMessageHash",c)],this.encodeTransactionData=async c=>[await this.read("encodeTransactionData",c)],this.getTransactionHash=async c=>[await this.read("getTransactionHash",c)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return Ss(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return Ss(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async getChainId(){return[await Promise.resolve(this.chainId)]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await Mg(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async getNonce(){const[t]=await this.nonce();return t}},goe=coe,doe=class extends Hu{constructor(t,e,n,a,s,r){const l="1.3.0",g=iF.abi;super(t,e,g,l,n,a,s,r),this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async c=>[await this.read("approvedHashes",c)],this.checkNSignatures=async c=>(await this.read("checkNSignatures",c),[]),this.checkSignatures=async c=>(await this.read("checkSignatures",c),[]),this.domainSeparator=async()=>[await this.read("domainSeparator")],this.encodeTransactionData=async c=>[await this.read("encodeTransactionData",c)],this.getModulesPaginated=async c=>{const[u,d]=await this.read("getModulesPaginated",c);return[u,d]},this.getOwners=async()=>[await this.read("getOwners")],this.getStorageAt=async c=>[await this.read("getStorageAt",c)],this.getThreshold=async()=>[await this.read("getThreshold")],this.getTransactionHash=async c=>[await this.read("getTransactionHash",c)],this.isModuleEnabled=async c=>[await this.read("isModuleEnabled",c)],this.isOwner=async c=>[await this.read("isOwner",c)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async c=>[await this.read("signedMessages",c)]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await Mg(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return Ss(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async getModules(){const[t]=await this.getModulesPaginated([Fi,BigInt(10)]);return[t.map(e=>e)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return Ss(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async getChainId(){return[await Promise.resolve(this.chainId)]}async getNonce(){const[t]=await this.nonce();return t}},Ioe=doe,uoe=class extends Hu{constructor(t,e,n,a,s,r){const l="1.4.1",g=rF.abi;super(t,e,g,l,n,a,s,r),this.VERSION=async()=>[await this.read("VERSION")],this.approvedHashes=async c=>[await this.read("approvedHashes",c)],this.checkNSignatures=async c=>(await this.read("checkNSignatures",c),[]),this.checkSignatures=async c=>(await this.read("checkSignatures",c),[]),this.domainSeparator=async()=>[await this.read("domainSeparator")],this.encodeTransactionData=async c=>[await this.read("encodeTransactionData",c)],this.getModulesPaginated=async c=>{const[u,d]=await this.read("getModulesPaginated",c);return[u,d]},this.getOwners=async()=>[await this.read("getOwners")],this.getStorageAt=async c=>[await this.read("getStorageAt",c)],this.getThreshold=async()=>[await this.read("getThreshold")],this.getTransactionHash=async c=>[await this.read("getTransactionHash",c)],this.isModuleEnabled=async c=>[await this.read("isModuleEnabled",c)],this.isOwner=async c=>[await this.read("isOwner",c)],this.nonce=async()=>[await this.read("nonce")],this.signedMessages=async c=>[await this.read("signedMessages",c)]}async isValidTransaction(t,e={}){try{const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=this.convertOptions({...e,gasLimit:n});return(await Mg(this.runner,{address:this.contractAddress,functionName:"execTransaction",abi:this.contractAbi,args:[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],...a})).result}catch{return!1}}async execTransaction(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("execTransaction",[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())],e),a=[t.data.to,BigInt(t.data.value),Be(t.data.data),t.data.operation,BigInt(t.data.safeTxGas),BigInt(t.data.baseGas),BigInt(t.data.gasPrice),t.data.gasToken,t.data.refundReceiver,Be(t.encodedSignatures())];return Ss(this.runner,await this.write("execTransaction",a,{...e,gasLimit:n}),e)}async getModules(){const[t]=await this.getModulesPaginated([Fi,BigInt(10)]);return[t.map(e=>e)]}async approveHash(t,e){const n=(e==null?void 0:e.gasLimit)||await this.estimateGas("approveHash",[t],e);return Ss(this.runner,await this.write("approveHash",[t],{...e,gasLimit:n}),e)}async getChainId(){return[await Promise.resolve(this.chainId)]}async getNonce(){const[t]=await this.nonce();return t}},Coe=uoe,poe=class extends no{constructor(t,e,n,a,s,r,l){const g="safeProxyFactoryVersion";super(g,t,e,n,a,s,r,l),this.contractName=g}},TA=poe,moe=class extends TA{constructor(t,e,n,a,s){const r="1.0.0",l=oF.abi;super(t,e,l,r,n,a,s),this.proxyCreationCode=async()=>[await this.read("proxyCreationCode")],this.proxyRuntimeCode=async()=>[await this.read("proxyRuntimeCode")],this.createProxy=async g=>[await this.write("createProxy",g)],this.createProxyWithNonce=async g=>[await this.write("createProxyWithNonce",g)]}},Aoe=moe,yoe=class extends TA{constructor(t,e,n,a,s){const r="1.1.1",l=lF.abi;super(t,e,l,r,n,a,s),this.proxyCreationCode=async()=>[await this.read("proxyCreationCode")],this.proxyRuntimeCode=async()=>[await this.read("proxyRuntimeCode")],this.calculateCreateProxyWithNonceAddress=async g=>[await this.write("calculateCreateProxyWithNonceAddress",g)],this.createProxy=async g=>[await this.write("createProxy",g)],this.createProxyWithCallback=async g=>[await this.write("createProxyWithCallback",g)],this.createProxyWithNonce=async g=>[await this.write("createProxyWithNonce",g)]}},boe=yoe,hoe=class extends TA{constructor(t,e,n,a,s){const r="1.3.0",l=cF.abi;super(t,e,l,r,n,a,s),this.proxyCreationCode=async()=>[await this.read("proxyCreationCode")],this.proxyRuntimeCode=async()=>[await this.read("proxyRuntimeCode")],this.calculateCreateProxyWithNonceAddress=async g=>[await this.write("calculateCreateProxyWithNonceAddress",g)],this.createProxy=async g=>[await this.write("createProxy",g)],this.createProxyWithCallback=async g=>[await this.write("createProxyWithCallback",g)],this.createProxyWithNonce=async g=>[await this.write("createProxyWithNonce",g)]}},foe=hoe,Zoe=class extends TA{constructor(t,e,n,a,s){const r="1.4.1",l=gF.abi;super(t,e,l,r,n,a,s),this.getChainId=async()=>[await this.read("getChainId")],this.proxyCreationCode=async()=>[await this.read("proxyCreationCode")],this.createChainSpecificProxyWithNonce=async g=>[await this.write("createChainSpecificProxyWithNonce",g)],this.createProxyWithCallback=async g=>[await this.write("createProxyWithCallback",g)],this.createProxyWithNonce=async g=>[await this.write("createProxyWithNonce",g)]}},Goe=Zoe,Boe=class extends no{constructor(t,e,n,a,s,r,l){const g="simulateTxAccessorVersion";super(g,t,e,n,a,s,r,l),this.contractName=g}},fv=Boe,Soe=class extends fv{constructor(t,e,n,a,s){const r="1.3.0",l=dF.abi;super(t,e,l,r,n,a,s),this.simulate=async g=>{const[c,u,d]=await this.write("simulate",g);return[BigInt(c),!!u,Be(d)]}}},woe=Soe,koe=class extends fv{constructor(t,e,n,a,s){const r="1.4.1",l=IF.abi;super(t,e,l,r,n,a,s),this.simulate=async g=>{const[c,u,d]=await this.write("simulate",g);return[BigInt(c),!!u,Be(d)]}}},Voe=koe,Roe=class extends no{constructor(t,e,n,a,s,r,l){const g="compatibilityFallbackHandler";super(g,t,e,n,a,s,r,l),this.contractName=g}},Zv=Roe,Woe=class extends Zv{constructor(t,e,n,a,s){const r="1.3.0",l=OY.abi;super(t,e,l,r,n,a,s)}},voe=Woe,Eoe=class extends Zv{constructor(t,e,n,a,s){const r="1.4.1",l=jY.abi;super(t,e,l,r,n,a,s)}},Xoe=Eoe,Joe=class extends no{constructor(t,e,n,a,s,r,l){const g="safeWebAuthnSignerFactoryVersion";super(g,t,e,n,a,s,r,l),this.contractName=g}},xoe=Joe,Noe=class extends xoe{constructor(t,e,n,a,s,r){const l=uF.abi;super(t,e,l,n,a,s,r),this.getSigner=async g=>[await this.read("getSigner",g)],this.createSigner=async g=>[await this.write("createSigner",g)],this.isValidSignatureForSigner=async g=>[await this.read("isValidSignatureForSigner",g)]}},Hoe=Noe,Toe=class extends no{constructor(t,e,n,a,s,r,l){const g="safeWebAuthnSharedSignerVersion";super(g,t,e,n,a,s,r,l),this.contractName=g}},Yoe=Toe,Foe=class extends Yoe{constructor(t,e,n,a,s,r){const l=CF.abi;super(t,e,l,n,a,s,r),this.getConfiguration=async g=>[await this.read("getConfiguration",g)],this.configure=async g=>(await this.write("configure",g),[]),this.isValidSignature=async g=>[await this.read("isValidSignature",g)],this.SIGNER_SLOT=async()=>[await this.read("SIGNER_SLOT")]}},Koe=Foe;async function Moe(t,e,n,a,s,r){const l=await e.getChainId();let g;switch(t){case"1.4.1":g=new Coe(l,e,s,n,a,r);break;case"1.3.0":g=new Ioe(l,e,s,n,a,r);break;case"1.2.0":g=new goe(l,e,s,n,a,r);break;case"1.1.1":g=new loe(l,e,s,n,a,r);break;case"1.0.0":g=new roe(l,e,s,n,a,r);break;default:throw new Error("Invalid Safe version")}return await g.init(),g}async function Uoe(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new Xoe(r,e,n,a,s);break;case"1.3.0":case"1.2.0":case"1.1.1":l=new voe(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function Doe(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new $re(r,e,n,a,s);break;case"1.3.0":l=new jre(r,e,n,a,s);break;case"1.2.0":case"1.1.1":case"1.0.0":l=new Pre(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function Loe(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new aoe(r,e,n,a,s);break;case"1.3.0":case"1.2.0":case"1.1.1":case"1.0.0":l=new toe(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function zoe(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new Goe(r,e,n,a,s);break;case"1.3.0":l=new foe(r,e,n,a,s);break;case"1.2.0":case"1.1.1":l=new boe(r,e,n,a,s);break;case"1.0.0":l=new Aoe(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function Qoe(t,e,n,a,s){const r=await e.getChainId();let l;switch(t){case"1.4.1":l=new Voe(r,e,n,a,s);break;case"1.3.0":l=new woe(r,e,n,a,s);break;default:throw new Error("Invalid Safe version")}return await l.init(),l}async function Poe(t,e,n,a,s){const r=await e.getChainId();switch(t){case"1.4.1":case"1.3.0":const l=new Hoe(r,e,t,n,a,s);return await l.init(),l;default:throw new Error("Invalid Safe version")}}async function Ooe(t,e,n,a,s){const r=await e.getChainId();switch(t){case"1.4.1":case"1.3.0":const l=new Koe(r,e,t,n,a,s);return await l.init(),l;default:throw new Error("Invalid Safe version")}}async function Bm({safeProvider:t,safeVersion:e,customSafeAddress:n,isL1SafeSingleton:a,customContracts:s,deploymentType:r}){const l=await Moe(e,t,n??(s==null?void 0:s.safeSingletonAddress),s==null?void 0:s.safeSingletonAbi,a,r);if(!await t.isContractDeployed(l.getAddress()))throw new Error("SafeProxy contract is not deployed on the current network");return l}async function Gv({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await zoe(e,t,n==null?void 0:n.safeProxyFactoryAddress,n==null?void 0:n.safeProxyFactoryAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("SafeProxyFactory contract is not deployed on the current network");return s}async function Bv({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Uoe(e,t,n==null?void 0:n.fallbackHandlerAddress,n==null?void 0:n.fallbackHandlerAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("CompatibilityFallbackHandler contract is not deployed on the current network");return s}async function joe({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Doe(e,t,n==null?void 0:n.multiSendAddress,n==null?void 0:n.multiSendAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("MultiSend contract is not deployed on the current network");return s}async function _oe({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Loe(e,t,n==null?void 0:n.multiSendCallOnlyAddress,n==null?void 0:n.multiSendCallOnlyAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("MultiSendCallOnly contract is not deployed on the current network");return s}async function $oe({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Qoe(e,t,n==null?void 0:n.simulateTxAccessorAddress,n==null?void 0:n.simulateTxAccessorAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("SimulateTxAccessor contract is not deployed on the current network");return s}async function qoe({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Poe(e,t,n==null?void 0:n.safeWebAuthnSignerFactoryAddress,n==null?void 0:n.safeWebAuthnSignerFactoryAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("safeWebAuthnSignerFactory contract is not deployed on the current network");return s}async function ele({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a}){const s=await Ooe(e,t,n==null?void 0:n.safeWebAuthnSharedSignerAddress,n==null?void 0:n.safeWebAuthnSharedSignerAbi,a);if(!await t.isContractDeployed(s.getAddress()))throw new Error("safeWebAuthnSharedSigner contract is not deployed on the current network");return s}async function tle(t,e,n,a,s,r,l,g){const c=await n.getChainId(),u=await $oe({safeProvider:n,safeVersion:t,customContracts:g==null?void 0:g[c.toString()]}),d=u.encode("simulate",[a,BigInt(s),Be(r),l]),A=(await Nre(e)).encode("simulateAndRevert",[u.getAddress(),Be(d)]),G=e.getAddress(),w={to:G,value:"0",data:A,from:G};try{const Z=await n.call(w);return iI(Z)}catch(Z){return rle(Z)}}async function nle(t,e,n,a,s,r){const l=t.getAddress();try{return await e.estimateGas({to:n,from:l,value:a,data:s})}catch(g){return r===Yi.DelegateCall?"0":Promise.reject(g)}}function iI(t){const[,e]=t.split("0x");return(+("0x"+("0x"+e).slice(184).slice(0,10))).toString()}function ale(t){return t.data!=null}function sle(t){return t instanceof Ie}function ile(t){return t.info.error.data!=null}function rle(t){if(ale(t))return iI(t.data);if(sle(t)){const n=t.walk();if(typeof(n==null?void 0:n.data)=="string")return iI(n==null?void 0:n.data)}if(ile(t)){const n=t.info.error.data,s=typeof n=="string"?n:n.data;return iI(s)}if(t.message.includes("0x"))return iI(t.message);throw new Error("Could not parse SafeTxGas from Estimation response, Details: "+(t==null?void 0:t.message))}var ole=class{constructor(t){this.signatures=new Map,this.data=t}getSignature(t){return this.signatures.get(t.toLowerCase())}addSignature(t){this.signatures.set(t.signer.toLowerCase(),t)}encodedSignatures(){return HA(Array.from(this.signatures.values()))}},b3=ole;function lle(t){return{...t,operation:t.operation??Yi.Call}}async function h3({safeContract:t,predictedSafe:e,provider:n,tx:a,contractNetworks:s}){var d;const r={to:a.to,value:a.value,data:a.data,operation:a.operation??Yi.Call,baseGas:a.baseGas??"0",gasPrice:a.gasPrice??"0",gasToken:a.gasToken||zr,refundReceiver:a.refundReceiver||zr,nonce:a.nonce??(t?Number(await t.getNonce()):0)};if(typeof a.safeTxGas<"u")return{...r,safeTxGas:a.safeTxGas};let l;if(e)l=((d=e==null?void 0:e.safeDeploymentConfig)==null?void 0:d.safeVersion)||Os;else{if(!t)throw new Error("Safe is not deployed");l=t.safeVersion}const g=Ra("SAFE_TX_GAS_OPTIONAL",l);if(g&&r.gasPrice==="0"||g&&e)return{...r,safeTxGas:"0"};if(!t)throw new Error("Safe is not deployed");let c;const u=new Il({provider:n});return fs(l,">=1.3.0")?c=await tle(l,t,u,r.to,r.value,r.data,r.operation,s):c=await nle(t,u,r.to,r.value,r.data,r.operation),{...r,safeTxGas:c}}function cle(t){const e=An(t.data);return IK(["uint8","address","uint256","uint256","bytes"],[t.operation??Yi.Call,t.to,BigInt(t.value),BigInt(e.length),Kt(e)]).slice(2)}function f3(t){return`0x${t.map(e=>cle(e)).join("")}`}function sh(t){return t.isExecuted!==void 0}function Z3(t){return t.passkey!==void 0}function gle(t){return t.oldOwnerPasskey!==void 0}function G3(t){return t.newOwnerPasskey!==void 0}function dle(t){const e=H2(t)?T2(t):Y2(t);return t.value&&(e.value=BigInt(t.value)),t.to&&(e.to=t.to),t.data&&(e.data=Be(t.data)),e}function Ile(t){const e=H2(t)?T2(t):Y2(t);return t.to&&(e.to=t.to),t.data&&(e.data=Be(t.data)),e}function ule(t){return H2(t)?T2(t):Y2(t)}function H2(t){return!!(t!=null&&t.gasPrice)}function T2(t){const e={};return t!=null&&t.from&&(e.account=t.from),t!=null&&t.gasLimit&&(e.gas=BigInt(t.gasLimit)),t!=null&&t.gasPrice&&(e.gasPrice=BigInt(t.gasPrice)),t!=null&&t.nonce&&(e.nonce=t.nonce),e}function Y2(t){const e={};return t!=null&&t.from&&(e.account=t.from),t!=null&&t.gasLimit&&(e.gas=BigInt(t.gasLimit)),t!=null&&t.maxFeePerGas&&(e.maxFeePerGas=BigInt(t.maxFeePerGas)),t!=null&&t.maxPriorityFeePerGas&&(e.maxPriorityFeePerGas=BigInt(t.maxPriorityFeePerGas)),t!=null&&t.nonce&&(e.nonce=t.nonce),e}function Cle(t){return t.some(e=>e.operation&&e.operation===Yi.DelegateCall)}function ple(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),n=cI.from(e,"base64");return new Uint8Array(n)}async function mle(){const{p256:t}=await fI(async()=>{const{p256:c}=await import("./p256-CGqiYwVa.js");return{p256:c}},[]),{AsnParser:e,AsnProp:n,AsnPropTypes:a,AsnType:s,AsnTypeTypes:r}=await fI(async()=>{const{AsnParser:c,AsnProp:u,AsnPropTypes:d,AsnType:p,AsnTypeTypes:A}=await import("./index-Cq9iAiQN.js");return{AsnParser:c,AsnProp:u,AsnPropTypes:d,AsnType:p,AsnTypeTypes:A}},[]);let l=class{constructor(){this.id="",this.curve=""}};gc([n({type:a.ObjectIdentifier})],l.prototype,"id",2),gc([n({type:a.ObjectIdentifier,optional:!0})],l.prototype,"curve",2),l=gc([s({type:r.Sequence})],l);let g=class{constructor(){this.algorithm=new l,this.publicKey=new ArrayBuffer(0)}};return gc([n({type:l})],g.prototype,"algorithm",2),gc([n({type:a.BitString})],g.prototype,"publicKey",2),g=gc([s({type:r.Sequence})],g),{p256:t,AsnParser:e,ECPublicKey:g}}async function Ale(t){const{p256:e,AsnParser:n,ECPublicKey:a}=await mle();let s=ple(t);if(s.length===0)throw new Error("Decoded public key is empty.");const r=s[0]===48,l=s.length===64;if(r){const d=n.parse(s.buffer,a);s=new Uint8Array(d.publicKey)}else if(l){const d=new Uint8Array(65);d[0]=4,d.set(s,1),s=d}const g=e.ProjectivePoint.fromHex(s),c=g.x.toString(16).padStart(64,"0"),u=g.y.toString(16).padStart(64,"0");return{x:"0x"+c,y:"0x"+u}}async function yle(t){const e={name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}},n=await crypto.subtle.importKey("spki",t,e,!0,["verify"]),{x:a,y:s}=await crypto.subtle.exportKey("jwk",n);if(!(!!a&&!!s))throw new Error("Failed to generate passkey Coordinates. crypto.subtle.exportKey() failed");return{x:"0x"+cI.from(a,"base64").toString("hex"),y:"0x"+cI.from(s,"base64").toString("hex")}}async function ble(t){const n=t.getPublicKey();if(!n)throw new Error("Failed to generate passkey coordinates. getPublicKey() failed");if(typeof n=="string")return Ale(n);if(n instanceof ArrayBuffer)return await yle(n);throw new Error("Unsupported public key format.")}async function hle(t){const e=t,n=cI.from(e.rawId).toString("hex"),a=await ble(e.response);return{rawId:n,coordinates:a}}function Sv(t){const e=Y1.getFCLP256VerifierDeployment({version:"0.2.1",released:!0,network:t});if(!e)throw new Error(`Failed to load FCLP256Verifier deployment for chain ID ${t}`);const n=e.networkAddresses[t];if(!n)throw new Error(`FCLP256Verifier address not found for chain ID ${t}`);return n}async function fle(t,e,n,a,s){const r=e.contractAddress;if(n&&a.includes(r)){const[l]=await e.getConfiguration([Be(n)]),{x:g,y:c,verifiers:u}=l,d=t.customVerifierAddress||Sv(s);return BigInt(t.coordinates.x)===g&&BigInt(t.coordinates.y)===c&&BigInt(d)===u}return!1}var Zle=fle,wv="passkeyWallet",Gle="Passkey Wallet Client",B3=async(t,e,n)=>{const r=(await(n||navigator.credentials.get.bind(navigator.credentials))({publicKey:{challenge:e,allowCredentials:[{type:"public-key",id:t}],userVerification:"required"}})).response;if(!(r!=null&&r.authenticatorData))throw new Error("Failed to sign data with passkey Signer");const{authenticatorData:l,signature:g,clientDataJSON:c}=r;return ts(r1("bytes, bytes, uint256[2]"),[Ge(new Uint8Array(l)),Vle(c),Rle(g)])},Ble=()=>{throw new Error("Passkey Signers cannot sign transactions, they can only sign data.")},Sle=()=>{throw new Error("Passkey Signers cannot sign signTypedData, they can only sign data.")},wle=async(t,e,n,a,s,r,l)=>{const{rawId:g,coordinates:c,customVerifierAddress:u}=t,d=Sn(Be(g)),p=u||Sv(l),A=await Zle(t,n,s,r,l);let G;return A?G=n.getAddress():[G]=await e.getSigner([BigInt(c.x),BigInt(c.y),AS(Be(p),"bigint")]),wA({account:G,name:Gle,key:wv,transport:Cc(a.transport)}).extend(p2).extend(()=>({signMessage({message:w}){return typeof w=="string"?B3(d,An(w),t.getFn):B3(d,$a(w.raw)?An(w.raw):w.raw,t.getFn)},signTransaction:Ble,signTypedData:Sle,encodeConfigure(){return ma({abi:hu(["function configure((uint256 x, uint256 y, uint176 verifiers) signer)"]),functionName:"configure",args:[{x:BigInt(t.coordinates.x),y:BigInt(t.coordinates.y),verifiers:AS(Be(p),"bigint")}]})},encodeCreateSigner(){return Be(e.encode("createSigner",[BigInt(c.x),BigInt(c.y),BigInt(p)]))},createDeployTxRequest(){return{to:e.getAddress(),value:"0",data:this.encodeCreateSigner()}}}))};function kle(t){const e=new Uint8Array(t);let n="";for(let a=0;a<e.length;a++)n+=String.fromCharCode(e[a]);return n}function Vle(t){const n=kle(t).match(/^\{"type":"webauthn.get","challenge":"[A-Za-z0-9\-_]{43}",(.*)\}$/);if(!n)throw new Error("challenge not found in client data JSON");const[,a]=n;return Ge(Lr(a))}function Rle(t){const e=g=>{if(!g)throw new Error("invalid signature encoding")},n=new DataView(t instanceof ArrayBuffer?t:t instanceof Uint8Array?t.buffer:new Uint8Array(t).buffer);e(n.getUint8(0)===48),e(n.getUint8(1)===n.byteLength-2);const a=g=>{e(n.getUint8(g)===2);const c=n.getUint8(g+1),u=g+2,d=u+c,p=R4(new Uint8Array(n.buffer.slice(u,d)),"bigint");return e(p<Tg),[p,d]},[s,r]=a(2),[l]=a(r);return[s,l]}async function Wle(t,e){const n=t.getContractVersion(),a=await t.getAddress(),s=await t.getOwners();return(await(await Il.init({provider:t.getSafeProvider().provider,signer:e,safeVersion:n,contractNetworks:t.getContractManager().contractNetworks,safeAddress:a,owners:s})).getExternalSigner()).account.address}var Tp=Wle;function _d(t){return typeof t=="number"?vle(t):Ele(t)}function vle(t){return{blockNumber:t.toNumber()}}function Ele(t){return{blockTag:t}}var Xle=t=>typeof t!="string",Jle=t=>typeof t=="string"&&!ut(t),ih=t=>!!t&&t.key===wv,Kr,Yn,iu,M1,Pr,xle=(Pr=class{constructor({provider:e,signer:n}){q(this,iu);q(this,Kr);q(this,Yn);H(this,Yn,bM({transport:Xle(e)?Cc(e):V6(e)})),this.provider=e,this.signer=n,H(this,Kr,void 0)}getExternalProvider(){return y(this,Yn)}static async init({provider:e,signer:n,safeVersion:a=Os,contractNetworks:s,safeAddress:r,owners:l}){if(n&&typeof n!="string"){if(!Ra("PASSKEY_SIGNER",a))throw new Error("Current version of the Safe does not support the Passkey signer functionality");const c=new Pr({provider:e}),u=await c.getChainId(),d=s==null?void 0:s[u.toString()];let p;if(ih(n))p=n;else{const A=await qoe({safeProvider:c,safeVersion:a,customContracts:d}),G=await ele({safeProvider:c,safeVersion:a,customContracts:d});p=await wle(n,A,G,c.getExternalProvider(),r||"",l||[],u.toString())}return new Pr({provider:e,signer:p})}else return new Pr({provider:e,signer:n})}async getExternalSigner(){const{transport:e,chain:n=await ge(this,iu,M1).call(this)}=this.getExternalProvider();if(ih(this.signer))return this.signer;if(Jle(this.signer)){const a=yre(Be(this.signer));return Cb({account:a,chain:n,transport:Cc(e)})}if(this.signer&&typeof this.signer=="string")return Cb({account:this.signer,chain:n,transport:Cc(e)});try{const a=Cb({chain:n,transport:Cc(e)}),[s]=await a.getAddresses();if(s)return wA({account:s,transport:Cc(e),chain:a.chain,rpcSchema:h6()}).extend(p2).extend(LW)}catch{}}async isPasskeySigner(){return ih(this.signer)}isAddress(e){return ut(e)}async getEip3770Address(e){const n=await this.getChainId();return dv(e,n)}async getBalance(e,n){return Uf(y(this,Yn),{address:e,..._d(n)})}async getNonce(e,n){return yA(y(this,Yn),{address:e,..._d(n)})}async getChainId(){const e=(await ge(this,iu,M1).call(this)).id;return BigInt(e)}getChecksummedAddress(e){return Wg(e)}async getContractCode(e,n){return await bm(y(this,Yn),{address:e,..._d(n)})??"0x"}async isContractDeployed(e,n){return!!await bm(y(this,Yn),{address:e,..._d(n)})}async getStorageAt(e,n){const a=await cW(y(this,Yn),{address:e,slot:Be(n)});return this.decodeParameters("address",Be(a))[0]}async getTransaction(e){return RA(y(this,Yn),{hash:e})}async getSignerAddress(){const e=await this.getExternalSigner();return e?Wg(e.account.address):void 0}async signMessage(e){const n=await this.getExternalSigner(),a=await this.getSignerAddress();if(!n||!a)throw new Error("SafeProvider must be initialized with a signer to use this method");return Ca(n.account.address,a)?await(n==null?void 0:n.signMessage({message:{raw:An(e)}})):await(n==null?void 0:n.signMessage({account:a,message:{raw:An(e)}}))}async signTypedData(e){const n=await this.getExternalSigner();if(!n)throw new Error("SafeProvider must be initialized with a signer to use this method");if(Ole(n)){const a=xre(e),{chainId:s,verifyingContract:r}=a.domain,l=s?Number(s):void 0,g={verifyingContract:r,chainId:l};return await n.signTypedData({domain:g,types:a.primaryType==="SafeMessage"?{SafeMessage:a.types.SafeMessage}:{SafeTx:a.types.SafeTx},primaryType:a.primaryType,message:a.message})}throw new Error("The current signer does not implement EIP-712 to sign typed data")}async estimateGas(e){const n=dle(e);return(await hA(y(this,Yn),n)).toString()}async call(e,n){const a=Ile(e),{data:s}=await Ru(y(this,Yn),{...a,..._d(n)});return s??"0x"}async readContract(e){return ti(y(this,Yn),e)}encodeParameters(e,n){return ts(r1(e),n)}decodeParameters(e,n){return Hg(r1(e),Be(n))}},Kr=new WeakMap,Yn=new WeakMap,iu=new WeakSet,M1=async function(){if(y(this,Kr))return y(this,Kr);const e=uv(BigInt(await y(this,Yn).getChainId()));if(!e)throw new Error("Invalid chainId");return H(this,Kr,e),y(this,Kr)},Pr),Il=xle;function YA(t,e={}){const n=Nle();return(...a)=>{const s=JSON.stringify(a,n);return e[s]=e[s]||t(...a),e[s]}}function Nle(){const t=new Set;return(e,n)=>typeof n=="bigint"?n.toString():n instanceof Il&&n!==null?t.has(n)?void 0:(t.add(n),{$safeProvider:{provider:typeof n.provider=="object"?"EIP1193Provider":n.provider,signer:n.signer}}):n}var kv="0xb1073742015cbcf5a3a4d9d1ae33ecf619439710b89475f92e2abd2117e90f90",Hle=324n,Tle=300n,Yle=232n,Fle={"1.3.0":{deployedBytecodeHash:"0x0100004124426fb9ebb25e27d670c068e52f9ba631bd383279a188be47e3f86d"},"1.4.1":{deployedBytecodeHash:"0x0100003b6cfa15bd7d1cae1c9c022074524d7785d34859ad0576d8fab4305d4f"}},Kle="0x2020dba91b30cc0006188af794c2fb30dd8520db7e2c088b7fc7c103c00ca494";function Mle(t,e,n,a){return t.encode("createProxyWithNonce",[e,Be(n),BigInt(a||kv)])}var Ule=YA(Bv);async function F2({safeProvider:t,safeAccountConfig:e,safeContract:n,customContracts:a,customSafeVersion:s,deploymentType:r}){const{owners:l,threshold:g,to:c=zr,data:u=lv,fallbackHandler:d,paymentToken:p=zr,payment:A=0,paymentReceiver:G=zr}=e,w=s||n.safeVersion;if(fs(w,"<=1.0.0"))return n.encode("setup",[l,g,c,Be(u),p,A,G]);let Z=d;return Z!==void 0&&ut(Z)||(Z=(await Ule({safeProvider:t,safeVersion:w,customContracts:a,deploymentType:r})).getAddress()),n.encode("setup",[l,g,c,u,Z,p,A,G])}var K2=YA(({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a})=>Gv({safeProvider:t,safeVersion:e,customContracts:n,deploymentType:a})),Dle=YA(async({safeProvider:t,safeVersion:e,customContracts:n,chainId:a,deploymentType:s})=>(await K2({safeProvider:t,safeVersion:e,customContracts:n,chainId:a,deploymentType:s})).proxyCreationCode()),Vv=YA(({safeProvider:t,safeVersion:e,isL1SafeSingleton:n,customContracts:a,deploymentType:s})=>Bm({safeProvider:t,safeVersion:e,isL1SafeSingleton:n,customContracts:a,deploymentType:s}));async function Lle(t,e){return await t.readContract({address:e,abi:hu(["function VERSION() view returns (string)"]),functionName:"VERSION"})}function M2(t){return rt(Ge(kv+t))}async function zle({safeProvider:t,chainId:e,safeAccountConfig:n,safeDeploymentConfig:a={},isL1SafeSingleton:s,customContracts:r}){U2(n),D2(a);const{safeVersion:l=Os,saltNonce:g=M2(e),deploymentType:c}=a,u=await K2({safeProvider:t,safeVersion:l,customContracts:r,chainId:e.toString(),deploymentType:c}),d=await Vv({safeProvider:t,safeVersion:l,isL1SafeSingleton:s,customContracts:r,chainId:e.toString(),deploymentType:c}),p=await F2({safeProvider:t,safeAccountConfig:n,safeContract:d,customContracts:r,customSafeVersion:l,deploymentType:c}),A=t.encodeParameters("uint256",[g]),G=d.getAddress(),w=Mle(u,G,p,A);return`0x${[u.getAddress(),w].reduce((W,D)=>W+D.replace("0x",""),"")}`}async function Qle({safeProvider:t,chainId:e,safeAccountConfig:n,safeDeploymentConfig:a={},isL1SafeSingleton:s,customContracts:r}){U2(n),D2(a);const{safeVersion:l=Os,saltNonce:g=M2(e),deploymentType:c}=a,u=await K2({safeProvider:t,safeVersion:l,customContracts:r,chainId:e.toString(),deploymentType:c}),[d]=await Dle({safeProvider:t,safeVersion:l,customContracts:r,chainId:e.toString(),deploymentType:c}),p=await Vv({safeProvider:t,safeVersion:l,isL1SafeSingleton:s,customContracts:r,chainId:e.toString(),deploymentType:c}),A=await F2({safeProvider:t,safeAccountConfig:n,safeContract:p,customContracts:r,customSafeVersion:l,deploymentType:c}),G=rt(Be(A)),w=Be(t.encodeParameters("uint256",[g])),Z=rt(On([G,w])),V=t.encodeParameters("address",[p.getAddress()]),W=u.getAddress();if([Hle,Tle,Yle].includes(e)){const z=Ple(W,l,Z,Be(V));return t.getChecksummedAddress(z)}const x=On([d,Be(V)]),Y=GK({from:W,bytecode:x,opcode:"CREATE2",salt:Z});return t.getChecksummedAddress(Y)}var U2=({owners:t,threshold:e})=>{if(t.length<=0)throw new Error("Owner list must have at least one owner");if(e<=0)throw new Error("Threshold must be greater than or equal to 1");if(e>t.length)throw new Error("Threshold must be lower than or equal to owners length")},D2=({saltNonce:t})=>{if(t&&BigInt(t)<0)throw new Error("saltNonce must be greater than or equal to 0")};function Ple(t,e,n,a){const s=Fle[e].deployedBytecodeHash,r=rt(a);return`0x${rt(On([Kle,_a(Be(t)),n,s,r])).slice(26)}`}function Ss(t,e,n){return{hash:e,options:n,transactionResponse:{wait:async()=>C2(t,{hash:e})}}}function Ole(t){const e=!!(t!=null&&t.passkeyRawId);return t.signTypedData!==void 0||!e}var ru,ou,lu,cu,gu,Xm,Rv,mg,jle=(mg=class{constructor(){q(this,Xm);q(this,ru);q(this,ou);q(this,lu);q(this,cu);q(this,gu)}static async init(e,n){var s;const a=new mg;return await ge(s=a,Xm,Rv).call(s,e,n),a}get contractNetworks(){return y(this,ru)}get isL1SafeSingleton(){return y(this,ou)}get safeContract(){return y(this,lu)}get multiSendContract(){return y(this,cu)}get multiSendCallOnlyContract(){return y(this,gu)}},ru=new WeakMap,ou=new WeakMap,lu=new WeakMap,cu=new WeakMap,gu=new WeakMap,Xm=new WeakSet,Rv=async function(e,n){var d,p,A;const{isL1SafeSingleton:a,contractNetworks:s,predictedSafe:r,safeAddress:l}=e,g=await n.getChainId(),c=s==null?void 0:s[g.toString()];H(this,ru,s),H(this,ou,a);let u;if(Iv(e))u=((d=r==null?void 0:r.safeDeploymentConfig)==null?void 0:d.safeVersion)??Os;else{try{u=await Lle(n,l)}catch{u=Os}H(this,lu,await Bm({safeProvider:n,safeVersion:u,isL1SafeSingleton:a,customSafeAddress:l,customContracts:c}))}H(this,cu,await joe({safeProvider:n,safeVersion:u,customContracts:c,deploymentType:(p=r==null?void 0:r.safeDeploymentConfig)==null?void 0:p.deploymentType})),H(this,gu,await _oe({safeProvider:n,safeVersion:u,customContracts:c,deploymentType:(A=r==null?void 0:r.safeDeploymentConfig)==null?void 0:A.deploymentType}))},mg),S3=jle,Ag,al,Jm,ak,_le=(ak=class{constructor(t,e){q(this,Ag);q(this,al);q(this,Jm,"0x6c9a6c4a39284e37ed1cf53d337577d14212a4870fb976a4366c693b939918d5");H(this,Ag,t),H(this,al,e)}validateFallbackHandlerAddress(t){if(!y(this,Ag).isAddress(t)||LI(t))throw new Error("Invalid fallback handler address provided")}validateFallbackHandlerIsNotEnabled(t,e){if(Ca(t,e))throw new Error("Fallback handler provided is already enabled")}validateFallbackHandlerIsEnabled(t){if(LI(t))throw new Error("There is no fallback handler enabled yet")}async isFallbackHandlerCompatible(){if(!y(this,al))throw new Error("Safe is not deployed");const t=y(this,al).safeVersion;if(!Ra("SAFE_FALLBACK_HANDLER",t))throw new Error("Current version of the Safe does not support the fallback handler functionality");return y(this,al)}async getFallbackHandler(){const t=await this.isFallbackHandlerCompatible();return y(this,Ag).getStorageAt(t.getAddress(),y(this,Jm))}async encodeEnableFallbackHandlerData(t){const e=await this.isFallbackHandlerCompatible();this.validateFallbackHandlerAddress(t);const n=await this.getFallbackHandler();return this.validateFallbackHandlerIsNotEnabled(n,t),e.encode("setFallbackHandler",[Be(t)])}async encodeDisableFallbackHandlerData(){const t=await this.isFallbackHandlerCompatible(),e=await this.getFallbackHandler();return this.validateFallbackHandlerIsEnabled(e),t.encode("setFallbackHandler",[Be(zr)])}},Ag=new WeakMap,al=new WeakMap,Jm=new WeakMap,ak),$le=_le,yg,sl,xm,sk,qle=(sk=class{constructor(t,e){q(this,yg);q(this,sl);q(this,xm,"0x4a204f620c8c5ccdca3fd54d003badd85ba500436a431f0cbda4f558c93c34c8");H(this,yg,t),H(this,sl,e)}validateGuardAddress(t){if(!y(this,yg).isAddress(t)||LI(t))throw new Error("Invalid guard address provided")}validateGuardIsNotEnabled(t,e){if(Ca(t,e))throw new Error("Guard provided is already enabled")}validateGuardIsEnabled(t){if(LI(t))throw new Error("There is no guard enabled yet")}async isGuardCompatible(){if(!y(this,sl))throw new Error("Safe is not deployed");const t=y(this,sl).safeVersion;if(!Ra("SAFE_TX_GUARDS",t))throw new Error("Current version of the Safe does not support Safe transaction guards functionality");return y(this,sl)}async getGuard(){const t=await this.isGuardCompatible();return y(this,yg).getStorageAt(t.getAddress(),y(this,xm))}async encodeEnableGuardData(t){const e=await this.isGuardCompatible();this.validateGuardAddress(t);const n=await this.getGuard();return this.validateGuardIsNotEnabled(n,t),e.encode("setGuard",[Be(t)])}async encodeDisableGuardData(){const t=await this.isGuardCompatible(),e=await this.getGuard();return this.validateGuardIsEnabled(e),t.encode("setGuard",[Be(zr)])}},yg=new WeakMap,sl=new WeakMap,xm=new WeakMap,sk),ece=qle,du,ia,ik,tce=(ik=class{constructor(t,e){q(this,du);q(this,ia);H(this,du,t),H(this,ia,e)}validateModuleAddress(t){if(!y(this,du).isAddress(t)||gv(t))throw new Error("Invalid module address provided")}validateModuleIsNotEnabled(t,e){if(e.findIndex(s=>Ca(s,t))>=0)throw new Error("Module provided is already enabled")}validateModuleIsEnabled(t,e){const n=e.findIndex(s=>Ca(s,t));if(!(n>=0))throw new Error("Module provided is not enabled yet");return n}async getModules(){if(!y(this,ia))throw new Error("Safe is not deployed");const[t]=await y(this,ia).getModules();return[...t]}async getModulesPaginated(t,e){if(!y(this,ia))throw new Error("Safe is not deployed");const[n,a]=await y(this,ia).getModulesPaginated([t,BigInt(e)]);return{modules:n,next:a}}async isModuleEnabled(t){if(!y(this,ia))throw new Error("Safe is not deployed");const[e]=await y(this,ia).isModuleEnabled([t]);return e}async encodeEnableModuleData(t){if(!y(this,ia))throw new Error("Safe is not deployed");this.validateModuleAddress(t);const e=await this.getModules();return this.validateModuleIsNotEnabled(t,e),y(this,ia).encode("enableModule",[t])}async encodeDisableModuleData(t){if(!y(this,ia))throw new Error("Safe is not deployed");this.validateModuleAddress(t);const e=await this.getModules(),n=this.validateModuleIsEnabled(t,e),a=n===0?Fi:e[n-1];return y(this,ia).encode("disableModule",[a,t])}},du=new WeakMap,ia=new WeakMap,ik),nce=tce,Iu,In,rk,ace=(rk=class{constructor(t,e){q(this,Iu);q(this,In);H(this,Iu,t),H(this,In,e)}validateOwnerAddress(t,e){if(!y(this,Iu).isAddress(t)||gv(t))throw new Error(e||"Invalid owner address provided")}validateThreshold(t,e){if(t<=0)throw new Error("Threshold needs to be greater than 0");if(t>e)throw new Error("Threshold cannot exceed owner count")}validateAddressIsNotOwner(t,e,n){if(e.findIndex(r=>Ca(r,t))>=0)throw new Error(n||"Address provided is already an owner")}validateAddressIsOwner(t,e,n){const a=e.findIndex(r=>Ca(r,t));if(!(a>=0))throw new Error(n||"Address provided is not an owner");return a}async getOwners(){if(!y(this,In))throw new Error("Safe is not deployed");const[t]=await y(this,In).getOwners();return[...t]}async getThreshold(){if(!y(this,In))throw new Error("Safe is not deployed");const[t]=await y(this,In).getThreshold();return Number(t)}async isOwner(t){if(!y(this,In))throw new Error("Safe is not deployed");const[e]=await y(this,In).isOwner([t]);return e}async encodeAddOwnerWithThresholdData(t,e){if(!y(this,In))throw new Error("Safe is not deployed");this.validateOwnerAddress(t);const n=await this.getOwners();this.validateAddressIsNotOwner(t,n);const a=e??await this.getThreshold();return this.validateThreshold(a,n.length+1),y(this,In).encode("addOwnerWithThreshold",[t,a])}async encodeRemoveOwnerData(t,e){if(!y(this,In))throw new Error("Safe is not deployed");this.validateOwnerAddress(t);const n=await this.getOwners(),a=this.validateAddressIsOwner(t,n),s=e??await this.getThreshold()-1;this.validateThreshold(s,n.length-1);const r=a===0?Fi:n[a-1];return y(this,In).encode("removeOwner",[r,t,s])}async encodeSwapOwnerData(t,e){if(!y(this,In))throw new Error("Safe is not deployed");this.validateOwnerAddress(e,"Invalid new owner address provided"),this.validateOwnerAddress(t,"Invalid old owner address provided");const n=await this.getOwners();this.validateAddressIsNotOwner(e,n,"New address provided is already an owner");const a=this.validateAddressIsOwner(t,n,"Old address provided is not an owner"),s=a===0?Fi:n[a-1];return y(this,In).encode("swapOwner",[s,t,e])}async encodeChangeThresholdData(t){if(!y(this,In))throw new Error("Safe is not deployed");const e=await this.getOwners();return this.validateThreshold(t,e.length),y(this,In).encode("changeThreshold",[t])}},Iu=new WeakMap,In=new WeakMap,rk),sce=ace,ice=class{constructor(t){this.signatures=new Map,this.data=t}getSignature(t){return this.signatures.get(t.toLowerCase())}addSignature(t){this.signatures.set(t.signer.toLowerCase(),t)}encodedSignatures(){return HA(Array.from(this.signatures.values()))}},rce=ice;async function oce(t,e){const n=t.getContractVersion(),a=await t.getAddress(),s=await t.getOwners(),l=await(await Il.init({provider:t.getSafeProvider().provider,signer:e,safeVersion:n,contractNetworks:t.getContractManager().contractNetworks,safeAddress:a,owners:s})).getExternalSigner(),g=l.account.address;if(await t.getSafeProvider().isContractDeployed(g))throw new Error("Passkey Signer contract already deployed");return l.createDeployTxRequest()}var w3=oce;function Yp(t,e){const n=rt(Ge(t));return Ge(n.slice(-e)).replace("0x","")}function lce({project:t,platform:e="Web",tool:n,toolVersion:a}){const s="5afe",r="00",l=Yp(t,20),g=Yp(e,3),c=Yp(n,3),u=Yp(a,3);return`${s}${r}${l}${g}${c}${u}`}var cce=lce,gce=()=>"6.0.4",k3=">=1.4.1",V3=">=1.3.0",yt,Ue,De,ys,Ei,il,rl,uu,Cu,ra,ni,Wv,vv,Ev,Xv,bs,dce=(bs=class{constructor(){q(this,ni);q(this,yt);q(this,Ue);q(this,De);q(this,ys);q(this,Ei);q(this,il);q(this,rl);q(this,uu);q(this,Cu);q(this,ra);H(this,uu,"0x1626ba7e"),H(this,Cu,"0x20c13b0b"),H(this,ra,""),this.getSafeMessageHash=async e=>{const n=await this.getAddress(),a=this.getContractVersion(),s=await this.getChainId();return Dre(n,e,a,s)},this.isValidSignature=async(e,n="0x")=>{const a=await this.getAddress(),s=await ge(this,ni,Xv).call(this),r=n&&Array.isArray(n)?HA(n):n,l=[e,Be(r)],g=s.encode("isValidSignature",l),c=[e,Be(r)],u=s.encode("isValidSignature",c);try{const d=await Promise.all([y(this,Ue).call({from:a,to:a,data:g}),y(this,Ue).call({from:a,to:a,data:u})]);return!!d.length&&(d[0].slice(0,10).toLowerCase()===y(this,uu)||d[1].slice(0,10).toLowerCase()===y(this,Cu))}catch{return!1}},this.getContractInfo=({contractAddress:e})=>Bre(e)}static async init(e){var a;const n=new bs;return await ge(a=n,ni,Wv).call(a,e),n}async connect(e){const{provider:n,signer:a,safeAddress:s,predictedSafe:r,isL1SafeSingleton:l,contractNetworks:g}=e,c={provider:n||y(this,Ue).provider,signer:a,isL1SafeSingleton:l||y(this,De).isL1SafeSingleton,contractNetworks:g||y(this,De).contractNetworks};return s?await bs.init({safeAddress:s,...c}):r?await bs.init({predictedSafe:r,...c}):y(this,yt)?await bs.init({predictedSafe:y(this,yt),...c}):await bs.init({safeAddress:await this.getAddress(),...c})}async getInitCode(){var n;if(!y(this,yt))throw new Error("The Safe already exists");const e=await y(this,Ue).getChainId();return zle({safeProvider:y(this,Ue),chainId:e,customContracts:(n=y(this,De).contractNetworks)==null?void 0:n[e.toString()],...y(this,yt)})}getPredictedSafe(){return y(this,yt)}async getAddress(){var e;if(y(this,yt)){const n=this.getContractVersion();if(!Ra("ACCOUNT_ABSTRACTION",n))throw new Error("Account Abstraction functionality is not available for Safes with version lower than v1.3.0");const a=await y(this,Ue).getChainId();return Qle({safeProvider:y(this,Ue),chainId:a,isL1SafeSingleton:y(this,De).isL1SafeSingleton,customContracts:(e=y(this,De).contractNetworks)==null?void 0:e[a.toString()],...y(this,yt)})}if(!y(this,De).safeContract)throw new Error("Safe is not deployed");return y(this,De).safeContract.getAddress()}getContractManager(){return y(this,De)}getSafeProvider(){return y(this,Ue)}getMultiSendAddress(){return y(this,De).multiSendContract.getAddress()}getMultiSendCallOnlyAddress(){return y(this,De).multiSendCallOnlyContract.getAddress()}async isSafeDeployed(){const e=await this.getAddress();return await y(this,Ue).isContractDeployed(e)}getContractVersion(){var e,n;return y(this,De).safeContract?y(this,De).safeContract.safeVersion:(n=(e=y(this,yt))==null?void 0:e.safeDeploymentConfig)!=null&&n.safeVersion?y(this,yt).safeDeploymentConfig.safeVersion:Os}async getOwners(){var e;return(e=y(this,yt))!=null&&e.safeAccountConfig.owners?Promise.resolve(y(this,yt).safeAccountConfig.owners):y(this,ys).getOwners()}async getNonce(){if(!y(this,De).safeContract)return Promise.resolve(0);const e=await y(this,De).safeContract.getNonce();return Number(e)}async getThreshold(){var e;return(e=y(this,yt))!=null&&e.safeAccountConfig.threshold?Promise.resolve(y(this,yt).safeAccountConfig.threshold):y(this,ys).getThreshold()}async getChainId(){return y(this,Ue).getChainId()}async getBalance(){return y(this,Ue).getBalance(await this.getAddress())}getFallbackHandler(){return y(this,rl).getFallbackHandler()}async getGuard(){return y(this,il).getGuard()}async getModules(){return y(this,Ei).getModules()}async getModulesPaginated(e,n=10){return y(this,Ei).getModulesPaginated(e,n)}async isModuleEnabled(e){return y(this,Ei).isModuleEnabled(e)}async isOwner(e){var n,a;return(n=y(this,yt))!=null&&n.safeAccountConfig.owners?Promise.resolve((a=y(this,yt))==null?void 0:a.safeAccountConfig.owners.some(s=>Ca(s,e))):y(this,ys).isOwner(e)}async createTransaction({transactions:e,onlyCalls:n=!0,options:a}){const s=this.getContractVersion();if(y(this,yt)&&!Ra("ACCOUNT_ABSTRACTION",s))throw new Error("Account Abstraction functionality is not available for Safes with version lower than v1.3.0");if(e.length===0)throw new Error("Invalid empty array of transactions");let r;if(e.length>1){let l;if(n){if(Cle(e))throw new Error("At least one transaction uses DELEGATECALL. By default only CALL is allowed. Check onlyCalls flag.");l=y(this,De).multiSendCallOnlyContract}else l=y(this,De).multiSendContract;const g=f3(e.map(lle));r={...a,to:l.getAddress(),value:"0",data:l.encode("multiSend",[Be(g)]),operation:Yi.DelegateCall}}else r={...a,...e[0]};if(y(this,yt))return new b3(await h3({predictedSafe:y(this,yt),provider:y(this,Ue).provider,tx:r,contractNetworks:y(this,De).contractNetworks}));if(!y(this,De).safeContract)throw new Error("Safe is not deployed");return new b3(await h3({safeContract:y(this,De).safeContract,provider:y(this,Ue).provider,tx:r,contractNetworks:y(this,De).contractNetworks}))}async createRejectionTransaction(e){const n={to:await this.getAddress(),value:"0",data:"0x"},a={nonce:e,safeTxGas:"0"};return this.createTransaction({transactions:[n],options:a})}async copyTransaction(e){const{to:n,value:a,data:s,operation:r,...l}=e.data,g={to:n,value:a,data:s,operation:r},c=await this.createTransaction({transactions:[g],options:l});return e.signatures.forEach(u=>{c.addSignature(u)}),c}async getTransactionHash(e){const n=await this.getAddress(),a=this.getContractVersion(),s=await this.getChainId();return Ure(n,e.data,a,s)}async signHash(e){const n=await y(this,Ue).isPasskeySigner(),a=await y(this,Ue).getSignerAddress();if(n&&a){let r=await y(this,Ue).signMessage(e);return r=await x2(un.ETH_SIGN,r,e,a),new zI(a,r,!0)}return await Tre(y(this,Ue),e)}createMessage(e){return new rce(e)}async signMessage(e,n=un.ETH_SIGN_TYPED_DATA_V4,a){const s=await y(this,Ue).getSignerAddress();if(!s)throw new Error("The protocol-kit requires a signer to use this method");if(!await this.isOwner(s))throw new Error("Messages can only be signed by Safe owners");const l=this.getContractVersion();if(n===un.SAFE_SIGNATURE&&fs(l,k3)&&!a)throw new Error("The parent Safe account address is mandatory for contract signatures");let g;if(n===un.ETH_SIGN_TYPED_DATA_V4)g=await this.signTypedData(e,"v4");else if(n===un.ETH_SIGN_TYPED_DATA_V3)g=await this.signTypedData(e,"v3");else if(n===un.ETH_SIGN_TYPED_DATA)g=await this.signTypedData(e,void 0);else{const u=await this.getChainId();if(!Ra("ETH_SIGN",l))throw new Error("eth_sign is only supported by Safes >= v1.1.0");let d;if(n===un.SAFE_SIGNATURE&&a&&fs(l,k3)){const p=Kre(a,K1(e.data),l,u);d=await this.getSafeMessageHash(p)}else d=await this.getSafeMessageHash(K1(e.data));g=await this.signHash(d)}const c=this.createMessage(e.data);return e.signatures.forEach(u=>{c.addSignature(u)}),c.addSignature(g),c}async signTypedData(e,n){const a={safeAddress:await this.getAddress(),safeVersion:this.getContractVersion(),chainId:await y(this,Ue).getChainId(),data:e.data};return Yre(y(this,Ue),a,n)}async signTransaction(e,n=un.ETH_SIGN_TYPED_DATA_V4,a){const s=sh(e)?await this.toSafeTransactionType(e):e,r=await y(this,Ue).getSignerAddress();if(!r)throw new Error("The protocol-kit requires a signer to use this method");if(!await this.isOwner(r))throw new Error("Transactions can only be signed by Safe owners");const g=this.getContractVersion();if(n===un.SAFE_SIGNATURE&&fs(g,V3)&&!a)throw new Error("The parent Safe account address is mandatory for contract signatures");let c;if(await y(this,Ue).isPasskeySigner()){const p=await this.getTransactionHash(s);c=await this.signHash(p)}else if(n===un.ETH_SIGN_TYPED_DATA_V4)c=await this.signTypedData(s,"v4");else if(n===un.ETH_SIGN_TYPED_DATA_V3)c=await this.signTypedData(s,"v3");else if(n===un.ETH_SIGN_TYPED_DATA)c=await this.signTypedData(s,void 0);else{const p=this.getContractVersion(),A=await this.getChainId();if(!Ra("ETH_SIGN",p))throw new Error("eth_sign is only supported by Safes >= v1.1.0");let G;if(n===un.SAFE_SIGNATURE&&fs(p,V3)&&a){const w=Fre(a,e.data,p,A);G=await this.getSafeMessageHash(w)}else G=await this.getTransactionHash(s);c=await this.signHash(G)}const d=await this.copyTransaction(s);return d.addSignature(c),d}async approveTransactionHash(e,n){if(!y(this,De).safeContract)throw new Error("Safe is not deployed");const a=await y(this,Ue).getSignerAddress();if(!a)throw new Error("The protocol-kit requires a signer to use this method");if(!await this.isOwner(a))throw new Error("Transaction hashes can only be approved by Safe owners");return y(this,De).safeContract.approveHash(e,{from:a,...n})}async getOwnersWhoApprovedTx(e){if(!y(this,De).safeContract)return[];const n=await this.getOwners(),a=[];for(const s of n){const[r]=await y(this,De).safeContract.approvedHashes([Be(s),e]);r>0&&a.push(s)}return a}async createEnableFallbackHandlerTx(e,n){const a=await this.getContractVersion();if(y(this,yt)&&!Ra("ACCOUNT_ABSTRACTION",a))throw new Error("Account Abstraction functionality is not available for Safes with version lower than v1.3.0");const s={to:await this.getAddress(),value:"0",data:await y(this,rl).encodeEnableFallbackHandlerData(e)};return await this.createTransaction({transactions:[s],options:n})}async createDisableFallbackHandlerTx(e){const n=await this.getContractVersion();if(y(this,yt)&&!Ra("ACCOUNT_ABSTRACTION",n))throw new Error("Account Abstraction functionality is not available for Safes with version lower than v1.3.0");const a={to:await this.getAddress(),value:"0",data:await y(this,rl).encodeDisableFallbackHandlerData()};return await this.createTransaction({transactions:[a],options:e})}async createEnableGuardTx(e,n){const a={to:await this.getAddress(),value:"0",data:await y(this,il).encodeEnableGuardData(e)};return await this.createTransaction({transactions:[a],options:n})}async createDisableGuardTx(e){const n={to:await this.getAddress(),value:"0",data:await y(this,il).encodeDisableGuardData()};return await this.createTransaction({transactions:[n],options:e})}async createEnableModuleTx(e,n){const a={to:await this.getAddress(),value:"0",data:await y(this,Ei).encodeEnableModuleData(e)};return await this.createTransaction({transactions:[a],options:n})}async createDisableModuleTx(e,n){const a={to:await this.getAddress(),value:"0",data:await y(this,Ei).encodeDisableModuleData(e)};return await this.createTransaction({transactions:[a],options:n})}async createAddOwnerTx(e,n){const a=Z3(e),s=a?await Tp(this,e.passkey):e.ownerAddress,{threshold:r}=e,g=[{to:await this.getAddress(),value:"0",data:await y(this,ys).encodeAddOwnerWithThresholdData(s,r)}];if(a&&!await y(this,Ue).isContractDeployed(s)){const u=await w3(this,e.passkey);g.push(u)}return await this.createTransaction({transactions:g,options:n})}async createRemoveOwnerTx(e,n){const{threshold:a}=e,r=Z3(e)?await Tp(this,e.passkey):e.ownerAddress,l={to:await this.getAddress(),value:"0",data:await y(this,ys).encodeRemoveOwnerData(r,a)};return await this.createTransaction({transactions:[l],options:n})}async createSwapOwnerTx(e,n){const a=gle(e)?await Tp(this,e.oldOwnerPasskey):e.oldOwnerAddress,s=G3(e)?await Tp(this,e.newOwnerPasskey):e.newOwnerAddress,l=[{to:await this.getAddress(),value:"0",data:await y(this,ys).encodeSwapOwnerData(a,s)}];if(G3(e)&&!await y(this,Ue).isContractDeployed(s)){const c=await w3(this,e.newOwnerPasskey);l.push(c)}return await this.createTransaction({transactions:l,options:n})}async createChangeThresholdTx(e,n){const a={to:await this.getAddress(),value:"0",data:await y(this,ys).encodeChangeThresholdData(e)};return await this.createTransaction({transactions:[a],options:n})}async toSafeTransactionType(e){var r;const n={to:e.to,value:e.value,data:e.data||"0x",operation:e.operation},a={safeTxGas:e.safeTxGas.toString(),baseGas:e.baseGas.toString(),gasPrice:e.gasPrice,gasToken:e.gasToken,refundReceiver:e.refundReceiver,nonce:e.nonce},s=await this.createTransaction({transactions:[n],options:a});return(r=e.confirmations)==null||r.map(l=>{const g=new zI(l.owner,l.signature);s.addSignature(g)}),s}async isValidTransaction(e,n){if(!y(this,De).safeContract)throw new Error("Safe is not deployed");const a=sh(e)?await this.toSafeTransactionType(e):e,s=await this.copyTransaction(a),r=await this.getTransactionHash(s),l=await this.getOwnersWhoApprovedTx(r);for(const d of l)s.addSignature(Hp(d));const g=await y(this,Ue).getSignerAddress();if(!g)throw new Error("The protocol-kit requires a signer to use this method");return await this.isOwner(g)&&s.addSignature(Hp(g)),await y(this,De).safeContract.isValidTransaction(s,{from:g,...n})}async executeTransaction(e,n){if(!y(this,De).safeContract)throw new Error("Safe is not deployed");const a=sh(e)?await this.toSafeTransactionType(e):e,s=await ge(this,ni,vv).call(this,a);await ge(this,ni,Ev).call(this,s);const r=BigInt(s.data.value);if(r!==0n){const c=await this.getBalance();if(r>c)throw new Error("Not enough Ether funds")}const l=await y(this,Ue).getSignerAddress();if(y(this,ra)){const c=await this.getEncodedTransaction(s),u={to:await this.getAddress(),value:0n,data:c+y(this,ra)},d=await y(this,Ue).getExternalSigner();if(!d)throw new Error("A signer must be set");const p=await d.sendTransaction({...u,account:d.account,...n}),A=y(this,Ue).getExternalProvider();return Ss(A,p,n)}return await y(this,De).safeContract.execTransaction(s,{from:l,...n})}async getEncodedTransaction(e){var c;const n=this.getContractVersion(),a=await this.getChainId(),s=(c=y(this,De).contractNetworks)==null?void 0:c[a.toString()],r=y(this,De).isL1SafeSingleton;return(await Bm({safeProvider:y(this,Ue),safeVersion:n,isL1SafeSingleton:r,customContracts:s})).encode("execTransaction",[e.data.to,e.data.value,e.data.data,e.data.operation,e.data.safeTxGas,e.data.baseGas,e.data.gasPrice,e.data.gasToken,e.data.refundReceiver,e.encodedSignatures()])}async wrapSafeTransactionIntoDeploymentBatch(e,n){if(await this.isSafeDeployed())throw new Error("Safe already deployed");const s=await this.createSafeDeploymentTransaction();s.data.endsWith(y(this,ra))&&(s.data=s.data.replace(y(this,ra),""));const r={to:s.to,value:s.value,data:s.data,operation:Yi.Call},l={to:await this.getAddress(),value:"0",data:await this.getEncodedTransaction(e),operation:Yi.Call},g=[r,l];return await this.createTransactionBatch(g,n,!!y(this,ra))}async createSafeDeploymentTransaction(){var w,Z;if(!y(this,yt))throw new Error("Predict Safe should be present to build the Safe deployement transaction");const{safeAccountConfig:e,safeDeploymentConfig:n={}}=y(this,yt);U2(e),D2(n);const a=y(this,Ue),s=await a.getChainId(),r=(n==null?void 0:n.safeVersion)||Os,l=(n==null?void 0:n.saltNonce)||M2(s);if(Ra("ACCOUNT_ABSTRACTION",r)&&await this.isSafeDeployed())throw new Error("Safe already deployed");const g=y(this,De).isL1SafeSingleton,c=(w=y(this,De).contractNetworks)==null?void 0:w[s.toString()],u=(Z=y(this,yt).safeDeploymentConfig)==null?void 0:Z.deploymentType,d=await Bm({safeProvider:a,safeVersion:r,isL1SafeSingleton:g,customContracts:c,deploymentType:u}),p=await Gv({safeProvider:a,safeVersion:r,customContracts:c,deploymentType:u}),A=await F2({safeProvider:a,safeContract:d,safeAccountConfig:e,customContracts:c,deploymentType:u}),G={to:p.getAddress(),value:"0",data:p.encode("createProxyWithNonce",[Be(d.getAddress()),Be(A),BigInt(l)])};return y(this,ra)&&(G.data+=y(this,ra)),G}async createTransactionBatch(e,n,a=!1){const s=y(this,De).multiSendCallOnlyContract,r=s.encode("multiSend",[Be(f3(e))]),l={...n,to:s.getAddress(),value:"0",data:r};return a&&(l.data+=y(this,ra)),l}getOnchainIdentifier(){return y(this,ra)}},yt=new WeakMap,Ue=new WeakMap,De=new WeakMap,ys=new WeakMap,Ei=new WeakMap,il=new WeakMap,rl=new WeakMap,uu=new WeakMap,Cu=new WeakMap,ra=new WeakMap,ni=new WeakSet,Wv=async function(e){const{provider:n,signer:a,isL1SafeSingleton:s,contractNetworks:r,onchainAnalytics:l}=e;if(l!=null&&l.project){const{project:u,platform:d}=l;H(this,ra,cce({project:u,platform:d,tool:"protocol-kit",toolVersion:gce()}))}H(this,Ue,await Il.init({provider:n,signer:a,safeVersion:Os,contractNetworks:r})),Iv(e)?(H(this,yt,e.predictedSafe),H(this,De,await S3.init({provider:n,predictedSafe:y(this,yt),isL1SafeSingleton:s,contractNetworks:r},y(this,Ue)))):H(this,De,await S3.init({provider:n,safeAddress:e.safeAddress,isL1SafeSingleton:s,contractNetworks:r},y(this,Ue)));const g=this.getContractVersion();if(H(this,Ue,await Il.init({provider:n,signer:a,safeVersion:g,contractNetworks:r})),H(this,ys,new sce(y(this,Ue),y(this,De).safeContract)),H(this,Ei,new nce(y(this,Ue),y(this,De).safeContract)),H(this,il,new ece(y(this,Ue),y(this,De).safeContract)),H(this,rl,new $le(y(this,Ue),y(this,De).safeContract)),a&&typeof a!="string"){const u=await this.getAddress(),d=await this.getOwners();H(this,Ue,await Il.init({provider:n,signer:a,safeVersion:g,contractNetworks:r,safeAddress:u,owners:d}))}},vv=async function(e){const n=await this.copyTransaction(e),a=await this.getTransactionHash(n),s=await this.getOwnersWhoApprovedTx(a);for(const c of s)n.addSignature(Hp(c));const r=await this.getOwners(),l=await this.getThreshold(),g=await y(this,Ue).getSignerAddress();return l>n.signatures.size&&g&&r.includes(g)&&n.addSignature(Hp(g)),n},Ev=async function(e){const n=await this.getThreshold();if(n>e.signatures.size){const a=n-e.signatures.size;throw new Error(`There ${a>1?"are":"is"} ${a} signature${a>1?"s":""} missing`)}},Xv=async function(){var s;if(!y(this,De).safeContract)throw new Error("Safe is not deployed");const e=y(this,De).safeContract.safeVersion??Os,n=await y(this,Ue).getChainId();return await Bv({safeProvider:y(this,Ue),safeVersion:e,customContracts:(s=y(this,De).contractNetworks)==null?void 0:s[n.toString()]})},bs.createPasskeySigner=async e=>hle(e),bs),Ice=dce,Fp=Ice;async function It({url:t,method:e,body:n}){const s=await(await(typeof window>"u"?fI(()=>import("./index-tQpp_gEp.js"),[]).then(l=>l.default):Promise.resolve(window.fetch)))(t,{method:e,headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n)});let r;try{r=await s.json()}catch{if(!s.ok)throw new Error(s.statusText)}if(s.ok)return r;throw r.data?new Error(r.data):r.detail?new Error(r.detail):r.message?new Error(r.message):r.nonFieldErrors?new Error(r.nonFieldErrors):r.delegate?new Error(r.delegate):r.safe?new Error(r.safe):r.delegator?new Error(r.delegator):new Error(s.statusText)}async function R3(t,e,n){const a={name:"Safe Transaction Service",version:"1.0",chainId:Number(n)},s={Delegate:[{name:"delegateAddress",type:"address"},{name:"totp",type:"uint256"}]},r=Math.floor(Date.now()/1e3/3600);return t.signTypedData({domain:a,types:s,primaryType:"Delegate",message:{delegateAddress:e,totp:r}})}var uce={1:"https://safe-transaction-mainnet.safe.global/api",10:"https://safe-transaction-optimism.safe.global/api",56:"https://safe-transaction-bsc.safe.global/api",100:"https://safe-transaction-gnosis-chain.safe.global/api",130:"https://safe-transaction-unichain.safe.global/api",137:"https://safe-transaction-polygon.safe.global/api",196:"https://safe-transaction-xlayer.safe.global/api",324:"https://safe-transaction-zksync.safe.global/api",480:"https://safe-transaction-worldchain.safe.global/api",1101:"https://safe-transaction-zkevm.safe.global/api",5e3:"https://safe-transaction-mantle.safe.global/api",8453:"https://safe-transaction-base.safe.global/api",42161:"https://safe-transaction-arbitrum.safe.global/api",42220:"https://safe-transaction-celo.safe.global/api",43114:"https://safe-transaction-avalanche.safe.global/api",59144:"https://safe-transaction-linea.safe.global/api",81457:"https://safe-transaction-blast.safe.global/api",84532:"https://safe-transaction-base-sepolia.safe.global/api",534352:"https://safe-transaction-scroll.safe.global/api",11155111:"https://safe-transaction-sepolia.safe.global/api",1313161554:"https://safe-transaction-aurora.safe.global/api"},Cce="0x",rh=t=>!t||t===Cce,pce=async t=>{const e=t.getUserOperation();return e.signature=t.encodedSignatures(),{entryPoint:t.options.entryPoint,moduleAddress:t.options.moduleAddress,safeAddress:e.sender,userOperation:e,options:{validAfter:t.options.validAfter,validUntil:t.options.validUntil}}},mce=t=>"signatures"in t&&"getUserOperation"in t&&"getHash"in t,Ace={from:"_from"},ol,et,je,U1,Bt,Gr,ok,yce=(ok=class{constructor({chainId:t,txServiceUrl:e}){q(this,je);q(this,ol);q(this,et);if(H(this,ol,t),e)H(this,et,e);else{const n=uce[t.toString()];if(!n)throw new TypeError(`There is no transaction service available for chainId ${t}. Please set the txServiceUrl property to use a custom transaction service.`);H(this,et,n)}}async getServiceInfo(){return It({url:`${y(this,et)}/v1/about`,method:"get"})}async getServiceSingletonsInfo(){return It({url:`${y(this,et)}/v1/about/singletons`,method:"get"})}async decodeData(t,e){if(t==="")throw new Error("Invalid data");const n={data:t};return e&&(n.to=e),It({url:`${y(this,et)}/v1/data-decoder/`,method:"post",body:n})}async getSafeDelegates({safeAddress:t,delegateAddress:e,delegatorAddress:n,label:a,limit:s,offset:r}){const l=new URL(`${y(this,et)}/v2/delegates`);if(t){const{address:g}=ge(this,je,Bt).call(this,t);l.searchParams.set("safe",g)}if(e){const{address:g}=ge(this,je,Bt).call(this,e);l.searchParams.set("delegate",g)}if(n){const{address:g}=ge(this,je,Bt).call(this,n);l.searchParams.set("delegator",g)}return a&&l.searchParams.set("label",a),s!=null&&l.searchParams.set("limit",s.toString()),r!=null&&l.searchParams.set("offset",r.toString()),It({url:l.toString(),method:"get"})}async addSafeDelegate({safeAddress:t,delegateAddress:e,delegatorAddress:n,label:a,signer:s}){if(e==="")throw new Error("Invalid Safe delegate address");if(n==="")throw new Error("Invalid Safe delegator address");if(a==="")throw new Error("Invalid label");const{address:r}=ge(this,je,Bt).call(this,e),{address:l}=ge(this,je,Bt).call(this,n),g=await R3(s,r,y(this,ol)),c={safe:t?ge(this,je,Bt).call(this,t).address:null,delegate:r,delegator:l,label:a,signature:g};return It({url:`${y(this,et)}/v2/delegates/`,method:"post",body:c})}async removeSafeDelegate({delegateAddress:t,delegatorAddress:e,signer:n}){if(t==="")throw new Error("Invalid Safe delegate address");if(e==="")throw new Error("Invalid Safe delegator address");const{address:a}=ge(this,je,Bt).call(this,t),{address:s}=ge(this,je,Bt).call(this,e),r=await R3(n,a,y(this,ol));return It({url:`${y(this,et)}/v2/delegates/${a}`,method:"delete",body:{delegator:s,signature:r}})}async getMessage(t){if(!t)throw new Error("Invalid messageHash");return It({url:`${y(this,et)}/v1/messages/${t}/`,method:"get"})}async getMessages(t,e={}){if(!ge(this,je,U1).call(this,t))throw new Error("Invalid safeAddress");const n=new URL(`${y(this,et)}/v1/safes/${t}/messages/`);return ge(this,je,Gr).call(this,n,e),It({url:n.toString(),method:"get"})}async addMessage(t,e){if(!ge(this,je,U1).call(this,t))throw new Error("Invalid safeAddress");return It({url:`${y(this,et)}/v1/safes/${t}/messages/`,method:"post",body:e})}async addMessageSignature(t,e){if(!t||!e)throw new Error("Invalid messageHash or signature");return It({url:`${y(this,et)}/v1/messages/${t}/signatures/`,method:"post",body:{signature:e}})}async getSafesByOwner(t){if(t==="")throw new Error("Invalid owner address");const{address:e}=ge(this,je,Bt).call(this,t);return It({url:`${y(this,et)}/v1/owners/${e}/safes/`,method:"get"})}async getSafesByModule(t){if(t==="")throw new Error("Invalid module address");const{address:e}=ge(this,je,Bt).call(this,t);return It({url:`${y(this,et)}/v1/modules/${e}/safes/`,method:"get"})}async getTransaction(t){if(t==="")throw new Error("Invalid safeTxHash");return It({url:`${y(this,et)}/v1/multisig-transactions/${t}/`,method:"get"})}async getTransactionConfirmations(t){if(t==="")throw new Error("Invalid safeTxHash");return It({url:`${y(this,et)}/v1/multisig-transactions/${t}/confirmations/`,method:"get"})}async confirmTransaction(t,e){if(t==="")throw new Error("Invalid safeTxHash");if(e==="")throw new Error("Invalid signature");return It({url:`${y(this,et)}/v1/multisig-transactions/${t}/confirmations/`,method:"post",body:{signature:e}})}async getSafeInfo(t){if(t==="")throw new Error("Invalid Safe address");const{address:e}=ge(this,je,Bt).call(this,t);return It({url:`${y(this,et)}/v1/safes/${e}/`,method:"get"}).then(n=>{if(!(n!=null&&n.singleton)){const{masterCopy:a,...s}=n;return{...s,singleton:a}}return n})}async getSafeCreationInfo(t){if(t==="")throw new Error("Invalid Safe address");const{address:e}=ge(this,je,Bt).call(this,t);return It({url:`${y(this,et)}/v1/safes/${e}/creation/`,method:"get"}).then(n=>{if(!(n!=null&&n.singleton)){const{masterCopy:a,...s}=n;return{...s,singleton:a}}return n})}async estimateSafeTransaction(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ge(this,je,Bt).call(this,t);return It({url:`${y(this,et)}/v1/safes/${n}/multisig-transactions/estimations/`,method:"post",body:e})}async proposeTransaction({safeAddress:t,safeTransactionData:e,safeTxHash:n,senderAddress:a,senderSignature:s,origin:r}){if(t==="")throw new Error("Invalid Safe address");const{address:l}=ge(this,je,Bt).call(this,t),{address:g}=ge(this,je,Bt).call(this,a);if(n==="")throw new Error("Invalid safeTxHash");return It({url:`${y(this,et)}/v1/safes/${l}/multisig-transactions/`,method:"post",body:{...e,contractTransactionHash:n,sender:g,signature:s,origin:r}})}async getIncomingTransactions(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ge(this,je,Bt).call(this,t),a=new URL(`${y(this,et)}/v1/safes/${n}/incoming-transfers/`);return ge(this,je,Gr).call(this,a,e),It({url:a.toString(),method:"get"})}async getModuleTransactions(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ge(this,je,Bt).call(this,t),a=new URL(`${y(this,et)}/v1/safes/${n}/module-transactions/`);return ge(this,je,Gr).call(this,a,e),It({url:a.toString(),method:"get"})}async getMultisigTransactions(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ge(this,je,Bt).call(this,t),a=new URL(`${y(this,et)}/v1/safes/${n}/multisig-transactions/`);return ge(this,je,Gr).call(this,a,e),It({url:a.toString(),method:"get"})}async getPendingTransactions(t,e={}){if(t==="")throw new Error("Invalid Safe address");const{currentNonce:n,hasConfirmations:a,ordering:s,limit:r,offset:l}=e,{address:g}=ge(this,je,Bt).call(this,t),c=n||(await this.getSafeInfo(g)).nonce,u=new URL(`${y(this,et)}/v1/safes/${g}/multisig-transactions/?executed=false&nonce__gte=${c}`);return a&&u.searchParams.set("has_confirmations",a.toString()),s&&u.searchParams.set("ordering",s),r!=null&&u.searchParams.set("limit",r.toString()),l!=null&&u.searchParams.set("offset",l.toString()),It({url:u.toString(),method:"get"})}async getAllTransactions(t,e){if(t==="")throw new Error("Invalid Safe address");const{address:n}=ge(this,je,Bt).call(this,t),a=new URL(`${y(this,et)}/v1/safes/${n}/all-transactions/`);return ge(this,je,Gr).call(this,a,e),It({url:a.toString(),method:"get"})}async getNextNonce(t){if(t==="")throw new Error("Invalid Safe address");const{address:e}=ge(this,je,Bt).call(this,t),n=await this.getPendingTransactions(e);return n.results.length>0?(n.results.reduce((r,l)=>{const g=BigInt(l.nonce);return g>r?g:r},0n)+1n).toString():(await this.getSafeInfo(e)).nonce}async getTokenList(t){const e=new URL(`${y(this,et)}/v1/tokens/`);return ge(this,je,Gr).call(this,e,t),It({url:e.toString(),method:"get"})}async getToken(t){if(t==="")throw new Error("Invalid token address");const{address:e}=ge(this,je,Bt).call(this,t);return It({url:`${y(this,et)}/v1/tokens/${e}/`,method:"get"})}async getSafeOperationsByAddress(t,e){if(!t)throw new Error("Safe address must not be empty");const{address:n}=ge(this,je,Bt).call(this,t),a=new URL(`${y(this,et)}/v1/safes/${n}/safe-operations/`);return ge(this,je,Gr).call(this,a,e),It({url:a.toString(),method:"get"})}async getPendingSafeOperations(t,e){return this.getSafeOperationsByAddress(t,{...e,executed:!1})}async getSafeOperation(t){if(!t)throw new Error("SafeOperation hash must not be empty");return It({url:`${y(this,et)}/v1/safe-operations/${t}/`,method:"get"})}async addSafeOperation(t){let e,n,a;mce(t)?a=await pce(t):a=t;const{entryPoint:s,moduleAddress:r,options:l,safeAddress:g,userOperation:c}=a;if(!g)throw new Error("Safe address must not be empty");try{e=ge(this,je,Bt).call(this,g).address}catch{throw new Error(`Invalid Safe address ${g}`)}if(!r)throw new Error("Module address must not be empty");try{n=ge(this,je,Bt).call(this,r).address}catch{throw new Error(`Invalid module address ${r}`)}if(rh(c.signature))throw new Error("Signature must not be empty");const u=p=>p?new Date(p*1e3).toISOString():null,d=c;return It({url:`${y(this,et)}/v1/safes/${e}/safe-operations/`,method:"post",body:{initCode:rh(d.initCode)?null:d.initCode,nonce:c.nonce,callData:c.callData,callGasLimit:c.callGasLimit.toString(),verificationGasLimit:c.verificationGasLimit.toString(),preVerificationGas:c.preVerificationGas.toString(),maxFeePerGas:c.maxFeePerGas.toString(),maxPriorityFeePerGas:c.maxPriorityFeePerGas.toString(),paymasterAndData:rh(d.paymasterAndData)?null:d.paymasterAndData,entryPoint:s,validAfter:u(l==null?void 0:l.validAfter),validUntil:u(l==null?void 0:l.validUntil),signature:c.signature,moduleAddress:n}})}async getSafeOperationConfirmations(t,{limit:e,offset:n}={}){if(!t)throw new Error("Invalid SafeOperation hash");const a=new URL(`${y(this,et)}/v1/safe-operations/${t}/confirmations/`);return e!=null&&a.searchParams.set("limit",e.toString()),n!=null&&a.searchParams.set("offset",n.toString()),It({url:a.toString(),method:"get"})}async confirmSafeOperation(t,e){if(!t)throw new Error("Invalid SafeOperation hash");if(!e)throw new Error("Invalid signature");return It({url:`${y(this,et)}/v1/safe-operations/${t}/confirmations/`,method:"post",body:{signature:e}})}},ol=new WeakMap,et=new WeakMap,je=new WeakSet,U1=function(t){try{return R2(t),!0}catch{return!1}},Bt=function(t){return dv(t,y(this,ol))},Gr=function(t,e){const n=a=>a.replace(/([A-Z])/g,"_$1").toLowerCase();Object.entries(e||{}).forEach(([a,s])=>{if(s!==void 0){const r=Ace[a]??n(a);t.searchParams.set(r,s.toString())}})},ok),bce=yce,hce=bce,oh,W3;function fce(){if(W3)return oh;W3=1;class t{constructor(){this.max=1e3,this.map=new Map}get(n){const a=this.map.get(n);if(a!==void 0)return this.map.delete(n),this.map.set(n,a),a}delete(n){return this.map.delete(n)}set(n,a){if(!this.delete(n)&&a!==void 0){if(this.map.size>=this.max){const r=this.map.keys().next().value;this.delete(r)}this.map.set(n,a)}return this}}return oh=t,oh}var lh,v3;function L2(){if(v3)return lh;v3=1;const t=Object.freeze({loose:!0}),e=Object.freeze({});return lh=a=>a?typeof a!="object"?t:a:e,lh}var Kp={exports:{}},ch,E3;function z2(){if(E3)return ch;E3=1;const t="2.0.0",e=256,n=Number.MAX_SAFE_INTEGER||9007199254740991,a=16,s=e-6;return ch={MAX_LENGTH:e,MAX_SAFE_COMPONENT_LENGTH:a,MAX_SAFE_BUILD_LENGTH:s,MAX_SAFE_INTEGER:n,RELEASE_TYPES:["major","premajor","minor","preminor","patch","prepatch","prerelease"],SEMVER_SPEC_VERSION:t,FLAG_INCLUDE_PRERELEASE:1,FLAG_LOOSE:2},ch}var gh,X3;function FA(){if(X3)return gh;X3=1;var t={};return gh=typeof y2=="object"&&t&&t.NODE_DEBUG&&/\bsemver\b/i.test(t.NODE_DEBUG)?(...n)=>console.error("SEMVER",...n):()=>{},gh}var J3;function Q2(){return J3||(J3=1,function(t,e){const{MAX_SAFE_COMPONENT_LENGTH:n,MAX_SAFE_BUILD_LENGTH:a,MAX_LENGTH:s}=z2(),r=FA();e=t.exports={};const l=e.re=[],g=e.safeRe=[],c=e.src=[],u=e.safeSrc=[],d=e.t={};let p=0;const A="[a-zA-Z0-9-]",G=[["\\s",1],["\\d",s],[A,a]],w=V=>{for(const[W,D]of G)V=V.split(`${W}*`).join(`${W}{0,${D}}`).split(`${W}+`).join(`${W}{1,${D}}`);return V},Z=(V,W,D)=>{const x=w(W),Y=p++;r(V,Y,W),d[V]=Y,c[Y]=W,u[Y]=x,l[Y]=new RegExp(W,D?"g":void 0),g[Y]=new RegExp(x,D?"g":void 0)};Z("NUMERICIDENTIFIER","0|[1-9]\\d*"),Z("NUMERICIDENTIFIERLOOSE","\\d+"),Z("NONNUMERICIDENTIFIER",`\\d*[a-zA-Z-]${A}*`),Z("MAINVERSION",`(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})\\.(${c[d.NUMERICIDENTIFIER]})`),Z("MAINVERSIONLOOSE",`(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})\\.(${c[d.NUMERICIDENTIFIERLOOSE]})`),Z("PRERELEASEIDENTIFIER",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIER]})`),Z("PRERELEASEIDENTIFIERLOOSE",`(?:${c[d.NONNUMERICIDENTIFIER]}|${c[d.NUMERICIDENTIFIERLOOSE]})`),Z("PRERELEASE",`(?:-(${c[d.PRERELEASEIDENTIFIER]}(?:\\.${c[d.PRERELEASEIDENTIFIER]})*))`),Z("PRERELEASELOOSE",`(?:-?(${c[d.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${c[d.PRERELEASEIDENTIFIERLOOSE]})*))`),Z("BUILDIDENTIFIER",`${A}+`),Z("BUILD",`(?:\\+(${c[d.BUILDIDENTIFIER]}(?:\\.${c[d.BUILDIDENTIFIER]})*))`),Z("FULLPLAIN",`v?${c[d.MAINVERSION]}${c[d.PRERELEASE]}?${c[d.BUILD]}?`),Z("FULL",`^${c[d.FULLPLAIN]}$`),Z("LOOSEPLAIN",`[v=\\s]*${c[d.MAINVERSIONLOOSE]}${c[d.PRERELEASELOOSE]}?${c[d.BUILD]}?`),Z("LOOSE",`^${c[d.LOOSEPLAIN]}$`),Z("GTLT","((?:<|>)?=?)"),Z("XRANGEIDENTIFIERLOOSE",`${c[d.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),Z("XRANGEIDENTIFIER",`${c[d.NUMERICIDENTIFIER]}|x|X|\\*`),Z("XRANGEPLAIN",`[v=\\s]*(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:\\.(${c[d.XRANGEIDENTIFIER]})(?:${c[d.PRERELEASE]})?${c[d.BUILD]}?)?)?`),Z("XRANGEPLAINLOOSE",`[v=\\s]*(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:\\.(${c[d.XRANGEIDENTIFIERLOOSE]})(?:${c[d.PRERELEASELOOSE]})?${c[d.BUILD]}?)?)?`),Z("XRANGE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAIN]}$`),Z("XRANGELOOSE",`^${c[d.GTLT]}\\s*${c[d.XRANGEPLAINLOOSE]}$`),Z("COERCEPLAIN",`(^|[^\\d])(\\d{1,${n}})(?:\\.(\\d{1,${n}}))?(?:\\.(\\d{1,${n}}))?`),Z("COERCE",`${c[d.COERCEPLAIN]}(?:$|[^\\d])`),Z("COERCEFULL",c[d.COERCEPLAIN]+`(?:${c[d.PRERELEASE]})?(?:${c[d.BUILD]})?(?:$|[^\\d])`),Z("COERCERTL",c[d.COERCE],!0),Z("COERCERTLFULL",c[d.COERCEFULL],!0),Z("LONETILDE","(?:~>?)"),Z("TILDETRIM",`(\\s*)${c[d.LONETILDE]}\\s+`,!0),e.tildeTrimReplace="$1~",Z("TILDE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAIN]}$`),Z("TILDELOOSE",`^${c[d.LONETILDE]}${c[d.XRANGEPLAINLOOSE]}$`),Z("LONECARET","(?:\\^)"),Z("CARETTRIM",`(\\s*)${c[d.LONECARET]}\\s+`,!0),e.caretTrimReplace="$1^",Z("CARET",`^${c[d.LONECARET]}${c[d.XRANGEPLAIN]}$`),Z("CARETLOOSE",`^${c[d.LONECARET]}${c[d.XRANGEPLAINLOOSE]}$`),Z("COMPARATORLOOSE",`^${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]})$|^$`),Z("COMPARATOR",`^${c[d.GTLT]}\\s*(${c[d.FULLPLAIN]})$|^$`),Z("COMPARATORTRIM",`(\\s*)${c[d.GTLT]}\\s*(${c[d.LOOSEPLAIN]}|${c[d.XRANGEPLAIN]})`,!0),e.comparatorTrimReplace="$1$2$3",Z("HYPHENRANGE",`^\\s*(${c[d.XRANGEPLAIN]})\\s+-\\s+(${c[d.XRANGEPLAIN]})\\s*$`),Z("HYPHENRANGELOOSE",`^\\s*(${c[d.XRANGEPLAINLOOSE]})\\s+-\\s+(${c[d.XRANGEPLAINLOOSE]})\\s*$`),Z("STAR","(<|>)?=?\\s*\\*"),Z("GTE0","^\\s*>=\\s*0\\.0\\.0\\s*$"),Z("GTE0PRE","^\\s*>=\\s*0\\.0\\.0-0\\s*$")}(Kp,Kp.exports)),Kp.exports}var dh,x3;function Zce(){if(x3)return dh;x3=1;const t=/^[0-9]+$/,e=(a,s)=>{const r=t.test(a),l=t.test(s);return r&&l&&(a=+a,s=+s),a===s?0:r&&!l?-1:l&&!r?1:a<s?-1:1};return dh={compareIdentifiers:e,rcompareIdentifiers:(a,s)=>e(s,a)},dh}var Ih,N3;function P2(){if(N3)return Ih;N3=1;const t=FA(),{MAX_LENGTH:e,MAX_SAFE_INTEGER:n}=z2(),{safeRe:a,t:s}=Q2(),r=L2(),{compareIdentifiers:l}=Zce();class g{constructor(u,d){if(d=r(d),u instanceof g){if(u.loose===!!d.loose&&u.includePrerelease===!!d.includePrerelease)return u;u=u.version}else if(typeof u!="string")throw new TypeError(`Invalid version. Must be a string. Got type "${typeof u}".`);if(u.length>e)throw new TypeError(`version is longer than ${e} characters`);t("SemVer",u,d),this.options=d,this.loose=!!d.loose,this.includePrerelease=!!d.includePrerelease;const p=u.trim().match(d.loose?a[s.LOOSE]:a[s.FULL]);if(!p)throw new TypeError(`Invalid Version: ${u}`);if(this.raw=u,this.major=+p[1],this.minor=+p[2],this.patch=+p[3],this.major>n||this.major<0)throw new TypeError("Invalid major version");if(this.minor>n||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>n||this.patch<0)throw new TypeError("Invalid patch version");p[4]?this.prerelease=p[4].split(".").map(A=>{if(/^[0-9]+$/.test(A)){const G=+A;if(G>=0&&G<n)return G}return A}):this.prerelease=[],this.build=p[5]?p[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(u){if(t("SemVer.compare",this.version,this.options,u),!(u instanceof g)){if(typeof u=="string"&&u===this.version)return 0;u=new g(u,this.options)}return u.version===this.version?0:this.compareMain(u)||this.comparePre(u)}compareMain(u){return u instanceof g||(u=new g(u,this.options)),l(this.major,u.major)||l(this.minor,u.minor)||l(this.patch,u.patch)}comparePre(u){if(u instanceof g||(u=new g(u,this.options)),this.prerelease.length&&!u.prerelease.length)return-1;if(!this.prerelease.length&&u.prerelease.length)return 1;if(!this.prerelease.length&&!u.prerelease.length)return 0;let d=0;do{const p=this.prerelease[d],A=u.prerelease[d];if(t("prerelease compare",d,p,A),p===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(p===void 0)return-1;if(p===A)continue;return l(p,A)}while(++d)}compareBuild(u){u instanceof g||(u=new g(u,this.options));let d=0;do{const p=this.build[d],A=u.build[d];if(t("build compare",d,p,A),p===void 0&&A===void 0)return 0;if(A===void 0)return 1;if(p===void 0)return-1;if(p===A)continue;return l(p,A)}while(++d)}inc(u,d,p){if(u.startsWith("pre")){if(!d&&p===!1)throw new Error("invalid increment argument: identifier is empty");if(d){const A=`-${d}`.match(this.options.loose?a[s.PRERELEASELOOSE]:a[s.PRERELEASE]);if(!A||A[1]!==d)throw new Error(`invalid identifier: ${d}`)}}switch(u){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",d,p);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",d,p);break;case"prepatch":this.prerelease.length=0,this.inc("patch",d,p),this.inc("pre",d,p);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",d,p),this.inc("pre",d,p);break;case"release":if(this.prerelease.length===0)throw new Error(`version ${this.raw} is not a prerelease`);this.prerelease.length=0;break;case"major":(this.minor!==0||this.patch!==0||this.prerelease.length===0)&&this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":(this.patch!==0||this.prerelease.length===0)&&this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":{const A=Number(p)?1:0;if(this.prerelease.length===0)this.prerelease=[A];else{let G=this.prerelease.length;for(;--G>=0;)typeof this.prerelease[G]=="number"&&(this.prerelease[G]++,G=-2);if(G===-1){if(d===this.prerelease.join(".")&&p===!1)throw new Error("invalid increment argument: identifier already exists");this.prerelease.push(A)}}if(d){let G=[d,A];p===!1&&(G=[d]),l(this.prerelease[0],d)===0?isNaN(this.prerelease[1])&&(this.prerelease=G):this.prerelease=G}break}default:throw new Error(`invalid increment argument: ${u}`)}return this.raw=this.format(),this.build.length&&(this.raw+=`+${this.build.join(".")}`),this}}return Ih=g,Ih}var uh,H3;function Qg(){if(H3)return uh;H3=1;const t=P2();return uh=(n,a,s)=>new t(n,s).compare(new t(a,s)),uh}var Ch,T3;function Gce(){if(T3)return Ch;T3=1;const t=Qg();return Ch=(n,a,s)=>t(n,a,s)===0,Ch}var ph,Y3;function Bce(){if(Y3)return ph;Y3=1;const t=Qg();return ph=(n,a,s)=>t(n,a,s)!==0,ph}var mh,F3;function Sce(){if(F3)return mh;F3=1;const t=Qg();return mh=(n,a,s)=>t(n,a,s)>0,mh}var Ah,K3;function wce(){if(K3)return Ah;K3=1;const t=Qg();return Ah=(n,a,s)=>t(n,a,s)>=0,Ah}var yh,M3;function kce(){if(M3)return yh;M3=1;const t=Qg();return yh=(n,a,s)=>t(n,a,s)<0,yh}var bh,U3;function Vce(){if(U3)return bh;U3=1;const t=Qg();return bh=(n,a,s)=>t(n,a,s)<=0,bh}var hh,D3;function Rce(){if(D3)return hh;D3=1;const t=Gce(),e=Bce(),n=Sce(),a=wce(),s=kce(),r=Vce();return hh=(g,c,u,d)=>{switch(c){case"===":return typeof g=="object"&&(g=g.version),typeof u=="object"&&(u=u.version),g===u;case"!==":return typeof g=="object"&&(g=g.version),typeof u=="object"&&(u=u.version),g!==u;case"":case"=":case"==":return t(g,u,d);case"!=":return e(g,u,d);case">":return n(g,u,d);case">=":return a(g,u,d);case"<":return s(g,u,d);case"<=":return r(g,u,d);default:throw new TypeError(`Invalid operator: ${c}`)}},hh}var fh,L3;function Wce(){if(L3)return fh;L3=1;const t=Symbol("SemVer ANY");class e{static get ANY(){return t}constructor(d,p){if(p=n(p),d instanceof e){if(d.loose===!!p.loose)return d;d=d.value}d=d.trim().split(/\s+/).join(" "),l("comparator",d,p),this.options=p,this.loose=!!p.loose,this.parse(d),this.semver===t?this.value="":this.value=this.operator+this.semver.version,l("comp",this)}parse(d){const p=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR],A=d.match(p);if(!A)throw new TypeError(`Invalid comparator: ${d}`);this.operator=A[1]!==void 0?A[1]:"",this.operator==="="&&(this.operator=""),A[2]?this.semver=new g(A[2],this.options.loose):this.semver=t}toString(){return this.value}test(d){if(l("Comparator.test",d,this.options.loose),this.semver===t||d===t)return!0;if(typeof d=="string")try{d=new g(d,this.options)}catch{return!1}return r(d,this.operator,this.semver,this.options)}intersects(d,p){if(!(d instanceof e))throw new TypeError("a Comparator is required");return this.operator===""?this.value===""?!0:new c(d.value,p).test(this.value):d.operator===""?d.value===""?!0:new c(this.value,p).test(d.semver):(p=n(p),p.includePrerelease&&(this.value==="<0.0.0-0"||d.value==="<0.0.0-0")||!p.includePrerelease&&(this.value.startsWith("<0.0.0")||d.value.startsWith("<0.0.0"))?!1:!!(this.operator.startsWith(">")&&d.operator.startsWith(">")||this.operator.startsWith("<")&&d.operator.startsWith("<")||this.semver.version===d.semver.version&&this.operator.includes("=")&&d.operator.includes("=")||r(this.semver,"<",d.semver,p)&&this.operator.startsWith(">")&&d.operator.startsWith("<")||r(this.semver,">",d.semver,p)&&this.operator.startsWith("<")&&d.operator.startsWith(">")))}}fh=e;const n=L2(),{safeRe:a,t:s}=Q2(),r=Rce(),l=FA(),g=P2(),c=Jv();return fh}var Zh,z3;function Jv(){if(z3)return Zh;z3=1;const t=/\s+/g;class e{constructor(S,E){if(E=s(E),S instanceof e)return S.loose===!!E.loose&&S.includePrerelease===!!E.includePrerelease?S:new e(S.raw,E);if(S instanceof r)return this.raw=S.value,this.set=[[S]],this.formatted=void 0,this;if(this.options=E,this.loose=!!E.loose,this.includePrerelease=!!E.includePrerelease,this.raw=S.trim().replace(t," "),this.set=this.raw.split("||").map(N=>this.parseRange(N.trim())).filter(N=>N.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${this.raw}`);if(this.set.length>1){const N=this.set[0];if(this.set=this.set.filter(X=>!Z(X[0])),this.set.length===0)this.set=[N];else if(this.set.length>1){for(const X of this.set)if(X.length===1&&V(X[0])){this.set=[X];break}}}this.formatted=void 0}get range(){if(this.formatted===void 0){this.formatted="";for(let S=0;S<this.set.length;S++){S>0&&(this.formatted+="||");const E=this.set[S];for(let N=0;N<E.length;N++)N>0&&(this.formatted+=" "),this.formatted+=E[N].toString().trim()}}return this.formatted}format(){return this.range}toString(){return this.range}parseRange(S){const N=((this.options.includePrerelease&&G)|(this.options.loose&&w))+":"+S,X=a.get(N);if(X)return X;const R=this.options.loose,T=R?c[u.HYPHENRANGELOOSE]:c[u.HYPHENRANGE];S=S.replace(T,pe(this.options.includePrerelease)),l("hyphen replace",S),S=S.replace(c[u.COMPARATORTRIM],d),l("comparator trim",S),S=S.replace(c[u.TILDETRIM],p),l("tilde trim",S),S=S.replace(c[u.CARETTRIM],A),l("caret trim",S);let J=S.split(" ").map(le=>D(le,this.options)).join(" ").split(/\s+/).map(le=>ae(le,this.options));R&&(J=J.filter(le=>(l("loose invalid filter",le,this.options),!!le.match(c[u.COMPARATORLOOSE])))),l("range list",J);const K=new Map,se=J.map(le=>new r(le,this.options));for(const le of se){if(Z(le))return[le];K.set(le.value,le)}K.size>1&&K.has("")&&K.delete("");const de=[...K.values()];return a.set(N,de),de}intersects(S,E){if(!(S instanceof e))throw new TypeError("a Range is required");return this.set.some(N=>W(N,E)&&S.set.some(X=>W(X,E)&&N.every(R=>X.every(T=>R.intersects(T,E)))))}test(S){if(!S)return!1;if(typeof S=="string")try{S=new g(S,this.options)}catch{return!1}for(let E=0;E<this.set.length;E++)if(ue(this.set[E],S,this.options))return!0;return!1}}Zh=e;const n=fce(),a=new n,s=L2(),r=Wce(),l=FA(),g=P2(),{safeRe:c,t:u,comparatorTrimReplace:d,tildeTrimReplace:p,caretTrimReplace:A}=Q2(),{FLAG_INCLUDE_PRERELEASE:G,FLAG_LOOSE:w}=z2(),Z=M=>M.value==="<0.0.0-0",V=M=>M.value==="",W=(M,S)=>{let E=!0;const N=M.slice();let X=N.pop();for(;E&&N.length;)E=N.every(R=>X.intersects(R,S)),X=N.pop();return E},D=(M,S)=>(l("comp",M,S),M=Q(M,S),l("caret",M),M=Y(M,S),l("tildes",M),M=_(M,S),l("xrange",M),M=ce(M,S),l("stars",M),M),x=M=>!M||M.toLowerCase()==="x"||M==="*",Y=(M,S)=>M.trim().split(/\s+/).map(E=>z(E,S)).join(" "),z=(M,S)=>{const E=S.loose?c[u.TILDELOOSE]:c[u.TILDE];return M.replace(E,(N,X,R,T,J)=>{l("tilde",M,N,X,R,T,J);let K;return x(X)?K="":x(R)?K=`>=${X}.0.0 <${+X+1}.0.0-0`:x(T)?K=`>=${X}.${R}.0 <${X}.${+R+1}.0-0`:J?(l("replaceTilde pr",J),K=`>=${X}.${R}.${T}-${J} <${X}.${+R+1}.0-0`):K=`>=${X}.${R}.${T} <${X}.${+R+1}.0-0`,l("tilde return",K),K})},Q=(M,S)=>M.trim().split(/\s+/).map(E=>P(E,S)).join(" "),P=(M,S)=>{l("caret",M,S);const E=S.loose?c[u.CARETLOOSE]:c[u.CARET],N=S.includePrerelease?"-0":"";return M.replace(E,(X,R,T,J,K)=>{l("caret",M,X,R,T,J,K);let se;return x(R)?se="":x(T)?se=`>=${R}.0.0${N} <${+R+1}.0.0-0`:x(J)?R==="0"?se=`>=${R}.${T}.0${N} <${R}.${+T+1}.0-0`:se=`>=${R}.${T}.0${N} <${+R+1}.0.0-0`:K?(l("replaceCaret pr",K),R==="0"?T==="0"?se=`>=${R}.${T}.${J}-${K} <${R}.${T}.${+J+1}-0`:se=`>=${R}.${T}.${J}-${K} <${R}.${+T+1}.0-0`:se=`>=${R}.${T}.${J}-${K} <${+R+1}.0.0-0`):(l("no pr"),R==="0"?T==="0"?se=`>=${R}.${T}.${J}${N} <${R}.${T}.${+J+1}-0`:se=`>=${R}.${T}.${J}${N} <${R}.${+T+1}.0-0`:se=`>=${R}.${T}.${J} <${+R+1}.0.0-0`),l("caret return",se),se})},_=(M,S)=>(l("replaceXRanges",M,S),M.split(/\s+/).map(E=>re(E,S)).join(" ")),re=(M,S)=>{M=M.trim();const E=S.loose?c[u.XRANGELOOSE]:c[u.XRANGE];return M.replace(E,(N,X,R,T,J,K)=>{l("xRange",M,N,X,R,T,J,K);const se=x(R),de=se||x(T),le=de||x(J),Ze=le;return X==="="&&Ze&&(X=""),K=S.includePrerelease?"-0":"",se?X===">"||X==="<"?N="<0.0.0-0":N="*":X&&Ze?(de&&(T=0),J=0,X===">"?(X=">=",de?(R=+R+1,T=0,J=0):(T=+T+1,J=0)):X==="<="&&(X="<",de?R=+R+1:T=+T+1),X==="<"&&(K="-0"),N=`${X+R}.${T}.${J}${K}`):de?N=`>=${R}.0.0${K} <${+R+1}.0.0-0`:le&&(N=`>=${R}.${T}.0${K} <${R}.${+T+1}.0-0`),l("xRange return",N),N})},ce=(M,S)=>(l("replaceStars",M,S),M.trim().replace(c[u.STAR],"")),ae=(M,S)=>(l("replaceGTE0",M,S),M.trim().replace(c[S.includePrerelease?u.GTE0PRE:u.GTE0],"")),pe=M=>(S,E,N,X,R,T,J,K,se,de,le,Ze)=>(x(N)?E="":x(X)?E=`>=${N}.0.0${M?"-0":""}`:x(R)?E=`>=${N}.${X}.0${M?"-0":""}`:T?E=`>=${E}`:E=`>=${E}${M?"-0":""}`,x(se)?K="":x(de)?K=`<${+se+1}.0.0-0`:x(le)?K=`<${se}.${+de+1}.0-0`:Ze?K=`<=${se}.${de}.${le}-${Ze}`:M?K=`<${se}.${de}.${+le+1}-0`:K=`<=${K}`,`${E} ${K}`.trim()),ue=(M,S,E)=>{for(let N=0;N<M.length;N++)if(!M[N].test(S))return!1;if(S.prerelease.length&&!E.includePrerelease){for(let N=0;N<M.length;N++)if(l(M[N].semver),M[N].semver!==r.ANY&&M[N].semver.prerelease.length>0){const X=M[N].semver;if(X.major===S.major&&X.minor===S.minor&&X.patch===S.patch)return!0}return!1}return!0};return Zh}var Gh,Q3;function vce(){if(Q3)return Gh;Q3=1;const t=Jv();return Gh=(n,a,s)=>{try{a=new t(a,s)}catch{return!1}return a.test(n)},Gh}vce();hu(["function enableModules(address[])","function multiSend(bytes memory transactions) public payable","function executeUserOp(address to, uint256 value, bytes data, uint8 operation)","function approve(address _spender, uint256 _value)","function configure((uint256 x, uint256 y, uint176 verifiers) signer)"]);var xv=new Uint8Array(37);xv.fill(254);xv[32]=4;var Ece="canonical",P3="The transaction has been executed, check the ethereumTxHash in the transactions property to view it on the corresponding blockchain explorer",O3="The transaction was not executed on-chain yet. There are pending signatures and you need to confirm it with other Safe owners first. Use the confirm(safeTxHash) method with other signer connected to the client",j3="The message was stored using the Safe Transaction Service, you need to confirm it with other Safe owners in order to make it valid. Use the confirmMessage(messageHash) method with other signer connected to the client",_3="The message was stored using Safe services and now is confirmed and valid",Xce="The UserOperation was stored using the Safe Transaction Service as an SafeOperation, you need to confirm it with other Safe owners in order to make it valid. Use the confirmSafeOperation(safeOperationHash) method with other signer connected to the client",Jce="The SafeOperation was sent to the bundler for being processed. Check the userOperationHash in the safeOperations property to see the SafeOperation in the corresponding explorer",Mp="A new Safe account was deployed, check the ethereumTxHash in the safeAccountDeployment property to view it on the corresponding blockchain explorer",xce={DEPLOYED_AND_EXECUTED:`${Mp}. ${P3}`,DEPLOYED_AND_PENDING_SIGNATURES:`${Mp}. ${O3}`,EXECUTED:P3,PENDING_SIGNATURES:O3,MESSAGE_PENDING_SIGNATURES:j3,MESSAGE_CONFIRMED:_3,DEPLOYED_AND_MESSAGE_PENDING_SIGNATURES:`${Mp}. ${j3}`,DEPLOYED_AND_MESSAGE_CONFIRMED:`${Mp}. ${_3}`,SAFE_OPERATION_EXECUTED:Jce,SAFE_OPERATION_PENDING_SIGNATURES:Xce},$3=async({transaction:t,protocolKit:e})=>{const n=await e.getSafeProvider().getExternalSigner(),a=e.getSafeProvider().getExternalProvider();if(!n)throw new Error("SafeProvider must be initialized with a signer to use this function");const s=await n.sendTransaction({to:t.to,data:t.data,value:BigInt(t.value),account:n.account});return(await C2(a,{hash:s})).transactionHash},q3=async({safeTransaction:t,protocolKit:e,apiKit:n})=>{t=await e.signTransaction(t);const a=await e.getSafeProvider().getSignerAddress()||"0x",s=t.getSignature(a),r=await e.getTransactionHash(t),l={safeAddress:await e.getAddress(),safeTransactionData:t.data,safeTxHash:r,senderAddress:a,senderSignature:HA([s])};return await n.proposeTransaction(l),r},Nce=t=>{try{return R2(t),!0}catch{return!1}},Hce=t=>!(!t.owners||!t.threshold),Tce=async t=>t.transactionResponse?await t.transactionResponse.wait():void 0,So=({status:t,safeAddress:e,deploymentTxHash:n,safeTxHash:a,txHash:s,messageHash:r,userOperationHash:l,safeOperationHash:g})=>({safeAddress:e,description:xce[t],status:t,transactions:s||a?{ethereumTxHash:s,safeTxHash:a}:void 0,messages:r?{messageHash:r}:void 0,safeOperations:l||g?{userOperationHash:l,safeOperationHash:g}:void 0,safeAccountDeployment:n?{ethereumTxHash:n}:void 0}),ll,rI,lk,Yce=(lk=class{constructor(t,e){q(this,ll);this.protocolKit=t,this.apiKit=e}async getAddress(){return this.protocolKit.getAddress()}async isDeployed(){return this.protocolKit.isSafeDeployed()}async isOwner(t){return this.protocolKit.isOwner(t)}async getOwners(){return this.protocolKit.getOwners()}async getThreshold(){return this.protocolKit.getThreshold()}async getNonce(){return this.protocolKit.getNonce()}async getOwnersWhoApprovedTransaction(t){return this.protocolKit.getOwnersWhoApprovedTx(t)}async createAddOwnerTransaction(t){const e=await this.protocolKit.createAddOwnerTx(t);return ge(this,ll,rI).call(this,e)}async createRemoveOwnerTransaction(t){const e=await this.protocolKit.createRemoveOwnerTx(t);return ge(this,ll,rI).call(this,e)}async createSwapOwnerTransaction(t){const e=await this.protocolKit.createSwapOwnerTx(t);return ge(this,ll,rI).call(this,e)}async createChangeThresholdTransaction(t){const e=await this.protocolKit.createChangeThresholdTx(t.threshold);return ge(this,ll,rI).call(this,e)}},ll=new WeakSet,rI=async function(t){return{to:t.data.to,value:t.data.value,data:t.data.data}},lk),xn,Nv,Hv,Tv,Yv,D1,L1,ck,Fce=(ck=class extends Yce{constructor(e,n){super(e,n);q(this,xn)}async send({transactions:e,...n}){const a=await this.protocolKit.isSafeDeployed(),s=await this.protocolKit.getThreshold()>1,r=await this.protocolKit.createTransaction({transactions:e});return a?s?ge(this,xn,Yv).call(this,{safeTransaction:r}):ge(this,xn,Tv).call(this,{safeTransaction:r,...n}):s?ge(this,xn,Hv).call(this,{safeTransaction:r,...n}):ge(this,xn,Nv).call(this,{safeTransaction:r,...n})}async confirm({safeTxHash:e}){const n=await this.protocolKit.getAddress();let a=await this.apiKit.getTransaction(e);if(a.isExecuted)return So({status:"EXECUTED",safeAddress:n,txHash:a.transactionHash||"",safeTxHash:e});if(ge(this,xn,D1).call(this,a)){const r=(await this.protocolKit.signTransaction(a)).encodedSignatures();await this.apiKit.confirmTransaction(e,r),a=await this.apiKit.getTransaction(e)}if(!ge(this,xn,D1).call(this,a)){const s=await this.protocolKit.executeTransaction(a);return await Tce(s),So({status:"EXECUTED",safeAddress:n,txHash:s.hash,safeTxHash:e})}return So({status:"PENDING_SIGNATURES",safeAddress:n,safeTxHash:e})}async getPendingTransactions(){const e=await this.protocolKit.getAddress();return this.apiKit.getPendingTransactions(e)}extend(e){const n=e(this);return n instanceof Promise?n.then(a=>Object.assign(this,a)):Object.assign(this,n)}},xn=new WeakSet,Nv=async function({safeTransaction:e,...n}){e=await this.protocolKit.signTransaction(e);const a=await this.protocolKit.wrapSafeTransactionIntoDeploymentBatch(e,n),s=await $3({transaction:a,protocolKit:this.protocolKit});return await ge(this,xn,L1).call(this),So({safeAddress:await this.protocolKit.getAddress(),status:"DEPLOYED_AND_EXECUTED",deploymentTxHash:s,txHash:s})},Hv=async function({safeTransaction:e,...n}){const a=await this.protocolKit.createSafeDeploymentTransaction(),s=await $3({transaction:{...a,...n},protocolKit:this.protocolKit});await ge(this,xn,L1).call(this),e=await this.protocolKit.signTransaction(e);const r=await q3({safeTransaction:e,protocolKit:this.protocolKit,apiKit:this.apiKit});return So({safeAddress:await this.protocolKit.getAddress(),status:"DEPLOYED_AND_PENDING_SIGNATURES",deploymentTxHash:s,safeTxHash:r})},Tv=async function({safeTransaction:e,...n}){e=await this.protocolKit.signTransaction(e);const{hash:a}=await this.protocolKit.executeTransaction(e,n);return So({safeAddress:await this.protocolKit.getAddress(),status:"EXECUTED",txHash:a})},Yv=async function({safeTransaction:e}){const n=await q3({safeTransaction:e,protocolKit:this.protocolKit,apiKit:this.apiKit});return So({safeAddress:await this.protocolKit.getAddress(),status:"PENDING_SIGNATURES",safeTxHash:n})},D1=function(e){var n;return(((n=e.confirmations)==null?void 0:n.length)||0)<e.confirmationsRequired},L1=async function(){this.protocolKit=await this.protocolKit.connect({provider:this.protocolKit.getSafeProvider().provider,signer:this.protocolKit.getSafeProvider().signer,safeAddress:await this.protocolKit.getAddress()})},ck);async function Kce(t){const e=await Mce(t),n=await Uce(e,t);if(!e||!n)throw new Error("Failed to create a kit instances");return new Fce(e,n)}async function Mce(t){var e;if(t.safeAddress&&Nce(t.safeAddress))return Fp.init({provider:t.provider,signer:t.signer,safeAddress:t.safeAddress});if(t.safeOptions&&Hce(t.safeOptions)){let n;const a={provider:t.provider,signer:t.signer,predictedSafe:{safeAccountConfig:{owners:t.safeOptions.owners,threshold:t.safeOptions.threshold},safeDeploymentConfig:{saltNonce:t.safeOptions.saltNonce,deploymentType:Ece}}};try{n=await Fp.init(a)}catch(r){if(r instanceof Error&&r.message&&r.message.startsWith("Invalid")&&r.message.includes("contract address")&&((e=a.predictedSafe.safeDeploymentConfig)!=null&&e.deploymentType))delete a.predictedSafe.safeDeploymentConfig.deploymentType,n=await Fp.init(a);else throw r}return await n.isSafeDeployed()?Fp.init({provider:t.provider,signer:t.signer,safeAddress:await n.getAddress()}):n}else throw new Error("Invalid configuration: either a valid safeAddress or valid safeOptions must be provided.")}async function Uce(t,e){const n=await t.getChainId();return new hce({chainId:n,txServiceUrl:e.txServiceUrl})}const Up="0xeb614ef61367687704cd4628a68a02f3b10ce68c",Dce="0x0aFd8899bca011Bb95611409f09c8EFbf6b169cF",Dp=100,ek="https://rpc.gnosischain.com",Bh=["function owner() external view returns (address)","function trustBatchWithConditions(address[] memory _coreMembers, uint96 _expiry) external"],Lce=["function isOwner(address owner) public view returns (bool)","function getThreshold() public view returns (uint256)"];function zce(){const[t,e]=Le.useState(""),[n,a]=Le.useState(!1),[s,r]=Le.useState(!1),[l,g]=Le.useState(null),[c,u]=Le.useState(null),[d,p]=Le.useState(null),[A,G]=Le.useState(!1),[w,Z]=Le.useState(null),[V,W]=Le.useState(null),[D,x]=Le.useState("scan-only"),[Y,z]=Le.useState("direct"),[Q,P]=Le.useState(!1),[_,re]=Le.useState(!1),[ce,ae]=Le.useState(Dce),[pe,ue]=Le.useState(!1),[M,S]=Le.useState(!1),[E,N]=Le.useState(!1),[X,R]=Le.useState(!1),[T,J]=Le.useState(1),[K,se]=Le.useState(null),[de,le]=Le.useState(null);Le.useEffect(()=>{window.ethereum&&le(window.ethereum)},[]),Le.useEffect(()=>{X||(()=>{const Fe=new nS(ek);u(Fe),console.log("Using fallback Gnosis Chain provider")})()},[X]),Le.useEffect(()=>{(async()=>{if(A&&X&&de&&Y==="safe")try{se(null);const Fe=await(d==null?void 0:d.getAddress());if(!Fe)throw new Error("Could not get connected wallet address");g("Initializing Safe client..."),console.log("Initializing Safe client with:",{provider:de,signer:Fe,safeAddress:ce});const pt=await Kce({provider:de,signer:Fe,safeAddress:ce});se(pt),g(null),console.log("Safe client initialized successfully")}catch(Fe){console.error("Failed to initialize Safe client:",Fe),se(null),g(`Failed to initialize Safe client: ${Fe.message}`)}else se(null)})()},[A,X,d,ce,Y,de]),Le.useEffect(()=>{c&&Ze()},[A,Y,ce,c]);const Ze=async()=>{if(c)try{const Qe=new Ur(Up,Bh,c);console.log("Attempting to call owner() function on contract:",Up);try{const Fe=await Qe.owner();if(console.log("Group owner address:",Fe),d){const pt=await d.getAddress();ue(Fe.toLowerCase()===pt.toLowerCase())}if(N(Fe.toLowerCase()===ce.toLowerCase()),Y==="safe"&&d)try{const pt=new Ur(ce,Lce,c),Rt=await d.getAddress(),qt=await pt.isOwner(Rt);S(qt);const en=await pt.getThreshold();J(Number(en)),console.log("Safe threshold:",en.toString())}catch(pt){console.error("Error checking Safe ownership:",pt),S(!1)}}catch(Fe){console.error("Error calling owner() function:",Fe),ue(Y==="direct"),N(Y==="safe"),S(Y==="safe")}}catch(Qe){console.error("Error in checkOwnershipStatuses:",Qe),ue(Y==="direct"),N(Y==="safe"),S(Y==="safe")}};Le.useEffect(()=>{(async()=>{if(window.ethereum)try{const Fe=await window.ethereum.request({method:"eth_chainId"}),pt=parseInt(Fe,16);R(pt===Dp);let Rt;if(pt===Dp?Rt=new aS(window.ethereum):(Rt=new nS(ek),console.warn("Wallet is connected to the wrong network. Using direct Gnosis Chain provider for read operations.")),u(Rt),(await window.ethereum.request({method:"eth_accounts"})).length>0){if(pt===Dp){const en=await Rt.getSigner();p(en)}G(!0)}window.ethereum.on("chainChanged",en=>{window.location.reload()})}catch(Fe){console.error("Failed to check wallet connection:",Fe)}})()},[]);const Ne=async()=>{if(window.ethereum)try{await window.ethereum.request({method:"wallet_switchEthereumChain",params:[{chainId:"0x64"}]})}catch(Qe){if(Qe.code===4902)try{await window.ethereum.request({method:"wallet_addEthereumChain",params:[{chainId:"0x64",chainName:"Gnosis Chain",nativeCurrency:{name:"xDAI",symbol:"xDAI",decimals:18},rpcUrls:["https://rpc.gnosischain.com"],blockExplorerUrls:["https://gnosisscan.io"]}]})}catch(Fe){console.error("Failed to add Gnosis Chain to wallet:",Fe),g("Failed to add Gnosis Chain to your wallet. Please add it manually.")}else console.error("Failed to switch to Gnosis Chain:",Qe),g("Failed to switch to Gnosis Chain. Please switch manually.")}},ze=async()=>{if(g(null),!window.ethereum){g("No Ethereum wallet detected. Please install MetaMask or another compatible wallet.");return}try{a(!0),await window.ethereum.request({method:"eth_requestAccounts"});const Qe=await window.ethereum.request({method:"eth_chainId"});if(parseInt(Qe,16)!==Dp){g("Please switch to Gnosis Chain to use this app."),await Ne();return}const pt=new aS(window.ethereum);u(pt);const Rt=await pt.getSigner();p(Rt),G(!0),R(!0)}catch(Qe){console.error("Error connecting wallet:",Qe),g(`Failed to connect wallet: ${Qe.message}`)}finally{a(!1)}},Me=Qe=>{re(!0);try{const pt=`https://tally.so/r/wv1k10?address=${encodeURIComponent(Qe)}`;return window.open(pt,"_blank"),pt}catch(Fe){return g(`Error creating Tally URL: ${Fe.message}`),null}finally{re(!1)}},ot=async Qe=>{if(g(null),Z(null),!d){g("Wallet not connected. Please connect your wallet first.");return}if(!X){g("Please switch to Gnosis Chain to perform transactions."),await Ne();return}try{P(!0);const Fe=new Ur(Up,Bh,d),pt=[Qe],qt=await Fe.trustBatchWithConditions(pt,9999999999);await qt.wait(),Z(qt.hash)}catch(Fe){console.error("Error adding to group:",Fe),g(`Failed to add to group: ${Fe.message}`)}finally{P(!1)}},_t=async Qe=>{var Fe,pt;if(g(null),Z(null),!d){g("Wallet not connected. Please connect your wallet first.");return}if(!X){g("Please switch to Gnosis Chain to perform transactions."),await Ne();return}if(!K){g("Safe client not initialized. Please try again.");return}try{P(!0),g("Creating Safe transaction...");const Rt=new um(Bh),qt=[Qe],Oi=Rt.encodeFunctionData("trustBatchWithConditions",[qt,9999999999]),ji=[{to:Up,data:Oi,value:"0"}];g("Sending Safe transaction..."),console.log("Sending transaction:",ji);const an=await K.send({transactions:ji});console.log("Transaction result:",an),(Fe=an.transaction)!=null&&Fe.transactionHash?(Z(an.transaction.transactionHash),g(null)):(pt=an.transaction)!=null&&pt.safeTxHash?(Z(null),g(`Transaction created with Safe TX hash: ${an.transaction.safeTxHash}. This Safe requires ${T} signatures. Please use the Safe web app to execute it once all signatures are collected.`),window.open(`https://app.safe.global/transactions/queue?safe=gno:${ce}`,"_blank")):g("Transaction created but no transaction hash returned. Check the Safe transaction service for status.")}catch(Rt){if(console.error("Error creating/executing Safe transaction:",Rt),typeof Rt=="object"&&Rt!==null){const qt=Rt;qt.reason?g(`Transaction error: ${qt.reason}`):qt.message?g(`Failed to execute Safe transaction: ${qt.message}`):g(`Failed to execute Safe transaction: ${JSON.stringify(Rt)}`)}else g(`Failed to execute Safe transaction: ${String(Rt)}`)}finally{P(!1)}},Nt=async Qe=>{Y==="direct"?await ot(Qe):await _t(Qe)},Ct=Qe=>{W(Qe),e(Qe),r(!1),g(null),D==="auto-tally"?Me(Qe):D==="auto-group"&&A&&X&&Nt(Qe)},$t=()=>{r(!1)},wn=()=>{g(null),Z(null),W(null),r(!0)},Ut=Qe=>{const Fe=Qe.target.value;e(Fe),/^0x[a-fA-F0-9]{40}$/i.test(Fe)?W(Fe):Fe===""&&W(null)},ns=Qe=>{const Fe=Qe.target.value;ae(Fe),se(null)},Wl=()=>A?X?Y==="direct"?pe?" Your wallet is the group owner":" Your wallet may not be the group owner":K?E?M?` Safe ownership confirmed (Threshold: ${T})`:" You may not be an owner of the Safe":" The Safe may not be the group owner":" Safe client not initialized":"Please switch to Gnosis Chain for full functionality":"Connect wallet to check ownership status",ao=()=>!A||!X?!1:Y==="safe"?!!K&&M&&E:!0;return Je.jsxs("div",{className:"App",children:[Je.jsx("h1",{children:"Metri Wallet Connector"}),A&&!X&&Je.jsxs("div",{className:"network-warning mb-6",children:[Je.jsx("p",{children:" Your wallet is not connected to Gnosis Chain"}),Je.jsx("button",{onClick:Ne,className:"switch-network-button mt-2",children:"Switch to Gnosis Chain"})]}),Je.jsxs("div",{className:"owner-mode-toggle mb-6",children:[Je.jsx("h2",{className:"text-xl mb-4",children:"Owner Type"}),Je.jsxs("div",{className:"flex justify-center gap-4",children:[Je.jsx("button",{className:`mode-button ${Y==="direct"?"active":""}`,onClick:()=>z("direct"),children:"Direct Owner"}),Je.jsx("button",{className:`mode-button ${Y==="safe"?"active":""}`,onClick:()=>z("safe"),children:"Safe Owner"})]})]}),Y==="safe"&&Je.jsxs("div",{className:"safe-address-container mb-6",children:[Je.jsx("input",{type:"text",placeholder:"Safe Address (0x...)",value:ce,onChange:ns,className:"wallet-input"}),A&&X&&Je.jsx("p",{className:"text-sm text-center mt-2",children:K?" Safe client initialized":" Safe client not initialized"})]}),A&&Je.jsx("div",{className:`ownership-status mb-6 ${X?ao()?"success":"error":"warning"}`,children:Wl()}),Je.jsxs("div",{className:"mode-selection mb-6",children:[Je.jsx("h2",{className:"text-xl mb-4",children:"Action Mode"}),Je.jsxs("div",{className:"flex justify-center gap-4",children:[Je.jsx("button",{className:`mode-button ${D==="scan-only"?"active":""}`,onClick:()=>x("scan-only"),children:"Scan Only"}),Je.jsx("button",{className:`mode-button ${D==="auto-tally"?"active":""}`,onClick:()=>x("auto-tally"),children:"Auto-Tally"}),Je.jsx("button",{className:`mode-button ${D==="auto-group"?"active":""}`,onClick:()=>x("auto-group"),children:"Auto-Group"})]})]}),Je.jsx("div",{className:"wallet-connection mb-6",children:A?Je.jsxs("div",{className:"text-center",children:[Je.jsx("p",{className:"text-green-600 font-bold",children:" Wallet Connected"}),Je.jsx("p",{className:"text-sm text-gray-600",children:X?"Connected to Gnosis Chain":"Not connected to Gnosis Chain"})]}):Je.jsx("button",{onClick:ze,disabled:n,className:"connect-wallet-button",children:n?"Connecting...":"Connect Wallet"})}),s?Je.jsxs(Je.Fragment,{children:[Je.jsx(iY,{onScan:Ct,onClose:$t,debug:!1}),Je.jsx("p",{className:"scanner-instructions",children:"Point your camera at a Metri wallet QR code to scan the wallet address"})]}):Je.jsxs(Je.Fragment,{children:[Je.jsx("div",{className:"mb-8",children:Je.jsx("button",{onClick:wn,className:"scan-button",children:"Scan QR Code"})}),Je.jsx("div",{className:"mt-6 pb-6 border-b border-gray-300",children:Je.jsx("input",{type:"text",placeholder:"Enter Wallet Address (0x...)",value:t,onChange:Ut,className:"wallet-input"})})]}),l&&Je.jsx("p",{className:"error-message",children:l}),V&&Je.jsxs("div",{className:"address-display mt-6",children:[Je.jsx("h3",{children:"Wallet Address"}),Je.jsx("p",{className:"break-all",children:V}),Je.jsxs("div",{className:"action-buttons-container mt-4",children:[Je.jsx("button",{onClick:()=>Me(V),className:"action-button tally-button",disabled:_,children:_?"Opening...":"Open Tally Form"}),Je.jsx("button",{onClick:()=>Nt(V),disabled:!A||Q||!X||Y==="safe"&&!K,className:"action-button group-button",children:Q?"Processing...":Y==="direct"?"Add to Group":"Add via Safe"})]})]}),w&&Je.jsxs("div",{className:"success-box mt-4",children:[Je.jsx("h3",{children:" Address Added to Group"}),Je.jsx("p",{children:"Transaction Hash:"}),Je.jsx("p",{className:"break-all text-xs",children:w}),Je.jsx("a",{href:`https://gnosisscan.io/tx/${w}`,target:"_blank",rel:"noopener noreferrer",className:"view-tx-button mt-4",children:"View Transaction"})]})]})}LX.createRoot(document.getElementById("root")).render(Je.jsx(Le.StrictMode,{children:Je.jsx(zce,{})}));export{jce as B,lI as H,Pce as a,Ie as b,vf as c,H4 as d,Ige as e,Ru as f,NX as g,On as h,fA as i,ts as j,$a as k,QR as l,y2 as p,on as s};
